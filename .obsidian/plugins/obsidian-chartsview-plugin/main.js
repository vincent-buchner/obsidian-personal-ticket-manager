/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var w7t=Object.create;var xO=Object.defineProperty,_7t=Object.defineProperties,S7t=Object.getOwnPropertyDescriptor,C7t=Object.getOwnPropertyDescriptors,M7t=Object.getOwnPropertyNames,Mct=Object.getOwnPropertySymbols,A7t=Object.getPrototypeOf,Act=Object.prototype.hasOwnProperty,E7t=Object.prototype.propertyIsEnumerable;var Ect=(r,e,t)=>e in r?xO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Pf=(r,e)=>{for(var t in e||(e={}))Act.call(e,t)&&Ect(r,t,e[t]);if(Mct)for(var t of Mct(e))E7t.call(e,t)&&Ect(r,t,e[t]);return r},Tct=(r,e)=>_7t(r,C7t(e)),Ict=r=>xO(r,"__esModule",{value:!0});var $=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ai=(r,e)=>{Ict(r);for(var t in e)xO(r,t,{get:e[t],enumerable:!0})},T7t=(r,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of M7t(e))!Act.call(r,i)&&i!=="default"&&xO(r,i,{get:()=>e[i],enumerable:!(t=S7t(e,i))||t.enumerable});return r},et=r=>T7t(Ict(xO(r!=null?w7t(A7t(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var wgt=$((L0r,NR)=>{var egt,rgt,igt,ngt,agt,ogt,sgt,lgt,ugt,FR,rU,fgt,cgt,QA,hgt,dgt,vgt,pgt,ggt,mgt,ygt,xgt,bgt;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(t(e,t(i)))}):typeof NR=="object"&&typeof NR.exports=="object"?r(t(e,t(NR.exports))):r(t(e));function t(i,n){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(a,o){return i[a]=n?n(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])};egt=function(t,i){e(t,i);function n(){this.constructor=t}t.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)},rgt=Object.assign||function(t){for(var i,n=1,a=arguments.length;n<a;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},igt=function(t,i){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&i.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n},ngt=function(t,i,n,a){var o=arguments.length,s=o<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,n):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,a);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(s=(o<3?l(s):o>3?l(i,n,s):l(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},agt=function(t,i){return function(n,a){i(n,a,t)}},ogt=function(t,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,i)},sgt=function(t,i,n,a){function o(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function u(h){try{c(a.next(h))}catch(d){l(d)}}function f(h){try{c(a.throw(h))}catch(d){l(d)}}function c(h){h.done?s(h.value):o(h.value).then(u,f)}c((a=a.apply(t,i||[])).next())})},lgt=function(t,i){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,o,s,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(c){return function(h){return f([c,h])}}function f(c){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=i.call(t,n)}catch(h){c=[6,h],o=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},bgt=function(t,i,n,a){a===void 0&&(a=n),t[a]=i[n]},ugt=function(t,i){for(var n in t)n!=="default"&&!i.hasOwnProperty(n)&&(i[n]=t[n])},FR=function(t){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&t[i],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},rU=function(t,i){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var a=n.call(t),o,s=[],l;try{for(;(i===void 0||i-- >0)&&!(o=a.next()).done;)s.push(o.value)}catch(u){l={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(l)throw l.error}}return s},fgt=function(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(rU(arguments[i]));return t},cgt=function(){for(var t=0,i=0,n=arguments.length;i<n;i++)t+=arguments[i].length;for(var a=Array(t),o=0,i=0;i<n;i++)for(var s=arguments[i],l=0,u=s.length;l<u;l++,o++)a[o]=s[l];return a},QA=function(t){return this instanceof QA?(this.v=t,this):new QA(t)},hgt=function(t,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,i||[]),o,s=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(v){a[v]&&(o[v]=function(p){return new Promise(function(g,m){s.push([v,p,g,m])>1||u(v,p)})})}function u(v,p){try{f(a[v](p))}catch(g){d(s[0][3],g)}}function f(v){v.value instanceof QA?Promise.resolve(v.value.v).then(c,h):d(s[0][2],v)}function c(v){u("next",v)}function h(v){u("throw",v)}function d(v,p){v(p),s.shift(),s.length&&u(s[0][0],s[0][1])}},dgt=function(t){var i,n;return i={},a("next"),a("throw",function(o){throw o}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(o,s){i[o]=t[o]?function(l){return(n=!n)?{value:QA(t[o](l)),done:o==="return"}:s?s(l):l}:s}},vgt=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],n;return i?i.call(t):(t=typeof FR=="function"?FR(t):t[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=t[s]&&function(l){return new Promise(function(u,f){l=t[s](l),o(u,f,l.done,l.value)})}}function o(s,l,u,f){Promise.resolve(f).then(function(c){s({value:c,done:u})},l)}},pgt=function(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t},ggt=function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i},mgt=function(t){return t&&t.__esModule?t:{default:t}},ygt=function(t,i){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)},xgt=function(t,i,n){if(!i.has(t))throw new TypeError("attempted to set private field on non-instance");return i.set(t,n),n},r("__extends",egt),r("__assign",rgt),r("__rest",igt),r("__decorate",ngt),r("__param",agt),r("__metadata",ogt),r("__awaiter",sgt),r("__generator",lgt),r("__exportStar",ugt),r("__createBinding",bgt),r("__values",FR),r("__read",rU),r("__spread",fgt),r("__spreadArrays",cgt),r("__await",QA),r("__asyncGenerator",hgt),r("__asyncDelegator",dgt),r("__asyncValues",vgt),r("__makeTemplateObject",pgt),r("__importStar",ggt),r("__importDefault",mgt),r("__classPrivateFieldGet",ygt),r("__classPrivateFieldSet",xgt)})});var Hf=$(XX=>{"use strict";Object.defineProperty(XX,"__esModule",{value:!0});var jue=function(r){return r!==null&&typeof r!="function"&&isFinite(r.length)};XX.default=jue});var A5=$(ZX=>{"use strict";Object.defineProperty(ZX,"__esModule",{value:!0});var Yue=Hf(),Wue=function(r,e){return Yue.default(r)?r.indexOf(e)>-1:!1};ZX.default=Wue});var QX=$(KX=>{"use strict";Object.defineProperty(KX,"__esModule",{value:!0});var Vue=Hf(),que=function(r,e){if(!Vue.default(r))return r;for(var t=[],i=0;i<r.length;i++){var n=r[i];e(n,i)&&t.push(n)}return t};KX.default=que});var Zbt=$($X=>{"use strict";Object.defineProperty($X,"__esModule",{value:!0});var Hue=QX(),Uue=A5(),Xue=function(r,e){return e===void 0&&(e=[]),Hue.default(r,function(t){return!Uue.default(e,t)})};$X.default=Xue});var nd=$(JX=>{"use strict";Object.defineProperty(JX,"__esModule",{value:!0});var Zue={}.toString,Kue=function(r,e){return Zue.call(r)==="[object "+e+"]"};JX.default=Kue});var Uf=$(t9=>{"use strict";Object.defineProperty(t9,"__esModule",{value:!0});var Que=nd();t9.default=function(r){return Que.default(r,"Function")}});var c0=$(e9=>{"use strict";Object.defineProperty(e9,"__esModule",{value:!0});var $ue=function(r){return r==null};e9.default=$ue});var Jo=$(r9=>{"use strict";Object.defineProperty(r9,"__esModule",{value:!0});var Jue=nd();r9.default=function(r){return Array.isArray?Array.isArray(r):Jue.default(r,"Array")}});var tP=$(i9=>{"use strict";Object.defineProperty(i9,"__esModule",{value:!0});i9.default=function(r){var e=typeof r;return r!==null&&e==="object"||e==="function"}});var QS=$(n9=>{"use strict";Object.defineProperty(n9,"__esModule",{value:!0});var tfe=Jo(),efe=tP();function rfe(r,e){if(!!r){var t;if(tfe.default(r))for(var i=0,n=r.length;i<n&&(t=e(r[i],i),t!==!1);i++);else if(efe.default(r)){for(var a in r)if(r.hasOwnProperty(a)&&(t=e(r[a],a),t===!1))break}}}n9.default=rfe});var o9=$(a9=>{"use strict";Object.defineProperty(a9,"__esModule",{value:!0});var ife=QS(),nfe=Uf(),afe=Object.keys?function(r){return Object.keys(r)}:function(r){var e=[];return ife.default(r,function(t,i){nfe.default(r)&&i==="prototype"||e.push(i)}),e};a9.default=afe});var l9=$(s9=>{"use strict";Object.defineProperty(s9,"__esModule",{value:!0});var ofe=c0(),sfe=o9();function lfe(r,e){var t=sfe.default(e),i=t.length;if(ofe.default(r))return!i;for(var n=0;n<i;n+=1){var a=t[n];if(e[a]!==r[a]||!(a in r))return!1}return!0}s9.default=lfe});var E5=$(u9=>{"use strict";Object.defineProperty(u9,"__esModule",{value:!0});var ufe=function(r){return typeof r=="object"&&r!==null};u9.default=ufe});var YE=$(f9=>{"use strict";Object.defineProperty(f9,"__esModule",{value:!0});var ffe=E5(),cfe=nd(),hfe=function(r){if(!ffe.default(r)||!cfe.default(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e};f9.default=hfe});var Kbt=$(c9=>{"use strict";Object.defineProperty(c9,"__esModule",{value:!0});var dfe=Uf(),vfe=l9(),pfe=Jo(),gfe=YE();function mfe(r,e){if(!pfe.default(r))return null;var t;if(dfe.default(e)&&(t=e),gfe.default(e)&&(t=function(n){return vfe.default(n,e)}),t){for(var i=0;i<r.length;i+=1)if(t(r[i]))return r[i]}return null}c9.default=mfe});var Qbt=$(h9=>{"use strict";Object.defineProperty(h9,"__esModule",{value:!0});function yfe(r,e,t){t===void 0&&(t=0);for(var i=t;i<r.length;i++)if(e(r[i],i))return i;return-1}h9.default=yfe});var $bt=$(d9=>{"use strict";Object.defineProperty(d9,"__esModule",{value:!0});var xfe=c0(),bfe=Jo(),wfe=function(r,e){for(var t=null,i=0;i<r.length;i++){var n=r[i],a=n[e];if(!xfe.default(a)){bfe.default(a)?t=a[0]:t=a;break}}return t};d9.default=wfe});var Jbt=$(v9=>{"use strict";Object.defineProperty(v9,"__esModule",{value:!0});var _fe=Jo(),Sfe=function(r){if(!_fe.default(r))return[];for(var e=[],t=0;t<r.length;t++)e=e.concat(r[t]);return e};v9.default=Sfe});var ewt=$(p9=>{"use strict";Object.defineProperty(p9,"__esModule",{value:!0});var Cfe=Jo(),twt=function(r,e){if(e===void 0&&(e=[]),!Cfe.default(r))e.push(r);else for(var t=0;t<r.length;t+=1)twt(r[t],e);return e};p9.default=twt});var m9=$(g9=>{"use strict";Object.defineProperty(g9,"__esModule",{value:!0});var Mfe=Jo();g9.default=function(r){if(!!Mfe.default(r))return r.reduce(function(e,t){return Math.max(e,t)},r[0])}});var x9=$(y9=>{"use strict";Object.defineProperty(y9,"__esModule",{value:!0});var Afe=Jo();y9.default=function(r){if(!!Afe.default(r))return r.reduce(function(e,t){return Math.min(e,t)},r[0])}});var rwt=$(b9=>{"use strict";Object.defineProperty(b9,"__esModule",{value:!0});var Efe=Jo(),Tfe=m9(),Ife=x9(),Lfe=function(r){var e=r.filter(function(o){return!isNaN(o)});if(!e.length)return{min:0,max:0};if(Efe.default(r[0])){for(var t=[],i=0;i<r.length;i++)t=t.concat(r[i]);e=t}var n=Tfe.default(e),a=Ife.default(e);return{min:a,max:n}};b9.default=Lfe});var nwt=$(w9=>{"use strict";Object.defineProperty(w9,"__esModule",{value:!0});var iwt=Array.prototype,Ofe=iwt.splice,kfe=iwt.indexOf,Pfe=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i++)for(var n=e[i],a=-1;(a=kfe.call(r,n))>-1;)Ofe.call(r,a,1);return r};w9.default=Pfe});var S9=$(_9=>{"use strict";Object.defineProperty(_9,"__esModule",{value:!0});var Dfe=Hf(),Ffe=Array.prototype.splice,Nfe=function(e,t){if(!Dfe.default(e))return[];for(var i=e?t.length:0,n=i-1;i--;){var a=void 0,o=t[i];(i===n||o!==a)&&(a=o,Ffe.call(e,o,1))}return e};_9.default=Nfe});var M9=$(C9=>{"use strict";Object.defineProperty(C9,"__esModule",{value:!0});var Bfe=QS(),Rfe=Jo(),Gfe=YE(),zfe=function(r,e,t){if(!Rfe.default(r)&&!Gfe.default(r))return r;var i=t;return Bfe.default(r,function(n,a){i=e(i,n,a)}),i};C9.default=zfe});var awt=$(A9=>{"use strict";Object.defineProperty(A9,"__esModule",{value:!0});var jfe=Hf(),Yfe=S9(),Wfe=function(r,e){var t=[];if(!jfe.default(r))return t;for(var i=-1,n=[],a=r.length;++i<a;){var o=r[i];e(o,i,r)&&(t.push(o),n.push(i))}return Yfe.default(r,n),t};A9.default=Wfe});var cg=$(E9=>{"use strict";Object.defineProperty(E9,"__esModule",{value:!0});var Vfe=nd();E9.default=function(r){return Vfe.default(r,"String")}});var owt=$(T9=>{"use strict";Object.defineProperty(T9,"__esModule",{value:!0});var qfe=Jo(),Hfe=cg(),Ufe=Uf();function Xfe(r,e){var t;if(Ufe.default(e))t=function(n,a){return e(n)-e(a)};else{var i=[];Hfe.default(e)?i.push(e):qfe.default(e)&&(i=e),t=function(n,a){for(var o=0;o<i.length;o+=1){var s=i[o];if(n[s]>a[s])return 1;if(n[s]<a[s])return-1}return 0}}return r.sort(t),r}T9.default=Xfe});var L9=$(I9=>{"use strict";Object.defineProperty(I9,"__esModule",{value:!0});function Zfe(r,e){e===void 0&&(e=new Map);var t=[];if(Array.isArray(r))for(var i=0,n=r.length;i<n;i++){var a=r[i];e.has(a)||(t.push(a),e.set(a,!0))}return t}I9.default=Zfe});var swt=$(O9=>{"use strict";Object.defineProperty(O9,"__esModule",{value:!0});var Kfe=L9(),Qfe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return Kfe.default([].concat.apply([],r))};O9.default=Qfe});var lwt=$(k9=>{"use strict";Object.defineProperty(k9,"__esModule",{value:!0});var $fe=Jo(),Jfe=c0();k9.default=function(r,e){for(var t=[],i={},n=0;n<r.length;n++){var a=r[n],o=a[e];if(!Jfe.default(o)){$fe.default(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];i[l]||(t.push(l),i[l]=!0)}}}return t}});var uwt=$(P9=>{"use strict";Object.defineProperty(P9,"__esModule",{value:!0});var tce=Hf();function ece(r){if(tce.default(r))return r[0]}P9.default=ece});var fwt=$(D9=>{"use strict";Object.defineProperty(D9,"__esModule",{value:!0});var rce=Hf();function ice(r){if(rce.default(r)){var e=r;return e[e.length-1]}}D9.default=ice});var cwt=$(F9=>{"use strict";Object.defineProperty(F9,"__esModule",{value:!0});var nce=Jo(),ace=cg();function oce(r,e){return nce.default(r)||ace.default(r)?r[0]===e:!1}F9.default=oce});var hwt=$(N9=>{"use strict";Object.defineProperty(N9,"__esModule",{value:!0});var sce=Jo(),lce=cg();function uce(r,e){return sce.default(r)||lce.default(r)?r[r.length-1]===e:!1}N9.default=uce});var dwt=$(B9=>{"use strict";Object.defineProperty(B9,"__esModule",{value:!0});var fce=function(r,e){for(var t=0;t<r.length;t++)if(!e(r[t],t))return!1;return!0};B9.default=fce});var vwt=$(R9=>{"use strict";Object.defineProperty(R9,"__esModule",{value:!0});var cce=function(r,e){for(var t=0;t<r.length;t++)if(e(r[t],t))return!0;return!1};R9.default=cce});var z9=$(G9=>{"use strict";Object.defineProperty(G9,"__esModule",{value:!0});var hce=Jo(),dce=Uf(),vce=Object.prototype.hasOwnProperty;function pce(r,e){if(!e||!hce.default(r))return{};for(var t={},i=dce.default(e)?e:function(s){return s[e]},n,a=0;a<r.length;a++){var o=r[a];n=i(o),vce.call(t,n)?t[n].push(o):t[n]=[o]}return t}G9.default=pce});var Y9=$(j9=>{"use strict";Object.defineProperty(j9,"__esModule",{value:!0});var gce=Jo(),mce=Uf(),yce=z9();function xce(r,e){if(!e)return{0:r};if(!mce.default(e)){var t=gce.default(e)?e:e.replace(/\s+/g,"").split("*");e=function(i){for(var n="_",a=0,o=t.length;a<o;a++)n+=i[t[a]]&&i[t[a]].toString();return n}}return yce.default(r,e)}j9.default=xce});var pwt=$(W9=>{"use strict";Object.defineProperty(W9,"__esModule",{value:!0});var bce=Y9();W9.default=function(r,e){if(!e)return[r];var t=bce.default(r,e),i=[];for(var n in t)i.push(t[n]);return i}});var gwt=$(V9=>{"use strict";Object.defineProperty(V9,"__esModule",{value:!0});function wce(r,e){return r["_wrap_"+e]}V9.default=wce});var mwt=$(q9=>{"use strict";Object.defineProperty(q9,"__esModule",{value:!0});function _ce(r,e){if(r["_wrap_"+e])return r["_wrap_"+e];var t=function(i){r[e](i)};return r["_wrap_"+e]=t,t}q9.default=_ce});var xwt=$(H9=>{"use strict";Object.defineProperty(H9,"__esModule",{value:!0});var ywt={};function Sce(r){var e=ywt[r];if(!e){for(var t=r.toString(16),i=t.length;i<6;i++)t="0"+t;e="#"+t,ywt[r]=e}return e}H9.default=Sce});var bwt=$(U9=>{"use strict";Object.defineProperty(U9,"__esModule",{value:!0});var Cce=Jo();function Mce(r){var e=0,t=0,i=0,n=0;return Cce.default(r)?r.length===1?e=t=i=n=r[0]:r.length===2?(e=i=r[0],t=n=r[1]):r.length===3?(e=r[0],t=n=r[1],i=r[2]):(e=r[0],t=r[1],i=r[2],n=r[3]):e=t=i=n=r,{r1:e,r2:t,r3:i,r4:n}}U9.default=Mce});var wwt=$(X9=>{"use strict";Object.defineProperty(X9,"__esModule",{value:!0});var Ace=function(r,e,t){return r<e?e:r>t?t:r};X9.default=Ace});var _wt=$(Z9=>{"use strict";Object.defineProperty(Z9,"__esModule",{value:!0});var Ece=function(r,e){var t=e.toString(),i=t.indexOf(".");if(i===-1)return Math.round(r);var n=t.substr(i+1).length;return n>20&&(n=20),parseFloat(r.toFixed(n))};Z9.default=Ece});var hg=$(K9=>{"use strict";Object.defineProperty(K9,"__esModule",{value:!0});var Tce=nd(),Ice=function(r){return Tce.default(r,"Number")};K9.default=Ice});var Swt=$(Q9=>{"use strict";Object.defineProperty(Q9,"__esModule",{value:!0});var Lce=hg(),Oce=function(r){return Lce.default(r)&&r%1!=0};Q9.default=Oce});var Cwt=$($9=>{"use strict";Object.defineProperty($9,"__esModule",{value:!0});var kce=hg(),Pce=function(r){return kce.default(r)&&r%2==0};$9.default=Pce});var Mwt=$(J9=>{"use strict";Object.defineProperty(J9,"__esModule",{value:!0});var Dce=hg(),Fce=Number.isInteger?Number.isInteger:function(r){return Dce.default(r)&&r%1==0};J9.default=Fce});var Awt=$(t7=>{"use strict";Object.defineProperty(t7,"__esModule",{value:!0});var Nce=hg(),Bce=function(r){return Nce.default(r)&&r<0};t7.default=Bce});var Ewt=$(e7=>{"use strict";Object.defineProperty(e7,"__esModule",{value:!0});var Rce=1e-5;function Gce(r,e,t){return t===void 0&&(t=Rce),Math.abs(r-e)<t}e7.default=Gce});var Twt=$(r7=>{"use strict";Object.defineProperty(r7,"__esModule",{value:!0});var zce=hg(),jce=function(r){return zce.default(r)&&r%2!=0};r7.default=jce});var Iwt=$(i7=>{"use strict";Object.defineProperty(i7,"__esModule",{value:!0});var Yce=hg(),Wce=function(r){return Yce.default(r)&&r>0};i7.default=Wce});var Lwt=$(n7=>{"use strict";Object.defineProperty(n7,"__esModule",{value:!0});var Vce=Jo(),qce=Uf();n7.default=function(r,e){if(!!Vce.default(r)){for(var t,i=-1/0,n=0;n<r.length;n++){var a=r[n],o=qce.default(e)?e(a):a[e];o>i&&(t=a,i=o)}return t}}});var Owt=$(a7=>{"use strict";Object.defineProperty(a7,"__esModule",{value:!0});var Hce=Jo(),Uce=Uf();a7.default=function(r,e){if(!!Hce.default(r)){for(var t,i=1/0,n=0;n<r.length;n++){var a=r[n],o=Uce.default(e)?e(a):a[e];o<i&&(t=a,i=o)}return t}}});var kwt=$(o7=>{"use strict";Object.defineProperty(o7,"__esModule",{value:!0});var Xce=function(r,e){return(r%e+e)%e};o7.default=Xce});var Pwt=$(s7=>{"use strict";Object.defineProperty(s7,"__esModule",{value:!0});var Zce=180/Math.PI,Kce=function(r){return Zce*r};s7.default=Kce});var Dwt=$(l7=>{"use strict";Object.defineProperty(l7,"__esModule",{value:!0});l7.default=parseInt});var Fwt=$(u7=>{"use strict";Object.defineProperty(u7,"__esModule",{value:!0});var Qce=Math.PI/180,$ce=function(r){return Qce*r};u7.default=$ce});var Nwt=$(f7=>{"use strict";Object.defineProperty(f7,"__esModule",{value:!0});var Jce=QS();f7.default=Jce.default});var h7=$(c7=>{"use strict";Object.defineProperty(c7,"__esModule",{value:!0});c7.default=function(r,e){return r.hasOwnProperty(e)}});var Bwt=$(d7=>{"use strict";Object.defineProperty(d7,"__esModule",{value:!0});var the=h7();d7.default=the.default});var T5=$(v7=>{"use strict";Object.defineProperty(v7,"__esModule",{value:!0});var ehe=QS(),rhe=Uf(),ihe=Object.values?function(r){return Object.values(r)}:function(r){var e=[];return ehe.default(r,function(t,i){rhe.default(r)&&i==="prototype"||e.push(t)}),e};v7.default=ihe});var Rwt=$(p7=>{"use strict";Object.defineProperty(p7,"__esModule",{value:!0});var nhe=A5(),ahe=T5();p7.default=function(r,e){return nhe.default(ahe.default(r),e)}});var $S=$(g7=>{"use strict";Object.defineProperty(g7,"__esModule",{value:!0});var ohe=c0();g7.default=function(r){return ohe.default(r)?"":r.toString()}});var Gwt=$(m7=>{"use strict";Object.defineProperty(m7,"__esModule",{value:!0});var she=$S(),lhe=function(r){return she.default(r).toLowerCase()};m7.default=lhe});var zwt=$(y7=>{"use strict";Object.defineProperty(y7,"__esModule",{value:!0});var uhe=$S(),fhe=function(r){var e=uhe.default(r);return e.charAt(0).toLowerCase()+e.substring(1)};y7.default=fhe});var jwt=$(x7=>{"use strict";Object.defineProperty(x7,"__esModule",{value:!0});function che(r,e){return!r||!e?r:r.replace(/\\?\{([^{}]+)\}/g,function(t,i){return t.charAt(0)==="\\"?t.slice(1):e[i]===void 0?"":e[i]})}x7.default=che});var Ywt=$(b7=>{"use strict";Object.defineProperty(b7,"__esModule",{value:!0});var hhe=$S(),dhe=function(r){return hhe.default(r).toUpperCase()};b7.default=dhe});var Wwt=$(w7=>{"use strict";Object.defineProperty(w7,"__esModule",{value:!0});var vhe=$S(),phe=function(r){var e=vhe.default(r);return e.charAt(0).toUpperCase()+e.substring(1)};w7.default=phe});var S7=$(_7=>{"use strict";Object.defineProperty(_7,"__esModule",{value:!0});var ghe={}.toString,mhe=function(r){return ghe.call(r).replace(/^\[object /,"").replace(/]$/,"")};_7.default=mhe});var Vwt=$(C7=>{"use strict";Object.defineProperty(C7,"__esModule",{value:!0});var yhe=nd(),xhe=function(r){return yhe.default(r,"Arguments")};C7.default=xhe});var qwt=$(M7=>{"use strict";Object.defineProperty(M7,"__esModule",{value:!0});var bhe=nd(),whe=function(r){return bhe.default(r,"Boolean")};M7.default=whe});var Hwt=$(A7=>{"use strict";Object.defineProperty(A7,"__esModule",{value:!0});var _he=nd(),She=function(r){return _he.default(r,"Date")};A7.default=She});var Uwt=$(E7=>{"use strict";Object.defineProperty(E7,"__esModule",{value:!0});var Che=nd(),Mhe=function(r){return Che.default(r,"Error")};E7.default=Mhe});var Xwt=$(T7=>{"use strict";Object.defineProperty(T7,"__esModule",{value:!0});var Ahe=hg();function Ehe(r){return Ahe.default(r)&&isFinite(r)}T7.default=Ehe});var Zwt=$(I7=>{"use strict";Object.defineProperty(I7,"__esModule",{value:!0});var The=function(r){return r===null};I7.default=The});var O7=$(L7=>{"use strict";Object.defineProperty(L7,"__esModule",{value:!0});var Ihe=Object.prototype,Lhe=function(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||Ihe;return r===t};L7.default=Lhe});var Kwt=$(k7=>{"use strict";Object.defineProperty(k7,"__esModule",{value:!0});var Ohe=nd(),khe=function(r){return Ohe.default(r,"RegExp")};k7.default=khe});var Qwt=$(P7=>{"use strict";Object.defineProperty(P7,"__esModule",{value:!0});var Phe=function(r){return r===void 0};P7.default=Phe});var $wt=$(D7=>{"use strict";Object.defineProperty(D7,"__esModule",{value:!0});var Dhe=function(r){return r instanceof Element||r instanceof HTMLDocument};D7.default=Dhe});var Jwt=$(F7=>{"use strict";Object.defineProperty(F7,"__esModule",{value:!0});function Fhe(r){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(r)}F7.default=Fhe});var t_t=$(N7=>{"use strict";Object.defineProperty(N7,"__esModule",{value:!0});function Nhe(r){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(r)}N7.default=Nhe});var I5=$(R7=>{"use strict";Object.defineProperty(R7,"__esModule",{value:!0});function B7(r,e){for(var t in e)e.hasOwnProperty(t)&&t!=="constructor"&&e[t]!==void 0&&(r[t]=e[t])}function Bhe(r,e,t,i){return e&&B7(r,e),t&&B7(r,t),i&&B7(r,i),r}R7.default=Bhe});var e_t=$(G7=>{"use strict";Object.defineProperty(G7,"__esModule",{value:!0});var Rhe=I5(),Ghe=Uf(),zhe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=r[0],i=1;i<r.length;i++){var n=r[i];Ghe.default(n)&&(n=n.prototype),Rhe.default(t.prototype,n)}};G7.default=zhe});var r_t=$(j7=>{"use strict";Object.defineProperty(j7,"__esModule",{value:!0});var jhe=Jo(),z7=function(r){if(typeof r!="object"||r===null)return r;var e;if(jhe.default(r)){e=[];for(var t=0,i=r.length;t<i;t++)typeof r[t]=="object"&&r[t]!=null?e[t]=z7(r[t]):e[t]=r[t]}else{e={};for(var n in r)typeof r[n]=="object"&&r[n]!=null?e[n]=z7(r[n]):e[n]=r[n]}return e};j7.default=z7});var i_t=$(Y7=>{"use strict";Object.defineProperty(Y7,"__esModule",{value:!0});function Yhe(r,e,t){var i;return function(){var n=this,a=arguments,o=function(){i=null,t||r.apply(n,a)},s=t&&!i;clearTimeout(i),i=setTimeout(o,e),s&&r.apply(n,a)}}Y7.default=Yhe});var V7=$(W7=>{"use strict";Object.defineProperty(W7,"__esModule",{value:!0});var Whe=Uf();W7.default=function(r,e){if(!Whe.default(r))throw new TypeError("Expected a function");var t=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=e?e.apply(this,i):i[0],o=t.cache;if(o.has(a))return o.get(a);var s=r.apply(this,i);return o.set(a,s),s};return t.cache=new Map,t}});var o_t=$(q7=>{"use strict";Object.defineProperty(q7,"__esModule",{value:!0});var Vhe=Jo(),n_t=YE(),qhe=5;function a_t(r,e,t,i){t=t||0,i=i||qhe;for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];a!==null&&n_t.default(a)?(n_t.default(r[n])||(r[n]={}),t<i?a_t(r[n],a,t+1,i):r[n]=e[n]):Vhe.default(a)?(r[n]=[],r[n]=r[n].concat(a)):a!==void 0&&(r[n]=a)}}var Hhe=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)a_t(r,e[i]);return r};q7.default=Hhe});var s_t=$(U7=>{"use strict";Object.defineProperty(U7,"__esModule",{value:!0});var H7=I5(),Uhe=Uf(),Xhe=function(r,e,t,i){Uhe.default(e)||(t=e,e=r,r=function(){});var n=Object.create?function(o,s){return Object.create(o,{constructor:{value:s}})}:function(o,s){function l(){}l.prototype=o;var u=new l;return u.constructor=s,u},a=n(e.prototype,r);return r.prototype=H7.default(a,r.prototype),r.superclass=n(e.prototype,e),H7.default(a,t),H7.default(r,i),r};U7.default=Xhe});var l_t=$(X7=>{"use strict";Object.defineProperty(X7,"__esModule",{value:!0});var Zhe=Hf(),Khe=function(r,e){if(!Zhe.default(r))return-1;var t=Array.prototype.indexOf;if(t)return t.call(r,e);for(var i=-1,n=0;n<r.length;n++)if(r[n]===e){i=n;break}return i};X7.default=Khe});var u_t=$(Z7=>{"use strict";Object.defineProperty(Z7,"__esModule",{value:!0});var Qhe=c0(),$he=Hf(),Jhe=S7(),tde=O7(),ede=Object.prototype.hasOwnProperty;function rde(r){if(Qhe.default(r))return!0;if($he.default(r))return!r.length;var e=Jhe.default(r);if(e==="Map"||e==="Set")return!r.size;if(tde.default(r))return!Object.keys(r).length;for(var t in r)if(ede.call(r,t))return!1;return!0}Z7.default=rde});var $7=$(Q7=>{"use strict";Object.defineProperty(Q7,"__esModule",{value:!0});var f_t=E5(),c_t=Hf(),h_t=cg(),K7=function(r,e){if(r===e)return!0;if(!r||!e||h_t.default(r)||h_t.default(e))return!1;if(c_t.default(r)||c_t.default(e)){if(r.length!==e.length)return!1;for(var t=!0,i=0;i<r.length&&(t=K7(r[i],e[i]),!!t);i++);return t}if(f_t.default(r)||f_t.default(e)){var n=Object.keys(r),a=Object.keys(e);if(n.length!==a.length)return!1;for(var t=!0,i=0;i<n.length&&(t=K7(r[n[i]],e[n[i]]),!!t);i++);return t}return!1};Q7.default=K7});var d_t=$(J7=>{"use strict";Object.defineProperty(J7,"__esModule",{value:!0});var ide=Uf(),nde=$7();J7.default=function(r,e,t){return ide.default(t)?!!t(r,e):nde.default(r,e)}});var v_t=$(tZ=>{"use strict";Object.defineProperty(tZ,"__esModule",{value:!0});var ade=Hf(),ode=function(r,e){if(!ade.default(r))return r;for(var t=[],i=0;i<r.length;i++){var n=r[i];t.push(e(n,i))}return t};tZ.default=ode});var p_t=$(eZ=>{"use strict";Object.defineProperty(eZ,"__esModule",{value:!0});var sde=c0(),lde=tP(),ude=function(r){return r};eZ.default=function(r,e){e===void 0&&(e=ude);var t={};return lde.default(r)&&!sde.default(r)&&Object.keys(r).forEach(function(i){t[i]=e(r[i],i)}),t}});var g_t=$(rZ=>{"use strict";Object.defineProperty(rZ,"__esModule",{value:!0});var fde=cg();rZ.default=function(r,e,t){for(var i=0,n=fde.default(e)?e.split("."):e;r&&i<n.length;)r=r[n[i++]];return r===void 0||i<n.length?t:r}});var m_t=$(iZ=>{"use strict";Object.defineProperty(iZ,"__esModule",{value:!0});var cde=tP(),hde=cg(),dde=hg();iZ.default=function(r,e,t){var i=r,n=hde.default(e)?e.split("."):e;return n.forEach(function(a,o){o<n.length-1?(cde.default(i[a])||(i[a]=dde.default(n[o+1])?[]:{}),i=i[a]):i[a]=t}),r}});var y_t=$(nZ=>{"use strict";Object.defineProperty(nZ,"__esModule",{value:!0});var vde=QS(),pde=YE(),gde=Object.prototype.hasOwnProperty;nZ.default=function(r,e){if(r===null||!pde.default(r))return{};var t={};return vde.default(e,function(i){gde.call(r,i)&&(t[i]=r[i])}),t}});var x_t=$(aZ=>{"use strict";Object.defineProperty(aZ,"__esModule",{value:!0});var mde=M9();aZ.default=function(r,e){return mde.default(r,function(t,i,n){return e.includes(n)||(t[n]=i),t},{})}});var b_t=$(oZ=>{"use strict";Object.defineProperty(oZ,"__esModule",{value:!0});oZ.default=function(r,e,t){var i,n,a,o,s=0;t||(t={});var l=function(){s=t.leading===!1?0:Date.now(),i=null,o=r.apply(n,a),i||(n=a=null)},u=function(){var f=Date.now();!s&&t.leading===!1&&(s=f);var c=e-(f-s);return n=this,a=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=f,o=r.apply(n,a),i||(n=a=null)):!i&&t.trailing!==!1&&(i=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(i),s=0,i=n=a=null},u}});var w_t=$(sZ=>{"use strict";Object.defineProperty(sZ,"__esModule",{value:!0});var yde=Hf();sZ.default=function(r){return yde.default(r)?Array.prototype.slice.call(r):[]}});var __t=$(lZ=>{"use strict";Object.defineProperty(lZ,"__esModule",{value:!0});var L5={};lZ.default=function(r){return r=r||"g",L5[r]?L5[r]+=1:L5[r]=1,r+L5[r]}});var S_t=$(uZ=>{"use strict";Object.defineProperty(uZ,"__esModule",{value:!0});uZ.default=function(){}});var C_t=$(fZ=>{"use strict";Object.defineProperty(fZ,"__esModule",{value:!0});fZ.default=function(r){return r}});var M_t=$(cZ=>{"use strict";Object.defineProperty(cZ,"__esModule",{value:!0});var xde=c0(),bde=Hf();function wde(r){return xde.default(r)?0:bde.default(r)?r.length:Object.keys(r).length}cZ.default=wde});var Mr=$((ZZr,P5)=>{var A_t,E_t,T_t,I_t,L_t,O_t,k_t,P_t,D_t,F_t,N_t,B_t,R_t,O5,hZ,G_t,z_t,j_t,WE,Y_t,W_t,V_t,q_t,H_t,U_t,X_t,Z_t,K_t,k5,Q_t,$_t,J_t;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(t(e,t(i)))}):typeof P5=="object"&&typeof P5.exports=="object"?r(t(e,t(P5.exports))):r(t(e));function t(i,n){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(a,o){return i[a]=n?n(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])};A_t=function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");e(a,o);function s(){this.constructor=a}a.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)},E_t=Object.assign||function(a){for(var o,s=1,l=arguments.length;s<l;s++){o=arguments[s];for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(a[u]=o[u])}return a},T_t=function(a,o){var s={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&o.indexOf(l)<0&&(s[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(a);u<l.length;u++)o.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(a,l[u])&&(s[l[u]]=a[l[u]]);return s},I_t=function(a,o,s,l){var u=arguments.length,f=u<3?o:l===null?l=Object.getOwnPropertyDescriptor(o,s):l,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(a,o,s,l);else for(var h=a.length-1;h>=0;h--)(c=a[h])&&(f=(u<3?c(f):u>3?c(o,s,f):c(o,s))||f);return u>3&&f&&Object.defineProperty(o,s,f),f},L_t=function(a,o){return function(s,l){o(s,l,a)}},O_t=function(a,o,s,l,u,f){function c(M){if(M!==void 0&&typeof M!="function")throw new TypeError("Function expected");return M}for(var h=l.kind,d=h==="getter"?"get":h==="setter"?"set":"value",v=!o&&a?l.static?a:a.prototype:null,p=o||(v?Object.getOwnPropertyDescriptor(v,l.name):{}),g,m=!1,y=s.length-1;y>=0;y--){var x={};for(var b in l)x[b]=b==="access"?{}:l[b];for(var b in l.access)x.access[b]=l.access[b];x.addInitializer=function(M){if(m)throw new TypeError("Cannot add initializers after decoration has completed");f.push(c(M||null))};var _=(0,s[y])(h==="accessor"?{get:p.get,set:p.set}:p[d],x);if(h==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(g=c(_.get))&&(p.get=g),(g=c(_.set))&&(p.set=g),(g=c(_.init))&&u.unshift(g)}else(g=c(_))&&(h==="field"?u.unshift(g):p[d]=g)}v&&Object.defineProperty(v,l.name,p),m=!0},k_t=function(a,o,s){for(var l=arguments.length>2,u=0;u<o.length;u++)s=l?o[u].call(a,s):o[u].call(a);return l?s:void 0},P_t=function(a){return typeof a=="symbol"?a:"".concat(a)},D_t=function(a,o,s){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(a,"name",{configurable:!0,value:s?"".concat(s," ",o):o})},F_t=function(a,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,o)},N_t=function(a,o,s,l){function u(f){return f instanceof s?f:new s(function(c){c(f)})}return new(s||(s=Promise))(function(f,c){function h(p){try{v(l.next(p))}catch(g){c(g)}}function d(p){try{v(l.throw(p))}catch(g){c(g)}}function v(p){p.done?f(p.value):u(p.value).then(h,d)}v((l=l.apply(a,o||[])).next())})},B_t=function(a,o){var s={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},l,u,f,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(v){return function(p){return d([v,p])}}function d(v){if(l)throw new TypeError("Generator is already executing.");for(;c&&(c=0,v[0]&&(s=0)),s;)try{if(l=1,u&&(f=v[0]&2?u.return:v[0]?u.throw||((f=u.return)&&f.call(u),0):u.next)&&!(f=f.call(u,v[1])).done)return f;switch(u=0,f&&(v=[v[0]&2,f.value]),v[0]){case 0:case 1:f=v;break;case 4:return s.label++,{value:v[1],done:!1};case 5:s.label++,u=v[1],v=[0];continue;case 7:v=s.ops.pop(),s.trys.pop();continue;default:if(f=s.trys,!(f=f.length>0&&f[f.length-1])&&(v[0]===6||v[0]===2)){s=0;continue}if(v[0]===3&&(!f||v[1]>f[0]&&v[1]<f[3])){s.label=v[1];break}if(v[0]===6&&s.label<f[1]){s.label=f[1],f=v;break}if(f&&s.label<f[2]){s.label=f[2],s.ops.push(v);break}f[2]&&s.ops.pop(),s.trys.pop();continue}v=o.call(a,s)}catch(p){v=[6,p],u=0}finally{l=f=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},R_t=function(a,o){for(var s in a)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&k5(o,a,s)},k5=Object.create?function(a,o,s,l){l===void 0&&(l=s);var u=Object.getOwnPropertyDescriptor(o,s);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(a,l,u)}:function(a,o,s,l){l===void 0&&(l=s),a[l]=o[s]},O5=function(a){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&a[o],l=0;if(s)return s.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&l>=a.length&&(a=void 0),{value:a&&a[l++],done:!a}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},hZ=function(a,o){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var l=s.call(a),u,f=[],c;try{for(;(o===void 0||o-- >0)&&!(u=l.next()).done;)f.push(u.value)}catch(h){c={error:h}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(c)throw c.error}}return f},G_t=function(){for(var a=[],o=0;o<arguments.length;o++)a=a.concat(hZ(arguments[o]));return a},z_t=function(){for(var a=0,o=0,s=arguments.length;o<s;o++)a+=arguments[o].length;for(var l=Array(a),u=0,o=0;o<s;o++)for(var f=arguments[o],c=0,h=f.length;c<h;c++,u++)l[u]=f[c];return l},j_t=function(a,o,s){if(s||arguments.length===2)for(var l=0,u=o.length,f;l<u;l++)(f||!(l in o))&&(f||(f=Array.prototype.slice.call(o,0,l)),f[l]=o[l]);return a.concat(f||Array.prototype.slice.call(o))},WE=function(a){return this instanceof WE?(this.v=a,this):new WE(a)},Y_t=function(a,o,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=s.apply(a,o||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),u[Symbol.asyncIterator]=function(){return this},u;function c(y){return function(x){return Promise.resolve(x).then(y,g)}}function h(y,x){l[y]&&(u[y]=function(b){return new Promise(function(_,M){f.push([y,b,_,M])>1||d(y,b)})},x&&(u[y]=x(u[y])))}function d(y,x){try{v(l[y](x))}catch(b){m(f[0][3],b)}}function v(y){y.value instanceof WE?Promise.resolve(y.value.v).then(p,g):m(f[0][2],y)}function p(y){d("next",y)}function g(y){d("throw",y)}function m(y,x){y(x),f.shift(),f.length&&d(f[0][0],f[0][1])}},W_t=function(a){var o,s;return o={},l("next"),l("throw",function(u){throw u}),l("return"),o[Symbol.iterator]=function(){return this},o;function l(u,f){o[u]=a[u]?function(c){return(s=!s)?{value:WE(a[u](c)),done:!1}:f?f(c):c}:f}},V_t=function(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a[Symbol.asyncIterator],s;return o?o.call(a):(a=typeof O5=="function"?O5(a):a[Symbol.iterator](),s={},l("next"),l("throw"),l("return"),s[Symbol.asyncIterator]=function(){return this},s);function l(f){s[f]=a[f]&&function(c){return new Promise(function(h,d){c=a[f](c),u(h,d,c.done,c.value)})}}function u(f,c,h,d){Promise.resolve(d).then(function(v){f({value:v,done:h})},c)}},q_t=function(a,o){return Object.defineProperty?Object.defineProperty(a,"raw",{value:o}):a.raw=o,a};var t=Object.create?function(a,o){Object.defineProperty(a,"default",{enumerable:!0,value:o})}:function(a,o){a.default=o},i=function(a){return i=Object.getOwnPropertyNames||function(o){var s=[];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[s.length]=l);return s},i(a)};H_t=function(a){if(a&&a.__esModule)return a;var o={};if(a!=null)for(var s=i(a),l=0;l<s.length;l++)s[l]!=="default"&&k5(o,a,s[l]);return t(o,a),o},U_t=function(a){return a&&a.__esModule?a:{default:a}},X_t=function(a,o,s,l){if(s==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?a!==o||!l:!o.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?l:s==="a"?l.call(a):l?l.value:o.get(a)},Z_t=function(a,o,s,l,u){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?a!==o||!u:!o.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?u.call(a,s):u?u.value=s:o.set(a,s),s},K_t=function(a,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof a=="function"?o===a:a.has(o)},Q_t=function(a,o,s){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var l,u;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");l=o[Symbol.asyncDispose]}if(l===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");l=o[Symbol.dispose],s&&(u=l)}if(typeof l!="function")throw new TypeError("Object not disposable.");u&&(l=function(){try{u.call(this)}catch(f){return Promise.reject(f)}}),a.stack.push({value:o,dispose:l,async:s})}else s&&a.stack.push({async:!0});return o};var n=typeof SuppressedError=="function"?SuppressedError:function(a,o,s){var l=new Error(s);return l.name="SuppressedError",l.error=a,l.suppressed=o,l};$_t=function(a){function o(f){a.error=a.hasError?new n(f,a.error,"An error was suppressed during disposal."):f,a.hasError=!0}var s,l=0;function u(){for(;s=a.stack.pop();)try{if(!s.async&&l===1)return l=0,a.stack.push(s),Promise.resolve().then(u);if(s.dispose){var f=s.dispose.call(s.value);if(s.async)return l|=2,Promise.resolve(f).then(u,function(c){return o(c),u()})}else l|=1}catch(c){o(c)}if(l===1)return a.hasError?Promise.reject(a.error):Promise.resolve();if(a.hasError)throw a.error}return u()},J_t=function(a,o){return typeof a=="string"&&/^\.\.?\//.test(a)?a.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,l,u,f,c){return l?o?".jsx":".js":u&&(!f||!c)?s:u+f+"."+c.toLowerCase()+"js"}):a},r("__extends",A_t),r("__assign",E_t),r("__rest",T_t),r("__decorate",I_t),r("__param",L_t),r("__esDecorate",O_t),r("__runInitializers",k_t),r("__propKey",P_t),r("__setFunctionName",D_t),r("__metadata",F_t),r("__awaiter",N_t),r("__generator",B_t),r("__exportStar",R_t),r("__createBinding",k5),r("__values",O5),r("__read",hZ),r("__spread",G_t),r("__spreadArrays",z_t),r("__spreadArray",j_t),r("__await",WE),r("__asyncGenerator",Y_t),r("__asyncDelegator",W_t),r("__asyncValues",V_t),r("__makeTemplateObject",q_t),r("__importStar",H_t),r("__importDefault",U_t),r("__classPrivateFieldGet",X_t),r("__classPrivateFieldSet",Z_t),r("__classPrivateFieldIn",K_t),r("__addDisposableResource",Q_t),r("__disposeResources",$_t),r("__rewriteRelativeImportExtension",J_t)})});var vZ=$(dZ=>{"use strict";Object.defineProperty(dZ,"__esModule",{value:!0});var _de=Mr(),Sde=T5(),Cde=V7(),Mde=cg(),D5;dZ.default=Cde.default(function(r,e){e===void 0&&(e={});var t=e.fontSize,i=e.fontFamily,n=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return D5||(D5=document.createElement("canvas").getContext("2d")),D5.font=[a,o,n,t+"px",i].join(" "),D5.measureText(Mde.default(r)?r:"").width},function(r,e){return e===void 0&&(e={}),_de.__spreadArrays([r],Sde.default(e)).join("")})});var tSt=$(pZ=>{"use strict";Object.defineProperty(pZ,"__esModule",{value:!0});var Ade=cg(),Ede=$S(),F5=vZ();pZ.default=function(r,e,t,i){i===void 0&&(i="...");var n=16,a=F5.default(i,t),o=Ade.default(r)?r:Ede.default(r),s=e,l=[],u,f;if(F5.default(r,t)<=e)return r;for(;u=o.substr(0,n),f=F5.default(u,t),!(f+a>s&&f>s);)if(l.push(u),s-=f,o=o.substr(n),!o)return l.join("");for(;u=o.substr(0,1),f=F5.default(u,t),!(f+a>s);)if(l.push(u),s-=f,o=o.substr(1),!o)return l.join("");return""+l.join("")+i}});var eSt=$(gZ=>{"use strict";Object.defineProperty(gZ,"__esModule",{value:!0});var Tde=function(){function r(){this.map={}}return r.prototype.has=function(e){return this.map[e]!==void 0},r.prototype.get=function(e,t){var i=this.map[e];return i===void 0?t:i},r.prototype.set=function(e,t){this.map[e]=t},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(e){delete this.map[e]},r.prototype.size=function(){return Object.keys(this.map).length},r}();gZ.default=Tde});var ot=$(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});var rSt=A5();Object.defineProperty(We,"contains",{enumerable:!0,get:function(){return rSt.default}});Object.defineProperty(We,"includes",{enumerable:!0,get:function(){return rSt.default}});var Ide=Zbt();Object.defineProperty(We,"difference",{enumerable:!0,get:function(){return Ide.default}});var Lde=Kbt();Object.defineProperty(We,"find",{enumerable:!0,get:function(){return Lde.default}});var Ode=Qbt();Object.defineProperty(We,"findIndex",{enumerable:!0,get:function(){return Ode.default}});var kde=$bt();Object.defineProperty(We,"firstValue",{enumerable:!0,get:function(){return kde.default}});var Pde=Jbt();Object.defineProperty(We,"flatten",{enumerable:!0,get:function(){return Pde.default}});var Dde=ewt();Object.defineProperty(We,"flattenDeep",{enumerable:!0,get:function(){return Dde.default}});var Fde=rwt();Object.defineProperty(We,"getRange",{enumerable:!0,get:function(){return Fde.default}});var Nde=nwt();Object.defineProperty(We,"pull",{enumerable:!0,get:function(){return Nde.default}});var Bde=S9();Object.defineProperty(We,"pullAt",{enumerable:!0,get:function(){return Bde.default}});var Rde=M9();Object.defineProperty(We,"reduce",{enumerable:!0,get:function(){return Rde.default}});var Gde=awt();Object.defineProperty(We,"remove",{enumerable:!0,get:function(){return Gde.default}});var zde=owt();Object.defineProperty(We,"sortBy",{enumerable:!0,get:function(){return zde.default}});var jde=swt();Object.defineProperty(We,"union",{enumerable:!0,get:function(){return jde.default}});var Yde=L9();Object.defineProperty(We,"uniq",{enumerable:!0,get:function(){return Yde.default}});var Wde=lwt();Object.defineProperty(We,"valuesOfKey",{enumerable:!0,get:function(){return Wde.default}});var Vde=uwt();Object.defineProperty(We,"head",{enumerable:!0,get:function(){return Vde.default}});var qde=fwt();Object.defineProperty(We,"last",{enumerable:!0,get:function(){return qde.default}});var Hde=cwt();Object.defineProperty(We,"startsWith",{enumerable:!0,get:function(){return Hde.default}});var Ude=hwt();Object.defineProperty(We,"endsWith",{enumerable:!0,get:function(){return Ude.default}});var Xde=QX();Object.defineProperty(We,"filter",{enumerable:!0,get:function(){return Xde.default}});var Zde=dwt();Object.defineProperty(We,"every",{enumerable:!0,get:function(){return Zde.default}});var Kde=vwt();Object.defineProperty(We,"some",{enumerable:!0,get:function(){return Kde.default}});var Qde=pwt();Object.defineProperty(We,"group",{enumerable:!0,get:function(){return Qde.default}});var $de=z9();Object.defineProperty(We,"groupBy",{enumerable:!0,get:function(){return $de.default}});var Jde=Y9();Object.defineProperty(We,"groupToMap",{enumerable:!0,get:function(){return Jde.default}});var tve=gwt();Object.defineProperty(We,"getWrapBehavior",{enumerable:!0,get:function(){return tve.default}});var eve=mwt();Object.defineProperty(We,"wrapBehavior",{enumerable:!0,get:function(){return eve.default}});var rve=xwt();Object.defineProperty(We,"number2color",{enumerable:!0,get:function(){return rve.default}});var ive=bwt();Object.defineProperty(We,"parseRadius",{enumerable:!0,get:function(){return ive.default}});var nve=wwt();Object.defineProperty(We,"clamp",{enumerable:!0,get:function(){return nve.default}});var ave=_wt();Object.defineProperty(We,"fixedBase",{enumerable:!0,get:function(){return ave.default}});var ove=Swt();Object.defineProperty(We,"isDecimal",{enumerable:!0,get:function(){return ove.default}});var sve=Cwt();Object.defineProperty(We,"isEven",{enumerable:!0,get:function(){return sve.default}});var lve=Mwt();Object.defineProperty(We,"isInteger",{enumerable:!0,get:function(){return lve.default}});var uve=Awt();Object.defineProperty(We,"isNegative",{enumerable:!0,get:function(){return uve.default}});var fve=Ewt();Object.defineProperty(We,"isNumberEqual",{enumerable:!0,get:function(){return fve.default}});var cve=Twt();Object.defineProperty(We,"isOdd",{enumerable:!0,get:function(){return cve.default}});var hve=Iwt();Object.defineProperty(We,"isPositive",{enumerable:!0,get:function(){return hve.default}});var dve=m9();Object.defineProperty(We,"max",{enumerable:!0,get:function(){return dve.default}});var vve=Lwt();Object.defineProperty(We,"maxBy",{enumerable:!0,get:function(){return vve.default}});var pve=x9();Object.defineProperty(We,"min",{enumerable:!0,get:function(){return pve.default}});var gve=Owt();Object.defineProperty(We,"minBy",{enumerable:!0,get:function(){return gve.default}});var mve=kwt();Object.defineProperty(We,"mod",{enumerable:!0,get:function(){return mve.default}});var yve=Pwt();Object.defineProperty(We,"toDegree",{enumerable:!0,get:function(){return yve.default}});var xve=Dwt();Object.defineProperty(We,"toInteger",{enumerable:!0,get:function(){return xve.default}});var bve=Fwt();Object.defineProperty(We,"toRadian",{enumerable:!0,get:function(){return bve.default}});var wve=Nwt();Object.defineProperty(We,"forIn",{enumerable:!0,get:function(){return wve.default}});var _ve=h7();Object.defineProperty(We,"has",{enumerable:!0,get:function(){return _ve.default}});var Sve=Bwt();Object.defineProperty(We,"hasKey",{enumerable:!0,get:function(){return Sve.default}});var Cve=Rwt();Object.defineProperty(We,"hasValue",{enumerable:!0,get:function(){return Cve.default}});var Mve=o9();Object.defineProperty(We,"keys",{enumerable:!0,get:function(){return Mve.default}});var Ave=l9();Object.defineProperty(We,"isMatch",{enumerable:!0,get:function(){return Ave.default}});var Eve=T5();Object.defineProperty(We,"values",{enumerable:!0,get:function(){return Eve.default}});var Tve=Gwt();Object.defineProperty(We,"lowerCase",{enumerable:!0,get:function(){return Tve.default}});var Ive=zwt();Object.defineProperty(We,"lowerFirst",{enumerable:!0,get:function(){return Ive.default}});var Lve=jwt();Object.defineProperty(We,"substitute",{enumerable:!0,get:function(){return Lve.default}});var Ove=Ywt();Object.defineProperty(We,"upperCase",{enumerable:!0,get:function(){return Ove.default}});var kve=Wwt();Object.defineProperty(We,"upperFirst",{enumerable:!0,get:function(){return kve.default}});var Pve=S7();Object.defineProperty(We,"getType",{enumerable:!0,get:function(){return Pve.default}});var Dve=Vwt();Object.defineProperty(We,"isArguments",{enumerable:!0,get:function(){return Dve.default}});var Fve=Jo();Object.defineProperty(We,"isArray",{enumerable:!0,get:function(){return Fve.default}});var Nve=Hf();Object.defineProperty(We,"isArrayLike",{enumerable:!0,get:function(){return Nve.default}});var Bve=qwt();Object.defineProperty(We,"isBoolean",{enumerable:!0,get:function(){return Bve.default}});var Rve=Hwt();Object.defineProperty(We,"isDate",{enumerable:!0,get:function(){return Rve.default}});var Gve=Uwt();Object.defineProperty(We,"isError",{enumerable:!0,get:function(){return Gve.default}});var zve=Uf();Object.defineProperty(We,"isFunction",{enumerable:!0,get:function(){return zve.default}});var jve=Xwt();Object.defineProperty(We,"isFinite",{enumerable:!0,get:function(){return jve.default}});var Yve=c0();Object.defineProperty(We,"isNil",{enumerable:!0,get:function(){return Yve.default}});var Wve=Zwt();Object.defineProperty(We,"isNull",{enumerable:!0,get:function(){return Wve.default}});var Vve=hg();Object.defineProperty(We,"isNumber",{enumerable:!0,get:function(){return Vve.default}});var qve=tP();Object.defineProperty(We,"isObject",{enumerable:!0,get:function(){return qve.default}});var Hve=E5();Object.defineProperty(We,"isObjectLike",{enumerable:!0,get:function(){return Hve.default}});var Uve=YE();Object.defineProperty(We,"isPlainObject",{enumerable:!0,get:function(){return Uve.default}});var Xve=O7();Object.defineProperty(We,"isPrototype",{enumerable:!0,get:function(){return Xve.default}});var Zve=Kwt();Object.defineProperty(We,"isRegExp",{enumerable:!0,get:function(){return Zve.default}});var Kve=cg();Object.defineProperty(We,"isString",{enumerable:!0,get:function(){return Kve.default}});var Qve=nd();Object.defineProperty(We,"isType",{enumerable:!0,get:function(){return Qve.default}});var $ve=Qwt();Object.defineProperty(We,"isUndefined",{enumerable:!0,get:function(){return $ve.default}});var Jve=$wt();Object.defineProperty(We,"isElement",{enumerable:!0,get:function(){return Jve.default}});var tpe=Jwt();Object.defineProperty(We,"requestAnimationFrame",{enumerable:!0,get:function(){return tpe.default}});var epe=t_t();Object.defineProperty(We,"clearAnimationFrame",{enumerable:!0,get:function(){return epe.default}});var rpe=e_t();Object.defineProperty(We,"augment",{enumerable:!0,get:function(){return rpe.default}});var ipe=r_t();Object.defineProperty(We,"clone",{enumerable:!0,get:function(){return ipe.default}});var npe=i_t();Object.defineProperty(We,"debounce",{enumerable:!0,get:function(){return npe.default}});var ape=V7();Object.defineProperty(We,"memoize",{enumerable:!0,get:function(){return ape.default}});var ope=o_t();Object.defineProperty(We,"deepMix",{enumerable:!0,get:function(){return ope.default}});var spe=QS();Object.defineProperty(We,"each",{enumerable:!0,get:function(){return spe.default}});var lpe=s_t();Object.defineProperty(We,"extend",{enumerable:!0,get:function(){return lpe.default}});var upe=l_t();Object.defineProperty(We,"indexOf",{enumerable:!0,get:function(){return upe.default}});var fpe=u_t();Object.defineProperty(We,"isEmpty",{enumerable:!0,get:function(){return fpe.default}});var cpe=$7();Object.defineProperty(We,"isEqual",{enumerable:!0,get:function(){return cpe.default}});var hpe=d_t();Object.defineProperty(We,"isEqualWith",{enumerable:!0,get:function(){return hpe.default}});var dpe=v_t();Object.defineProperty(We,"map",{enumerable:!0,get:function(){return dpe.default}});var vpe=p_t();Object.defineProperty(We,"mapValues",{enumerable:!0,get:function(){return vpe.default}});var iSt=I5();Object.defineProperty(We,"mix",{enumerable:!0,get:function(){return iSt.default}});Object.defineProperty(We,"assign",{enumerable:!0,get:function(){return iSt.default}});var ppe=g_t();Object.defineProperty(We,"get",{enumerable:!0,get:function(){return ppe.default}});var gpe=m_t();Object.defineProperty(We,"set",{enumerable:!0,get:function(){return gpe.default}});var mpe=y_t();Object.defineProperty(We,"pick",{enumerable:!0,get:function(){return mpe.default}});var ype=x_t();Object.defineProperty(We,"omit",{enumerable:!0,get:function(){return ype.default}});var xpe=b_t();Object.defineProperty(We,"throttle",{enumerable:!0,get:function(){return xpe.default}});var bpe=w_t();Object.defineProperty(We,"toArray",{enumerable:!0,get:function(){return bpe.default}});var wpe=$S();Object.defineProperty(We,"toString",{enumerable:!0,get:function(){return wpe.default}});var _pe=__t();Object.defineProperty(We,"uniqueId",{enumerable:!0,get:function(){return _pe.default}});var Spe=S_t();Object.defineProperty(We,"noop",{enumerable:!0,get:function(){return Spe.default}});var Cpe=C_t();Object.defineProperty(We,"identity",{enumerable:!0,get:function(){return Cpe.default}});var Mpe=M_t();Object.defineProperty(We,"size",{enumerable:!0,get:function(){return Mpe.default}});var Ape=vZ();Object.defineProperty(We,"measureTextWidth",{enumerable:!0,get:function(){return Ape.default}});var Epe=tSt();Object.defineProperty(We,"getEllipsisText",{enumerable:!0,get:function(){return Epe.default}});var Tpe=eSt();Object.defineProperty(We,"Cache",{enumerable:!0,get:function(){return Tpe.default}})});var Nv=$(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.RANDOM=gu.EPSILON=gu.ARRAY_TYPE=gu.ANGLE_ORDER=void 0;gu.equals=yge;gu.round=hge;gu.setMatrixArrayType=dge;gu.toDegree=mge;gu.toRadian=gge;var fge=gu.EPSILON=1e-6,cge=gu.ARRAY_TYPE=typeof Float32Array!="undefined"?Float32Array:Array,YKr=gu.RANDOM=Math.random,WKr=gu.ANGLE_ORDER="zyx";function hge(r){return r>=0?Math.round(r):r%.5==0?Math.floor(r):Math.round(r)}function dge(r){gu.ARRAY_TYPE=cge=r}var vge=Math.PI/180,pge=180/Math.PI;function gge(r){return r*vge}function mge(r){return r*pge}function yge(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fge;return Math.abs(r-e)<=t*Math.max(1,Math.abs(r),Math.abs(e))}});var CSt=$(Ma=>{"use strict";function LZ(r){return LZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LZ(r)}Object.defineProperty(Ma,"__esModule",{value:!0});Ma.LDU=Fge;Ma.add=Nge;Ma.adjoint=Ege;Ma.clone=bge;Ma.copy=wge;Ma.create=xge;Ma.determinant=Tge;Ma.equals=Rge;Ma.exactEquals=Bge;Ma.frob=Dge;Ma.fromRotation=Oge;Ma.fromScaling=kge;Ma.fromValues=Sge;Ma.identity=_ge;Ma.invert=Age;Ma.mul=void 0;Ma.multiply=_St;Ma.multiplyScalar=Gge;Ma.multiplyScalarAndAdd=zge;Ma.rotate=Ige;Ma.scale=Lge;Ma.set=Cge;Ma.str=Pge;Ma.sub=void 0;Ma.subtract=SSt;Ma.transpose=Mge;var mb=wSt(Nv());function wSt(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(wSt=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||LZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function xge(){var r=new mb.ARRAY_TYPE(4);return mb.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r}function bge(r){var e=new mb.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function wge(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}function _ge(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r}function Sge(r,e,t,i){var n=new mb.ARRAY_TYPE(4);return n[0]=r,n[1]=e,n[2]=t,n[3]=i,n}function Cge(r,e,t,i,n){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r}function Mge(r,e){if(r===e){var t=e[1];r[1]=e[2],r[2]=t}else r[0]=e[0],r[1]=e[2],r[2]=e[1],r[3]=e[3];return r}function Age(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=t*a-n*i;return o?(o=1/o,r[0]=a*o,r[1]=-i*o,r[2]=-n*o,r[3]=t*o,r):null}function Ege(r,e){var t=e[0];return r[0]=e[3],r[1]=-e[1],r[2]=-e[2],r[3]=t,r}function Tge(r){return r[0]*r[3]-r[2]*r[1]}function _St(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=t[0],l=t[1],u=t[2],f=t[3];return r[0]=i*s+a*l,r[1]=n*s+o*l,r[2]=i*u+a*f,r[3]=n*u+o*f,r}function Ige(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=Math.sin(t),l=Math.cos(t);return r[0]=i*l+a*s,r[1]=n*l+o*s,r[2]=i*-s+a*l,r[3]=n*-s+o*l,r}function Lge(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=t[0],l=t[1];return r[0]=i*s,r[1]=n*s,r[2]=a*l,r[3]=o*l,r}function Oge(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=t,r[2]=-t,r[3]=i,r}function kge(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=e[1],r}function Pge(r){return"mat2("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}function Dge(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3])}function Fge(r,e,t,i){return r[2]=i[2]/i[0],t[0]=i[0],t[1]=i[1],t[3]=i[3]-r[2]*t[1],[r,e,t]}function Nge(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r}function SSt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r}function Bge(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]}function Rge(r,e){var t=r[0],i=r[1],n=r[2],a=r[3],o=e[0],s=e[1],l=e[2],u=e[3];return Math.abs(t-o)<=mb.EPSILON*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(i-s)<=mb.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-l)<=mb.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-u)<=mb.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}function Gge(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r}function zge(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r[3]=e[3]+t[3]*i,r}var qKr=Ma.mul=_St,HKr=Ma.sub=SSt});var TSt=$(ka=>{"use strict";function OZ(r){return OZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OZ(r)}Object.defineProperty(ka,"__esModule",{value:!0});ka.add=ime;ka.clone=Yge;ka.copy=Wge;ka.create=jge;ka.determinant=Xge;ka.equals=sme;ka.exactEquals=ome;ka.frob=rme;ka.fromRotation=$ge;ka.fromScaling=Jge;ka.fromTranslation=tme;ka.fromValues=qge;ka.identity=Vge;ka.invert=Uge;ka.mul=void 0;ka.multiply=ASt;ka.multiplyScalar=nme;ka.multiplyScalarAndAdd=ame;ka.rotate=Zge;ka.scale=Kge;ka.set=Hge;ka.str=eme;ka.sub=void 0;ka.subtract=ESt;ka.translate=Qge;var dg=MSt(Nv());function MSt(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(MSt=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||OZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function jge(){var r=new dg.ARRAY_TYPE(6);return dg.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[4]=0,r[5]=0),r[0]=1,r[3]=1,r}function Yge(r){var e=new dg.ARRAY_TYPE(6);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e}function Wge(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r}function Vge(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r}function qge(r,e,t,i,n,a){var o=new dg.ARRAY_TYPE(6);return o[0]=r,o[1]=e,o[2]=t,o[3]=i,o[4]=n,o[5]=a,o}function Hge(r,e,t,i,n,a,o){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=a,r[5]=o,r}function Uge(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=t*a-i*n;return l?(l=1/l,r[0]=a*l,r[1]=-i*l,r[2]=-n*l,r[3]=t*l,r[4]=(n*s-a*o)*l,r[5]=(i*o-t*s)*l,r):null}function Xge(r){return r[0]*r[3]-r[1]*r[2]}function ASt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=t[0],f=t[1],c=t[2],h=t[3],d=t[4],v=t[5];return r[0]=i*u+a*f,r[1]=n*u+o*f,r[2]=i*c+a*h,r[3]=n*c+o*h,r[4]=i*d+a*v+s,r[5]=n*d+o*v+l,r}function Zge(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=Math.sin(t),f=Math.cos(t);return r[0]=i*f+a*u,r[1]=n*f+o*u,r[2]=i*-u+a*f,r[3]=n*-u+o*f,r[4]=s,r[5]=l,r}function Kge(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=t[0],f=t[1];return r[0]=i*u,r[1]=n*u,r[2]=a*f,r[3]=o*f,r[4]=s,r[5]=l,r}function Qge(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=t[0],f=t[1];return r[0]=i,r[1]=n,r[2]=a,r[3]=o,r[4]=i*u+a*f+s,r[5]=n*u+o*f+l,r}function $ge(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=t,r[2]=-t,r[3]=i,r[4]=0,r[5]=0,r}function Jge(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=e[1],r[4]=0,r[5]=0,r}function tme(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=1,r[4]=e[0],r[5]=e[1],r}function eme(r){return"mat2d("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+")"}function rme(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+1)}function ime(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r}function ESt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r}function nme(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r}function ame(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r[3]=e[3]+t[3]*i,r[4]=e[4]+t[4]*i,r[5]=e[5]+t[5]*i,r}function ome(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]&&r[4]===e[4]&&r[5]===e[5]}function sme(r,e){var t=r[0],i=r[1],n=r[2],a=r[3],o=r[4],s=r[5],l=e[0],u=e[1],f=e[2],c=e[3],h=e[4],d=e[5];return Math.abs(t-l)<=dg.EPSILON*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(i-u)<=dg.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(n-f)<=dg.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(a-c)<=dg.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-h)<=dg.EPSILON*Math.max(1,Math.abs(o),Math.abs(h))&&Math.abs(s-d)<=dg.EPSILON*Math.max(1,Math.abs(s),Math.abs(d))}var XKr=ka.mul=ASt,ZKr=ka.sub=ESt});var PZ=$(kn=>{"use strict";function kZ(r){return kZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kZ(r)}Object.defineProperty(kn,"__esModule",{value:!0});kn.add=Ome;kn.adjoint=mme;kn.clone=fme;kn.copy=cme;kn.create=lme;kn.determinant=yme;kn.equals=Fme;kn.exactEquals=Dme;kn.frob=Lme;kn.fromMat2d=Mme;kn.fromMat4=ume;kn.fromQuat=Ame;kn.fromRotation=Sme;kn.fromScaling=Cme;kn.fromTranslation=_me;kn.fromValues=hme;kn.identity=vme;kn.invert=gme;kn.mul=void 0;kn.multiply=LSt;kn.multiplyScalar=kme;kn.multiplyScalarAndAdd=Pme;kn.normalFromMat4=Eme;kn.projection=Tme;kn.rotate=bme;kn.scale=wme;kn.set=dme;kn.str=Ime;kn.sub=void 0;kn.subtract=OSt;kn.translate=xme;kn.transpose=pme;var Kc=ISt(Nv());function ISt(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(ISt=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||kZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function lme(){var r=new Kc.ARRAY_TYPE(9);return Kc.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function ume(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[4],r[4]=e[5],r[5]=e[6],r[6]=e[8],r[7]=e[9],r[8]=e[10],r}function fme(r){var e=new Kc.ARRAY_TYPE(9);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e}function cme(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function hme(r,e,t,i,n,a,o,s,l){var u=new Kc.ARRAY_TYPE(9);return u[0]=r,u[1]=e,u[2]=t,u[3]=i,u[4]=n,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u}function dme(r,e,t,i,n,a,o,s,l,u){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=a,r[5]=o,r[6]=s,r[7]=l,r[8]=u,r}function vme(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function pme(r,e){if(r===e){var t=e[1],i=e[2],n=e[5];r[1]=e[3],r[2]=e[6],r[3]=t,r[5]=e[7],r[6]=i,r[7]=n}else r[0]=e[0],r[1]=e[3],r[2]=e[6],r[3]=e[1],r[4]=e[4],r[5]=e[7],r[6]=e[2],r[7]=e[5],r[8]=e[8];return r}function gme(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=f*o-s*u,h=-f*a+s*l,d=u*a-o*l,v=t*c+i*h+n*d;return v?(v=1/v,r[0]=c*v,r[1]=(-f*i+n*u)*v,r[2]=(s*i-n*o)*v,r[3]=h*v,r[4]=(f*t-n*l)*v,r[5]=(-s*t+n*a)*v,r[6]=d*v,r[7]=(-u*t+i*l)*v,r[8]=(o*t-i*a)*v,r):null}function mme(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8];return r[0]=o*f-s*u,r[1]=n*u-i*f,r[2]=i*s-n*o,r[3]=s*l-a*f,r[4]=t*f-n*l,r[5]=n*a-t*s,r[6]=a*u-o*l,r[7]=i*l-t*u,r[8]=t*o-i*a,r}function yme(r){var e=r[0],t=r[1],i=r[2],n=r[3],a=r[4],o=r[5],s=r[6],l=r[7],u=r[8];return e*(u*a-o*l)+t*(-u*n+o*s)+i*(l*n-a*s)}function LSt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=t[0],d=t[1],v=t[2],p=t[3],g=t[4],m=t[5],y=t[6],x=t[7],b=t[8];return r[0]=h*i+d*o+v*u,r[1]=h*n+d*s+v*f,r[2]=h*a+d*l+v*c,r[3]=p*i+g*o+m*u,r[4]=p*n+g*s+m*f,r[5]=p*a+g*l+m*c,r[6]=y*i+x*o+b*u,r[7]=y*n+x*s+b*f,r[8]=y*a+x*l+b*c,r}function xme(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=t[0],d=t[1];return r[0]=i,r[1]=n,r[2]=a,r[3]=o,r[4]=s,r[5]=l,r[6]=h*i+d*o+u,r[7]=h*n+d*s+f,r[8]=h*a+d*l+c,r}function bme(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=Math.sin(t),d=Math.cos(t);return r[0]=d*i+h*o,r[1]=d*n+h*s,r[2]=d*a+h*l,r[3]=d*o-h*i,r[4]=d*s-h*n,r[5]=d*l-h*a,r[6]=u,r[7]=f,r[8]=c,r}function wme(r,e,t){var i=t[0],n=t[1];return r[0]=i*e[0],r[1]=i*e[1],r[2]=i*e[2],r[3]=n*e[3],r[4]=n*e[4],r[5]=n*e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function _me(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=e[0],r[7]=e[1],r[8]=1,r}function Sme(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=t,r[2]=0,r[3]=-t,r[4]=i,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Cme(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=e[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function Mme(r,e){return r[0]=e[0],r[1]=e[1],r[2]=0,r[3]=e[2],r[4]=e[3],r[5]=0,r[6]=e[4],r[7]=e[5],r[8]=1,r}function Ame(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=t+t,s=i+i,l=n+n,u=t*o,f=i*o,c=i*s,h=n*o,d=n*s,v=n*l,p=a*o,g=a*s,m=a*l;return r[0]=1-c-v,r[3]=f-m,r[6]=h+g,r[1]=f+m,r[4]=1-u-v,r[7]=d-p,r[2]=h-g,r[5]=d+p,r[8]=1-u-c,r}function Eme(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15],y=t*s-i*o,x=t*l-n*o,b=t*u-a*o,_=i*l-n*s,M=i*u-a*s,A=n*u-a*l,I=f*p-c*v,k=f*g-h*v,E=f*m-d*v,O=c*g-h*p,P=c*m-d*p,N=h*m-d*g,R=y*N-x*P+b*O+_*E-M*k+A*I;return R?(R=1/R,r[0]=(s*N-l*P+u*O)*R,r[1]=(l*E-o*N-u*k)*R,r[2]=(o*P-s*E+u*I)*R,r[3]=(n*P-i*N-a*O)*R,r[4]=(t*N-n*E+a*k)*R,r[5]=(i*E-t*P-a*I)*R,r[6]=(p*A-g*M+m*_)*R,r[7]=(g*b-v*A-m*x)*R,r[8]=(v*M-p*b+m*y)*R,r):null}function Tme(r,e,t){return r[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}function Ime(r){return"mat3("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+")"}function Lme(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+r[6]*r[6]+r[7]*r[7]+r[8]*r[8])}function Ome(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r}function OSt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r}function kme(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r}function Pme(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r[3]=e[3]+t[3]*i,r[4]=e[4]+t[4]*i,r[5]=e[5]+t[5]*i,r[6]=e[6]+t[6]*i,r[7]=e[7]+t[7]*i,r[8]=e[8]+t[8]*i,r}function Dme(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]&&r[4]===e[4]&&r[5]===e[5]&&r[6]===e[6]&&r[7]===e[7]&&r[8]===e[8]}function Fme(r,e){var t=r[0],i=r[1],n=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],f=r[8],c=e[0],h=e[1],d=e[2],v=e[3],p=e[4],g=e[5],m=e[6],y=e[7],x=e[8];return Math.abs(t-c)<=Kc.EPSILON*Math.max(1,Math.abs(t),Math.abs(c))&&Math.abs(i-h)<=Kc.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-d)<=Kc.EPSILON*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-v)<=Kc.EPSILON*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-p)<=Kc.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-g)<=Kc.EPSILON*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-m)<=Kc.EPSILON*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-y)<=Kc.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(f-x)<=Kc.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))}var QKr=kn.mul=LSt,$Kr=kn.sub=OSt});var FZ=$(hi=>{"use strict";function DZ(r){return DZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DZ(r)}Object.defineProperty(hi,"__esModule",{value:!0});hi.add=yye;hi.adjoint=Wme;hi.clone=Bme;hi.copy=Rme;hi.create=Nme;hi.decompose=oye;hi.determinant=Vme;hi.equals=_ye;hi.exactEquals=wye;hi.frob=mye;hi.fromQuat=uye;hi.fromQuat2=iye;hi.fromRotation=Jme;hi.fromRotationTranslation=FSt;hi.fromRotationTranslationScale=sye;hi.fromRotationTranslationScaleOrigin=lye;hi.fromScaling=$me;hi.fromTranslation=Qme;hi.fromValues=Gme;hi.fromXRotation=tye;hi.fromYRotation=eye;hi.fromZRotation=rye;hi.frustum=fye;hi.getRotation=aye;hi.getScaling=NSt;hi.getTranslation=nye;hi.identity=PSt;hi.invert=Yme;hi.lookAt=vye;hi.mul=void 0;hi.multiply=DSt;hi.multiplyScalar=xye;hi.multiplyScalarAndAdd=bye;hi.ortho=void 0;hi.orthoNO=RSt;hi.orthoZO=dye;hi.perspective=void 0;hi.perspectiveFromFieldOfView=hye;hi.perspectiveNO=BSt;hi.perspectiveZO=cye;hi.rotate=Ume;hi.rotateX=Xme;hi.rotateY=Zme;hi.rotateZ=Kme;hi.scale=Hme;hi.set=zme;hi.str=gye;hi.sub=void 0;hi.subtract=GSt;hi.targetTo=pye;hi.translate=qme;hi.transpose=jme;var Xa=kSt(Nv());function kSt(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(kSt=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||DZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function Nme(){var r=new Xa.ARRAY_TYPE(16);return Xa.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function Bme(r){var e=new Xa.ARRAY_TYPE(16);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function Rme(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function Gme(r,e,t,i,n,a,o,s,l,u,f,c,h,d,v,p){var g=new Xa.ARRAY_TYPE(16);return g[0]=r,g[1]=e,g[2]=t,g[3]=i,g[4]=n,g[5]=a,g[6]=o,g[7]=s,g[8]=l,g[9]=u,g[10]=f,g[11]=c,g[12]=h,g[13]=d,g[14]=v,g[15]=p,g}function zme(r,e,t,i,n,a,o,s,l,u,f,c,h,d,v,p,g){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=a,r[5]=o,r[6]=s,r[7]=l,r[8]=u,r[9]=f,r[10]=c,r[11]=h,r[12]=d,r[13]=v,r[14]=p,r[15]=g,r}function PSt(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function jme(r,e){if(r===e){var t=e[1],i=e[2],n=e[3],a=e[6],o=e[7],s=e[11];r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=t,r[6]=e[9],r[7]=e[13],r[8]=i,r[9]=a,r[11]=e[14],r[12]=n,r[13]=o,r[14]=s}else r[0]=e[0],r[1]=e[4],r[2]=e[8],r[3]=e[12],r[4]=e[1],r[5]=e[5],r[6]=e[9],r[7]=e[13],r[8]=e[2],r[9]=e[6],r[10]=e[10],r[11]=e[14],r[12]=e[3],r[13]=e[7],r[14]=e[11],r[15]=e[15];return r}function Yme(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15],y=t*s-i*o,x=t*l-n*o,b=t*u-a*o,_=i*l-n*s,M=i*u-a*s,A=n*u-a*l,I=f*p-c*v,k=f*g-h*v,E=f*m-d*v,O=c*g-h*p,P=c*m-d*p,N=h*m-d*g,R=y*N-x*P+b*O+_*E-M*k+A*I;return R?(R=1/R,r[0]=(s*N-l*P+u*O)*R,r[1]=(n*P-i*N-a*O)*R,r[2]=(p*A-g*M+m*_)*R,r[3]=(h*M-c*A-d*_)*R,r[4]=(l*E-o*N-u*k)*R,r[5]=(t*N-n*E+a*k)*R,r[6]=(g*b-v*A-m*x)*R,r[7]=(f*A-h*b+d*x)*R,r[8]=(o*P-s*E+u*I)*R,r[9]=(i*E-t*P-a*I)*R,r[10]=(v*M-p*b+m*y)*R,r[11]=(c*b-f*M-d*y)*R,r[12]=(s*k-o*O-l*I)*R,r[13]=(t*O-i*k+n*I)*R,r[14]=(p*x-v*_-g*y)*R,r[15]=(f*_-c*x+h*y)*R,r):null}function Wme(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15],y=t*s-i*o,x=t*l-n*o,b=t*u-a*o,_=i*l-n*s,M=i*u-a*s,A=n*u-a*l,I=f*p-c*v,k=f*g-h*v,E=f*m-d*v,O=c*g-h*p,P=c*m-d*p,N=h*m-d*g;return r[0]=s*N-l*P+u*O,r[1]=n*P-i*N-a*O,r[2]=p*A-g*M+m*_,r[3]=h*M-c*A-d*_,r[4]=l*E-o*N-u*k,r[5]=t*N-n*E+a*k,r[6]=g*b-v*A-m*x,r[7]=f*A-h*b+d*x,r[8]=o*P-s*E+u*I,r[9]=i*E-t*P-a*I,r[10]=v*M-p*b+m*y,r[11]=c*b-f*M-d*y,r[12]=s*k-o*O-l*I,r[13]=t*O-i*k+n*I,r[14]=p*x-v*_-g*y,r[15]=f*_-c*x+h*y,r}function Vme(r){var e=r[0],t=r[1],i=r[2],n=r[3],a=r[4],o=r[5],s=r[6],l=r[7],u=r[8],f=r[9],c=r[10],h=r[11],d=r[12],v=r[13],p=r[14],g=r[15],m=e*o-t*a,y=e*s-i*a,x=t*s-i*o,b=u*v-f*d,_=u*p-c*d,M=f*p-c*v,A=e*M-t*_+i*b,I=a*M-o*_+s*b,k=u*x-f*y+c*m,E=d*x-v*y+p*m;return l*A-n*I+g*k-h*E}function DSt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=e[9],d=e[10],v=e[11],p=e[12],g=e[13],m=e[14],y=e[15],x=t[0],b=t[1],_=t[2],M=t[3];return r[0]=x*i+b*s+_*c+M*p,r[1]=x*n+b*l+_*h+M*g,r[2]=x*a+b*u+_*d+M*m,r[3]=x*o+b*f+_*v+M*y,x=t[4],b=t[5],_=t[6],M=t[7],r[4]=x*i+b*s+_*c+M*p,r[5]=x*n+b*l+_*h+M*g,r[6]=x*a+b*u+_*d+M*m,r[7]=x*o+b*f+_*v+M*y,x=t[8],b=t[9],_=t[10],M=t[11],r[8]=x*i+b*s+_*c+M*p,r[9]=x*n+b*l+_*h+M*g,r[10]=x*a+b*u+_*d+M*m,r[11]=x*o+b*f+_*v+M*y,x=t[12],b=t[13],_=t[14],M=t[15],r[12]=x*i+b*s+_*c+M*p,r[13]=x*n+b*l+_*h+M*g,r[14]=x*a+b*u+_*d+M*m,r[15]=x*o+b*f+_*v+M*y,r}function qme(r,e,t){var i=t[0],n=t[1],a=t[2],o,s,l,u,f,c,h,d,v,p,g,m;return e===r?(r[12]=e[0]*i+e[4]*n+e[8]*a+e[12],r[13]=e[1]*i+e[5]*n+e[9]*a+e[13],r[14]=e[2]*i+e[6]*n+e[10]*a+e[14],r[15]=e[3]*i+e[7]*n+e[11]*a+e[15]):(o=e[0],s=e[1],l=e[2],u=e[3],f=e[4],c=e[5],h=e[6],d=e[7],v=e[8],p=e[9],g=e[10],m=e[11],r[0]=o,r[1]=s,r[2]=l,r[3]=u,r[4]=f,r[5]=c,r[6]=h,r[7]=d,r[8]=v,r[9]=p,r[10]=g,r[11]=m,r[12]=o*i+f*n+v*a+e[12],r[13]=s*i+c*n+p*a+e[13],r[14]=l*i+h*n+g*a+e[14],r[15]=u*i+d*n+m*a+e[15]),r}function Hme(r,e,t){var i=t[0],n=t[1],a=t[2];return r[0]=e[0]*i,r[1]=e[1]*i,r[2]=e[2]*i,r[3]=e[3]*i,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*a,r[9]=e[9]*a,r[10]=e[10]*a,r[11]=e[11]*a,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function Ume(r,e,t,i){var n=i[0],a=i[1],o=i[2],s=Math.sqrt(n*n+a*a+o*o),l,u,f,c,h,d,v,p,g,m,y,x,b,_,M,A,I,k,E,O,P,N,R,z;return s<Xa.EPSILON?null:(s=1/s,n*=s,a*=s,o*=s,l=Math.sin(t),u=Math.cos(t),f=1-u,c=e[0],h=e[1],d=e[2],v=e[3],p=e[4],g=e[5],m=e[6],y=e[7],x=e[8],b=e[9],_=e[10],M=e[11],A=n*n*f+u,I=a*n*f+o*l,k=o*n*f-a*l,E=n*a*f-o*l,O=a*a*f+u,P=o*a*f+n*l,N=n*o*f+a*l,R=a*o*f-n*l,z=o*o*f+u,r[0]=c*A+p*I+x*k,r[1]=h*A+g*I+b*k,r[2]=d*A+m*I+_*k,r[3]=v*A+y*I+M*k,r[4]=c*E+p*O+x*P,r[5]=h*E+g*O+b*P,r[6]=d*E+m*O+_*P,r[7]=v*E+y*O+M*P,r[8]=c*N+p*R+x*z,r[9]=h*N+g*R+b*z,r[10]=d*N+m*R+_*z,r[11]=v*N+y*R+M*z,e!==r&&(r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r)}function Xme(r,e,t){var i=Math.sin(t),n=Math.cos(t),a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],f=e[9],c=e[10],h=e[11];return e!==r&&(r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[4]=a*n+u*i,r[5]=o*n+f*i,r[6]=s*n+c*i,r[7]=l*n+h*i,r[8]=u*n-a*i,r[9]=f*n-o*i,r[10]=c*n-s*i,r[11]=h*n-l*i,r}function Zme(r,e,t){var i=Math.sin(t),n=Math.cos(t),a=e[0],o=e[1],s=e[2],l=e[3],u=e[8],f=e[9],c=e[10],h=e[11];return e!==r&&(r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=a*n-u*i,r[1]=o*n-f*i,r[2]=s*n-c*i,r[3]=l*n-h*i,r[8]=a*i+u*n,r[9]=o*i+f*n,r[10]=s*i+c*n,r[11]=l*i+h*n,r}function Kme(r,e,t){var i=Math.sin(t),n=Math.cos(t),a=e[0],o=e[1],s=e[2],l=e[3],u=e[4],f=e[5],c=e[6],h=e[7];return e!==r&&(r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15]),r[0]=a*n+u*i,r[1]=o*n+f*i,r[2]=s*n+c*i,r[3]=l*n+h*i,r[4]=u*n-a*i,r[5]=f*n-o*i,r[6]=c*n-s*i,r[7]=h*n-l*i,r}function Qme(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=e[0],r[13]=e[1],r[14]=e[2],r[15]=1,r}function $me(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=e[1],r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=e[2],r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function Jme(r,e,t){var i=t[0],n=t[1],a=t[2],o=Math.sqrt(i*i+n*n+a*a),s,l,u;return o<Xa.EPSILON?null:(o=1/o,i*=o,n*=o,a*=o,s=Math.sin(e),l=Math.cos(e),u=1-l,r[0]=i*i*u+l,r[1]=n*i*u+a*s,r[2]=a*i*u-n*s,r[3]=0,r[4]=i*n*u-a*s,r[5]=n*n*u+l,r[6]=a*n*u+i*s,r[7]=0,r[8]=i*a*u+n*s,r[9]=n*a*u-i*s,r[10]=a*a*u+l,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r)}function tye(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=i,r[6]=t,r[7]=0,r[8]=0,r[9]=-t,r[10]=i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function eye(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=0,r[2]=-t,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=t,r[9]=0,r[10]=i,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function rye(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=t,r[2]=0,r[3]=0,r[4]=-t,r[5]=i,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function FSt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=i+i,l=n+n,u=a+a,f=i*s,c=i*l,h=i*u,d=n*l,v=n*u,p=a*u,g=o*s,m=o*l,y=o*u;return r[0]=1-(d+p),r[1]=c+y,r[2]=h-m,r[3]=0,r[4]=c-y,r[5]=1-(f+p),r[6]=v+g,r[7]=0,r[8]=h+m,r[9]=v-g,r[10]=1-(f+d),r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function iye(r,e){var t=new Xa.ARRAY_TYPE(3),i=-e[0],n=-e[1],a=-e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=i*i+n*n+a*a+o*o;return c>0?(t[0]=(s*o+f*i+l*a-u*n)*2/c,t[1]=(l*o+f*n+u*i-s*a)*2/c,t[2]=(u*o+f*a+s*n-l*i)*2/c):(t[0]=(s*o+f*i+l*a-u*n)*2,t[1]=(l*o+f*n+u*i-s*a)*2,t[2]=(u*o+f*a+s*n-l*i)*2),FSt(r,e,t),r}function nye(r,e){return r[0]=e[12],r[1]=e[13],r[2]=e[14],r}function NSt(r,e){var t=e[0],i=e[1],n=e[2],a=e[4],o=e[5],s=e[6],l=e[8],u=e[9],f=e[10];return r[0]=Math.sqrt(t*t+i*i+n*n),r[1]=Math.sqrt(a*a+o*o+s*s),r[2]=Math.sqrt(l*l+u*u+f*f),r}function aye(r,e){var t=new Xa.ARRAY_TYPE(3);NSt(t,e);var i=1/t[0],n=1/t[1],a=1/t[2],o=e[0]*i,s=e[1]*n,l=e[2]*a,u=e[4]*i,f=e[5]*n,c=e[6]*a,h=e[8]*i,d=e[9]*n,v=e[10]*a,p=o+f+v,g=0;return p>0?(g=Math.sqrt(p+1)*2,r[3]=.25*g,r[0]=(c-d)/g,r[1]=(h-l)/g,r[2]=(s-u)/g):o>f&&o>v?(g=Math.sqrt(1+o-f-v)*2,r[3]=(c-d)/g,r[0]=.25*g,r[1]=(s+u)/g,r[2]=(h+l)/g):f>v?(g=Math.sqrt(1+f-o-v)*2,r[3]=(h-l)/g,r[0]=(s+u)/g,r[1]=.25*g,r[2]=(c+d)/g):(g=Math.sqrt(1+v-o-f)*2,r[3]=(s-u)/g,r[0]=(h+l)/g,r[1]=(c+d)/g,r[2]=.25*g),r}function oye(r,e,t,i){e[0]=i[12],e[1]=i[13],e[2]=i[14];var n=i[0],a=i[1],o=i[2],s=i[4],l=i[5],u=i[6],f=i[8],c=i[9],h=i[10];t[0]=Math.sqrt(n*n+a*a+o*o),t[1]=Math.sqrt(s*s+l*l+u*u),t[2]=Math.sqrt(f*f+c*c+h*h);var d=1/t[0],v=1/t[1],p=1/t[2],g=n*d,m=a*v,y=o*p,x=s*d,b=l*v,_=u*p,M=f*d,A=c*v,I=h*p,k=g+b+I,E=0;return k>0?(E=Math.sqrt(k+1)*2,r[3]=.25*E,r[0]=(_-A)/E,r[1]=(M-y)/E,r[2]=(m-x)/E):g>b&&g>I?(E=Math.sqrt(1+g-b-I)*2,r[3]=(_-A)/E,r[0]=.25*E,r[1]=(m+x)/E,r[2]=(M+y)/E):b>I?(E=Math.sqrt(1+b-g-I)*2,r[3]=(M-y)/E,r[0]=(m+x)/E,r[1]=.25*E,r[2]=(_+A)/E):(E=Math.sqrt(1+I-g-b)*2,r[3]=(m-x)/E,r[0]=(M+y)/E,r[1]=(_+A)/E,r[2]=.25*E),r}function sye(r,e,t,i){var n=e[0],a=e[1],o=e[2],s=e[3],l=n+n,u=a+a,f=o+o,c=n*l,h=n*u,d=n*f,v=a*u,p=a*f,g=o*f,m=s*l,y=s*u,x=s*f,b=i[0],_=i[1],M=i[2];return r[0]=(1-(v+g))*b,r[1]=(h+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(h-x)*_,r[5]=(1-(c+g))*_,r[6]=(p+m)*_,r[7]=0,r[8]=(d+y)*M,r[9]=(p-m)*M,r[10]=(1-(c+v))*M,r[11]=0,r[12]=t[0],r[13]=t[1],r[14]=t[2],r[15]=1,r}function lye(r,e,t,i,n){var a=e[0],o=e[1],s=e[2],l=e[3],u=a+a,f=o+o,c=s+s,h=a*u,d=a*f,v=a*c,p=o*f,g=o*c,m=s*c,y=l*u,x=l*f,b=l*c,_=i[0],M=i[1],A=i[2],I=n[0],k=n[1],E=n[2],O=(1-(p+m))*_,P=(d+b)*_,N=(v-x)*_,R=(d-b)*M,z=(1-(h+m))*M,B=(g+y)*M,Y=(v+x)*A,q=(g-y)*A,j=(1-(h+p))*A;return r[0]=O,r[1]=P,r[2]=N,r[3]=0,r[4]=R,r[5]=z,r[6]=B,r[7]=0,r[8]=Y,r[9]=q,r[10]=j,r[11]=0,r[12]=t[0]+I-(O*I+R*k+Y*E),r[13]=t[1]+k-(P*I+z*k+q*E),r[14]=t[2]+E-(N*I+B*k+j*E),r[15]=1,r}function uye(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=t+t,s=i+i,l=n+n,u=t*o,f=i*o,c=i*s,h=n*o,d=n*s,v=n*l,p=a*o,g=a*s,m=a*l;return r[0]=1-c-v,r[1]=f+m,r[2]=h-g,r[3]=0,r[4]=f-m,r[5]=1-u-v,r[6]=d+p,r[7]=0,r[8]=h+g,r[9]=d-p,r[10]=1-u-c,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function fye(r,e,t,i,n,a,o){var s=1/(t-e),l=1/(n-i),u=1/(a-o);return r[0]=a*2*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a*2*l,r[6]=0,r[7]=0,r[8]=(t+e)*s,r[9]=(n+i)*l,r[10]=(o+a)*u,r[11]=-1,r[12]=0,r[13]=0,r[14]=o*a*2*u,r[15]=0,r}function BSt(r,e,t,i,n){var a=1/Math.tan(e/2);if(r[0]=a/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,n!=null&&n!==1/0){var o=1/(i-n);r[10]=(n+i)*o,r[14]=2*n*i*o}else r[10]=-1,r[14]=-2*i;return r}var tQr=hi.perspective=BSt;function cye(r,e,t,i,n){var a=1/Math.tan(e/2);if(r[0]=a/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,n!=null&&n!==1/0){var o=1/(i-n);r[10]=n*o,r[14]=n*i*o}else r[10]=-1,r[14]=-i;return r}function hye(r,e,t,i){var n=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),u=2/(n+a);return r[0]=l,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=u,r[6]=0,r[7]=0,r[8]=-((o-s)*l*.5),r[9]=(n-a)*u*.5,r[10]=i/(t-i),r[11]=-1,r[12]=0,r[13]=0,r[14]=i*t/(t-i),r[15]=0,r}function RSt(r,e,t,i,n,a,o){var s=1/(e-t),l=1/(i-n),u=1/(a-o);return r[0]=-2*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*u,r[11]=0,r[12]=(e+t)*s,r[13]=(n+i)*l,r[14]=(o+a)*u,r[15]=1,r}var eQr=hi.ortho=RSt;function dye(r,e,t,i,n,a,o){var s=1/(e-t),l=1/(i-n),u=1/(a-o);return r[0]=-2*s,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=u,r[11]=0,r[12]=(e+t)*s,r[13]=(n+i)*l,r[14]=a*u,r[15]=1,r}function vye(r,e,t,i){var n,a,o,s,l,u,f,c,h,d,v=e[0],p=e[1],g=e[2],m=i[0],y=i[1],x=i[2],b=t[0],_=t[1],M=t[2];return Math.abs(v-b)<Xa.EPSILON&&Math.abs(p-_)<Xa.EPSILON&&Math.abs(g-M)<Xa.EPSILON?PSt(r):(f=v-b,c=p-_,h=g-M,d=1/Math.sqrt(f*f+c*c+h*h),f*=d,c*=d,h*=d,n=y*h-x*c,a=x*f-m*h,o=m*c-y*f,d=Math.sqrt(n*n+a*a+o*o),d?(d=1/d,n*=d,a*=d,o*=d):(n=0,a=0,o=0),s=c*o-h*a,l=h*n-f*o,u=f*a-c*n,d=Math.sqrt(s*s+l*l+u*u),d?(d=1/d,s*=d,l*=d,u*=d):(s=0,l=0,u=0),r[0]=n,r[1]=s,r[2]=f,r[3]=0,r[4]=a,r[5]=l,r[6]=c,r[7]=0,r[8]=o,r[9]=u,r[10]=h,r[11]=0,r[12]=-(n*v+a*p+o*g),r[13]=-(s*v+l*p+u*g),r[14]=-(f*v+c*p+h*g),r[15]=1,r)}function pye(r,e,t,i){var n=e[0],a=e[1],o=e[2],s=i[0],l=i[1],u=i[2],f=n-t[0],c=a-t[1],h=o-t[2],d=f*f+c*c+h*h;d>0&&(d=1/Math.sqrt(d),f*=d,c*=d,h*=d);var v=l*h-u*c,p=u*f-s*h,g=s*c-l*f;return d=v*v+p*p+g*g,d>0&&(d=1/Math.sqrt(d),v*=d,p*=d,g*=d),r[0]=v,r[1]=p,r[2]=g,r[3]=0,r[4]=c*g-h*p,r[5]=h*v-f*g,r[6]=f*p-c*v,r[7]=0,r[8]=f,r[9]=c,r[10]=h,r[11]=0,r[12]=n,r[13]=a,r[14]=o,r[15]=1,r}function gye(r){return"mat4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+", "+r[9]+", "+r[10]+", "+r[11]+", "+r[12]+", "+r[13]+", "+r[14]+", "+r[15]+")"}function mye(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+r[6]*r[6]+r[7]*r[7]+r[8]*r[8]+r[9]*r[9]+r[10]*r[10]+r[11]*r[11]+r[12]*r[12]+r[13]*r[13]+r[14]*r[14]+r[15]*r[15])}function yye(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r[9]=e[9]+t[9],r[10]=e[10]+t[10],r[11]=e[11]+t[11],r[12]=e[12]+t[12],r[13]=e[13]+t[13],r[14]=e[14]+t[14],r[15]=e[15]+t[15],r}function GSt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r[9]=e[9]-t[9],r[10]=e[10]-t[10],r[11]=e[11]-t[11],r[12]=e[12]-t[12],r[13]=e[13]-t[13],r[14]=e[14]-t[14],r[15]=e[15]-t[15],r}function xye(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r[9]=e[9]*t,r[10]=e[10]*t,r[11]=e[11]*t,r[12]=e[12]*t,r[13]=e[13]*t,r[14]=e[14]*t,r[15]=e[15]*t,r}function bye(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r[3]=e[3]+t[3]*i,r[4]=e[4]+t[4]*i,r[5]=e[5]+t[5]*i,r[6]=e[6]+t[6]*i,r[7]=e[7]+t[7]*i,r[8]=e[8]+t[8]*i,r[9]=e[9]+t[9]*i,r[10]=e[10]+t[10]*i,r[11]=e[11]+t[11]*i,r[12]=e[12]+t[12]*i,r[13]=e[13]+t[13]*i,r[14]=e[14]+t[14]*i,r[15]=e[15]+t[15]*i,r}function wye(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]&&r[4]===e[4]&&r[5]===e[5]&&r[6]===e[6]&&r[7]===e[7]&&r[8]===e[8]&&r[9]===e[9]&&r[10]===e[10]&&r[11]===e[11]&&r[12]===e[12]&&r[13]===e[13]&&r[14]===e[14]&&r[15]===e[15]}function _ye(r,e){var t=r[0],i=r[1],n=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],f=r[8],c=r[9],h=r[10],d=r[11],v=r[12],p=r[13],g=r[14],m=r[15],y=e[0],x=e[1],b=e[2],_=e[3],M=e[4],A=e[5],I=e[6],k=e[7],E=e[8],O=e[9],P=e[10],N=e[11],R=e[12],z=e[13],B=e[14],Y=e[15];return Math.abs(t-y)<=Xa.EPSILON*Math.max(1,Math.abs(t),Math.abs(y))&&Math.abs(i-x)<=Xa.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(n-b)<=Xa.EPSILON*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(a-_)<=Xa.EPSILON*Math.max(1,Math.abs(a),Math.abs(_))&&Math.abs(o-M)<=Xa.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(s-A)<=Xa.EPSILON*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(l-I)<=Xa.EPSILON*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(u-k)<=Xa.EPSILON*Math.max(1,Math.abs(u),Math.abs(k))&&Math.abs(f-E)<=Xa.EPSILON*Math.max(1,Math.abs(f),Math.abs(E))&&Math.abs(c-O)<=Xa.EPSILON*Math.max(1,Math.abs(c),Math.abs(O))&&Math.abs(h-P)<=Xa.EPSILON*Math.max(1,Math.abs(h),Math.abs(P))&&Math.abs(d-N)<=Xa.EPSILON*Math.max(1,Math.abs(d),Math.abs(N))&&Math.abs(v-R)<=Xa.EPSILON*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(p-z)<=Xa.EPSILON*Math.max(1,Math.abs(p),Math.abs(z))&&Math.abs(g-B)<=Xa.EPSILON*Math.max(1,Math.abs(g),Math.abs(B))&&Math.abs(m-Y)<=Xa.EPSILON*Math.max(1,Math.abs(m),Math.abs(Y))}var rQr=hi.mul=DSt,iQr=hi.sub=GSt});var U5=$(oi=>{"use strict";function NZ(r){return NZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NZ(r)}Object.defineProperty(oi,"__esModule",{value:!0});oi.add=Eye;oi.angle=Kye;oi.bezier=Yye;oi.ceil=Tye;oi.clone=Sye;oi.copy=Mye;oi.create=jSt;oi.cross=Rye;oi.dist=void 0;oi.distance=HSt;oi.div=void 0;oi.divide=qSt;oi.dot=BZ;oi.equals=t0e;oi.exactEquals=Jye;oi.floor=Iye;oi.forEach=void 0;oi.fromValues=Cye;oi.hermite=jye;oi.inverse=Nye;oi.len=void 0;oi.length=YSt;oi.lerp=Gye;oi.max=Oye;oi.min=Lye;oi.mul=void 0;oi.multiply=VSt;oi.negate=Fye;oi.normalize=Bye;oi.random=Wye;oi.rotateX=Uye;oi.rotateY=Xye;oi.rotateZ=Zye;oi.round=kye;oi.scale=Pye;oi.scaleAndAdd=Dye;oi.set=Aye;oi.slerp=zye;oi.sqrLen=oi.sqrDist=void 0;oi.squaredDistance=USt;oi.squaredLength=XSt;oi.str=$ye;oi.sub=void 0;oi.subtract=WSt;oi.transformMat3=qye;oi.transformMat4=Vye;oi.transformQuat=Hye;oi.zero=Qye;var od=zSt(Nv());function zSt(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(zSt=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||NZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function jSt(){var r=new od.ARRAY_TYPE(3);return od.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function Sye(r){var e=new od.ARRAY_TYPE(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function YSt(r){var e=r[0],t=r[1],i=r[2];return Math.sqrt(e*e+t*t+i*i)}function Cye(r,e,t){var i=new od.ARRAY_TYPE(3);return i[0]=r,i[1]=e,i[2]=t,i}function Mye(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}function Aye(r,e,t,i){return r[0]=e,r[1]=t,r[2]=i,r}function Eye(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r}function WSt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r}function VSt(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r[2]=e[2]*t[2],r}function qSt(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r[2]=e[2]/t[2],r}function Tye(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r[2]=Math.ceil(e[2]),r}function Iye(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r[2]=Math.floor(e[2]),r}function Lye(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r}function Oye(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r}function kye(r,e){return r[0]=od.round(e[0]),r[1]=od.round(e[1]),r[2]=od.round(e[2]),r}function Pye(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r}function Dye(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r}function HSt(r,e){var t=e[0]-r[0],i=e[1]-r[1],n=e[2]-r[2];return Math.sqrt(t*t+i*i+n*n)}function USt(r,e){var t=e[0]-r[0],i=e[1]-r[1],n=e[2]-r[2];return t*t+i*i+n*n}function XSt(r){var e=r[0],t=r[1],i=r[2];return e*e+t*t+i*i}function Fye(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r}function Nye(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r}function Bye(r,e){var t=e[0],i=e[1],n=e[2],a=t*t+i*i+n*n;return a>0&&(a=1/Math.sqrt(a)),r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r}function BZ(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function Rye(r,e,t){var i=e[0],n=e[1],a=e[2],o=t[0],s=t[1],l=t[2];return r[0]=n*l-a*s,r[1]=a*o-i*l,r[2]=i*s-n*o,r}function Gye(r,e,t,i){var n=e[0],a=e[1],o=e[2];return r[0]=n+i*(t[0]-n),r[1]=a+i*(t[1]-a),r[2]=o+i*(t[2]-o),r}function zye(r,e,t,i){var n=Math.acos(Math.min(Math.max(BZ(e,t),-1),1)),a=Math.sin(n),o=Math.sin((1-i)*n)/a,s=Math.sin(i*n)/a;return r[0]=o*e[0]+s*t[0],r[1]=o*e[1]+s*t[1],r[2]=o*e[2]+s*t[2],r}function jye(r,e,t,i,n,a){var o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),f=o*(3-2*a);return r[0]=e[0]*s+t[0]*l+i[0]*u+n[0]*f,r[1]=e[1]*s+t[1]*l+i[1]*u+n[1]*f,r[2]=e[2]*s+t[2]*l+i[2]*u+n[2]*f,r}function Yye(r,e,t,i,n,a){var o=1-a,s=o*o,l=a*a,u=s*o,f=3*a*s,c=3*l*o,h=l*a;return r[0]=e[0]*u+t[0]*f+i[0]*c+n[0]*h,r[1]=e[1]*u+t[1]*f+i[1]*c+n[1]*h,r[2]=e[2]*u+t[2]*f+i[2]*c+n[2]*h,r}function Wye(r,e){e=e===void 0?1:e;var t=od.RANDOM()*2*Math.PI,i=od.RANDOM()*2-1,n=Math.sqrt(1-i*i)*e;return r[0]=Math.cos(t)*n,r[1]=Math.sin(t)*n,r[2]=i*e,r}function Vye(r,e,t){var i=e[0],n=e[1],a=e[2],o=t[3]*i+t[7]*n+t[11]*a+t[15];return o=o||1,r[0]=(t[0]*i+t[4]*n+t[8]*a+t[12])/o,r[1]=(t[1]*i+t[5]*n+t[9]*a+t[13])/o,r[2]=(t[2]*i+t[6]*n+t[10]*a+t[14])/o,r}function qye(r,e,t){var i=e[0],n=e[1],a=e[2];return r[0]=i*t[0]+n*t[3]+a*t[6],r[1]=i*t[1]+n*t[4]+a*t[7],r[2]=i*t[2]+n*t[5]+a*t[8],r}function Hye(r,e,t){var i=t[0],n=t[1],a=t[2],o=t[3],s=e[0],l=e[1],u=e[2],f=n*u-a*l,c=a*s-i*u,h=i*l-n*s;return f=f+f,c=c+c,h=h+h,r[0]=s+o*f+n*h-a*c,r[1]=l+o*c+a*f-i*h,r[2]=u+o*h+i*c-n*f,r}function Uye(r,e,t,i){var n=[],a=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],a[0]=n[0],a[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),a[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),r[0]=a[0]+t[0],r[1]=a[1]+t[1],r[2]=a[2]+t[2],r}function Xye(r,e,t,i){var n=[],a=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],a[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),a[1]=n[1],a[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),r[0]=a[0]+t[0],r[1]=a[1]+t[1],r[2]=a[2]+t[2],r}function Zye(r,e,t,i){var n=[],a=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],r[0]=a[0]+t[0],r[1]=a[1]+t[1],r[2]=a[2]+t[2],r}function Kye(r,e){var t=r[0],i=r[1],n=r[2],a=e[0],o=e[1],s=e[2],l=Math.sqrt((t*t+i*i+n*n)*(a*a+o*o+s*s)),u=l&&BZ(r,e)/l;return Math.acos(Math.min(Math.max(u,-1),1))}function Qye(r){return r[0]=0,r[1]=0,r[2]=0,r}function $ye(r){return"vec3("+r[0]+", "+r[1]+", "+r[2]+")"}function Jye(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]}function t0e(r,e){var t=r[0],i=r[1],n=r[2],a=e[0],o=e[1],s=e[2];return Math.abs(t-a)<=od.EPSILON*Math.max(1,Math.abs(t),Math.abs(a))&&Math.abs(i-o)<=od.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-s)<=od.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))}var aQr=oi.sub=WSt,oQr=oi.mul=VSt,sQr=oi.div=qSt,lQr=oi.dist=HSt,uQr=oi.sqrDist=USt,fQr=oi.len=YSt,cQr=oi.sqrLen=XSt,hQr=oi.forEach=function(){var r=jSt();return function(e,t,i,n,a,o){var s,l;for(t||(t=3),i||(i=0),n?l=Math.min(n*t+i,e.length):l=e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],a(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e}}()});var GZ=$(Ci=>{"use strict";function RZ(r){return RZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RZ(r)}Object.defineProperty(Ci,"__esModule",{value:!0});Ci.add=a0e;Ci.ceil=o0e;Ci.clone=e0e;Ci.copy=i0e;Ci.create=KSt;Ci.cross=m0e;Ci.dist=void 0;Ci.distance=tCt;Ci.div=void 0;Ci.divide=JSt;Ci.dot=g0e;Ci.equals=M0e;Ci.exactEquals=C0e;Ci.floor=s0e;Ci.forEach=void 0;Ci.fromValues=r0e;Ci.inverse=v0e;Ci.len=void 0;Ci.length=rCt;Ci.lerp=y0e;Ci.max=u0e;Ci.min=l0e;Ci.mul=void 0;Ci.multiply=$St;Ci.negate=d0e;Ci.normalize=p0e;Ci.random=x0e;Ci.round=f0e;Ci.scale=c0e;Ci.scaleAndAdd=h0e;Ci.set=n0e;Ci.sqrLen=Ci.sqrDist=void 0;Ci.squaredDistance=eCt;Ci.squaredLength=iCt;Ci.str=S0e;Ci.sub=void 0;Ci.subtract=QSt;Ci.transformMat4=b0e;Ci.transformQuat=w0e;Ci.zero=_0e;var mu=ZSt(Nv());function ZSt(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(ZSt=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||RZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function KSt(){var r=new mu.ARRAY_TYPE(4);return mu.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[3]=0),r}function e0e(r){var e=new mu.ARRAY_TYPE(4);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function r0e(r,e,t,i){var n=new mu.ARRAY_TYPE(4);return n[0]=r,n[1]=e,n[2]=t,n[3]=i,n}function i0e(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}function n0e(r,e,t,i,n){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r}function a0e(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r}function QSt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r}function $St(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r[2]=e[2]*t[2],r[3]=e[3]*t[3],r}function JSt(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r[2]=e[2]/t[2],r[3]=e[3]/t[3],r}function o0e(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r[2]=Math.ceil(e[2]),r[3]=Math.ceil(e[3]),r}function s0e(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r[2]=Math.floor(e[2]),r[3]=Math.floor(e[3]),r}function l0e(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r[3]=Math.min(e[3],t[3]),r}function u0e(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3]),r}function f0e(r,e){return r[0]=mu.round(e[0]),r[1]=mu.round(e[1]),r[2]=mu.round(e[2]),r[3]=mu.round(e[3]),r}function c0e(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r}function h0e(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r[3]=e[3]+t[3]*i,r}function tCt(r,e){var t=e[0]-r[0],i=e[1]-r[1],n=e[2]-r[2],a=e[3]-r[3];return Math.sqrt(t*t+i*i+n*n+a*a)}function eCt(r,e){var t=e[0]-r[0],i=e[1]-r[1],n=e[2]-r[2],a=e[3]-r[3];return t*t+i*i+n*n+a*a}function rCt(r){var e=r[0],t=r[1],i=r[2],n=r[3];return Math.sqrt(e*e+t*t+i*i+n*n)}function iCt(r){var e=r[0],t=r[1],i=r[2],n=r[3];return e*e+t*t+i*i+n*n}function d0e(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=-e[3],r}function v0e(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r[3]=1/e[3],r}function p0e(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=t*t+i*i+n*n+a*a;return o>0&&(o=1/Math.sqrt(o)),r[0]=t*o,r[1]=i*o,r[2]=n*o,r[3]=a*o,r}function g0e(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]+r[3]*e[3]}function m0e(r,e,t,i){var n=t[0]*i[1]-t[1]*i[0],a=t[0]*i[2]-t[2]*i[0],o=t[0]*i[3]-t[3]*i[0],s=t[1]*i[2]-t[2]*i[1],l=t[1]*i[3]-t[3]*i[1],u=t[2]*i[3]-t[3]*i[2],f=e[0],c=e[1],h=e[2],d=e[3];return r[0]=c*u-h*l+d*s,r[1]=-(f*u)+h*o-d*a,r[2]=f*l-c*o+d*n,r[3]=-(f*s)+c*a-h*n,r}function y0e(r,e,t,i){var n=e[0],a=e[1],o=e[2],s=e[3];return r[0]=n+i*(t[0]-n),r[1]=a+i*(t[1]-a),r[2]=o+i*(t[2]-o),r[3]=s+i*(t[3]-s),r}function x0e(r,e){e=e===void 0?1:e;var t,i,n,a,o,s,l;l=mu.RANDOM(),t=l*2-1,i=(4*mu.RANDOM()-2)*Math.sqrt(l*-l+l),o=t*t+i*i,l=mu.RANDOM(),n=l*2-1,a=(4*mu.RANDOM()-2)*Math.sqrt(l*-l+l),s=n*n+a*a;var u=Math.sqrt((1-o)/s);return r[0]=e*t,r[1]=e*i,r[2]=e*n*u,r[3]=e*a*u,r}function b0e(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3];return r[0]=t[0]*i+t[4]*n+t[8]*a+t[12]*o,r[1]=t[1]*i+t[5]*n+t[9]*a+t[13]*o,r[2]=t[2]*i+t[6]*n+t[10]*a+t[14]*o,r[3]=t[3]*i+t[7]*n+t[11]*a+t[15]*o,r}function w0e(r,e,t){var i=t[0],n=t[1],a=t[2],o=t[3],s=e[0],l=e[1],u=e[2],f=n*u-a*l,c=a*s-i*u,h=i*l-n*s;return f=f+f,c=c+c,h=h+h,r[0]=s+o*f+n*h-a*c,r[1]=l+o*c+a*f-i*h,r[2]=u+o*h+i*c-n*f,r[3]=e[3],r}function _0e(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r}function S0e(r){return"vec4("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}function C0e(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]}function M0e(r,e){var t=r[0],i=r[1],n=r[2],a=r[3],o=e[0],s=e[1],l=e[2],u=e[3];return Math.abs(t-o)<=mu.EPSILON*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(i-s)<=mu.EPSILON*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(n-l)<=mu.EPSILON*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(a-u)<=mu.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}var vQr=Ci.sub=QSt,pQr=Ci.mul=$St,gQr=Ci.div=JSt,mQr=Ci.dist=tCt,yQr=Ci.sqrDist=eCt,xQr=Ci.len=rCt,bQr=Ci.sqrLen=iCt,wQr=Ci.forEach=function(){var r=KSt();return function(e,t,i,n,a,o){var s,l;for(t||(t=4),i||(i=0),n?l=Math.min(n*t+i,e.length):l=e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],r[3]=e[s+3],a(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2],e[s+3]=r[3];return e}}()});var YZ=$(si=>{"use strict";function zZ(r){return zZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zZ(r)}Object.defineProperty(si,"__esModule",{value:!0});si.add=void 0;si.calculateW=P0e;si.clone=void 0;si.conjugate=B0e;si.copy=void 0;si.create=jZ;si.dot=void 0;si.equals=V0e;si.exactEquals=void 0;si.exp=oCt;si.fromEuler=R0e;si.fromMat3=lCt;si.fromValues=void 0;si.getAngle=I0e;si.getAxisAngle=T0e;si.identity=E0e;si.invert=N0e;si.lerp=si.length=si.len=void 0;si.ln=sCt;si.mul=void 0;si.multiply=aCt;si.normalize=void 0;si.pow=D0e;si.random=F0e;si.rotateX=L0e;si.rotateY=O0e;si.rotateZ=k0e;si.setAxes=si.set=si.scale=si.rotationTo=void 0;si.setAxisAngle=nCt;si.slerp=X5;si.squaredLength=si.sqrLen=si.sqlerp=void 0;si.str=G0e;var d0=oP(Nv()),A0e=oP(PZ()),v0=oP(U5()),Qc=oP(GZ());function oP(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(oP=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||zZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function jZ(){var r=new d0.ARRAY_TYPE(4);return d0.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r[3]=1,r}function E0e(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r}function nCt(r,e,t){t=t*.5;var i=Math.sin(t);return r[0]=i*e[0],r[1]=i*e[1],r[2]=i*e[2],r[3]=Math.cos(t),r}function T0e(r,e){var t=Math.acos(e[3])*2,i=Math.sin(t/2);return i>d0.EPSILON?(r[0]=e[0]/i,r[1]=e[1]/i,r[2]=e[2]/i):(r[0]=1,r[1]=0,r[2]=0),t}function I0e(r,e){var t=j0e(r,e);return Math.acos(2*t*t-1)}function aCt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=t[0],l=t[1],u=t[2],f=t[3];return r[0]=i*f+o*s+n*u-a*l,r[1]=n*f+o*l+a*s-i*u,r[2]=a*f+o*u+i*l-n*s,r[3]=o*f-i*s-n*l-a*u,r}function L0e(r,e,t){t*=.5;var i=e[0],n=e[1],a=e[2],o=e[3],s=Math.sin(t),l=Math.cos(t);return r[0]=i*l+o*s,r[1]=n*l+a*s,r[2]=a*l-n*s,r[3]=o*l-i*s,r}function O0e(r,e,t){t*=.5;var i=e[0],n=e[1],a=e[2],o=e[3],s=Math.sin(t),l=Math.cos(t);return r[0]=i*l-a*s,r[1]=n*l+o*s,r[2]=a*l+i*s,r[3]=o*l-n*s,r}function k0e(r,e,t){t*=.5;var i=e[0],n=e[1],a=e[2],o=e[3],s=Math.sin(t),l=Math.cos(t);return r[0]=i*l+n*s,r[1]=n*l-i*s,r[2]=a*l+o*s,r[3]=o*l-a*s,r}function P0e(r,e){var t=e[0],i=e[1],n=e[2];return r[0]=t,r[1]=i,r[2]=n,r[3]=Math.sqrt(Math.abs(1-t*t-i*i-n*n)),r}function oCt(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=Math.sqrt(t*t+i*i+n*n),s=Math.exp(a),l=o>0?s*Math.sin(o)/o:0;return r[0]=t*l,r[1]=i*l,r[2]=n*l,r[3]=s*Math.cos(o),r}function sCt(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=Math.sqrt(t*t+i*i+n*n),s=o>0?Math.atan2(o,a)/o:0;return r[0]=t*s,r[1]=i*s,r[2]=n*s,r[3]=.5*Math.log(t*t+i*i+n*n+a*a),r}function D0e(r,e,t){return sCt(r,e),z0e(r,r,t),oCt(r,r),r}function X5(r,e,t,i){var n=e[0],a=e[1],o=e[2],s=e[3],l=t[0],u=t[1],f=t[2],c=t[3],h,d,v,p,g;return d=n*l+a*u+o*f+s*c,d<0&&(d=-d,l=-l,u=-u,f=-f,c=-c),1-d>d0.EPSILON?(h=Math.acos(d),v=Math.sin(h),p=Math.sin((1-i)*h)/v,g=Math.sin(i*h)/v):(p=1-i,g=i),r[0]=p*n+g*l,r[1]=p*a+g*u,r[2]=p*o+g*f,r[3]=p*s+g*c,r}function F0e(r){var e=d0.RANDOM(),t=d0.RANDOM(),i=d0.RANDOM(),n=Math.sqrt(1-e),a=Math.sqrt(e);return r[0]=n*Math.sin(2*Math.PI*t),r[1]=n*Math.cos(2*Math.PI*t),r[2]=a*Math.sin(2*Math.PI*i),r[3]=a*Math.cos(2*Math.PI*i),r}function N0e(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=t*t+i*i+n*n+a*a,s=o?1/o:0;return r[0]=-t*s,r[1]=-i*s,r[2]=-n*s,r[3]=a*s,r}function B0e(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=e[3],r}function lCt(r,e){var t=e[0]+e[4]+e[8],i;if(t>0)i=Math.sqrt(t+1),r[3]=.5*i,i=.5/i,r[0]=(e[5]-e[7])*i,r[1]=(e[6]-e[2])*i,r[2]=(e[1]-e[3])*i;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[n*3+n]&&(n=2);var a=(n+1)%3,o=(n+2)%3;i=Math.sqrt(e[n*3+n]-e[a*3+a]-e[o*3+o]+1),r[n]=.5*i,i=.5/i,r[3]=(e[a*3+o]-e[o*3+a])*i,r[a]=(e[a*3+n]+e[n*3+a])*i,r[o]=(e[o*3+n]+e[n*3+o])*i}return r}function R0e(r,e,t,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:d0.ANGLE_ORDER,a=Math.PI/360;e*=a,i*=a,t*=a;var o=Math.sin(e),s=Math.cos(e),l=Math.sin(t),u=Math.cos(t),f=Math.sin(i),c=Math.cos(i);switch(n){case"xyz":r[0]=o*u*c+s*l*f,r[1]=s*l*c-o*u*f,r[2]=s*u*f+o*l*c,r[3]=s*u*c-o*l*f;break;case"xzy":r[0]=o*u*c-s*l*f,r[1]=s*l*c-o*u*f,r[2]=s*u*f+o*l*c,r[3]=s*u*c+o*l*f;break;case"yxz":r[0]=o*u*c+s*l*f,r[1]=s*l*c-o*u*f,r[2]=s*u*f-o*l*c,r[3]=s*u*c+o*l*f;break;case"yzx":r[0]=o*u*c+s*l*f,r[1]=s*l*c+o*u*f,r[2]=s*u*f-o*l*c,r[3]=s*u*c-o*l*f;break;case"zxy":r[0]=o*u*c-s*l*f,r[1]=s*l*c+o*u*f,r[2]=s*u*f+o*l*c,r[3]=s*u*c-o*l*f;break;case"zyx":r[0]=o*u*c-s*l*f,r[1]=s*l*c+o*u*f,r[2]=s*u*f-o*l*c,r[3]=s*u*c+o*l*f;break;default:throw new Error("Unknown angle order "+n)}return r}function G0e(r){return"quat("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+")"}var SQr=si.clone=Qc.clone,CQr=si.fromValues=Qc.fromValues,MQr=si.copy=Qc.copy,AQr=si.set=Qc.set,EQr=si.add=Qc.add,TQr=si.mul=aCt,z0e=si.scale=Qc.scale,j0e=si.dot=Qc.dot,IQr=si.lerp=Qc.lerp,Y0e=si.length=Qc.length,LQr=si.len=Y0e,W0e=si.squaredLength=Qc.squaredLength,OQr=si.sqrLen=W0e,uCt=si.normalize=Qc.normalize,kQr=si.exactEquals=Qc.exactEquals;function V0e(r,e){return Math.abs(Qc.dot(r,e))>=1-d0.EPSILON}var PQr=si.rotationTo=function(){var r=v0.create(),e=v0.fromValues(1,0,0),t=v0.fromValues(0,1,0);return function(i,n,a){var o=v0.dot(n,a);return o<-.999999?(v0.cross(r,e,n),v0.len(r)<1e-6&&v0.cross(r,t,n),v0.normalize(r,r),nCt(i,r,Math.PI),i):o>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(v0.cross(r,n,a),i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=1+o,uCt(i,i))}}(),DQr=si.sqlerp=function(){var r=jZ(),e=jZ();return function(t,i,n,a,o,s){return X5(r,i,o,s),X5(e,n,a,s),X5(t,r,e,2*s*(1-s)),t}}(),FQr=si.setAxes=function(){var r=A0e.create();return function(e,t,i,n){return r[0]=i[0],r[3]=i[1],r[6]=i[2],r[1]=n[0],r[4]=n[1],r[7]=n[2],r[2]=-t[0],r[5]=-t[1],r[8]=-t[2],uCt(e,lCt(e,r))}}()});var vCt=$(Li=>{"use strict";function WZ(r){return WZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WZ(r)}Object.defineProperty(Li,"__esModule",{value:!0});Li.add=fxe;Li.clone=H0e;Li.conjugate=pxe;Li.copy=hCt;Li.create=q0e;Li.dot=void 0;Li.equals=bxe;Li.exactEquals=xxe;Li.fromMat4=Q0e;Li.fromRotation=K0e;Li.fromRotationTranslation=cCt;Li.fromRotationTranslationValues=X0e;Li.fromTranslation=Z0e;Li.fromValues=U0e;Li.getDual=txe;Li.getReal=void 0;Li.getTranslation=rxe;Li.identity=$0e;Li.invert=vxe;Li.length=Li.len=void 0;Li.lerp=dxe;Li.mul=void 0;Li.multiply=dCt;Li.normalize=mxe;Li.rotateAroundAxis=uxe;Li.rotateByQuatAppend=sxe;Li.rotateByQuatPrepend=lxe;Li.rotateX=nxe;Li.rotateY=axe;Li.rotateZ=oxe;Li.scale=cxe;Li.set=J0e;Li.setDual=exe;Li.squaredLength=Li.sqrLen=Li.setReal=void 0;Li.str=yxe;Li.translate=ixe;var Ju=Z5(Nv()),p0=Z5(YZ()),fCt=Z5(FZ());function Z5(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(Z5=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||WZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function q0e(){var r=new Ju.ARRAY_TYPE(8);return Ju.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0,r[4]=0,r[5]=0,r[6]=0,r[7]=0),r[3]=1,r}function H0e(r){var e=new Ju.ARRAY_TYPE(8);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e}function U0e(r,e,t,i,n,a,o,s){var l=new Ju.ARRAY_TYPE(8);return l[0]=r,l[1]=e,l[2]=t,l[3]=i,l[4]=n,l[5]=a,l[6]=o,l[7]=s,l}function X0e(r,e,t,i,n,a,o){var s=new Ju.ARRAY_TYPE(8);s[0]=r,s[1]=e,s[2]=t,s[3]=i;var l=n*.5,u=a*.5,f=o*.5;return s[4]=l*i+u*t-f*e,s[5]=u*i+f*r-l*t,s[6]=f*i+l*e-u*r,s[7]=-l*r-u*e-f*t,s}function cCt(r,e,t){var i=t[0]*.5,n=t[1]*.5,a=t[2]*.5,o=e[0],s=e[1],l=e[2],u=e[3];return r[0]=o,r[1]=s,r[2]=l,r[3]=u,r[4]=i*u+n*l-a*s,r[5]=n*u+a*o-i*l,r[6]=a*u+i*s-n*o,r[7]=-i*o-n*s-a*l,r}function Z0e(r,e){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r[4]=e[0]*.5,r[5]=e[1]*.5,r[6]=e[2]*.5,r[7]=0,r}function K0e(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=0,r[5]=0,r[6]=0,r[7]=0,r}function Q0e(r,e){var t=p0.create();fCt.getRotation(t,e);var i=new Ju.ARRAY_TYPE(3);return fCt.getTranslation(i,e),cCt(r,t,i),r}function hCt(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r}function $0e(r){return r[0]=0,r[1]=0,r[2]=0,r[3]=1,r[4]=0,r[5]=0,r[6]=0,r[7]=0,r}function J0e(r,e,t,i,n,a,o,s,l){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=a,r[5]=o,r[6]=s,r[7]=l,r}var BQr=Li.getReal=p0.copy;function txe(r,e){return r[0]=e[4],r[1]=e[5],r[2]=e[6],r[3]=e[7],r}var RQr=Li.setReal=p0.copy;function exe(r,e){return r[4]=e[0],r[5]=e[1],r[6]=e[2],r[7]=e[3],r}function rxe(r,e){var t=e[4],i=e[5],n=e[6],a=e[7],o=-e[0],s=-e[1],l=-e[2],u=e[3];return r[0]=(t*u+a*o+i*l-n*s)*2,r[1]=(i*u+a*s+n*o-t*l)*2,r[2]=(n*u+a*l+t*s-i*o)*2,r}function ixe(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=t[0]*.5,l=t[1]*.5,u=t[2]*.5,f=e[4],c=e[5],h=e[6],d=e[7];return r[0]=i,r[1]=n,r[2]=a,r[3]=o,r[4]=o*s+n*u-a*l+f,r[5]=o*l+a*s-i*u+c,r[6]=o*u+i*l-n*s+h,r[7]=-i*s-n*l-a*u+d,r}function nxe(r,e,t){var i=-e[0],n=-e[1],a=-e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=s*o+f*i+l*a-u*n,h=l*o+f*n+u*i-s*a,d=u*o+f*a+s*n-l*i,v=f*o-s*i-l*n-u*a;return p0.rotateX(r,e,t),i=r[0],n=r[1],a=r[2],o=r[3],r[4]=c*o+v*i+h*a-d*n,r[5]=h*o+v*n+d*i-c*a,r[6]=d*o+v*a+c*n-h*i,r[7]=v*o-c*i-h*n-d*a,r}function axe(r,e,t){var i=-e[0],n=-e[1],a=-e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=s*o+f*i+l*a-u*n,h=l*o+f*n+u*i-s*a,d=u*o+f*a+s*n-l*i,v=f*o-s*i-l*n-u*a;return p0.rotateY(r,e,t),i=r[0],n=r[1],a=r[2],o=r[3],r[4]=c*o+v*i+h*a-d*n,r[5]=h*o+v*n+d*i-c*a,r[6]=d*o+v*a+c*n-h*i,r[7]=v*o-c*i-h*n-d*a,r}function oxe(r,e,t){var i=-e[0],n=-e[1],a=-e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=s*o+f*i+l*a-u*n,h=l*o+f*n+u*i-s*a,d=u*o+f*a+s*n-l*i,v=f*o-s*i-l*n-u*a;return p0.rotateZ(r,e,t),i=r[0],n=r[1],a=r[2],o=r[3],r[4]=c*o+v*i+h*a-d*n,r[5]=h*o+v*n+d*i-c*a,r[6]=d*o+v*a+c*n-h*i,r[7]=v*o-c*i-h*n-d*a,r}function sxe(r,e,t){var i=t[0],n=t[1],a=t[2],o=t[3],s=e[0],l=e[1],u=e[2],f=e[3];return r[0]=s*o+f*i+l*a-u*n,r[1]=l*o+f*n+u*i-s*a,r[2]=u*o+f*a+s*n-l*i,r[3]=f*o-s*i-l*n-u*a,s=e[4],l=e[5],u=e[6],f=e[7],r[4]=s*o+f*i+l*a-u*n,r[5]=l*o+f*n+u*i-s*a,r[6]=u*o+f*a+s*n-l*i,r[7]=f*o-s*i-l*n-u*a,r}function lxe(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=t[0],l=t[1],u=t[2],f=t[3];return r[0]=i*f+o*s+n*u-a*l,r[1]=n*f+o*l+a*s-i*u,r[2]=a*f+o*u+i*l-n*s,r[3]=o*f-i*s-n*l-a*u,s=t[4],l=t[5],u=t[6],f=t[7],r[4]=i*f+o*s+n*u-a*l,r[5]=n*f+o*l+a*s-i*u,r[6]=a*f+o*u+i*l-n*s,r[7]=o*f-i*s-n*l-a*u,r}function uxe(r,e,t,i){if(Math.abs(i)<Ju.EPSILON)return hCt(r,e);var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);i=i*.5;var a=Math.sin(i),o=a*t[0]/n,s=a*t[1]/n,l=a*t[2]/n,u=Math.cos(i),f=e[0],c=e[1],h=e[2],d=e[3];r[0]=f*u+d*o+c*l-h*s,r[1]=c*u+d*s+h*o-f*l,r[2]=h*u+d*l+f*s-c*o,r[3]=d*u-f*o-c*s-h*l;var v=e[4],p=e[5],g=e[6],m=e[7];return r[4]=v*u+m*o+p*l-g*s,r[5]=p*u+m*s+g*o-v*l,r[6]=g*u+m*l+v*s-p*o,r[7]=m*u-v*o-p*s-g*l,r}function fxe(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r}function dCt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=t[4],l=t[5],u=t[6],f=t[7],c=e[4],h=e[5],d=e[6],v=e[7],p=t[0],g=t[1],m=t[2],y=t[3];return r[0]=i*y+o*p+n*m-a*g,r[1]=n*y+o*g+a*p-i*m,r[2]=a*y+o*m+i*g-n*p,r[3]=o*y-i*p-n*g-a*m,r[4]=i*f+o*s+n*u-a*l+c*y+v*p+h*m-d*g,r[5]=n*f+o*l+a*s-i*u+h*y+v*g+d*p-c*m,r[6]=a*f+o*u+i*l-n*s+d*y+v*m+c*g-h*p,r[7]=o*f-i*s-n*l-a*u+v*y-c*p-h*g-d*m,r}var GQr=Li.mul=dCt;function cxe(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r}var hxe=Li.dot=p0.dot;function dxe(r,e,t,i){var n=1-i;return hxe(e,t)<0&&(i=-i),r[0]=e[0]*n+t[0]*i,r[1]=e[1]*n+t[1]*i,r[2]=e[2]*n+t[2]*i,r[3]=e[3]*n+t[3]*i,r[4]=e[4]*n+t[4]*i,r[5]=e[5]*n+t[5]*i,r[6]=e[6]*n+t[6]*i,r[7]=e[7]*n+t[7]*i,r}function vxe(r,e){var t=VZ(e);return r[0]=-e[0]/t,r[1]=-e[1]/t,r[2]=-e[2]/t,r[3]=e[3]/t,r[4]=-e[4]/t,r[5]=-e[5]/t,r[6]=-e[6]/t,r[7]=e[7]/t,r}function pxe(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r[3]=e[3],r[4]=-e[4],r[5]=-e[5],r[6]=-e[6],r[7]=e[7],r}var gxe=Li.length=p0.length,zQr=Li.len=gxe,VZ=Li.squaredLength=p0.squaredLength,jQr=Li.sqrLen=VZ;function mxe(r,e){var t=VZ(e);if(t>0){t=Math.sqrt(t);var i=e[0]/t,n=e[1]/t,a=e[2]/t,o=e[3]/t,s=e[4],l=e[5],u=e[6],f=e[7],c=i*s+n*l+a*u+o*f;r[0]=i,r[1]=n,r[2]=a,r[3]=o,r[4]=(s-i*c)/t,r[5]=(l-n*c)/t,r[6]=(u-a*c)/t,r[7]=(f-o*c)/t}return r}function yxe(r){return"quat2("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+")"}function xxe(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]&&r[4]===e[4]&&r[5]===e[5]&&r[6]===e[6]&&r[7]===e[7]}function bxe(r,e){var t=r[0],i=r[1],n=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],f=e[0],c=e[1],h=e[2],d=e[3],v=e[4],p=e[5],g=e[6],m=e[7];return Math.abs(t-f)<=Ju.EPSILON*Math.max(1,Math.abs(t),Math.abs(f))&&Math.abs(i-c)<=Ju.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(n-h)<=Ju.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(a-d)<=Ju.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(o-v)<=Ju.EPSILON*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(s-p)<=Ju.EPSILON*Math.max(1,Math.abs(s),Math.abs(p))&&Math.abs(l-g)<=Ju.EPSILON*Math.max(1,Math.abs(l),Math.abs(g))&&Math.abs(u-m)<=Ju.EPSILON*Math.max(1,Math.abs(u),Math.abs(m))}});var HZ=$(mi=>{"use strict";function qZ(r){return qZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qZ(r)}Object.defineProperty(mi,"__esModule",{value:!0});mi.add=Mxe;mi.angle=qxe;mi.ceil=Axe;mi.clone=wxe;mi.copy=Sxe;mi.create=gCt;mi.cross=Bxe;mi.dist=void 0;mi.distance=bCt;mi.div=void 0;mi.divide=xCt;mi.dot=Nxe;mi.equals=Kxe;mi.exactEquals=Zxe;mi.floor=Exe;mi.forEach=void 0;mi.fromValues=_xe;mi.inverse=Dxe;mi.len=void 0;mi.length=_Ct;mi.lerp=Rxe;mi.max=Ixe;mi.min=Txe;mi.mul=void 0;mi.multiply=yCt;mi.negate=Pxe;mi.normalize=Fxe;mi.random=Gxe;mi.rotate=Vxe;mi.round=Lxe;mi.scale=Oxe;mi.scaleAndAdd=kxe;mi.set=Cxe;mi.signedAngle=Hxe;mi.sqrLen=mi.sqrDist=void 0;mi.squaredDistance=wCt;mi.squaredLength=SCt;mi.str=Xxe;mi.sub=void 0;mi.subtract=mCt;mi.transformMat2=zxe;mi.transformMat2d=jxe;mi.transformMat3=Yxe;mi.transformMat4=Wxe;mi.zero=Uxe;var g0=pCt(Nv());function pCt(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(pCt=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||qZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}function gCt(){var r=new g0.ARRAY_TYPE(2);return g0.ARRAY_TYPE!=Float32Array&&(r[0]=0,r[1]=0),r}function wxe(r){var e=new g0.ARRAY_TYPE(2);return e[0]=r[0],e[1]=r[1],e}function _xe(r,e){var t=new g0.ARRAY_TYPE(2);return t[0]=r,t[1]=e,t}function Sxe(r,e){return r[0]=e[0],r[1]=e[1],r}function Cxe(r,e,t){return r[0]=e,r[1]=t,r}function Mxe(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function mCt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function yCt(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r}function xCt(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r}function Axe(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r}function Exe(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r}function Txe(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function Ixe(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}function Lxe(r,e){return r[0]=g0.round(e[0]),r[1]=g0.round(e[1]),r}function Oxe(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function kxe(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r}function bCt(r,e){var t=e[0]-r[0],i=e[1]-r[1];return Math.sqrt(t*t+i*i)}function wCt(r,e){var t=e[0]-r[0],i=e[1]-r[1];return t*t+i*i}function _Ct(r){var e=r[0],t=r[1];return Math.sqrt(e*e+t*t)}function SCt(r){var e=r[0],t=r[1];return e*e+t*t}function Pxe(r,e){return r[0]=-e[0],r[1]=-e[1],r}function Dxe(r,e){return r[0]=1/e[0],r[1]=1/e[1],r}function Fxe(r,e){var t=e[0],i=e[1],n=t*t+i*i;return n>0&&(n=1/Math.sqrt(n)),r[0]=e[0]*n,r[1]=e[1]*n,r}function Nxe(r,e){return r[0]*e[0]+r[1]*e[1]}function Bxe(r,e,t){var i=e[0]*t[1]-e[1]*t[0];return r[0]=r[1]=0,r[2]=i,r}function Rxe(r,e,t,i){var n=e[0],a=e[1];return r[0]=n+i*(t[0]-n),r[1]=a+i*(t[1]-a),r}function Gxe(r,e){e=e===void 0?1:e;var t=g0.RANDOM()*2*Math.PI;return r[0]=Math.cos(t)*e,r[1]=Math.sin(t)*e,r}function zxe(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[2]*n,r[1]=t[1]*i+t[3]*n,r}function jxe(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[2]*n+t[4],r[1]=t[1]*i+t[3]*n+t[5],r}function Yxe(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[3]*n+t[6],r[1]=t[1]*i+t[4]*n+t[7],r}function Wxe(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[4]*n+t[12],r[1]=t[1]*i+t[5]*n+t[13],r}function Vxe(r,e,t,i){var n=e[0]-t[0],a=e[1]-t[1],o=Math.sin(i),s=Math.cos(i);return r[0]=n*s-a*o+t[0],r[1]=n*o+a*s+t[1],r}function qxe(r,e){var t=r[0],i=r[1],n=e[0],a=e[1];return Math.abs(Math.atan2(i*n-t*a,t*n+i*a))}function Hxe(r,e){var t=r[0],i=r[1],n=e[0],a=e[1];return Math.atan2(t*a-i*n,t*n+i*a)}function Uxe(r){return r[0]=0,r[1]=0,r}function Xxe(r){return"vec2("+r[0]+", "+r[1]+")"}function Zxe(r,e){return r[0]===e[0]&&r[1]===e[1]}function Kxe(r,e){var t=r[0],i=r[1],n=e[0],a=e[1];return Math.abs(t-n)<=g0.EPSILON*Math.max(1,Math.abs(t),Math.abs(n))&&Math.abs(i-a)<=g0.EPSILON*Math.max(1,Math.abs(i),Math.abs(a))}var WQr=mi.len=_Ct,VQr=mi.sub=mCt,qQr=mi.mul=yCt,HQr=mi.div=xCt,UQr=mi.dist=bCt,XQr=mi.sqrDist=wCt,ZQr=mi.sqrLen=SCt,KQr=mi.forEach=function(){var r=gCt();return function(e,t,i,n,a,o){var s,l;for(t||(t=2),i||(i=0),n?l=Math.min(n*t+i,e.length):l=e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],a(r,r,o),e[s]=r[0],e[s+1]=r[1];return e}}()});var eC=$(ts=>{"use strict";function UZ(r){return UZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UZ(r)}Object.defineProperty(ts,"__esModule",{value:!0});ts.vec4=ts.vec3=ts.vec2=ts.quat2=ts.quat=ts.mat4=ts.mat3=ts.mat2d=ts.mat2=ts.glMatrix=void 0;var Qxe=Bv(Nv());ts.glMatrix=Qxe;var $xe=Bv(CSt());ts.mat2=$xe;var Jxe=Bv(TSt());ts.mat2d=Jxe;var t1e=Bv(PZ());ts.mat3=t1e;var e1e=Bv(FZ());ts.mat4=e1e;var r1e=Bv(YZ());ts.quat=r1e;var i1e=Bv(vCt());ts.quat2=i1e;var n1e=Bv(HZ());ts.vec2=n1e;var a1e=Bv(U5());ts.vec3=a1e;var o1e=Bv(GZ());ts.vec4=o1e;function Bv(r,e){if(typeof WeakMap=="function")var t=new WeakMap,i=new WeakMap;return(Bv=function(a,o){if(!o&&a&&a.__esModule)return a;var s,l,u={__proto__:null,default:a};if(a===null||UZ(a)!="object"&&typeof a!="function")return u;if(s=o?i:t){if(s.has(a))return s.get(a);s.set(a,u)}for(var f in a)f!=="default"&&{}.hasOwnProperty.call(a,f)&&((l=(s=Object.defineProperty)&&Object.getOwnPropertyDescriptor(a,f))&&(l.get||l.set)?s(u,f,l):u[f]=a[f]);return u})(r,e)}});var LAt=$((Fri,bG)=>{var fAt,cAt,hAt,dAt,vAt,pAt,gAt,mAt,yAt,xG,RK,xAt,bAt,i2,wAt,_At,SAt,CAt,MAt,AAt,EAt,TAt,IAt;(function(r){var e=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(i){r(t(e,t(i)))}):typeof bG=="object"&&typeof bG.exports=="object"?r(t(e,t(bG.exports))):r(t(e));function t(i,n){return i!==e&&(typeof Object.create=="function"?Object.defineProperty(i,"__esModule",{value:!0}):i.__esModule=!0),function(a,o){return i[a]=n?n(a,o):o}}})(function(r){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])};fAt=function(t,i){e(t,i);function n(){this.constructor=t}t.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)},cAt=Object.assign||function(t){for(var i,n=1,a=arguments.length;n<a;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},hAt=function(t,i){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&i.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)i.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n},dAt=function(t,i,n,a){var o=arguments.length,s=o<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,n):a,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,i,n,a);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(s=(o<3?l(s):o>3?l(i,n,s):l(i,n))||s);return o>3&&s&&Object.defineProperty(i,n,s),s},vAt=function(t,i){return function(n,a){i(n,a,t)}},pAt=function(t,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,i)},gAt=function(t,i,n,a){function o(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function u(h){try{c(a.next(h))}catch(d){l(d)}}function f(h){try{c(a.throw(h))}catch(d){l(d)}}function c(h){h.done?s(h.value):o(h.value).then(u,f)}c((a=a.apply(t,i||[])).next())})},mAt=function(t,i){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},a,o,s,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(c){return function(h){return f([c,h])}}function f(c){if(a)throw new TypeError("Generator is already executing.");for(;n;)try{if(a=1,o&&(s=c[0]&2?o.return:c[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,c[1])).done)return s;switch(o=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,o=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=i.call(t,n)}catch(h){c=[6,h],o=0}finally{a=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},IAt=function(t,i,n,a){a===void 0&&(a=n),t[a]=i[n]},yAt=function(t,i){for(var n in t)n!=="default"&&!i.hasOwnProperty(n)&&(i[n]=t[n])},xG=function(t){var i=typeof Symbol=="function"&&Symbol.iterator,n=i&&t[i],a=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},RK=function(t,i){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var a=n.call(t),o,s=[],l;try{for(;(i===void 0||i-- >0)&&!(o=a.next()).done;)s.push(o.value)}catch(u){l={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(l)throw l.error}}return s},xAt=function(){for(var t=[],i=0;i<arguments.length;i++)t=t.concat(RK(arguments[i]));return t},bAt=function(){for(var t=0,i=0,n=arguments.length;i<n;i++)t+=arguments[i].length;for(var a=Array(t),o=0,i=0;i<n;i++)for(var s=arguments[i],l=0,u=s.length;l<u;l++,o++)a[o]=s[l];return a},i2=function(t){return this instanceof i2?(this.v=t,this):new i2(t)},wAt=function(t,i,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=n.apply(t,i||[]),o,s=[];return o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o;function l(v){a[v]&&(o[v]=function(p){return new Promise(function(g,m){s.push([v,p,g,m])>1||u(v,p)})})}function u(v,p){try{f(a[v](p))}catch(g){d(s[0][3],g)}}function f(v){v.value instanceof i2?Promise.resolve(v.value.v).then(c,h):d(s[0][2],v)}function c(v){u("next",v)}function h(v){u("throw",v)}function d(v,p){v(p),s.shift(),s.length&&u(s[0][0],s[0][1])}},_At=function(t){var i,n;return i={},a("next"),a("throw",function(o){throw o}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(o,s){i[o]=t[o]?function(l){return(n=!n)?{value:i2(t[o](l)),done:o==="return"}:s?s(l):l}:s}},SAt=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],n;return i?i.call(t):(t=typeof xG=="function"?xG(t):t[Symbol.iterator](),n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n);function a(s){n[s]=t[s]&&function(l){return new Promise(function(u,f){l=t[s](l),o(u,f,l.done,l.value)})}}function o(s,l,u,f){Promise.resolve(f).then(function(c){s({value:c,done:u})},l)}},CAt=function(t,i){return Object.defineProperty?Object.defineProperty(t,"raw",{value:i}):t.raw=i,t},MAt=function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i.default=t,i},AAt=function(t){return t&&t.__esModule?t:{default:t}},EAt=function(t,i){if(!i.has(t))throw new TypeError("attempted to get private field on non-instance");return i.get(t)},TAt=function(t,i,n){if(!i.has(t))throw new TypeError("attempted to set private field on non-instance");return i.set(t,n),n},r("__extends",fAt),r("__assign",cAt),r("__rest",hAt),r("__decorate",dAt),r("__param",vAt),r("__metadata",pAt),r("__awaiter",gAt),r("__generator",mAt),r("__exportStar",yAt),r("__createBinding",IAt),r("__values",xG),r("__read",RK),r("__spread",xAt),r("__spreadArrays",bAt),r("__await",i2),r("__asyncGenerator",wAt),r("__asyncDelegator",_At),r("__asyncValues",SAt),r("__makeTemplateObject",CAt),r("__importStar",MAt),r("__importDefault",AAt),r("__classPrivateFieldGet",EAt),r("__classPrivateFieldSet",TAt)})});var nPt=$(Uj=>{"use strict";Object.defineProperty(Uj,"__esModule",{value:!0});Uj.default=void 0;var zEe=1,jEe=function(){return"".concat(zEe++)};Uj.default=jEe});var H$=$(Xj=>{"use strict";Object.defineProperty(Xj,"__esModule",{value:!0});Xj.default=void 0;var YEe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,i=null;return function(){for(var n=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];clearTimeout(i),i=setTimeout(function(){e.apply(n,o)},t)}};Xj.default=YEe});var Zj=$(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0});uw.SizeSensorId=uw.SensorTabIndex=uw.SensorClassName=void 0;var WEe="size-sensor-id";uw.SizeSensorId=WEe;var VEe="size-sensor-object";uw.SensorClassName=VEe;var qEe="-1";uw.SensorTabIndex=qEe});var aPt=$(Kj=>{"use strict";Object.defineProperty(Kj,"__esModule",{value:!0});Kj.createSensor=void 0;var HEe=UEe(H$()),U$=Zj();function UEe(r){return r&&r.__esModule?r:{default:r}}var XEe=function(e,t){var i=void 0,n=[],a=function(){getComputedStyle(e).position==="static"&&(e.style.position="relative");var c=document.createElement("object");return c.onload=function(){c.contentDocument.defaultView.addEventListener("resize",o),o()},c.style.display="block",c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.height="100%",c.style.width="100%",c.style.overflow="hidden",c.style.pointerEvents="none",c.style.zIndex="-1",c.style.opacity="0",c.setAttribute("class",U$.SensorClassName),c.setAttribute("tabindex",U$.SensorTabIndex),c.type="text/html",e.appendChild(c),c.data="about:blank",c},o=(0,HEe.default)(function(){n.forEach(function(f){f(e)})}),s=function(c){i||(i=a()),n.indexOf(c)===-1&&n.push(c)},l=function(){i&&i.parentNode&&(i.contentDocument&&i.contentDocument.defaultView.removeEventListener("resize",o),i.parentNode.removeChild(i),e.removeAttribute(U$.SizeSensorId),i=void 0,n=[],t&&t())},u=function(c){var h=n.indexOf(c);h!==-1&&n.splice(h,1),n.length===0&&i&&l()};return{element:e,bind:s,destroy:l,unbind:u}};Kj.createSensor=XEe});var oPt=$(Qj=>{"use strict";Object.defineProperty(Qj,"__esModule",{value:!0});Qj.createSensor=void 0;var ZEe=Zj(),KEe=QEe(H$());function QEe(r){return r&&r.__esModule?r:{default:r}}var $Ee=function(e,t){var i=void 0,n=[],a=(0,KEe.default)(function(){n.forEach(function(f){f(e)})}),o=function(){var c=new ResizeObserver(a);return c.observe(e),a(),c},s=function(c){i||(i=o()),n.indexOf(c)===-1&&n.push(c)},l=function(){i.disconnect(),n=[],i=void 0,e.removeAttribute(ZEe.SizeSensorId),t&&t()},u=function(c){var h=n.indexOf(c);h!==-1&&n.splice(h,1),n.length===0&&i&&l()};return{element:e,bind:s,destroy:l,unbind:u}};Qj.createSensor=$Ee});var sPt=$($j=>{"use strict";Object.defineProperty($j,"__esModule",{value:!0});$j.createSensor=void 0;var JEe=aPt(),t2e=oPt(),e2e=typeof ResizeObserver!="undefined"?t2e.createSensor:JEe.createSensor;$j.createSensor=e2e});var uPt=$(fw=>{"use strict";Object.defineProperty(fw,"__esModule",{value:!0});fw.removeSensor=fw.getSensor=fw.Sensors=void 0;var r2e=n2e(nPt()),i2e=sPt(),X$=Zj();function n2e(r){return r&&r.__esModule?r:{default:r}}var bT={};fw.Sensors=bT;function lPt(r){r&&bT[r]&&delete bT[r]}var a2e=function(e){var t=e.getAttribute(X$.SizeSensorId);if(t&&bT[t])return bT[t];var i=(0,r2e.default)();e.setAttribute(X$.SizeSensorId,i);var n=(0,i2e.createSensor)(e,function(){return lPt(i)});return bT[i]=n,n};fw.getSensor=a2e;var o2e=function(e){var t=e.element.getAttribute(X$.SizeSensorId);e.destroy(),lPt(t)};fw.removeSensor=o2e});var fPt=$(cw=>{"use strict";Object.defineProperty(cw,"__esModule",{value:!0});cw.ver=cw.clear=cw.bind=void 0;var Z$=uPt(),s2e=function(e,t){var i=(0,Z$.getSensor)(e);return i.bind(t),function(){i.unbind(t)}};cw.bind=s2e;var l2e=function(e){var t=(0,Z$.getSensor)(e);(0,Z$.removeSensor)(t)};cw.clear=l2e;var u2e="1.0.2";cw.ver=u2e});var XPt=$((E4,UPt)=>{(function(r,e){typeof E4=="object"&&typeof UPt!="undefined"?e(E4):typeof define=="function"&&define.amd?define(["exports"],e):(r=r||self,e(r.d3={}))})(E4,function(r){"use strict";function e(O,P){return t(O)||i(O,P)||n()}function t(O){if(Array.isArray(O))return O}function i(O,P){var N=[],R=!0,z=!1,B=void 0;try{for(var Y=O[Symbol.iterator](),q;!(R=(q=Y.next()).done)&&(N.push(q.value),!(P&&N.length===P));R=!0);}catch(j){z=!0,B=j}finally{try{!R&&Y.return!=null&&Y.return()}finally{if(z)throw B}}return N}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(O,P,N,R){O=O.filter(function(ut,ft){var pt=P(ut,ft),_t=N(ut,ft);return pt!=null&&isFinite(pt)&&_t!=null&&isFinite(_t)}),R&&O.sort(function(ut,ft){return P(ut)-P(ft)});for(var z=O.length,B=new Float64Array(z),Y=new Float64Array(z),q=0,j=0,Z,tt,lt,J=0;J<z;)lt=O[J],B[J]=Z=+P(lt,J,O),Y[J]=tt=+N(lt,J,O),++J,q+=(Z-q)/J,j+=(tt-j)/J;for(var nt=0;nt<z;++nt)B[nt]-=q,Y[nt]-=j;return[B,Y,q,j]}function o(O,P,N,R){for(var z=0,B=0,Y=O.length;B<Y;B++){var q=O[B],j=+P(q,B,O),Z=+N(q,B,O);j!=null&&isFinite(j)&&Z!=null&&isFinite(Z)&&R(j,Z,z++)}}function s(O,P,N,R,z){var B=0,Y=0;return o(O,P,N,function(q,j){var Z=j-z(q),tt=j-R;B+=Z*Z,Y+=tt*tt}),1-B/Y}function l(O){return Math.atan2(O[1][1]-O[0][1],O[1][0]-O[0][0])*180/Math.PI}function u(O){return[(O[0][0]+O[1][0])/2,(O[0][1]+O[1][1])/2]}function f(O,P,N){for(var R=Math.log(P-O)*Math.LOG10E+1|0,z=1*Math.pow(10,-R/2-1),B=1e4,Y=[j(O),j(P)],q=0;Z(Y)&&q<B;);return Y;function j(tt){return[tt,N(tt)]}function Z(tt){q++;for(var lt=tt.length,J=!1,nt=0;nt<lt-1;nt++){var ut=tt[nt],ft=tt[nt+1],pt=u([ut,ft]),_t=j(pt[0]),Et=l([ut,pt]),Ot=l([ut,_t]),oe=Math.abs(Et-Ot);oe>z&&(tt.splice(nt+1,0,_t),J=!0)}return J}}function c(O,P,N,R){var z=R-O*O,B=Math.abs(z)<1e-24?0:(N-O*P)/z,Y=P-B*O;return[Y,B]}function h(){var O=function(B){return B[0]},P=function(B){return B[1]},N;function R(z){var B=0,Y=0,q=0,j=0,Z=0,tt=0,lt=N?+N[0]:1/0,J=N?+N[1]:-1/0;o(z,O,P,function(Ot,oe){var se=Math.log(oe),_e=Ot*oe;++B,Y+=(oe-Y)/B,j+=(_e-j)/B,tt+=(Ot*_e-tt)/B,q+=(oe*se-q)/B,Z+=(_e*se-Z)/B,N||(Ot<lt&&(lt=Ot),Ot>J&&(J=Ot))});var nt=c(j/Y,q/Y,Z/Y,tt/Y),ut=e(nt,2),ft=ut[0],pt=ut[1];ft=Math.exp(ft);var _t=function(oe){return ft*Math.exp(pt*oe)},Et=f(lt,J,_t);return Et.a=ft,Et.b=pt,Et.predict=_t,Et.rSquared=s(z,O,P,Y,_t),Et}return R.domain=function(z){return arguments.length?(N=z,R):N},R.x=function(z){return arguments.length?(O=z,R):O},R.y=function(z){return arguments.length?(P=z,R):P},R}function d(){var O=function(B){return B[0]},P=function(B){return B[1]},N;function R(z){var B=0,Y=0,q=0,j=0,Z=0,tt=N?+N[0]:1/0,lt=N?+N[1]:-1/0;o(z,O,P,function(Et,Ot){++B,Y+=(Et-Y)/B,q+=(Ot-q)/B,j+=(Et*Ot-j)/B,Z+=(Et*Et-Z)/B,N||(Et<tt&&(tt=Et),Et>lt&&(lt=Et))});var J=c(Y,q,j,Z),nt=e(J,2),ut=nt[0],ft=nt[1],pt=function(Ot){return ft*Ot+ut},_t=[[tt,pt(tt)],[lt,pt(lt)]];return _t.a=ft,_t.b=ut,_t.predict=pt,_t.rSquared=s(z,O,P,q,pt),_t}return R.domain=function(z){return arguments.length?(N=z,R):N},R.x=function(z){return arguments.length?(O=z,R):O},R.y=function(z){return arguments.length?(P=z,R):P},R}function v(O){O.sort(function(N,R){return N-R});var P=O.length/2;return P%1==0?(O[P-1]+O[P])/2:O[Math.floor(P)]}var p=2,g=1e-12;function m(){var O=function(B){return B[0]},P=function(B){return B[1]},N=.3;function R(z){for(var B=a(z,O,P,!0),Y=e(B,4),q=Y[0],j=Y[1],Z=Y[2],tt=Y[3],lt=q.length,J=Math.max(2,~~(N*lt)),nt=new Float64Array(lt),ut=new Float64Array(lt),ft=new Float64Array(lt).fill(1),pt=-1;++pt<=p;){for(var _t=[0,J-1],Et=0;Et<lt;++Et){for(var Ot=q[Et],oe=_t[0],se=_t[1],_e=Ot-q[oe]>q[se]-Ot?oe:se,le=0,ar=0,pe=0,ze=0,rr=0,ur=1/Math.abs(q[_e]-Ot||1),_r=oe;_r<=se;++_r){var it=q[_r],kt=j[_r],Gt=y(Math.abs(Ot-it)*ur)*ft[_r],te=it*Gt;le+=Gt,ar+=te,pe+=kt*Gt,ze+=kt*te,rr+=it*te}var we=c(ar/le,pe/le,ze/le,rr/le),Ht=e(we,2),ce=Ht[0],Oe=Ht[1];nt[Et]=ce+Oe*Ot,ut[Et]=Math.abs(j[Et]-nt[Et]),x(q,Et+1,_t)}if(pt===p)break;var je=v(ut);if(Math.abs(je)<g)break;for(var Ae=0,Qe,sr;Ae<lt;++Ae)Qe=ut[Ae]/(6*je),ft[Ae]=Qe>=1?g:(sr=1-Qe*Qe)*sr}return b(q,nt,Z,tt)}return R.bandwidth=function(z){return arguments.length?(N=z,R):N},R.x=function(z){return arguments.length?(O=z,R):O},R.y=function(z){return arguments.length?(P=z,R):P},R}function y(O){return(O=1-O*O*O)*O*O}function x(O,P,N){var R=O[P],z=N[0],B=N[1]+1;if(!(B>=O.length))for(;P>z&&O[B]-R<=R-O[z];)N[0]=++z,N[1]=B,++B}function b(O,P,N,R){for(var z=O.length,B=[],Y=0,q=0,j=[],Z;Y<z;++Y)Z=O[Y]+N,j[0]===Z?j[1]+=(P[Y]-j[1])/++q:(q=0,j[1]+=R,j=[Z,P[Y]],B.push(j));return j[1]+=R,B}function _(){var O=function(Y){return Y[0]},P=function(Y){return Y[1]},N=Math.E,R;function z(B){var Y=0,q=0,j=0,Z=0,tt=0,lt=R?+R[0]:1/0,J=R?+R[1]:-1/0,nt=Math.log(N);o(B,O,P,function(oe,se){var _e=Math.log(oe)/nt;++Y,q+=(_e-q)/Y,j+=(se-j)/Y,Z+=(_e*se-Z)/Y,tt+=(_e*_e-tt)/Y,R||(oe<lt&&(lt=oe),oe>J&&(J=oe))});var ut=c(q,j,Z,tt),ft=e(ut,2),pt=ft[0],_t=ft[1],Et=function(se){return _t*Math.log(se)/nt+pt},Ot=f(lt,J,Et);return Ot.a=_t,Ot.b=pt,Ot.predict=Et,Ot.rSquared=s(B,O,P,j,Et),Ot}return z.domain=function(B){return arguments.length?(R=B,z):R},z.x=function(B){return arguments.length?(O=B,z):O},z.y=function(B){return arguments.length?(P=B,z):P},z.base=function(B){return arguments.length?(N=B,z):N},z}function M(){var O=function(B){return B[0]},P=function(B){return B[1]},N;function R(z){var B=a(z,O,P),Y=e(B,4),q=Y[0],j=Y[1],Z=Y[2],tt=Y[3],lt=q.length,J=0,nt=0,ut=0,ft=0,pt=0,_t,Et,Ot,oe;for(_t=0;_t<lt;)Et=q[_t],Ot=j[_t++],oe=Et*Et,J+=(oe-J)/_t,nt+=(oe*Et-nt)/_t,ut+=(oe*oe-ut)/_t,ft+=(Et*Ot-ft)/_t,pt+=(oe*Ot-pt)/_t;var se=0,_e=0,le=N?+N[0]:1/0,ar=N?+N[1]:-1/0;o(z,O,P,function(Gt,te){_e++,se+=(te-se)/_e,N||(Gt<le&&(le=Gt),Gt>ar&&(ar=Gt))});var pe=ut-J*J,ze=J*pe-nt*nt,rr=(pt*J-ft*nt)/ze,ur=(ft*pe-pt*nt)/ze,_r=-rr*J,it=function(te){return te=te-Z,rr*te*te+ur*te+_r+tt},kt=f(le,ar,it);return kt.a=rr,kt.b=ur-2*rr*Z,kt.c=_r-ur*Z+rr*Z*Z+tt,kt.predict=it,kt.rSquared=s(z,O,P,se,it),kt}return R.domain=function(z){return arguments.length?(N=z,R):N},R.x=function(z){return arguments.length?(O=z,R):O},R.y=function(z){return arguments.length?(P=z,R):P},R}function A(){var O=function(Y){return Y[0]},P=function(Y){return Y[1]},N=3,R;function z(B){if(N===1){var Y=d().x(O).y(P).domain(R)(B);return Y.coefficients=[Y.b,Y.a],delete Y.a,delete Y.b,Y}if(N===2){var q=M().x(O).y(P).domain(R)(B);return q.coefficients=[q.c,q.b,q.a],delete q.a,delete q.b,delete q.c,q}var j=a(B,O,P),Z=e(j,4),tt=Z[0],lt=Z[1],J=Z[2],nt=Z[3],ut=tt.length,ft=[],pt=[],_t=N+1,Et=0,Ot=0,oe=R?+R[0]:1/0,se=R?+R[1]:-1/0;o(B,O,P,function(it,kt){++Ot,Et+=(kt-Et)/Ot,R||(it<oe&&(oe=it),it>se&&(se=it))});var _e,le,ar,pe,ze;for(_e=0;_e<_t;++_e){for(ar=0,pe=0;ar<ut;++ar)pe+=Math.pow(tt[ar],_e)*lt[ar];for(ft.push(pe),ze=new Float64Array(_t),le=0;le<_t;++le){for(ar=0,pe=0;ar<ut;++ar)pe+=Math.pow(tt[ar],_e+le);ze[le]=pe}pt.push(ze)}pt.push(ft);var rr=k(pt),ur=function(kt){kt-=J;var Gt=nt+rr[0]+rr[1]*kt+rr[2]*kt*kt;for(_e=3;_e<_t;++_e)Gt+=rr[_e]*Math.pow(kt,_e);return Gt},_r=f(oe,se,ur);return _r.coefficients=I(_t,rr,-J,nt),_r.predict=ur,_r.rSquared=s(B,O,P,Et,ur),_r}return z.domain=function(B){return arguments.length?(R=B,z):R},z.x=function(B){return arguments.length?(O=B,z):O},z.y=function(B){return arguments.length?(P=B,z):P},z.order=function(B){return arguments.length?(N=B,z):N},z}function I(O,P,N,R){var z=Array(O),B,Y,q,j;for(B=0;B<O;++B)z[B]=0;for(B=O-1;B>=0;--B)for(q=P[B],j=1,z[B]+=q,Y=1;Y<=B;++Y)j*=(B+1-Y)/Y,z[B-Y]+=q*Math.pow(N,Y)*j;return z[0]+=R,z}function k(O){var P=O.length-1,N=[],R,z,B,Y,q;for(R=0;R<P;++R){for(Y=R,z=R+1;z<P;++z)Math.abs(O[R][z])>Math.abs(O[R][Y])&&(Y=z);for(B=R;B<P+1;++B)q=O[B][R],O[B][R]=O[B][Y],O[B][Y]=q;for(z=R+1;z<P;++z)for(B=P;B>=R;B--)O[B][z]-=O[B][R]*O[R][z]/O[R][R]}for(z=P-1;z>=0;--z){for(q=0,B=z+1;B<P;++B)q+=O[B][z]*N[B];N[z]=(O[P][z]-q)/O[z][z]}return N}function E(){var O=function(B){return B[0]},P=function(B){return B[1]},N;function R(z){var B=0,Y=0,q=0,j=0,Z=0,tt=0,lt=N?+N[0]:1/0,J=N?+N[1]:-1/0;o(z,O,P,function(Ot,oe){var se=Math.log(Ot),_e=Math.log(oe);++B,Y+=(se-Y)/B,q+=(_e-q)/B,j+=(se*_e-j)/B,Z+=(se*se-Z)/B,tt+=(oe-tt)/B,N||(Ot<lt&&(lt=Ot),Ot>J&&(J=Ot))});var nt=c(Y,q,j,Z),ut=e(nt,2),ft=ut[0],pt=ut[1];ft=Math.exp(ft);var _t=function(oe){return ft*Math.pow(oe,pt)},Et=f(lt,J,_t);return Et.a=ft,Et.b=pt,Et.predict=_t,Et.rSquared=s(z,O,P,tt,_t),Et}return R.domain=function(z){return arguments.length?(N=z,R):N},R.x=function(z){return arguments.length?(O=z,R):O},R.y=function(z){return arguments.length?(P=z,R):P},R}r.regressionExp=h,r.regressionLinear=d,r.regressionLoess=m,r.regressionLog=_,r.regressionPoly=A,r.regressionPow=E,r.regressionQuad=M,Object.defineProperty(r,"__esModule",{value:!0})})});var xtt=$((f6,fNt)=>{(function(r,e){typeof f6=="object"&&typeof fNt!="undefined"?e(f6):typeof define=="function"&&define.amd?define(["exports"],e):e(r.fmin=r.fmin||{})})(f6,function(r){"use strict";function e(d,v,p,g){g=g||{};var m=g.maxIterations||100,y=g.tolerance||1e-10,x=d(v),b=d(p),_=p-v;if(x*b>0)throw"Initial bisect points must have opposite signs";if(x===0)return v;if(b===0)return p;for(var M=0;M<m;++M){_/=2;var A=v+_,I=d(A);if(I*x>=0&&(v=A),Math.abs(_)<y||I===0)return A}return v+_}function t(d){for(var v=new Array(d),p=0;p<d;++p)v[p]=0;return v}function i(d,v){return t(d).map(function(){return t(v)})}function n(d,v){for(var p=0,g=0;g<d.length;++g)p+=d[g]*v[g];return p}function a(d){return Math.sqrt(n(d,d))}function o(d,v,p){for(var g=0;g<v.length;++g)d[g]=v[g]*p}function s(d,v,p,g,m){for(var y=0;y<d.length;++y)d[y]=v*p[y]+g*m[y]}function l(d,v,p){p=p||{};var g=p.maxIterations||v.length*200,m=p.nonZeroDelta||1.05,y=p.zeroDelta||.001,x=p.minErrorDelta||1e-6,b=p.minErrorDelta||1e-5,_=p.rho!==void 0?p.rho:1,M=p.chi!==void 0?p.chi:2,A=p.psi!==void 0?p.psi:-.5,I=p.sigma!==void 0?p.sigma:.5,k,E=v.length,O=new Array(E+1);O[0]=v,O[0].fx=d(v),O[0].id=0;for(var P=0;P<E;++P){var N=v.slice();N[P]=N[P]?N[P]*m:y,O[P+1]=N,O[P+1].fx=d(N),O[P+1].id=P+1}function R(ut){for(var ft=0;ft<ut.length;ft++)O[E][ft]=ut[ft];O[E].fx=ut.fx}for(var z=function(ut,ft){return ut.fx-ft.fx},B=v.slice(),Y=v.slice(),q=v.slice(),j=v.slice(),Z=0;Z<g;++Z){if(O.sort(z),p.history){var tt=O.map(function(ut){var ft=ut.slice();return ft.fx=ut.fx,ft.id=ut.id,ft});tt.sort(function(ut,ft){return ut.id-ft.id}),p.history.push({x:O[0].slice(),fx:O[0].fx,simplex:tt})}for(k=0,P=0;P<E;++P)k=Math.max(k,Math.abs(O[0][P]-O[1][P]));if(Math.abs(O[0].fx-O[E].fx)<x&&k<b)break;for(P=0;P<E;++P){B[P]=0;for(var lt=0;lt<E;++lt)B[P]+=O[lt][P];B[P]/=E}var J=O[E];if(s(Y,1+_,B,-_,J),Y.fx=d(Y),Y.fx<O[0].fx)s(j,1+M,B,-M,J),j.fx=d(j),j.fx<Y.fx?R(j):R(Y);else if(Y.fx>=O[E-1].fx){var nt=!1;if(Y.fx>J.fx?(s(q,1+A,B,-A,J),q.fx=d(q),q.fx<J.fx?R(q):nt=!0):(s(q,1-A*_,B,A*_,J),q.fx=d(q),q.fx<Y.fx?R(q):nt=!0),nt){if(I>=1)break;for(P=1;P<O.length;++P)s(O[P],1-I,O[0],I,O[P]),O[P].fx=d(O[P])}}else R(Y)}return O.sort(z),{fx:O[0].fx,x:O[0]}}function u(d,v,p,g,m,y,x){var b=p.fx,_=n(p.fxprime,v),M=b,A=b,I=_,k=0;m=m||1,y=y||1e-6,x=x||.1;function E(P,N,R){for(var z=0;z<16;++z)if(m=(P+N)/2,s(g.x,1,p.x,m,v),M=g.fx=d(g.x,g.fxprime),I=n(g.fxprime,v),M>b+y*m*_||M>=R)N=m;else{if(Math.abs(I)<=-x*_)return m;I*(N-P)>=0&&(N=P),P=m,R=M}return 0}for(var O=0;O<10;++O){if(s(g.x,1,p.x,m,v),M=g.fx=d(g.x,g.fxprime),I=n(g.fxprime,v),M>b+y*m*_||O&&M>=A)return E(k,m,A);if(Math.abs(I)<=-x*_)return m;if(I>=0)return E(m,k,M);A=M,k=m,m*=2}return m}function f(d,v,p){var g={x:v.slice(),fx:0,fxprime:v.slice()},m={x:v.slice(),fx:0,fxprime:v.slice()},y=v.slice(),x,b,_=1,M;p=p||{},M=p.maxIterations||v.length*20,g.fx=d(g.x,g.fxprime),x=g.fxprime.slice(),o(x,g.fxprime,-1);for(var A=0;A<M;++A){if(_=u(d,x,g,m,_),p.history&&p.history.push({x:g.x.slice(),fx:g.fx,fxprime:g.fxprime.slice(),alpha:_}),!_)o(x,g.fxprime,-1);else{s(y,1,m.fxprime,-1,g.fxprime);var I=n(g.fxprime,g.fxprime),k=Math.max(0,n(y,m.fxprime)/I);s(x,k,x,-1,m.fxprime),b=g,g=m,m=b}if(a(g.fxprime)<=1e-5)break}return p.history&&p.history.push({x:g.x.slice(),fx:g.fx,fxprime:g.fxprime.slice(),alpha:_}),g}function c(d,v,p){p=p||{};for(var g=p.maxIterations||v.length*100,m=p.learnRate||.001,y={x:v.slice(),fx:0,fxprime:v.slice()},x=0;x<g&&(y.fx=d(y.x,y.fxprime),p.history&&p.history.push({x:y.x.slice(),fx:y.fx,fxprime:y.fxprime.slice()}),s(y.x,1,y.x,-m,y.fxprime),!(a(y.fxprime)<=1e-5));++x);return y}function h(d,v,p){p=p||{};var g={x:v.slice(),fx:0,fxprime:v.slice()},m={x:v.slice(),fx:0,fxprime:v.slice()},y=p.maxIterations||v.length*100,x=p.learnRate||1,b=v.slice(),_=p.c1||.001,M=p.c2||.1,A,I=[];if(p.history){var k=d;d=function(O,P){return I.push(O.slice()),k(O,P)}}g.fx=d(g.x,g.fxprime);for(var E=0;E<y&&(o(b,g.fxprime,-1),x=u(d,b,g,m,x,_,M),p.history&&(p.history.push({x:g.x.slice(),fx:g.fx,fxprime:g.fxprime.slice(),functionCalls:I,learnRate:x,alpha:x}),I=[]),A=g,g=m,m=A,!(x===0||a(g.fxprime)<1e-5));++E);return g}r.bisect=e,r.nelderMead=l,r.conjugateGradient=f,r.gradientDescent=c,r.gradientDescentLineSearch=h,r.zeros=t,r.zerosM=i,r.norm2=a,r.weightedSum=s,r.scale=o})});var INt=$((Lqi,Iw)=>{"use strict";var d6=Iw.exports;Iw.exports.isNumber=function(r){return typeof r=="number"};Iw.exports.findMin=function(r){if(r.length===0)return 1/0;for(var e=r[0],t=1;t<r.length;t++)e=Math.min(e,r[t]);return e};Iw.exports.findMax=function(r){if(r.length===0)return-1/0;for(var e=r[0],t=1;t<r.length;t++)e=Math.max(e,r[t]);return e};Iw.exports.findMinMulti=function(r){for(var e=d6.findMin(r[0]),t=1;t<r.length;t++)e=Math.min(e,d6.findMin(r[t]));return e};Iw.exports.findMaxMulti=function(r){for(var e=d6.findMax(r[0]),t=1;t<r.length;t++)e=Math.max(e,d6.findMax(r[t]));return e};Iw.exports.inside=function(r,e,t){return r<=t&&t<=e}});var PNt=$((Oqi,Lw)=>{"use strict";var LNt=50,ONt=2,wke=Math.log(2),kNt=Lw.exports,ap=INt();function _ke(r){return 1-Math.abs(r)}Lw.exports.getUnifiedMinMax=function(r,e){return kNt.getUnifiedMinMaxMulti([r],e)};Lw.exports.getUnifiedMinMaxMulti=function(r,e){e=e||{};var t=!1,i=!1,n=ap.isNumber(e.width)?e.width:ONt,a=ap.isNumber(e.size)?e.size:LNt,o=ap.isNumber(e.min)?e.min:(t=!0,ap.findMinMulti(r)),s=ap.isNumber(e.max)?e.max:(i=!0,ap.findMaxMulti(r)),l=s-o,u=l/(a-1);return t&&(o=o-2*n*u),i&&(s=s+2*n*u),{min:o,max:s}};Lw.exports.create=function(r,e){if(e=e||{},!r||r.length===0)return[];var t=ap.isNumber(e.size)?e.size:LNt,i=ap.isNumber(e.width)?e.width:ONt,n=kNt.getUnifiedMinMax(r,{size:t,width:i,min:e.min,max:e.max}),a=n.min,o=n.max,s=o-a,l=s/(t-1);if(s===0)return[{x:a,y:1}];for(var u=[],f=0;f<t;f++)u.push({x:a+f*l,y:0});var c=function(x){return Math.floor((x-a)/l)},h=Ske(_ke,i),d=h[i],v=h[i-1]-h[i-2],p=0;r.forEach(function(x){var b=c(x);if(!(b+i<0||b-i>=u.length)){var _=Math.max(b-i,0),M=b,A=Math.min(b+i,u.length-1),I=_-(b-i),k=b+i-A,E=h[-i-1+I]||0,O=h[-i-1+k]||0,P=d/(d-E-O);I>0&&(p+=P*(I-1)*v);var N=Math.max(0,b-i+1);ap.inside(0,u.length-1,N)&&(u[N].y+=P*1*v),ap.inside(0,u.length-1,M+1)&&(u[M+1].y-=P*2*v),ap.inside(0,u.length-1,A+1)&&(u[A+1].y+=P*1*v)}});var g=p,m=0,y=0;return u.forEach(function(x){m+=x.y,g+=m,x.y=g,y+=g}),y>0&&u.forEach(function(x){x.y/=y}),u};function Ske(r,e){for(var t={},i=0,n=-e;n<=e;n++)i+=r(n/e),t[n]=i;return t}Lw.exports.getExpectedValueFromPdf=function(r){if(!(!r||r.length===0)){var e=0;return r.forEach(function(t){e+=t.x*t.y}),e}};Lw.exports.getXWithLeftTailArea=function(r,e){if(!(!r||r.length===0)){for(var t=0,i=0,n=0;n<r.length&&(i=n,t+=r[n].y,!(t>=e));n++);return r[i].x}};Lw.exports.getPerplexity=function(r){if(!(!r||r.length===0)){var e=0;return r.forEach(function(t){var i=Math.log(t.y);isFinite(i)&&(e+=t.y*i)}),e=-e/wke,Math.pow(2,e)}}});var ZBt=$(ix=>{"use strict";Object.defineProperty(ix,"__esModule",{value:!0});var zw=eC();function qBt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return zw.mat3.fromTranslation(i,t),zw.mat3.multiply(r,i,e)}ix.leftTranslate=qBt;function HBt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return zw.mat3.fromRotation(i,t),zw.mat3.multiply(r,i,e)}ix.leftRotate=HBt;function UBt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return zw.mat3.fromScaling(i,t),zw.mat3.multiply(r,i,e)}ix.leftScale=UBt;function tNe(r,e,t){return zw.mat3.multiply(r,t,e)}function eNe(r,e){for(var t=r?[].concat(r):[1,0,0,0,1,0,0,0,1],i=0,n=e.length;i<n;i++){var a=e[i];switch(a[0]){case"t":qBt(t,t,[a[1],a[2]]);break;case"s":UBt(t,t,[a[1],a[2]]);break;case"r":HBt(t,t,a[1]);break;case"m":tNe(t,t,a[1]);break;default:break}}return t}ix.transform=eNe;function XBt(r,e){return r[0]*e[1]-e[0]*r[1]}ix.direction=XBt;function rNe(r,e,t){var i=zw.vec2.angle(r,e),n=XBt(r,e)>=0;return t?n?Math.PI*2-i:i:n?i:Math.PI*2-i}ix.angleTo=rNe;function iNe(r,e,t){return t?(r[0]=e[1],r[1]=-1*e[0]):(r[0]=-1*e[1],r[1]=e[0]),r}ix.vertical=iNe});var xY=$(fI=>{"use strict";Object.defineProperty(fI,"__esModule",{value:!0});fI.MESSAGE=fI.ALGORITHM=void 0;var qNe={pageRank:"pageRank",breadthFirstSearch:"breadthFirstSearch",connectedComponent:"connectedComponent",depthFirstSearch:"depthFirstSearch",detectCycle:"detectCycle",detectDirectedCycle:"detectDirectedCycle",detectAllCycles:"detectAllCycles",detectAllDirectedCycle:"detectAllDirectedCycle",detectAllUndirectedCycle:"detectAllUndirectedCycle",dijkstra:"dijkstra",findAllPath:"findAllPath",findShortestPath:"findShortestPath",floydWarshall:"floydWarshall",getAdjMatrix:"getAdjMatrix",getDegree:"getDegree",getInDegree:"getInDegree",getNeighbors:"getNeighbors",getOutDegree:"getOutDegree",labelPropagation:"labelPropagation",louvain:"louvain",GADDI:"GADDI",minimumSpanningTree:"minimumSpanningTree",SUCCESS:"SUCCESS",FAILURE:"FAILURE"};fI.ALGORITHM=qNe;var HNe={SUCCESS:"SUCCESS",FAILURE:"FAILURE"};fI.MESSAGE=HNe});var GF=$(bY=>{"use strict";Object.defineProperty(bY,"__esModule",{value:!0});bY.default=void 0;var UNe=function(e,t){var i=e.nodes,n=e.edges,a=[],o={};if(!i)throw new Error("invalid nodes data!");return i&&i.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,f=o[l],c=o[u];!f&&f!==0||!c&&c!==0||(a[f][c]=1,t||(a[c][f]=1))}),a},XNe=UNe;bY.default=XNe});var yRt=$(cI=>{"use strict";Object.defineProperty(cI,"__esModule",{value:!0});cI.default=cI.LinkedListNode=void 0;var ZNe=function(e,t){return e===t},zrt=function(){function r(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return r.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},r}();cI.LinkedListNode=zrt;var KNe=function(){function r(e){e===void 0&&(e=ZNe),this.head=null,this.tail=null,this.compare=e}return r.prototype.prepend=function(e){var t=new zrt(e,this.head);return this.head=t,this.tail||(this.tail=t),this},r.prototype.append=function(e){var t=new zrt(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},r.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var i=this.head;if(i!==null)for(;i.next;)this.compare(i.next.value,e)?(t=i.next,i.next=i.next.next):i=i.next;return this.compare(this.tail.value,e)&&(this.tail=i),t},r.prototype.find=function(e){var t=e.value,i=t===void 0?void 0:t,n=e.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||i!==void 0&&this.compare(o.value,i))return o;o=o.next}return null},r.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},r.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},r.prototype.fromArray=function(e){var t=this;return e.forEach(function(i){return t.append(i)}),this},r.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},r.prototype.reverse=function(){for(var e=this.head,t=null,i=null;e;)i=e.next,e.next=t,t=e,e=i;this.tail=this.head,this.head=t},r.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},r}(),QNe=KNe;cI.default=QNe});var xRt=$(wY=>{"use strict";Object.defineProperty(wY,"__esModule",{value:!0});wY.default=void 0;var $Ne=JNe(yRt());function JNe(r){return r&&r.__esModule?r:{default:r}}var tBe=function(){function r(){this.linkedList=new $Ne.default}return r.prototype.isEmpty=function(){return!this.linkedList.head},r.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},r.prototype.enqueue=function(e){this.linkedList.append(e)},r.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},r.prototype.toString=function(e){return this.linkedList.toString(e)},r}(),eBe=tBe;wY.default=eBe});var Od=$(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.uniqueId=um.getOutEdgesNodeId=um.getNeighbors=um.getEdgesByNodeId=void 0;var rBe=function(e,t,i){t===void 0&&(t=[]);var n=t.filter(function(l){return l.source===e||l.target===e});if(i==="target"){var a=function(u){return u.source===e};return n.filter(a).map(function(l){return l.target})}if(i==="source"){var o=function(u){return u.target===e};return n.filter(o).map(function(l){return l.source})}var s=function(u){return u.source===e?u.target:u.source};return n.map(s)};um.getNeighbors=rBe;var iBe=function(e,t){return t.filter(function(i){return i.source===e})};um.getOutEdgesNodeId=iBe;var nBe=function(e,t){return t.filter(function(i){return i.source===e||i.target===e})};um.getEdgesByNodeId=nBe;var aBe=function(e){e===void 0&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),i="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(i)};um.uniqueId=aBe});var bRt=$(_Y=>{"use strict";Object.defineProperty(_Y,"__esModule",{value:!0});_Y.default=void 0;var oBe=lBe(xRt()),sBe=Od();function lBe(r){return r&&r.__esModule?r:{default:r}}function uBe(r){r===void 0&&(r={});var e=r,t=function(){},i=function(){var n={};return function(a){var o=a.next,s=o;return n[s]?!1:(n[s]=!0,!0)}}();return e.allowTraversal=r.allowTraversal||i,e.enter=r.enter||t,e.leave=r.leave||t,e}var fBe=function(e,t,i,n){n===void 0&&(n=!0);var a=uBe(i),o=new oBe.default,s=e.edges,l=s===void 0?[]:s;o.enqueue(t);for(var u="",f=function(){var h=o.dequeue();a.enter({current:h,previous:u}),(0,sBe.getNeighbors)(h,l,n?"target":void 0).forEach(function(d){a.allowTraversal({previous:u,current:h,next:d})&&o.enqueue(d)}),a.leave({current:h,previous:u}),u=h};!o.isEmpty();)f()},cBe=fBe;_Y.default=cBe});var jrt=$(iM=>{"use strict";Object.defineProperty(iM,"__esModule",{value:!0});iM.default=hBe;iM.detectStrongConnectComponents=iM.detectConnectedComponents=void 0;var wRt=Od(),_Rt=function(e){for(var t=e.nodes,i=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},l=[],u=function d(v){l.push(v),s[v.id]=!0;for(var p=(0,wRt.getNeighbors)(v.id,a),g=function(x){var b=p[x];if(!s[b]){var _=i.filter(function(M){return M.id===b});_.length>0&&d(_[0])}},m=0;m<p.length;++m)g(m)},f=0;f<i.length;f++){var c=i[f];if(!s[c.id]){u(c);for(var h=[];l.length>0;)h.push(l.pop());o.push(h)}}return o};iM.detectConnectedComponents=_Rt;var SRt=function(e){for(var t=e.nodes,i=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},l={},u={},f=[],c=0,h=function g(m){l[m.id]=c,u[m.id]=c,c+=1,o.push(m),s[m.id]=!0;for(var y=(0,wRt.getNeighbors)(m.id,a,"target").filter(function(A){return i.map(function(I){return I.id}).indexOf(A)>-1}),x=function(I){var k=y[I];if(!l[k]&&l[k]!==0){var E=i.filter(function(O){return O.id===k});E.length>0&&g(E[0]),u[m.id]=Math.min(u[m.id],u[k])}else s[k]&&(u[m.id]=Math.min(u[m.id],l[k]))},b=0;b<y.length;b++)x(b);if(u[m.id]===l[m.id]){for(var _=[];o.length>0;){var M=o.pop();if(s[M.id]=!1,_.push(M),M===m)break}_.length>0&&f.push(_)}},d=0,v=i;d<v.length;d++){var p=v[d];!l[p.id]&&l[p.id]!==0&&h(p)}return f};iM.detectStrongConnectComponents=SRt;function hBe(r,e){return e?SRt(r):_Rt(r)}});var Yrt=$(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.getOutDegree=Vw.getInDegree=Vw.default=void 0;var zF=function(e){var t={},i=e.nodes,n=i===void 0?[]:i,a=e.edges,o=a===void 0?[]:a;return n.forEach(function(s){t[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){t[s.source].degree++,t[s.source].outDegree++,t[s.target].degree++,t[s.target].inDegree++}),t},dBe=zF;Vw.default=dBe;var vBe=function(e,t){var i=zF(e);return i[t]?zF(e)[t].inDegree:0};Vw.getInDegree=vBe;var pBe=function(e,t){var i=zF(e);return i[t]?zF(e)[t].outDegree:0};Vw.getOutDegree=pBe});var Vrt=$(Wrt=>{"use strict";Object.defineProperty(Wrt,"__esModule",{value:!0});Wrt.default=yBe;var gBe=Od();function mBe(r){r===void 0&&(r={});var e=r,t=function(){},i=function(){var n={};return function(a){var o=a.next;return n[o]?!1:(n[o]=!0,!0)}}();return e.allowTraversal=r.allowTraversal||i,e.enter=r.enter||t,e.leave=r.leave||t,e}function CRt(r,e,t,i,n){n===void 0&&(n=!0),i.enter({current:e,previous:t});var a=r.edges,o=a===void 0?[]:a;(0,gBe.getNeighbors)(e,o,n?"target":void 0).forEach(function(s){i.allowTraversal({previous:t,current:e,next:s})&&CRt(r,s,e,i,n)}),i.leave({current:e,previous:t})}function yBe(r,e,t,i){i===void 0&&(i=!0),CRt(r,e,"",mBe(t),i)}});var LRt=$(fm=>{"use strict";function qrt(r){return qrt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qrt(r)}Object.defineProperty(fm,"__esModule",{value:!0});fm.detectAllUndirectedCycle=fm.detectAllDirectedCycle=fm.detectAllCycles=fm.default=void 0;var xBe=wBe(Vrt()),MRt=bBe(jrt()),ARt=Od();function ERt(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(ERt=function(n){return n?t:e})(r)}function bBe(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||qrt(r)!=="object"&&typeof r!="function")return{default:r};var t=ERt(e);if(t&&t.has(r))return t.get(r);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if(a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)){var o=n?Object.getOwnPropertyDescriptor(r,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=r[a]}return i.default=r,t&&t.set(r,i),i}function wBe(r){return r&&r.__esModule?r:{default:r}}var _Be=function(e){var t=null,i=e.nodes,n=i===void 0?[]:i,a={},o={},s={},l={};n.forEach(function(c){o[c.id]=c});for(var u={enter:function(h){var d=h.current,v=h.previous;if(s[d]){t={};for(var p=d,g=v;g!==d;)t[p]=g,p=g,g=a[g];t[p]=g}else s[d]=d,delete o[d],a[d]=v},leave:function(h){var d=h.current;l[d]=d,delete s[d]},allowTraversal:function(h){var d=h.next;return t?!1:!l[d]}};Object.keys(o).length;){var f=Object.keys(o)[0];(0,xBe.default)(e,f,u)}return t},TRt=function(e,t,i){var n,a;i===void 0&&(i=!0);for(var o=[],s=(0,MRt.default)(e,!1),l=0,u=s;l<u.length;l++){var f=u[l];if(!!f.length)for(var c=f[0],h=c.id,d=[c],v=(n={},n[h]=c,n),p=(a={},a[h]=new Set,a);d.length>0;)for(var g=d.pop(),m=g.id,y=(0,ARt.getNeighbors)(m,e.edges),x=function(M){var A,I=y[M],k=e.nodes.find(function(z){return z.id===I});if(I===m)o.push((A={},A[I]=g,A));else if(!(I in p))v[I]=g,d.push(k),p[I]=new Set([g]);else if(!p[m].has(k)){for(var E=!0,O=[k,g],P=v[m];p[I].size&&!p[I].has(P)&&(O.push(P),P!==v[P.id]);)P=v[P.id];if(O.push(P),t&&i?(E=!1,O.findIndex(function(z){return t.indexOf(z.id)>-1})>-1&&(E=!0)):t&&!i&&O.findIndex(function(z){return t.indexOf(z.id)>-1})>-1&&(E=!1),E){for(var N={},R=1;R<O.length;R+=1)N[O[R-1].id]=O[R];O.length&&(N[O[O.length-1].id]=O[0]),o.push(N)}p[I].add(g)}},b=0;b<y.length;b+=1)x(b)}return o};fm.detectAllUndirectedCycle=TRt;var IRt=function(e,t,i){i===void 0&&(i=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},f=function(P){for(var N=[P];N.length>0;){var R=N.pop();a.has(R)&&(a.delete(R),o[R.id].forEach(function(z){N.push(z)}),o[R.id].clear())}},c=function O(P,N,R){var z=!1;if(t&&i===!1&&t.indexOf(P.id)>-1)return z;n.push(P),a.add(P);for(var B=R[P.id],Y=0;Y<B.length;Y+=1){var q=l[B[Y]];if(q===N){for(var j={},Z=1;Z<n.length;Z+=1)j[n[Z-1].id]=n[Z];n.length&&(j[n[n.length-1].id]=n[0]),s.push(j),z=!0}else a.has(q)||O(q,N,R)&&(z=!0)}if(z)f(P);else for(var Y=0;Y<B.length;Y+=1){var q=l[B[Y]];o[q.id].has(P)||o[q.id].add(P)}return n.pop(),z},h=e.nodes,d=h===void 0?[]:h,v=0;v<d.length;v+=1){var p=d[v],g=p.id;u[g]=v,l[v]=p}if(t&&i)for(var m=function(P){var N=t[P];u[d[P].id]=u[N],u[N]=0,l[0]=d.find(function(R){return R.id===N}),l[u[d[P].id]]=d[P]},v=0;v<t.length;v++)m(v);for(var y=function(P){for(var N,R,z=1/0,B=0;B<P.length;B+=1)for(var Y=P[B],q=0;q<Y.length;q++){var j=u[Y[q].id];j<z&&(z=j,R=B)}for(var Z=P[R],tt=[],B=0;B<Z.length;B+=1){var lt=Z[B];tt[lt.id]=[];for(var J=0,nt=(0,ARt.getNeighbors)(lt.id,e.edges,"target").filter(function(pt){return Z.map(function(_t){return _t.id}).indexOf(pt)>-1});J<nt.length;J++){var ut=nt[J];ut===lt.id&&!(i===!1&&t.indexOf(lt.id)>-1)?s.push((N={},N[lt.id]=lt,N)):tt[lt.id].push(u[ut])}}return{component:Z,adjList:tt,minIdx:z}},x=0;x<d.length;){var b=d.filter(function(O){return u[O.id]>=x}),_=(0,MRt.detectStrongConnectComponents)({nodes:b,edges:e.edges}).filter(function(O){return O.length>1});if(_.length===0)break;var M=y(_),A=M.minIdx,I=M.adjList,k=M.component;if(k.length>1){k.forEach(function(O){o[O.id]=new Set});var E=l[A];if(t&&i&&t.indexOf(E.id)===-1)return s;c(E,E,I),x=A+1}else break}return s};fm.detectAllDirectedCycle=IRt;var SBe=function(e,t,i,n){return n===void 0&&(n=!0),t?IRt(e,i,n):TRt(e,i,n)};fm.detectAllCycles=SBe;var CBe=_Be;fm.default=CBe});var CY=$(SY=>{"use strict";Object.defineProperty(SY,"__esModule",{value:!0});SY.default=void 0;var ORt=Mr(),MBe=ot(),kRt=Od(),ABe=function(e,t,i){for(var n=1/0,a,o=0;o<t.length;o++){var s=t[o].id;!i[s]&&e[s]<=n&&(n=e[s],a=t[o])}return a},EBe=function(e,t,i,n){var a=e.nodes,o=a===void 0?[]:a,s=e.edges,l=s===void 0?[]:s,u=[],f={},c={},h={};o.forEach(function(x,b){var _=x.id;u.push(_),c[_]=1/0,_===t&&(c[_]=0)});for(var d=o.length,v=function(b){var _=ABe(c,o,f),M=_.id;if(f[M]=!0,c[M]===1/0)return"continue";var A=[];i?A=(0,kRt.getOutEdgesNodeId)(M,l):A=(0,kRt.getEdgesByNodeId)(M,l),A.forEach(function(I){var k=I.target,E=I.source,O=k===M?E:k,P=n&&I[n]?I[n]:1;c[O]>c[_.id]+P?(c[O]=c[_.id]+P,h[O]=[_.id]):c[O]===c[_.id]+P&&h[O].push(_.id)})},p=0;p<d;p++)v(p);h[t]=[t];var g={};for(var m in c)c[m]!==1/0&&PRt(t,m,h,g);var y={};for(var m in g)y[m]=g[m][0];return{length:c,path:y,allPath:g}},TBe=EBe;SY.default=TBe;function PRt(r,e,t,i){if(r===e)return[r];if(i[e])return i[e];for(var n=[],a=0,o=t[e];a<o.length;a++){var s=o[a],l=PRt(r,s,t,i);if(!l)return;for(var u=0,f=l;u<f.length;u++){var c=f[u];(0,MBe.isArray)(c)?n.push((0,ORt.__spreadArray)((0,ORt.__spreadArray)([],c,!0),[e],!1)):n.push([c,e])}}return i[e]=n,i[e]}});var DRt=$(hI=>{"use strict";Object.defineProperty(hI,"__esModule",{value:!0});hI.findShortestPath=hI.findAllPath=void 0;var IBe=LBe(CY()),MY=Od();function LBe(r){return r&&r.__esModule?r:{default:r}}var OBe=function(e,t,i,n,a){var o=(0,IBe.default)(e,t,n,a),s=o.length,l=o.path,u=o.allPath;return{length:s[i],path:l[i],allPath:u[i]}};hI.findShortestPath=OBe;var kBe=function(e,t,i,n){var a;if(t===i)return[[t]];var o=e.edges,s=o===void 0?[]:o,l=[t],u=(a={},a[t]=!0,a),f=[],c=[],h=n?(0,MY.getNeighbors)(t,s,"target"):(0,MY.getNeighbors)(t,s);for(f.push(h);l.length>0&&f.length>0;){var d=f[f.length-1];if(d.length){var v=d.shift();v&&(l.push(v),u[v]=!0,h=n?(0,MY.getNeighbors)(v,s,"target"):(0,MY.getNeighbors)(v,s),f.push(h.filter(function(m){return!u[m]})))}else{var p=l.pop();u[p]=!1,f.pop();continue}if(l[l.length-1]===i){var g=l.map(function(y){return y});c.push(g);var p=l.pop();u[p]=!1,f.pop()}}return c};hI.findAllPath=kBe});var Hrt=$(AY=>{"use strict";Object.defineProperty(AY,"__esModule",{value:!0});AY.default=void 0;var PBe=DBe(GF());function DBe(r){return r&&r.__esModule?r:{default:r}}var FBe=function(e,t){for(var i=(0,PBe.default)(e,t),n=[],a=i.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:i[o][s]===0||!i[o][s]?n[o][s]=1/0:n[o][s]=i[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},NBe=FBe;AY.default=NBe});var FRt=$(EY=>{"use strict";Object.defineProperty(EY,"__esModule",{value:!0});EY.default=void 0;var BBe=GBe(GF()),RBe=Od();function GBe(r){return r&&r.__esModule?r:{default:r}}var zBe=function(e,t,i,n){t===void 0&&(t=!1),i===void 0&&(i="weight"),n===void 0&&(n=1e3);var a=e.nodes,o=a===void 0?[]:a,s=e.edges,l=s===void 0?[]:s,u={},f={};o.forEach(function(b,_){var M=(0,RBe.uniqueId)();b.clusterId=M,u[M]={id:M,nodes:[b]},f[b.id]={node:b,idx:_}});var c=(0,BBe.default)(e,t),h=[],d={};c.forEach(function(b,_){var M=0,A=o[_].id;d[A]={},b.forEach(function(I,k){if(!!I){M+=I;var E=o[k].id;d[A][E]=I}}),h.push(M)});for(var v=0,p=function(){var _=!1;if(o.forEach(function(M){var A={};Object.keys(d[M.id]).forEach(function(z){var B=d[M.id][z],Y=f[z].node,q=Y.clusterId;A[q]||(A[q]=0),A[q]+=B});var I=-1/0,k=[];if(Object.keys(A).forEach(function(z){I<A[z]?(I=A[z],k=[z]):I===A[z]&&k.push(z)}),!(k.length===1&&k[0]===M.clusterId)){var E=k.indexOf(M.clusterId);if(E>=0&&k.splice(E,1),k&&k.length){_=!0;var O=u[M.clusterId],P=O.nodes.indexOf(M);O.nodes.splice(P,1);var N=Math.floor(Math.random()*k.length),R=u[k[N]];R.nodes.push(M),M.clusterId=R.id}}}),!_)return"break";v++};v<n;){var g=p();if(g==="break")break}Object.keys(u).forEach(function(b){var _=u[b];(!_.nodes||!_.nodes.length)&&delete u[b]});var m=[],y={};l.forEach(function(b){var _=b.source,M=b.target,A=b[i]||1,I=f[_].node.clusterId,k=f[M].node.clusterId,E="".concat(I,"---").concat(k);if(y[E])y[E].weight+=A,y[E].count++;else{var O={source:I,target:k,weight:A,count:1};y[E]=O,m.push(O)}});var x=[];return Object.keys(u).forEach(function(b){x.push(u[b])}),{clusters:x,clusterEdges:m}},jBe=zBe;EY.default=jBe});var Urt=$(TY=>{"use strict";Object.defineProperty(TY,"__esModule",{value:!0});TY.default=void 0;var YBe=ot(),WBe=function(){function r(e){this.arr=e}return r.prototype.getArr=function(){return this.arr||[]},r.prototype.add=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length))return new r(i);if(!(i==null?void 0:i.length))return new r(this.arr);if(this.arr.length===i.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]+i[a];return new r(n)}},r.prototype.subtract=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length))return new r(i);if(!(i==null?void 0:i.length))return new r(this.arr);if(this.arr.length===i.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]-i[a];return new r(n)}},r.prototype.avg=function(e){var t=[];if(e!==0)for(var i in this.arr)t[i]=this.arr[i]/e;return new r(t)},r.prototype.negate=function(){var e=[];for(var t in this.arr)e[t]=-this.arr[t];return new r(e)},r.prototype.squareEuclideanDistance=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length)||!(i==null?void 0:i.length))return 0;if(this.arr.length===i.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return n}},r.prototype.euclideanDistance=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length)||!(i==null?void 0:i.length))return 0;if(this.arr.length===i.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return Math.sqrt(n)}else console.error("The two vectors are unequal in length.")},r.prototype.normalize=function(){var e=[],t=(0,YBe.clone)(this.arr);t.sort(function(o,s){return o-s});var i=t[t.length-1],n=t[0];for(var a in this.arr)e[a]=(this.arr[a]-n)/(i-n);return new r(e)},r.prototype.norm2=function(){var e;if(!((e=this.arr)===null||e===void 0?void 0:e.length))return 0;var t=0;for(var i in this.arr)t+=Math.pow(this.arr[i],2);return Math.sqrt(t)},r.prototype.dot=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length)||!(i==null?void 0:i.length))return 0;if(this.arr.length===i.length){var n=0;for(var a in this.arr)n+=this.arr[a]*e.arr[a];return n}else console.error("The two vectors are unequal in length.")},r.prototype.equal=function(e){var t,i=e.arr;if(((t=this.arr)===null||t===void 0?void 0:t.length)!==(i==null?void 0:i.length))return!1;for(var n in this.arr)if(this.arr[n]!==i[n])return!1;return!0},r}(),VBe=WBe;TY.default=VBe});var NRt=$(dI=>{"use strict";Object.defineProperty(dI,"__esModule",{value:!0});dI.secondReg=dI.dateReg=void 0;var qBe=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/;dI.secondReg=qBe;var HBe=/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/;dI.dateReg=HBe});var zRt=$(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.getPropertyWeight=cm.getAllSortProperties=cm.getAllProperties=cm.default=void 0;var BRt=NRt(),Xrt=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=100);var i={};e.forEach(function(a){!a.properties||Object.keys(a.properties).forEach(function(o){if(o==="id"||!"".concat(a.properties[o]).match(BRt.secondReg)&&!"".concat(a.properties[o]).match(BRt.dateReg)&&isNaN(Number(a.properties[o]))){i.hasOwnProperty(o)&&delete i[o];return}i.hasOwnProperty(o)?i[o]+=1:i[o]=1})});var n=Object.keys(i).sort(function(a,o){return i[o]-i[a]});return n.length<t?n:n.slice(0,t)};cm.getAllSortProperties=Xrt;var UBe=function(e,t){return t.map(function(i){return e.hasOwnProperty(i)?e[i]:0})},RRt=function(e){for(var t=Xrt(e),i=[],n=0;n<e.length;n++)i[n]=UBe(e[n].properties,t);return i};cm.getPropertyWeight=RRt;var GRt=function(e,t){t===void 0&&(t=void 0);var i=[];return e.forEach(function(n){t===void 0&&i.push(n),n[t]!==void 0&&i.push(n[t])}),i};cm.getAllProperties=GRt;var XBe={getAllSortProperties:Xrt,getPropertyWeight:RRt,getAllProperties:GRt};cm.default=XBe});var jRt=$(jF=>{"use strict";Object.defineProperty(jF,"__esModule",{value:!0});jF.DistanceType=void 0;var Zrt;jF.DistanceType=Zrt;(function(r){r.EuclideanDistance="euclideanDistance"})(Zrt||(jF.DistanceType=Zrt={}))});var URt=$(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.oneHot=hm.getDistance=hm.getAllKeyValueMap=hm.default=void 0;var YRt=ot(),WRt=jRt(),VRt=ZBe(Urt());function ZBe(r){return r&&r.__esModule?r:{default:r}}var Krt=function(e,t,i){var n=[];(t==null?void 0:t.length)?n=t:(e.forEach(function(o){n=n.concat(Object.keys(o))}),n=(0,YRt.uniq)(n));var a={};return n.forEach(function(o){var s=[];e.forEach(function(l){l[o]!==void 0&&l[o]!==""&&s.push(l[o])}),s.length&&!(i==null?void 0:i.includes(o))&&(a[o]=(0,YRt.uniq)(s))}),a};hm.getAllKeyValueMap=Krt;var qRt=function(e,t,i){var n=Krt(e,t,i),a=[];if(!Object.keys(n).length)return a;var o=Object.values(n),s=o.every(function(l){return l.every(function(u){return typeof u=="number"})});return e.forEach(function(l,u){var f=[];Object.keys(n).forEach(function(c){var h=l[c],d=n[c],v=d.findIndex(function(m){return h===m}),p=[];if(s)p.push(h);else for(var g=0;g<d.length;g++)g===v?p.push(1):p.push(0);f=f.concat(p)}),a[u]=f}),a};hm.oneHot=qRt;var HRt=function(e,t,i,n){i===void 0&&(i=WRt.DistanceType.EuclideanDistance);var a=0;switch(i){case WRt.DistanceType.EuclideanDistance:a=new VRt.default(e).euclideanDistance(new VRt.default(t));break;default:break}return a};hm.getDistance=HRt;var KBe={getAllKeyValueMap:Krt,oneHot:qRt,getDistance:HRt};hm.default=KBe});var KRt=$(IY=>{"use strict";Object.defineProperty(IY,"__esModule",{value:!0});IY.default=void 0;var QBe=ot(),$Be=XRt(GF()),YF=XRt(Urt()),JBe=zRt(),tRe=URt();function XRt(r){return r&&r.__esModule?r:{default:r}}var ZRt=function(e,t,i,n){for(var a=t.length,o=2*n,s=0,l=0;l<a;l++)for(var u=e[l].clusterId,f=0;f<a;f++){var c=e[f].clusterId;if(u===c){var h=t[l][f]||0,d=i[l]||0,v=i[f]||0;s+=h-d*v/o}}return s*=1/o,s},Qrt=function(e,t){e===void 0&&(e=[]);for(var i=e.length,n=new YF.default([]),a=0;a<i;a++)n=n.add(new YF.default(t[a]));var o=n.avg(i);o.normalize();for(var s=0,a=0;a<i;a++){var l=new YF.default(t[a]),u=l.squareEuclideanDistance(o);s+=u}var f=[];e.forEach(function(){f.push([])});for(var a=0;a<i;a++){var l=new YF.default(t[a]);e[a].clusterInertial=0;for(var c=0;c<i;c++){if(a===c){f[a][c]=0;continue}var h=new YF.default(t[c]);f[a][c]=l.squareEuclideanDistance(h),e[a].clusterInertial+=f[a][c]}}for(var d=0,v=2*i*s,a=0;a<i;a++)for(var p=e[a].clusterId,c=0;c<i;c++){var g=e[c].clusterId;if(!(a===c||p!==g)){var m=e[a].clusterInertial*e[c].clusterInertial/Math.pow(v,2)-f[a][c]/v;d+=m}}return Number(d.toFixed(4))},eRe=function(e,t,i,n,a,o,s,l,u){t===void 0&&(t=!1),i===void 0&&(i="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),l===void 0&&(l=["id"]),u===void 0&&(u=1);var f=e.nodes,c=f===void 0?[]:f,h=e.edges,d=h===void 0?[]:h,v=[];if(a){c.forEach(function(j,Z){j.properties=j.properties||{},j.originIndex=Z});var p=[];c.every(function(j){return j.hasOwnProperty("nodeType")})&&(p=Array.from(new Set(c.map(function(j){return j.nodeType}))),c.forEach(function(j){j.properties.nodeType=p.findIndex(function(Z){return Z===j.nodeType})}));var g=(0,JBe.getAllProperties)(c,o);v=(0,tRe.oneHot)(g,s,l)}var m=1,y={},x={};c.forEach(function(j,Z){var tt=String(m++);j.clusterId=tt,y[tt]={id:tt,nodes:[j]},x[j.id]={node:j,idx:Z}});var b=(0,$Be.default)(e,t),_=[],M={},A=0;b.forEach(function(j,Z){var tt=0,lt=c[Z].id;M[lt]={},j.forEach(function(J,nt){if(!!J){tt+=J;var ut=c[nt].id;M[lt][ut]=J,A+=J}}),_.push(tt)}),A/=2;for(var I=1/0,k=1/0,E=0,O=[],P={};;){a&&c.every(function(j){return j.hasOwnProperty("properties")})?I=ZRt(c,b,_,A)+Qrt(c,v)*u:I=ZRt(c,b,_,A),E===0&&(k=I,O=c,P=y);var N=I>0&&I>k&&I-k<n;if(I>k&&(O=c.map(function(j){return{node:j,clusterId:j.clusterId}}),P=(0,QBe.clone)(y),k=I),N||E>100)break;E++,Object.keys(y).forEach(function(j){var Z=0;d.forEach(function(tt){var lt=tt.source,J=tt.target,nt=x[lt].node.clusterId,ut=x[J].node.clusterId;(nt===j&&ut!==j||ut===j&&nt!==j)&&(Z=Z+(tt[i]||1))}),y[j].sumTot=Z}),c.forEach(function(j,Z){var tt=y[j.clusterId],lt=0,J,nt=_[Z]/(2*A),ut=0,ft=tt.nodes;ft.forEach(function(pe){var ze=x[pe.id].idx;ut+=b[Z][ze]||0});var pt=ut-tt.sumTot*nt,_t=ft.filter(function(pe){return pe.id!==j.id}),Et=[];_t.forEach(function(pe,ze){Et[ze]=v[pe.originIndex]});var Ot=Qrt(_t,v)*u,oe=M[j.id];if(Object.keys(oe).forEach(function(pe){var ze=x[pe].node,rr=ze.clusterId;if(rr!==j.clusterId){var ur=y[rr],_r=ur.nodes;if(!(!_r||!_r.length)){var it=0;_r.forEach(function(ce){var Oe=x[ce.id].idx;it+=b[Z][Oe]||0});var kt=it-ur.sumTot*nt,Gt=_r.concat([j]),te=[];Gt.forEach(function(ce,Oe){te[Oe]=v[ce.originIndex]});var we=Qrt(Gt,v)*u,Ht=kt-pt;a&&(Ht=kt+we-(pt+Ot)),Ht>lt&&(lt=Ht,J=ur)}}}),lt>0){J.nodes.push(j);var se=j.clusterId;j.clusterId=J.id;var _e=tt.nodes.indexOf(j);tt.nodes.splice(_e,1);var le=0,ar=0;d.forEach(function(pe){var ze=pe.source,rr=pe.target,ur=x[ze].node.clusterId,_r=x[rr].node.clusterId;(ur===J.id&&_r!==J.id||_r===J.id&&ur!==J.id)&&(le=le+(pe[i]||1)),(ur===se&&_r!==se||_r===se&&ur!==se)&&(ar=ar+(pe[i]||1))}),J.sumTot=le,tt.sumTot=ar}})}var R={},z=0;Object.keys(P).forEach(function(j){var Z=P[j];if(!Z.nodes||!Z.nodes.length){delete P[j];return}var tt=String(z+1);tt!==j&&(Z.id=tt,Z.nodes=Z.nodes.map(function(lt){return{id:lt.id,clusterId:tt}}),P[tt]=Z,R[j]=tt,delete P[j],z++)}),O.forEach(function(j){var Z=j.node,tt=j.clusterId;!Z||(Z.clusterId=tt,Z.clusterId&&R[Z.clusterId]&&(Z.clusterId=R[Z.clusterId]))});var B=[],Y={};d.forEach(function(j){var Z=j.source,tt=j.target,lt=j[i]||1,J=x[Z].node.clusterId,nt=x[tt].node.clusterId;if(!(!J||!nt)){var ut="".concat(J,"---").concat(nt);if(Y[ut])Y[ut].weight+=lt,Y[ut].count++;else{var ft={source:J,target:nt,weight:lt,count:1};Y[ut]=ft,B.push(ft)}}});var q=[];return Object.keys(P).forEach(function(j){q.push(P[j])}),{clusters:q,clusterEdges:B}},rRe=eRe;IY.default=rRe});var QRt=$(LY=>{"use strict";Object.defineProperty(LY,"__esModule",{value:!0});LY.default=void 0;var iRe=function(){function r(e){this.count=e.length,this.parent={};for(var t=0,i=e;t<i.length;t++){var n=i[t];this.parent[n]=n}}return r.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},r.prototype.union=function(e,t){var i=this.find(e),n=this.find(t);i!==n&&(i<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},r.prototype.connected=function(e,t){return this.find(e)===this.find(t)},r}(),nRe=iRe;LY.default=nRe});var $Rt=$(OY=>{"use strict";Object.defineProperty(OY,"__esModule",{value:!0});OY.default=void 0;var aRe=function(e,t){return e-t},oRe=function(){function r(e){e===void 0&&(e=aRe),this.compareFn=e,this.list=[]}return r.prototype.getLeft=function(e){return 2*e+1},r.prototype.getRight=function(e){return 2*e+2},r.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},r.prototype.isEmpty=function(){return this.list.length<=0},r.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},r.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},r.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},r.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var i=this.list[t];this.list[t]=this.list[e],this.list[e]=i,e=t,t=this.getParent(e)}},r.prototype.moveDown=function(e){var t,i=e,n=this.getLeft(e),a=this.getRight(e),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[i],this.list[n])>0?i=n:a!==null&&a<o&&this.compareFn(this.list[i],this.list[a])>0&&(i=a),e!==i&&(t=[this.list[i],this.list[e]],this.list[e]=t[0],this.list[i]=t[1],this.moveDown(i))},r}(),sRe=oRe;OY.default=sRe});var e3t=$(kY=>{"use strict";Object.defineProperty(kY,"__esModule",{value:!0});kY.default=void 0;var lRe=JRt(QRt()),uRe=JRt($Rt()),$rt=Od();function JRt(r){return r&&r.__esModule?r:{default:r}}var fRe=function(e,t){var i=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return i;var l=a[0],u=new Set;u.add(l);var f=function(g,m){return t?g.weight-m.weight:0},c=new uRe.default(f);for((0,$rt.getEdgesByNodeId)(l.id,s).forEach(function(p){c.insert(p)});!c.isEmpty();){var h=c.delMin(),d=h.source,v=h.target;u.has(d)&&u.has(v)||(i.push(h),u.has(d)||(u.add(d),(0,$rt.getEdgesByNodeId)(d,s).forEach(function(p){c.insert(p)})),u.has(v)||(u.add(v),(0,$rt.getEdgesByNodeId)(v,s).forEach(function(p){c.insert(p)})))}return i},t3t=function(e,t){var i=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return i;var l=s.map(function(d){return d});t&&l.sort(function(d,v){return d.weight-v.weight});for(var u=new lRe.default(a.map(function(d){return d.id}));l.length>0;){var f=l.shift(),c=f.source,h=f.target;u.connected(c,h)||(i.push(f),u.union(c,h))}return i},cRe=function(e,t,i){var n={prim:fRe,kruskal:t3t};return i?n[i](e,t):t3t(e,t)},hRe=cRe;kY.default=hRe});var r3t=$(PY=>{"use strict";Object.defineProperty(PY,"__esModule",{value:!0});PY.default=void 0;var dRe=pRe(Yrt()),vRe=Od();function pRe(r){return r&&r.__esModule?r:{default:r}}var gRe=function(e,t,i){typeof t!="number"&&(t=1e-6),typeof i!="number"&&(i=.85);for(var n=1,a=0,o=1e3,s=e.nodes,l=s===void 0?[]:s,u=e.edges,f=u===void 0?[]:u,c=l.length,h,d={},v={},p=0;p<c;++p){var g=l[p],m=g.id;d[m]=1/c,v[m]=1/c}for(var y=(0,dRe.default)(e);o>0&&n>t;){a=0;for(var p=0;p<c;++p){var g=l[p],m=g.id;if(h=0,y[g.id].inDegree===0)d[m]=0;else{for(var x=(0,vRe.getNeighbors)(m,f,"source"),b=0;b<x.length;++b){var _=x[b],M=y[_].outDegree;M>0&&(h+=v[_]/M)}d[m]=i*h,a+=d[m]}}a=(1-a)/c,n=0;for(var p=0;p<c;++p){var g=l[p],m=g.id;h=d[m]+a,n+=Math.abs(h-v[m]),v[m]=h}o-=1}return v},mRe=gRe;PY.default=mRe});var s3t=$(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.VACANT_NODE_LABEL=Ns.VACANT_NODE_ID=Ns.VACANT_GRAPH_ID=Ns.VACANT_EDGE_LABEL=Ns.VACANT_EDGE_ID=Ns.Node=Ns.Graph=Ns.Edge=Ns.AUTO_EDGE_ID=void 0;var i3t=-1;Ns.VACANT_EDGE_ID=i3t;var WF=-1;Ns.VACANT_NODE_ID=WF;var n3t="-1";Ns.VACANT_EDGE_LABEL=n3t;var a3t="-1";Ns.VACANT_NODE_LABEL=a3t;var yRe=-1;Ns.VACANT_GRAPH_ID=yRe;var xRe="-1";Ns.AUTO_EDGE_ID=xRe;var Jrt=function(){function r(e,t,i,n){e===void 0&&(e=i3t),t===void 0&&(t=WF),i===void 0&&(i=WF),n===void 0&&(n=n3t),this.id=e,this.from=t,this.to=i,this.label=n}return r}();Ns.Edge=Jrt;var o3t=function(){function r(e,t){e===void 0&&(e=WF),t===void 0&&(t=a3t),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return r.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},r}();Ns.Node=o3t;var bRe=function(){function r(e,t,i){e===void 0&&(e=WF),t===void 0&&(t=!0),i===void 0&&(i=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=i}return r.prototype.getNodeNum=function(){return this.nodes.length},r.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var i=new o3t(e,t);this.nodes.push(i),this.nodeMap[e]=i,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},r.prototype.addEdge=function(e,t,i,n){if((this.edgeIdAutoIncrease||e===void 0)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[i]&&this.nodeMap[i].edgeMap[e])){var a=new Jrt(e,t,i,n);if(this.edges.push(a),this.edgeMap[e]=a,this.nodeMap[t].addEdge(a),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(a),!this.directed){var o=new Jrt(e,i,t,n);this.nodeMap[i].addEdge(o),this.edgeLabelMap[n].push(o)}}},r}();Ns.Graph=bRe});var f3t=$(FY=>{"use strict";Object.defineProperty(FY,"__esModule",{value:!0});FY.default=void 0;var wRe=ot(),vc=s3t(),nM=function(){function r(e,t,i,n,a){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:i||vc.VACANT_NODE_LABEL,edgeLabel:n||vc.VACANT_EDGE_LABEL,nodeLabel2:a||vc.VACANT_NODE_LABEL}}return r.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},r.prototype.notEqualTo=function(e){return!this.equalTo(e)},r}(),l3t=function(){function r(){this.rmpath=[],this.dfsEdgeList=[]}return r.prototype.equalTo=function(e){var t=this.dfsEdgeList.length,i=e.length;if(t!==i)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},r.prototype.notEqualTo=function(e){return!this.equalTo(e)},r.prototype.pushBack=function(e,t,i,n,a){return this.dfsEdgeList.push(new nM(e,t,i,n,a)),this.dfsEdgeList},r.prototype.toGraph=function(e,t){e===void 0&&(e=vc.VACANT_GRAPH_ID),t===void 0&&(t=!1);var i=new vc.Graph(e,!0,t);return this.dfsEdgeList.forEach(function(n){var a=n.fromNode,o=n.toNode,s=n.nodeEdgeNodeLabel,l=s.nodeLabel1,u=s.edgeLabel,f=s.nodeLabel2;l!==vc.VACANT_NODE_LABEL&&i.addNode(a,l),f!==vc.VACANT_NODE_LABEL&&i.addNode(o,f),l!==vc.VACANT_NODE_LABEL&&f!==l&&i.addEdge(void 0,a,o,u)}),i},r.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length,i=t-1;i>=0;i--){var n=this.dfsEdgeList[i],a=n.fromNode,o=n.toNode;a<o&&(e===void 0||o===e)&&(this.rmpath.push(i),e=a)}return this.rmpath},r.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},r}(),DY=function(){function r(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return r.prototype.hasNode=function(e){return this.nodesUsed[e.id]===1},r.prototype.hasEdge=function(e){return this.edgesUsed[e.id]===1},r}(),_Re=function(){function r(e){var t=e.graphs,i=e.minSupport,n=i===void 0?2:i,a=e.minNodeNum,o=a===void 0?1:a,s=e.maxNodeNum,l=s===void 0?4:s,u=e.top,f=u===void 0?10:u,c=e.directed,h=c===void 0?!1:c,d=e.verbose,v=d===void 0?!1:d;this.graphs=t,this.dfsCode=new l3t,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=f,this.directed=h,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=v,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return r.prototype.findForwardRootEdges=function(e,t){var i=this,n=[],a=e.nodeMap;return t.edges.forEach(function(o){(i.directed||t.label<=a[o.to].label)&&n.push(o)}),n},r.prototype.findBackwardEdge=function(e,t,i,n){if(!this.directed&&t===i)return null;for(var a=e.nodeMap,o=a[i.to],s=o.edges,l=s.length,u=0;u<l;u++){var f=s[u];if(!(n.hasEdge(f)||f.to!==t.from)){if(this.directed){if(a[t.from].label<a[i.to].label||a[t.from].label===a[i.to].label&&t.label<=f.label)return f}else if(t.label<f.label||t.label===f.label&&a[t.to].label<=a[i.to].label)return f}}return null},r.prototype.findForwardPureEdges=function(e,t,i,n){for(var a=[],o=t.to,s=e.nodeMap[o].edges,l=s.length,u=0;u<l;u++){var f=s[u],c=e.nodeMap[f.to];i<=c.label&&!n.hasNode(c)&&a.push(f)}return a},r.prototype.findForwardRmpathEdges=function(e,t,i,n){for(var a=[],o=e.nodeMap,s=o[t.to].label,l=o[t.from],u=l.edges,f=u.length,c=0;c<f;c++){var h=u[c],d=o[h.to].label;t.to===h.to||i>d||n.hasNode(o[h.to])||(t.label<h.label||t.label===h.label&&s<=d)&&a.push(h)}return a},r.prototype.getSupport=function(e){var t={};return e.forEach(function(i){t[i.graphId]||(t[i.graphId]=!0)}),Object.keys(t).length},r.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(i){var n=e[i],a=n.nodeLabel1,o=n.edgeLabel,s=n.nodeLabel2;if(!t){t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s};return}(a<t.nodeLabel1||a===t.nodeLabel1&&o<t.edgeLabel||a===t.nodeLabel1&&o===t.edgeLabel&&s<t.nodeLabel2)&&(t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s})}),t},r.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var i=this.directed,n=t.toGraph(vc.VACANT_GRAPH_ID,i),a=n.nodeMap,o=new l3t,s={};n.nodes.forEach(function(c){var h=e.findForwardRootEdges(n,c);h.forEach(function(d){var v=a[d.to],p="".concat(c.label,"-").concat(d.label,"-").concat(v.label);s[p]||(s[p]={projected:[],nodeLabel1:c.label,edgeLabel:d.label,nodeLabel2:v.label});var g={graphId:n.id,edge:d,preNode:null};s[p].projected.push(g)})});var l=this.findMinLabel(s);if(!!l){o.dfsEdgeList.push(new nM(0,1,l.nodeLabel1,l.edgeLabel,l.nodeLabel2));var u=function c(h){for(var d=o.buildRmpath(),v=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,p=o.dfsEdgeList[d[0]].toNode,g={},m=!1,y=0,x=i?-1:0,b=function(Y){if(m)return"break";h.forEach(function(q){var j=new DY(q),Z=e.findBackwardEdge(n,j.edges[d[Y]],j.edges[d[0]],j);Z&&(g[Z.label]||(g[Z.label]={projected:[],edgeLabel:Z.label}),g[Z.label].projected.push({graphId:n.id,edge:g,preNode:q}),y=o.dfsEdgeList[d[Y]].fromNode,m=!0)})},_=d.length-1;_>x;_--){var M=b(_);if(M==="break")break}if(m){var A=e.findMinLabel(g);o.dfsEdgeList.push(new nM(p,y,vc.VACANT_NODE_LABEL,A.edgeLabel,vc.VACANT_NODE_LABEL));var I=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[I]!==o.dfsEdgeList[I]?!1:c(g[A.edgeLabel].projected)}var k={};m=!1;var E=0;h.forEach(function(B){var Y=new DY(B),q=e.findForwardPureEdges(n,Y.edges[d[0]],v,Y);q.length>0&&(m=!0,E=p,q.forEach(function(j){var Z="".concat(j.label,"-").concat(a[j.to].label);k[Z]||(k[Z]={projected:[],edgeLabel:j.label,nodeLabel2:a[j.to].label}),k[Z].projected.push({graphId:n.id,edge:j,preNode:B})}))});for(var O=d.length,P=function(Y){if(m)return"break";var q=d[Y];h.forEach(function(j){var Z=new DY(j),tt=e.findForwardRmpathEdges(n,Z.edges[q],v,Z);tt.length>0&&(m=!0,E=o.dfsEdgeList[q].fromNode,tt.forEach(function(lt){var J="".concat(lt.label,"-").concat(a[lt.to].label);k[J]||(k[J]={projected:[],edgeLabel:lt.label,nodeLabel2:a[lt.to].label}),k[J].projected.push({graphId:n.id,edge:lt,preNode:j})}))})},_=0;_<O;_++){var N=P(_);if(N==="break")break}if(!m)return!0;var R=e.findMinLabel(k);o.dfsEdgeList.push(new nM(E,p+1,vc.VACANT_NODE_LABEL,R.edgeLabel,R.nodeLabel2));var z=o.dfsEdgeList.length-1;return t.dfsEdgeList[z]!==o.dfsEdgeList[z]?!1:c(k["".concat(R.edgeLabel,"-").concat(R.nodeLabel2)].projected)},f="".concat(l.nodeLabel1,"-").concat(l.edgeLabel,"-").concat(l.nodeLabel2);return u(s[f].projected)}},r.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,wRe.clone)(e))}},r.prototype.subGraphMining=function(e){var t=this,i=this.getSupport(e);if(!(i<this.minSupport)&&!!this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[a[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},u={};e.forEach(function(f){for(var c=t.graphs[f.graphId],h=c.nodeMap,d=new DY(f),v=a.length-1;v>=0;v--){var p=t.findBackwardEdge(c,d.edges[a[v]],d.edges[a[0]],d);if(p){var g="".concat(t.dfsCode.dfsEdgeList[a[v]].fromNode,"-").concat(p.label);u[g]||(u[g]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[a[v]].fromNode,edgeLabel:p.label}),u[g].projected.push({graphId:f.graphId,edge:p,preNode:f})}}if(!(n>=t.maxNodeNum)){var m=t.findForwardPureEdges(c,d.edges[a[0]],s,d);m.forEach(function(x){var b="".concat(o,"-").concat(x.label,"-").concat(h[x.to].label);l[b]||(l[b]={projected:[],fromNodeId:o,edgeLabel:x.label,nodeLabel2:h[x.to].label}),l[b].projected.push({graphId:f.graphId,edge:x,preNode:f})});for(var y=function(b){var _=t.findForwardRmpathEdges(c,d.edges[a[b]],s,d);_.forEach(function(M){var A="".concat(t.dfsCode.dfsEdgeList[a[b]].fromNode,"-").concat(M.label,"-").concat(h[M.to].label);l[A]||(l[A]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[a[b]].fromNode,edgeLabel:M.label,nodeLabel2:h[M.to].label}),l[A].projected.push({graphId:f.graphId,edge:M,preNode:f})})},v=0;v<a.length;v++)y(v)}}),Object.keys(u).forEach(function(f){var c=u[f],h=c.toNodeId,d=c.edgeLabel;t.dfsCode.dfsEdgeList.push(new nM(o,h,"-1",d,"-1")),t.subGraphMining(u[f].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(l).forEach(function(f){var c=l[f],h=c.fromNodeId,d=c.edgeLabel,v=c.nodeLabel2;t.dfsCode.dfsEdgeList.push(new nM(h,o+1,vc.VACANT_NODE_LABEL,d,v)),t.subGraphMining(l[f].projected),t.dfsCode.dfsEdgeList.pop()})}},r.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,i=this.minSupport,n=this.frequentSize1Subgraphs,a={},o={},s={},l={};return Object.keys(e).forEach(function(u){var f=e[u],c=f.nodeMap;f.nodes.forEach(function(h,d){var v=h.label,p="".concat(u,"-").concat(v);if(!s[p]){var g=a[v]||0;g++,a[v]=g}s[p]={graphKey:u,label:v},h.edges.forEach(function(m){var y=v,x=c[m.to].label;if(!t&&y>x){var b=x;x=y,y=b}var _=m.label,M="".concat(u,"-").concat(y,"-").concat(_,"-").concat(x),A="".concat(y,"-").concat(_,"-").concat(x);if(!o[A]){var I=o[A]||0;I++,o[A]=I}l[M]={graphId:u,nodeLabel1:y,edgeLabel:_,nodeLabel2:x}})})}),Object.keys(a).forEach(function(u){var f=a[u];if(!(f<i)){var c={nodes:[],edges:[]};c.nodes.push({id:"0",label:u}),n.push(c)}}),n},r.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,i=this.directed,n={};Object.keys(t).forEach(function(a){var o=t[a],s=o.nodeMap;o.nodes.forEach(function(l){var u=e.findForwardRootEdges(o,l);u.forEach(function(f){var c=s[f.to],h="".concat(l.label,"-").concat(f.label,"-").concat(c.label);n[h]||(n[h]={projected:[],nodeLabel1:l.label,edgeLabel:f.label,nodeLabel2:c.label});var d={graphId:a,edge:f,preNode:null};n[h].projected.push(d)})})}),Object.keys(n).forEach(function(a){var o=n[a],s=o.projected,l=o.nodeLabel1,u=o.edgeLabel,f=o.nodeLabel2;e.dfsCode.dfsEdgeList.push(new nM(0,1,l,u,f)),e.subGraphMining(s),e.dfsCode.dfsEdgeList.pop()})}},r}(),SRe=function(e,t,i,n){var a={};return Object.keys(e).forEach(function(o,s){var l=e[o],u=new vc.Graph(s,!0,t),f={};l.nodes.forEach(function(c,h){u.addNode(h,c[i]),f[c.id]=h}),l.edges.forEach(function(c,h){var d=f[c.source],v=f[c.target];u.addEdge(-1,d,v,c[n])}),u&&u.getNodeNum()&&(a[u.id]=u)}),a},CRe=function(e,t,i){var n=[];return e.forEach(function(a){var o={nodes:[],edges:[]};a.nodes.forEach(function(s){var l;o.nodes.push((l={id:"".concat(s.id)},l[t]=s.label,l))}),a.edges.forEach(function(s){var l;o.edges.push((l={source:"".concat(s.from),target:"".concat(s.to)},l[i]=s.label,l))}),n.push(o)}),n},u3t="cluster",MRe=function(e){var t=e.graphs,i=e.directed,n=i===void 0?!1:i,a=e.nodeLabelProp,o=a===void 0?u3t:a,s=e.edgeLabelProp,l=s===void 0?u3t:s,u=SRe(t,n,o,l),f=e.minSupport,c=e.maxNodeNum,h=e.minNodeNum,d=e.verbose,v=e.top,p={graphs:u,minSupport:f,maxNodeNum:c,minNodeNum:h,top:v,verbose:d,directed:n},g=new _Re(p);g.run();var m=CRe(g.frequentSubgraphs,o,l);return m},ARe=MRe;FY.default=ARe});var b3t=$(RY=>{"use strict";Object.defineProperty(RY,"__esModule",{value:!0});RY.default=void 0;var c3t=Mr(),h3t=tit(Hrt()),ERe=tit(f3t()),d3t=tit(CY()),TRe=Od();function tit(r){return r&&r.__esModule?r:{default:r}}var v3t=function(e,t,i,n){i===void 0&&(i="cluster"),n===void 0&&(n=2);var a=[],o=e.nodes;return t.forEach(function(s,l){a.push(p3t(o,s,l,i,n))}),a},p3t=function(e,t,i,n,a){var o=[i],s=[],l={};return t.forEach(function(u,f){if(u<=a&&i!==f){o.push(f),s.push(e[f]);var c=e[f][n];l[c]?(l[c].count++,l[c].dists.push(u)):l[c]={count:1,dists:[u]}}}),Object.keys(l).forEach(function(u){l[u].dists=l[u].dists.sort(function(f,c){return f-c})}),{nodeIdx:i,nodeId:e[i].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:l}},IRe=function(e,t,i,n,a){var o=Math.ceil(i/t),s={},l=0;return n.forEach(function(u,f){for(var c=0,h=0,d=u.nodeIdxs,v=u.neighborNum-1;c<o;){for(var p=d[1+Math.floor(Math.random()*v)],g=0;(s["".concat(f,"-").concat(p)]||s["".concat(p,"-").concat(f)])&&(p=Math.floor(Math.random()*t),g++,!(g>2*t)););if(g<2*t&&(s["".concat(f,"-").concat(p)]={start:f,end:p,distance:a[f][p]},c++,l++,l>=i))return s;if(h++,h>2*t)break}if(c<o){var m=o-c;o=(o+m)/(t-f-1)}}),s},NY=function(e,t,i,n){var a=i.nodes;return n||(n={}),Object.keys(e).forEach(function(o){var s,l;if(!(n&&n[o])){n[o]={nodes:[],edges:[]};var u=e[o],f=(s=t[u.start])===null||s===void 0?void 0:s.nodeIdxs,c=(l=t[u.end])===null||l===void 0?void 0:l.nodeIdxs;if(!(!f||!c)){var h=new Set(c),d=f.filter(function(y){return h.has(y)});if(!(!d||!d.length)){for(var v={},p=d.length,g=0;g<p;g++){var m=a[d[g]];n[o].nodes.push(m),v[m.id]=!0}i.edges.forEach(function(y){v[y.source]&&v[y.target]&&n[o].edges.push(y)})}}}}),n},BY=function(e,t,i,n){var a,o,s={};e.nodes.forEach(function(u){s[u.id]=u});var l=0;return!((a=t==null?void 0:t.edges)===null||a===void 0?void 0:a.length)||((o=t==null?void 0:t.nodes)===null||o===void 0?void 0:o.length)<2?0:(e.edges.forEach(function(u){var f=s[u.source][i],c=s[u.target][i],h=t==null?void 0:t.nodes[0][i],d=t==null?void 0:t.nodes[1][i],v=t==null?void 0:t.edges[0][n];u[n]===v&&(f===h&&c===d||f===d&&c===h)&&l++}),l)},LRe=function(e,t,i){for(var n=1/0,a=0,o=function(u){var f=e[u],c=Object.keys(f).sort(function(y,x){return f[y]-f[x]}),h=10,d=[];c.forEach(function(y,x){d[x%h]||(d[x%h]={graphs:[],totalCount:0,aveCount:0}),d[x%h].graphs.push(y),d[x%h].totalCount+=f[y]});var v=0,p=[];d.forEach(function(y){var x=y.totalCount/y.graphs.length;y.aveCount=x,p.push(x);var b=0,_=y.length;y.graphs.forEach(function(M,A){var I=f[M];y.graphs.forEach(function(k,E){A!==E&&(b+=Math.abs(I-f[k]))})}),b/=_*(_-1)/2,v+=b}),v/=d.length;var g=0;p.forEach(function(y,x){p.forEach(function(b,_){x!==_&&(g+=Math.abs(y-b))}),g/=p.length*(p.length-1)/2});var m=g-v;n<m&&(n=m,a=u)},s=0;s<t;s++)o(s);return{structure:i[a],structureCountMap:e[a]}},g3t=function(e,t){var i={},n={};return e.forEach(function(a,o){i[a.id]={idx:o,node:a,degree:0,inDegree:0,outDegree:0};var s=a[t];n[s]||(n[s]=[]),n[s].push(a)}),{nodeMap:i,nodeLabelMap:n}},m3t=function(e,t,i){var n={},a={};return e.forEach(function(o,s){n["".concat(TRe.uniqueId)]={idx:s,edge:o};var l=o[t];a[l]||(a[l]=[]),a[l].push(o);var u=i[o.source];u&&(u.degree++,u.outDegree++);var f=i[o.target];f&&(f.degree++,f.inDegree++)}),{edgeMap:n,edgeLabelMap:a}},y3t=function(e,t,i){var n=t.length,a={};return t.forEach(function(o,s){for(var l=i?0:s+1,u=e[s].id,f=l;f<n;f++)if(s!==f){var c=e[f].id,h=o[f];a["".concat(u,"-").concat(c)]=h,i||(a["".concat(c,"-").concat(u)]=h)}}),a},ORe=function(e,t,i,n,a,o,s,l,u,f,c){var h,d="".concat(t.id,"-").concat(i.id);if(f&&f[d])return f[d];var v=c?c[d]:void 0;if(!v){var p=(h={},h[d]={start:n[t.id].idx,end:n[i.id].idx,distance:a},h);c=NY(p,o,e,c),v=c[d]}return BY(v,s,l,u)},x3t=function(e,t,i,n){var a,o,s,l=(a=e[t])===null||a===void 0?void 0:a.degree,u=(o=e[t])===null||o===void 0?void 0:o.inDegree,f=(s=e[t])===null||s===void 0?void 0:s.outDegree;return e[t]===void 0&&(l=1/0,u=1/0,f=1/0,n[t].forEach(function(c){var h=i[c.id].degree;l>h&&(l=h);var d=i[c.id].inDegree;u>d&&(u=d);var v=i[c.id].outDegree;f>v&&(f=v)}),e[t]={degree:l,inDegree:u,outDegree:f}),{minPatternNodeLabelDegree:l,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:f}},kRe=function(e,t,i,n,a,o,s){var l;if(i===void 0&&(i=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!e||!e.nodes)){var u=e.nodes.length;if(!!u){var f=(0,h3t.default)(e,i),c=(0,h3t.default)(t,i),h=y3t(e.nodes,f,i),d=y3t(t.nodes,c,i),v=g3t(e.nodes,o),p=v.nodeMap,g=v.nodeLabelMap,m=g3t(t.nodes,o),y=m.nodeMap,x=m.nodeLabelMap;m3t(e.edges,s,p);var b=m3t(t.edges,s,y).edgeLabelMap,_=[];c==null||c.forEach(function(it){_=_.concat(it)}),a||(a=Math.max.apply(Math,(0,c3t.__spreadArray)((0,c3t.__spreadArray)([],_,!1),[2],!1))),n||(n=a);var M=v3t(e,f,o,n),A=v3t(t,c,o,n),I=Math.min(100,u*(u-1)/2),k=IRe(n,u,I,M,f),E=NY(k,M,e),O=10,P=1,N=1,R=4,z={graphs:E,nodeLabelProp:o,edgeLabelProp:s,minSupport:P,minNodeNum:N,maxNodeNum:R,directed:i},B=(0,ERe.default)(z).slice(0,O),Y=B.length,q=[];B.forEach(function(it,kt){q[kt]={},Object.keys(E).forEach(function(Gt){var te=E[Gt],we=BY(te,it,o,s);q[kt][Gt]=we})});var j=LRe(q,Y,B),Z=j.structure,tt=j.structureCountMap,lt=t.nodes[0],J=[],nt=(l=t.nodes[0])===null||l===void 0?void 0:l[o],ut=-1/0;t.nodes.forEach(function(it){var kt=it[o],Gt=g[kt];(Gt==null?void 0:Gt.length)>ut&&(ut=Gt.length,J=Gt,nt=kt,lt=it)});var ft={},pt={},_t={},Et={},Ot={},oe={};Object.keys(x).forEach(function(it,kt){Ot[it]=[],i&&(oe[it]=[]);var Gt=-1/0,te=x[it],we={};te.forEach(function(Ae){var Qe=d["".concat(lt.id,"-").concat(Ae.id)];if(Qe&&Ot[it].push(Qe),Gt<Qe&&(Gt=Qe),we["".concat(lt.id,"-").concat(Ae.id)]={start:0,end:y[Ae.id].idx,distance:Qe},i){var sr=d["".concat(Ae.id,"-").concat(lt.id)];sr&&oe[it].push(sr)}}),Ot[it]=Ot[it].sort(function(Ae,Qe){return Ae-Qe}),i&&(oe[it]=oe[it].sort(function(Ae,Qe){return Ae-Qe})),pt=NY(we,A,t,pt);var Ht=[];if(Object.keys(we).forEach(function(Ae){if(_t[Ae]){Ht.push(_t[Ae]);return}var Qe=pt[Ae];_t[Ae]=BY(Qe,Z,o,s),Ht.push(_t[Ae])}),Ht=Ht.sort(function(Ae,Qe){return Qe-Ae}),Et["".concat(lt.id,"-").concat(it)]=Ht,it!==nt)for(var ce=(J==null?void 0:J.length)||0,Oe=function(Qe){var sr=J[Qe],Xr=M[p[sr.id].idx],Fr=Xr.nodeLabelCountMap[it],Gn=x[it].length;if(!Fr||Fr.count<Gn)return J.splice(Qe,1),"continue";for(var Ta=!1,Wi=0;Wi<Gn;Wi++)if(Fr.dists[Wi]>Ot[it][Wi]){Ta=!0;break}if(Ta)return J.splice(Qe,1),"continue";var mn={};Xr.neighbors.forEach(function(ji){var Sn=h["".concat(sr.id,"-").concat(ji.id)];mn["".concat(sr.id,"-").concat(ji.id)]={start:p[sr.id].idx,end:p[ji.id].idx,distance:Sn}}),E=NY(mn,M,e,E);var Yn=[];Object.keys(mn).forEach(function(ji){if(tt[ji]){Yn.push(tt[ji]);return}var Sn=E[ji];tt[ji]=BY(Sn,Z,o,s),Yn.push(tt[ji])}),Yn=Yn.sort(function(ji,Sn){return Sn-ji});for(var to=!1,Wi=0;Wi<Gn;Wi++)if(Yn[Wi]<Ht[Wi]){to=!0;break}if(to)return J.splice(Qe,1),"continue"},je=ce-1;je>=0;je--)Oe(je)});var se=[];J==null||J.forEach(function(it){for(var kt=p[it.id].idx,Gt=p3t(e.nodes,f[kt],kt,o,a),te=Gt.neighbors,we=te.length,Ht=!1,ce=we-1;ce>=0;ce--){if(te.length+1<t.nodes.length){Ht=!0;return}var Oe=te[ce],je=Oe[o];if(!x[je]||!x[je].length){te.splice(ce,1);continue}if(!Ot[je]||!Ot[je].length){te.splice(ce,1);continue}var Ae="".concat(it.id,"-").concat(Oe.id),Qe=h[Ae],sr=Ot[je].length-1,Xr=Ot[je][sr];if(Qe>Xr){te.splice(ce,1);continue}if(i){var Fr="".concat(Oe.id,"-").concat(it.id),Gn=h[Fr];sr=oe[je].length-1;var Ta=oe[je][sr];if(Gn>Ta){te.splice(ce,1);continue}}var Wi=tt[Ae]?tt[Ae]:ORe(e,it,Oe,p,Qe,M,Z,o,s,tt,E),mn="".concat(lt.id,"-").concat(je),Yn=Et[mn][Et[mn].length-1];if(Wi<Yn){te.splice(ce,1);continue}var to=x3t(ft,je,y,x),ji=to.minPatternNodeLabelDegree,Sn=to.minPatternNodeLabelInDegree,ya=to.minPatternNodeLabelOutDegree;if(p[Oe.id].degree<ji){te.splice(ce,1);continue}}Ht||se.push({nodes:[it].concat(te)})});var _e=(0,d3t.default)(t,lt.id,!1).length,le={};i?(Object.keys(_e).forEach(function(it){var kt=y[it].node[o];le[kt]?le[kt].push(_e[it]):le[kt]=[_e[it]]}),Object.keys(le).forEach(function(it){le[it].sort(function(kt,Gt){return kt-Gt})})):le=Ot;for(var ar=se.length,pe=function(kt){var Gt=se[kt],te=Gt.nodes[0],we={},Ht={};Gt.nodes.forEach(function(qe,ln){Ht[qe.id]={idx:ln,node:qe,degree:0,inDegree:0,outDegree:0};var ui=qe[o];we[ui]?we[ui]++:we[ui]=1});var ce=[],Oe={};e.edges.forEach(function(qe){Ht[qe.source]&&Ht[qe.target]&&(ce.push(qe),Oe[qe[s]]?Oe[qe[s]]++:Oe[qe[s]]=1,Ht[qe.source].degree++,Ht[qe.target].degree++,Ht[qe.source].outDegree++,Ht[qe.target].inDegree++)});for(var je=Object.keys(b).length,Ae=!1,Qe=0;Qe<je;Qe++){var sr=Object.keys(b)[Qe];if(!Oe[sr]||Oe[sr]<b[sr].length){Ae=!0;break}}if(Ae)return se.splice(kt,1),"continue";var Xr=ce.length;if(Xr<t.edges.length)return se.splice(kt,1),"break";for(var Fr=!1,Gn=function(ln){var ui=ce[ln],Zn=ui[s],Wn=b[Zn];if(!Wn||!Wn.length)return Oe[Zn]--,Wn&&Oe[Zn]<Wn.length?(Fr=!0,"break"):(ce.splice(ln,1),Ht[ui.source].degree--,Ht[ui.target].degree--,Ht[ui.source].outDegree--,Ht[ui.target].inDegree--,"continue");var Jl=Ht[ui.source].node[o],rn=Ht[ui.target].node[o],el=!1;if(Wn.forEach(function(wl){var tu=y[wl.source].node,Eh=y[wl.target].node;tu[o]===Jl&&Eh[o]===rn&&(el=!0),!i&&tu[o]===rn&&Eh[o]===Jl&&(el=!0)}),!el)return Oe[Zn]--,Wn&&Oe[Zn]<Wn.length?(Fr=!0,"break"):(ce.splice(ln,1),Ht[ui.source].degree--,Ht[ui.target].degree--,Ht[ui.source].outDegree--,Ht[ui.target].inDegree--,"continue")},Qe=Xr-1;Qe>=0;Qe--){var Ta=Gn(Qe);if(Ta==="break")break}if(Fr)return se.splice(kt,1),"continue";Gt.edges=ce;var Wi=(0,d3t.default)(Gt,Gt.nodes[0].id,!1).length;if(Object.keys(Wi).reverse().forEach(function(qe){if(!(qe===Gt.nodes[0].id||Fr)){if(Wi[qe]===1/0){var ln=Ht[qe].node[o];if(we[ln]--,we[ln]<x[ln].length){Fr=!0;return}var ui=Gt.nodes.indexOf(Ht[qe].node);Gt.nodes.splice(ui,1),Ht[qe]=void 0;return}var Zn=p[qe].node[o];if(!le[Zn]||!le[Zn].length||Wi[qe]>le[Zn][le[Zn].length-1]){var ln=Ht[qe].node[o];if(we[ln]--,we[ln]<x[ln].length){Fr=!0;return}var ui=Gt.nodes.indexOf(Ht[qe].node);Gt.nodes.splice(ui,1),Ht[qe]=void 0}}}),Fr)return se.splice(kt,1),"continue";for(var mn=!0,Yn=0;mn&&!Fr;){mn=!1;var to=i?Ht[te.id].degree<y[lt.id].degree||Ht[te.id].inDegree<y[lt.id].inDegree||Ht[te.id].outDegree<y[lt.id].outDegree:Ht[te.id].degree<y[lt.id].degree;if(to){Fr=!0;break}if(we[te[o]]<x[te[o]].length){Fr=!0;break}for(var ji=Gt.nodes.length,Sn=ji-1;Sn>=0;Sn--){var ya=Gt.nodes[Sn],Ql=Ht[ya.id].degree,xa=Ht[ya.id].inDegree,Mh=Ht[ya.id].outDegree,ku=ya[o],zs=x3t(ft,ku,y,x),Pu=zs.minPatternNodeLabelDegree,wo=zs.minPatternNodeLabelInDegree,$l=zs.minPatternNodeLabelOutDegree,Ah=i?Ql<Pu||xa<wo||Mh<$l:Ql<Pu;if(Ah){if(we[ya[o]]--,we[ya[o]]<x[ya[o]].length){Fr=!0;break}Gt.nodes.splice(Sn,1),Ht[ya.id]=void 0,mn=!0}}if(Fr||!mn&&Yn!==0)break;Xr=ce.length;for(var Cn=Xr-1;Cn>=0;Cn--){var Xi=ce[Cn];if(!Ht[Xi.source]||!Ht[Xi.target]){ce.splice(Cn,1);var ba=Xi[s];if(Oe[ba]--,Ht[Xi.source]&&(Ht[Xi.source].degree--,Ht[Xi.source].outDegree--),Ht[Xi.target]&&(Ht[Xi.target].degree--,Ht[Xi.target].inDegree--),b[ba]&&Oe[ba]<b[ba].length){Fr=!0;break}mn=!0}}Yn++}if(Fr||Fr||Gt.nodes.length<t.nodes.length||ce.length<t.edges.length)return se.splice(kt,1),"continue"},ze=ar-1;ze>=0;ze--){var rr=pe(ze);if(rr==="break")break}for(var ur=se.length,_r=function(kt){var Gt=se[kt],te={};Gt.edges.forEach(function(ce){var Oe="".concat(ce.source,"-").concat(ce.target,"-").concat(ce.label);te[Oe]?te[Oe]++:te[Oe]=1});for(var we=function(Oe){var je=se[Oe],Ae={};je.edges.forEach(function(sr){var Xr="".concat(sr.source,"-").concat(sr.target,"-").concat(sr.label);Ae[Xr]?Ae[Xr]++:Ae[Xr]=1});var Qe=!0;Object.keys(Ae).length!==Object.keys(te).length?Qe=!1:Object.keys(te).forEach(function(sr){Ae[sr]!==te[sr]&&(Qe=!1)}),Qe&&se.splice(Oe,1)},Ht=ur-1;Ht>kt;Ht--)we(Ht);ur=se.length},ze=0;ze<=ur-1;ze++)_r(ze);return se}}},PRe=kRe;RY.default=PRe});var S3t=$(Bs=>{"use strict";function eit(r){return eit=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eit(r)}Object.defineProperty(Bs,"__esModule",{value:!0});Object.defineProperty(Bs,"GADDI",{enumerable:!0,get:function(){return qRe.default}});Object.defineProperty(Bs,"breadthFirstSearch",{enumerable:!0,get:function(){return FRe.default}});Object.defineProperty(Bs,"connectedComponent",{enumerable:!0,get:function(){return NRe.default}});Object.defineProperty(Bs,"depthFirstSearch",{enumerable:!0,get:function(){return RRe.default}});Object.defineProperty(Bs,"detectCycle",{enumerable:!0,get:function(){return BRe.default}});Object.defineProperty(Bs,"dijkstra",{enumerable:!0,get:function(){return GRe.default}});Object.defineProperty(Bs,"findAllPath",{enumerable:!0,get:function(){return w3t.findAllPath}});Object.defineProperty(Bs,"findShortestPath",{enumerable:!0,get:function(){return w3t.findShortestPath}});Object.defineProperty(Bs,"floydWarshall",{enumerable:!0,get:function(){return zRe.default}});Object.defineProperty(Bs,"getAdjMatrix",{enumerable:!0,get:function(){return DRe.default}});Object.defineProperty(Bs,"getDegree",{enumerable:!0,get:function(){return rit.default}});Object.defineProperty(Bs,"getInDegree",{enumerable:!0,get:function(){return rit.getInDegree}});Object.defineProperty(Bs,"getNeighbors",{enumerable:!0,get:function(){return HRe.getNeighbors}});Object.defineProperty(Bs,"getOutDegree",{enumerable:!0,get:function(){return rit.getOutDegree}});Object.defineProperty(Bs,"labelPropagation",{enumerable:!0,get:function(){return jRe.default}});Object.defineProperty(Bs,"louvain",{enumerable:!0,get:function(){return YRe.default}});Object.defineProperty(Bs,"minimumSpanningTree",{enumerable:!0,get:function(){return WRe.default}});Object.defineProperty(Bs,"pageRank",{enumerable:!0,get:function(){return VRe.default}});var DRe=kd(GF()),FRe=kd(bRt()),NRe=kd(jrt()),rit=URe(Yrt()),BRe=kd(LRt()),RRe=kd(Vrt()),GRe=kd(CY()),w3t=DRt(),zRe=kd(Hrt()),jRe=kd(FRt()),YRe=kd(KRt()),WRe=kd(e3t()),VRe=kd(r3t()),qRe=kd(b3t()),HRe=Od();function _3t(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(_3t=function(n){return n?t:e})(r)}function URe(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||eit(r)!=="object"&&typeof r!="function")return{default:r};var t=_3t(e);if(t&&t.has(r))return t.get(r);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if(a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)){var o=n?Object.getOwnPropertyDescriptor(r,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=r[a]}return i.default=r,t&&t.set(r,i),i}function kd(r){return r&&r.__esModule?r:{default:r}}});var A3t=$(GY=>{"use strict";function iit(r){return iit=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iit(r)}Object.defineProperty(GY,"__esModule",{value:!0});GY.default=void 0;var nit=XRe(S3t()),C3t=xY();function M3t(r){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(M3t=function(n){return n?t:e})(r)}function XRe(r,e){if(!e&&r&&r.__esModule)return r;if(r===null||iit(r)!=="object"&&typeof r!="function")return{default:r};var t=M3t(e);if(t&&t.has(r))return t.get(r);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in r)if(a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)){var o=n?Object.getOwnPropertyDescriptor(r,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=r[a]}return i.default=r,t&&t.set(r,i),i}var ait=typeof self!="undefined"?self:{};ait.onmessage=function(r){var e=r.data,t=e._algorithmType,i=e.data;if(!!t){if(typeof nit[t]=="function"){var n=nit[t].apply(nit,i);ait.postMessage({_algorithmType:C3t.MESSAGE.SUCCESS,data:n});return}ait.postMessage({_algorithmType:C3t.MESSAGE.FAILURE})}};var ZRe=null;GY.default=ZRe});var E3t=$(zY=>{"use strict";Object.defineProperty(zY,"__esModule",{value:!0});zY.default=void 0;var KRe=xY(),QRe=$Re(A3t());function $Re(r){return r&&r.__esModule?r:{default:r}}var JRe=function(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return new Promise(function(n,a){var o=new QRe.default;o.postMessage({_algorithmType:e,data:t}),o.onmessage=function(s){var l=s.data,u=l.data,f=l._algorithmType;KRe.MESSAGE.SUCCESS===f?n(u):a(),o.terminate()}})}},t3e=JRe;zY.default=t3e});var T3t=$(hn=>{"use strict";Object.defineProperty(hn,"__esModule",{value:!0});hn.pageRankAsync=hn.minimumSpanningTreeAsync=hn.louvainAsync=hn.labelPropagationAsync=hn.getOutDegreeAsync=hn.getNeighborsAsync=hn.getInDegreeAsync=hn.getDegreeAsync=hn.getAdjMatrixAsync=hn.floydWarshallAsync=hn.findShortestPathAsync=hn.findAllPathAsync=hn.dijkstraAsync=hn.detectCycleAsync=hn.detectAllUndirectedCycleAsync=hn.detectAllDirectedCycleAsync=hn.detectAllCyclesAsync=hn.connectedComponentAsync=hn.GADDIAsync=void 0;var Ks=e3e(E3t()),Qs=xY();function e3e(r){return r&&r.__esModule?r:{default:r}}var r3e=function(e,t){return(0,Ks.default)(Qs.ALGORITHM.getAdjMatrix).apply(void 0,[e,t])};hn.getAdjMatrixAsync=r3e;var i3e=function(e,t){return(0,Ks.default)(Qs.ALGORITHM.connectedComponent).apply(void 0,[e,t])};hn.connectedComponentAsync=i3e;var n3e=function(e){return(0,Ks.default)(Qs.ALGORITHM.getDegree)(e)};hn.getDegreeAsync=n3e;var a3e=function(e,t){return(0,Ks.default)(Qs.ALGORITHM.getInDegree)(e,t)};hn.getInDegreeAsync=a3e;var o3e=function(e,t){return(0,Ks.default)(Qs.ALGORITHM.getOutDegree)(e,t)};hn.getOutDegreeAsync=o3e;var s3e=function(e){return(0,Ks.default)(Qs.ALGORITHM.detectCycle)(e)};hn.detectCycleAsync=s3e;var l3e=function(e){return(0,Ks.default)(Qs.ALGORITHM.detectAllCycles)(e)};hn.detectAllCyclesAsync=l3e;var u3e=function(e){return(0,Ks.default)(Qs.ALGORITHM.detectAllDirectedCycle)(e)};hn.detectAllDirectedCycleAsync=u3e;var f3e=function(e){return(0,Ks.default)(Qs.ALGORITHM.detectAllUndirectedCycle)(e)};hn.detectAllUndirectedCycleAsync=f3e;var c3e=function(e,t,i,n){return(0,Ks.default)(Qs.ALGORITHM.dijkstra).apply(void 0,[e,t,i,n])};hn.dijkstraAsync=c3e;var h3e=function(e,t,i,n){return(0,Ks.default)(Qs.ALGORITHM.findAllPath).apply(void 0,[e,t,i,n])};hn.findAllPathAsync=h3e;var d3e=function(e,t,i,n,a){return(0,Ks.default)(Qs.ALGORITHM.findShortestPath).apply(void 0,[e,t,i,n,a])};hn.findShortestPathAsync=d3e;var v3e=function(e,t){return(0,Ks.default)(Qs.ALGORITHM.floydWarshall).apply(void 0,[e,t])};hn.floydWarshallAsync=v3e;var p3e=function(e,t,i,n){return n===void 0&&(n=1e3),(0,Ks.default)(Qs.ALGORITHM.labelPropagation)(e,t,i,n)};hn.labelPropagationAsync=p3e;var g3e=function(e,t,i,n){return(0,Ks.default)(Qs.ALGORITHM.louvain)(e,t,i,n)};hn.louvainAsync=g3e;var m3e=function(e,t,i){return(0,Ks.default)(Qs.ALGORITHM.minimumSpanningTree).apply(void 0,[e,t,i])};hn.minimumSpanningTreeAsync=m3e;var y3e=function(e,t,i){return(0,Ks.default)(Qs.ALGORITHM.pageRank).apply(void 0,[e,t,i])};hn.pageRankAsync=y3e;var x3e=function(e,t,i){return(0,Ks.default)(Qs.ALGORITHM.getNeighbors).apply(void 0,[e,t,i])};hn.getNeighborsAsync=x3e;var b3e=function(e,t,i,n,a,o,s){return i===void 0&&(i=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),(0,Ks.default)(Qs.ALGORITHM.GADDI).apply(void 0,[e,t,i,n,a,o,s])};hn.GADDIAsync=b3e});var L3t=$(yo=>{"use strict";Object.defineProperty(yo,"__esModule",{value:!0});Object.defineProperty(yo,"GADDIAsync",{enumerable:!0,get:function(){return vn.GADDIAsync}});Object.defineProperty(yo,"connectedComponentAsync",{enumerable:!0,get:function(){return vn.connectedComponentAsync}});yo.default=void 0;Object.defineProperty(yo,"detectAllCyclesAsync",{enumerable:!0,get:function(){return vn.detectAllCyclesAsync}});Object.defineProperty(yo,"detectAllDirectedCycleAsync",{enumerable:!0,get:function(){return vn.detectAllDirectedCycleAsync}});Object.defineProperty(yo,"detectAllUndirectedCycleAsync",{enumerable:!0,get:function(){return vn.detectAllUndirectedCycleAsync}});Object.defineProperty(yo,"detectCycleAsync",{enumerable:!0,get:function(){return vn.detectCycleAsync}});yo.detectDirectedCycleAsync=void 0;Object.defineProperty(yo,"dijkstraAsync",{enumerable:!0,get:function(){return vn.dijkstraAsync}});Object.defineProperty(yo,"findAllPathAsync",{enumerable:!0,get:function(){return vn.findAllPathAsync}});Object.defineProperty(yo,"findShortestPathAsync",{enumerable:!0,get:function(){return vn.findShortestPathAsync}});Object.defineProperty(yo,"floydWarshallAsync",{enumerable:!0,get:function(){return vn.floydWarshallAsync}});Object.defineProperty(yo,"getAdjMatrixAsync",{enumerable:!0,get:function(){return vn.getAdjMatrixAsync}});Object.defineProperty(yo,"getDegreeAsync",{enumerable:!0,get:function(){return vn.getDegreeAsync}});Object.defineProperty(yo,"getInDegreeAsync",{enumerable:!0,get:function(){return vn.getInDegreeAsync}});Object.defineProperty(yo,"getNeighborsAsync",{enumerable:!0,get:function(){return vn.getNeighborsAsync}});Object.defineProperty(yo,"getOutDegreeAsync",{enumerable:!0,get:function(){return vn.getOutDegreeAsync}});Object.defineProperty(yo,"labelPropagationAsync",{enumerable:!0,get:function(){return vn.labelPropagationAsync}});Object.defineProperty(yo,"louvainAsync",{enumerable:!0,get:function(){return vn.louvainAsync}});Object.defineProperty(yo,"minimumSpanningTreeAsync",{enumerable:!0,get:function(){return vn.minimumSpanningTreeAsync}});Object.defineProperty(yo,"pageRankAsync",{enumerable:!0,get:function(){return vn.pageRankAsync}});var vn=T3t(),I3t=vn.detectCycleAsync;yo.detectDirectedCycleAsync=I3t;var w3e={getAdjMatrixAsync:vn.getAdjMatrixAsync,connectedComponentAsync:vn.connectedComponentAsync,getDegreeAsync:vn.getDegreeAsync,getInDegreeAsync:vn.getInDegreeAsync,getOutDegreeAsync:vn.getOutDegreeAsync,detectCycleAsync:vn.detectCycleAsync,detectDirectedCycleAsync:I3t,detectAllCyclesAsync:vn.detectAllCyclesAsync,detectAllDirectedCycleAsync:vn.detectAllDirectedCycleAsync,detectAllUndirectedCycleAsync:vn.detectAllUndirectedCycleAsync,dijkstraAsync:vn.dijkstraAsync,findAllPathAsync:vn.findAllPathAsync,findShortestPathAsync:vn.findShortestPathAsync,floydWarshallAsync:vn.floydWarshallAsync,labelPropagationAsync:vn.labelPropagationAsync,louvainAsync:vn.louvainAsync,minimumSpanningTreeAsync:vn.minimumSpanningTreeAsync,pageRankAsync:vn.pageRankAsync,getNeighborsAsync:vn.getNeighborsAsync,GADDIAsync:vn.GADDIAsync};yo.default=w3e});var k3t=$((zin,O3t)=>{"use strict";O3t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var D3t=$((jin,P3t)=>{P3t.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var B3t=$((Yin,N3t)=>{"use strict";var _3e=D3t(),S3e=Array.prototype.concat,C3e=Array.prototype.slice,F3t=N3t.exports=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var a=e[i];_3e(a)?t=S3e.call(t,C3e.call(a)):t.push(a)}return t};F3t.wrap=function(r){return function(){return r(F3t(arguments))}}});var j3t=$((Win,z3t)=>{var VF=k3t(),qF=B3t(),R3t=Object.hasOwnProperty,G3t=Object.create(null);for(jY in VF)R3t.call(VF,jY)&&(G3t[VF[jY]]=jY);var jY,ch=z3t.exports={to:{},get:{}};ch.get=function(r){var e=r.substring(0,3).toLowerCase(),t,i;switch(e){case"hsl":t=ch.get.hsl(r),i="hsl";break;case"hwb":t=ch.get.hwb(r),i="hwb";break;default:t=ch.get.rgb(r),i="rgb";break}return t?{model:i,value:t}:null};ch.get.rgb=function(r){if(!r)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,i=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,a=/^(\w+)$/,o=[0,0,0,1],s,l,u;if(s=r.match(t)){for(u=s[2],s=s[1],l=0;l<3;l++){var f=l*2;o[l]=parseInt(s.slice(f,f+2),16)}u&&(o[3]=parseInt(u,16)/255)}else if(s=r.match(e)){for(s=s[1],u=s[3],l=0;l<3;l++)o[l]=parseInt(s[l]+s[l],16);u&&(o[3]=parseInt(u+u,16)/255)}else if(s=r.match(i)){for(l=0;l<3;l++)o[l]=parseInt(s[l+1],0);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else if(s=r.match(n)){for(l=0;l<3;l++)o[l]=Math.round(parseFloat(s[l+1])*2.55);s[4]&&(s[5]?o[3]=parseFloat(s[4])*.01:o[3]=parseFloat(s[4]))}else return(s=r.match(a))?s[1]==="transparent"?[0,0,0,0]:R3t.call(VF,s[1])?(o=VF[s[1]],o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=qw(o[l],0,255);return o[3]=qw(o[3],0,1),o};ch.get.hsl=function(r){if(!r)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var i=parseFloat(t[4]),n=(parseFloat(t[1])%360+360)%360,a=qw(parseFloat(t[2]),0,100),o=qw(parseFloat(t[3]),0,100),s=qw(isNaN(i)?1:i,0,1);return[n,a,o,s]}return null};ch.get.hwb=function(r){if(!r)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var i=parseFloat(t[4]),n=(parseFloat(t[1])%360+360)%360,a=qw(parseFloat(t[2]),0,100),o=qw(parseFloat(t[3]),0,100),s=qw(isNaN(i)?1:i,0,1);return[n,a,o,s]}return null};ch.to.hex=function(){var r=qF(arguments);return"#"+YY(r[0])+YY(r[1])+YY(r[2])+(r[3]<1?YY(Math.round(r[3]*255)):"")};ch.to.rgb=function(){var r=qF(arguments);return r.length<4||r[3]===1?"rgb("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+")":"rgba("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+", "+r[3]+")"};ch.to.rgb.percent=function(){var r=qF(arguments),e=Math.round(r[0]/255*100),t=Math.round(r[1]/255*100),i=Math.round(r[2]/255*100);return r.length<4||r[3]===1?"rgb("+e+"%, "+t+"%, "+i+"%)":"rgba("+e+"%, "+t+"%, "+i+"%, "+r[3]+")"};ch.to.hsl=function(){var r=qF(arguments);return r.length<4||r[3]===1?"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)":"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+r[3]+")"};ch.to.hwb=function(){var r=qF(arguments),e="";return r.length>=4&&r[3]!==1&&(e=", "+r[3]),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+e+")"};ch.to.keyword=function(r){return G3t[r.slice(0,3)]};function qw(r,e,t){return Math.min(Math.max(e,r),t)}function YY(r){var e=Math.round(r).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var W3t=$((Vin,Y3t)=>{"use strict";Y3t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var oit=$((qin,U3t)=>{var aM=W3t(),V3t={};for(WY in aM)aM.hasOwnProperty(WY)&&(V3t[aM[WY]]=WY);var WY,ri=U3t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(cf in ri)if(ri.hasOwnProperty(cf)){if(!("channels"in ri[cf]))throw new Error("missing channels property: "+cf);if(!("labels"in ri[cf]))throw new Error("missing channel labels property: "+cf);if(ri[cf].labels.length!==ri[cf].channels)throw new Error("channel and label counts mismatch: "+cf);q3t=ri[cf].channels,H3t=ri[cf].labels,delete ri[cf].channels,delete ri[cf].labels,Object.defineProperty(ri[cf],"channels",{value:q3t}),Object.defineProperty(ri[cf],"labels",{value:H3t})}var q3t,H3t,cf;ri.rgb.hsl=function(r){var e=r[0]/255,t=r[1]/255,i=r[2]/255,n=Math.min(e,t,i),a=Math.max(e,t,i),o=a-n,s,l,u;return a===n?s=0:e===a?s=(t-i)/o:t===a?s=2+(i-e)/o:i===a&&(s=4+(e-t)/o),s=Math.min(s*60,360),s<0&&(s+=360),u=(n+a)/2,a===n?l=0:u<=.5?l=o/(a+n):l=o/(2-a-n),[s,l*100,u*100]};ri.rgb.hsv=function(r){var e,t,i,n,a,o=r[0]/255,s=r[1]/255,l=r[2]/255,u=Math.max(o,s,l),f=u-Math.min(o,s,l),c=function(h){return(u-h)/6/f+1/2};return f===0?n=a=0:(a=f/u,e=c(o),t=c(s),i=c(l),o===u?n=i-t:s===u?n=1/3+e-i:l===u&&(n=2/3+t-e),n<0?n+=1:n>1&&(n-=1)),[n*360,a*100,u*100]};ri.rgb.hwb=function(r){var e=r[0],t=r[1],i=r[2],n=ri.rgb.hsl(r)[0],a=1/255*Math.min(e,Math.min(t,i));return i=1-1/255*Math.max(e,Math.max(t,i)),[n,a*100,i*100]};ri.rgb.cmyk=function(r){var e=r[0]/255,t=r[1]/255,i=r[2]/255,n,a,o,s;return s=Math.min(1-e,1-t,1-i),n=(1-e-s)/(1-s)||0,a=(1-t-s)/(1-s)||0,o=(1-i-s)/(1-s)||0,[n*100,a*100,o*100,s*100]};function M3e(r,e){return Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2)+Math.pow(r[2]-e[2],2)}ri.rgb.keyword=function(r){var e=V3t[r];if(e)return e;var t=1/0,i;for(var n in aM)if(aM.hasOwnProperty(n)){var a=aM[n],o=M3e(r,a);o<t&&(t=o,i=n)}return i};ri.keyword.rgb=function(r){return aM[r]};ri.rgb.xyz=function(r){var e=r[0]/255,t=r[1]/255,i=r[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var n=e*.4124+t*.3576+i*.1805,a=e*.2126+t*.7152+i*.0722,o=e*.0193+t*.1192+i*.9505;return[n*100,a*100,o*100]};ri.rgb.lab=function(r){var e=ri.rgb.xyz(r),t=e[0],i=e[1],n=e[2],a,o,s;return t/=95.047,i/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,a=116*i-16,o=500*(t-i),s=200*(i-n),[a,o,s]};ri.hsl.rgb=function(r){var e=r[0]/360,t=r[1]/100,i=r[2]/100,n,a,o,s,l;if(t===0)return l=i*255,[l,l,l];i<.5?a=i*(1+t):a=i+t-i*t,n=2*i-a,s=[0,0,0];for(var u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?l=n+(a-n)*6*o:2*o<1?l=a:3*o<2?l=n+(a-n)*(2/3-o)*6:l=n,s[u]=l*255;return s};ri.hsl.hsv=function(r){var e=r[0],t=r[1]/100,i=r[2]/100,n=t,a=Math.max(i,.01),o,s;return i*=2,t*=i<=1?i:2-i,n*=a<=1?a:2-a,s=(i+t)/2,o=i===0?2*n/(a+n):2*t/(i+t),[e,o*100,s*100]};ri.hsv.rgb=function(r){var e=r[0]/60,t=r[1]/100,i=r[2]/100,n=Math.floor(e)%6,a=e-Math.floor(e),o=255*i*(1-t),s=255*i*(1-t*a),l=255*i*(1-t*(1-a));switch(i*=255,n){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}};ri.hsv.hsl=function(r){var e=r[0],t=r[1]/100,i=r[2]/100,n=Math.max(i,.01),a,o,s;return s=(2-t)*i,a=(2-t)*n,o=t*n,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};ri.hwb.rgb=function(r){var e=r[0]/360,t=r[1]/100,i=r[2]/100,n=t+i,a,o,s,l;n>1&&(t/=n,i/=n),a=Math.floor(6*e),o=1-i,s=6*e-a,(a&1)!=0&&(s=1-s),l=t+s*(o-t);var u,f,c;switch(a){default:case 6:case 0:u=o,f=l,c=t;break;case 1:u=l,f=o,c=t;break;case 2:u=t,f=o,c=l;break;case 3:u=t,f=l,c=o;break;case 4:u=l,f=t,c=o;break;case 5:u=o,f=t,c=l;break}return[u*255,f*255,c*255]};ri.cmyk.rgb=function(r){var e=r[0]/100,t=r[1]/100,i=r[2]/100,n=r[3]/100,a,o,s;return a=1-Math.min(1,e*(1-n)+n),o=1-Math.min(1,t*(1-n)+n),s=1-Math.min(1,i*(1-n)+n),[a*255,o*255,s*255]};ri.xyz.rgb=function(r){var e=r[0]/100,t=r[1]/100,i=r[2]/100,n,a,o;return n=e*3.2406+t*-1.5372+i*-.4986,a=e*-.9689+t*1.8758+i*.0415,o=e*.0557+t*-.204+i*1.057,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,n=Math.min(Math.max(0,n),1),a=Math.min(Math.max(0,a),1),o=Math.min(Math.max(0,o),1),[n*255,a*255,o*255]};ri.xyz.lab=function(r){var e=r[0],t=r[1],i=r[2],n,a,o;return e/=95.047,t/=100,i/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,n=116*t-16,a=500*(e-t),o=200*(t-i),[n,a,o]};ri.lab.xyz=function(r){var e=r[0],t=r[1],i=r[2],n,a,o;a=(e+16)/116,n=t/500+a,o=a-i/200;var s=Math.pow(a,3),l=Math.pow(n,3),u=Math.pow(o,3);return a=s>.008856?s:(a-16/116)/7.787,n=l>.008856?l:(n-16/116)/7.787,o=u>.008856?u:(o-16/116)/7.787,n*=95.047,a*=100,o*=108.883,[n,a,o]};ri.lab.lch=function(r){var e=r[0],t=r[1],i=r[2],n,a,o;return n=Math.atan2(i,t),a=n*360/2/Math.PI,a<0&&(a+=360),o=Math.sqrt(t*t+i*i),[e,o,a]};ri.lch.lab=function(r){var e=r[0],t=r[1],i=r[2],n,a,o;return o=i/360*2*Math.PI,n=t*Math.cos(o),a=t*Math.sin(o),[e,n,a]};ri.rgb.ansi16=function(r){var e=r[0],t=r[1],i=r[2],n=1 in arguments?arguments[1]:ri.rgb.hsv(r)[2];if(n=Math.round(n/50),n===0)return 30;var a=30+(Math.round(i/255)<<2|Math.round(t/255)<<1|Math.round(e/255));return n===2&&(a+=60),a};ri.hsv.ansi16=function(r){return ri.rgb.ansi16(ri.hsv.rgb(r),r[2])};ri.rgb.ansi256=function(r){var e=r[0],t=r[1],i=r[2];if(e===t&&t===i)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var n=16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(i/255*5);return n};ri.ansi16.rgb=function(r){var e=r%10;if(e===0||e===7)return r>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var t=(~~(r>50)+1)*.5,i=(e&1)*t*255,n=(e>>1&1)*t*255,a=(e>>2&1)*t*255;return[i,n,a]};ri.ansi256.rgb=function(r){if(r>=232){var e=(r-232)*10+8;return[e,e,e]}r-=16;var t,i=Math.floor(r/36)/5*255,n=Math.floor((t=r%36)/6)/5*255,a=t%6/5*255;return[i,n,a]};ri.rgb.hex=function(r){var e=((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255),t=e.toString(16).toUpperCase();return"000000".substring(t.length)+t};ri.hex.rgb=function(r){var e=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var t=e[0];e[0].length===3&&(t=t.split("").map(function(s){return s+s}).join(""));var i=parseInt(t,16),n=i>>16&255,a=i>>8&255,o=i&255;return[n,a,o]};ri.rgb.hcg=function(r){var e=r[0]/255,t=r[1]/255,i=r[2]/255,n=Math.max(Math.max(e,t),i),a=Math.min(Math.min(e,t),i),o=n-a,s,l;return o<1?s=a/(1-o):s=0,o<=0?l=0:n===e?l=(t-i)/o%6:n===t?l=2+(i-e)/o:l=4+(e-t)/o+4,l/=6,l%=1,[l*360,o*100,s*100]};ri.hsl.hcg=function(r){var e=r[1]/100,t=r[2]/100,i=1,n=0;return t<.5?i=2*e*t:i=2*e*(1-t),i<1&&(n=(t-.5*i)/(1-i)),[r[0],i*100,n*100]};ri.hsv.hcg=function(r){var e=r[1]/100,t=r[2]/100,i=e*t,n=0;return i<1&&(n=(t-i)/(1-i)),[r[0],i*100,n*100]};ri.hcg.rgb=function(r){var e=r[0]/360,t=r[1]/100,i=r[2]/100;if(t===0)return[i*255,i*255,i*255];var n=[0,0,0],a=e%1*6,o=a%1,s=1-o,l=0;switch(Math.floor(a)){case 0:n[0]=1,n[1]=o,n[2]=0;break;case 1:n[0]=s,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=o;break;case 3:n[0]=0,n[1]=s,n[2]=1;break;case 4:n[0]=o,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=s}return l=(1-t)*i,[(t*n[0]+l)*255,(t*n[1]+l)*255,(t*n[2]+l)*255]};ri.hcg.hsv=function(r){var e=r[1]/100,t=r[2]/100,i=e+t*(1-e),n=0;return i>0&&(n=e/i),[r[0],n*100,i*100]};ri.hcg.hsl=function(r){var e=r[1]/100,t=r[2]/100,i=t*(1-e)+.5*e,n=0;return i>0&&i<.5?n=e/(2*i):i>=.5&&i<1&&(n=e/(2*(1-i))),[r[0],n*100,i*100]};ri.hcg.hwb=function(r){var e=r[1]/100,t=r[2]/100,i=e+t*(1-e);return[r[0],(i-e)*100,(1-i)*100]};ri.hwb.hcg=function(r){var e=r[1]/100,t=r[2]/100,i=1-t,n=i-e,a=0;return n<1&&(a=(i-n)/(1-n)),[r[0],n*100,a*100]};ri.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};ri.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};ri.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};ri.gray.hsl=ri.gray.hsv=function(r){return[0,0,r[0]]};ri.gray.hwb=function(r){return[0,100,r[0]]};ri.gray.cmyk=function(r){return[0,0,0,r[0]]};ri.gray.lab=function(r){return[r[0],0,0]};ri.gray.hex=function(r){var e=Math.round(r[0]/100*255)&255,t=(e<<16)+(e<<8)+e,i=t.toString(16).toUpperCase();return"000000".substring(i.length)+i};ri.rgb.gray=function(r){var e=(r[0]+r[1]+r[2])/3;return[e/255*100]}});var Z3t=$((Hin,X3t)=>{var VY=oit();function A3e(){for(var r={},e=Object.keys(VY),t=e.length,i=0;i<t;i++)r[e[i]]={distance:-1,parent:null};return r}function E3e(r){var e=A3e(),t=[r];for(e[r].distance=0;t.length;)for(var i=t.pop(),n=Object.keys(VY[i]),a=n.length,o=0;o<a;o++){var s=n[o],l=e[s];l.distance===-1&&(l.distance=e[i].distance+1,l.parent=i,t.unshift(s))}return e}function T3e(r,e){return function(t){return e(r(t))}}function I3e(r,e){for(var t=[e[r].parent,r],i=VY[e[r].parent][r],n=e[r].parent;e[n].parent;)t.unshift(e[n].parent),i=T3e(VY[e[n].parent][n],i),n=e[n].parent;return i.conversion=t,i}X3t.exports=function(r){for(var e=E3e(r),t={},i=Object.keys(e),n=i.length,a=0;a<n;a++){var o=i[a],s=e[o];s.parent!==null&&(t[o]=I3e(o,e))}return t}});var Q3t=$((Uin,K3t)=>{var sit=oit(),L3e=Z3t(),vI={},O3e=Object.keys(sit);function k3e(r){var e=function(t){return t==null?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),r(t))};return"conversion"in r&&(e.conversion=r.conversion),e}function P3e(r){var e=function(t){if(t==null)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var i=r(t);if(typeof i=="object")for(var n=i.length,a=0;a<n;a++)i[a]=Math.round(i[a]);return i};return"conversion"in r&&(e.conversion=r.conversion),e}O3e.forEach(function(r){vI[r]={},Object.defineProperty(vI[r],"channels",{value:sit[r].channels}),Object.defineProperty(vI[r],"labels",{value:sit[r].labels});var e=L3e(r),t=Object.keys(e);t.forEach(function(i){var n=e[i];vI[r][i]=P3e(n),vI[r][i].raw=k3e(n)})});K3t.exports=vI});var t5t=$((Xin,J3t)=>{"use strict";var HF=j3t(),hh=Q3t(),lit=[].slice,$3t=["keyword","gray","hex"],uit={};Object.keys(hh).forEach(function(r){uit[lit.call(hh[r].labels).sort().join("")]=r});var qY={};function Wl(r,e){if(!(this instanceof Wl))return new Wl(r,e);if(e&&e in $3t&&(e=null),e&&!(e in hh))throw new Error("Unknown model: "+e);var t,i;if(r==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(r instanceof Wl)this.model=r.model,this.color=r.color.slice(),this.valpha=r.valpha;else if(typeof r=="string"){var n=HF.get(r);if(n===null)throw new Error("Unable to parse color from string: "+r);this.model=n.model,i=hh[this.model].channels,this.color=n.value.slice(0,i),this.valpha=typeof n.value[i]=="number"?n.value[i]:1}else if(r.length){this.model=e||"rgb",i=hh[this.model].channels;var a=lit.call(r,0,i);this.color=fit(a,i),this.valpha=typeof r[i]=="number"?r[i]:1}else if(typeof r=="number")r&=16777215,this.model="rgb",this.color=[r>>16&255,r>>8&255,r&255],this.valpha=1;else{this.valpha=1;var o=Object.keys(r);"alpha"in r&&(o.splice(o.indexOf("alpha"),1),this.valpha=typeof r.alpha=="number"?r.alpha:0);var s=o.sort().join("");if(!(s in uit))throw new Error("Unable to parse color from object: "+JSON.stringify(r));this.model=uit[s];var l=hh[this.model].labels,u=[];for(t=0;t<l.length;t++)u.push(r[l[t]]);this.color=fit(u)}if(qY[this.model])for(i=hh[this.model].channels,t=0;t<i;t++){var f=qY[this.model][t];f&&(this.color[t]=f(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Wl.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(r){var e=this.model in HF.to?this:this.rgb();e=e.round(typeof r=="number"?r:1);var t=e.valpha===1?e.color:e.color.concat(this.valpha);return HF.to[e.model](t)},percentString:function(r){var e=this.rgb().round(typeof r=="number"?r:1),t=e.valpha===1?e.color:e.color.concat(this.valpha);return HF.to.rgb.percent(t)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var r={},e=hh[this.model].channels,t=hh[this.model].labels,i=0;i<e;i++)r[t[i]]=this.color[i];return this.valpha!==1&&(r.alpha=this.valpha),r},unitArray:function(){var r=this.rgb().color;return r[0]/=255,r[1]/=255,r[2]/=255,this.valpha!==1&&r.push(this.valpha),r},unitObject:function(){var r=this.rgb().object();return r.r/=255,r.g/=255,r.b/=255,this.valpha!==1&&(r.alpha=this.valpha),r},round:function(r){return r=Math.max(r||0,0),new Wl(this.color.map(F3e(r)).concat(this.valpha),this.model)},alpha:function(r){return arguments.length?new Wl(this.color.concat(Math.max(0,Math.min(1,r))),this.model):this.valpha},red:ss("rgb",0,$s(255)),green:ss("rgb",1,$s(255)),blue:ss("rgb",2,$s(255)),hue:ss(["hsl","hsv","hsl","hwb","hcg"],0,function(r){return(r%360+360)%360}),saturationl:ss("hsl",1,$s(100)),lightness:ss("hsl",2,$s(100)),saturationv:ss("hsv",1,$s(100)),value:ss("hsv",2,$s(100)),chroma:ss("hcg",1,$s(100)),gray:ss("hcg",2,$s(100)),white:ss("hwb",1,$s(100)),wblack:ss("hwb",2,$s(100)),cyan:ss("cmyk",0,$s(100)),magenta:ss("cmyk",1,$s(100)),yellow:ss("cmyk",2,$s(100)),black:ss("cmyk",3,$s(100)),x:ss("xyz",0,$s(100)),y:ss("xyz",1,$s(100)),z:ss("xyz",2,$s(100)),l:ss("lab",0,$s(100)),a:ss("lab",1),b:ss("lab",2),keyword:function(r){return arguments.length?new Wl(r):hh[this.model].keyword(this.color)},hex:function(r){return arguments.length?new Wl(r):HF.to.hex(this.rgb().round().color)},rgbNumber:function(){var r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity:function(){for(var r=this.rgb().color,e=[],t=0;t<r.length;t++){var i=r[t]/255;e[t]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(r){var e=this.luminosity(),t=r.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level:function(r){var e=this.contrast(r);return e>=7.1?"AAA":e>=4.5?"AA":""},isDark:function(){var r=this.rgb().color,e=(r[0]*299+r[1]*587+r[2]*114)/1e3;return e<128},isLight:function(){return!this.isDark()},negate:function(){for(var r=this.rgb(),e=0;e<3;e++)r.color[e]=255-r.color[e];return r},lighten:function(r){var e=this.hsl();return e.color[2]+=e.color[2]*r,e},darken:function(r){var e=this.hsl();return e.color[2]-=e.color[2]*r,e},saturate:function(r){var e=this.hsl();return e.color[1]+=e.color[1]*r,e},desaturate:function(r){var e=this.hsl();return e.color[1]-=e.color[1]*r,e},whiten:function(r){var e=this.hwb();return e.color[1]+=e.color[1]*r,e},blacken:function(r){var e=this.hwb();return e.color[2]+=e.color[2]*r,e},grayscale:function(){var r=this.rgb().color,e=r[0]*.3+r[1]*.59+r[2]*.11;return Wl.rgb(e,e,e)},fade:function(r){return this.alpha(this.valpha-this.valpha*r)},opaquer:function(r){return this.alpha(this.valpha+this.valpha*r)},rotate:function(r){var e=this.hsl(),t=e.color[0];return t=(t+r)%360,t=t<0?360+t:t,e.color[0]=t,e},mix:function(r,e){if(!r||!r.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r);var t=r.rgb(),i=this.rgb(),n=e===void 0?.5:e,a=2*n-1,o=t.alpha()-i.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return Wl.rgb(s*t.red()+l*i.red(),s*t.green()+l*i.green(),s*t.blue()+l*i.blue(),t.alpha()*n+i.alpha()*(1-n))}};Object.keys(hh).forEach(function(r){if($3t.indexOf(r)===-1){var e=hh[r].channels;Wl.prototype[r]=function(){if(this.model===r)return new Wl(this);if(arguments.length)return new Wl(arguments,r);var t=typeof arguments[e]=="number"?e:this.valpha;return new Wl(N3e(hh[this.model][r].raw(this.color)).concat(t),r)},Wl[r]=function(t){return typeof t=="number"&&(t=fit(lit.call(arguments),e)),new Wl(t,r)}}});function D3e(r,e){return Number(r.toFixed(e))}function F3e(r){return function(e){return D3e(e,r)}}function ss(r,e,t){return r=Array.isArray(r)?r:[r],r.forEach(function(i){(qY[i]||(qY[i]=[]))[e]=t}),r=r[0],function(i){var n;return arguments.length?(t&&(i=t(i)),n=this[r](),n.color[e]=i,n):(n=this[r]().color[e],t&&(n=t(n)),n)}}function $s(r){return function(e){return Math.max(0,Math.min(r,e))}}function N3e(r){return Array.isArray(r)?r:[r]}function fit(r,e){for(var t=0;t<e;t++)typeof r[t]!="number"&&(r[t]=0);return r}J3t.exports=Wl});var Rs=$(KY=>{"use strict";Object.defineProperty(KY,"__esModule",{value:!0});KY.Base=void 0;var x5e=function(){function r(){this.nodes=[],this.edges=[],this.combos=[],this.comboEdges=[],this.hiddenNodes=[],this.hiddenEdges=[],this.hiddenCombos=[],this.vedges=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return r.prototype.layout=function(e){return this.init(e),this.execute(!0)},r.prototype.init=function(e){this.nodes=e.nodes||[],this.edges=e.edges||[],this.combos=e.combos||[],this.comboEdges=e.comboEdges||[],this.hiddenNodes=e.hiddenNodes||[],this.hiddenEdges=e.hiddenEdges||[],this.hiddenCombos=e.hiddenCombos||[],this.vedges=e.vedges||[]},r.prototype.execute=function(e){},r.prototype.executeWithWorker=function(){},r.prototype.getDefaultCfg=function(){return{}},r.prototype.updateCfg=function(e){e&&Object.assign(this,e)},r.prototype.getType=function(){return"base"},r.prototype.destroy=function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0},r}();KY.Base=x5e});var y5t=$(gI=>{"use strict";Object.defineProperty(gI,"__esModule",{value:!0});gI.camelize=gI.isString=void 0;var b5e=function(r){return typeof r=="string"};gI.isString=b5e;var w5e=function(r){var e=Object.create(null);return function(t){var i=e[t];return i||(e[t]=r(t))}},_5e=/-(\w)/g;gI.camelize=w5e(function(r){return r.replace(_5e,function(e,t){return t?t.toUpperCase():""})})});var git=$(QY=>{"use strict";Object.defineProperty(QY,"__esModule",{value:!0});QY.isArray=void 0;QY.isArray=Array.isArray});var $Y=$(lx=>{"use strict";Object.defineProperty(lx,"__esModule",{value:!0});lx.toNumber=lx.isNaN=lx.isNumber=void 0;var S5e=function(r){return typeof r=="number"};lx.isNumber=S5e;var C5e=function(r){return Number.isNaN(Number(r))};lx.isNaN=C5e;var M5e=function(r){var e=parseFloat(r);return(0,lx.isNaN)(e)?r:e};lx.toNumber=M5e});var yit=$(dm=>{"use strict";var mit=dm&&dm.__assign||function(){return mit=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},mit.apply(this,arguments)};Object.defineProperty(dm,"__esModule",{value:!0});dm.clone=dm.isObject=void 0;var A5e=function(r){return r!==null&&typeof r=="object"};dm.isObject=A5e;var E5e=function(r){if(r===null)return r;if(r instanceof Date)return new Date(r.getTime());if(r instanceof Array){var e=[];return r.forEach(function(i){e.push(i)}),e.map(function(i){return(0,dm.clone)(i)})}if(typeof r=="object"&&Object.keys(r).length){var t=mit({},r);return Object.keys(t).forEach(function(i){t[i]=(0,dm.clone)(t[i])}),t}return r};dm.clone=E5e});var JY=$(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.getCoreNodeAndRelativeLeafNodes=ja.getAvgNodePosition=ja.getLayoutBBox=ja.traverseTreeUp=ja.scaleMatrix=ja.getAdjMatrix=ja.floydWarshall=ja.getDegreeMap=ja.getDegree=ja.getEdgeTerminal=void 0;var T5e=git(),I5e=$Y(),L5e=yit(),O5e=function(r,e){var t=r[e];return(0,L5e.isObject)(t)?t.cell:t};ja.getEdgeTerminal=O5e;var k5e=function(r,e,t){for(var i=[],n=0;n<r;n++)i[n]={in:0,out:0,all:0};return t&&t.forEach(function(a){var o=(0,ja.getEdgeTerminal)(a,"source"),s=(0,ja.getEdgeTerminal)(a,"target");o&&i[e[o]]&&(i[e[o]].out+=1,i[e[o]].all+=1),s&&i[e[s]]&&(i[e[s]].in+=1,i[e[s]].all+=1)}),i};ja.getDegree=k5e;var P5e=function(r,e){var t={};return r.forEach(function(i){t[i.id]={in:0,out:0,all:0}}),e&&e.forEach(function(i){var n=(0,ja.getEdgeTerminal)(i,"source"),a=(0,ja.getEdgeTerminal)(i,"target");n&&(t[n].out+=1,t[n].all+=1),a&&(t[a].in+=1,t[a].all+=1)}),t};ja.getDegreeMap=P5e;var D5e=function(r){for(var e=[],t=r.length,i=0;i<t;i+=1){e[i]=[];for(var n=0;n<t;n+=1)i===n?e[i][n]=0:r[i][n]===0||!r[i][n]?e[i][n]=1/0:e[i][n]=r[i][n]}for(var a=0;a<t;a+=1)for(var i=0;i<t;i+=1)for(var n=0;n<t;n+=1)e[i][n]>e[i][a]+e[a][n]&&(e[i][n]=e[i][a]+e[a][n]);return e};ja.floydWarshall=D5e;var F5e=function(r,e){var t=r.nodes,i=r.edges,n=[],a={};if(!t)throw new Error("invalid nodes data!");return t&&t.forEach(function(o,s){a[o.id]=s;var l=[];n.push(l)}),i==null||i.forEach(function(o){var s=(0,ja.getEdgeTerminal)(o,"source"),l=(0,ja.getEdgeTerminal)(o,"target"),u=a[s],f=a[l];u===void 0||f===void 0||(n[u][f]=1,e||(n[f][u]=1))}),n};ja.getAdjMatrix=F5e;var N5e=function(r,e){var t=[];return r.forEach(function(i){var n=[];i.forEach(function(a){n.push(a*e)}),t.push(n)}),t};ja.scaleMatrix=N5e;var x5t=function(r,e){if(r&&r.children){for(var t=r.children.length-1;t>=0;t--)if(!x5t(r.children[t],e))return}return!!e(r)},B5e=function(r,e){typeof e=="function"&&x5t(r,e)};ja.traverseTreeUp=B5e;var R5e=function(r){var e=1/0,t=1/0,i=-1/0,n=-1/0;return r.forEach(function(a){var o=a.size;(0,T5e.isArray)(o)?o.length===1&&(o=[o[0],o[0]]):(0,I5e.isNumber)(o)?o=[o,o]:(o===void 0||isNaN(o))&&(o=[30,30]);var s=[o[0]/2,o[1]/2],l=a.x-s[0],u=a.x+s[0],f=a.y-s[1],c=a.y+s[1];e>l&&(e=l),t>f&&(t=f),i<u&&(i=u),n<c&&(n=c)}),{minX:e,minY:t,maxX:i,maxY:n}};ja.getLayoutBBox=R5e;var G5e=function(r){var e={x:0,y:0};r.forEach(function(i){e.x+=i.x||0,e.y+=i.y||0});var t=r.length||1;return{x:e.x/t,y:e.y/t}};ja.getAvgNodePosition=G5e;var b5t=function(r,e,t){var i,n;return r==="source"?((i=t==null?void 0:t.find(function(a){return a.target===e.id}))===null||i===void 0?void 0:i.source)||{}:((n=t==null?void 0:t.find(function(a){return a.source===e.id}))===null||n===void 0?void 0:n.target)||{}},w5t=function(r,e,t){var i=[];switch(r){case"source":i=t==null?void 0:t.filter(function(a){return a.source===e.id}).map(function(a){return a.target});break;case"target":i=t==null?void 0:t.filter(function(a){return a.target===e.id}).map(function(a){return a.source});break;case"both":i=t==null?void 0:t.filter(function(a){return a.source===e.id}).map(function(a){return a.target}).concat(t==null?void 0:t.filter(function(a){return a.target===e.id}).map(function(a){return a.source}));break;default:break}var n=new Set(i);return Array.from(n)},z5e=function(r,e,t,i,n){var a=t[e]||"",o=(i==null?void 0:i.filter(function(s){return s[e]===a}))||[];return r==="leaf"&&(o=o.filter(function(s){var l,u;return((l=n[s.id])===null||l===void 0?void 0:l.in)===0||((u=n[s.id])===null||u===void 0?void 0:u.out)===0})),o},j5e=function(r,e,t,i,n,a){var o=n[e.id],s=o.in,l=o.out,u=e,f=[];s===0?(u=b5t("source",e,t),f=w5t("both",u,t).map(function(h){return a[h]})):l===0&&(u=b5t("target",e,t),f=w5t("both",u,t).map(function(h){return a[h]})),f=f.filter(function(h){return n[h.id]&&(n[h.id].in===0||n[h.id].out===0)});var c=z5e(r,i,e,f,n);return{coreNode:u,relativeLeafNodes:f,sameTypeLeafNodes:c}};ja.getCoreNodeAndRelativeLeafNodes=j5e});var S5t=$(ux=>{"use strict";Object.defineProperty(ux,"__esModule",{value:!0});ux.getFuncByUnknownType=ux.getFunc=ux.isFunction=void 0;var tW=No(),_5t=$Y(),Y5e=function(r){return typeof r=="function"};ux.isFunction=Y5e;var W5e=function(r,e,t){var i;return t?i=t:(0,_5t.isNumber)(r)?i=function(){return r}:i=function(){return e},i};ux.getFunc=W5e;var V5e=function(r,e,t){return t===void 0&&(t=!0),!e&&e!==0?function(i){return i.size?(0,tW.isArray)(i.size)?i.size[0]>i.size[1]?i.size[0]:i.size[1]:(0,tW.isObject)(i.size)?i.size.width>i.size.height?i.size.width:i.size.height:i.size:r}:(0,ux.isFunction)(e)?e:(0,_5t.isNumber)(e)?function(){return e}:(0,tW.isArray)(e)?function(){if(t){var i=Math.max.apply(Math,e);return isNaN(i)?r:i}return e}:(0,tW.isObject)(e)?function(){if(t){var i=Math.max(e.width,e.height);return isNaN(i)?r:i}return[e.width,e.height]}:function(){return r}};ux.getFuncByUnknownType=V5e});var No=$(Pd=>{"use strict";var q5e=Pd&&Pd.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),mI=Pd&&Pd.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&q5e(e,r,t)};Object.defineProperty(Pd,"__esModule",{value:!0});mI(y5t(),Pd);mI(git(),Pd);mI($Y(),Pd);mI(JY(),Pd);mI(yit(),Pd);mI(S5t(),Pd)});var xit=$(vm=>{"use strict";var H5e=vm&&vm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(vm,"__esModule",{value:!0});vm.getLayoutByName=vm.unRegisterLayout=vm.registerLayout=void 0;var U5e=Rs(),X5e=No(),Hw=new Map,Z5e=function(r,e){if(Hw.get(r)&&console.warn("The layout with the name ".concat(r," exists already, it will be overridden")),(0,X5e.isObject)(e)){var t=function(i){H5e(n,i);function n(a){var o=this,s;o=i.call(this)||this;var l=o,u={},f=Object.assign({},l.getDefaultCfg(),((s=e.getDefaultCfg)===null||s===void 0?void 0:s.call(e))||{});return Object.assign(u,f,e,a),Object.keys(u).forEach(function(c){var h=u[c];l[c]=h}),o}return n}(U5e.Base);Hw.set(r,t)}else Hw.set(r,e);return Hw.get(r)};vm.registerLayout=Z5e;var K5e=function(r){Hw.has(r)&&Hw.delete(r)};vm.unRegisterLayout=K5e;var Q5e=function(r){return Hw.has(r)?Hw.get(r):null};vm.getLayoutByName=Q5e});var bit=$(xI=>{"use strict";var $5e=xI&&xI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(xI,"__esModule",{value:!0});xI.GridLayout=void 0;var yI=No(),J5e=Rs(),tGe=function(r){$5e(e,r);function e(t){var i=r.call(this)||this;return i.begin=[0,0],i.preventOverlap=!0,i.preventOverlapPadding=10,i.condense=!1,i.sortBy="degree",i.nodes=[],i.edges=[],i.width=300,i.height=300,i.row=0,i.col=0,i.cellWidth=0,i.cellHeight=0,i.cellUsed={},i.id2manPos={},i.onLayoutEnd=function(){},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.edges,a=t.begin,o=i.length;if(o===0)return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:i,edges:n};if(o===1)return i[0].x=a[0],i[0].y=a[1],t.onLayoutEnd&&t.onLayoutEnd(),{nodes:i,edges:n};var s=t.sortBy,l=t.width,u=t.height,f=t.condense,c=t.preventOverlapPadding,h=t.preventOverlap,d=t.nodeSpacing,v=t.nodeSize,p=[];i.forEach(function(P){p.push(P)});var g={};if(p.forEach(function(P,N){g[P.id]=N}),(s==="degree"||!(0,yI.isString)(s)||p[0][s]===void 0)&&(s="degree",(0,yI.isNaN)(i[0].degree))){var m=(0,yI.getDegree)(p.length,g,n);p.forEach(function(P,N){P.degree=m[N].all})}p.sort(function(P,N){return N[s]-P[s]}),!l&&typeof window!="undefined"&&(l=window.innerWidth),!u&&typeof window!="undefined"&&(u=window.innerHeight);var y=t.rows,x=t.cols!=null?t.cols:t.columns;if(t.cells=o,y!=null&&x!=null?(t.rows=y,t.cols=x):y!=null&&x==null?(t.rows=y,t.cols=Math.ceil(t.cells/t.rows)):y==null&&x!=null?(t.cols=x,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.rows=Math.max(t.rows,1),t.cols=Math.max(t.cols,1),t.cols*t.rows>t.cells){var b=t.small(),_=t.large();(b-1)*_>=t.cells?t.small(b-1):(_-1)*b>=t.cells&&t.large(_-1)}else for(;t.cols*t.rows<t.cells;){var b=t.small(),_=t.large();(_+1)*b>=t.cells?t.large(_+1):t.small(b+1)}if(t.cellWidth=l/t.cols,t.cellHeight=u/t.rows,f&&(t.cellWidth=0,t.cellHeight=0),h||d){var M=(0,yI.getFuncByUnknownType)(10,d),A=(0,yI.getFuncByUnknownType)(30,v,!1);p.forEach(function(P){(!P.x||!P.y)&&(P.x=0,P.y=0);var N=A(P)||30,R,z;(0,yI.isArray)(N)?(R=N[0],z=N[1]):(R=N,z=N);var B=M!==void 0?M(P):c,Y=R+B,q=z+B;t.cellWidth=Math.max(t.cellWidth,Y),t.cellHeight=Math.max(t.cellHeight,q)})}t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var I=0;I<p.length;I++){var k=p[I],E=void 0;if(t.position&&(E=t.position(k)),E&&(E.row!==void 0||E.col!==void 0)){var O={row:E.row,col:E.col};if(O.col===void 0)for(O.col=0;t.used(O.row,O.col);)O.col++;else if(O.row===void 0)for(O.row=0;t.used(O.row,O.col);)O.row++;t.id2manPos[k.id]=O,t.use(O.row,O.col)}t.getPos(k)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:n,nodes:p}},e.prototype.small=function(t){var i=this,n,a=i.rows||5,o=i.cols||5;if(t==null)n=Math.min(a,o);else{var s=Math.min(a,o);s===i.rows?i.rows=t:i.cols=t}return n},e.prototype.large=function(t){var i=this,n,a=i.rows||5,o=i.cols||5;if(t==null)n=Math.max(a,o);else{var s=Math.max(a,o);s===i.rows?i.rows=t:i.cols=t}return n},e.prototype.used=function(t,i){var n=this;return n.cellUsed["c-".concat(t,"-").concat(i)]||!1},e.prototype.use=function(t,i){var n=this;n.cellUsed["c-".concat(t,"-").concat(i)]=!0},e.prototype.moveToNextCell=function(){var t=this,i=t.cols||5;t.col++,t.col>=i&&(t.col=0,t.row++)},e.prototype.getPos=function(t){var i=this,n=i.begin,a=i.cellWidth,o=i.cellHeight,s,l,u=i.id2manPos[t.id];if(u)s=u.col*a+a/2+n[0],l=u.row*o+o/2+n[1];else{for(;i.used(i.row,i.col);)i.moveToNextCell();s=i.col*a+a/2+n[0],l=i.row*o+o/2+n[1],i.use(i.row,i.col),i.moveToNextCell()}t.x=s,t.y=l},e.prototype.getType=function(){return"grid"},e}(J5e.Base);xI.GridLayout=tGe});var wit=$(bI=>{"use strict";var eGe=bI&&bI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(bI,"__esModule",{value:!0});bI.RandomLayout=void 0;var rGe=Rs(),iGe=function(r){eGe(e,r);function e(t){var i=r.call(this)||this;return i.center=[0,0],i.width=300,i.height=300,i.nodes=[],i.edges=[],i.onLayoutEnd=function(){},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{center:[0,0],width:300,height:300}},e.prototype.execute=function(){var t=this,i=t.nodes,n=.9,a=t.center;return!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),i&&i.forEach(function(o){o.x=(Math.random()-.5)*n*t.width+a[0],o.y=(Math.random()-.5)*n*t.height+a[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:i,edges:this.edges}},e.prototype.getType=function(){return"random"},e}(rGe.Base);bI.RandomLayout=iGe});var Sit=$(wI=>{"use strict";var nGe=wI&&wI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(wI,"__esModule",{value:!0});wI.GForceLayout=void 0;var aGe=Rs(),Tu=No(),_it=function(r,e){var t;return r?(0,Tu.isNumber)(r)?t=function(i){return r}:t=r:t=function(i){return e||1},t},oGe=function(r){nGe(e,r);function e(t){var i=r.call(this)||this;return i.maxIteration=500,i.workerEnabled=!1,i.edgeStrength=200,i.nodeStrength=1e3,i.coulombDisScale=.005,i.damping=.9,i.maxSpeed=1e3,i.minMovement=.5,i.interval=.02,i.factor=1,i.linkDistance=1,i.gravity=10,i.preventOverlap=!0,i.collideStrength=1,i.tick=function(){},i.nodes=[],i.edges=[],i.width=300,i.height=300,i.nodeMap={},i.nodeIdxMap={},i.animate=!0,i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t,i,n=this,a=n.nodes;if(n.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(n.timeInterval),!a||a.length===0){(t=n.onLayoutEnd)===null||t===void 0||t.call(n);return}!n.width&&typeof window!="undefined"&&(n.width=window.innerWidth),!n.height&&typeof window!="undefined"&&(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var o=n.center;if(a.length===1){a[0].x=o[0],a[0].y=o[1],(i=n.onLayoutEnd)===null||i===void 0||i.call(n);return}var s={},l={};a.forEach(function(v,p){(0,Tu.isNumber)(v.x)||(v.x=Math.random()*n.width),(0,Tu.isNumber)(v.y)||(v.y=Math.random()*n.height),s[v.id]=v,l[v.id]=p}),n.nodeMap=s,n.nodeIdxMap=l,n.linkDistance=_it(n.linkDistance,1),n.nodeStrength=_it(n.nodeStrength,1),n.edgeStrength=_it(n.edgeStrength,1);var u=n.nodeSize,f;if(n.preventOverlap){var c=n.nodeSpacing,h;(0,Tu.isNumber)(c)?h=function(){return c}:(0,Tu.isFunction)(c)?h=c:h=function(){return 0},u?(0,Tu.isArray)(u)?f=function(v){return Math.max(u[0],u[1])+h(v)}:f=function(v){return u+h(v)}:f=function(v){return v.size?(0,Tu.isArray)(v.size)?Math.max(v.size[0],v.size[1])+h(v):(0,Tu.isObject)(v.size)?Math.max(v.size.width,v.size.height)+h(v):v.size+h(v):10+h(v)}}n.nodeSize=f;var d=n.edges;n.degrees=(0,Tu.getDegree)(a.length,n.nodeIdxMap,d),n.getMass||(n.getMass=function(v){var p=v.mass||n.degrees[n.nodeIdxMap[v.id]].all||1;return p}),n.run()},e.prototype.run=function(){var t,i=this,n=i.maxIteration,a=i.nodes,o=i.workerEnabled,s=i.minMovement,l=i.animate;if(!!a)if(o||!l){for(var u=0;u<n;u++){var f=i.runOneStep(u);if(i.reachMoveThreshold(a,f,s))break}(t=i.onLayoutEnd)===null||t===void 0||t.call(i)}else{if(typeof window=="undefined")return;var c=0;this.timeInterval=window.setInterval(function(){var h,d;if(!!a){var v=i.runOneStep(c)||[];i.reachMoveThreshold(a,v,s)&&((h=i.onLayoutEnd)===null||h===void 0||h.call(i),window.clearInterval(i.timeInterval)),c++,c>=n&&((d=i.onLayoutEnd)===null||d===void 0||d.call(i),window.clearInterval(i.timeInterval))}},0)}},e.prototype.reachMoveThreshold=function(t,i,n){var a=0;return t.forEach(function(o,s){var l=o.x-i[s].x,u=o.y-i[s].y;a+=Math.sqrt(l*l+u*u)}),a/=t.length,a<n},e.prototype.runOneStep=function(t){var i,n=this,a=n.nodes,o=n.edges,s=[],l=[];if(!!a){a.forEach(function(c,h){s[2*h]=0,s[2*h+1]=0,l[2*h]=0,l[2*h+1]=0}),n.calRepulsive(s,a),o&&n.calAttractive(s,o),n.calGravity(s,a);var u=Math.max(.02,n.interval-t*.002);n.updateVelocity(s,l,u,a);var f=[];return a.forEach(function(c){f.push({x:c.x,y:c.y})}),n.updatePosition(l,u,a),(i=n.tick)===null||i===void 0||i.call(n),f}},e.prototype.calRepulsive=function(t,i){var n=this,a=n.getMass,o=n.factor,s=n.coulombDisScale,l=n.preventOverlap,u=n.collideStrength,f=u===void 0?1:u,c=n.nodeStrength,h=n.nodeSize;i.forEach(function(d,v){var p=a?a(d):1;i.forEach(function(g,m){if(!(v>=m)){var y=d.x-g.x,x=d.y-g.y;y===0&&x===0&&(y=Math.random()*.01,x=Math.random()*.01);var b=y*y+x*x,_=Math.sqrt(b),M=(_+.1)*s,A=y/_,I=x/_,k=(c(d)+c(g))*.5*o/(M*M),E=a?a(g):1;if(t[2*v]+=A*k,t[2*v+1]+=I*k,t[2*m]-=A*k,t[2*m+1]-=I*k,l&&(h(d)+h(g))/2>_){var O=f*(c(d)+c(g))*.5/b;t[2*v]+=A*O/p,t[2*v+1]+=I*O/p,t[2*m]-=A*O/E,t[2*m+1]-=I*O/E}}})})},e.prototype.calAttractive=function(t,i){var n=this,a=n.nodeMap,o=n.nodeIdxMap,s=n.linkDistance,l=n.edgeStrength,u=n.nodeSize,f=n.getMass;i.forEach(function(c,h){var d=(0,Tu.getEdgeTerminal)(c,"source"),v=(0,Tu.getEdgeTerminal)(c,"target"),p=a[d],g=a[v],m=g.x-p.x,y=g.y-p.y;m===0&&y===0&&(m=Math.random()*.01,y=Math.random()*.01);var x=Math.sqrt(m*m+y*y),b=m/x,_=y/x,M=s(c,p,g)||1+(u(p)+u(g)||0)/2,A=M-x,I=A*l(c),k=o[d],E=o[v],O=f?f(p):1,P=f?f(g):1;t[2*k]-=b*I/O,t[2*k+1]-=_*I/O,t[2*E]+=b*I/P,t[2*E+1]+=_*I/P})},e.prototype.calGravity=function(t,i){for(var n=this,a=n.center,o=n.gravity,s=n.degrees,l=i.length,u=0;u<l;u++){var f=i[u],c=f.x-a[0],h=f.y-a[1],d=o;if(n.getCenter){var v=n.getCenter(f,s[u].all);v&&(0,Tu.isNumber)(v[0])&&(0,Tu.isNumber)(v[1])&&(0,Tu.isNumber)(v[2])&&(c=f.x-v[0],h=f.y-v[1],d=v[2])}!d||(t[2*u]-=d*c,t[2*u+1]-=d*h)}},e.prototype.updateVelocity=function(t,i,n,a){var o=this,s=n*o.damping;a.forEach(function(l,u){var f=t[2*u]*s||.01,c=t[2*u+1]*s||.01,h=Math.sqrt(f*f+c*c);if(h>o.maxSpeed){var d=o.maxSpeed/h;f=d*f,c=d*c}i[2*u]=f,i[2*u+1]=c})},e.prototype.updatePosition=function(t,i,n){n.forEach(function(a,o){if((0,Tu.isNumber)(a.fx)&&(0,Tu.isNumber)(a.fy)){a.x=a.fx,a.y=a.fy;return}var s=t[2*o]*i,l=t[2*o+1]*i;a.x+=s,a.y+=l})},e.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"gForce"},e}(aGe.Base);wI.GForceLayout=oGe});var Cit=$((eW,C5t)=>{(function(r,e){typeof eW=="object"&&typeof C5t!="undefined"?e(eW):typeof define=="function"&&define.amd?define(["exports"],e):(r=r||self,e(r.d3=r.d3||{}))})(eW,function(r){"use strict";function e(A){let I=+this._x.call(null,A),k=+this._y.call(null,A);return t(this.cover(I,k),I,k,A)}function t(A,I,k,E){if(isNaN(I)||isNaN(k))return A;var O,P=A._root,N={data:E},R=A._x0,z=A._y0,B=A._x1,Y=A._y1,q,j,Z,tt,lt,J,nt,ut;if(!P)return A._root=N,A;for(;P.length;)if((lt=I>=(q=(R+B)/2))?R=q:B=q,(J=k>=(j=(z+Y)/2))?z=j:Y=j,O=P,!(P=P[nt=J<<1|lt]))return O[nt]=N,A;if(Z=+A._x.call(null,P.data),tt=+A._y.call(null,P.data),I===Z&&k===tt)return N.next=P,O?O[nt]=N:A._root=N,A;do O=O?O[nt]=new Array(4):A._root=new Array(4),(lt=I>=(q=(R+B)/2))?R=q:B=q,(J=k>=(j=(z+Y)/2))?z=j:Y=j;while((nt=J<<1|lt)==(ut=(tt>=j)<<1|Z>=q));return O[ut]=P,O[nt]=N,A}function i(A){var I,k,E=A.length,O,P,N=new Array(E),R=new Array(E),z=1/0,B=1/0,Y=-1/0,q=-1/0;for(k=0;k<E;++k)isNaN(O=+this._x.call(null,I=A[k]))||isNaN(P=+this._y.call(null,I))||(N[k]=O,R[k]=P,O<z&&(z=O),O>Y&&(Y=O),P<B&&(B=P),P>q&&(q=P));if(z>Y||B>q)return this;for(this.cover(z,B).cover(Y,q),k=0;k<E;++k)t(this,N[k],R[k],A[k]);return this}function n(A,I){if(isNaN(A=+A)||isNaN(I=+I))return this;var k=this._x0,E=this._y0,O=this._x1,P=this._y1;if(isNaN(k))O=(k=Math.floor(A))+1,P=(E=Math.floor(I))+1;else{for(var N=O-k||1,R=this._root,z,B;k>A||A>=O||E>I||I>=P;)switch(B=(I<E)<<1|A<k,z=new Array(4),z[B]=R,R=z,N*=2,B){case 0:O=k+N,P=E+N;break;case 1:k=O-N,P=E+N;break;case 2:O=k+N,E=P-N;break;case 3:k=O-N,E=P-N;break}this._root&&this._root.length&&(this._root=R)}return this._x0=k,this._y0=E,this._x1=O,this._y1=P,this}function a(){var A=[];return this.visit(function(I){if(!I.length)do A.push(I.data);while(I=I.next)}),A}function o(A){return arguments.length?this.cover(+A[0][0],+A[0][1]).cover(+A[1][0],+A[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function s(A,I,k,E,O){this.node=A,this.x0=I,this.y0=k,this.x1=E,this.y1=O}function l(A,I,k){var E,O=this._x0,P=this._y0,N,R,z,B,Y=this._x1,q=this._y1,j=[],Z=this._root,tt,lt;for(Z&&j.push(new s(Z,O,P,Y,q)),k==null?k=1/0:(O=A-k,P=I-k,Y=A+k,q=I+k,k*=k);tt=j.pop();)if(!(!(Z=tt.node)||(N=tt.x0)>Y||(R=tt.y0)>q||(z=tt.x1)<O||(B=tt.y1)<P))if(Z.length){var J=(N+z)/2,nt=(R+B)/2;j.push(new s(Z[3],J,nt,z,B),new s(Z[2],N,nt,J,B),new s(Z[1],J,R,z,nt),new s(Z[0],N,R,J,nt)),(lt=(I>=nt)<<1|A>=J)&&(tt=j[j.length-1],j[j.length-1]=j[j.length-1-lt],j[j.length-1-lt]=tt)}else{var ut=A-+this._x.call(null,Z.data),ft=I-+this._y.call(null,Z.data),pt=ut*ut+ft*ft;if(pt<k){var _t=Math.sqrt(k=pt);O=A-_t,P=I-_t,Y=A+_t,q=I+_t,E=Z.data}}return E}function u(A){if(isNaN(Y=+this._x.call(null,A))||isNaN(q=+this._y.call(null,A)))return this;var I,k=this._root,E,O,P,N=this._x0,R=this._y0,z=this._x1,B=this._y1,Y,q,j,Z,tt,lt,J,nt;if(!k)return this;if(k.length)for(;;){if((tt=Y>=(j=(N+z)/2))?N=j:z=j,(lt=q>=(Z=(R+B)/2))?R=Z:B=Z,I=k,!(k=k[J=lt<<1|tt]))return this;if(!k.length)break;(I[J+1&3]||I[J+2&3]||I[J+3&3])&&(E=I,nt=J)}for(;k.data!==A;)if(O=k,!(k=k.next))return this;return(P=k.next)&&delete k.next,O?(P?O.next=P:delete O.next,this):I?(P?I[J]=P:delete I[J],(k=I[0]||I[1]||I[2]||I[3])&&k===(I[3]||I[2]||I[1]||I[0])&&!k.length&&(E?E[nt]=k:this._root=k),this):(this._root=P,this)}function f(A){for(var I=0,k=A.length;I<k;++I)this.remove(A[I]);return this}function c(){return this._root}function h(){var A=0;return this.visit(function(I){if(!I.length)do++A;while(I=I.next)}),A}function d(A){var I=[],k,E=this._root,O,P,N,R,z;for(E&&I.push(new s(E,this._x0,this._y0,this._x1,this._y1));k=I.pop();)if(!A(E=k.node,P=k.x0,N=k.y0,R=k.x1,z=k.y1)&&E.length){var B=(P+R)/2,Y=(N+z)/2;(O=E[3])&&I.push(new s(O,B,Y,R,z)),(O=E[2])&&I.push(new s(O,P,Y,B,z)),(O=E[1])&&I.push(new s(O,B,N,R,Y)),(O=E[0])&&I.push(new s(O,P,N,B,Y))}return this}function v(A){var I=[],k=[],E;for(this._root&&I.push(new s(this._root,this._x0,this._y0,this._x1,this._y1));E=I.pop();){var O=E.node;if(O.length){var P,N=E.x0,R=E.y0,z=E.x1,B=E.y1,Y=(N+z)/2,q=(R+B)/2;(P=O[0])&&I.push(new s(P,N,R,Y,q)),(P=O[1])&&I.push(new s(P,Y,R,z,q)),(P=O[2])&&I.push(new s(P,N,q,Y,B)),(P=O[3])&&I.push(new s(P,Y,q,z,B))}k.push(E)}for(;E=k.pop();)A(E.node,E.x0,E.y0,E.x1,E.y1);return this}function p(A){return A[0]}function g(A){return arguments.length?(this._x=A,this):this._x}function m(A){return A[1]}function y(A){return arguments.length?(this._y=A,this):this._y}function x(A,I,k){var E=new b(I==null?p:I,k==null?m:k,NaN,NaN,NaN,NaN);return A==null?E:E.addAll(A)}function b(A,I,k,E,O,P){this._x=A,this._y=I,this._x0=k,this._y0=E,this._x1=O,this._y1=P,this._root=void 0}function _(A){for(var I={data:A.data},k=I;A=A.next;)k=k.next={data:A.data};return I}var M=x.prototype=b.prototype;M.copy=function(){var A=new b(this._x,this._y,this._x0,this._y0,this._x1,this._y1),I=this._root,k,E;if(!I)return A;if(!I.length)return A._root=_(I),A;for(k=[{source:I,target:A._root=new Array(4)}];I=k.pop();)for(var O=0;O<4;++O)(E=I.source[O])&&(E.length?k.push({source:E,target:I.target[O]=new Array(4)}):I.target[O]=_(E));return A},M.add=e,M.addAll=i,M.cover=n,M.data=a,M.extent=o,M.find=l,M.remove=u,M.removeAll=f,M.root=c,M.size=h,M.visit=d,M.visitAfter=v,M.x=g,M.y=y,r.quadtree=x,Object.defineProperty(r,"__esModule",{value:!0})})});var A5t=$(rW=>{"use strict";Object.defineProperty(rW,"__esModule",{value:!0});rW.forceNBody=void 0;var sGe=Cit(),lGe=.81,M5t=.1;function uGe(r,e,t,i,n){var a=t/i,o=r.map(function(l,u){var f=e[l.id],c=f.data,h=f.x,d=f.y,v=f.size,p=c.layout.force.nodeStrength;return{x:h,y:d,size:v,index:u,vx:0,vy:0,weight:a*p}}),s=(0,sGe.quadtree)(o,function(l){return l.x},function(l){return l.y}).visitAfter(fGe);return o.forEach(function(l){hGe(l,s)}),o.map(function(l,u){var f=e[r[u].id],c=f.data.layout.force.mass,h=c===void 0?1:c;n[2*u]=l.vx/h,n[2*u+1]=l.vy/h}),n}rW.forceNBody=uGe;function fGe(r){var e=0,t=0,i=0;if(r.length){for(var n=0;n<4;n++){var a=r[n];a&&a.weight&&(e+=a.weight,t+=a.x*a.weight,i+=a.y*a.weight)}r.x=t/e,r.y=i/e,r.weight=e}else{var a=r;r.x=a.data.x,r.y=a.data.y,r.weight=a.data.weight}}var cGe=function(r,e,t,i,n,a){var o=a.x-r.x||M5t,s=a.y-r.y||M5t,l=i-e,u=o*o+s*s,f=Math.sqrt(u)*u;if(l*l*lGe<u){var c=r.weight/f;return a.vx+=o*c,a.vy+=s*c,!0}if(r.length)return!1;if(r.data!==a){var c=r.data.weight/f;a.vx+=o*c,a.vy+=s*c}};function hGe(r,e){e.visit(function(t,i,n,a,o){return cGe(t,i,n,a,o,r)})}});var Ait=$(Uw=>{"use strict";var dGe=Uw&&Uw.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),cp=Uw&&Uw.__assign||function(){return cp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},cp.apply(this,arguments)};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.Force2Layout=void 0;var vGe=Rs(),tl=No(),pGe=A5t(),Mit=function(r,e){var t;return r?(0,tl.isNumber)(r)?t=function(i){return r}:t=r:t=function(i){return e||1},t},gGe=function(r){dGe(e,r);function e(t){var i=r.call(this)||this;i.maxIteration=1e3,i.workerEnabled=!1,i.edgeStrength=200,i.nodeStrength=1e3,i.coulombDisScale=.005,i.damping=.9,i.maxSpeed=500,i.minMovement=.4,i.interval=.02,i.factor=1,i.linkDistance=200,i.gravity=0,i.clusterNodeStrength=20,i.preventOverlap=!0,i.distanceThresholdMode="mean",i.tick=function(){},i.nodes=[],i.edges=[],i.width=300,i.height=300,i.nodeMap={},i.nodeIdxMap={},i.judgingDistance=0,i.centripetalOptions={leaf:2,single:2,others:1,center:function(a){return{x:i.width/2,y:i.height/2}}};var n=t.getMass;return i.propsGetMass=n,i.updateCfg(t),i}return e.prototype.getCentripetalOptions=function(){var t=this,i=t.leafCluster,n=t.clustering,a=t.nodeClusterBy,o=t.nodes,s=t.nodeMap,l=t.clusterNodeStrength,u=function(x){return typeof l=="function"?l(x):l},f={},c;if(i){c=this.getSameTypeLeafMap()||{};var h=Array.from(new Set(o==null?void 0:o.map(function(x){return x[a]})))||[];f={single:100,leaf:function(x,b,_){var M=c[x.id]||{},A=M.relativeLeafNodes,I=M.sameTypeLeafNodes;return(I==null?void 0:I.length)===(A==null?void 0:A.length)||(h==null?void 0:h.length)===1?1:u(x)},others:1,center:function(x,b,_){var M,A=(((M=x.data)===null||M===void 0?void 0:M.layout)||{}).degree;if(!A)return{x:100,y:100};var I;if(A===1){var k=(c[x.id]||{}).sameTypeLeafNodes,E=k===void 0?[]:k;E.length===1?I=void 0:E.length>1&&(I=(0,tl.getAvgNodePosition)(E))}else I=void 0;return{x:I==null?void 0:I.x,y:I==null?void 0:I.y}}}}if(n){c||(c=this.getSameTypeLeafMap());var d=Array.from(new Set(o.map(function(x,b){return x[a]}))).filter(function(x){return x!==void 0}),v={};d.forEach(function(x){var b=o.filter(function(_){return _[a]===x}).map(function(_){return s[_.id]});v[x]=(0,tl.getAvgNodePosition)(b)}),f={single:function(x){return u(x)},leaf:function(x){return u(x)},others:function(x){return u(x)},center:function(x,b,_){var M=v[x[a]];return{x:M==null?void 0:M.x,y:M==null?void 0:M.y}}}}this.centripetalOptions=cp(cp({},this.centripetalOptions),f);var p=this.centripetalOptions,g=p.leaf,m=p.single,y=p.others;g&&typeof g!="function"&&(this.centripetalOptions.leaf=function(){return g}),m&&typeof m!="function"&&(this.centripetalOptions.single=function(){return m}),y&&typeof y!="function"&&(this.centripetalOptions.others=function(){return y})},e.prototype.updateCfg=function(t){t&&Object.assign(this,t)},e.prototype.getDefaultCfg=function(){return{maxIteration:500,gravity:10,enableTick:!0,animate:!0}},e.prototype.execute=function(){var t=this;t.stop();var i=t.nodes,n=t.edges,a=t.defSpringLen;if(t.judgingDistance=0,!i||i.length===0){t.onLayoutEnd([]);return}!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var o=t.center;if(i.length===1){i[0].x=o[0],i[0].y=o[1],t.onLayoutEnd([cp({},i[0])]);return}t.degreesMap=(0,tl.getDegreeMap)(i,n),t.propsGetMass?t.getMass=t.propsGetMass:t.getMass=function(d){var v=1;(0,tl.isNumber)(d.mass)&&(v=d.mass);var p=t.degreesMap[d.id].all;return!p||p<5?v:p*5*v};var s=t.nodeSize,l;if(t.preventOverlap){var u=t.nodeSpacing,f;(0,tl.isNumber)(u)?f=function(){return u}:(0,tl.isFunction)(u)?f=u:f=function(){return 0},s?(0,tl.isArray)(s)?l=function(d){return Math.max(s[0],s[1])+f(d)}:l=function(d){return s+f(d)}:l=function(d){return d.size?(0,tl.isArray)(d.size)?Math.max(d.size[0],d.size[1])+f(d):(0,tl.isObject)(d.size)?Math.max(d.size.width,d.size.height)+f(d):d.size+f(d):10+f(d)}}t.nodeSize=l,t.linkDistance=Mit(t.linkDistance,1),t.nodeStrength=Mit(t.nodeStrength,1),t.edgeStrength=Mit(t.edgeStrength,1);var c={},h={};i.forEach(function(d,v){(0,tl.isNumber)(d.x)||(d.x=Math.random()*t.width),(0,tl.isNumber)(d.y)||(d.y=Math.random()*t.height);var p=t.degreesMap[d.id];c[d.id]=cp(cp({},d),{data:cp(cp({},d.data),{size:t.nodeSize(d)||30,layout:{inDegree:p.in,outDegree:p.out,degree:p.all,tDegree:p.in,sDegree:p.out,force:{mass:t.getMass(d),nodeStrength:t.nodeStrength(d,n)}}})}),h[d.id]=v}),t.nodeMap=c,t.nodeIdxMap=h,t.edgeInfos=[],n==null||n.forEach(function(d){var v=c[d.source],p=c[d.target];!v||!p?elf.edgeInfos.push({}):t.edgeInfos.push({edgeStrength:t.edgeStrength(d),linkDistance:a?a(cp(cp({},d),{source:v,target:p}),v,p):t.linkDistance(d,v,p)||1+(s(v)+s(v)||0)/2})}),this.getCentripetalOptions(),t.onLayoutEnd=t.onLayoutEnd||function(){},t.run()},e.prototype.run=function(){var t=this,i=t.maxIteration,n=t.nodes,a=t.edges,o=t.workerEnabled,s=t.minMovement,l=t.animate,u=t.nodeMap,f=t.height;if(t.currentMinY=0,t.currentMaxY=f,!!n){var c=[];if(n.forEach(function(y,x){c[2*x]=0,c[2*x+1]=0}),this.defSideCoe&&typeof this.defSideCoe=="function"){var h={};a.forEach(function(y){var x=y.source,b=y.target;h[x]=h[x]||[],h[x].push(y),h[b]=h[b]||[],h[b].push(y)}),this.relatedEdges=h}var d=i,v=!l;if(o||v){for(var p=0,g=0;(t.judgingDistance>s||g<1)&&g<d;g++)p=g,t.runOneStep(g,c);t.onLayoutEnd(Object.values(u))}else{if(typeof window=="undefined")return;var m=0;this.timeInterval=window.setInterval(function(){!n||(t.runOneStep(m,c),m++,(m>=d||t.judgingDistance<s)&&(t.onLayoutEnd(Object.values(u)),window.clearInterval(t.timeInterval)))},0)}}},e.prototype.runOneStep=function(t,i){var n,a=this,o=a.nodes,s=a.edges,l=a.nodeMap,u=a.monitor,f=[];if(!!(o==null?void 0:o.length)){a.calRepulsive(f),s&&a.calAttractive(f),a.calGravity(f),a.attractToSide(f);var c=a.interval;if(a.updateVelocity(f,i,c),a.updatePosition(i,c),(n=a.tick)===null||n===void 0||n.call(a),u){var h=this.calTotalEnergy(f);u({energy:h,nodes:o,edges:s,iterations:t})}}},e.prototype.calTotalEnergy=function(t){var i=this,n=i.nodes,a=i.nodeMap;if(!(n==null?void 0:n.length))return 0;var o=0;return n.forEach(function(s,l){var u=t[2*l],f=t[2*l+1],c=u*u+f*f,h=a[s.id].data.layout.force.mass,d=h===void 0?1:h;o+=d*c*.5}),o},e.prototype.calRepulsive=function(t){var i=this,n=i.nodes,a=i.nodeMap,o=i.factor,s=i.coulombDisScale,l=i.nodeSize;(0,pGe.forceNBody)(n,a,o,s*s,t)},e.prototype.calAttractive=function(t){var i=this,n=i.edges,a=i.nodeMap,o=i.nodeIdxMap,s=i.edgeInfos,l=i.nodeSize;n.forEach(function(u,f){var c=(0,tl.getEdgeTerminal)(u,"source"),h=(0,tl.getEdgeTerminal)(u,"target"),d=a[c],v=a[h];if(!(!d||!v)){var p=v.x-d.x,g=v.y-d.y;!p&&!g&&(p=Math.random()*.01,g=Math.random()*.01);var m=Math.sqrt(p*p+g*g),y=p/m,x=g/m,b=s[f]||{},_=b.linkDistance,M=_===void 0?200:_,A=b.edgeStrength,I=A===void 0?200:A,k=M-m,E=k*I,O=d.data.layout.force.mass||1,P=v.data.layout.force.mass||1,N=1/O,R=1/P,z=y*E,B=x*E,Y=2*o[c],q=2*o[h];t[Y]-=z*N,t[Y+1]-=B*N,t[q]+=z*R,t[q+1]+=B*R}})},e.prototype.calGravity=function(t){var i,n=this,a=n.nodes,o=n.edges,s=o===void 0?[]:o,l=n.nodeMap,u=n.width,f=n.height,c=n.center,h=n.gravity,d=n.degreesMap,v=n.centripetalOptions;if(!!a)for(var p=a.length,g=0;g<p;g++){var m=2*g,y=l[a[g].id],x=y.data.layout.force.mass,b=x===void 0?1:x,_=0,M=0,A=h,I=d[y.id],k=I.in,E=I.out,O=I.all,P=(i=n.getCenter)===null||i===void 0?void 0:i.call(n,y,O);if(P){var N=P[0],R=P[1],z=P[2];_=y.x-N,M=y.y-R,A=z}else _=y.x-c[0],M=y.y-c[1];if(A&&(t[m]-=A*_/b,t[m+1]-=A*M/b),v){var B=v.leaf,Y=v.single,q=v.others,j=v.center,Z=(j==null?void 0:j(y,a,s,u,f))||{x:0,y:0,centerStrength:0},tt=Z.x,lt=Z.y,J=Z.centerStrength;if(!(0,tl.isNumber)(tt)||!(0,tl.isNumber)(lt))continue;var nt=(y.x-tt)/b,ut=(y.y-lt)/b;if(J&&(t[m]-=J*nt,t[m+1]-=J*ut),O===0){var ft=Y(y);if(!ft)continue;t[m]-=ft*nt,t[m+1]-=ft*ut;continue}if(k===0||E===0){var pt=B(y,a,s);if(!pt)continue;t[m]-=pt*nt,t[m+1]-=pt*ut;continue}var _t=q(y);if(!_t)continue;t[m]-=_t*nt,t[m+1]-=_t*ut}}},e.prototype.attractToSide=function(t){var i=this,n=i.defSideCoe,a=i.height,o=i.nodes,s=i.relatedEdges,l=i.currentMinY,u=l===void 0?0:l,f=i.currentMaxY,c=f===void 0?this.height:f;!n||typeof n!="function"||!(o==null?void 0:o.length)||o.forEach(function(h,d){var v=n(h,s[h.id]||[]);if(v!==0){var p=v<0?u:c,g=Math.abs(v);t[2*d+1]-=g*(h.y-p)}})},e.prototype.updateVelocity=function(t,i,n){var a=this,o=a.nodes,s=a.damping,l=a.maxSpeed;!(o==null?void 0:o.length)||o.forEach(function(u,f){var c=(i[2*f]+t[2*f]*n)*s||.01,h=(i[2*f+1]+t[2*f+1]*n)*s||.01,d=Math.sqrt(c*c+h*h);if(d>l){var v=l/d;c=v*c,h=v*h}i[2*f]=c,i[2*f+1]=h})},e.prototype.updatePosition=function(t,i){var n=this,a=n.nodes,o=n.distanceThresholdMode,s=n.nodeMap;if(!(a==null?void 0:a.length)){this.judgingDistance=0;return}var l=0;o==="max"?n.judgingDistance=-1/0:o==="min"&&(n.judgingDistance=1/0);var u=1/0,f=-1/0;a.forEach(function(c,h){var d=s[c.id];if((0,tl.isNumber)(c.fx)&&(0,tl.isNumber)(c.fy)){c.x=c.fx,c.y=c.fy,d.x=c.x,d.y=c.y;return}var v=t[2*h]*i,p=t[2*h+1]*i;c.x+=v,c.y+=p,d.x=c.x,d.y=c.y,c.y<u&&(u=c.y),c.y>f&&(f=c.y);var g=Math.sqrt(v*v+p*p);switch(o){case"max":n.judgingDistance<g&&(n.judgingDistance=g);break;case"min":n.judgingDistance>g&&(n.judgingDistance=g);break;default:l=l+g;break}}),this.currentMinY=u,this.currentMaxY=f,(!o||o==="mean")&&(n.judgingDistance=l/a.length)},e.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"force2"},e.prototype.getSameTypeLeafMap=function(){var t=this,i=t.nodeClusterBy,n=t.nodes,a=t.edges,o=t.nodeMap,s=t.degreesMap;if(!!(n==null?void 0:n.length)){var l={};return n.forEach(function(u,f){var c=s[u.id].all;c===1&&(l[u.id]=(0,tl.getCoreNodeAndRelativeLeafNodes)("leaf",u,a,i,s,o))}),l}},e}(vGe.Base);Uw.Force2Layout=gGe});var T5t=$((iW,E5t)=>{(function(r,e){typeof iW=="object"&&typeof E5t!="undefined"?e(iW):typeof define=="function"&&define.amd?define(["exports"],e):(r=r||self,e(r.d3=r.d3||{}))})(iW,function(r){"use strict";var e={value:()=>{}};function t(){for(var s=0,l=arguments.length,u={},f;s<l;++s){if(!(f=arguments[s]+"")||f in u||/[\s.]/.test(f))throw new Error("illegal type: "+f);u[f]=[]}return new i(u)}function i(s){this._=s}function n(s,l){return s.trim().split(/^|\s+/).map(function(u){var f="",c=u.indexOf(".");if(c>=0&&(f=u.slice(c+1),u=u.slice(0,c)),u&&!l.hasOwnProperty(u))throw new Error("unknown type: "+u);return{type:u,name:f}})}i.prototype=t.prototype={constructor:i,on:function(s,l){var u=this._,f=n(s+"",u),c,h=-1,d=f.length;if(arguments.length<2){for(;++h<d;)if((c=(s=f[h]).type)&&(c=a(u[c],s.name)))return c;return}if(l!=null&&typeof l!="function")throw new Error("invalid callback: "+l);for(;++h<d;)if(c=(s=f[h]).type)u[c]=o(u[c],s.name,l);else if(l==null)for(c in u)u[c]=o(u[c],s.name,null);return this},copy:function(){var s={},l=this._;for(var u in l)s[u]=l[u].slice();return new i(s)},call:function(s,l){if((c=arguments.length-2)>0)for(var u=new Array(c),f=0,c,h;f<c;++f)u[f]=arguments[f+2];if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(h=this._[s],f=0,c=h.length;f<c;++f)h[f].value.apply(l,u)},apply:function(s,l,u){if(!this._.hasOwnProperty(s))throw new Error("unknown type: "+s);for(var f=this._[s],c=0,h=f.length;c<h;++c)f[c].value.apply(l,u)}};function a(s,l){for(var u=0,f=s.length,c;u<f;++u)if((c=s[u]).name===l)return c.value}function o(s,l,u){for(var f=0,c=s.length;f<c;++f)if(s[f].name===l){s[f]=e,s=s.slice(0,f).concat(s.slice(f+1));break}return u!=null&&s.push({name:l,value:u}),s}r.dispatch=t,Object.defineProperty(r,"__esModule",{value:!0})})});var L5t=$((nW,I5t)=>{(function(r,e){typeof nW=="object"&&typeof I5t!="undefined"?e(nW):typeof define=="function"&&define.amd?define(["exports"],e):(r=r||self,e(r.d3=r.d3||{}))})(nW,function(r){"use strict";var e=0,t=0,i=0,n=1e3,a,o,s=0,l=0,u=0,f=typeof performance=="object"&&performance.now?performance:Date,c=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(A){setTimeout(A,17)};function h(){return l||(c(d),l=f.now()+u)}function d(){l=0}function v(){this._call=this._time=this._next=null}v.prototype=p.prototype={constructor:v,restart:function(A,I,k){if(typeof A!="function")throw new TypeError("callback is not a function");k=(k==null?h():+k)+(I==null?0:+I),!this._next&&o!==this&&(o?o._next=this:a=this,o=this),this._call=A,this._time=k,b()},stop:function(){this._call&&(this._call=null,this._time=1/0,b())}};function p(A,I,k){var E=new v;return E.restart(A,I,k),E}function g(){h(),++e;for(var A=a,I;A;)(I=l-A._time)>=0&&A._call.call(null,I),A=A._next;--e}function m(){l=(s=f.now())+u,e=t=0;try{g()}finally{e=0,x(),l=0}}function y(){var A=f.now(),I=A-s;I>n&&(u-=I,s=A)}function x(){for(var A,I=a,k,E=1/0;I;)I._call?(E>I._time&&(E=I._time),A=I,I=I._next):(k=I._next,I._next=null,I=A?A._next=k:a=k);o=A,b(E)}function b(A){if(!e){t&&(t=clearTimeout(t));var I=A-l;I>24?(A<1/0&&(t=setTimeout(m,A-f.now()-u)),i&&(i=clearInterval(i))):(i||(s=f.now(),i=setInterval(y,n)),e=1,c(m))}}function _(A,I,k){var E=new v;return I=I==null?0:+I,E.restart(O=>{E.stop(),A(O+I)},I,k),E}function M(A,I,k){var E=new v,O=I;return I==null?(E.restart(A,I,k),E):(E._restart=E.restart,E.restart=function(P,N,R){N=+N,R=R==null?h():+R,E._restart(function z(B){B+=O,E._restart(z,O+=N,R),P(B)},N,R)},E.restart(A,I,k),E)}r.interval=M,r.now=h,r.timeout=_,r.timer=p,r.timerFlush=g,Object.defineProperty(r,"__esModule",{value:!0})})});var oW=$((aW,O5t)=>{(function(r,e){typeof aW=="object"&&typeof O5t!="undefined"?e(aW,Cit(),T5t(),L5t()):typeof define=="function"&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],e):(r=r||self,e(r.d3=r.d3||{},r.d3,r.d3,r.d3))})(aW,function(r,e,t,i){"use strict";function n(E,O){var P,N=1;E==null&&(E=0),O==null&&(O=0);function R(){var z,B=P.length,Y,q=0,j=0;for(z=0;z<B;++z)Y=P[z],q+=Y.x,j+=Y.y;for(q=(q/B-E)*N,j=(j/B-O)*N,z=0;z<B;++z)Y=P[z],Y.x-=q,Y.y-=j}return R.initialize=function(z){P=z},R.x=function(z){return arguments.length?(E=+z,R):E},R.y=function(z){return arguments.length?(O=+z,R):O},R.strength=function(z){return arguments.length?(N=+z,R):N},R}function a(E){return function(){return E}}function o(E){return(E()-.5)*1e-6}function s(E){return E.x+E.vx}function l(E){return E.y+E.vy}function u(E){var O,P,N,R=1,z=1;typeof E!="function"&&(E=a(E==null?1:+E));function B(){for(var j,Z=O.length,tt,lt,J,nt,ut,ft,pt=0;pt<z;++pt)for(tt=e.quadtree(O,s,l).visitAfter(Y),j=0;j<Z;++j)lt=O[j],ut=P[lt.index],ft=ut*ut,J=lt.x+lt.vx,nt=lt.y+lt.vy,tt.visit(_t);function _t(Et,Ot,oe,se,_e){var le=Et.data,ar=Et.r,pe=ut+ar;if(le){if(le.index>lt.index){var ze=J-le.x-le.vx,rr=nt-le.y-le.vy,ur=ze*ze+rr*rr;ur<pe*pe&&(ze===0&&(ze=o(N),ur+=ze*ze),rr===0&&(rr=o(N),ur+=rr*rr),ur=(pe-(ur=Math.sqrt(ur)))/ur*R,lt.vx+=(ze*=ur)*(pe=(ar*=ar)/(ft+ar)),lt.vy+=(rr*=ur)*pe,le.vx-=ze*(pe=1-pe),le.vy-=rr*pe)}return}return Ot>J+pe||se<J-pe||oe>nt+pe||_e<nt-pe}}function Y(j){if(j.data)return j.r=P[j.data.index];for(var Z=j.r=0;Z<4;++Z)j[Z]&&j[Z].r>j.r&&(j.r=j[Z].r)}function q(){if(!!O){var j,Z=O.length,tt;for(P=new Array(Z),j=0;j<Z;++j)tt=O[j],P[tt.index]=+E(tt,j,O)}}return B.initialize=function(j,Z){O=j,N=Z,q()},B.iterations=function(j){return arguments.length?(z=+j,B):z},B.strength=function(j){return arguments.length?(R=+j,B):R},B.radius=function(j){return arguments.length?(E=typeof j=="function"?j:a(+j),q(),B):E},B}function f(E){return E.index}function c(E,O){var P=E.get(O);if(!P)throw new Error("node not found: "+O);return P}function h(E){var O=f,P=tt,N,R=a(30),z,B,Y,q,j,Z=1;E==null&&(E=[]);function tt(ft){return 1/Math.min(Y[ft.source.index],Y[ft.target.index])}function lt(ft){for(var pt=0,_t=E.length;pt<Z;++pt)for(var Et=0,Ot,oe,se,_e,le,ar,pe;Et<_t;++Et)Ot=E[Et],oe=Ot.source,se=Ot.target,_e=se.x+se.vx-oe.x-oe.vx||o(j),le=se.y+se.vy-oe.y-oe.vy||o(j),ar=Math.sqrt(_e*_e+le*le),ar=(ar-z[Et])/ar*ft*N[Et],_e*=ar,le*=ar,se.vx-=_e*(pe=q[Et]),se.vy-=le*pe,oe.vx+=_e*(pe=1-pe),oe.vy+=le*pe}function J(){if(!!B){var ft,pt=B.length,_t=E.length,Et=new Map(B.map((oe,se)=>[O(oe,se,B),oe])),Ot;for(ft=0,Y=new Array(pt);ft<_t;++ft)Ot=E[ft],Ot.index=ft,typeof Ot.source!="object"&&(Ot.source=c(Et,Ot.source)),typeof Ot.target!="object"&&(Ot.target=c(Et,Ot.target)),Y[Ot.source.index]=(Y[Ot.source.index]||0)+1,Y[Ot.target.index]=(Y[Ot.target.index]||0)+1;for(ft=0,q=new Array(_t);ft<_t;++ft)Ot=E[ft],q[ft]=Y[Ot.source.index]/(Y[Ot.source.index]+Y[Ot.target.index]);N=new Array(_t),nt(),z=new Array(_t),ut()}}function nt(){if(!!B)for(var ft=0,pt=E.length;ft<pt;++ft)N[ft]=+P(E[ft],ft,E)}function ut(){if(!!B)for(var ft=0,pt=E.length;ft<pt;++ft)z[ft]=+R(E[ft],ft,E)}return lt.initialize=function(ft,pt){B=ft,j=pt,J()},lt.links=function(ft){return arguments.length?(E=ft,J(),lt):E},lt.id=function(ft){return arguments.length?(O=ft,lt):O},lt.iterations=function(ft){return arguments.length?(Z=+ft,lt):Z},lt.strength=function(ft){return arguments.length?(P=typeof ft=="function"?ft:a(+ft),nt(),lt):P},lt.distance=function(ft){return arguments.length?(R=typeof ft=="function"?ft:a(+ft),ut(),lt):R},lt}let d=1664525,v=1013904223,p=4294967296;function g(){let E=1;return()=>(E=(d*E+v)%p)/p}function m(E){return E.x}function y(E){return E.y}var x=10,b=Math.PI*(3-Math.sqrt(5));function _(E){var O,P=1,N=.001,R=1-Math.pow(N,1/300),z=0,B=.6,Y=new Map,q=i.timer(tt),j=t.dispatch("tick","end"),Z=g();E==null&&(E=[]);function tt(){lt(),j.call("tick",O),P<N&&(q.stop(),j.call("end",O))}function lt(ut){var ft,pt=E.length,_t;ut===void 0&&(ut=1);for(var Et=0;Et<ut;++Et)for(P+=(z-P)*R,Y.forEach(function(Ot){Ot(P)}),ft=0;ft<pt;++ft)_t=E[ft],_t.fx==null?_t.x+=_t.vx*=B:(_t.x=_t.fx,_t.vx=0),_t.fy==null?_t.y+=_t.vy*=B:(_t.y=_t.fy,_t.vy=0);return O}function J(){for(var ut=0,ft=E.length,pt;ut<ft;++ut){if(pt=E[ut],pt.index=ut,pt.fx!=null&&(pt.x=pt.fx),pt.fy!=null&&(pt.y=pt.fy),isNaN(pt.x)||isNaN(pt.y)){var _t=x*Math.sqrt(.5+ut),Et=ut*b;pt.x=_t*Math.cos(Et),pt.y=_t*Math.sin(Et)}(isNaN(pt.vx)||isNaN(pt.vy))&&(pt.vx=pt.vy=0)}}function nt(ut){return ut.initialize&&ut.initialize(E,Z),ut}return J(),O={tick:lt,restart:function(){return q.restart(tt),O},stop:function(){return q.stop(),O},nodes:function(ut){return arguments.length?(E=ut,J(),Y.forEach(nt),O):E},alpha:function(ut){return arguments.length?(P=+ut,O):P},alphaMin:function(ut){return arguments.length?(N=+ut,O):N},alphaDecay:function(ut){return arguments.length?(R=+ut,O):+R},alphaTarget:function(ut){return arguments.length?(z=+ut,O):z},velocityDecay:function(ut){return arguments.length?(B=1-ut,O):1-B},randomSource:function(ut){return arguments.length?(Z=ut,Y.forEach(nt),O):Z},force:function(ut,ft){return arguments.length>1?(ft==null?Y.delete(ut):Y.set(ut,nt(ft)),O):Y.get(ut)},find:function(ut,ft,pt){var _t=0,Et=E.length,Ot,oe,se,_e,le;for(pt==null?pt=1/0:pt*=pt,_t=0;_t<Et;++_t)_e=E[_t],Ot=ut-_e.x,oe=ft-_e.y,se=Ot*Ot+oe*oe,se<pt&&(le=_e,pt=se);return le},on:function(ut,ft){return arguments.length>1?(j.on(ut,ft),O):j.on(ut)}}}function M(){var E,O,P,N,R=a(-30),z,B=1,Y=1/0,q=.81;function j(J){var nt,ut=E.length,ft=e.quadtree(E,m,y).visitAfter(tt);for(N=J,nt=0;nt<ut;++nt)O=E[nt],ft.visit(lt)}function Z(){if(!!E){var J,nt=E.length,ut;for(z=new Array(nt),J=0;J<nt;++J)ut=E[J],z[ut.index]=+R(ut,J,E)}}function tt(J){var nt=0,ut,ft,pt=0,_t,Et,Ot;if(J.length){for(_t=Et=Ot=0;Ot<4;++Ot)(ut=J[Ot])&&(ft=Math.abs(ut.value))&&(nt+=ut.value,pt+=ft,_t+=ft*ut.x,Et+=ft*ut.y);J.x=_t/pt,J.y=Et/pt}else{ut=J,ut.x=ut.data.x,ut.y=ut.data.y;do nt+=z[ut.data.index];while(ut=ut.next)}J.value=nt}function lt(J,nt,ut,ft){if(!J.value)return!0;var pt=J.x-O.x,_t=J.y-O.y,Et=ft-nt,Ot=pt*pt+_t*_t;if(Et*Et/q<Ot)return Ot<Y&&(pt===0&&(pt=o(P),Ot+=pt*pt),_t===0&&(_t=o(P),Ot+=_t*_t),Ot<B&&(Ot=Math.sqrt(B*Ot)),O.vx+=pt*J.value*N/Ot,O.vy+=_t*J.value*N/Ot),!0;if(J.length||Ot>=Y)return;(J.data!==O||J.next)&&(pt===0&&(pt=o(P),Ot+=pt*pt),_t===0&&(_t=o(P),Ot+=_t*_t),Ot<B&&(Ot=Math.sqrt(B*Ot)));do J.data!==O&&(Et=z[J.data.index]*N/Ot,O.vx+=pt*Et,O.vy+=_t*Et);while(J=J.next)}return j.initialize=function(J,nt){E=J,P=nt,Z()},j.strength=function(J){return arguments.length?(R=typeof J=="function"?J:a(+J),Z(),j):R},j.distanceMin=function(J){return arguments.length?(B=J*J,j):Math.sqrt(B)},j.distanceMax=function(J){return arguments.length?(Y=J*J,j):Math.sqrt(Y)},j.theta=function(J){return arguments.length?(q=J*J,j):Math.sqrt(q)},j}function A(E,O,P){var N,R=a(.1),z,B;typeof E!="function"&&(E=a(+E)),O==null&&(O=0),P==null&&(P=0);function Y(j){for(var Z=0,tt=N.length;Z<tt;++Z){var lt=N[Z],J=lt.x-O||1e-6,nt=lt.y-P||1e-6,ut=Math.sqrt(J*J+nt*nt),ft=(B[Z]-ut)*z[Z]*j/ut;lt.vx+=J*ft,lt.vy+=nt*ft}}function q(){if(!!N){var j,Z=N.length;for(z=new Array(Z),B=new Array(Z),j=0;j<Z;++j)B[j]=+E(N[j],j,N),z[j]=isNaN(B[j])?0:+R(N[j],j,N)}}return Y.initialize=function(j){N=j,q()},Y.strength=function(j){return arguments.length?(R=typeof j=="function"?j:a(+j),q(),Y):R},Y.radius=function(j){return arguments.length?(E=typeof j=="function"?j:a(+j),q(),Y):E},Y.x=function(j){return arguments.length?(O=+j,Y):O},Y.y=function(j){return arguments.length?(P=+j,Y):P},Y}function I(E){var O=a(.1),P,N,R;typeof E!="function"&&(E=a(E==null?0:+E));function z(Y){for(var q=0,j=P.length,Z;q<j;++q)Z=P[q],Z.vx+=(R[q]-Z.x)*N[q]*Y}function B(){if(!!P){var Y,q=P.length;for(N=new Array(q),R=new Array(q),Y=0;Y<q;++Y)N[Y]=isNaN(R[Y]=+E(P[Y],Y,P))?0:+O(P[Y],Y,P)}}return z.initialize=function(Y){P=Y,B()},z.strength=function(Y){return arguments.length?(O=typeof Y=="function"?Y:a(+Y),B(),z):O},z.x=function(Y){return arguments.length?(E=typeof Y=="function"?Y:a(+Y),B(),z):E},z}function k(E){var O=a(.1),P,N,R;typeof E!="function"&&(E=a(E==null?0:+E));function z(Y){for(var q=0,j=P.length,Z;q<j;++q)Z=P[q],Z.vy+=(R[q]-Z.y)*N[q]*Y}function B(){if(!!P){var Y,q=P.length;for(N=new Array(q),R=new Array(q),Y=0;Y<q;++Y)N[Y]=isNaN(R[Y]=+E(P[Y],Y,P))?0:+O(P[Y],Y,P)}}return z.initialize=function(Y){P=Y,B()},z.strength=function(Y){return arguments.length?(O=typeof Y=="function"?Y:a(+Y),B(),z):O},z.y=function(Y){return arguments.length?(E=typeof Y=="function"?Y:a(+Y),B(),z):E},z}r.forceCenter=n,r.forceCollide=u,r.forceLink=h,r.forceManyBody=M,r.forceRadial=A,r.forceSimulation=_,r.forceX=I,r.forceY=k,Object.defineProperty(r,"__esModule",{value:!0})})});var k5t=$(fx=>{"use strict";var mGe=fx&&fx.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),yGe=fx&&fx.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),xGe=fx&&fx.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mGe(e,r,t);return yGe(e,r),e};Object.defineProperty(fx,"__esModule",{value:!0});var _I=xGe(oW()),sW=No();function bGe(){function r(nt){return function(){return nt}}var e=function(nt){return nt.cluster},t=r(1),i=r(-1),n=r(100),a=r(.1),o=[0,0],s=[],l={},u=[],f=100,c=100,h={none:{x:0,y:0}},d=[],v,p="force",g=!0,m=.1;function y(nt){if(!g)return y;v.tick(),I();for(var ut=0,ft=s.length,pt=void 0,_t=nt*m;ut<ft;++ut)pt=s[ut],pt.vx+=(h[e(pt)].x-pt.x)*_t,pt.vy+=(h[e(pt)].y-pt.y)*_t}function x(){!s||b()}function b(){if(!(!s||!s.length)){if(e(s[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var nt=_();v=_I.forceSimulation(nt.nodes).force("x",_I.forceX(f).strength(.1)).force("y",_I.forceY(c).strength(.1)).force("collide",_I.forceCollide(function(ut){return ut.r}).iterations(4)).force("charge",_I.forceManyBody().strength(i)).force("links",_I.forceLink(nt.nodes.length?nt.links:[]).distance(n).strength(a)),d=v.nodes(),I()}}function _(){var nt=[],ut=[],ft={},pt=[],_t={},Et=[];return _t=M(s),Et=A(u),pt=Object.keys(_t),pt.forEach(function(Ot,oe){var se=_t[Ot];nt.push({id:Ot,size:se.count,r:Math.sqrt(se.sumforceNodeSize/Math.PI)}),ft[Ot]=oe}),Et.forEach(function(Ot){var oe=(0,sW.getEdgeTerminal)(Ot,"source"),se=(0,sW.getEdgeTerminal)(Ot,"target"),_e=ft[oe],le=ft[se];_e!==void 0&&le!==void 0&&ut.push({source:_e,target:le,count:Ot.count})}),{nodes:nt,links:ut}}function M(nt){var ut={};return nt.forEach(function(ft){var pt=e(ft);ut[pt]||(ut[pt]={count:0,sumforceNodeSize:0})}),nt.forEach(function(ft){var pt=e(ft),_t=t(ft),Et=ut[pt];Et.count=Et.count+1,Et.sumforceNodeSize=Et.sumforceNodeSize+Math.PI*(_t*_t)*1.3,ut[pt]=Et}),ut}function A(nt){var ut={},ft=[];nt.forEach(function(_t){var Et=k(_t),Ot=0;ut[Et]!==void 0&&(Ot=ut[Et]),Ot+=1,ut[Et]=Ot});var pt=Object.entries(ut);return pt.forEach(function(_t){var Et=_t[0],Ot=_t[1],oe=Et.split("~")[0],se=Et.split("~")[1];oe!==void 0&&se!==void 0&&ft.push({source:oe,target:se,count:Ot})}),ft}function I(){return h={none:{x:0,y:0}},d.forEach(function(nt){h[nt.id]={x:nt.x-o[0],y:nt.y-o[1]}}),h}function k(nt){var ut=(0,sW.getEdgeTerminal)(nt,"source"),ft=(0,sW.getEdgeTerminal)(nt,"target"),pt=e(l[ut]),_t=e(l[ft]);return pt<=_t?"".concat(pt,"~").concat(_t):"".concat(_t,"~").concat(pt)}function E(nt){l={},nt.forEach(function(ut){l[ut.id]=ut})}function O(nt){return arguments.length?(p=nt,x(),y):p}function P(nt){return arguments.length?typeof nt=="string"?(e=function(ut){return ut[nt]},y):(e=nt,y):e}function N(nt){return arguments.length?(g=nt,y):g}function R(nt){return arguments.length?(m=nt,y):m}function z(nt){return arguments.length?(f=nt,y):f}function B(nt){return arguments.length?(c=nt,y):c}function Y(nt){return arguments.length?(E(nt||[]),s=nt||[],y):s}function q(nt){return arguments.length?(u=nt||[],x(),y):u}function j(nt){return arguments.length?(typeof nt=="function"?t=nt:t=r(+nt),x(),y):t}function Z(nt){return arguments.length?(typeof nt=="function"?i=nt:i=r(+nt),x(),y):i}function tt(nt){return arguments.length?(typeof nt=="function"?n=nt:n=r(+nt),x(),y):n}function lt(nt){return arguments.length?(typeof nt=="function"?a=nt:a=r(+nt),x(),y):a}function J(nt){return arguments.length?(o=nt,y):o}return y.initialize=function(nt){s=nt,x()},y.template=O,y.groupBy=P,y.enableGrouping=N,y.strength=R,y.centerX=z,y.centerY=B,y.nodes=Y,y.links=q,y.forceNodeSize=j,y.nodeSize=y.forceNodeSize,y.forceCharge=Z,y.forceLinkDistance=tt,y.forceLinkStrength=lt,y.offset=J,y.getFocis=I,y}fx.default=bGe});var ZF=$(SI=>{"use strict";Object.defineProperty(SI,"__esModule",{value:!0});SI.FORCE_LAYOUT_TYPE_MAP=SI.LAYOUT_MESSAGE=void 0;SI.LAYOUT_MESSAGE={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};SI.FORCE_LAYOUT_TYPE_MAP={gForce:!0,force2:!0,fruchterman:!0,forceAtlas2:!0,force:!0,"graphin-force":!0}});var P5t=$(pc=>{"use strict";var wGe=pc&&pc.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),_Ge=pc&&pc.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),SGe=pc&&pc.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),CGe=pc&&pc.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&_Ge(e,r,t);return SGe(e,r),e},MGe=pc&&pc.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pc,"__esModule",{value:!0});pc.ForceLayout=void 0;var CI=CGe(oW()),AGe=MGe(k5t()),oM=No(),EGe=Rs(),TGe=ZF(),IGe=function(r){wGe(e,r);function e(t){var i=r.call(this)||this;return i.center=[0,0],i.nodeStrength=null,i.edgeStrength=null,i.preventOverlap=!1,i.clusterNodeStrength=null,i.clusterEdgeStrength=null,i.clusterEdgeDistance=null,i.clusterNodeSize=null,i.clusterFociStrength=null,i.linkDistance=50,i.alphaDecay=.028,i.alphaMin=.001,i.alpha=.3,i.collideStrength=1,i.workerEnabled=!1,i.tick=function(){},i.onLayoutEnd=function(){},i.ticking=void 0,t&&i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}},e.prototype.init=function(t){var i=this;i.nodes=t.nodes||[];var n=t.edges||[];i.edges=n.map(function(a){var o={},s=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(a).forEach(function(l){s.indexOf(l)>-1||(o[l]=a[l])}),o}),i.ticking=!1},e.prototype.execute=function(t){var i=this,n=i.nodes,a=i.edges;if(!i.ticking){var o=i.forceSimulation,s=i.alphaMin,l=i.alphaDecay,u=i.alpha;if(o){if(t){if(i.clustering&&i.clusterForce&&(i.clusterForce.nodes(n),i.clusterForce.links(a)),o.nodes(n),a&&i.edgeForce)i.edgeForce.links(a);else if(a&&!i.edgeForce){var h=CI.forceLink().id(function(g){return g.id}).links(a);i.edgeStrength&&h.strength(i.edgeStrength),i.linkDistance&&h.distance(i.linkDistance),i.edgeForce=h,o.force("link",h)}}i.preventOverlap&&i.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0}else try{var f=CI.forceManyBody();if(i.nodeStrength&&f.strength(i.nodeStrength),o=CI.forceSimulation().nodes(n),i.clustering){var c=(0,AGe.default)();c.centerX(i.center[0]).centerY(i.center[1]).template("force").strength(i.clusterFociStrength),a&&c.links(a),n&&c.nodes(n),c.forceLinkDistance(i.clusterEdgeDistance).forceLinkStrength(i.clusterEdgeStrength).forceCharge(i.clusterNodeStrength).forceNodeSize(i.clusterNodeSize),i.clusterForce=c,o.force("group",c)}if(o.force("center",CI.forceCenter(i.center[0],i.center[1])).force("charge",f).alpha(u).alphaDecay(l).alphaMin(s),i.preventOverlap&&i.overlapProcess(o),a){var h=CI.forceLink().id(function(p){return p.id}).links(a);i.edgeStrength&&h.strength(i.edgeStrength),i.linkDistance&&h.distance(i.linkDistance),i.edgeForce=h,o.force("link",h)}if(i.workerEnabled&&!OGe()&&(i.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!i.workerEnabled)o.on("tick",function(){i.tick()}).on("end",function(){i.ticking=!1,i.onLayoutEnd&&i.onLayoutEnd()}),i.ticking=!0;else{o.stop();for(var d=LGe(o),v=1;v<=d;v++)o.tick(),postMessage({nodes:n,currentTick:v,totalTicks:d,type:TGe.LAYOUT_MESSAGE.TICK},void 0);i.ticking=!1}i.forceSimulation=o,i.ticking=!0}catch(p){i.ticking=!1,console.warn(p)}}},e.prototype.overlapProcess=function(t){var i=this,n=i.nodeSize,a=i.nodeSpacing,o,s,l=i.collideStrength;if((0,oM.isNumber)(a)?s=function(){return a}:(0,oM.isFunction)(a)?s=a:s=function(){return 0},!n)o=function(h){if(h.size){if((0,oM.isArray)(h.size)){var d=h.size[0]>h.size[1]?h.size[0]:h.size[1];return d/2+s(h)}if((0,oM.isObject)(h.size)){var d=h.size.width>h.size.height?h.size.width:h.size.height;return d/2+s(h)}return h.size/2+s(h)}return 10+s(h)};else if((0,oM.isFunction)(n))o=function(h){var d=n(h);return d+s(h)};else if((0,oM.isArray)(n)){var u=n[0]>n[1]?n[0]:n[1],f=u/2;o=function(h){return f+s(h)}}else if((0,oM.isNumber)(n)){var c=n/2;o=function(h){return c+s(h)}}else o=function(){return 10};t.force("collisionForce",CI.forceCollide(o).strength(l))},e.prototype.updateCfg=function(t){var i=this;i.ticking&&(i.forceSimulation.stop(),i.ticking=!1),i.forceSimulation=null,Object.assign(i,t)},e.prototype.destroy=function(){var t=this;t.ticking&&(t.forceSimulation.stop(),t.ticking=!1),t.nodes=null,t.edges=null,t.destroyed=!0},e}(EGe.Base);pc.ForceLayout=IGe;function LGe(r){var e=r.alphaMin(),t=r.alphaTarget(),i=r.alpha(),n=Math.log((e-t)/(i-t))/Math.log(1-r.alphaDecay()),a=Math.ceil(n);return a}function OGe(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}});var Eit=$(sM=>{"use strict";var kGe=sM&&sM.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),PGe=sM&&sM.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&kGe(e,r,t)};Object.defineProperty(sM,"__esModule",{value:!0});PGe(P5t(),sM)});var Tit=$(MI=>{"use strict";var DGe=MI&&MI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(MI,"__esModule",{value:!0});MI.CircularLayout=void 0;var FGe=Rs(),pm=No();function NGe(r,e,t,i){r.forEach(function(n,a){r[a].children=[],r[a].parent=[]}),i?e.forEach(function(n){var a=(0,pm.getEdgeTerminal)(n,"source"),o=(0,pm.getEdgeTerminal)(n,"target"),s=0;a&&(s=t[a]);var l=0;o&&(l=t[o]);var u=r[s].children,f=r[l].parent;u.push(r[l].id),f.push(r[s].id)}):e.forEach(function(n){var a=(0,pm.getEdgeTerminal)(n,"source"),o=(0,pm.getEdgeTerminal)(n,"target"),s=0;a&&(s=t[a]);var l=0;o&&(l=t[o]);var u=r[s].children,f=r[l].children;u.push(r[l].id),f.push(r[s].id)})}function BGe(r,e,t){for(var i=t.length,n=0;n<i;n++){var a=(0,pm.getEdgeTerminal)(t[n],"source"),o=(0,pm.getEdgeTerminal)(t[n],"target");if(r.id===a&&e.id===o||e.id===a&&r.id===o)return!0}return!1}function RGe(r,e){var t=r.degree,i=e.degree;return t<i?-1:t>i?1:0}var GGe=function(r){DGe(e,r);function e(t){var i=r.call(this)||this;return i.radius=null,i.nodeSize=void 0,i.startRadius=null,i.endRadius=null,i.startAngle=0,i.endAngle=2*Math.PI,i.clockwise=!0,i.divisions=1,i.ordering=null,i.angleRatio=1,i.nodes=[],i.edges=[],i.nodeMap={},i.degrees=[],i.width=300,i.height=300,i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}},e.prototype.execute=function(){var t,i=this,n=i.nodes,a=i.edges,o=n.length;if(o===0){i.onLayoutEnd&&i.onLayoutEnd();return}!i.width&&typeof window!="undefined"&&(i.width=window.innerWidth),!i.height&&typeof window!="undefined"&&(i.height=window.innerHeight),i.center||(i.center=[i.width/2,i.height/2]);var s=i.center;if(o===1){n[0].x=s[0],n[0].y=s[1],i.onLayoutEnd&&i.onLayoutEnd();return}var l=i.radius,u=i.startRadius,f=i.endRadius,c=i.divisions,h=i.startAngle,d=i.endAngle,v=i.angleRatio,p=i.ordering,g=i.clockwise,m=i.nodeSpacing,y=i.nodeSize,x=(d-h)/o,b={};n.forEach(function(B,Y){b[B.id]=Y}),i.nodeMap=b;var _=(0,pm.getDegree)(n.length,b,a);if(i.degrees=_,m){var M=(0,pm.getFuncByUnknownType)(10,m),A=(0,pm.getFuncByUnknownType)(10,y),I=-1/0;n.forEach(function(B){var Y=A(B);I<Y&&(I=Y)});var k=0;n.forEach(function(B,Y){Y===0?k+=I||10:k+=(M(B)||0)+(I||10)}),l=k/(2*Math.PI)}else!l&&!u&&!f?l=i.height>i.width?i.width/2:i.height/2:!u&&f?u=f:u&&!f&&(f=u);var E=x*v,O=[];p==="topology"?O=i.topologyOrdering():p==="topology-directed"?O=i.topologyOrdering(!0):p==="degree"?O=i.degreeOrdering():O=n;for(var P=Math.ceil(o/c),N=0;N<o;++N){var R=l;!R&&u!==null&&f!==null&&(R=u+N*(f-u)/(o-1)),R||(R=10+N*100/(o-1));var z=h+N%P*E+2*Math.PI/c*Math.floor(N/P);g||(z=d-N%P*E-2*Math.PI/c*Math.floor(N/P)),O[N].x=s[0]+Math.cos(z)*R,O[N].y=s[1]+Math.sin(z)*R,O[N].weight=_[N].all}return(t=i.onLayoutEnd)===null||t===void 0||t.call(i),{nodes:O,edges:this.edges}},e.prototype.topologyOrdering=function(t){t===void 0&&(t=!1);var i=this,n=i.degrees,a=i.edges,o=i.nodes,s=(0,pm.clone)(o),l=i.nodeMap,u=[s[0]],f=[o[0]],c=[],h=o.length;c[0]=!0,NGe(s,a,l,t);var d=0;return s.forEach(function(v,p){if(p!==0)if((p===h-1||n[p].all!==n[p+1].all||BGe(u[d],v,a))&&!c[p])u.push(v),f.push(o[l[v.id]]),c[p]=!0,d++;else{for(var g=u[d].children,m=!1,y=0;y<g.length;y++){var x=l[g[y]];if(n[x].all===n[p].all&&!c[x]){u.push(s[x]),f.push(o[l[s[x].id]]),c[x]=!0,m=!0;break}}for(var b=0;!m&&(c[b]||(u.push(s[b]),f.push(o[l[s[b].id]]),c[b]=!0,m=!0),b++,b!==h););}}),f},e.prototype.degreeOrdering=function(){var t=this,i=t.nodes,n=[],a=t.degrees;return i.forEach(function(o,s){o.degree=a[s].all,n.push(o)}),n.sort(RGe),n},e.prototype.getType=function(){return"circular"},e}(FGe.Base);MI.CircularLayout=GGe});var F5t=$(Iit=>{"use strict";Object.defineProperty(Iit,"__esModule",{value:!0});var zGe=function(r,e){if(r!=="next"&&r!=="prev")return e},D5t=function(r){r.prev.next=r.next,r.next.prev=r.prev,delete r.next,delete r.prev},jGe=function(){function r(){var e={};e.prev=e,e.next=e.prev,this.shortcut=e}return r.prototype.dequeue=function(){var e=this.shortcut,t=e.prev;if(t&&t!==e)return D5t(t),t},r.prototype.enqueue=function(e){var t=this.shortcut;e.prev&&e.next&&D5t(e),e.next=t.next,t.next.prev=e,t.next=e,e.prev=t},r.prototype.toString=function(){for(var e=[],t=this.shortcut,i=t.prev;i!==t;)e.push(JSON.stringify(i,zGe)),i=i==null?void 0:i.prev;return"[".concat(e.join(", "),"]")},r}();Iit.default=jGe});var Lit=$(KF=>{"use strict";Object.defineProperty(KF,"__esModule",{value:!0});KF.GraphEnum=void 0;var YGe;(function(r){r.DEFAULT_EDGE_NAME="\0",r.GRAPH_NODE="\0",r.EDGE_KEY_DELIM=""})(YGe=KF.GraphEnum||(KF.GraphEnum={}))});var kit=$(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.isFunction=gc.edgeObjToId=gc.edgeArgsToObj=gc.edgeArgsToId=gc.decrementOrRemoveEntry=gc.incrementOrInitEntry=void 0;var Oit=Lit();function WGe(r,e){var t=r.get(e)||0;r.set(e,t+1)}gc.incrementOrInitEntry=WGe;function VGe(r,e){var t=r.get(e);t!==void 0&&(t=t-1,t>0?r.set(e,t):r.delete(e))}gc.decrementOrRemoveEntry=VGe;function N5t(r,e,t,i){var n=String(e),a=String(t);if(!r&&n>a){var o=n;n=a,a=o}return n+Oit.GraphEnum.EDGE_KEY_DELIM+a+Oit.GraphEnum.EDGE_KEY_DELIM+(i===void 0?Oit.GraphEnum.DEFAULT_EDGE_NAME:i)}gc.edgeArgsToId=N5t;function qGe(r,e,t,i){var n=String(e),a=String(t),o={v:e,w:t};if(!r&&n>a){var s=o.v;o.v=o.w,o.w=s}return i!==void 0&&(o.name=i),o}gc.edgeArgsToObj=qGe;function HGe(r,e){return N5t(r,e.v,e.w,e.name)}gc.edgeObjToId=HGe;function UGe(r){return typeof r=="function"}gc.isFunction=UGe});var B5t=$(Xw=>{"use strict";var XGe=Xw&&Xw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xw,"__esModule",{value:!0});Xw.read=Xw.write=void 0;var ZGe=XGe(lM()),KGe=function(r){return r.nodes().map(function(e){var t=r.node(e),i=r.parent(e),n={id:e,value:t,parent:i};return n.value===void 0&&delete n.value,n.parent===void 0&&delete n.parent,n})},QGe=function(r){return r.edges().map(function(e){var t=r.edge(e),i={v:e.v,w:e.w,value:t,name:e.name};return i.name===void 0&&delete i.name,i.value===void 0&&delete i.value,i})},$Ge=function(r){var e={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:KGe(r),edges:QGe(r),value:r.graph()};return e.value===void 0&&delete e.value,e};Xw.write=$Ge;var JGe=function(r){var e=new ZGe.default(r.options);return r.value!==void 0&&e.setGraph(r.value),r.nodes.forEach(function(t){e.setNode(t.id,t.value),t.parent&&e.setParent(t.id,t.parent)}),r.edges.forEach(function(t){e.setEdge(t.v,t.w,t.value,t.name)}),e};Xw.read=JGe});var lM=$(QF=>{"use strict";var lW=QF&&QF.__assign||function(){return lW=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},lW.apply(this,arguments)};Object.defineProperty(QF,"__esModule",{value:!0});var Pit=kit(),tze=Lit(),cx=kit(),R5t=B5t(),eze={compound:!1,multigraph:!1,directed:!0},rze=function(){function r(e){var t=this;e===void 0&&(e={}),this.directed=!0,this.multigraph=!1,this.compound=!1,this.GRAPH_NODE=tze.GraphEnum.GRAPH_NODE,this.nodeCountNum=0,this.edgeCountNum=0,this.defaultNodeLabelFn=function(){},this.defaultEdgeLabelFn=function(){},this.nodesLabelMap=new Map,this.inEdgesMap=new Map,this.outEdgesMap=new Map,this.predecessorsMap=new Map,this.successorsMap=new Map,this.edgesMap=new Map,this.edgesLabelsMap=new Map,this.isDirected=function(){return t.directed},this.isMultigraph=function(){return t.multigraph},this.isCompound=function(){return t.compound},this.setGraph=function(n){return t.label=n,t},this.graph=function(){return t.label},this.setDefaultNodeLabel=function(n){return(0,Pit.isFunction)(n)?t.defaultNodeLabelFn=n:t.defaultNodeLabelFn=function(){return n},t},this.nodeCount=function(){return t.nodeCountNum},this.node=function(n){return t.nodesLabelMap.get(n)},this.nodes=function(){return Array.from(t.nodesLabelMap.keys())},this.sources=function(){return t.nodes().filter(function(n){var a;return!((a=t.inEdgesMap.get(n))===null||a===void 0?void 0:a.size)})},this.sinks=function(){return t.nodes().filter(function(n){var a;return!((a=t.outEdgesMap.get(n))===null||a===void 0?void 0:a.size)})},this.setNodes=function(n,a){return n.map(function(o){return t.setNode(o,a)}),t},this.hasNode=function(n){return t.nodesLabelMap.has(n)},this.checkCompound=function(){if(!t.isCompound())throw new Error("Cannot construct parent-children relations in a non-compound graph")},this.parent=function(n){var a;if(t.isCompound()){var o=(a=t.parentMap)===null||a===void 0?void 0:a.get(n);if(o!==t.GRAPH_NODE)return o}},this.removeFromParentsChildList=function(n){var a=t.parentMap.get(n);t.childrenMap.get(a).delete(n)},this.setParent=function(n,a){var o,s;t.checkCompound();for(var l=a===void 0?t.GRAPH_NODE:a,u=t.parent(l);u;){if(n===u)throw new Error("Setting "+a+" as parent of "+n+" would create a cycle");u=t.parent(u)}a&&t.setNode(a),t.setNode(n),t.removeFromParentsChildList(n),(o=t.parentMap)===null||o===void 0||o.set(n,l);var f=t.childrenMap.get(l);return f.set(n,!0),(s=t.childrenMap)===null||s===void 0||s.set(l,f),t},this.children=function(n){var a,o=n===void 0?t.GRAPH_NODE:n;if(t.isCompound()){var s=(a=t.childrenMap)===null||a===void 0?void 0:a.get(o);return s?Array.from(s.keys()):void 0}if(o===t.GRAPH_NODE)return t.nodes();if(n&&t.hasNode(n))return[]},this.predecessors=function(n){var a=t.predecessorsMap.get(n);return a?Array.from(a.keys()):void 0},this.successors=function(n){var a=t.successorsMap.get(n);return a?Array.from(a.keys()):void 0},this.neighbors=function(n){var a;if(!!t.hasNode(n))return Array.from(new Set((a=t.predecessors(n))===null||a===void 0?void 0:a.concat(t.successors(n))))},this.isLeaf=function(n){var a,o;return t.isDirected()?!((a=t.successors(n))===null||a===void 0?void 0:a.length):!((o=t.neighbors(n))===null||o===void 0?void 0:o.length)},this.filterNodes=function(n){var a=t,o=a.directed,s=a.multigraph,l=a.compound,u=new r({directed:o,multigraph:s,compound:l});if(u.setGraph(t.graph()),t.nodes().forEach(function(c){n(c)&&u.setNode(c,t.node(c))}),t.edges().forEach(function(c){u.hasNode(c.v)&&u.hasNode(c.w)&&u.setEdgeObj(c,t.edge(c))}),l){var f=function(c){for(var h=t.parent(c);h!==void 0&&!u.hasNode(h);)h=t.parent(h);return h};u.nodes().forEach(function(c){u.setParent(c,f(c))})}return u},this.setDefaultEdgeLabel=function(n){return(0,Pit.isFunction)(n)?t.defaultEdgeLabelFn=n:t.defaultEdgeLabelFn=function(){return n},t},this.edgeCount=function(){return t.edgeCountNum},this.setEdgeObj=function(n,a){return t.setEdge(n.v,n.w,a,n.name)},this.setPath=function(n,a){return n.reduce(function(o,s){return t.setEdge(o,s,a),s}),t},this.edgeFromArgs=function(n,a,o){return t.edge({v:n,w:a,name:o})},this.edge=function(n){return t.edgesLabelsMap.get((0,cx.edgeObjToId)(t.isDirected(),n))},this.hasEdge=function(n,a,o){return t.edgesLabelsMap.has((0,cx.edgeObjToId)(t.isDirected(),{v:n,w:a,name:o}))},this.removeEdgeObj=function(n){var a=n.v,o=n.w,s=n.name;return t.removeEdge(a,o,s)},this.edges=function(){return Array.from(t.edgesMap.values())},this.inEdges=function(n,a){var o=t.inEdgesMap.get(n);if(o)return Array.from(o.values()).filter(function(s){return!a||s.v===a})},this.outEdges=function(n,a){var o=t.outEdgesMap.get(n);if(o)return Array.from(o.values()).filter(function(s){return!a||s.w===a})},this.nodeEdges=function(n,a){var o;if(!!t.hasNode(n))return(o=t.inEdges(n,a))===null||o===void 0?void 0:o.concat(t.outEdges(n,a))},this.toJSON=function(){return(0,R5t.write)(t)},this.nodeInDegree=function(n){var a=t.inEdgesMap.get(n);return a?a.size:0},this.nodeOutDegree=function(n){var a=t.outEdgesMap.get(n);return a?a.size:0},this.nodeDegree=function(n){return t.nodeInDegree(n)+t.nodeOutDegree(n)},this.source=function(n){return n.v},this.target=function(n){return n.w};var i=lW(lW({},eze),e);this.compound=i.compound,this.directed=i.directed,this.multigraph=i.multigraph,this.compound&&(this.parentMap=new Map,this.childrenMap=new Map)}return r.prototype.setNode=function(e,t){var i,n=this,a=n.nodesLabelMap,o=n.defaultNodeLabelFn,s=n.isCompound,l=n.parentMap,u=n.childrenMap,f=n.inEdgesMap,c=n.outEdgesMap,h=n.predecessorsMap,d=n.successorsMap;return a.has(e)?(t!==void 0&&a.set(e,t),this):(a.set(e,t||o(e)),s()&&(l==null||l.set(e,this.GRAPH_NODE),u==null||u.set(e,new Map),(u==null?void 0:u.has(this.GRAPH_NODE))||u==null||u.set(this.GRAPH_NODE,new Map),(i=u==null?void 0:u.get(this.GRAPH_NODE))===null||i===void 0||i.set(e,!0)),[f,c,h,d].forEach(function(v){return v.set(e,new Map)}),this.nodeCountNum+=1,this)},r.prototype.removeNode=function(e){var t=this,i,n,a;if(this.hasNode(e)){var o=function(p){t.removeEdge(p.v,p.w,p.name)},s=this,l=s.inEdgesMap,u=s.outEdgesMap,f=s.predecessorsMap,c=s.successorsMap,h=s.nodesLabelMap;this.isCompound()&&(this.removeFromParentsChildList(e),(i=this.parentMap)===null||i===void 0||i.delete(e),(n=this.children(e))===null||n===void 0||n.forEach(function(p){return t.setParent(p)}),(a=this.childrenMap)===null||a===void 0||a.delete(e));var d=l.get(e),v=u.get(e);Array.from(d.values()).forEach(function(p){return o(p)}),Array.from(v.values()).forEach(function(p){return o(p)}),h.delete(e),l.delete(e),u.delete(e),f.delete(e),c.delete(e),this.nodeCountNum-=1}return this},r.prototype.setEdge=function(e,t,i,n){var a,o,s=(0,cx.edgeArgsToObj)(this.isDirected(),e,t,n),l=(0,cx.edgeObjToId)(this.isDirected(),s),u=s.v,f=s.w;if(this.edgesLabelsMap.has(l))return this.edgesLabelsMap.set(l,i),this;if(n!==void 0&&!this.isMultigraph())throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(f),this.edgesLabelsMap.set(l,i||this.defaultEdgeLabelFn(u,f,n)),Object.freeze(s),this.edgesMap.set(l,s);var c=this.predecessorsMap.get(f),h=this.successorsMap.get(u);return(0,cx.incrementOrInitEntry)(c,u),(0,cx.incrementOrInitEntry)(h,f),(a=this.inEdgesMap.get(f))===null||a===void 0||a.set(l,s),(o=this.outEdgesMap.get(u))===null||o===void 0||o.set(l,s),this.edgeCountNum+=1,this},r.prototype.removeEdge=function(e,t,i){var n=(0,Pit.edgeArgsToId)(this.isDirected(),e,t,i),a=this.edgesMap.get(n);if(a){var o=(0,cx.edgeArgsToObj)(this.isDirected(),e,t,i),s=o.v,l=o.w;this.edgesLabelsMap.delete(n),this.edgesMap.delete(n);var u=this.predecessorsMap.get(l),f=this.successorsMap.get(s);(0,cx.decrementOrRemoveEntry)(u,s),(0,cx.decrementOrRemoveEntry)(f,l),this.inEdgesMap.get(l).delete(n),this.outEdgesMap.get(s).delete(n),this.edgeCountNum-=1}return this},r.fromJSON=R5t.read,r}();QF.default=rze});var G5t=$(Zw=>{"use strict";var ize=Zw&&Zw.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),nze=Zw&&Zw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Zw,"__esModule",{value:!0});Zw.GraphWithEvent=void 0;var aze=nze(lM()),oze=function(r){ize(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.eventPool={},t}return e.prototype.appendEvent=function(t,i){this.eventPool[t]||(this.eventPool[t]=[]),this.eventPool[t].push(i)},e.prototype.removeEvent=function(t,i){if(!!this.eventPool[t]){var n=this.eventPool[t].indexOf(i);n>-1&&this.eventPool[t].splice(n,1)}},e.prototype.emitEvent=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];!this.eventPool[t]||this.eventPool[t].forEach(function(a){a.apply(void 0,i)})},e.prototype.setNode=function(t,i){return r.prototype.setNode.call(this,t,i),this.emitEvent("nodeAdd",t,i),this},e.prototype.removeNode=function(t){return r.prototype.removeNode.call(this,t),this.emitEvent("nodeRemove",t),this},e.prototype.setEdge=function(t,i,n,a){return r.prototype.setEdge.call(this,t,i,n,a),this.emitEvent("edgeAdd",t,i,n,a),this},e.prototype.removeEdge=function(t,i,n){return r.prototype.removeEdge.call(this,t,i,n),this.emitEvent("edgeRemove",t,i,n),this},e}(aze.default);Zw.GraphWithEvent=oze});var Fit=$(Dit=>{"use strict";Object.defineProperty(Dit,"__esModule",{value:!0});var sze=function(){function r(){var e=this;this.arr=[],this.keyIndice=new Map,this.size=function(){return e.arr.length},this.keys=function(){return e.arr.map(function(t){return t.key})},this.has=function(t){return e.keyIndice.has(t)},this.priority=function(t){var i=e.keyIndice.get(t);if(i!==void 0)return e.arr[i].priority},this.swap=function(t,i){var n=e,a=n.arr,o=n.keyIndice,s=[a[t],a[i]],l=s[0],u=s[1];a[t]=u,a[i]=l,o.set(l.key,i),o.set(u.key,t)},this.innerDecrease=function(t){for(var i,n=e.arr,a=n[t].priority,o,s=t;s!==0&&(o=s>>1,!(((i=n[o])===null||i===void 0?void 0:i.priority)<a));)e.swap(s,o),s=o},this.heapify=function(t){var i=e.arr,n=t<<1,a=n+1,o=t;n<i.length&&(o=i[n].priority<i[o].priority?n:o,a<i.length&&(o=i[a].priority<i[o].priority?a:o),o!==t&&(e.swap(t,o),e.heapify(o)))},this.min=function(){if(e.size()===0)throw new Error("Queue underflow");return e.arr[0].key},this.add=function(t,i){var n=e,a=n.keyIndice,o=n.arr;if(!a.has(t)){var s=o.length;return a.set(t,s),o.push({key:t,priority:i}),e.innerDecrease(s),!0}return!1},this.removeMin=function(){e.swap(0,e.arr.length-1);var t=e.arr.pop();return e.keyIndice.delete(t.key),e.heapify(0),t.key},this.decrease=function(t,i){if(!e.has(t))throw new Error("There's no key named ".concat(t));var n=e.keyIndice.get(t);if(i>e.arr[n].priority)throw new Error("New priority is greater than current priority.Key: ".concat(t," Old: + ").concat(e.arr[n].priority," New: ").concat(i));e.arr[n].priority=i,e.innerDecrease(n)}}return r}();Dit.default=sze});var j5t=$($F=>{"use strict";var z5t=$F&&$F.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($F,"__esModule",{value:!0});var lze=z5t(lM()),uze=z5t(Fit()),fze=function(r,e){var t,i=new lze.default,n=new Map,a=new uze.default,o;function s(u){var f=u.v===o?u.w:u.v,c=a.priority(f);if(c!==void 0){var h=e(u);h<c&&(n.set(f,o),a.decrease(f,h))}}if(r.nodeCount()===0)return i;r.nodes().forEach(function(u){a.add(u,Number.POSITIVE_INFINITY),i.setNode(u)}),a.decrease(r.nodes()[0],0);for(var l=!1;a.size()>0;){if(o=a.removeMin(),n.has(o))i.setEdge(o,n.get(o));else{if(l)throw new Error("Input graph is not connected: "+r.graph());l=!0}(t=r.nodeEdges(o))===null||t===void 0||t.forEach(s)}return i};$F.default=fze});var Y5t=$(Nit=>{"use strict";Object.defineProperty(Nit,"__esModule",{value:!0});var cze=function(r){var e=new Set,t=[],i=r.nodes();return i.forEach(function(n){for(var a,o,s=[],l=[n];l.length>0;){var u=l.pop();e.has(u)||(e.add(u),s.push(u),(a=r.successors(u))===null||a===void 0||a.forEach(function(f){return l.push(f)}),(o=r.predecessors(u))===null||o===void 0||o.forEach(function(f){return l.push(f)}))}s.length&&t.push(s)}),t};Nit.default=cze});var uW=$(Bit=>{"use strict";Object.defineProperty(Bit,"__esModule",{value:!0});var W5t=function(r,e,t,i,n,a){i.includes(e)||(i.push(e),t||a.push(e),n(e).forEach(function(o){return W5t(r,o,t,i,n,a)}),t&&a.push(e))},hze=function(r,e,t){var i=Array.isArray(e)?e:[e],n=function(s){return r.isDirected()?r.successors(s):r.neighbors(s)},a=[],o=[];return i.forEach(function(s){if(r.hasNode(s))W5t(r,s,t==="post",o,n,a);else throw new Error("Graph does not have node: "+s)}),a};Bit.default=hze});var Rit=$(JF=>{"use strict";var dze=JF&&JF.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(JF,"__esModule",{value:!0});var vze=dze(Fit()),pze=function(){return 1},gze=function(r,e,t,i){return mze(r,e,t||pze,i||function(n){return r.outEdges(n)})},mze=function(r,e,t,i){var n=new Map,a=new vze.default,o,s,l=function(f){var c=f.v!==o?f.v:f.w,h=n.get(c),d=t(f),v=s.distance+d;if(d<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+f+" Weight: "+d);v<h.distance&&(h.distance=v,h.predecessor=o,a.decrease(c,v))};for(r.nodes().forEach(function(f){var c=f===e?0:Number.POSITIVE_INFINITY;n.set(f,{distance:c}),a.add(f,c)});a.size()>0&&(o=a.removeMin(),s=n.get(o),!(s&&s.distance===Number.POSITIVE_INFINITY));)i(o).forEach(l);var u={};return Array.from(n.entries()).forEach(function(f){var c=f[0],h=f[1];return u[String(c)]=h,u}),u};JF.default=gze});var V5t=$(tN=>{"use strict";var yze=tN&&tN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tN,"__esModule",{value:!0});var xze=yze(Rit()),bze=function(r,e,t){var i={};return r.nodes().forEach(function(n){return i[String(n)]=(0,xze.default)(r,n,e,t),i}),i};tN.default=bze});var zit=$(Git=>{"use strict";Object.defineProperty(Git,"__esModule",{value:!0});var wze=function(r){var e=0,t=[],i=new Map,n=[];function a(o){var s,l={onStack:!0,lowlink:e,index:e};if(i.set(o,l),e+=1,t.push(o),(s=r.successors(o))===null||s===void 0||s.forEach(function(h){var d;if(i.has(h)){if((d=i.get(h))===null||d===void 0?void 0:d.onStack){var v=i.get(h);l.lowlink=Math.min(l.lowlink,v.index)}}else{a(h);var v=i.get(h);l.lowlink=Math.min(l.lowlink,v.lowlink)}}),l.lowlink===l.index){var u=[],f=void 0;do{f=t.pop();var c=i.get(f);c.onStack=!1,u.push(f)}while(o!==f);n.push(u)}}return r.nodes().forEach(function(o){i.has(o)||a(o)}),n};Git.default=wze});var q5t=$(eN=>{"use strict";var _ze=eN&&eN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(eN,"__esModule",{value:!0});var Sze=_ze(zit()),Cze=function(r){return(0,Sze.default)(r).filter(function(e){return e.length>1||e.length===1&&r.hasEdge(e[0],e[0])})};eN.default=Cze});var Yit=$(uM=>{"use strict";var Mze=uM&&uM.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(uM,"__esModule",{value:!0});uM.CycleException=void 0;var jit=function(r){Mze(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Error);uM.CycleException=jit;function Aze(r){var e=new Set,t=new Set,i=[];function n(a){var o;if(t.has(a))throw new jit;e.has(a)||(t.add(a),e.add(a),(o=r.predecessors(a))===null||o===void 0||o.forEach(n),t.delete(a),i.push(a))}if(r.sinks().forEach(n),e.size!==r.nodeCount())throw new jit;return i}uM.default=Aze});var U5t=$(hx=>{"use strict";var Eze=hx&&hx.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Tze=hx&&hx.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ize=hx&&hx.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Eze(e,r,t);return Tze(e,r),e};Object.defineProperty(hx,"__esModule",{value:!0});var H5t=Ize(Yit()),Lze=function(r){try{(0,H5t.default)(r)}catch(e){if(e instanceof H5t.CycleException)return!1;throw e}return!0};hx.default=Lze});var X5t=$(rN=>{"use strict";var Oze=rN&&rN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rN,"__esModule",{value:!0});var kze=Oze(uW()),Pze=function(r,e){return(0,kze.default)(r,e,"post")};rN.default=Pze});var Z5t=$(iN=>{"use strict";var Dze=iN&&iN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(iN,"__esModule",{value:!0});var Fze=Dze(uW()),Nze=function(r,e){return(0,Fze.default)(r,e,"pre")};iN.default=Nze});var Q5t=$(nN=>{"use strict";Object.defineProperty(nN,"__esModule",{value:!0});nN.floydWarshall=void 0;var Bze=function(){return 1};function K5t(r,e,t){return Rze(r,e||Bze,t||function(i){return r.outEdges(i)})}nN.floydWarshall=K5t;function Rze(r,e,t){var i={},n=r.nodes();return n.forEach(function(a){var o=String(a);i[o]={},i[o][o]={distance:0},n.forEach(function(s){a!==s&&(i[o][String(s)]={distance:Number.POSITIVE_INFINITY})}),t(a).forEach(function(s){var l=s.v===a?s.w:s.v,u=e(s);i[o][String(l)]={distance:u,predecessor:a}})}),n.forEach(function(a){var o=String(a),s=i[o];n.forEach(function(l){var u=String(l),f=i[u];n.forEach(function(c){var h=String(c),d=f[o],v=s[h],p=f[h],g=d.distance+v.distance;g<p.distance&&(p.distance=g,p.predecessor=v.predecessor)})})}),i}nN.default=K5t});var $5t=$(Ya=>{"use strict";var Dd=Ya&&Ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.floydWarshall=Ya.topsort=Ya.prim=Ya.preorder=Ya.postorder=Ya.isAcyclic=Ya.tarjan=Ya.findCycles=Ya.dijkstraAll=Ya.dijkstra=Ya.dfs=Ya.components=void 0;var Gze=Dd(j5t());Ya.prim=Gze.default;var zze=Dd(Y5t());Ya.components=zze.default;var jze=Dd(uW());Ya.dfs=jze.default;var Yze=Dd(Rit());Ya.dijkstra=Yze.default;var Wze=Dd(V5t());Ya.dijkstraAll=Wze.default;var Vze=Dd(q5t());Ya.findCycles=Vze.default;var qze=Dd(U5t());Ya.isAcyclic=qze.default;var Hze=Dd(X5t());Ya.postorder=Hze.default;var Uze=Dd(Z5t());Ya.preorder=Uze.default;var Xze=Dd(zit());Ya.tarjan=Xze.default;var Zze=Dd(Yit());Ya.topsort=Zze.default;var Kze=Dd(Q5t());Ya.floydWarshall=Kze.default});var Wit=$($a=>{"use strict";Object.defineProperty($a,"__esModule",{value:!0});$a.isGraphContainsAnother=$a.isGraphSame=$a.containAllSameEdges=$a.containAllSameNodes=$a.isGraphOptionSame=$a.getSameEdges=$a.getSameNodes=$a.containSameEdges=$a.containSameNodes=void 0;var Qze=function(r,e){for(var t=r.nodes(),i=0;i<t.length;i++){var n=t[i];if(e.hasNode(n))return!0}return!1};$a.containSameNodes=Qze;var $ze=function(r,e){for(var t=r.edges(),i=0;i<t.length;i++){var n=t[i];if(e.hasEdge(n.v,n.w,n.name))return!0}return!1};$a.containSameEdges=$ze;var Jze=function(r,e){var t=r.nodes(),i=t.filter(function(n){return e.hasNode(n)});return i};$a.getSameNodes=Jze;var tje=function(r,e){var t=r.edges(),i=t.filter(function(n){return e.hasEdge(n.v,n.w,n.name)});return i};$a.getSameEdges=tje;var eje=function(r,e){return r.isCompound()===e.isCompound()&&r.isDirected()===e.isDirected()&&r.isMultigraph()===e.isMultigraph()};$a.isGraphOptionSame=eje;var rje=function(r,e){var t=(0,$a.getSameNodes)(r,e);return t.length===r.nodes().length};$a.containAllSameNodes=rje;var ije=function(r,e){var t=(0,$a.getSameEdges)(r,e);return t.length===r.edges().length};$a.containAllSameEdges=ije;var nje=function(r,e){return(0,$a.isGraphOptionSame)(r,e)&&r.nodeCount()===e.nodeCount()&&(0,$a.containAllSameNodes)(r,e)&&r.edgeCount()===e.edgeCount()&&(0,$a.containAllSameEdges)(r,e)};$a.isGraphSame=nje;var aje=function(r,e){return(0,$a.containAllSameNodes)(r,e)&&(0,$a.containAllSameEdges)(r,e)};$a.isGraphContainsAnother=aje});var fW=$(Fd=>{"use strict";var oje=Fd&&Fd.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fd,"__esModule",{value:!0});Fd.hasSelfLoop=Fd.isNullGraph=Fd.isSimpleGraph=Fd.isGraph=void 0;var sje=oje(lM());function lje(r){return r instanceof sje.default}Fd.isGraph=lje;function uje(r){if(r.isMultigraph())return!1;for(var e=r.edges(),t=new Map,i=0;i<e.length;i++){var n=e[i];if(n.v===n.w)return!1;var a=[n.v,n.w].sort(),o=a[0],s=a[1],l="".concat(o,"-").concat(s);if(t.has(l))return!1;t.set(l,!0)}return!0}Fd.isSimpleGraph=uje;function fje(r){return r.nodes().length===0}Fd.isNullGraph=fje;function cje(r){for(var e=r.edges(),t=0;t<e.length;t++){var i=e[t];if(i.v===i.w)return!0}return!1}Fd.hasSelfLoop=cje});var eGt=$(cW=>{"use strict";Object.defineProperty(cW,"__esModule",{value:!0});cW.isGraphComplement=void 0;var J5t=fW(),tGt=Wit(),hje=function(r,e){if(!(0,J5t.isSimpleGraph)(r)||!(0,J5t.isSimpleGraph)(e)||!(0,tGt.containAllSameNodes)(r,e)||(0,tGt.containSameEdges)(r,e))return!1;var t=r.nodeCount();return r.edgeCount()+e.edgeCount()===t*(t-1)/2};cW.isGraphComplement=hje});var rGt=$(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.isGraphContainsAnother=ls.isGraphSame=ls.getSameNodes=ls.getSameEdges=ls.isGraphOptionSame=ls.isGraphComplement=ls.containSameNodes=ls.containSameEdges=ls.containAllSameNodes=ls.containAllSameEdges=void 0;var dx=Wit();Object.defineProperty(ls,"containAllSameEdges",{enumerable:!0,get:function(){return dx.containAllSameEdges}});Object.defineProperty(ls,"containAllSameNodes",{enumerable:!0,get:function(){return dx.containAllSameNodes}});Object.defineProperty(ls,"containSameEdges",{enumerable:!0,get:function(){return dx.containSameEdges}});Object.defineProperty(ls,"containSameNodes",{enumerable:!0,get:function(){return dx.containSameNodes}});Object.defineProperty(ls,"isGraphOptionSame",{enumerable:!0,get:function(){return dx.isGraphOptionSame}});Object.defineProperty(ls,"getSameEdges",{enumerable:!0,get:function(){return dx.getSameEdges}});Object.defineProperty(ls,"getSameNodes",{enumerable:!0,get:function(){return dx.getSameNodes}});Object.defineProperty(ls,"isGraphSame",{enumerable:!0,get:function(){return dx.isGraphSame}});Object.defineProperty(ls,"isGraphContainsAnother",{enumerable:!0,get:function(){return dx.isGraphContainsAnother}});var dje=eGt();Object.defineProperty(ls,"isGraphComplement",{enumerable:!0,get:function(){return dje.isGraphComplement}})});var iGt=$(AI=>{"use strict";var vje=AI&&AI.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(AI,"__esModule",{value:!0});AI.getGraphComplement=void 0;var pje=fW(),gje=vje(lM()),mje=function(r){if(!(0,pje.isSimpleGraph)(r))return null;for(var e=r.nodeCount(),t=new gje.default({compound:r.isCompound(),directed:r.isDirected(),multigraph:r.isMultigraph()}),i=r.nodes(),n=0;n<e;n++){var a=i[n];t.setNode(a,r.node(a));for(var o=n+1;o<e;o++){var s=i[o];r.hasEdge(a,s)||t.setEdge(a,s)}}return t};AI.getGraphComplement=mje});var nGt=$(hW=>{"use strict";Object.defineProperty(hW,"__esModule",{value:!0});hW.getGraphComplement=void 0;var yje=iGt();Object.defineProperty(hW,"getGraphComplement",{enumerable:!0,get:function(){return yje.getGraphComplement}})});var aN=$(us=>{"use strict";var xje=us&&us.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),bje=us&&us.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),dW=us&&us.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&xje(e,r,t);return bje(e,r),e},wje=us&&us.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(us,"__esModule",{value:!0});us.generate=us.essence=us.comparision=us.algorithm=us.GraphWithEvent=us.Graph=void 0;var _je=wje(lM());us.Graph=_je.default;var Sje=G5t();Object.defineProperty(us,"GraphWithEvent",{enumerable:!0,get:function(){return Sje.GraphWithEvent}});var Cje=dW($5t());us.algorithm=Cje;var Mje=dW(rGt());us.comparision=Mje;var Aje=dW(fW());us.essence=Aje;var Eje=dW(nGt());us.generate=Eje});var oGt=$(fM=>{"use strict";var aGt=fM&&fM.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tje=fM&&fM.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fM,"__esModule",{value:!0});var Ije=Tje(F5t()),Lje=aN(),Oje=function(r){aGt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Ije.default),kje=function(r){aGt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Lje.Graph),Pje=function(){return 1},Dje=function(r,e){var t;if(r.nodeCount()<=1)return[];var i=Nje(r,e||Pje),n=Fje(i.graph,i.buckets,i.zeroIdx);return(t=n.map(function(a){return r.outEdges(a.v,a.w)}))===null||t===void 0?void 0:t.flat()},Fje=function(r,e,t){for(var i=[],n=e[e.length-1],a=e[0],o;r.nodeCount();){for(;o=a.dequeue();)Vit(r,e,t,o);for(;o=n.dequeue();)Vit(r,e,t,o);if(r.nodeCount()){for(var s=e.length-2;s>0;--s)if(o=e[s].dequeue(),o){i=i.concat(Vit(r,e,t,o,!0));break}}}return i},Vit=function(r,e,t,i,n){var a,o,s=[];return(a=r.inEdges(i.v))===null||a===void 0||a.forEach(function(l){var u=r.edge(l),f=r.node(l.v);n&&s.push({v:l.v,w:l.w,in:0,out:0}),f.out===void 0&&(f.out=0),f.out-=u,qit(e,t,f)}),(o=r.outEdges(i.v))===null||o===void 0||o.forEach(function(l){var u=r.edge(l),f=l.w,c=r.node(f);c.in===void 0&&(c.in=0),c.in-=u,qit(e,t,c)}),r.removeNode(i.v),n?s:void 0},Nje=function(r,e){var t=new kje,i=0,n=0;r.nodes().forEach(function(u){t.setNode(u,{v:u,in:0,out:0})}),r.edges().forEach(function(u){var f=t.edge(u)||0,c=(e==null?void 0:e(u))||1,h=f+c;t.setEdge(u.v,u.w,h),n=Math.max(n,t.node(u.v).out+=c),i=Math.max(i,t.node(u.w).in+=c)});for(var a=[],o=n+i+3,s=0;s<o;s++)a.push(new Oje);var l=i+1;return t.nodes().forEach(function(u){qit(a,l,t.node(u))}),{buckets:a,zeroIdx:l,graph:t}},qit=function(r,e,t){t.out?t.in?r[t.out-t.in+e].enqueue(t):r[r.length-1].enqueue(t):r[0].enqueue(t)};fM.default=Dje});var sGt=$(oN=>{"use strict";var Bje=oN&&oN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(oN,"__esModule",{value:!0});var Rje=Bje(oGt()),Gje=function(r){var e=function(i){return function(n){var a;return((a=i.edge(n))===null||a===void 0?void 0:a.weight)||1}},t=r.graph().acyclicer==="greedy"?(0,Rje.default)(r,e(r)):zje(r);t==null||t.forEach(function(i){var n=r.edge(i);r.removeEdgeObj(i),n.forwardName=i.name,n.reversed=!0,r.setEdge(i.w,i.v,n,"rev-".concat(Math.random()))})},zje=function(r){var e=[],t={},i={},n=function(a){var o;i[a]||(i[a]=!0,t[a]=!0,(o=r.outEdges(a))===null||o===void 0||o.forEach(function(s){t[s.w]?e.push(s):n(s.w)}),delete t[a])};return r.nodes().forEach(n),e},jje=function(r){r.edges().forEach(function(e){var t=r.edge(e);if(t.reversed){r.removeEdgeObj(e);var i=t.forwardName;delete t.reversed,delete t.forwardName,r.setEdge(e.w,e.v,t,i)}})};oN.default={run:Gje,undo:jje}});var cM=$(EI=>{"use strict";var Yje=EI&&EI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(EI,"__esModule",{value:!0});EI.Graph=void 0;var Wje=aN(),Vje=function(r){Yje(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Wje.Graph);EI.Graph=Vje});var vh=$(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.minBy=Ln.notime=Ln.time=Ln.partition=Ln.maxRank=Ln.addBorderNode=Ln.removeEmptyRanks=Ln.normalizeRanks=Ln.buildLayerMatrix=Ln.intersectRect=Ln.predecessorWeights=Ln.successorWeights=Ln.zipObject=Ln.asNonCompoundGraph=Ln.simplify=Ln.addDummyNode=void 0;var lGt=No(),uGt=cM(),qje=function(r,e){return Number(r)-Number(e)},Hje=function(r,e,t,i){var n;do n="".concat(i).concat(Math.random());while(r.hasNode(n));return t.dummy=e,r.setNode(n,t),n};Ln.addDummyNode=Hje;var Uje=function(r){var e=new uGt.Graph().setGraph(r.graph());return r.nodes().forEach(function(t){e.setNode(t,r.node(t))}),r.edges().forEach(function(t){var i=e.edgeFromArgs(t.v,t.w)||{weight:0,minlen:1},n=r.edge(t);e.setEdge(t.v,t.w,{weight:i.weight+n.weight,minlen:Math.max(i.minlen,n.minlen)})}),e};Ln.simplify=Uje;var Xje=function(r){var e=new uGt.Graph({multigraph:r.isMultigraph()}).setGraph(r.graph());return r.nodes().forEach(function(t){var i;((i=r.children(t))===null||i===void 0?void 0:i.length)||e.setNode(t,r.node(t))}),r.edges().forEach(function(t){e.setEdgeObj(t,r.edge(t))}),e};Ln.asNonCompoundGraph=Xje;var Zje=function(r,e){return r==null?void 0:r.reduce(function(t,i,n){return t[i]=e[n],t},{})};Ln.zipObject=Zje;var Kje=function(r){var e={};return r.nodes().forEach(function(t){var i,n={};(i=r.outEdges(t))===null||i===void 0||i.forEach(function(a){var o;n[a.w]=(n[a.w]||0)+(((o=r.edge(a))===null||o===void 0?void 0:o.weight)||0)}),e[t]=n}),e};Ln.successorWeights=Kje;var Qje=function(r){var e=r.nodes(),t=e.map(function(i){var n,a={};return(n=r.inEdges(i))===null||n===void 0||n.forEach(function(o){a[o.v]=(a[o.v]||0)+r.edge(o).weight}),a});return(0,Ln.zipObject)(e,t)};Ln.predecessorWeights=Qje;var $je=function(r,e){var t=Number(r.x),i=Number(r.y),n=Number(e.x)-t,a=Number(e.y)-i,o=Number(r.width)/2,s=Number(r.height)/2;if(!n&&!a)return{x:0,y:0};var l,u;return Math.abs(a)*o>Math.abs(n)*s?(a<0&&(s=-s),l=s*n/a,u=s):(n<0&&(o=-o),l=o,u=o*a/n),{x:t+l,y:i+u}};Ln.intersectRect=$je;var Jje=function(r){for(var e=[],t=(0,Ln.maxRank)(r)+1,i=0;i<t;i++)e.push([]);r.nodes().forEach(function(n){var a=r.node(n);if(!!a){var o=a.rank;o!==void 0&&e[o]&&e[o].push(n)}});for(var i=0;i<t;i++)e[i]=e[i].sort(function(a,o){var s,l;return qje((s=r.node(a))===null||s===void 0?void 0:s.order,(l=r.node(o))===null||l===void 0?void 0:l.order)});return e};Ln.buildLayerMatrix=Jje;var t4e=function(r){var e=r.nodes().filter(function(i){var n;return((n=r.node(i))===null||n===void 0?void 0:n.rank)!==void 0}).map(function(i){return r.node(i).rank}),t=Math.min.apply(Math,e);r.nodes().forEach(function(i){var n=r.node(i);n.hasOwnProperty("rank")&&t!==1/0&&(n.rank-=t)})};Ln.normalizeRanks=t4e;var e4e=function(r){var e=r.nodes(),t=e.filter(function(u){var f;return((f=r.node(u))===null||f===void 0?void 0:f.rank)!==void 0}).map(function(u){return r.node(u).rank}),i=Math.min.apply(Math,t),n=[];e.forEach(function(u){var f,c=(((f=r.node(u))===null||f===void 0?void 0:f.rank)||0)-i;n[c]||(n[c]=[]),n[c].push(u)});for(var a=0,o=r.graph().nodeRankFactor||0,s=0;s<n.length;s++){var l=n[s];l===void 0?s%o!=0&&(a-=1):a&&(l==null||l.forEach(function(u){var f=r.node(u);f&&(f.rank=f.rank||0,f.rank+=a)}))}};Ln.removeEmptyRanks=e4e;var r4e=function(r,e,t,i){var n={width:0,height:0};return(0,lGt.isNumber)(t)&&(0,lGt.isNumber)(i)&&(n.rank=t,n.order=i),(0,Ln.addDummyNode)(r,"border",n,e)};Ln.addBorderNode=r4e;var i4e=function(r){var e;return r.nodes().forEach(function(t){var i,n=(i=r.node(t))===null||i===void 0?void 0:i.rank;n!==void 0&&(e===void 0||n>e)&&(e=n)}),e||(e=0),e};Ln.maxRank=i4e;var n4e=function(r,e){var t={lhs:[],rhs:[]};return r==null||r.forEach(function(i){e(i)?t.lhs.push(i):t.rhs.push(i)}),t};Ln.partition=n4e;var a4e=function(r,e){var t=Date.now();try{return e()}finally{console.log("".concat(r," time: ").concat(Date.now()-t,"ms"))}};Ln.time=a4e;var o4e=function(r,e){return e()};Ln.notime=o4e;var s4e=function(r,e){return r.reduce(function(t,i){var n=e(t),a=e(i);return n>a?i:t})};Ln.minBy=s4e});var fGt=$(Hit=>{"use strict";Object.defineProperty(Hit,"__esModule",{value:!0});var l4e=vh(),u4e=function(r){r.graph().dummyChains=[],r.edges().forEach(function(e){return f4e(r,e)})},f4e=function(r,e){var t=e.v,i=r.node(t).rank,n=e.w,a=r.node(n).rank,o=e.name,s=r.edge(e),l=s.labelRank;if(a!==i+1){r.removeEdgeObj(e);var u=r.graph(),f,c,h;for(h=0,++i;i<a;++h,++i)s.points=[],c={edgeLabel:s,width:0,height:0,edgeObj:e,rank:i},f=(0,l4e.addDummyNode)(r,"edge",c,"_d"),i===l&&(c.width=s.width,c.height=s.height,c.dummy="edge-label",c.labelpos=s.labelpos),r.setEdge(t,f,{weight:s.weight},o),h===0&&(u.dummyChains||(u.dummyChains=[]),u.dummyChains.push(f)),t=f;r.setEdge(t,n,{weight:s.weight},o)}},c4e=function(r){var e;(e=r.graph().dummyChains)===null||e===void 0||e.forEach(function(t){var i=r.node(t),n=i.edgeLabel,a;i.edgeObj&&r.setEdgeObj(i.edgeObj,n);for(var o=t;i.dummy;)a=r.successors(o)[0],r.removeNode(o),n.points.push({x:i.x,y:i.y}),i.dummy==="edge-label"&&(n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height),o=a,i=r.node(o)})};Hit.default={run:u4e,undo:c4e}});var vW=$(vx=>{"use strict";Object.defineProperty(vx,"__esModule",{value:!0});vx.slack=vx.longestPathWithLayer=vx.longestPath=void 0;var cGt=function(r){var e,t={},i=function(n){var a,o=r.node(n);if(!o)return 0;if(t[n])return o.rank;t[n]=!0;var s;return(a=r.outEdges(n))===null||a===void 0||a.forEach(function(l){var u=i(l.w),f=r.edge(l).minlen,c=u-f;c&&(s===void 0||c<s)&&(s=c)}),s||(s=0),o.rank=s,s};(e=r.sources())===null||e===void 0||e.forEach(function(n){return i(n)})};vx.longestPath=cGt;var hGt=function(r){var e,t={},i,n=function(s){var l,u=r.node(s);if(!u)return 0;if(t[s])return u.rank;t[s]=!0;var f;return(l=r.outEdges(s))===null||l===void 0||l.forEach(function(c){var h=n(c.w),d=r.edge(c).minlen,v=h-d;v&&(f===void 0||v<f)&&(f=v)}),f||(f=0),(i===void 0||f<i)&&(i=f),u.rank=f,f};(e=r.sources())===null||e===void 0||e.forEach(function(s){r.node(s)&&n(s)}),i===void 0&&(i=0);var a={},o=function(s,l){var u,f=r.node(s),c=isNaN(f.layer)?l:f.layer;(f.rank===void 0||f.rank<c)&&(f.rank=c),!a[s]&&(a[s]=!0,(u=r.outEdges(s))===null||u===void 0||u.map(function(h){o(h.w,c+r.edge(h).minlen)}))};r.nodes().forEach(function(s){var l=r.node(s);!l||(isNaN(l.layer)?l.rank-=i:o(s,l.layer))})};vx.longestPathWithLayer=hGt;var dGt=function(r,e){return r.node(e.w).rank-r.node(e.v).rank-r.edge(e).minlen};vx.slack=dGt;vx.default={longestPath:cGt,longestPathWithLayer:hGt,slack:dGt}});var Uit=$(dM=>{"use strict";Object.defineProperty(dM,"__esModule",{value:!0});dM.feasibleTreeWithLayer=dM.feasibleTree=void 0;var hM=vW(),h4e=vh(),vGt=cM(),pGt=function(r){var e=new vGt.Graph({directed:!1}),t=r.nodes()[0],i=r.nodeCount();e.setNode(t,{});for(var n,a;d4e(e,r)<i;)n=mGt(e,r),a=e.hasNode(n.v)?(0,hM.slack)(r,n):-(0,hM.slack)(r,n),yGt(e,r,a);return e};dM.feasibleTree=pGt;var d4e=function(r,e){var t=function(i){e.nodeEdges(i).forEach(function(n){var a=n.v,o=i===a?n.w:a;!r.hasNode(o)&&!(0,hM.slack)(e,n)&&(r.setNode(o,{}),r.setEdge(i,o,{}),t(o))})};return r.nodes().forEach(t),r.nodeCount()},gGt=function(r){var e=new vGt.Graph({directed:!1}),t=r.nodes()[0],i=r.nodes().filter(function(o){return!!r.node(o)}).length;e.setNode(t,{});for(var n,a;v4e(e,r)<i;)n=mGt(e,r),a=e.hasNode(n.v)?(0,hM.slack)(r,n):-(0,hM.slack)(r,n),yGt(e,r,a);return e};dM.feasibleTreeWithLayer=gGt;var v4e=function(r,e){var t=function(i){var n;(n=e.nodeEdges(i))===null||n===void 0||n.forEach(function(a){var o=a.v,s=i===o?a.w:o;!r.hasNode(s)&&(e.node(s).layer!==void 0||!(0,hM.slack)(e,a))&&(r.setNode(s,{}),r.setEdge(i,s,{}),t(s))})};return r.nodes().forEach(t),r.nodeCount()},mGt=function(r,e){return(0,h4e.minBy)(e.edges(),function(t){return r.hasNode(t.v)!==r.hasNode(t.w)?(0,hM.slack)(e,t):1/0})},yGt=function(r,e,t){r.nodes().forEach(function(i){e.node(i).rank||(e.node(i).rank=0),e.node(i).rank+=t})};dM.default={feasibleTree:pGt,feasibleTreeWithLayer:gGt}});var CGt=$(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.exchangeEdges=qo.enterEdge=qo.leaveEdge=qo.initLowLimValues=qo.calcCutValue=qo.initCutValues=void 0;var p4e=Uit(),xGt=vW(),bGt=vh(),wGt=aN(),g4e=wGt.algorithm.preorder,m4e=wGt.algorithm.postorder,y4e=function(r){var e=(0,bGt.simplify)(r);(0,xGt.longestPath)(e);var t=(0,p4e.feasibleTree)(e);(0,qo.initLowLimValues)(t),(0,qo.initCutValues)(t,e);for(var i,n;i=(0,qo.leaveEdge)(t);)n=(0,qo.enterEdge)(t,e,i),(0,qo.exchangeEdges)(t,e,i,n)},x4e=function(r,e){var t=m4e(r,r.nodes());t=t==null?void 0:t.slice(0,(t==null?void 0:t.length)-1),t==null||t.forEach(function(i){b4e(r,e,i)})};qo.initCutValues=x4e;var b4e=function(r,e,t){var i=r.node(t),n=i.parent;r.edgeFromArgs(t,n).cutvalue=(0,qo.calcCutValue)(r,e,t)},w4e=function(r,e,t){var i,n=r.node(t),a=n.parent,o=!0,s=e.edgeFromArgs(t,a),l=0;return s||(o=!1,s=e.edgeFromArgs(a,t)),l=s.weight,(i=e.nodeEdges(t))===null||i===void 0||i.forEach(function(u){var f=u.v===t,c=f?u.w:u.v;if(c!==a){var h=f===o,d=e.edge(u).weight;if(l+=h?d:-d,E4e(r,t,c)){var v=r.edgeFromArgs(t,c).cutvalue;l+=h?-v:v}}}),l};qo.calcCutValue=w4e;var _4e=function(r,e){e===void 0&&(e=r.nodes()[0]),_Gt(r,{},1,e)};qo.initLowLimValues=_4e;var _Gt=function(r,e,t,i,n){var a,o=t,s=t,l=r.node(i);return e[i]=!0,(a=r.neighbors(i))===null||a===void 0||a.forEach(function(u){e[u]||(s=_Gt(r,e,s,u,i))}),l.low=o,l.lim=s++,n?l.parent=n:delete l.parent,s},S4e=function(r){return r.edges().find(function(e){return r.edge(e).cutvalue<0})};qo.leaveEdge=S4e;var C4e=function(r,e,t){var i=t.v,n=t.w;e.hasEdge(i,n)||(i=t.w,n=t.v);var a=r.node(i),o=r.node(n),s=a,l=!1;a.lim>o.lim&&(s=o,l=!0);var u=e.edges().filter(function(f){return l===SGt(r,r.node(f.v),s)&&l!==SGt(r,r.node(f.w),s)});return(0,bGt.minBy)(u,function(f){return(0,xGt.slack)(e,f)})};qo.enterEdge=C4e;var M4e=function(r,e,t,i){var n=t.v,a=t.w;r.removeEdge(n,a),r.setEdge(i.v,i.w,{}),(0,qo.initLowLimValues)(r),(0,qo.initCutValues)(r,e),A4e(r,e)};qo.exchangeEdges=M4e;var A4e=function(r,e){var t=r.nodes().find(function(n){var a;return!((a=e.node(n))===null||a===void 0?void 0:a.parent)}),i=g4e(r,t);i=i==null?void 0:i.slice(1),i==null||i.forEach(function(n){var a=r.node(n).parent,o=e.edgeFromArgs(n,a),s=!1;o||(o=e.edgeFromArgs(a,n),s=!0),e.node(n).rank=e.node(a).rank+(s?o.minlen:-o.minlen)})},E4e=function(r,e,t){return r.hasEdge(e,t)},SGt=function(r,e,t){return t.low<=e.lim&&e.lim<=t.lim};qo.default=y4e});var EGt=$(sN=>{"use strict";var T4e=sN&&sN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sN,"__esModule",{value:!0});var MGt=vW(),I4e=Uit(),L4e=T4e(CGt()),O4e=function(r){switch(r.graph().ranker){case"network-simplex":P4e(r);break;case"tight-tree":AGt(r);break;case"longest-path":k4e(r);break;default:AGt(r)}},k4e=MGt.longestPath,AGt=function(r){(0,MGt.longestPathWithLayer)(r),(0,I4e.feasibleTreeWithLayer)(r)},P4e=function(r){(0,L4e.default)(r)};sN.default=O4e});var TGt=$(Xit=>{"use strict";Object.defineProperty(Xit,"__esModule",{value:!0});var D4e=function(r){var e,t={},i=0,n=function(a){var o,s=i;(o=r.children(a))===null||o===void 0||o.forEach(n),t[a]={low:s,lim:i++}};return(e=r.children())===null||e===void 0||e.forEach(n),t},F4e=function(r,e,t,i){var n=[],a=[],o=Math.min(e[t].low,e[i].low),s=Math.max(e[t].lim,e[i].lim),l,u;l=t;do l=r.parent(l),n.push(l);while(l&&(e[l].low>o||s>e[l].lim));for(u=l,l=i;l&&l!==u;)a.push(l),l=r.parent(l);return{lca:u,path:n.concat(a.reverse())}},N4e=function(r){var e,t=D4e(r);(e=r.graph().dummyChains)===null||e===void 0||e.forEach(function(i){var n,a,o=i,s=r.node(o),l=s.edgeObj;if(!!l)for(var u=F4e(r,t,l.v,l.w),f=u.path,c=u.lca,h=0,d=f[h],v=!0;o!==l.w;){if(s=r.node(o),v){for(;d!==c&&((n=r.node(d))===null||n===void 0?void 0:n.maxRank)<s.rank;)h++,d=f[h];d===c&&(v=!1)}if(!v){for(;h<f.length-1&&((a=r.node(f[h+1]))===null||a===void 0?void 0:a.minRank)<=s.rank;)h++;d=f[h]}r.setParent(o,d),o=r.successors(o)[0]}})};Xit.default=N4e});var LGt=$(Kit=>{"use strict";Object.defineProperty(Kit,"__esModule",{value:!0});var Zit=vh(),B4e=function(r){var e,t=(0,Zit.addDummyNode)(r,"root",{},"_root"),i=R4e(r),n=Math.max.apply(Math,Object.values(i));Math.abs(n)===1/0&&(n=1);var a=n-1,o=2*a+1;r.graph().nestingRoot=t,r.edges().forEach(function(l){r.edge(l).minlen*=o});var s=G4e(r)+1;(e=r.children())===null||e===void 0||e.forEach(function(l){IGt(r,t,o,s,a,i,l)}),r.graph().nodeRankFactor=o},IGt=function(r,e,t,i,n,a,o){var s=r.children(o);if(!(s==null?void 0:s.length)){o!==e&&r.setEdge(e,o,{weight:0,minlen:t});return}var l=(0,Zit.addBorderNode)(r,"_bt"),u=(0,Zit.addBorderNode)(r,"_bb"),f=r.node(o);r.setParent(l,o),f.borderTop=l,r.setParent(u,o),f.borderBottom=u,s==null||s.forEach(function(c){IGt(r,e,t,i,n,a,c);var h=r.node(c),d=h.borderTop?h.borderTop:c,v=h.borderBottom?h.borderBottom:c,p=h.borderTop?i:2*i,g=d!==v?1:n-a[o]+1;r.setEdge(l,d,{minlen:g,weight:p,nestingEdge:!0}),r.setEdge(v,u,{minlen:g,weight:p,nestingEdge:!0})}),r.parent(o)||r.setEdge(e,l,{weight:0,minlen:n+a[o]})},R4e=function(r){var e,t={},i=function(n,a){var o=r.children(n);o==null||o.forEach(function(s){return i(s,a+1)}),t[n]=a};return(e=r.children())===null||e===void 0||e.forEach(function(n){return i(n,1)}),t},G4e=function(r){var e=0;return r.edges().forEach(function(t){e+=r.edge(t).weight}),e},z4e=function(r){var e=r.graph();e.nestingRoot&&r.removeNode(e.nestingRoot),delete e.nestingRoot,r.edges().forEach(function(t){var i=r.edge(t);i.nestingEdge&&r.removeEdgeObj(t)})};Kit.default={run:B4e,cleanup:z4e}});var kGt=$(Qit=>{"use strict";Object.defineProperty(Qit,"__esModule",{value:!0});var j4e=vh(),Y4e=function(r){var e,t=function(i){var n=r.children(i),a=r.node(i);if((n==null?void 0:n.length)&&n.forEach(function(l){return t(l)}),a.hasOwnProperty("minRank")){a.borderLeft=[],a.borderRight=[];for(var o=a.minRank,s=a.maxRank+1;o<s;o+=1)OGt(r,"borderLeft","_bl",i,a,o),OGt(r,"borderRight","_br",i,a,o)}};(e=r.children())===null||e===void 0||e.forEach(function(i){return t(i)})},OGt=function(r,e,t,i,n,a){var o={rank:a,borderType:e,width:0,height:0},s=n[e][a-1],l=(0,j4e.addDummyNode)(r,"border",o,t);n[e][a]=l,r.setParent(l,i),s&&r.setEdge(s,l,{weight:1})};Qit.default=Y4e});var FGt=$(tnt=>{"use strict";Object.defineProperty(tnt,"__esModule",{value:!0});var W4e=function(r){var e,t=(e=r.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(t==="lr"||t==="rl")&&PGt(r)},V4e=function(r){var e,t=(e=r.graph().rankdir)===null||e===void 0?void 0:e.toLowerCase();(t==="bt"||t==="rl")&&q4e(r),(t==="lr"||t==="rl")&&(H4e(r),PGt(r))},PGt=function(r){r.nodes().forEach(function(e){DGt(r.node(e))}),r.edges().forEach(function(e){DGt(r.edge(e))})},DGt=function(r){var e=r.width;r.width=r.height,r.height=e},q4e=function(r){r.nodes().forEach(function(e){$it(r.node(e))}),r.edges().forEach(function(e){var t,i=r.edge(e);(t=i.points)===null||t===void 0||t.forEach(function(n){return $it(n)}),i.hasOwnProperty("y")&&$it(i)})},$it=function(r){(r==null?void 0:r.y)&&(r.y=-r.y)},H4e=function(r){r.nodes().forEach(function(e){Jit(r.node(e))}),r.edges().forEach(function(e){var t,i=r.edge(e);(t=i.points)===null||t===void 0||t.forEach(function(n){return Jit(n)}),i.hasOwnProperty("x")&&Jit(i)})},Jit=function(r){var e=r.x;r.x=r.y,r.y=e};tnt.default={adjust:W4e,undo:V4e}});var rnt=$(ent=>{"use strict";Object.defineProperty(ent,"__esModule",{value:!0});ent.rgb2arr=U4e;function U4e(r){return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]}});var int=$(gW=>{"use strict";Object.defineProperty(gW,"__esModule",{value:!0});gW.toHex=pW;gW.arr2rgb=X4e;function pW(r){var e=Math.round(r).toString(16);return e.length===1?"0".concat(e):e}function X4e(r){return"#".concat(pW(r[0])).concat(pW(r[1])).concat(pW(r[2]))}});var mc=$(nnt=>{"use strict";Object.defineProperty(nnt,"__esModule",{value:!0});var Z4e=function(r){return r!==null&&typeof r!="function"&&isFinite(r.length)};nnt.default=Z4e});var mW=$(ant=>{"use strict";Object.defineProperty(ant,"__esModule",{value:!0});var K4e=Mr(),Q4e=K4e.__importDefault(mc()),$4e=function(r,e){return(0,Q4e.default)(r)?r.indexOf(e)>-1:!1};ant.default=$4e});var snt=$(ont=>{"use strict";Object.defineProperty(ont,"__esModule",{value:!0});var J4e=Mr(),t6e=J4e.__importDefault(mc()),e6e=function(r,e){if(!(0,t6e.default)(r))return r;for(var t=[],i=0;i<r.length;i++){var n=r[i];e(n,i)&&t.push(n)}return t};ont.default=e6e});var BGt=$(lnt=>{"use strict";Object.defineProperty(lnt,"__esModule",{value:!0});var NGt=Mr(),r6e=NGt.__importDefault(snt()),i6e=NGt.__importDefault(mW()),n6e=function(r,e){return e===void 0&&(e=[]),(0,r6e.default)(r,function(t){return!(0,i6e.default)(e,t)})};lnt.default=n6e});var ph=$(unt=>{"use strict";Object.defineProperty(unt,"__esModule",{value:!0});unt.default=a6e;function a6e(r){return typeof r=="function"}});var px=$(fnt=>{"use strict";Object.defineProperty(fnt,"__esModule",{value:!0});fnt.default=o6e;function o6e(r){return r==null}});var bs=$(cnt=>{"use strict";Object.defineProperty(cnt,"__esModule",{value:!0});cnt.default=s6e;function s6e(r){return Array.isArray(r)}});var lN=$(hnt=>{"use strict";Object.defineProperty(hnt,"__esModule",{value:!0});hnt.default=function(r){var e=typeof r;return r!==null&&e==="object"||e==="function"}});var vM=$(dnt=>{"use strict";Object.defineProperty(dnt,"__esModule",{value:!0});var RGt=Mr(),l6e=RGt.__importDefault(bs()),u6e=RGt.__importDefault(lN());function f6e(r,e){if(!!r){var t;if((0,l6e.default)(r))for(var i=0,n=r.length;i<n&&(t=e(r[i],i),t!==!1);i++);else if((0,u6e.default)(r)){for(var a in r)if(r.hasOwnProperty(a)&&(t=e(r[a],a),t===!1))break}}}dnt.default=f6e});var pnt=$(vnt=>{"use strict";Object.defineProperty(vnt,"__esModule",{value:!0});var GGt=Mr(),c6e=GGt.__importDefault(vM()),h6e=GGt.__importDefault(ph()),d6e=Object.keys?function(r){return Object.keys(r)}:function(r){var e=[];return(0,c6e.default)(r,function(t,i){(0,h6e.default)(r)&&i==="prototype"||e.push(i)}),e};vnt.default=d6e});var mnt=$(gnt=>{"use strict";Object.defineProperty(gnt,"__esModule",{value:!0});var zGt=Mr(),v6e=zGt.__importDefault(px()),p6e=zGt.__importDefault(pnt());function g6e(r,e){var t=(0,p6e.default)(e),i=t.length;if((0,v6e.default)(r))return!i;for(var n=0;n<i;n+=1){var a=t[n];if(e[a]!==r[a]||!(a in r))return!1}return!0}gnt.default=g6e});var yW=$(ynt=>{"use strict";Object.defineProperty(ynt,"__esModule",{value:!0});var m6e=function(r){return typeof r=="object"&&r!==null};ynt.default=m6e});var pM=$(xnt=>{"use strict";Object.defineProperty(xnt,"__esModule",{value:!0});var y6e={}.toString,x6e=function(r,e){return y6e.call(r)==="[object "+e+"]"};xnt.default=x6e});var TI=$(bnt=>{"use strict";Object.defineProperty(bnt,"__esModule",{value:!0});var jGt=Mr(),b6e=jGt.__importDefault(yW()),w6e=jGt.__importDefault(pM()),_6e=function(r){if(!(0,b6e.default)(r)||!(0,w6e.default)(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e};bnt.default=_6e});var YGt=$(wnt=>{"use strict";Object.defineProperty(wnt,"__esModule",{value:!0});var xW=Mr(),S6e=xW.__importDefault(ph()),C6e=xW.__importDefault(mnt()),M6e=xW.__importDefault(bs()),A6e=xW.__importDefault(TI());function E6e(r,e){if(!(0,M6e.default)(r))return null;var t;if((0,S6e.default)(e)&&(t=e),(0,A6e.default)(e)&&(t=function(n){return(0,C6e.default)(n,e)}),t){for(var i=0;i<r.length;i+=1)if(t(r[i]))return r[i]}return null}wnt.default=E6e});var WGt=$(_nt=>{"use strict";Object.defineProperty(_nt,"__esModule",{value:!0});function T6e(r,e,t){t===void 0&&(t=0);for(var i=t;i<r.length;i++)if(e(r[i],i))return i;return-1}_nt.default=T6e});var qGt=$(Snt=>{"use strict";Object.defineProperty(Snt,"__esModule",{value:!0});var VGt=Mr(),I6e=VGt.__importDefault(px()),L6e=VGt.__importDefault(bs()),O6e=function(r,e){for(var t=null,i=0;i<r.length;i++){var n=r[i],a=n[e];if(!(0,I6e.default)(a)){(0,L6e.default)(a)?t=a[0]:t=a;break}}return t};Snt.default=O6e});var HGt=$(Cnt=>{"use strict";Object.defineProperty(Cnt,"__esModule",{value:!0});var k6e=Mr(),P6e=k6e.__importDefault(bs()),D6e=function(r){if(!(0,P6e.default)(r))return[];for(var e=[],t=0;t<r.length;t++)e=e.concat(r[t]);return e};Cnt.default=D6e});var XGt=$(Mnt=>{"use strict";Object.defineProperty(Mnt,"__esModule",{value:!0});var F6e=Mr(),N6e=F6e.__importDefault(bs()),UGt=function(r,e){if(e===void 0&&(e=[]),!(0,N6e.default)(r))e.push(r);else for(var t=0;t<r.length;t+=1)UGt(r[t],e);return e};Mnt.default=UGt});var Ent=$(Ant=>{"use strict";Object.defineProperty(Ant,"__esModule",{value:!0});Ant.default=B6e;function B6e(r){if(!Array.isArray(r))return-1/0;var e=r.length;if(!e)return-1/0;for(var t=r[0],i=1;i<e;i++)t=Math.max(t,r[i]);return t}});var Int=$(Tnt=>{"use strict";Object.defineProperty(Tnt,"__esModule",{value:!0});var R6e=Mr(),G6e=R6e.__importDefault(bs());Tnt.default=function(r){if(!!(0,G6e.default)(r))return r.reduce(function(e,t){return Math.min(e,t)},r[0])}});var ZGt=$(Ont=>{"use strict";Object.defineProperty(Ont,"__esModule",{value:!0});var Lnt=Mr(),z6e=Lnt.__importDefault(bs()),j6e=Lnt.__importDefault(Ent()),Y6e=Lnt.__importDefault(Int()),W6e=function(r){var e=r.filter(function(o){return!isNaN(o)});if(!e.length)return{min:0,max:0};if((0,z6e.default)(r[0])){for(var t=[],i=0;i<r.length;i++)t=t.concat(r[i]);e=t}var n=(0,j6e.default)(e),a=(0,Y6e.default)(e);return{min:a,max:n}};Ont.default=W6e});var QGt=$(knt=>{"use strict";Object.defineProperty(knt,"__esModule",{value:!0});var KGt=Array.prototype,V6e=KGt.splice,q6e=KGt.indexOf,H6e=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i++)for(var n=e[i],a=-1;(a=q6e.call(r,n))>-1;)V6e.call(r,a,1);return r};knt.default=H6e});var Dnt=$(Pnt=>{"use strict";Object.defineProperty(Pnt,"__esModule",{value:!0});var U6e=Mr(),X6e=U6e.__importDefault(mc()),Z6e=Array.prototype.splice,K6e=function(e,t){if(!(0,X6e.default)(e))return[];for(var i=e?t.length:0,n=i-1;i--;){var a=void 0,o=t[i];(i===n||o!==a)&&(a=o,Z6e.call(e,o,1))}return e};Pnt.default=K6e});var Bnt=$(Nnt=>{"use strict";Object.defineProperty(Nnt,"__esModule",{value:!0});var Fnt=Mr(),Q6e=Fnt.__importDefault(vM()),$6e=Fnt.__importDefault(bs()),J6e=Fnt.__importDefault(TI()),tYe=function(r,e,t){if(!(0,$6e.default)(r)&&!(0,J6e.default)(r))return r;var i=t;return(0,Q6e.default)(r,function(n,a){i=e(i,n,a)}),i};Nnt.default=tYe});var JGt=$(Rnt=>{"use strict";Object.defineProperty(Rnt,"__esModule",{value:!0});var $Gt=Mr(),eYe=$Gt.__importDefault(mc()),rYe=$Gt.__importDefault(Dnt()),iYe=function(r,e){var t=[];if(!(0,eYe.default)(r))return t;for(var i=-1,n=[],a=r.length;++i<a;){var o=r[i];e(o,i,r)&&(t.push(o),n.push(i))}return(0,rYe.default)(r,n),t};Rnt.default=iYe});var Kw=$(Gnt=>{"use strict";Object.defineProperty(Gnt,"__esModule",{value:!0});Gnt.default=nYe;function nYe(r){return typeof r=="string"}});var tzt=$(jnt=>{"use strict";Object.defineProperty(jnt,"__esModule",{value:!0});var znt=Mr(),aYe=znt.__importDefault(bs()),oYe=znt.__importDefault(Kw()),sYe=znt.__importDefault(ph());function lYe(r,e){var t;if((0,sYe.default)(e))t=function(n,a){return e(n)-e(a)};else{var i=[];(0,oYe.default)(e)?i.push(e):(0,aYe.default)(e)&&(i=e),t=function(n,a){for(var o=0;o<i.length;o+=1){var s=i[o];if(n[s]>a[s])return 1;if(n[s]<a[s])return-1}return 0}}return r.sort(t),r}jnt.default=lYe});var Wnt=$(Ynt=>{"use strict";Object.defineProperty(Ynt,"__esModule",{value:!0});Ynt.default=uYe;function uYe(r,e){e===void 0&&(e=new Map);var t=[];if(Array.isArray(r))for(var i=0,n=r.length;i<n;i++){var a=r[i];e.has(a)||(t.push(a),e.set(a,!0))}return t}});var ezt=$(Vnt=>{"use strict";Object.defineProperty(Vnt,"__esModule",{value:!0});var fYe=Mr(),cYe=fYe.__importDefault(Wnt()),hYe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return(0,cYe.default)([].concat.apply([],r))};Vnt.default=hYe});var izt=$(qnt=>{"use strict";Object.defineProperty(qnt,"__esModule",{value:!0});var rzt=Mr(),dYe=rzt.__importDefault(bs()),vYe=rzt.__importDefault(px());qnt.default=function(r,e){for(var t=[],i={},n=0;n<r.length;n++){var a=r[n],o=a[e];if(!(0,vYe.default)(o)){(0,dYe.default)(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];i[l]||(t.push(l),i[l]=!0)}}}return t}});var nzt=$(Hnt=>{"use strict";Object.defineProperty(Hnt,"__esModule",{value:!0});Hnt.default=mYe;var pYe=Mr(),gYe=pYe.__importDefault(mc());function mYe(r){if((0,gYe.default)(r))return r[0]}});var azt=$(Unt=>{"use strict";Object.defineProperty(Unt,"__esModule",{value:!0});Unt.default=bYe;var yYe=Mr(),xYe=yYe.__importDefault(mc());function bYe(r){if((0,xYe.default)(r)){var e=r;return e[e.length-1]}}});var szt=$(Xnt=>{"use strict";Object.defineProperty(Xnt,"__esModule",{value:!0});var ozt=Mr(),wYe=ozt.__importDefault(bs()),_Ye=ozt.__importDefault(Kw());function SYe(r,e){return(0,wYe.default)(r)||(0,_Ye.default)(r)?r[0]===e:!1}Xnt.default=SYe});var uzt=$(Znt=>{"use strict";Object.defineProperty(Znt,"__esModule",{value:!0});var lzt=Mr(),CYe=lzt.__importDefault(bs()),MYe=lzt.__importDefault(Kw());function AYe(r,e){return(0,CYe.default)(r)||(0,MYe.default)(r)?r[r.length-1]===e:!1}Znt.default=AYe});var fzt=$(Knt=>{"use strict";Object.defineProperty(Knt,"__esModule",{value:!0});var EYe=function(r,e){for(var t=0;t<r.length;t++)if(!e(r[t],t))return!1;return!0};Knt.default=EYe});var czt=$(Qnt=>{"use strict";Object.defineProperty(Qnt,"__esModule",{value:!0});var TYe=function(r,e){for(var t=0;t<r.length;t++)if(e(r[t],t))return!0;return!1};Qnt.default=TYe});var Jnt=$($nt=>{"use strict";Object.defineProperty($nt,"__esModule",{value:!0});var hzt=Mr(),IYe=hzt.__importDefault(bs()),LYe=hzt.__importDefault(ph()),OYe=Object.prototype.hasOwnProperty;function kYe(r,e){if(!e||!(0,IYe.default)(r))return{};for(var t={},i=(0,LYe.default)(e)?e:function(s){return s[e]},n,a=0;a<r.length;a++){var o=r[a];n=i(o),OYe.call(t,n)?t[n].push(o):t[n]=[o]}return t}$nt.default=kYe});var rat=$(eat=>{"use strict";Object.defineProperty(eat,"__esModule",{value:!0});eat.default=NYe;var tat=Mr(),PYe=tat.__importDefault(bs()),DYe=tat.__importDefault(ph()),FYe=tat.__importDefault(Jnt());function NYe(r,e){if(!e)return{0:r};if(!(0,DYe.default)(e)){var t=(0,PYe.default)(e)?e:e.replace(/\s+/g,"").split("*");e=function(i){for(var n="_",a=0,o=t.length;a<o;a++)n+=i[t[a]]&&i[t[a]].toString();return n}}return(0,FYe.default)(r,e)}});var dzt=$(iat=>{"use strict";Object.defineProperty(iat,"__esModule",{value:!0});var BYe=Mr(),RYe=BYe.__importDefault(rat());iat.default=function(r,e){if(!e)return[r];var t=(0,RYe.default)(r,e),i=[];for(var n in t)i.push(t[n]);return i}});var vzt=$(nat=>{"use strict";Object.defineProperty(nat,"__esModule",{value:!0});function GYe(r,e){return r["_wrap_"+e]}nat.default=GYe});var pzt=$(aat=>{"use strict";Object.defineProperty(aat,"__esModule",{value:!0});function zYe(r,e){if(r["_wrap_"+e])return r["_wrap_"+e];var t=function(i){r[e](i)};return r["_wrap_"+e]=t,t}aat.default=zYe});var mzt=$(oat=>{"use strict";Object.defineProperty(oat,"__esModule",{value:!0});var gzt={};function jYe(r){var e=gzt[r];if(!e){for(var t=r.toString(16),i=t.length;i<6;i++)t="0"+t;e="#"+t,gzt[r]=e}return e}oat.default=jYe});var yzt=$(sat=>{"use strict";Object.defineProperty(sat,"__esModule",{value:!0});var YYe=Mr(),WYe=YYe.__importDefault(bs());function VYe(r){var e=0,t=0,i=0,n=0;return(0,WYe.default)(r)?r.length===1?e=t=i=n=r[0]:r.length===2?(e=i=r[0],t=n=r[1]):r.length===3?(e=r[0],t=n=r[1],i=r[2]):(e=r[0],t=r[1],i=r[2],n=r[3]):e=t=i=n=r,{r1:e,r2:t,r3:i,r4:n}}sat.default=VYe});var xzt=$(lat=>{"use strict";Object.defineProperty(lat,"__esModule",{value:!0});var qYe=function(r,e,t){return r<e?e:r>t?t:r};lat.default=qYe});var bzt=$(uat=>{"use strict";Object.defineProperty(uat,"__esModule",{value:!0});var HYe=function(r,e){var t=e.toString(),i=t.indexOf(".");if(i===-1)return Math.round(r);var n=t.substr(i+1).length;return n>20&&(n=20),parseFloat(r.toFixed(n))};uat.default=HYe});var gm=$(fat=>{"use strict";Object.defineProperty(fat,"__esModule",{value:!0});fat.default=UYe;function UYe(r){return typeof r=="number"}});var wzt=$(cat=>{"use strict";Object.defineProperty(cat,"__esModule",{value:!0});cat.default=KYe;var XYe=Mr(),ZYe=XYe.__importDefault(gm());function KYe(r){return(0,ZYe.default)(r)&&r%1!=0}});var _zt=$(hat=>{"use strict";Object.defineProperty(hat,"__esModule",{value:!0});hat.default=JYe;var QYe=Mr(),$Ye=QYe.__importDefault(gm());function JYe(r){return(0,$Ye.default)(r)&&r%2==0}});var Szt=$(dat=>{"use strict";Object.defineProperty(dat,"__esModule",{value:!0});dat.default=rWe;var tWe=Mr(),eWe=tWe.__importDefault(gm());function rWe(r){return(0,eWe.default)(r)&&r%1==0}});var Czt=$(vat=>{"use strict";Object.defineProperty(vat,"__esModule",{value:!0});vat.default=aWe;var iWe=Mr(),nWe=iWe.__importDefault(gm());function aWe(r){return(0,nWe.default)(r)&&r<0}});var Mzt=$(pat=>{"use strict";Object.defineProperty(pat,"__esModule",{value:!0});pat.default=sWe;var oWe=1e-5;function sWe(r,e,t){return t===void 0&&(t=oWe),r===e||Math.abs(r-e)<t}});var Azt=$(gat=>{"use strict";Object.defineProperty(gat,"__esModule",{value:!0});gat.default=fWe;var lWe=Mr(),uWe=lWe.__importDefault(gm());function fWe(r){return(0,uWe.default)(r)&&r%2!=0}});var Ezt=$(mat=>{"use strict";Object.defineProperty(mat,"__esModule",{value:!0});var cWe=Mr(),hWe=cWe.__importDefault(gm()),dWe=function(r){return(0,hWe.default)(r)&&r>0};mat.default=dWe});var Izt=$(yat=>{"use strict";Object.defineProperty(yat,"__esModule",{value:!0});var Tzt=Mr(),vWe=Tzt.__importDefault(bs()),pWe=Tzt.__importDefault(ph());yat.default=function(r,e){if(!!(0,vWe.default)(r)){for(var t,i=-1/0,n=0;n<r.length;n++){var a=r[n],o=(0,pWe.default)(e)?e(a):a[e];o>i&&(t=a,i=o)}return t}}});var Ozt=$(xat=>{"use strict";Object.defineProperty(xat,"__esModule",{value:!0});var Lzt=Mr(),gWe=Lzt.__importDefault(bs()),mWe=Lzt.__importDefault(ph());xat.default=function(r,e){if(!!(0,gWe.default)(r)){for(var t,i=1/0,n=0;n<r.length;n++){var a=r[n],o=(0,mWe.default)(e)?e(a):a[e];o<i&&(t=a,i=o)}return t}}});var kzt=$(bat=>{"use strict";Object.defineProperty(bat,"__esModule",{value:!0});var yWe=function(r,e){return(r%e+e)%e};bat.default=yWe});var Pzt=$(wat=>{"use strict";Object.defineProperty(wat,"__esModule",{value:!0});var xWe=180/Math.PI,bWe=function(r){return xWe*r};wat.default=bWe});var Dzt=$(_at=>{"use strict";Object.defineProperty(_at,"__esModule",{value:!0});_at.default=parseInt});var Fzt=$(Sat=>{"use strict";Object.defineProperty(Sat,"__esModule",{value:!0});var wWe=Math.PI/180,_We=function(r){return wWe*r};Sat.default=_We});var Nzt=$(Cat=>{"use strict";Object.defineProperty(Cat,"__esModule",{value:!0});var SWe=Mr(),CWe=SWe.__importDefault(vM());Cat.default=CWe.default});var Aat=$(Mat=>{"use strict";Object.defineProperty(Mat,"__esModule",{value:!0});Mat.default=function(r,e){return r.hasOwnProperty(e)}});var Bzt=$(Eat=>{"use strict";Object.defineProperty(Eat,"__esModule",{value:!0});var MWe=Mr(),AWe=MWe.__importDefault(Aat());Eat.default=AWe.default});var Iat=$(Tat=>{"use strict";Object.defineProperty(Tat,"__esModule",{value:!0});var Rzt=Mr(),EWe=Rzt.__importDefault(vM()),TWe=Rzt.__importDefault(ph()),IWe=Object.values?function(r){return Object.values(r)}:function(r){var e=[];return(0,EWe.default)(r,function(t,i){(0,TWe.default)(r)&&i==="prototype"||e.push(t)}),e};Tat.default=IWe});var zzt=$(Lat=>{"use strict";Object.defineProperty(Lat,"__esModule",{value:!0});var Gzt=Mr(),LWe=Gzt.__importDefault(mW()),OWe=Gzt.__importDefault(Iat());Lat.default=function(r,e){return(0,LWe.default)((0,OWe.default)(r),e)}});var II=$(Oat=>{"use strict";Object.defineProperty(Oat,"__esModule",{value:!0});var kWe=Mr(),PWe=kWe.__importDefault(px());Oat.default=function(r){return(0,PWe.default)(r)?"":r.toString()}});var jzt=$(kat=>{"use strict";Object.defineProperty(kat,"__esModule",{value:!0});var DWe=Mr(),FWe=DWe.__importDefault(II()),NWe=function(r){return(0,FWe.default)(r).toLowerCase()};kat.default=NWe});var Yzt=$(Pat=>{"use strict";Object.defineProperty(Pat,"__esModule",{value:!0});var BWe=Mr(),RWe=BWe.__importDefault(II()),GWe=function(r){var e=(0,RWe.default)(r);return e.charAt(0).toLowerCase()+e.substring(1)};Pat.default=GWe});var Wzt=$(Dat=>{"use strict";Object.defineProperty(Dat,"__esModule",{value:!0});function zWe(r,e){return!r||!e?r:r.replace(/\\?\{([^{}]+)\}/g,function(t,i){return t.charAt(0)==="\\"?t.slice(1):e[i]===void 0?"":e[i]})}Dat.default=zWe});var Vzt=$(Fat=>{"use strict";Object.defineProperty(Fat,"__esModule",{value:!0});var jWe=Mr(),YWe=jWe.__importDefault(II()),WWe=function(r){return(0,YWe.default)(r).toUpperCase()};Fat.default=WWe});var qzt=$(Nat=>{"use strict";Object.defineProperty(Nat,"__esModule",{value:!0});var VWe=Mr(),qWe=VWe.__importDefault(II()),HWe=function(r){var e=(0,qWe.default)(r);return e.charAt(0).toUpperCase()+e.substring(1)};Nat.default=HWe});var Rat=$(Bat=>{"use strict";Object.defineProperty(Bat,"__esModule",{value:!0});var UWe={}.toString,XWe=function(r){return UWe.call(r).replace(/^\[object /,"").replace(/]$/,"")};Bat.default=XWe});var Hzt=$(Gat=>{"use strict";Object.defineProperty(Gat,"__esModule",{value:!0});var ZWe=Mr(),KWe=ZWe.__importDefault(pM()),QWe=function(r){return(0,KWe.default)(r,"Arguments")};Gat.default=QWe});var Uzt=$(zat=>{"use strict";Object.defineProperty(zat,"__esModule",{value:!0});var $We=Mr(),JWe=$We.__importDefault(pM()),t8e=function(r){return(0,JWe.default)(r,"Boolean")};zat.default=t8e});var Xzt=$(jat=>{"use strict";Object.defineProperty(jat,"__esModule",{value:!0});jat.default=e8e;function e8e(r){return r instanceof Date}});var Zzt=$(Yat=>{"use strict";Object.defineProperty(Yat,"__esModule",{value:!0});var r8e=Mr(),i8e=r8e.__importDefault(pM()),n8e=function(r){return(0,i8e.default)(r,"Error")};Yat.default=n8e});var Kzt=$(Wat=>{"use strict";Object.defineProperty(Wat,"__esModule",{value:!0});Wat.default=s8e;var a8e=Mr(),o8e=a8e.__importDefault(gm());function s8e(r){return(0,o8e.default)(r)&&isFinite(r)}});var Qzt=$(Vat=>{"use strict";Object.defineProperty(Vat,"__esModule",{value:!0});Vat.default=l8e;function l8e(r){return r===null}});var Hat=$(qat=>{"use strict";Object.defineProperty(qat,"__esModule",{value:!0});var u8e=Object.prototype,f8e=function(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||u8e;return r===t};qat.default=f8e});var $zt=$(Uat=>{"use strict";Object.defineProperty(Uat,"__esModule",{value:!0});var c8e=Mr(),h8e=c8e.__importDefault(pM()),d8e=function(r){return(0,h8e.default)(r,"RegExp")};Uat.default=d8e});var Jzt=$(Xat=>{"use strict";Object.defineProperty(Xat,"__esModule",{value:!0});var v8e=function(r){return r===void 0};Xat.default=v8e});var tjt=$(Zat=>{"use strict";Object.defineProperty(Zat,"__esModule",{value:!0});Zat.default=p8e;function p8e(r){return r instanceof Element||r instanceof Document}});var ejt=$(Kat=>{"use strict";Object.defineProperty(Kat,"__esModule",{value:!0});Kat.default=g8e;function g8e(r){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(r)}});var rjt=$(Qat=>{"use strict";Object.defineProperty(Qat,"__esModule",{value:!0});Qat.default=m8e;function m8e(r){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(r)}});var bW=$(Jat=>{"use strict";Object.defineProperty(Jat,"__esModule",{value:!0});Jat.default=y8e;function $at(r,e){for(var t in e)e.hasOwnProperty(t)&&t!=="constructor"&&e[t]!==void 0&&(r[t]=e[t])}function y8e(r,e,t,i){return e&&$at(r,e),t&&$at(r,t),i&&$at(r,i),r}});var njt=$(tot=>{"use strict";Object.defineProperty(tot,"__esModule",{value:!0});var ijt=Mr(),x8e=ijt.__importDefault(bW()),b8e=ijt.__importDefault(ph()),w8e=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];for(var t=r[0],i=1;i<r.length;i++){var n=r[i];(0,b8e.default)(n)&&(n=n.prototype),(0,x8e.default)(t.prototype,n)}};tot.default=w8e});var ajt=$(rot=>{"use strict";Object.defineProperty(rot,"__esModule",{value:!0});var _8e=Mr(),S8e=_8e.__importDefault(bs()),eot=function(r){if(typeof r!="object"||r===null)return r;var e;if((0,S8e.default)(r)){e=[];for(var t=0,i=r.length;t<i;t++)typeof r[t]=="object"&&r[t]!=null?e[t]=eot(r[t]):e[t]=r[t]}else{e={};for(var n in r)typeof r[n]=="object"&&r[n]!=null?e[n]=eot(r[n]):e[n]=r[n]}return e};rot.default=eot});var ojt=$(iot=>{"use strict";Object.defineProperty(iot,"__esModule",{value:!0});function C8e(r,e,t){var i;return function(){var n=this,a=arguments,o=function(){i=null,t||r.apply(n,a)},s=t&&!i;clearTimeout(i),i=setTimeout(o,e),s&&r.apply(n,a)}}iot.default=C8e});var sjt=$(aot=>{"use strict";Object.defineProperty(aot,"__esModule",{value:!0});aot.default=A8e;function M8e(r){var e,t,i,n=r||1;function a(s,l){++e>n&&(i=t,o(1),++e),t[s]=l}function o(s){e=0,t=Object.create(null),s||(i=Object.create(null))}return o(),{clear:o,has:function(s){return t[s]!==void 0||i[s]!==void 0},get:function(s){var l=t[s];if(l!==void 0)return l;if((l=i[s])!==void 0)return a(s,l),l},set:function(s,l){t[s]!==void 0?t[s]=l:a(s,l)}}}var not=new Map;function A8e(r,e,t){t===void 0&&(t=128);var i=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var o=e?e.apply(this,n):n[0];not.has(r)||not.set(r,M8e(t));var s=not.get(r);if(s.has(o))return s.get(o);var l=r.apply(this,n);return s.set(o,l),l};return i}});var cjt=$(oot=>{"use strict";Object.defineProperty(oot,"__esModule",{value:!0});var ljt=Mr(),E8e=ljt.__importDefault(bs()),ujt=ljt.__importDefault(TI()),T8e=5;function I8e(r,e){if(Object.hasOwn)return Object.hasOwn(r,e);if(r==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(Object(r),e)}function fjt(r,e,t,i){t=t||0,i=i||T8e;for(var n in e)if(I8e(e,n)){var a=e[n];a!==null&&(0,ujt.default)(a)?((0,ujt.default)(r[n])||(r[n]={}),t<i?fjt(r[n],a,t+1,i):r[n]=e[n]):(0,E8e.default)(a)?(r[n]=[],r[n]=r[n].concat(a)):a!==void 0&&(r[n]=a)}}var L8e=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)fjt(r,e[i]);return r};oot.default=L8e});var djt=$(lot=>{"use strict";Object.defineProperty(lot,"__esModule",{value:!0});var hjt=Mr(),sot=hjt.__importDefault(bW()),O8e=hjt.__importDefault(ph()),k8e=function(r,e,t,i){(0,O8e.default)(e)||(t=e,e=r,r=function(){});var n=Object.create?function(o,s){return Object.create(o,{constructor:{value:s}})}:function(o,s){function l(){}l.prototype=o;var u=new l;return u.constructor=s,u},a=n(e.prototype,r);return r.prototype=(0,sot.default)(a,r.prototype),r.superclass=n(e.prototype,e),(0,sot.default)(a,t),(0,sot.default)(r,i),r};lot.default=k8e});var vjt=$(uot=>{"use strict";Object.defineProperty(uot,"__esModule",{value:!0});var P8e=Mr(),D8e=P8e.__importDefault(mc()),F8e=function(r,e){if(!(0,D8e.default)(r))return-1;var t=Array.prototype.indexOf;if(t)return t.call(r,e);for(var i=-1,n=0;n<r.length;n++)if(r[n]===e){i=n;break}return i};uot.default=F8e});var pjt=$(fot=>{"use strict";Object.defineProperty(fot,"__esModule",{value:!0});var wW=Mr(),N8e=wW.__importDefault(px()),B8e=wW.__importDefault(mc()),R8e=wW.__importDefault(Rat()),G8e=wW.__importDefault(Hat()),z8e=Object.prototype.hasOwnProperty;function j8e(r){if((0,N8e.default)(r))return!0;if((0,B8e.default)(r))return!r.length;var e=(0,R8e.default)(r);if(e==="Map"||e==="Set")return!r.size;if((0,G8e.default)(r))return!Object.keys(r).length;for(var t in r)if(z8e.call(r,t))return!1;return!0}fot.default=j8e});var vot=$(dot=>{"use strict";Object.defineProperty(dot,"__esModule",{value:!0});var cot=Mr(),gjt=cot.__importDefault(yW()),mjt=cot.__importDefault(mc()),yjt=cot.__importDefault(Kw()),hot=function(r,e){if(r===e)return!0;if(!r||!e||(0,yjt.default)(r)||(0,yjt.default)(e))return!1;if((0,mjt.default)(r)||(0,mjt.default)(e)){if(r.length!==e.length)return!1;for(var t=!0,i=0;i<r.length&&(t=hot(r[i],e[i]),!!t);i++);return t}if((0,gjt.default)(r)||(0,gjt.default)(e)){var n=Object.keys(r),a=Object.keys(e);if(n.length!==a.length)return!1;for(var t=!0,i=0;i<n.length&&(t=hot(r[n[i]],e[n[i]]),!!t);i++);return t}return!1};dot.default=hot});var bjt=$(pot=>{"use strict";Object.defineProperty(pot,"__esModule",{value:!0});var xjt=Mr(),Y8e=xjt.__importDefault(ph()),W8e=xjt.__importDefault(vot());pot.default=function(r,e,t){return(0,Y8e.default)(t)?!!t(r,e):(0,W8e.default)(r,e)}});var wjt=$(got=>{"use strict";Object.defineProperty(got,"__esModule",{value:!0});var V8e=Mr(),q8e=V8e.__importDefault(mc()),H8e=function(r,e){if(!(0,q8e.default)(r))return r;for(var t=[],i=0;i<r.length;i++){var n=r[i];t.push(e(n,i))}return t};got.default=H8e});var Sjt=$(mot=>{"use strict";Object.defineProperty(mot,"__esModule",{value:!0});var _jt=Mr(),U8e=_jt.__importDefault(px()),X8e=_jt.__importDefault(lN()),Z8e=function(r){return r};mot.default=function(r,e){e===void 0&&(e=Z8e);var t={};return(0,X8e.default)(r)&&!(0,U8e.default)(r)&&Object.keys(r).forEach(function(i){t[i]=e(r[i],i)}),t}});var Cjt=$(yot=>{"use strict";Object.defineProperty(yot,"__esModule",{value:!0});var K8e=Mr(),Q8e=K8e.__importDefault(Kw());yot.default=function(r,e,t){for(var i=0,n=(0,Q8e.default)(e)?e.split("."):e;r&&i<n.length;)r=r[n[i++]];return r===void 0||i<n.length?t:r}});var Mjt=$(bot=>{"use strict";Object.defineProperty(bot,"__esModule",{value:!0});var xot=Mr(),$8e=xot.__importDefault(lN()),J8e=xot.__importDefault(Kw()),tVe=xot.__importDefault(gm());bot.default=function(r,e,t){var i=r,n=(0,J8e.default)(e)?e.split("."):e;return n.forEach(function(a,o){o<n.length-1?((0,$8e.default)(i[a])||(i[a]=(0,tVe.default)(n[o+1])?[]:{}),i=i[a]):i[a]=t}),r}});var Ejt=$(wot=>{"use strict";Object.defineProperty(wot,"__esModule",{value:!0});var Ajt=Mr(),eVe=Ajt.__importDefault(vM()),rVe=Ajt.__importDefault(TI()),iVe=Object.prototype.hasOwnProperty;wot.default=function(r,e){if(r===null||!(0,rVe.default)(r))return{};var t={};return(0,eVe.default)(e,function(i){iVe.call(r,i)&&(t[i]=r[i])}),t}});var Tjt=$(_ot=>{"use strict";Object.defineProperty(_ot,"__esModule",{value:!0});var nVe=Mr(),aVe=nVe.__importDefault(Bnt());_ot.default=function(r,e){return(0,aVe.default)(r,function(t,i,n){return e.includes(n)||(t[n]=i),t},{})}});var Ijt=$(Sot=>{"use strict";Object.defineProperty(Sot,"__esModule",{value:!0});Sot.default=function(r,e,t){var i,n,a,o,s=0;t||(t={});var l=function(){s=t.leading===!1?0:Date.now(),i=null,o=r.apply(n,a),i||(n=a=null)},u=function(){var f=Date.now();!s&&t.leading===!1&&(s=f);var c=e-(f-s);return n=this,a=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=f,o=r.apply(n,a),i||(n=a=null)):!i&&t.trailing!==!1&&(i=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(i),s=0,i=n=a=null},u}});var Ljt=$(Cot=>{"use strict";Object.defineProperty(Cot,"__esModule",{value:!0});var oVe=Mr(),sVe=oVe.__importDefault(mc());Cot.default=function(r){return(0,sVe.default)(r)?Array.prototype.slice.call(r):[]}});var Ojt=$(Mot=>{"use strict";Object.defineProperty(Mot,"__esModule",{value:!0});var _W={};Mot.default=function(r){return r=r||"g",_W[r]?_W[r]+=1:_W[r]=1,r+_W[r]}});var kjt=$(Aot=>{"use strict";Object.defineProperty(Aot,"__esModule",{value:!0});Aot.default=function(){}});var Pjt=$(Eot=>{"use strict";Object.defineProperty(Eot,"__esModule",{value:!0});Eot.default=function(r){return r}});var Fjt=$(Tot=>{"use strict";Object.defineProperty(Tot,"__esModule",{value:!0});Tot.default=fVe;var Djt=Mr(),lVe=Djt.__importDefault(px()),uVe=Djt.__importDefault(mc());function fVe(r){return(0,lVe.default)(r)?0:(0,uVe.default)(r)?r.length:Object.keys(r).length}});var Njt=$(Iot=>{"use strict";Object.defineProperty(Iot,"__esModule",{value:!0});var cVe=function(){function r(){this.map={}}return r.prototype.has=function(e){return this.map[e]!==void 0},r.prototype.get=function(e,t){var i=this.map[e];return i===void 0?t:i},r.prototype.set=function(e,t){this.map[e]=t},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(e){delete this.map[e]},r.prototype.size=function(){return Object.keys(this.map).length},r}();Iot.default=cVe});var Lot=$(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.has=zt.forIn=zt.toRadian=zt.toInteger=zt.toDegree=zt.mod=zt.minBy=zt.min=zt.maxBy=zt.max=zt.isPositive=zt.isOdd=zt.isNumberEqual=zt.isNegative=zt.isInteger=zt.isEven=zt.isDecimal=zt.fixedBase=zt.clamp=zt.parseRadius=zt.number2color=zt.wrapBehavior=zt.getWrapBehavior=zt.groupToMap=zt.groupBy=zt.group=zt.some=zt.every=zt.filter=zt.endsWith=zt.startsWith=zt.last=zt.head=zt.valuesOfKey=zt.uniq=zt.union=zt.sortBy=zt.remove=zt.reduce=zt.pullAt=zt.pull=zt.getRange=zt.flattenDeep=zt.flatten=zt.firstValue=zt.findIndex=zt.find=zt.difference=zt.includes=zt.contains=void 0;zt.set=zt.get=zt.assign=zt.mix=zt.mapValues=zt.map=zt.isEqualWith=zt.isEqual=zt.isEmpty=zt.indexOf=zt.extend=zt.each=zt.deepMix=zt.memoize=zt.debounce=zt.clone=zt.augment=zt.clearAnimationFrame=zt.requestAnimationFrame=zt.isElement=zt.isUndefined=zt.isType=zt.isString=zt.isRegExp=zt.isPrototype=zt.isPlainObject=zt.isObjectLike=zt.isObject=zt.isNumber=zt.isNull=zt.isNil=zt.isFinite=zt.isFunction=zt.isError=zt.isDate=zt.isBoolean=zt.isArrayLike=zt.isArray=zt.isArguments=zt.getType=zt.upperFirst=zt.upperCase=zt.substitute=zt.lowerFirst=zt.lowerCase=zt.values=zt.isMatch=zt.keys=zt.hasValue=zt.hasKey=void 0;zt.Cache=zt.size=zt.identity=zt.noop=zt.uniqueId=zt.toString=zt.toArray=zt.throttle=zt.omit=zt.pick=void 0;var Ke=Mr(),Bjt=mW();Object.defineProperty(zt,"contains",{enumerable:!0,get:function(){return Ke.__importDefault(Bjt).default}});Object.defineProperty(zt,"includes",{enumerable:!0,get:function(){return Ke.__importDefault(Bjt).default}});var hVe=BGt();Object.defineProperty(zt,"difference",{enumerable:!0,get:function(){return Ke.__importDefault(hVe).default}});var dVe=YGt();Object.defineProperty(zt,"find",{enumerable:!0,get:function(){return Ke.__importDefault(dVe).default}});var vVe=WGt();Object.defineProperty(zt,"findIndex",{enumerable:!0,get:function(){return Ke.__importDefault(vVe).default}});var pVe=qGt();Object.defineProperty(zt,"firstValue",{enumerable:!0,get:function(){return Ke.__importDefault(pVe).default}});var gVe=HGt();Object.defineProperty(zt,"flatten",{enumerable:!0,get:function(){return Ke.__importDefault(gVe).default}});var mVe=XGt();Object.defineProperty(zt,"flattenDeep",{enumerable:!0,get:function(){return Ke.__importDefault(mVe).default}});var yVe=ZGt();Object.defineProperty(zt,"getRange",{enumerable:!0,get:function(){return Ke.__importDefault(yVe).default}});var xVe=QGt();Object.defineProperty(zt,"pull",{enumerable:!0,get:function(){return Ke.__importDefault(xVe).default}});var bVe=Dnt();Object.defineProperty(zt,"pullAt",{enumerable:!0,get:function(){return Ke.__importDefault(bVe).default}});var wVe=Bnt();Object.defineProperty(zt,"reduce",{enumerable:!0,get:function(){return Ke.__importDefault(wVe).default}});var _Ve=JGt();Object.defineProperty(zt,"remove",{enumerable:!0,get:function(){return Ke.__importDefault(_Ve).default}});var SVe=tzt();Object.defineProperty(zt,"sortBy",{enumerable:!0,get:function(){return Ke.__importDefault(SVe).default}});var CVe=ezt();Object.defineProperty(zt,"union",{enumerable:!0,get:function(){return Ke.__importDefault(CVe).default}});var MVe=Wnt();Object.defineProperty(zt,"uniq",{enumerable:!0,get:function(){return Ke.__importDefault(MVe).default}});var AVe=izt();Object.defineProperty(zt,"valuesOfKey",{enumerable:!0,get:function(){return Ke.__importDefault(AVe).default}});var EVe=nzt();Object.defineProperty(zt,"head",{enumerable:!0,get:function(){return Ke.__importDefault(EVe).default}});var TVe=azt();Object.defineProperty(zt,"last",{enumerable:!0,get:function(){return Ke.__importDefault(TVe).default}});var IVe=szt();Object.defineProperty(zt,"startsWith",{enumerable:!0,get:function(){return Ke.__importDefault(IVe).default}});var LVe=uzt();Object.defineProperty(zt,"endsWith",{enumerable:!0,get:function(){return Ke.__importDefault(LVe).default}});var OVe=snt();Object.defineProperty(zt,"filter",{enumerable:!0,get:function(){return Ke.__importDefault(OVe).default}});var kVe=fzt();Object.defineProperty(zt,"every",{enumerable:!0,get:function(){return Ke.__importDefault(kVe).default}});var PVe=czt();Object.defineProperty(zt,"some",{enumerable:!0,get:function(){return Ke.__importDefault(PVe).default}});var DVe=dzt();Object.defineProperty(zt,"group",{enumerable:!0,get:function(){return Ke.__importDefault(DVe).default}});var FVe=Jnt();Object.defineProperty(zt,"groupBy",{enumerable:!0,get:function(){return Ke.__importDefault(FVe).default}});var NVe=rat();Object.defineProperty(zt,"groupToMap",{enumerable:!0,get:function(){return Ke.__importDefault(NVe).default}});var BVe=vzt();Object.defineProperty(zt,"getWrapBehavior",{enumerable:!0,get:function(){return Ke.__importDefault(BVe).default}});var RVe=pzt();Object.defineProperty(zt,"wrapBehavior",{enumerable:!0,get:function(){return Ke.__importDefault(RVe).default}});var GVe=mzt();Object.defineProperty(zt,"number2color",{enumerable:!0,get:function(){return Ke.__importDefault(GVe).default}});var zVe=yzt();Object.defineProperty(zt,"parseRadius",{enumerable:!0,get:function(){return Ke.__importDefault(zVe).default}});var jVe=xzt();Object.defineProperty(zt,"clamp",{enumerable:!0,get:function(){return Ke.__importDefault(jVe).default}});var YVe=bzt();Object.defineProperty(zt,"fixedBase",{enumerable:!0,get:function(){return Ke.__importDefault(YVe).default}});var WVe=wzt();Object.defineProperty(zt,"isDecimal",{enumerable:!0,get:function(){return Ke.__importDefault(WVe).default}});var VVe=_zt();Object.defineProperty(zt,"isEven",{enumerable:!0,get:function(){return Ke.__importDefault(VVe).default}});var qVe=Szt();Object.defineProperty(zt,"isInteger",{enumerable:!0,get:function(){return Ke.__importDefault(qVe).default}});var HVe=Czt();Object.defineProperty(zt,"isNegative",{enumerable:!0,get:function(){return Ke.__importDefault(HVe).default}});var UVe=Mzt();Object.defineProperty(zt,"isNumberEqual",{enumerable:!0,get:function(){return Ke.__importDefault(UVe).default}});var XVe=Azt();Object.defineProperty(zt,"isOdd",{enumerable:!0,get:function(){return Ke.__importDefault(XVe).default}});var ZVe=Ezt();Object.defineProperty(zt,"isPositive",{enumerable:!0,get:function(){return Ke.__importDefault(ZVe).default}});var KVe=Ent();Object.defineProperty(zt,"max",{enumerable:!0,get:function(){return Ke.__importDefault(KVe).default}});var QVe=Izt();Object.defineProperty(zt,"maxBy",{enumerable:!0,get:function(){return Ke.__importDefault(QVe).default}});var $Ve=Int();Object.defineProperty(zt,"min",{enumerable:!0,get:function(){return Ke.__importDefault($Ve).default}});var JVe=Ozt();Object.defineProperty(zt,"minBy",{enumerable:!0,get:function(){return Ke.__importDefault(JVe).default}});var tqe=kzt();Object.defineProperty(zt,"mod",{enumerable:!0,get:function(){return Ke.__importDefault(tqe).default}});var eqe=Pzt();Object.defineProperty(zt,"toDegree",{enumerable:!0,get:function(){return Ke.__importDefault(eqe).default}});var rqe=Dzt();Object.defineProperty(zt,"toInteger",{enumerable:!0,get:function(){return Ke.__importDefault(rqe).default}});var iqe=Fzt();Object.defineProperty(zt,"toRadian",{enumerable:!0,get:function(){return Ke.__importDefault(iqe).default}});var nqe=Nzt();Object.defineProperty(zt,"forIn",{enumerable:!0,get:function(){return Ke.__importDefault(nqe).default}});var aqe=Aat();Object.defineProperty(zt,"has",{enumerable:!0,get:function(){return Ke.__importDefault(aqe).default}});var oqe=Bzt();Object.defineProperty(zt,"hasKey",{enumerable:!0,get:function(){return Ke.__importDefault(oqe).default}});var sqe=zzt();Object.defineProperty(zt,"hasValue",{enumerable:!0,get:function(){return Ke.__importDefault(sqe).default}});var lqe=pnt();Object.defineProperty(zt,"keys",{enumerable:!0,get:function(){return Ke.__importDefault(lqe).default}});var uqe=mnt();Object.defineProperty(zt,"isMatch",{enumerable:!0,get:function(){return Ke.__importDefault(uqe).default}});var fqe=Iat();Object.defineProperty(zt,"values",{enumerable:!0,get:function(){return Ke.__importDefault(fqe).default}});var cqe=jzt();Object.defineProperty(zt,"lowerCase",{enumerable:!0,get:function(){return Ke.__importDefault(cqe).default}});var hqe=Yzt();Object.defineProperty(zt,"lowerFirst",{enumerable:!0,get:function(){return Ke.__importDefault(hqe).default}});var dqe=Wzt();Object.defineProperty(zt,"substitute",{enumerable:!0,get:function(){return Ke.__importDefault(dqe).default}});var vqe=Vzt();Object.defineProperty(zt,"upperCase",{enumerable:!0,get:function(){return Ke.__importDefault(vqe).default}});var pqe=qzt();Object.defineProperty(zt,"upperFirst",{enumerable:!0,get:function(){return Ke.__importDefault(pqe).default}});var gqe=Rat();Object.defineProperty(zt,"getType",{enumerable:!0,get:function(){return Ke.__importDefault(gqe).default}});var mqe=Hzt();Object.defineProperty(zt,"isArguments",{enumerable:!0,get:function(){return Ke.__importDefault(mqe).default}});var yqe=bs();Object.defineProperty(zt,"isArray",{enumerable:!0,get:function(){return Ke.__importDefault(yqe).default}});var xqe=mc();Object.defineProperty(zt,"isArrayLike",{enumerable:!0,get:function(){return Ke.__importDefault(xqe).default}});var bqe=Uzt();Object.defineProperty(zt,"isBoolean",{enumerable:!0,get:function(){return Ke.__importDefault(bqe).default}});var wqe=Xzt();Object.defineProperty(zt,"isDate",{enumerable:!0,get:function(){return Ke.__importDefault(wqe).default}});var _qe=Zzt();Object.defineProperty(zt,"isError",{enumerable:!0,get:function(){return Ke.__importDefault(_qe).default}});var Sqe=ph();Object.defineProperty(zt,"isFunction",{enumerable:!0,get:function(){return Ke.__importDefault(Sqe).default}});var Cqe=Kzt();Object.defineProperty(zt,"isFinite",{enumerable:!0,get:function(){return Ke.__importDefault(Cqe).default}});var Mqe=px();Object.defineProperty(zt,"isNil",{enumerable:!0,get:function(){return Ke.__importDefault(Mqe).default}});var Aqe=Qzt();Object.defineProperty(zt,"isNull",{enumerable:!0,get:function(){return Ke.__importDefault(Aqe).default}});var Eqe=gm();Object.defineProperty(zt,"isNumber",{enumerable:!0,get:function(){return Ke.__importDefault(Eqe).default}});var Tqe=lN();Object.defineProperty(zt,"isObject",{enumerable:!0,get:function(){return Ke.__importDefault(Tqe).default}});var Iqe=yW();Object.defineProperty(zt,"isObjectLike",{enumerable:!0,get:function(){return Ke.__importDefault(Iqe).default}});var Lqe=TI();Object.defineProperty(zt,"isPlainObject",{enumerable:!0,get:function(){return Ke.__importDefault(Lqe).default}});var Oqe=Hat();Object.defineProperty(zt,"isPrototype",{enumerable:!0,get:function(){return Ke.__importDefault(Oqe).default}});var kqe=$zt();Object.defineProperty(zt,"isRegExp",{enumerable:!0,get:function(){return Ke.__importDefault(kqe).default}});var Pqe=Kw();Object.defineProperty(zt,"isString",{enumerable:!0,get:function(){return Ke.__importDefault(Pqe).default}});var Dqe=pM();Object.defineProperty(zt,"isType",{enumerable:!0,get:function(){return Ke.__importDefault(Dqe).default}});var Fqe=Jzt();Object.defineProperty(zt,"isUndefined",{enumerable:!0,get:function(){return Ke.__importDefault(Fqe).default}});var Nqe=tjt();Object.defineProperty(zt,"isElement",{enumerable:!0,get:function(){return Ke.__importDefault(Nqe).default}});var Bqe=ejt();Object.defineProperty(zt,"requestAnimationFrame",{enumerable:!0,get:function(){return Ke.__importDefault(Bqe).default}});var Rqe=rjt();Object.defineProperty(zt,"clearAnimationFrame",{enumerable:!0,get:function(){return Ke.__importDefault(Rqe).default}});var Gqe=njt();Object.defineProperty(zt,"augment",{enumerable:!0,get:function(){return Ke.__importDefault(Gqe).default}});var zqe=ajt();Object.defineProperty(zt,"clone",{enumerable:!0,get:function(){return Ke.__importDefault(zqe).default}});var jqe=ojt();Object.defineProperty(zt,"debounce",{enumerable:!0,get:function(){return Ke.__importDefault(jqe).default}});var Yqe=sjt();Object.defineProperty(zt,"memoize",{enumerable:!0,get:function(){return Ke.__importDefault(Yqe).default}});var Wqe=cjt();Object.defineProperty(zt,"deepMix",{enumerable:!0,get:function(){return Ke.__importDefault(Wqe).default}});var Vqe=vM();Object.defineProperty(zt,"each",{enumerable:!0,get:function(){return Ke.__importDefault(Vqe).default}});var qqe=djt();Object.defineProperty(zt,"extend",{enumerable:!0,get:function(){return Ke.__importDefault(qqe).default}});var Hqe=vjt();Object.defineProperty(zt,"indexOf",{enumerable:!0,get:function(){return Ke.__importDefault(Hqe).default}});var Uqe=pjt();Object.defineProperty(zt,"isEmpty",{enumerable:!0,get:function(){return Ke.__importDefault(Uqe).default}});var Xqe=vot();Object.defineProperty(zt,"isEqual",{enumerable:!0,get:function(){return Ke.__importDefault(Xqe).default}});var Zqe=bjt();Object.defineProperty(zt,"isEqualWith",{enumerable:!0,get:function(){return Ke.__importDefault(Zqe).default}});var Kqe=wjt();Object.defineProperty(zt,"map",{enumerable:!0,get:function(){return Ke.__importDefault(Kqe).default}});var Qqe=Sjt();Object.defineProperty(zt,"mapValues",{enumerable:!0,get:function(){return Ke.__importDefault(Qqe).default}});var Rjt=bW();Object.defineProperty(zt,"mix",{enumerable:!0,get:function(){return Ke.__importDefault(Rjt).default}});Object.defineProperty(zt,"assign",{enumerable:!0,get:function(){return Ke.__importDefault(Rjt).default}});var $qe=Cjt();Object.defineProperty(zt,"get",{enumerable:!0,get:function(){return Ke.__importDefault($qe).default}});var Jqe=Mjt();Object.defineProperty(zt,"set",{enumerable:!0,get:function(){return Ke.__importDefault(Jqe).default}});var tHe=Ejt();Object.defineProperty(zt,"pick",{enumerable:!0,get:function(){return Ke.__importDefault(tHe).default}});var eHe=Tjt();Object.defineProperty(zt,"omit",{enumerable:!0,get:function(){return Ke.__importDefault(eHe).default}});var rHe=Ijt();Object.defineProperty(zt,"throttle",{enumerable:!0,get:function(){return Ke.__importDefault(rHe).default}});var iHe=Ljt();Object.defineProperty(zt,"toArray",{enumerable:!0,get:function(){return Ke.__importDefault(iHe).default}});var nHe=II();Object.defineProperty(zt,"toString",{enumerable:!0,get:function(){return Ke.__importDefault(nHe).default}});var aHe=Ojt();Object.defineProperty(zt,"uniqueId",{enumerable:!0,get:function(){return Ke.__importDefault(aHe).default}});var oHe=kjt();Object.defineProperty(zt,"noop",{enumerable:!0,get:function(){return Ke.__importDefault(oHe).default}});var sHe=Pjt();Object.defineProperty(zt,"identity",{enumerable:!0,get:function(){return Ke.__importDefault(sHe).default}});var lHe=Fjt();Object.defineProperty(zt,"size",{enumerable:!0,get:function(){return Ke.__importDefault(lHe).default}});var uHe=Njt();Object.defineProperty(zt,"Cache",{enumerable:!0,get:function(){return Ke.__importDefault(uHe).default}})});var Oot=$(SW=>{"use strict";Object.defineProperty(SW,"__esModule",{value:!0});SW.toRGB=void 0;var fHe=Lot(),cHe=int(),hHe=/rgba?\(([\s.,0-9]+)\)/;function dHe(){var r=document.getElementById("antv-web-colour-picker");return r||(r=document.createElement("i"),r.id="antv-web-colour-picker",r.title="Web Colour Picker",r.style.display="none",document.body.appendChild(r),r)}function vHe(r){if(r[0]==="#"&&r.length===7)return r;var e=dHe();e.style.color=r;var t=document.defaultView.getComputedStyle(e,"").getPropertyValue("color"),i=hHe.exec(t),n=i[1].split(/\s*,\s*/).map(function(a){return Number(a)});return t=(0,cHe.arr2rgb)(n),t}SW.toRGB=(0,fHe.memoize)(vHe,function(r){return r},256)});var Gjt=$(Pot=>{"use strict";Object.defineProperty(Pot,"__esModule",{value:!0});Pot.gradient=xHe;var pHe=rnt(),gHe=int(),mHe=Oot();function kot(r,e,t,i){return r[i]+(e[i]-r[i])*t}function yHe(r,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),i=r.length-1,n=Math.floor(i*t),a=i*t-n,o=r[n],s=n===i?o:r[n+1];return(0,gHe.arr2rgb)([kot(o,s,a,0),kot(o,s,a,1),kot(o,s,a,2)])}function xHe(r){var e=typeof r=="string"?r.split("-"):r,t=e.map(function(i){return(0,pHe.rgb2arr)(i.indexOf("#")===-1?(0,mHe.toRGB)(i):i)});return function(i){return yHe(t,i)}}});var zjt=$(Dot=>{"use strict";Object.defineProperty(Dot,"__esModule",{value:!0});Dot.toCSSGradient=CHe;var bHe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,wHe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_He=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function SHe(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)}function CHe(r){if(SHe(r)){var e,t=void 0;if(r[0]==="l"){var i=bHe.exec(r),n=+i[1]+90;t=i[2],e="linear-gradient(".concat(n,"deg, ")}else if(r[0]==="r"){e="radial-gradient(";var i=wHe.exec(r);t=i[4]}var a=t.match(_He);return a.forEach(function(o,s){var l=o.split(":");e+="".concat(l[1]," ").concat(Number(l[0])*100,"%"),s!==a.length-1&&(e+=", ")}),e+=")",e}return r}});var jjt=$(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.toCSSGradient=mm.toRGB=mm.gradient=mm.rgb2arr=void 0;var MHe=rnt();Object.defineProperty(mm,"rgb2arr",{enumerable:!0,get:function(){return MHe.rgb2arr}});var AHe=Gjt();Object.defineProperty(mm,"gradient",{enumerable:!0,get:function(){return AHe.gradient}});var EHe=Oot();Object.defineProperty(mm,"toRGB",{enumerable:!0,get:function(){return EHe.toRGB}});var THe=zjt();Object.defineProperty(mm,"toCSSGradient",{enumerable:!0,get:function(){return THe.toCSSGradient}})});var Yjt=$(Fot=>{"use strict";Object.defineProperty(Fot,"__esModule",{value:!0});Fot.transform=PHe;var gM=eC();function IHe(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return gM.mat3.fromTranslation(i,t),gM.mat3.multiply(r,i,e)}function LHe(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return gM.mat3.fromRotation(i,t),gM.mat3.multiply(r,i,e)}function OHe(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return gM.mat3.fromScaling(i,t),gM.mat3.multiply(r,i,e)}function kHe(r,e,t){return gM.mat3.multiply(r,t,e)}function PHe(r,e){for(var t=r?[].concat(r):[1,0,0,0,1,0,0,0,1],i=0,n=e.length;i<n;i++){var a=e[i];switch(a[0]){case"t":IHe(t,t,[a[1],a[2]]);break;case"s":OHe(t,t,[a[1],a[2]]);break;case"r":LHe(t,t,a[1]);break;case"m":kHe(t,t,a[1]);break;default:break}}return t}});var Bot=$(Not=>{"use strict";Object.defineProperty(Not,"__esModule",{value:!0});Not.direction=DHe;function DHe(r,e){return r[0]*e[1]-e[0]*r[1]}});var Wjt=$(Rot=>{"use strict";Object.defineProperty(Rot,"__esModule",{value:!0});Rot.angleTo=BHe;var FHe=eC(),NHe=Bot();function BHe(r,e,t){var i=FHe.vec2.angle(r,e),n=(0,NHe.direction)(r,e)>=0;return t?n?Math.PI*2-i:i:n?i:Math.PI*2-i}});var Vjt=$(Got=>{"use strict";Object.defineProperty(Got,"__esModule",{value:!0});Got.vertical=RHe;function RHe(r,e,t){return t?(r[0]=e[1],r[1]=-1*e[0]):(r[0]=-1*e[1],r[1]=e[0]),r}});var qjt=$(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.vertical=ym.direction=ym.angleTo=ym.transform=void 0;var GHe=Yjt();Object.defineProperty(ym,"transform",{enumerable:!0,get:function(){return GHe.transform}});var zHe=Wjt();Object.defineProperty(ym,"angleTo",{enumerable:!0,get:function(){return zHe.angleTo}});var jHe=Bot();Object.defineProperty(ym,"direction",{enumerable:!0,get:function(){return jHe.direction}});var YHe=Vjt();Object.defineProperty(ym,"vertical",{enumerable:!0,get:function(){return YHe.vertical}})});var Hjt=$(zot=>{"use strict";Object.defineProperty(zot,"__esModule",{value:!0});zot.roundPath=WHe;function WHe(r,e){if(e==="off")return[].concat(r);var t=typeof e=="number"&&e>=1?Math.pow(10,e):1;return r.map(function(i){var n=i.slice(1).map(Number).map(function(a){return e?Math.round(a*t)/t:Math.round(a)});return[i[0]].concat(n)})}});var Ujt=$(jot=>{"use strict";Object.defineProperty(jot,"__esModule",{value:!0});jot.path2String=qHe;var VHe=Hjt();function qHe(r,e){return e===void 0&&(e="off"),(0,VHe.roundPath)(r,e).map(function(t){return t[0]+t.slice(1).join(" ")}).join("")}});var Yot=$(CW=>{"use strict";Object.defineProperty(CW,"__esModule",{value:!0});CW.paramsParser=void 0;CW.paramsParser={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null}});var Xjt=$(Wot=>{"use strict";Object.defineProperty(Wot,"__esModule",{value:!0});Wot.fixArc=HHe;function HHe(r,e,t){if(r[t].length>7){r[t].shift();for(var i=r[t],n=t;i.length;)e[t]="A",r.splice(n+=1,0,["C"].concat(i.splice(0,6)));r.splice(t,1)}}});var AW=$(MW=>{"use strict";Object.defineProperty(MW,"__esModule",{value:!0});MW.paramsCount=void 0;MW.paramsCount={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0}});var qot=$(Vot=>{"use strict";Object.defineProperty(Vot,"__esModule",{value:!0});Vot.isPathArray=XHe;var UHe=AW();function XHe(r){return Array.isArray(r)&&r.every(function(e){var t=e[0].toLowerCase();return UHe.paramsCount[t]===e.length-1&&"achlmqstvz".includes(t)})}});var Uot=$(Hot=>{"use strict";Object.defineProperty(Hot,"__esModule",{value:!0});Hot.isAbsoluteArray=KHe;var ZHe=qot();function KHe(r){return(0,ZHe.isPathArray)(r)&&r.every(function(e){var t=e[0];return t===t.toUpperCase()})}});var Zot=$(Xot=>{"use strict";Object.defineProperty(Xot,"__esModule",{value:!0});Xot.isNormalizedArray=$He;var QHe=Uot();function $He(r){return(0,QHe.isAbsoluteArray)(r)&&r.every(function(e){var t=e[0];return"ACLMQZ".includes(t)})}});var Zjt=$(Qot=>{"use strict";Object.defineProperty(Qot,"__esModule",{value:!0});Qot.finalizeSegment=JHe;var Kot=AW();function JHe(r){for(var e=r.pathValue[r.segmentStart],t=e.toLowerCase(),i=r.data;i.length>=Kot.paramsCount[t]&&(t==="m"&&i.length>2?(r.segments.push([e].concat(i.splice(0,2))),t="l",e=e==="m"?"l":"L"):r.segments.push([e].concat(i.splice(0,Kot.paramsCount[t]))),!!Kot.paramsCount[t]););}});var Kjt=$($ot=>{"use strict";Object.defineProperty($ot,"__esModule",{value:!0});$ot.scanFlag=tUe;function tUe(r){var e=r.index,t=r.pathValue,i=t.charCodeAt(e);if(i===48){r.param=0,r.index+=1;return}if(i===49){r.param=1,r.index+=1;return}r.err='[path-util]: invalid Arc flag "'.concat(t[e],'", expecting 0 or 1 at index ').concat(e)}});var Jot=$(EW=>{"use strict";Object.defineProperty(EW,"__esModule",{value:!0});EW.isDigitStart=eUe;EW.isDigit=rUe;function eUe(r){return r>=48&&r<=57||r===43||r===45||r===46}function rUe(r){return r>=48&&r<=57}});var Qjt=$(tst=>{"use strict";Object.defineProperty(tst,"__esModule",{value:!0});tst.scanParam=iUe;var LI=Jot();function iUe(r){var e=r.max,t=r.pathValue,i=r.index,n=i,a=!1,o=!1,s=!1,l=!1,u;if(n>=e){r.err="[path-util]: Invalid path value at index ".concat(n,', "pathValue" is missing param');return}if(u=t.charCodeAt(n),(u===43||u===45)&&(n+=1,u=t.charCodeAt(n)),!(0,LI.isDigit)(u)&&u!==46){r.err="[path-util]: Invalid path value at index ".concat(n,', "').concat(t[n],'" is not a number');return}if(u!==46){if(a=u===48,n+=1,u=t.charCodeAt(n),a&&n<e&&u&&(0,LI.isDigit)(u)){r.err="[path-util]: Invalid path value at index ".concat(i,', "').concat(t[i],'" illegal number');return}for(;n<e&&(0,LI.isDigit)(t.charCodeAt(n));)n+=1,o=!0;u=t.charCodeAt(n)}if(u===46){for(l=!0,n+=1;(0,LI.isDigit)(t.charCodeAt(n));)n+=1,s=!0;u=t.charCodeAt(n)}if(u===101||u===69){if(l&&!o&&!s){r.err="[path-util]: Invalid path value at index ".concat(n,', "').concat(t[n],'" invalid float exponent');return}if(n+=1,u=t.charCodeAt(n),(u===43||u===45)&&(n+=1),n<e&&(0,LI.isDigit)(t.charCodeAt(n)))for(;n<e&&(0,LI.isDigit)(t.charCodeAt(n));)n+=1;else{r.err="[path-util]: Invalid path value at index ".concat(n,', "').concat(t[n],'" invalid integer exponent');return}}r.index=n,r.param=+r.pathValue.slice(i,n)}});var $jt=$(est=>{"use strict";Object.defineProperty(est,"__esModule",{value:!0});est.isSpace=nUe;function nUe(r){var e=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];return r===10||r===13||r===8232||r===8233||r===32||r===9||r===11||r===12||r===160||r>=5760&&e.includes(r)}});var ist=$(rst=>{"use strict";Object.defineProperty(rst,"__esModule",{value:!0});rst.skipSpaces=oUe;var aUe=$jt();function oUe(r){for(var e=r.pathValue,t=r.max;r.index<t&&(0,aUe.isSpace)(e.charCodeAt(r.index));)r.index+=1}});var Jjt=$(nst=>{"use strict";Object.defineProperty(nst,"__esModule",{value:!0});nst.isPathCommand=sUe;function sUe(r){switch(r|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}});var t4t=$(ast=>{"use strict";Object.defineProperty(ast,"__esModule",{value:!0});ast.isArcCommand=lUe;function lUe(r){return(r|32)==97}});var r4t=$(sst=>{"use strict";Object.defineProperty(sst,"__esModule",{value:!0});sst.scanSegment=pUe;var e4t=Zjt(),uUe=AW(),fUe=Kjt(),cUe=Qjt(),ost=ist(),hUe=Jjt(),dUe=Jot(),vUe=t4t();function pUe(r){var e=r.max,t=r.pathValue,i=r.index,n=t.charCodeAt(i),a=uUe.paramsCount[t[i].toLowerCase()];if(r.segmentStart=i,!(0,hUe.isPathCommand)(n)){r.err='[path-util]: Invalid path value "'.concat(t[i],'" is not a path command');return}if(r.index+=1,(0,ost.skipSpaces)(r),r.data=[],!a){(0,e4t.finalizeSegment)(r);return}for(;;){for(var o=a;o>0;o-=1){if((0,vUe.isArcCommand)(n)&&(o===3||o===4)?(0,fUe.scanFlag)(r):(0,cUe.scanParam)(r),r.err.length)return;r.data.push(r.param),(0,ost.skipSpaces)(r),r.index<e&&t.charCodeAt(r.index)===44&&(r.index+=1,(0,ost.skipSpaces)(r))}if(r.index>=r.max||!(0,dUe.isDigitStart)(t.charCodeAt(r.index)))break}(0,e4t.finalizeSegment)(r)}});var i4t=$(TW=>{"use strict";Object.defineProperty(TW,"__esModule",{value:!0});TW.PathParser=void 0;var gUe=function(){function r(e){this.pathValue=e,this.segments=[],this.max=e.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}return r}();TW.PathParser=gUe});var uN=$(lst=>{"use strict";Object.defineProperty(lst,"__esModule",{value:!0});lst.parsePathString=wUe;var mUe=qot(),yUe=r4t(),xUe=ist(),bUe=i4t();function wUe(r){if((0,mUe.isPathArray)(r))return[].concat(r);var e=new bUe.PathParser(r);for((0,xUe.skipSpaces)(e);e.index<e.max&&!e.err.length;)(0,yUe.scanSegment)(e);return e.err?e.err:e.segments}});var fst=$(ust=>{"use strict";Object.defineProperty(ust,"__esModule",{value:!0});ust.path2Absolute=CUe;var _Ue=Uot(),SUe=uN();function CUe(r){if((0,_Ue.isAbsoluteArray)(r))return[].concat(r);var e=(0,SUe.parsePathString)(r),t=0,i=0,n=0,a=0;return e.map(function(o){var s=o.slice(1).map(Number),l=o[0],u=l.toUpperCase();if(l==="M")return t=s[0],i=s[1],n=t,a=i,["M",t,i];var f;if(l!==u)switch(u){case"A":f=[u,s[0],s[1],s[2],s[3],s[4],s[5]+t,s[6]+i];break;case"V":f=[u,s[0]+i];break;case"H":f=[u,s[0]+t];break;default:{var c=s.map(function(d,v){return d+(v%2?i:t)});f=[u].concat(c)}}else f=[u].concat(s);var h=f.length;switch(u){case"Z":t=n,i=a;break;case"H":t=f[1];break;case"V":i=f[1];break;default:t=f[h-2],i=f[h-1],u==="M"&&(n=t,a=i)}return f})}});var n4t=$(cst=>{"use strict";Object.defineProperty(cst,"__esModule",{value:!0});cst.normalizeSegment=MUe;function MUe(r,e){var t=r[0],i=e.x1,n=e.y1,a=e.x2,o=e.y2,s=r.slice(1).map(Number),l=r;if("TQ".includes(t)||(e.qx=null,e.qy=null),t==="H")l=["L",r[1],n];else if(t==="V")l=["L",i,r[1]];else if(t==="S"){var u=i*2-a,f=n*2-o;e.x1=u,e.y1=f,l=["C",u,f].concat(s)}else if(t==="T"){var c=i*2-e.qx,h=n*2-e.qy;e.qx=c,e.qy=h,l=["Q",c,h].concat(s)}else if(t==="Q"){var d=s[0],v=s[1];e.qx=d,e.qy=v}return l}});var fN=$(hst=>{"use strict";Object.defineProperty(hst,"__esModule",{value:!0});hst.normalizePath=OUe;var AUe=Mr(),EUe=Zot(),TUe=Yot(),IUe=fst(),LUe=n4t();function OUe(r){if((0,EUe.isNormalizedArray)(r))return[].concat(r);for(var e=(0,IUe.path2Absolute)(r),t=AUe.__assign({},TUe.paramsParser),i=0;i<e.length;i+=1){e[i]=(0,LUe.normalizeSegment)(e[i],t);var n=e[i],a=n.length;t.x1=+n[a-2],t.y1=+n[a-1],t.x2=+n[a-4]||t.x1,t.y2=+n[a-3]||t.y1}return e}});var a4t=$(dst=>{"use strict";Object.defineProperty(dst,"__esModule",{value:!0});dst.isCurveArray=PUe;var kUe=Zot();function PUe(r){return(0,kUe.isNormalizedArray)(r)&&r.every(function(e){var t=e[0];return"MC".includes(t)})}});var o4t=$(vst=>{"use strict";Object.defineProperty(vst,"__esModule",{value:!0});vst.rotateVector=DUe;function DUe(r,e,t){var i=r*Math.cos(t)-e*Math.sin(t),n=r*Math.sin(t)+e*Math.cos(t);return{x:i,y:n}}});var gst=$(pst=>{"use strict";Object.defineProperty(pst,"__esModule",{value:!0});pst.arcToCubic=s4t;var IW=o4t();function s4t(r,e,t,i,n,a,o,s,l,u){var f=r,c=e,h=t,d=i,v=s,p=l,g=Math.PI*120/180,m=Math.PI/180*(+n||0),y=[],x,b,_,M,A;if(u)b=u[0],_=u[1],M=u[2],A=u[3];else{x=(0,IW.rotateVector)(f,c,-m),f=x.x,c=x.y,x=(0,IW.rotateVector)(v,p,-m),v=x.x,p=x.y;var I=(f-v)/2,k=(c-p)/2,E=I*I/(h*h)+k*k/(d*d);E>1&&(E=Math.sqrt(E),h*=E,d*=E);var O=h*h,P=d*d,N=(a===o?-1:1)*Math.sqrt(Math.abs((O*P-O*k*k-P*I*I)/(O*k*k+P*I*I)));M=N*h*k/d+(f+v)/2,A=N*-d*I/h+(c+p)/2,b=Math.asin(((c-A)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),_=Math.asin(((p-A)/d*Math.pow(10,9)>>0)/Math.pow(10,9)),b=f<M?Math.PI-b:b,_=v<M?Math.PI-_:_,b<0&&(b=Math.PI*2+b),_<0&&(_=Math.PI*2+_),o&&b>_&&(b-=Math.PI*2),!o&&_>b&&(_-=Math.PI*2)}var R=_-b;if(Math.abs(R)>g){var z=_,B=v,Y=p;_=b+g*(o&&_>b?1:-1),v=M+h*Math.cos(_),p=A+d*Math.sin(_),y=s4t(v,p,h,d,n,0,o,B,Y,[_,z,M,A])}R=_-b;var q=Math.cos(b),j=Math.sin(b),Z=Math.cos(_),tt=Math.sin(_),lt=Math.tan(R/4),J=4/3*h*lt,nt=4/3*d*lt,ut=[f,c],ft=[f+J*j,c-nt*q],pt=[v+J*tt,p-nt*Z],_t=[v,p];if(ft[0]=2*ut[0]-ft[0],ft[1]=2*ut[1]-ft[1],u)return ft.concat(pt,_t,y);y=ft.concat(pt,_t,y);for(var Et=[],Ot=0,oe=y.length;Ot<oe;Ot+=1)Et[Ot]=Ot%2?(0,IW.rotateVector)(y[Ot-1],y[Ot],m).y:(0,IW.rotateVector)(y[Ot],y[Ot+1],m).x;return Et}});var l4t=$(mst=>{"use strict";Object.defineProperty(mst,"__esModule",{value:!0});mst.quadToCubic=FUe;function FUe(r,e,t,i,n,a){var o=1/3,s=2/3;return[o*r+s*t,o*e+s*i,o*n+s*t,o*a+s*i,n,a]}});var LW=$(yst=>{"use strict";Object.defineProperty(yst,"__esModule",{value:!0});yst.midPoint=NUe;function NUe(r,e,t){var i=r[0],n=r[1],a=e[0],o=e[1];return[i+(a-i)*t,n+(o-n)*t]}});var f4t=$(OW=>{"use strict";Object.defineProperty(OW,"__esModule",{value:!0});OW.lineToCubic=void 0;var u4t=Mr(),BUe=LW(),RUe=function(r,e,t,i){var n=.5,a=(0,BUe.midPoint)([r,e],[t,i],n);return u4t.__spreadArray(u4t.__spreadArray([],a,!0),[t,i,t,i],!1)};OW.lineToCubic=RUe});var h4t=$(xst=>{"use strict";Object.defineProperty(xst,"__esModule",{value:!0});xst.segmentToCubic=jUe;var GUe=gst(),zUe=l4t(),c4t=f4t();function jUe(r,e){var t=r[0],i=r.slice(1).map(Number),n=i[0],a=i[1],o,s=e.x1,l=e.y1,u=e.x,f=e.y;switch("TQ".includes(t)||(e.qx=null,e.qy=null),t){case"M":return e.x=n,e.y=a,r;case"A":return o=[s,l].concat(i),["C"].concat((0,GUe.arcToCubic)(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9]));case"Q":return e.qx=n,e.qy=a,o=[s,l].concat(i),["C"].concat((0,zUe.quadToCubic)(o[0],o[1],o[2],o[3],o[4],o[5]));case"L":return["C"].concat((0,c4t.lineToCubic)(s,l,n,a));case"Z":return s===u&&l===f?["C",s,l,u,f,u,f]:["C"].concat((0,c4t.lineToCubic)(s,l,u,f));default:}return r}});var wst=$(bst=>{"use strict";Object.defineProperty(bst,"__esModule",{value:!0});bst.path2Curve=XUe;var YUe=Mr(),WUe=Yot(),VUe=Xjt(),qUe=fN(),HUe=a4t(),UUe=h4t();function XUe(r,e){if(e===void 0&&(e=!1),(0,HUe.isCurveArray)(r)){var t=[].concat(r);return e?[t,[]]:t}for(var i=(0,qUe.normalizePath)(r),n=YUe.__assign({},WUe.paramsParser),a=[],o="",s=i.length,l,u,f=[],c=0;c<s;c+=1){i[c]&&(o=i[c][0]),a[c]=o;var h=(0,UUe.segmentToCubic)(i[c],n);i[c]=h,(0,VUe.fixArc)(i,a,c),s=i.length,o==="Z"&&f.push(c),l=i[c],u=l.length,n.x1=+l[u-2],n.y1=+l[u-1],n.x2=+l[u-4]||n.x1,n.y2=+l[u-3]||n.y1}return e?[i,f]:i}});var d4t=$(_st=>{"use strict";Object.defineProperty(_st,"__esModule",{value:!0});_st.path2Array=KUe;var ZUe=uN();function KUe(r){return(0,ZUe.parsePathString)(r)}});var v4t=$(Sst=>{"use strict";Object.defineProperty(Sst,"__esModule",{value:!0});Sst.clonePath=QUe;function QUe(r){return r.map(function(e){return Array.isArray(e)?[].concat(e):e})}});var p4t=$(Cst=>{"use strict";Object.defineProperty(Cst,"__esModule",{value:!0});Cst.reverseCurve=$Ue;function $Ue(r){var e=r.slice(1).map(function(t,i,n){return i?n[i-1].slice(-2).concat(t.slice(1)):r[0].slice(1).concat(t.slice(1))}).map(function(t){return t.map(function(i,n){return t[t.length-n-2*(1-n%2)]})}).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(function(t){return["C"].concat(t.slice(2))}))}});var mM=$(Mst=>{"use strict";Object.defineProperty(Mst,"__esModule",{value:!0});Mst.distanceSquareRoot=JUe;function JUe(r,e){return Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1]))}});var Est=$(Ast=>{"use strict";Object.defineProperty(Ast,"__esModule",{value:!0});Ast.segmentLineFactory=rXe;var tXe=LW(),eXe=mM();function rXe(r,e,t,i,n){var a=(0,eXe.distanceSquareRoot)([r,e],[t,i]),o={x:0,y:0};if(typeof n=="number")if(n<=0)o={x:r,y:e};else if(n>=a)o={x:t,y:i};else{var s=(0,tXe.midPoint)([r,e],[t,i],n/a),l=s[0],u=s[1];o={x:l,y:u}}return{length:a,point:o,min:{x:Math.min(r,t),y:Math.min(e,i)},max:{x:Math.max(r,t),y:Math.max(e,i)}}}});var m4t=$(Tst=>{"use strict";Object.defineProperty(Tst,"__esModule",{value:!0});Tst.segmentArcFactory=oXe;var iXe=Est(),nXe=mM();function g4t(r,e){var t=r.x,i=r.y,n=e.x,a=e.y,o=t*n+i*a,s=Math.sqrt((Math.pow(t,2)+Math.pow(i,2))*(Math.pow(n,2)+Math.pow(a,2))),l=t*a-i*n<0?-1:1,u=l*Math.acos(o/s);return u}function aXe(r,e,t,i,n,a,o,s,l,u){var f=Math.abs,c=Math.sin,h=Math.cos,d=Math.sqrt,v=Math.PI,p=f(t),g=f(i),m=(n%360+360)%360,y=m*(v/180);if(r===s&&e===l)return{x:r,y:e};if(p===0||g===0)return(0,iXe.segmentLineFactory)(r,e,s,l,u).point;var x=(r-s)/2,b=(e-l)/2,_={x:h(y)*x+c(y)*b,y:-c(y)*x+h(y)*b},M=Math.pow(_.x,2)/Math.pow(p,2)+Math.pow(_.y,2)/Math.pow(g,2);M>1&&(p*=d(M),g*=d(M));var A=Math.pow(p,2)*Math.pow(g,2)-Math.pow(p,2)*Math.pow(_.y,2)-Math.pow(g,2)*Math.pow(_.x,2),I=Math.pow(p,2)*Math.pow(_.y,2)+Math.pow(g,2)*Math.pow(_.x,2),k=A/I;k=k<0?0:k;var E=(a!==o?1:-1)*d(k),O={x:E*(p*_.y/g),y:E*(-(g*_.x)/p)},P={x:h(y)*O.x-c(y)*O.y+(r+s)/2,y:c(y)*O.x+h(y)*O.y+(e+l)/2},N={x:(_.x-O.x)/p,y:(_.y-O.y)/g},R=g4t({x:1,y:0},N),z={x:(-_.x-O.x)/p,y:(-_.y-O.y)/g},B=g4t(N,z);!o&&B>0?B-=2*v:o&&B<0&&(B+=2*v),B%=2*v;var Y=R+B*u,q=p*h(Y),j=g*c(Y),Z={x:h(y)*q-c(y)*j+P.x,y:c(y)*q+h(y)*j+P.y};return Z}function oXe(r,e,t,i,n,a,o,s,l,u,f){var c,h=f.bbox,d=h===void 0?!0:h,v=f.length,p=v===void 0?!0:v,g=f.sampleSize,m=g===void 0?30:g,y=typeof u=="number",x=r,b=e,_=0,M=[x,b,_],A=[x,b],I=0,k={x:0,y:0},E=[{x,y:b}];y&&u<=0&&(k={x,y:b});for(var O=0;O<=m;O+=1){if(I=O/m,c=aXe(r,e,t,i,n,a,o,s,l,I),x=c.x,b=c.y,d&&E.push({x,y:b}),p&&(_+=(0,nXe.distanceSquareRoot)(A,[x,b])),A=[x,b],y&&_>=u&&u>M[2]){var P=(_-u)/(_-M[2]);k={x:A[0]*(1-P)+M[0]*P,y:A[1]*(1-P)+M[1]*P}}M=[x,b,_]}return y&&u>=_&&(k={x:s,y:l}),{length:_,point:k,min:{x:Math.min.apply(null,E.map(function(N){return N.x})),y:Math.min.apply(null,E.map(function(N){return N.y}))},max:{x:Math.max.apply(null,E.map(function(N){return N.x})),y:Math.max.apply(null,E.map(function(N){return N.y}))}}}});var Lst=$(Ist=>{"use strict";Object.defineProperty(Ist,"__esModule",{value:!0});Ist.segmentCubicFactory=uXe;var sXe=mM();function lXe(r,e,t,i,n,a,o,s,l){var u=1-l;return{x:Math.pow(u,3)*r+3*Math.pow(u,2)*l*t+3*u*Math.pow(l,2)*n+Math.pow(l,3)*o,y:Math.pow(u,3)*e+3*Math.pow(u,2)*l*i+3*u*Math.pow(l,2)*a+Math.pow(l,3)*s}}function uXe(r,e,t,i,n,a,o,s,l,u){var f,c=u.bbox,h=c===void 0?!0:c,d=u.length,v=d===void 0?!0:d,p=u.sampleSize,g=p===void 0?10:p,m=typeof l=="number",y=r,x=e,b=0,_=[y,x,b],M=[y,x],A=0,I={x:0,y:0},k=[{x:y,y:x}];m&&l<=0&&(I={x:y,y:x});for(var E=0;E<=g;E+=1){if(A=E/g,f=lXe(r,e,t,i,n,a,o,s,A),y=f.x,x=f.y,h&&k.push({x:y,y:x}),v&&(b+=(0,sXe.distanceSquareRoot)(M,[y,x])),M=[y,x],m&&b>=l&&l>_[2]){var O=(b-l)/(b-_[2]);I={x:M[0]*(1-O)+_[0]*O,y:M[1]*(1-O)+_[1]*O}}_=[y,x,b]}return m&&l>=b&&(I={x:o,y:s}),{length:b,point:I,min:{x:Math.min.apply(null,k.map(function(P){return P.x})),y:Math.min.apply(null,k.map(function(P){return P.y}))},max:{x:Math.max.apply(null,k.map(function(P){return P.x})),y:Math.max.apply(null,k.map(function(P){return P.y}))}}}});var y4t=$(Ost=>{"use strict";Object.defineProperty(Ost,"__esModule",{value:!0});Ost.segmentQuadFactory=hXe;var fXe=mM();function cXe(r,e,t,i,n,a,o){var s=1-o;return{x:Math.pow(s,2)*r+2*s*o*t+Math.pow(o,2)*n,y:Math.pow(s,2)*e+2*s*o*i+Math.pow(o,2)*a}}function hXe(r,e,t,i,n,a,o,s){var l,u=s.bbox,f=u===void 0?!0:u,c=s.length,h=c===void 0?!0:c,d=s.sampleSize,v=d===void 0?10:d,p=typeof o=="number",g=r,m=e,y=0,x=[g,m,y],b=[g,m],_=0,M={x:0,y:0},A=[{x:g,y:m}];p&&o<=0&&(M={x:g,y:m});for(var I=0;I<=v;I+=1){if(_=I/v,l=cXe(r,e,t,i,n,a,_),g=l.x,m=l.y,f&&A.push({x:g,y:m}),h&&(y+=(0,fXe.distanceSquareRoot)(b,[g,m])),b=[g,m],p&&y>=o&&o>x[2]){var k=(y-o)/(y-x[2]);M={x:b[0]*(1-k)+x[0]*k,y:b[1]*(1-k)+x[1]*k}}x=[g,m,y]}return p&&o>=y&&(M={x:n,y:a}),{length:y,point:M,min:{x:Math.min.apply(null,A.map(function(E){return E.x})),y:Math.min.apply(null,A.map(function(E){return E.y}))},max:{x:Math.max.apply(null,A.map(function(E){return E.x})),y:Math.max.apply(null,A.map(function(E){return E.y}))}}}});var cN=$(kst=>{"use strict";Object.defineProperty(kst,"__esModule",{value:!0});kst.pathLengthFactory=mXe;var dXe=fN(),x4t=Est(),vXe=m4t(),pXe=Lst(),gXe=y4t();function mXe(r,e,t){for(var i,n,a,o,s,l,u=(0,dXe.normalizePath)(r),f=typeof e=="number",c,h=[],d,v=0,p=0,g=0,m=0,y,x=[],b=[],_=0,M={x:0,y:0},A=M,I=M,k=M,E=0,O=0,P=u.length;O<P;O+=1)y=u[O],d=y[0],c=d==="M",h=c?h:[v,p].concat(y.slice(1)),c?(g=y[1],m=y[2],M={x:g,y:m},A=M,_=0,f&&e<.001&&(k=M)):d==="L"?(i=(0,x4t.segmentLineFactory)(h[0],h[1],h[2],h[3],(e||0)-E),_=i.length,M=i.min,A=i.max,I=i.point):d==="A"?(n=(0,vXe.segmentArcFactory)(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],h[8],(e||0)-E,t||{}),_=n.length,M=n.min,A=n.max,I=n.point):d==="C"?(a=(0,pXe.segmentCubicFactory)(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],(e||0)-E,t||{}),_=a.length,M=a.min,A=a.max,I=a.point):d==="Q"?(o=(0,gXe.segmentQuadFactory)(h[0],h[1],h[2],h[3],h[4],h[5],(e||0)-E,t||{}),_=o.length,M=o.min,A=o.max,I=o.point):d==="Z"&&(h=[v,p,g,m],s=(0,x4t.segmentLineFactory)(h[0],h[1],h[2],h[3],(e||0)-E),_=s.length,M=s.min,A=s.max,I=s.point),f&&E<e&&E+_>=e&&(k=I),b.push(A),x.push(M),E+=_,l=d!=="Z"?y.slice(-2):[g,m],v=l[0],p=l[1];return f&&e>=E&&(k={x:v,y:p}),{length:E,point:k,min:{x:Math.min.apply(null,x.map(function(N){return N.x})),y:Math.min.apply(null,x.map(function(N){return N.y}))},max:{x:Math.max.apply(null,b.map(function(N){return N.x})),y:Math.max.apply(null,b.map(function(N){return N.y}))}}}});var w4t=$(Pst=>{"use strict";Object.defineProperty(Pst,"__esModule",{value:!0});Pst.getPathBBox=xXe;var b4t=Mr(),yXe=cN();function xXe(r,e){if(!r)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var t=(0,yXe.pathLengthFactory)(r,void 0,b4t.__assign(b4t.__assign({},e),{length:!1})),i=t.min,n=i.x,a=i.y,o=t.max,s=o.x,l=o.y,u=s-n,f=l-a;return{width:u,height:f,x:n,y:a,x2:s,y2:l,cx:n+u/2,cy:a+f/2,cz:Math.max(u,f)+Math.min(u,f)/2}}});var kW=$(Dst=>{"use strict";Object.defineProperty(Dst,"__esModule",{value:!0});Dst.getTotalLength=wXe;var _4t=Mr(),bXe=cN();function wXe(r,e){return(0,bXe.pathLengthFactory)(r,void 0,_4t.__assign(_4t.__assign({},e),{bbox:!1,length:!0})).length}});var C4t=$(Fst=>{"use strict";Object.defineProperty(Fst,"__esModule",{value:!0});Fst.getPathBBoxTotalLength=SXe;var S4t=Mr(),_Xe=cN();function SXe(r,e){if(!r)return{length:0,x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};var t=(0,_Xe.pathLengthFactory)(r,void 0,S4t.__assign(S4t.__assign({},e),{bbox:!0,length:!0})),i=t.length,n=t.min,a=n.x,o=n.y,s=t.max,l=s.x,u=s.y,f=l-a,c=u-o;return{length:i,width:f,height:c,x:a,y:o,x2:l,y2:u,cx:a+f/2,cy:o+c/2,cz:Math.max(f,c)+Math.min(f,c)/2}}});var M4t=$(Nst=>{"use strict";Object.defineProperty(Nst,"__esModule",{value:!0});Nst.getRotatedCurve=AXe;var CXe=mM();function MXe(r){var e=r.length,t=e-1;return r.map(function(i,n){return r.map(function(a,o){var s=n+o,l;return o===0||r[s]&&r[s][0]==="M"?(l=r[s],["M"].concat(l.slice(-2))):(s>=e&&(s-=t),r[s])})})}function AXe(r,e){var t=r.length-1,i=[],n=0,a=0,o=MXe(r);return o.forEach(function(s,l){r.slice(1).forEach(function(u,f){a+=(0,CXe.distanceSquareRoot)(r[(l+f)%t].slice(-2),e[f%t].slice(-2))}),i[l]=a,a=0}),n=i.indexOf(Math.min.apply(null,i)),o[n]}});var Rst=$(Bst=>{"use strict";Object.defineProperty(Bst,"__esModule",{value:!0});Bst.getPathArea=IXe;var EXe=wst();function TXe(r,e,t,i,n,a,o,s){return 3*((s-e)*(t+n)-(o-r)*(i+a)+i*(r-n)-t*(e-a)+s*(n+r/3)-o*(a+e/3))/20}function IXe(r){var e=0,t=0,i=0;return(0,EXe.path2Curve)(r).map(function(n){var a;switch(n[0]){case"M":return e=n[1],t=n[2],0;default:var o=n.slice(1),s=o[0],l=o[1],u=o[2],f=o[3],c=o[4],h=o[5];return i=TXe(e,t,s,l,u,f,c,h),a=n.slice(-2),e=a[0],t=a[1],i}}).reduce(function(n,a){return n+a},0)}});var A4t=$(Gst=>{"use strict";Object.defineProperty(Gst,"__esModule",{value:!0});Gst.getDrawDirection=OXe;var LXe=Rst();function OXe(r){return(0,LXe.getPathArea)(r)>=0}});var jst=$(zst=>{"use strict";Object.defineProperty(zst,"__esModule",{value:!0});zst.getPointAtLength=PXe;var E4t=Mr(),kXe=cN();function PXe(r,e,t){return(0,kXe.pathLengthFactory)(r,e,E4t.__assign(E4t.__assign({},t),{bbox:!1,length:!0})).point}});var T4t=$(Wst=>{"use strict";Object.defineProperty(Wst,"__esModule",{value:!0});Wst.getPropertiesAtLength=FXe;var DXe=uN(),Yst=kW();function FXe(r,e){var t=(0,DXe.parsePathString)(r);if(typeof t=="string")throw TypeError(t);var i=t.slice(),n=(0,Yst.getTotalLength)(i),a=i.length-1,o=0,s=0,l=t[0],u=l.slice(-2),f=u[0],c=u[1],h={x:f,y:c};if(a<=0||!e||!Number.isFinite(e))return{segment:l,index:0,length:s,point:h,lengthAtSegment:o};if(e>=n)return i=t.slice(0,-1),o=(0,Yst.getTotalLength)(i),s=n-o,{segment:t[a],index:a,length:s,lengthAtSegment:o};for(var d=[];a>0;)l=i[a],i=i.slice(0,-1),o=(0,Yst.getTotalLength)(i),s=n-o,n=o,d.push({segment:l,index:a,length:s,lengthAtSegment:o}),a-=1;return d.find(function(v){var p=v.lengthAtSegment;return p<=e})}});var I4t=$(qst=>{"use strict";Object.defineProperty(qst,"__esModule",{value:!0});qst.getPropertiesAtPoint=zXe;var NXe=uN(),BXe=fN(),Vst=jst(),RXe=T4t(),GXe=kW();function zXe(r,e){for(var t=(0,NXe.parsePathString)(r),i=(0,BXe.normalizePath)(t),n=(0,GXe.getTotalLength)(t),a=function(_){var M=_.x-e.x,A=_.y-e.y;return M*M+A*A},o=8,s,l=0,u,f=0,c=1/0,h=0;h<=n;h+=o)s=(0,Vst.getPointAtLength)(i,h),l=a(s),l<c&&(u=s,f=h,c=l);o/=2;for(var d,v,p=0,g=0,m=0,y=0;o>.5;)p=f-o,d=(0,Vst.getPointAtLength)(i,p),m=a(d),g=f+o,v=(0,Vst.getPointAtLength)(i,g),y=a(v),p>=0&&m<c?(u=d,f=p,c=m):g<=n&&y<c?(u=v,f=g,c=y):o/=2;var x=(0,RXe.getPropertiesAtLength)(t,f),b=Math.sqrt(c);return{closest:u,distance:b,segment:x}}});var L4t=$(Hst=>{"use strict";Object.defineProperty(Hst,"__esModule",{value:!0});Hst.isPointInStroke=YXe;var jXe=I4t();function YXe(r,e){var t=(0,jXe.getPropertiesAtPoint)(r,e).distance;return Math.abs(t)<.001}});var P4t=$(Ust=>{"use strict";Object.defineProperty(Ust,"__esModule",{value:!0});Ust.equalizeSegments=k4t;var OI=LW(),WXe=Lst(),VXe=50;function qXe(r,e){e===void 0&&(e=.5);var t=r.slice(0,2),i=r.slice(2,4),n=r.slice(4,6),a=r.slice(6,8),o=(0,OI.midPoint)(t,i,e),s=(0,OI.midPoint)(i,n,e),l=(0,OI.midPoint)(n,a,e),u=(0,OI.midPoint)(o,s,e),f=(0,OI.midPoint)(s,l,e),c=(0,OI.midPoint)(u,f,e);return[["C"].concat(o,u,c),["C"].concat(f,l,a)]}function O4t(r){return r.map(function(e,t,i){var n=t&&i[t-1].slice(-2).concat(e.slice(1)),a=t?(0,WXe.segmentCubicFactory)(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],{bbox:!1}).length:0,o;return t?o=a?qXe(n):[e,e]:o=[e],{s:e,ss:o,l:a}})}function k4t(r,e,t,i){if(i===void 0&&(i=0),i>VXe)return console.warn("Maximum recursion depth reached in equalizeSegments"),[r,e];var n=O4t(r),a=O4t(e),o=n.length,s=a.length,l=n.filter(function(m){return m.l}).length,u=a.filter(function(m){return m.l}).length,f=n.filter(function(m){return m.l}).reduce(function(m,y){var x=y.l;return m+x},0)/l||0,c=a.filter(function(m){return m.l}).reduce(function(m,y){var x=y.l;return m+x},0)/u||0,h=t||Math.max(o,s),d=[f,c],v=[h-o,h-s],p=0,g=[n,a].map(function(m,y){return m.l===h?m.map(function(x){return x.s}):m.map(function(x,b){return p=b&&v[y]&&x.l>=d[y],v[y]-=p?1:0,p?x.ss:[x.s]}).flat()});return g[0].length===g[1].length?g:k4t(g[0],g[1],h,i+1)}});var F4t=$(D4t=>{"use strict";Object.defineProperty(D4t,"__esModule",{value:!0})});var N4t=$(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.equalizeSegments=gn.distanceSquareRoot=gn.isPointInStroke=gn.getPointAtLength=gn.getDrawDirection=gn.getPathArea=gn.getRotatedCurve=gn.getPathBBoxTotalLength=gn.getTotalLength=gn.getPathBBox=gn.arcToCubic=gn.reverseCurve=gn.normalizePath=gn.clonePath=gn.path2Array=gn.path2Absolute=gn.path2Curve=gn.path2String=void 0;var HXe=Mr(),UXe=Ujt();Object.defineProperty(gn,"path2String",{enumerable:!0,get:function(){return UXe.path2String}});var XXe=wst();Object.defineProperty(gn,"path2Curve",{enumerable:!0,get:function(){return XXe.path2Curve}});var ZXe=fst();Object.defineProperty(gn,"path2Absolute",{enumerable:!0,get:function(){return ZXe.path2Absolute}});var KXe=d4t();Object.defineProperty(gn,"path2Array",{enumerable:!0,get:function(){return KXe.path2Array}});var QXe=v4t();Object.defineProperty(gn,"clonePath",{enumerable:!0,get:function(){return QXe.clonePath}});var $Xe=fN();Object.defineProperty(gn,"normalizePath",{enumerable:!0,get:function(){return $Xe.normalizePath}});var JXe=p4t();Object.defineProperty(gn,"reverseCurve",{enumerable:!0,get:function(){return JXe.reverseCurve}});var t9e=gst();Object.defineProperty(gn,"arcToCubic",{enumerable:!0,get:function(){return t9e.arcToCubic}});var e9e=w4t();Object.defineProperty(gn,"getPathBBox",{enumerable:!0,get:function(){return e9e.getPathBBox}});var r9e=kW();Object.defineProperty(gn,"getTotalLength",{enumerable:!0,get:function(){return r9e.getTotalLength}});var i9e=C4t();Object.defineProperty(gn,"getPathBBoxTotalLength",{enumerable:!0,get:function(){return i9e.getPathBBoxTotalLength}});var n9e=M4t();Object.defineProperty(gn,"getRotatedCurve",{enumerable:!0,get:function(){return n9e.getRotatedCurve}});var a9e=Rst();Object.defineProperty(gn,"getPathArea",{enumerable:!0,get:function(){return a9e.getPathArea}});var o9e=A4t();Object.defineProperty(gn,"getDrawDirection",{enumerable:!0,get:function(){return o9e.getDrawDirection}});var s9e=jst();Object.defineProperty(gn,"getPointAtLength",{enumerable:!0,get:function(){return s9e.getPointAtLength}});var l9e=L4t();Object.defineProperty(gn,"isPointInStroke",{enumerable:!0,get:function(){return l9e.isPointInStroke}});var u9e=mM();Object.defineProperty(gn,"distanceSquareRoot",{enumerable:!0,get:function(){return u9e.distanceSquareRoot}});var f9e=P4t();Object.defineProperty(gn,"equalizeSegments",{enumerable:!0,get:function(){return f9e.equalizeSegments}});HXe.__exportStar(F4t(),gn)});var Kst=$(Zst=>{"use strict";Object.defineProperty(Zst,"__esModule",{value:!0});Zst.isPointInPolygon=d9e;var c9e=1e-6;function Xst(r){return Math.abs(r)<c9e?0:r<0?-1:1}function h9e(r,e,t){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function d9e(r,e,t){var i=!1,n=r.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=r[a],s=r[(a+1)%n];if(h9e(o,s,[e,t]))return!0;Xst(o[1]-t)>0!=Xst(s[1]-t)>0&&Xst(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(i=!i)}return i}});var j4t=$(Qst=>{"use strict";Object.defineProperty(Qst,"__esModule",{value:!0});Qst.isPolygonsIntersect=m9e;var B4t=Kst(),R4t=function(r,e,t){return r>=e&&r<=t};function v9e(r,e,t,i){var n=.001,a={x:t.x-r.x,y:t.y-r.y},o={x:e.x-r.x,y:e.y-r.y},s={x:i.x-t.x,y:i.y-t.y},l=o.x*s.y-o.y*s.x,u=l*l,f=o.x*o.x+o.y*o.y,c=s.x*s.x+s.y*s.y,h=null;if(u>n*f*c){var d=(a.x*s.y-a.y*s.x)/l,v=(a.x*o.y-a.y*o.x)/l;R4t(d,0,1)&&R4t(v,0,1)&&(h={x:r.x+d*o.x,y:r.y+d*o.y})}return h}function G4t(r){for(var e=[],t=r.length,i=0;i<t-1;i++){var n=r[i],a=r[i+1];e.push({from:{x:n[0],y:n[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=r[0],s=r[t-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function p9e(r,e){var t=!1;return r.forEach(function(i){if(v9e(i.from,i.to,e.from,e.to))return t=!0,!1}),t}function z4t(r){var e=r.map(function(i){return i[0]}),t=r.map(function(i){return i[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function g9e(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function m9e(r,e){if(r.length<2||e.length<2)return!1;var t=z4t(r),i=z4t(e);if(!g9e(t,i))return!1;var n=!1;if(e.forEach(function(l){if((0,B4t.isPointInPolygon)(r,l[0],l[1]))return n=!0,!1}),n||(r.forEach(function(l){if((0,B4t.isPointInPolygon)(e,l[0],l[1]))return n=!0,!1}),n))return!0;var a=G4t(r),o=G4t(e),s=!1;return o.forEach(function(l){if(p9e(a,l))return s=!0,!1}),s}});var Y4t=$(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0});kI.isPolygonsIntersect=kI.isPointInPolygon=void 0;var y9e=Kst();Object.defineProperty(kI,"isPointInPolygon",{enumerable:!0,get:function(){return y9e.isPointInPolygon}});var x9e=j4t();Object.defineProperty(kI,"isPolygonsIntersect",{enumerable:!0,get:function(){return x9e.isPolygonsIntersect}})});var W4t=$($st=>{"use strict";Object.defineProperty($st,"__esModule",{value:!0});$st.createDOM=b9e;function b9e(r){var e=document.createElement("div");e.innerHTML=r;var t=e.childNodes[0];return t&&e.contains(t)&&e.removeChild(t),t}});var V4t=$(Jst=>{"use strict";Object.defineProperty(Jst,"__esModule",{value:!0});Jst.modifyCSS=w9e;function w9e(r,e){if(!!r)return Object.keys(e).forEach(function(t){r.style[t]=e[t]}),r}});var q4t=$(PI=>{"use strict";Object.defineProperty(PI,"__esModule",{value:!0});PI.modifyCSS=PI.createDOM=void 0;var _9e=W4t();Object.defineProperty(PI,"createDOM",{enumerable:!0,get:function(){return _9e.createDOM}});var S9e=V4t();Object.defineProperty(PI,"modifyCSS",{enumerable:!0,get:function(){return S9e.modifyCSS}})});var tlt=$(Qw=>{"use strict";Object.defineProperty(Qw,"__esModule",{value:!0});var DI=Mr();DI.__exportStar(jjt(),Qw);DI.__exportStar(qjt(),Qw);DI.__exportStar(N4t(),Qw);DI.__exportStar(Lot(),Qw);DI.__exportStar(Y4t(),Qw);DI.__exportStar(q4t(),Qw)});var H4t=$(elt=>{"use strict";Object.defineProperty(elt,"__esModule",{value:!0});var C9e=tlt(),M9e=function(r){for(var e={},t=r.nodes().filter(function(c){var h;return!((h=r.children(c))===null||h===void 0?void 0:h.length)}),i=t.map(function(c){return r.node(c).rank}),n=(0,C9e.max)(i),a=[],o=0;o<n+1;o++)a.push([]);var s=function(c){var h;if(!e.hasOwnProperty(c)){e[c]=!0;var d=r.node(c);isNaN(d.rank)||a[d.rank].push(c),(h=r.successors(c))===null||h===void 0||h.forEach(function(v){return s(v)})}},l=t.sort(function(c,h){return r.node(c).rank-r.node(h).rank}),u=l.filter(function(c){return r.node(c).fixorder!==void 0}),f=u.sort(function(c,h){return r.node(c).fixorder-r.node(h).fixorder});return f==null||f.forEach(function(c){isNaN(r.node(c).rank)||a[r.node(c).rank].push(c),e[c]=!0}),l==null||l.forEach(s),a};elt.default=M9e});var U4t=$(rlt=>{"use strict";Object.defineProperty(rlt,"__esModule",{value:!0});var A9e=vh(),E9e=function(r,e,t){for(var i=(0,A9e.zipObject)(t,t.map(function(f,c){return c})),n=e.map(function(f){var c,h=(c=r.outEdges(f))===null||c===void 0?void 0:c.map(function(d){return{pos:i[d.w]||0,weight:r.edge(d).weight}});return h==null?void 0:h.sort(function(d,v){return d.pos-v.pos})}),a=n.flat().filter(function(f){return f!==void 0}),o=1;o<t.length;)o<<=1;var s=2*o-1;o-=1;var l=Array(s).fill(0,0,s),u=0;return a==null||a.forEach(function(f){if(f){var c=f.pos+o;l[c]+=f.weight;for(var h=0;c>0;)c%2&&(h+=l[c+1]),c=c-1>>1,l[c]+=f.weight;u+=f.weight*h}}),u},T9e=function(r,e){for(var t=0,i=1;i<(e==null?void 0:e.length);i+=1)t+=E9e(r,e[i-1],e[i]);return t};rlt.default=T9e});var X4t=$(ilt=>{"use strict";Object.defineProperty(ilt,"__esModule",{value:!0});var I9e=cM(),L9e=function(r,e,t){var i=O9e(r),n=new I9e.Graph({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(a){return r.node(a)});return r.nodes().forEach(function(a){var o,s=r.node(a),l=r.parent(a);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(n.setNode(a),n.setParent(a,l||i),(o=r[t](a))===null||o===void 0||o.forEach(function(u){var f=u.v===a?u.w:u.v,c=n.edgeFromArgs(f,a),h=c!==void 0?c.weight:0;n.setEdge(f,a,{weight:r.edge(u).weight+h})}),s.hasOwnProperty("minRank")&&n.setNode(a,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),n},O9e=function(r){for(var e;r.hasNode(e="_root".concat(Math.random())););return e};ilt.default=L9e});var Z4t=$(nlt=>{"use strict";Object.defineProperty(nlt,"__esModule",{value:!0});var k9e=function(r,e,t){var i={},n;t==null||t.forEach(function(a){for(var o=r.parent(a),s,l;o;){if(s=r.parent(o),s?(l=i[s],i[s]=o):(l=n,n=o),l&&l!==o){e.setEdge(l,o);return}o=s}})};nlt.default=k9e});var K4t=$(alt=>{"use strict";Object.defineProperty(alt,"__esModule",{value:!0});var P9e=function(r,e){return e.map(function(t){var i=r.inEdges(t);if(!(i==null?void 0:i.length))return{v:t};{var n={sum:0,weight:0};return i==null||i.forEach(function(a){var o=r.edge(a),s=r.node(a.v);n.sum+=o.weight*s.order,n.weight+=o.weight}),{v:t,barycenter:n.sum/n.weight,weight:n.weight}}})};alt.default=P9e});var Q4t=$(olt=>{"use strict";Object.defineProperty(olt,"__esModule",{value:!0});var D9e=function(r,e){var t,i,n,a={};r==null||r.forEach(function(s,l){a[s.v]={i:l,indegree:0,in:[],out:[],vs:[s.v]};var u=a[s.v];s.barycenter!==void 0&&(u.barycenter=s.barycenter,u.weight=s.weight)}),(t=e.edges())===null||t===void 0||t.forEach(function(s){var l=a[s.v],u=a[s.w];l!==void 0&&u!==void 0&&(u.indegree++,l.out.push(a[s.w]))});var o=(n=(i=Object.values(a)).filter)===null||n===void 0?void 0:n.call(i,function(s){return!s.indegree});return F9e(o)},F9e=function(r){for(var e,t,i=[],n=function(u){return function(f){f.merged||(f.barycenter===void 0||u.barycenter===void 0||f.barycenter>=u.barycenter)&&N9e(u,f)}},a=function(u){return function(f){f.in.push(u),--f.indegree==0&&r.push(f)}},o=function(){var u=r.pop();i.push(u),(e=u.in.reverse())===null||e===void 0||e.forEach(function(f){return n(u)(f)}),(t=u.out)===null||t===void 0||t.forEach(function(f){return a(u)(f)})};r==null?void 0:r.length;)o();var s=i.filter(function(u){return!u.merged}),l=["vs","i","barycenter","weight"];return s.map(function(u){var f={};return l==null||l.forEach(function(c){u[c]!==void 0&&(f[c]=u[c])}),f})},N9e=function(r,e){var t,i=0,n=0;r.weight&&(i+=r.barycenter*r.weight,n+=r.weight),e.weight&&(i+=e.barycenter*e.weight,n+=e.weight),r.vs=(t=e.vs)===null||t===void 0?void 0:t.concat(r.vs),r.barycenter=i/n,r.weight=n,r.i=Math.min(e.i,r.i),e.merged=!0};olt.default=D9e});var J4t=$(slt=>{"use strict";Object.defineProperty(slt,"__esModule",{value:!0});var B9e=vh(),R9e=function(r,e,t,i){var n=(0,B9e.partition)(r,function(h){var d=h.hasOwnProperty("fixorder")&&!isNaN(h.fixorder);return i?!d&&h.hasOwnProperty("barycenter"):d||h.hasOwnProperty("barycenter")}),a=n.lhs,o=n.rhs.sort(function(h,d){return-h.i- -d.i}),s=[],l=0,u=0,f=0;a==null||a.sort(G9e(!!e,!!t)),f=$4t(s,o,f),a==null||a.forEach(function(h){var d;f+=(d=h.vs)===null||d===void 0?void 0:d.length,s.push(h.vs),l+=h.barycenter*h.weight,u+=h.weight,f=$4t(s,o,f)});var c={vs:s.flat()};return u&&(c.barycenter=l/u,c.weight=u),c},$4t=function(r,e,t){for(var i=t,n;e.length&&(n=e[e.length-1]).i<=i;)e.pop(),r==null||r.push(n.vs),i++;return i},G9e=function(r,e){return function(t,i){if(t.fixorder!==void 0&&i.fixorder!==void 0)return t.fixorder-i.fixorder;if(t.barycenter<i.barycenter)return-1;if(t.barycenter>i.barycenter)return 1;if(e&&t.order!==void 0&&i.order!==void 0){if(t.order<i.order)return-1;if(t.order>i.order)return 1}return r?i.i-t.i:t.i-i.i}};slt.default=R9e});var e6t=$(hN=>{"use strict";var llt=hN&&hN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hN,"__esModule",{value:!0});var z9e=llt(K4t()),j9e=llt(Q4t()),Y9e=llt(J4t()),t6t=function(r,e,t,i,n,a){var o,s,l,u,f=r.children(e),c=r.node(e),h=c?c.borderLeft:void 0,d=c?c.borderRight:void 0,v={};h&&(f=f==null?void 0:f.filter(function(b){return b!==h&&b!==d}));var p=(0,z9e.default)(r,f||[]);p==null||p.forEach(function(b){var _;if((_=r.children(b.v))===null||_===void 0?void 0:_.length){var M=t6t(r,b.v,t,i,a);v[b.v]=M,M.hasOwnProperty("barycenter")&&V9e(b,M)}});var g=(0,j9e.default)(p,t);W9e(g,v),(o=g.filter(function(b){return b.vs.length>0}))===null||o===void 0||o.forEach(function(b){var _=r.node(b.vs[0]);_&&(b.fixorder=_.fixorder,b.order=_.order)});var m=(0,Y9e.default)(g,i,n,a);if(h&&(m.vs=[h,m.vs,d].flat(),(s=r.predecessors(h))===null||s===void 0?void 0:s.length)){var y=r.node(((l=r.predecessors(h))===null||l===void 0?void 0:l[0])||""),x=r.node(((u=r.predecessors(d))===null||u===void 0?void 0:u[0])||"");m.hasOwnProperty("barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+x.order)/(m.weight+2),m.weight+=2}return m},W9e=function(r,e){r==null||r.forEach(function(t){var i,n=(i=t.vs)===null||i===void 0?void 0:i.map(function(a){return e[a]?e[a].vs:a});t.vs=n.flat()})},V9e=function(r,e){r.barycenter!==void 0?(r.barycenter=(r.barycenter*r.weight+e.barycenter*e.weight)/(r.weight+e.weight),r.weight+=e.weight):(r.barycenter=e.barycenter,r.weight=e.weight)};hN.default=t6t});var s6t=$(vN=>{"use strict";var dN=vN&&vN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(vN,"__esModule",{value:!0});var r6t=dN(H4t()),i6t=dN(U4t()),q9e=dN(X4t()),H9e=dN(Z4t()),U9e=dN(e6t()),n6t=No(),X9e=cM(),ult=vh(),Z9e=function(r,e){for(var t=(0,ult.maxRank)(r),i=[],n=[],a=1;a<t+1;a++)i.push(a);for(var a=t-1;a>-1;a--)n.push(a);var o=a6t(r,i,"inEdges"),s=a6t(r,n,"outEdges"),l=(0,r6t.default)(r);flt(r,l);for(var u=Number.POSITIVE_INFINITY,f,a=0,c=0;c<4;++a,++c){o6t(a%2?o:s,a%4>=2,!1,e),l=(0,ult.buildLayerMatrix)(r);var h=(0,i6t.default)(r,l);h<u&&(c=0,f=(0,n6t.clone)(l),u=h)}l=(0,r6t.default)(r),flt(r,l);for(var a=0,c=0;c<4;++a,++c){o6t(a%2?o:s,a%4>=2,!0,e),l=(0,ult.buildLayerMatrix)(r);var h=(0,i6t.default)(r,l);h<u&&(c=0,f=(0,n6t.clone)(l),u=h)}flt(r,f)},a6t=function(r,e,t){return e.map(function(i){return(0,q9e.default)(r,i,t)})},o6t=function(r,e,t,i){var n=new X9e.Graph;r==null||r.forEach(function(a){for(var o,s=a.graph().root,l=(0,U9e.default)(a,s,n,e,t,i),u=0;u<((o=l.vs)===null||o===void 0?void 0:o.length);u++){var f=a.node(l.vs[u]);f&&(f.order=u)}(0,H9e.default)(a,n,l.vs)})},flt=function(r,e){e==null||e.forEach(function(t){t==null||t.forEach(function(i,n){r.node(i).order=n})})};vN.default=Z9e});var f6t=$(Ui=>{"use strict";var K9e=Ui&&Ui.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Ui,"__esModule",{value:!0});Ui.width=Ui.sep=Ui.positionX=Ui.balance=Ui.alignCoordinates=Ui.findSmallestWidthAlignment=Ui.buildBlockGraph=Ui.horizontalCompaction=Ui.verticalAlignment=Ui.hasConflict=Ui.addConflict=Ui.findOtherInnerSegmentNode=Ui.findType2Conflicts=Ui.findType1Conflicts=void 0;var Q9e=aN(),PW=tlt(),l6t=vh(),$9e=function(r){K9e(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(Q9e.Graph),J9e=function(r,e){var t={},i=function(n,a){var o=0,s=0,l=n.length,u=a==null?void 0:a[(a==null?void 0:a.length)-1];return a==null||a.forEach(function(f,c){var h,d=(0,Ui.findOtherInnerSegmentNode)(r,f),v=d?r.node(d).order:l;(d||f===u)&&((h=a.slice(s,c+1))===null||h===void 0||h.forEach(function(p){var g;(g=r.predecessors(p))===null||g===void 0||g.forEach(function(m){var y,x=r.node(m),b=x.order;(b<o||v<b)&&!(x.dummy&&((y=r.node(p))===null||y===void 0?void 0:y.dummy))&&(0,Ui.addConflict)(t,m,p)})}),s=c+1,o=v)}),a};return(e==null?void 0:e.length)&&e.reduce(i),t};Ui.findType1Conflicts=J9e;var t7e=function(r,e){var t={};function i(s,l,u,f,c){for(var h,d,v,p=l;p<u;p++)v=s[p],((h=r.node(v))===null||h===void 0?void 0:h.dummy)&&((d=r.predecessors(v))===null||d===void 0||d.forEach(function(g){var m=r.node(g);m.dummy&&(m.order<f||m.order>c)&&(0,Ui.addConflict)(t,g,v)}))}function n(s){return JSON.stringify(s.slice(1))}function a(s,l){var u=n(s);l.get(u)||(i.apply(void 0,s),l.set(u,!0))}var o=function(s,l){var u=-1,f,c=0,h=new Map;return l==null||l.forEach(function(d,v){var p;if(((p=r.node(d))===null||p===void 0?void 0:p.dummy)==="border"){var g=r.predecessors(d)||[];g.length&&(f=r.node(g[0]).order,a([l,c,v,u,f],h),c=v,u=f)}a([l,c,l.length,f,s.length],h)}),l};return(e==null?void 0:e.length)&&e.reduce(o),t};Ui.findType2Conflicts=t7e;var e7e=function(r,e){var t,i;if((t=r.node(e))===null||t===void 0?void 0:t.dummy)return(i=r.predecessors(e))===null||i===void 0?void 0:i.find(function(n){return r.node(n).dummy})};Ui.findOtherInnerSegmentNode=e7e;var r7e=function(r,e,t){var i=e,n=t;if(i>n){var a=i;i=n,n=a}var o=r[i];o||(r[i]=o={}),o[n]=!0};Ui.addConflict=r7e;var i7e=function(r,e,t){var i=e,n=t;if(i>n){var a=e;i=n,n=a}return!!r[i]};Ui.hasConflict=i7e;var n7e=function(r,e,t,i){var n={},a={},o={};return e==null||e.forEach(function(s){s==null||s.forEach(function(l,u){n[l]=l,a[l]=l,o[l]=u})}),e==null||e.forEach(function(s){var l=-1;s==null||s.forEach(function(u){var f=i(u);if(f.length){f=f.sort(function(p,g){return o[p]-o[g]});for(var c=(f.length-1)/2,h=Math.floor(c),d=Math.ceil(c);h<=d;++h){var v=f[h];a[u]===u&&l<o[v]&&!(0,Ui.hasConflict)(t,u,v)&&(a[v]=u,a[u]=n[u]=n[v],l=o[v])}}})}),{root:n,align:a}};Ui.verticalAlignment=n7e;var a7e=function(r,e,t,i,n){var a,o={},s=(0,Ui.buildBlockGraph)(r,e,t,n),l=n?"borderLeft":"borderRight",u=function(h,d){for(var v=s.nodes(),p=v.pop(),g={};p;)g[p]?h(p):(g[p]=!0,v.push(p),v=v.concat(d(p))),p=v.pop()},f=function(h){o[h]=(s.inEdges(h)||[]).reduce(function(d,v){return Math.max(d,(o[v.v]||0)+s.edge(v))},0)},c=function(h){var d=(s.outEdges(h)||[]).reduce(function(p,g){return Math.min(p,(o[g.w]||0)-s.edge(g))},Number.POSITIVE_INFINITY),v=r.node(h);d!==Number.POSITIVE_INFINITY&&v.borderType!==l&&(o[h]=Math.max(o[h],d))};return u(f,s.predecessors.bind(s)),u(c,s.successors.bind(s)),(a=Object.values(i))===null||a===void 0||a.forEach(function(h){o[h]=o[t[h]]}),o};Ui.horizontalCompaction=a7e;var o7e=function(r,e,t,i){var n=new $9e,a=r.graph(),o=(0,Ui.sep)(a.nodesep,a.edgesep,i);return e==null||e.forEach(function(s){var l;s==null||s.forEach(function(u){var f=t[u];if(n.setNode(f),l){var c=t[l],h=n.edgeFromArgs(c,f);n.setEdge(c,f,Math.max(o(r,u,l),h||0))}l=u})}),n};Ui.buildBlockGraph=o7e;var s7e=function(r,e){return(0,l6t.minBy)(Object.values(e),function(t){var i,n=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;return(i=Object.keys(t))===null||i===void 0||i.forEach(function(o){var s=t[o],l=(0,Ui.width)(r,o)/2;n=Math.max(s+l,n),a=Math.min(s-l,a)}),n-a})};Ui.findSmallestWidthAlignment=s7e;function u6t(r,e){var t=Object.values(e),i=(0,PW.min)(t),n=(0,PW.max)(t);["u","d"].forEach(function(a){["l","r"].forEach(function(o){var s=a+o,l=r[s],u;if(l!==e){var f=Object.values(l);u=o==="l"?i-(0,PW.min)(f):n-(0,PW.max)(f),u&&(r[s]={},Object.keys(l).forEach(function(c){r[s][c]=l[c]+u}))}})})}Ui.alignCoordinates=u6t;var l7e=function(r,e){var t={};return Object.keys(r.ul).forEach(function(i){if(e)t[i]=r[e.toLowerCase()][i];else{var n=Object.values(r).map(function(a){return a[i]});t[i]=(n[0]+n[1])/2}}),t};Ui.balance=l7e;var u7e=function(r){var e=(0,l6t.buildLayerMatrix)(r),t=Object.assign((0,Ui.findType1Conflicts)(r,e),(0,Ui.findType2Conflicts)(r,e)),i={},n;["u","d"].forEach(function(o){n=o==="u"?e:Object.values(e).reverse(),["l","r"].forEach(function(s){s==="r"&&(n=n.map(function(c){return Object.values(c).reverse()}));var l=(o==="u"?r.predecessors:r.successors).bind(r),u=(0,Ui.verticalAlignment)(r,n,t,l),f=(0,Ui.horizontalCompaction)(r,n,u.root,u.align,s==="r");s==="r"&&Object.keys(f).forEach(function(c){f[c]=-f[c]}),i[o+s]=f})});var a=(0,Ui.findSmallestWidthAlignment)(r,i);return u6t(i,a),(0,Ui.balance)(i,r.graph().align)};Ui.positionX=u7e;var f7e=function(r,e,t){return function(i,n,a){var o=i.node(n),s=i.node(a),l=0,u;if(l+=o.width/2,o.hasOwnProperty("labelpos"))switch((o.labelpos||"").toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(l+=t?u:-u),u=0,l+=(o.dummy?e:r)/2,l+=(s.dummy?e:r)/2,l+=s.width/2,s.labelpos)switch((s.labelpos||"").toLowerCase()){case"l":u=s.width/2;break;case"r":u=-s.width/2;break}return u&&(l+=t?u:-u),u=0,l}};Ui.sep=f7e;var c7e=function(r,e){return r.node(e).width||0};Ui.width=c7e});var h6t=$(pN=>{"use strict";var c6t=pN&&pN.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(pN,"__esModule",{value:!0});var clt=vh(),yM=f6t(),h7e=function(r){var e=(0,clt.buildLayerMatrix)(r),t=r.graph().ranksep,i=0;e==null||e.forEach(function(n){var a=n.map(function(s){return r.node(s).height}),o=Math.max.apply(Math,c6t(c6t([],a,!1),[0],!1));n==null||n.forEach(function(s){r.node(s).y=i+o/2}),i+=o+t})},d7e=function(r){var e=(0,clt.buildLayerMatrix)(r),t=Object.assign((0,yM.findType1Conflicts)(r,e),(0,yM.findType2Conflicts)(r,e)),i={},n=[];["u","d"].forEach(function(o){n=o==="u"?e:Object.values(e).reverse(),["l","r"].forEach(function(s){s==="r"&&(n=n.map(function(c){return Object.values(c).reverse()}));var l=(o==="u"?r.predecessors:r.successors).bind(r),u=(0,yM.verticalAlignment)(r,n,t,l),f=(0,yM.horizontalCompaction)(r,n,u.root,u.align,s==="r");s==="r"&&Object.keys(f).forEach(function(c){return f[c]=-f[c]}),i[o+s]=f})});var a=(0,yM.findSmallestWidthAlignment)(r,i);return a&&(0,yM.alignCoordinates)(i,a),(0,yM.balance)(i,r.graph().align)},v7e=function(r){var e,t=(0,clt.asNonCompoundGraph)(r);h7e(t);var i=d7e(t);(e=Object.keys(i))===null||e===void 0||e.forEach(function(n){t.node(n).x=i[n]})};pN.default=v7e});var d6t=$(hlt=>{"use strict";Object.defineProperty(hlt,"__esModule",{value:!0});var p7e=function(r,e){for(var t=r.nodes().filter(function(s){var l;return!((l=r.children(s))===null||l===void 0?void 0:l.length)}),i=t.map(function(s){return r.node(s).rank}),n=Math.max.apply(Math,i),a=[],o=0;o<n+1;o++)a[o]=[];e==null||e.forEach(function(s){var l=r.node(s);!l||(l==null?void 0:l.dummy)||isNaN(l.rank)||(l.fixorder=a[l.rank].length,a[l.rank].push(s))})};hlt.default=p7e});var y6t=$(xM=>{"use strict";var DW=xM&&xM.__assign||function(){return DW=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},DW.apply(this,arguments)},xm=xM&&xM.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xM,"__esModule",{value:!0});var v6t=xm(sGt()),p6t=xm(fGt()),g7e=xm(EGt()),bm=vh(),m7e=xm(TGt()),g6t=xm(LGt()),y7e=xm(kGt()),m6t=xm(FGt()),x7e=xm(s6t()),b7e=xm(h6t()),w7e=xm(d6t()),_7e=cM(),S7e=function(r,e){var t=e&&e.debugTiming?bm.time:bm.notime;t("layout",function(){e&&!e.keepNodeOrder&&e.prevGraph&&t("  inheritOrder",function(){M7e(r,e.prevGraph)});var i=t("  buildLayoutGraph",function(){return P7e(r)});e&&e.edgeLabelSpace===!1||t("  makeSpaceForEdgeLabels",function(){D7e(i)});try{t("  runLayout",function(){C7e(i,t,e)})}catch(n){if(n.message==="Not possible to find intersection inside of the rectangle"){console.error(`The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:
`,n);return}throw n}t("  updateInputGraph",function(){A7e(r,i)})})},C7e=function(r,e,t){e("    removeSelfEdges",function(){W7e(r)}),e("    acyclic",function(){v6t.default.run(r)}),e("    nestingGraph.run",function(){g6t.default.run(r)}),e("    rank",function(){(0,g7e.default)((0,bm.asNonCompoundGraph)(r))}),e("    injectEdgeLabelProxies",function(){F7e(r)}),e("    removeEmptyRanks",function(){(0,bm.removeEmptyRanks)(r)}),e("    nestingGraph.cleanup",function(){g6t.default.cleanup(r)}),e("    normalizeRanks",function(){(0,bm.normalizeRanks)(r)}),e("    assignRankMinMax",function(){N7e(r)}),e("    removeEdgeLabelProxies",function(){B7e(r)}),e("    normalize.run",function(){p6t.default.run(r)}),e("    parentDummyChains",function(){(0,m7e.default)(r)}),e("    addBorderSegments",function(){(0,y7e.default)(r)}),t&&t.keepNodeOrder&&e("    initDataOrder",function(){(0,w7e.default)(r,t.nodeOrder)}),e("    order",function(){(0,x7e.default)(r,t==null?void 0:t.keepNodeOrder)}),e("    insertSelfEdges",function(){V7e(r)}),e("    adjustCoordinateSystem",function(){m6t.default.adjust(r)}),e("    position",function(){(0,b7e.default)(r)}),e("    positionSelfEdges",function(){q7e(r)}),e("    removeBorderNodes",function(){Y7e(r)}),e("    normalize.undo",function(){p6t.default.undo(r)}),e("    fixupEdgeLabelCoords",function(){z7e(r)}),e("    undoCoordinateSystem",function(){m6t.default.undo(r)}),e("    translateGraph",function(){R7e(r)}),e("    assignNodeIntersects",function(){G7e(r)}),e("    reversePoints",function(){j7e(r)}),e("    acyclic.undo",function(){v6t.default.undo(r)})},M7e=function(r,e){r.nodes().forEach(function(t){var i=r.node(t),n=e.node(t);n!==void 0?(i.fixorder=n._order,delete n._order):delete i.fixorder})},A7e=function(r,e){r.nodes().forEach(function(t){var i,n=r.node(t);if(n){var a=e.node(t);n.x=a.x,n.y=a.y,n._order=a.order,n._rank=a.rank,((i=e.children(t))===null||i===void 0?void 0:i.length)&&(n.width=a.width,n.height=a.height)}}),r.edges().forEach(function(t){var i=r.edge(t),n=e.edge(t);i.points=n?n.points:[],n&&n.hasOwnProperty("x")&&(i.x=n.x,i.y=n.y)}),r.graph().width=e.graph().width,r.graph().height=e.graph().height},E7e=["nodesep","edgesep","ranksep","marginx","marginy"],T7e={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},dlt=["acyclicer","ranker","rankdir","align"],I7e=["width","height","layer","fixorder"],L7e={width:0,height:0},O7e=["minlen","weight","width","height","labeloffset"],k7e={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},vlt=["labelpos"],P7e=function(r){var e=new _7e.Graph({multigraph:!0,compound:!0}),t=glt(r.graph()),i={};return dlt==null||dlt.forEach(function(n){t[n]!==void 0&&(i[n]=t[n])}),e.setGraph(Object.assign({},T7e,plt(t,E7e),i)),r.nodes().forEach(function(n){var a=glt(r.node(n)),o=DW(DW({},L7e),a),s=plt(o,I7e);e.setNode(n,s),e.setParent(n,r.parent(n))}),r.edges().forEach(function(n){var a=glt(r.edge(n)),o={};vlt==null||vlt.forEach(function(s){a[s]!==void 0&&(o[s]=a[s])}),e.setEdgeObj(n,Object.assign({},k7e,plt(a,O7e),o))}),e},D7e=function(r){var e=r.graph();e.ranksep||(e.ranksep=0),e.ranksep/=2,r.nodes().forEach(function(t){var i=r.node(t);isNaN(i.layer)||i.layer||(i.layer=0)}),r.edges().forEach(function(t){var i,n=r.edge(t);n.minlen*=2,((i=n.labelpos)===null||i===void 0?void 0:i.toLowerCase())!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})},F7e=function(r){r.edges().forEach(function(e){var t=r.edge(e);if(t.width&&t.height){var i=r.node(e.v),n=r.node(e.w),a={e,rank:(n.rank-i.rank)/2+i.rank};(0,bm.addDummyNode)(r,"edge-proxy",a,"_ep")}})},N7e=function(r){var e=0;r.nodes().forEach(function(t){var i,n,a=r.node(t);a.borderTop&&(a.minRank=(i=r.node(a.borderTop))===null||i===void 0?void 0:i.rank,a.maxRank=(n=r.node(a.borderBottom))===null||n===void 0?void 0:n.rank,e=Math.max(e,a.maxRank||-1/0))}),r.graph().maxRank=e},B7e=function(r){r.nodes().forEach(function(e){var t=r.node(e);t.dummy==="edge-proxy"&&(r.edge(t.e).labelRank=t.rank,r.removeNode(e))})},R7e=function(r){var e,t=0,i,n=0,a=r.graph(),o=a.marginx||0,s=a.marginy||0,l=function(u){if(!!u){var f=u.x,c=u.y,h=u.width,d=u.height;!isNaN(f)&&!isNaN(h)&&(e===void 0&&(e=f-h/2),e=Math.min(e,f-h/2),t=Math.max(t,f+h/2)),!isNaN(c)&&!isNaN(d)&&(i===void 0&&(i=c-d/2),i=Math.min(i,c-d/2),n=Math.max(n,c+d/2))}};r.nodes().forEach(function(u){l(r.node(u))}),r.edges().forEach(function(u){var f=r.edge(u);(f==null?void 0:f.hasOwnProperty("x"))&&l(f)}),e-=o,i-=s,r.nodes().forEach(function(u){var f=r.node(u);f&&(f.x-=e,f.y-=i)}),r.edges().forEach(function(u){var f,c=r.edge(u);(f=c.points)===null||f===void 0||f.forEach(function(h){h.x-=e,h.y-=i}),c.hasOwnProperty("x")&&(c.x-=e),c.hasOwnProperty("y")&&(c.y-=i)}),a.width=t-e+o,a.height=n-i+s},G7e=function(r){r.edges().forEach(function(e){var t=r.edge(e),i=r.node(e.v),n=r.node(e.w),a,o;t.points?(a=t.points[0],o=t.points[t.points.length-1]):(t.points=[],a=n,o=i),t.points.unshift((0,bm.intersectRect)(i,a)),t.points.push((0,bm.intersectRect)(n,o))})},z7e=function(r){r.edges().forEach(function(e){var t=r.edge(e);if(t==null?void 0:t.hasOwnProperty("x"))switch((t.labelpos==="l"||t.labelpos==="r")&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset;break}})},j7e=function(r){r.edges().forEach(function(e){var t,i=r.edge(e);i.reversed&&((t=i.points)===null||t===void 0||t.reverse())})},Y7e=function(r){r.nodes().forEach(function(e){var t,i,n;if((t=r.children(e))===null||t===void 0?void 0:t.length){var a=r.node(e),o=r.node(a.borderTop),s=r.node(a.borderBottom),l=r.node(a.borderLeft[((i=a.borderLeft)===null||i===void 0?void 0:i.length)-1]),u=r.node(a.borderRight[((n=a.borderRight)===null||n===void 0?void 0:n.length)-1]);a.width=Math.abs((u==null?void 0:u.x)-(l==null?void 0:l.x))||10,a.height=Math.abs((s==null?void 0:s.y)-(o==null?void 0:o.y))||10,a.x=((l==null?void 0:l.x)||0)+a.width/2,a.y=((o==null?void 0:o.y)||0)+a.height/2}}),r.nodes().forEach(function(e){var t;((t=r.node(e))===null||t===void 0?void 0:t.dummy)==="border"&&r.removeNode(e)})},W7e=function(r){r.edges().forEach(function(e){if(e.v===e.w){var t=r.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e,label:r.edge(e)}),r.removeEdgeObj(e)}})},V7e=function(r){var e=(0,bm.buildLayerMatrix)(r);e==null||e.forEach(function(t){var i=0;t==null||t.forEach(function(n,a){var o,s=r.node(n);s.order=a+i,(o=s.selfEdges)===null||o===void 0||o.forEach(function(l){(0,bm.addDummyNode)(r,"selfedge",{width:l.label.width,height:l.label.height,rank:s.rank,order:a+ ++i,e:l.e,label:l.label},"_se")}),delete s.selfEdges})})},q7e=function(r){r.nodes().forEach(function(e){var t=r.node(e);if(t.dummy==="selfedge"){var i=r.node(t.e.v),n=i.x+i.width/2,a=i.y,o=t.x-n,s=i.height/2;r.setEdgeObj(t.e,t.label),r.removeNode(e),t.label.points=[{x:n+2*o/3,y:a-s},{x:n+5*o/6,y:a-s},{y:a,x:n+o},{x:n+5*o/6,y:a+s},{x:n+2*o/3,y:a+s}],t.label.x=t.x,t.label.y=t.y}})},plt=function(r,e){var t={};return e==null||e.forEach(function(i){r[i]!==void 0&&(t[i]=+r[i])}),t},glt=function(r){r===void 0&&(r={});var e={};return Object.keys(r).forEach(function(t){e[t.toLowerCase()]=r[t]}),e};xM.default=S7e});var b6t=$(gN=>{"use strict";var H7e=gN&&gN.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gN,"__esModule",{value:!0});var U7e=H7e(y6t()),x6t=vh();gN.default={layout:U7e.default,util:{time:x6t.time,notime:x6t.notime}}});var FW=$($w=>{"use strict";var X7e=$w&&$w.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Z7e=$w&&$w.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($w,"__esModule",{value:!0});$w.DagreLayout=void 0;var K7e=Z7e(b6t()),gh=No(),Q7e=Rs(),w6t=cM(),$7e=function(r){X7e(e,r);function e(t){var i=r.call(this)||this;return i.rankdir="TB",i.nodesep=50,i.ranksep=50,i.controlPoints=!1,i.sortByCombo=!1,i.edgeLabelSpace=!0,i.radial=!1,i.nodes=[],i.edges=[],i.onLayoutEnd=function(){},i.layoutNode=function(n){var a=i,o=a.nodes,s=o.find(function(u){return u.id===n});if(s){var l=s.layout!==!1;return l}return!0},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1,radial:!1,focusNode:null}},e.prototype.execute=function(){var t=this,i,n,a,o,s=this,l=s.nodes,u=s.nodeSize,f=s.rankdir,c=s.combos,h=s.begin,d=s.radial,v=s.comboEdges,p=v===void 0?[]:v,g=s.vedges,m=g===void 0?[]:g;if(!!l){var y=s.edges||[],x=new w6t.Graph({multigraph:!0,compound:!0});s.nodeMap={};var b={};l.forEach(function(kt){s.nodeMap[kt.id]=kt,!!kt.comboId&&(b[kt.comboId]=b[kt.comboId]||[],b[kt.comboId].push(kt.id))});var _=[],M={};((i=s.nodeOrder)===null||i===void 0?void 0:i.length)?(s.nodeOrder.forEach(function(kt){M[kt]=!0,_.push(s.nodeMap[kt])}),l.forEach(function(kt){M[kt.id]||_.push(kt)})):_=l;var A;u?(0,gh.isArray)(u)?A=function(){return u}:A=function(){return[u,u]}:A=function(kt){return kt.size?(0,gh.isArray)(kt.size)?kt.size:(0,gh.isObject)(kt.size)?[kt.size.width||40,kt.size.height||40]:[kt.size,kt.size]:[40,40]};var I=(0,gh.getFunc)(s.ranksep,50,s.ranksepFunc),k=(0,gh.getFunc)(s.nodesep,50,s.nodesepFunc),E=k,O=I;(f==="LR"||f==="RL")&&(E=I,O=k),x.setDefaultEdgeLabel(function(){return{}}),x.setGraph(s);var P={};this.sortByCombo&&c&&c.forEach(function(kt){if(P[kt.id]=kt,kt.collapsed){var Gt=A(kt),te=O(kt),we=E(kt),Ht=Gt[0]+2*we,ce=Gt[1]+2*te;x.setNode(kt.id,{width:Ht,height:ce})}!kt.parentId||(P[kt.parentId]||x.setNode(kt.parentId,{}),x.setParent(kt.id,kt.parentId))}),_.filter(function(kt){return kt.layout!==!1}).forEach(function(kt){var Gt=A(kt),te=O(kt),we=E(kt),Ht=Gt[0]+2*we,ce=Gt[1]+2*te,Oe=kt.layer;(0,gh.isNumber)(Oe)?x.setNode(kt.id,{width:Ht,height:ce,layer:Oe}):x.setNode(kt.id,{width:Ht,height:ce}),t.sortByCombo&&kt.comboId&&(P[kt.comboId]||(P[kt.comboId]={id:kt.comboId},x.setNode(kt.comboId,{})),x.setParent(kt.id,kt.comboId))}),y.forEach(function(kt){var Gt=(0,gh.getEdgeTerminal)(kt,"source"),te=(0,gh.getEdgeTerminal)(kt,"target");t.layoutNode(Gt)&&t.layoutNode(te)&&x.setEdge(Gt,te,{weight:kt.weight||1})}),(n=p==null?void 0:p.concat(m||[]))===null||n===void 0||n.forEach(function(kt){var Gt,te,we=kt.source,Ht=kt.target,ce=((Gt=P[we])===null||Gt===void 0?void 0:Gt.collapsed)?[we]:b[we]||[we],Oe=((te=P[Ht])===null||te===void 0?void 0:te.collapsed)?[Ht]:b[Ht]||[Ht];ce.forEach(function(je){Oe.forEach(function(Ae){x.setEdge(je,Ae,{weight:kt.weight||1})})})});var N=void 0;((a=s.preset)===null||a===void 0?void 0:a.nodes)&&(N=new w6t.Graph({multigraph:!0,compound:!0}),s.preset.nodes.forEach(function(kt){N==null||N.setNode(kt.id,kt)})),K7e.default.layout(x,{prevGraph:N,edgeLabelSpace:s.edgeLabelSpace,keepNodeOrder:Boolean(!!s.nodeOrder),nodeOrder:s.nodeOrder});var R=[0,0];if(h){var z=1/0,B=1/0;x.nodes().forEach(function(kt){var Gt=x.node(kt);z>Gt.x&&(z=Gt.x),B>Gt.y&&(B=Gt.y)}),x.edges().forEach(function(kt){var Gt,te=x.edge(kt);(Gt=te.points)===null||Gt===void 0||Gt.forEach(function(we){z>we.x&&(z=we.x),B>we.y&&(B=we.y)})}),R[0]=h[0]-z,R[1]=h[1]-B}var Y=f==="LR"||f==="RL";if(d){var q=this,j=q.focusNode,Z=q.ranksep,tt=q.getRadialPos,lt=(0,gh.isString)(j)?j:j==null?void 0:j.id,J=lt?(o=x.node(lt))===null||o===void 0?void 0:o._rank:0,nt=[],ut=Y?"y":"x",ft=Y?"height":"width",pt=1/0,_t=-1/0;x.nodes().forEach(function(kt){var Gt=x.node(kt);if(!!s.nodeMap[kt]){var te=k(s.nodeMap[kt]);if(J===0)nt[Gt._rank]||(nt[Gt._rank]={nodes:[],totalWidth:0,maxSize:-1/0}),nt[Gt._rank].nodes.push(kt),nt[Gt._rank].totalWidth+=te*2+Gt[ft],nt[Gt._rank].maxSize<Math.max(Gt.width,Gt.height)&&(nt[Gt._rank].maxSize=Math.max(Gt.width,Gt.height));else{var we=Gt._rank-J;if(we===0)nt[we]||(nt[we]={nodes:[],totalWidth:0,maxSize:-1/0}),nt[we].nodes.push(kt),nt[we].totalWidth+=te*2+Gt[ft],nt[we].maxSize<Math.max(Gt.width,Gt.height)&&(nt[we].maxSize=Math.max(Gt.width,Gt.height));else{var Ht=Math.abs(we);nt[Ht]||(nt[Ht]={left:[],right:[],totalWidth:0,maxSize:-1/0}),nt[Ht].totalWidth+=te*2+Gt[ft],nt[Ht].maxSize<Math.max(Gt.width,Gt.height)&&(nt[Ht].maxSize=Math.max(Gt.width,Gt.height)),we<0?nt[Ht].left.push(kt):nt[Ht].right.push(kt)}}var ce=Gt[ut]-Gt[ft]/2-te,Oe=Gt[ut]+Gt[ft]/2+te;ce<pt&&(pt=ce),Oe>_t&&(_t=Oe)}});var Et=Z||50,Ot={},oe=(_t-pt)/.9,se=[(pt+_t-oe)*.5,(pt+_t+oe)*.5],_e=function(kt,Gt,te,we){te===void 0&&(te=-1/0),we===void 0&&(we=[0,1]);var Ht=te;return kt.forEach(function(ce){var Oe=x.node(ce);Ot[ce]=Gt;var je=tt(Oe[ut],se,oe,Gt,we),Ae=je.x,Qe=je.y;if(!!s.nodeMap[ce]){s.nodeMap[ce].x=Ae+R[0],s.nodeMap[ce].y=Qe+R[1],s.nodeMap[ce]._order=Oe._order;var sr=I(s.nodeMap[ce]);Ht<sr&&(Ht=sr)}}),Ht},le=!0,ar=0;nt.forEach(function(kt){var Gt,te,we,Ht,ce,Oe,je;if(!(!((Gt=kt==null?void 0:kt.nodes)===null||Gt===void 0?void 0:Gt.length)&&!((te=kt==null?void 0:kt.left)===null||te===void 0?void 0:te.length)&&!((we=kt==null?void 0:kt.right)===null||we===void 0?void 0:we.length))){if(le&&kt.nodes.length===1){var Ae=kt.nodes[0];if(!s.nodeMap[Ae])return;s.nodeMap[Ae].x=R[0],s.nodeMap[Ae].y=R[1],Ot[kt.nodes[0]]=0,Et=I(s.nodeMap[Ae]),le=!1;return}Et=Math.max(Et,kt.totalWidth/(2*Math.PI));var Qe=-1/0;if(J===0||((Ht=kt.nodes)===null||Ht===void 0?void 0:Ht.length))Qe=_e(kt.nodes,Et,Qe,[0,1]);else{var sr=((ce=kt.left)===null||ce===void 0?void 0:ce.length)/(((Oe=kt.left)===null||Oe===void 0?void 0:Oe.length)+((je=kt.right)===null||je===void 0?void 0:je.length));Qe=_e(kt.left,Et,Qe,[0,sr]),Qe=_e(kt.right,Et,Qe,[sr+.05,1])}Et+=Qe,le=!1,ar-kt.maxSize}}),x.edges().forEach(function(kt){var Gt,te,we,Ht=x.edge(kt),ce=y.findIndex(function(Gn){var Ta=(0,gh.getEdgeTerminal)(Gn,"source"),Wi=(0,gh.getEdgeTerminal)(Gn,"target");return Ta===kt.v&&Wi===kt.w});if(!(ce<=-1)&&s.edgeLabelSpace&&s.controlPoints&&y[ce].type!=="loop"){var Oe=ut==="x"?"y":"x",je=(Gt=Ht==null?void 0:Ht.points)===null||Gt===void 0?void 0:Gt.slice(1,Ht.points.length-1),Ae=[],Qe=(te=x.node(kt.v))===null||te===void 0?void 0:te[Oe],sr=Qe-((we=x.node(kt.w))===null||we===void 0?void 0:we[Oe]),Xr=Ot[kt.v],Fr=Xr-Ot[kt.w];je==null||je.forEach(function(Gn){var Ta=(Gn[Oe]-Qe)/sr*Fr+Xr,Wi=tt(Gn[ut],se,oe,Ta);Ae.push({x:Wi.x+R[0],y:Wi.y+R[1]})}),y[ce].controlPoints=Ae}})}else{var pe=new Set,ze=f==="BT"||f==="RL",rr=ze?function(kt,Gt){return Gt-kt}:function(kt,Gt){return kt-Gt};x.nodes().forEach(function(kt){var Gt=x.node(kt);if(!!Gt){var te=t.nodeMap[kt];te||(te=c==null?void 0:c.find(function(we){return we.id===kt})),!!te&&(te.x=Gt.x+R[0],te.y=Gt.y+R[1],te._order=Gt._order,pe.add(Y?te.x:te.y))}});var ur=Array.from(pe).sort(rr),_r=Y?function(kt,Gt){return kt.x!==Gt.x}:function(kt,Gt){return kt.y!==Gt.y},it=Y?function(kt,Gt,te){var we=Math.max(Gt.y,te.y),Ht=Math.min(Gt.y,te.y);return kt.filter(function(ce){return ce.y<=we&&ce.y>=Ht})}:function(kt,Gt,te){var we=Math.max(Gt.x,te.x),Ht=Math.min(Gt.x,te.x);return kt.filter(function(ce){return ce.x<=we&&ce.x>=Ht})};x.edges().forEach(function(kt){var Gt,te=x.edge(kt),we=y.findIndex(function(Oe){var je=(0,gh.getEdgeTerminal)(Oe,"source"),Ae=(0,gh.getEdgeTerminal)(Oe,"target");return je===kt.v&&Ae===kt.w});if(!(we<=-1)&&s.edgeLabelSpace&&s.controlPoints&&y[we].type!=="loop"){(Gt=te==null?void 0:te.points)===null||Gt===void 0||Gt.forEach(function(Oe){Oe.x+=R[0],Oe.y+=R[1]});var Ht=s.nodeMap[kt.v],ce=s.nodeMap[kt.w];y[we].controlPoints=J7e(te==null?void 0:te.points,Ht,ce,ur,Y,_r,it)}})}return s.onLayoutEnd&&s.onLayoutEnd(),{nodes:l,edges:y}}},e.prototype.getRadialPos=function(t,i,n,a,o){o===void 0&&(o=[0,1]);var s=(t-i[0])/n;s=s*(o[1]-o[0])+o[0];var l=s*2*Math.PI;return{x:Math.cos(l)*a,y:Math.sin(l)*a}},e.prototype.getType=function(){return"dagre"},e}(Q7e.Base);$w.DagreLayout=$7e;var J7e=function(r,e,t,i,n,a,o){var s=(r==null?void 0:r.slice(1,r.length-1))||[];if(e&&t){var l=e.x,u=e.y,f=t.x,c=t.y;if(n&&(l=e.y,u=e.x,f=t.y,c=t.x),c!==u&&l!==f){var h=i.indexOf(u),d=i[h+1];if(d){var v=s[0],p=n?{x:(u+d)/2,y:(v==null?void 0:v.y)||f}:{x:(v==null?void 0:v.x)||f,y:(u+d)/2};(!v||a(v,p))&&s.unshift(p)}var g=i.indexOf(c),m=Math.abs(g-h);if(m===1)s=o(s,e,t),s.length||s.push(n?{x:(u+c)/2,y:l}:{x:l,y:(u+c)/2});else if(m>1){var y=i[g-1];if(y){var x=s[s.length-1],b=n?{x:(c+y)/2,y:(x==null?void 0:x.y)||f}:{x:(x==null?void 0:x.x)||l,y:(c+y)/2};(!x||a(x,b))&&s.push(b)}}}}return s}});var S6t=$((NW,_6t)=>{(function(r,e){typeof NW=="object"&&typeof _6t!="undefined"?e(NW):typeof define=="function"&&define.amd?define(["exports"],e):e((r=typeof globalThis!="undefined"?globalThis:r||self).dagreCompound={})})(NW,function(r){"use strict";let e={graph:{meta:{rankDir:"TB",nodeSep:50,rankSep:50,edgeSep:5,align:void 0}},subScene:{meta:{paddingTop:20,paddingBottom:20,paddingLeft:20,paddingRight:20,labelHeight:20}},nodeSize:{meta:{width:100,maxLabelWidth:0,height:20},node:{width:80,height:20,labelOffset:10,maxLabelWidth:40},bridge:{width:5,height:5,radius:2,labelOffset:0}}};function t(C={},L=e){var D,W,H,V;let X=JSON.parse(JSON.stringify(L)),Q=((D=C==null?void 0:C.graph)===null||D===void 0?void 0:D.meta)||{},rt=((W=C==null?void 0:C.subScene)===null||W===void 0?void 0:W.meta)||{},vt=((H=C==null?void 0:C.nodeSize)===null||H===void 0?void 0:H.meta)||{},gt=((V=C==null?void 0:C.nodeSize)===null||V===void 0?void 0:V.node)||{},St=X.nodeSize.bridge;return{graph:{meta:Object.assign(X.graph.meta,Q)},subScene:{meta:Object.assign(X.subScene.meta,rt)},nodeSize:{meta:Object.assign(X.nodeSize.meta,vt),node:Object.assign(X.nodeSize.node,gt),bridge:St}}}function i(C){return`\u25EC${C}\u25EC`}let n=i("ROOT"),a=i("BRIDGE_GRAPH");var o,s,l,u;(o=r.NodeType||(r.NodeType={}))[o.META=0]="META",o[o.NODE=1]="NODE",o[o.BRIDGE=2]="BRIDGE",(s=r.InclusionType||(r.InclusionType={}))[s.INCLUDE=0]="INCLUDE",s[s.EXCLUDE=1]="EXCLUDE",s[s.UNSPECIFIED=2]="UNSPECIFIED",(l=r.GraphType||(r.GraphType={}))[l.META=0]="META",l[l.CORE=1]="CORE",l[l.BRIDGE=2]="BRIDGE",(u=r.HierarchyNodeType||(r.HierarchyNodeType={}))[u.META=0]="META",u[u.OP=1]="OP",u[u.SERIES=2]="SERIES";var f=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function c(C,L){return C(L={exports:{}},L.exports),L.exports}var h=function(){this.__data__=[],this.size=0},d=function(C,L){return C===L||C!=C&&L!=L},v=function(C,L){for(var D=C.length;D--;)if(d(C[D][0],L))return D;return-1},p=Array.prototype.splice,g=function(C){var L=this.__data__,D=v(L,C);return!(D<0)&&(D==L.length-1?L.pop():p.call(L,D,1),--this.size,!0)},m=function(C){var L=this.__data__,D=v(L,C);return D<0?void 0:L[D][1]},y=function(C){return v(this.__data__,C)>-1},x=function(C,L){var D=this.__data__,W=v(D,C);return W<0?(++this.size,D.push([C,L])):D[W][1]=L,this};function b(C){var L=-1,D=C==null?0:C.length;for(this.clear();++L<D;){var W=C[L];this.set(W[0],W[1])}}b.prototype.clear=h,b.prototype.delete=g,b.prototype.get=m,b.prototype.has=y,b.prototype.set=x;var _=b,M=function(){this.__data__=new _,this.size=0},A=function(C){var L=this.__data__,D=L.delete(C);return this.size=L.size,D},I=function(C){return this.__data__.get(C)},k=function(C){return this.__data__.has(C)},E=typeof f=="object"&&f&&f.Object===Object&&f,O=typeof self=="object"&&self&&self.Object===Object&&self,P=E||O||Function("return this")(),N=P.Symbol,R=Object.prototype,z=R.hasOwnProperty,B=R.toString,Y=N?N.toStringTag:void 0,q=function(C){var L=z.call(C,Y),D=C[Y];try{C[Y]=void 0;var W=!0}catch(V){}var H=B.call(C);return W&&(L?C[Y]=D:delete C[Y]),H},j=Object.prototype.toString,Z=function(C){return j.call(C)},tt=N?N.toStringTag:void 0,lt=function(C){return C==null?C===void 0?"[object Undefined]":"[object Null]":tt&&tt in Object(C)?q(C):Z(C)},J=function(C){var L=typeof C;return C!=null&&(L=="object"||L=="function")},nt,ut=function(C){if(!J(C))return!1;var L=lt(C);return L=="[object Function]"||L=="[object GeneratorFunction]"||L=="[object AsyncFunction]"||L=="[object Proxy]"},ft=P["__core-js_shared__"],pt=(nt=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+nt:"",_t=function(C){return!!pt&&pt in C},Et=Function.prototype.toString,Ot=function(C){if(C!=null){try{return Et.call(C)}catch(L){}try{return C+""}catch(L){}}return""},oe=/^\[object .+?Constructor\]$/,se=Function.prototype,_e=Object.prototype,le=se.toString,ar=_e.hasOwnProperty,pe=RegExp("^"+le.call(ar).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ze=function(C){return!(!J(C)||_t(C))&&(ut(C)?pe:oe).test(Ot(C))},rr=function(C,L){return C==null?void 0:C[L]},ur=function(C,L){var D=rr(C,L);return ze(D)?D:void 0},_r=ur(P,"Map"),it=ur(Object,"create"),kt=function(){this.__data__=it?it(null):{},this.size=0},Gt=function(C){var L=this.has(C)&&delete this.__data__[C];return this.size-=L?1:0,L},te=Object.prototype.hasOwnProperty,we=function(C){var L=this.__data__;if(it){var D=L[C];return D==="__lodash_hash_undefined__"?void 0:D}return te.call(L,C)?L[C]:void 0},Ht=Object.prototype.hasOwnProperty,ce=function(C){var L=this.__data__;return it?L[C]!==void 0:Ht.call(L,C)},Oe=function(C,L){var D=this.__data__;return this.size+=this.has(C)?0:1,D[C]=it&&L===void 0?"__lodash_hash_undefined__":L,this};function je(C){var L=-1,D=C==null?0:C.length;for(this.clear();++L<D;){var W=C[L];this.set(W[0],W[1])}}je.prototype.clear=kt,je.prototype.delete=Gt,je.prototype.get=we,je.prototype.has=ce,je.prototype.set=Oe;var Ae=je,Qe=function(){this.size=0,this.__data__={hash:new Ae,map:new(_r||_),string:new Ae}},sr=function(C){var L=typeof C;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?C!=="__proto__":C===null},Xr=function(C,L){var D=C.__data__;return sr(L)?D[typeof L=="string"?"string":"hash"]:D.map},Fr=function(C){var L=Xr(this,C).delete(C);return this.size-=L?1:0,L},Gn=function(C){return Xr(this,C).get(C)},Ta=function(C){return Xr(this,C).has(C)},Wi=function(C,L){var D=Xr(this,C),W=D.size;return D.set(C,L),this.size+=D.size==W?0:1,this};function mn(C){var L=-1,D=C==null?0:C.length;for(this.clear();++L<D;){var W=C[L];this.set(W[0],W[1])}}mn.prototype.clear=Qe,mn.prototype.delete=Fr,mn.prototype.get=Gn,mn.prototype.has=Ta,mn.prototype.set=Wi;var Yn=mn,to=function(C,L){var D=this.__data__;if(D instanceof _){var W=D.__data__;if(!_r||W.length<199)return W.push([C,L]),this.size=++D.size,this;D=this.__data__=new Yn(W)}return D.set(C,L),this.size=D.size,this};function ji(C){var L=this.__data__=new _(C);this.size=L.size}ji.prototype.clear=M,ji.prototype.delete=A,ji.prototype.get=I,ji.prototype.has=k,ji.prototype.set=to;var Sn=ji,ya=function(C,L){for(var D=-1,W=C==null?0:C.length;++D<W&&L(C[D],D,C)!==!1;);return C},Ql=function(){try{var C=ur(Object,"defineProperty");return C({},"",{}),C}catch(L){}}(),xa=function(C,L,D){L=="__proto__"&&Ql?Ql(C,L,{configurable:!0,enumerable:!0,value:D,writable:!0}):C[L]=D},Mh=Object.prototype.hasOwnProperty,ku=function(C,L,D){var W=C[L];Mh.call(C,L)&&d(W,D)&&(D!==void 0||L in C)||xa(C,L,D)},zs=function(C,L,D,W){var H=!D;D||(D={});for(var V=-1,X=L.length;++V<X;){var Q=L[V],rt=W?W(D[Q],C[Q],Q,D,C):void 0;rt===void 0&&(rt=C[Q]),H?xa(D,Q,rt):ku(D,Q,rt)}return D},Pu=function(C,L){for(var D=-1,W=Array(C);++D<C;)W[D]=L(D);return W},wo=function(C){return C!=null&&typeof C=="object"},$l=function(C){return wo(C)&&lt(C)=="[object Arguments]"},Ah=Object.prototype,Cn=Ah.hasOwnProperty,Xi=Ah.propertyIsEnumerable,ba=$l(function(){return arguments}())?$l:function(C){return wo(C)&&Cn.call(C,"callee")&&!Xi.call(C,"callee")},qe=Array.isArray,ln=function(){return!1},ui=c(function(C,L){var D=L&&!L.nodeType&&L,W=D&&C&&!C.nodeType&&C,H=W&&W.exports===D?P.Buffer:void 0,V=(H?H.isBuffer:void 0)||ln;C.exports=V}),Zn=/^(?:0|[1-9]\d*)$/,Wn=function(C,L){var D=typeof C;return!!(L=L==null?9007199254740991:L)&&(D=="number"||D!="symbol"&&Zn.test(C))&&C>-1&&C%1==0&&C<L},Jl=function(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=9007199254740991},rn={};rn["[object Float32Array]"]=rn["[object Float64Array]"]=rn["[object Int8Array]"]=rn["[object Int16Array]"]=rn["[object Int32Array]"]=rn["[object Uint8Array]"]=rn["[object Uint8ClampedArray]"]=rn["[object Uint16Array]"]=rn["[object Uint32Array]"]=!0,rn["[object Arguments]"]=rn["[object Array]"]=rn["[object ArrayBuffer]"]=rn["[object Boolean]"]=rn["[object DataView]"]=rn["[object Date]"]=rn["[object Error]"]=rn["[object Function]"]=rn["[object Map]"]=rn["[object Number]"]=rn["[object Object]"]=rn["[object RegExp]"]=rn["[object Set]"]=rn["[object String]"]=rn["[object WeakMap]"]=!1;var el=function(C){return wo(C)&&Jl(C.length)&&!!rn[lt(C)]},wl=function(C){return function(L){return C(L)}},tu=c(function(C,L){var D=L&&!L.nodeType&&L,W=D&&C&&!C.nodeType&&C,H=W&&W.exports===D&&E.process,V=function(){try{var X=W&&W.require&&W.require("util").types;return X||H&&H.binding&&H.binding("util")}catch(Q){}}();C.exports=V}),Eh=tu&&tu.isTypedArray,Th=Eh?wl(Eh):el,PL=Object.prototype.hasOwnProperty,Wm=function(C,L){var D=qe(C),W=!D&&ba(C),H=!D&&!W&&ui(C),V=!D&&!W&&!H&&Th(C),X=D||W||H||V,Q=X?Pu(C.length,String):[],rt=Q.length;for(var vt in C)!L&&!PL.call(C,vt)||X&&(vt=="length"||H&&(vt=="offset"||vt=="parent")||V&&(vt=="buffer"||vt=="byteLength"||vt=="byteOffset")||Wn(vt,rt))||Q.push(vt);return Q},DL=Object.prototype,Dx=function(C){var L=C&&C.constructor;return C===(typeof L=="function"&&L.prototype||DL)},NM=function(C,L){return function(D){return C(L(D))}},BM=NM(Object.keys,Object),RM=Object.prototype.hasOwnProperty,Fx=function(C){if(!Dx(C))return BM(C);var L=[];for(var D in Object(C))RM.call(C,D)&&D!="constructor"&&L.push(D);return L},Sc=function(C){return C!=null&&Jl(C.length)&&!ut(C)},Ih=function(C){return Sc(C)?Wm(C):Fx(C)},FL=function(C,L){return C&&zs(L,Ih(L),C)},NL=function(C){var L=[];if(C!=null)for(var D in Object(C))L.push(D);return L},GM=Object.prototype.hasOwnProperty,zM=function(C){if(!J(C))return NL(C);var L=Dx(C),D=[];for(var W in C)(W!="constructor"||!L&&GM.call(C,W))&&D.push(W);return D},Lh=function(C){return Sc(C)?Wm(C,!0):zM(C)},w_=function(C,L){return C&&zs(L,Lh(L),C)},Vm=c(function(C,L){var D=L&&!L.nodeType&&L,W=D&&C&&!C.nodeType&&C,H=W&&W.exports===D?P.Buffer:void 0,V=H?H.allocUnsafe:void 0;C.exports=function(X,Q){if(Q)return X.slice();var rt=X.length,vt=V?V(rt):new X.constructor(rt);return X.copy(vt),vt}}),Nx=function(C,L){var D=-1,W=C.length;for(L||(L=Array(W));++D<W;)L[D]=C[D];return L},qm=function(C,L){for(var D=-1,W=C==null?0:C.length,H=0,V=[];++D<W;){var X=C[D];L(X,D,C)&&(V[H++]=X)}return V},__=function(){return[]},Hm=Object.prototype.propertyIsEnumerable,Um=Object.getOwnPropertySymbols,Xm=Um?function(C){return C==null?[]:(C=Object(C),qm(Um(C),function(L){return Hm.call(C,L)}))}:__,Zm=function(C,L){return zs(C,Xm(C),L)},S_=function(C,L){for(var D=-1,W=L.length,H=C.length;++D<W;)C[H+D]=L[D];return C},Km=NM(Object.getPrototypeOf,Object),Bx=Object.getOwnPropertySymbols?function(C){for(var L=[];C;)S_(L,Xm(C)),C=Km(C);return L}:__,C_=function(C,L){return zs(C,Bx(C),L)},ds=function(C,L,D){var W=L(C);return qe(C)?W:S_(W,D(C))},Cs=function(C){return ds(C,Ih,Xm)},Qm=function(C){return ds(C,Lh,Bx)},M_=ur(P,"DataView"),Rx=ur(P,"Promise"),Oh=ur(P,"Set"),$m=ur(P,"WeakMap"),A_="[object Map]",jM="[object Promise]",Gx="[object Set]",YM="[object WeakMap]",E_="[object DataView]",BL=Ot(M_),RL=Ot(_r),GL=Ot(Rx),zL=Ot(Oh),T_=Ot($m),Zd=lt;(M_&&Zd(new M_(new ArrayBuffer(1)))!=E_||_r&&Zd(new _r)!=A_||Rx&&Zd(Rx.resolve())!=jM||Oh&&Zd(new Oh)!=Gx||$m&&Zd(new $m)!=YM)&&(Zd=function(C){var L=lt(C),D=L=="[object Object]"?C.constructor:void 0,W=D?Ot(D):"";if(W)switch(W){case BL:return E_;case RL:return A_;case GL:return jM;case zL:return Gx;case T_:return YM}return L});var _l=Zd,jL=Object.prototype.hasOwnProperty,YL=function(C){var L=C.length,D=new C.constructor(L);return L&&typeof C[0]=="string"&&jL.call(C,"index")&&(D.index=C.index,D.input=C.input),D},Kd=P.Uint8Array,Kn=function(C){var L=new C.constructor(C.byteLength);return new Kd(L).set(new Kd(C)),L},fa=function(C,L){var D=L?Kn(C.buffer):C.buffer;return new C.constructor(D,C.byteOffset,C.byteLength)},WM=/\w*$/,WL=function(C){var L=new C.constructor(C.source,WM.exec(C));return L.lastIndex=C.lastIndex,L},zx=N?N.prototype:void 0,jx=zx?zx.valueOf:void 0,kh=function(C){return jx?Object(jx.call(C)):{}},Jm=function(C,L){var D=L?Kn(C.buffer):C.buffer;return new C.constructor(D,C.byteOffset,C.length)},I_=function(C,L,D){var W=C.constructor;switch(L){case"[object ArrayBuffer]":return Kn(C);case"[object Boolean]":case"[object Date]":return new W(+C);case"[object DataView]":return fa(C,D);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Jm(C,D);case"[object Map]":return new W;case"[object Number]":case"[object String]":return new W(C);case"[object RegExp]":return WL(C);case"[object Set]":return new W;case"[object Symbol]":return kh(C)}},L_=Object.create,Ro=function(){function C(){}return function(L){if(!J(L))return{};if(L_)return L_(L);C.prototype=L;var D=new C;return C.prototype=void 0,D}}(),Yx=function(C){return typeof C.constructor!="function"||Dx(C)?{}:Ro(Km(C))},Qd=function(C){return wo(C)&&_l(C)=="[object Map]"},O_=tu&&tu.isMap,k_=O_?wl(O_):Qd,eu=function(C){return wo(C)&&_l(C)=="[object Set]"},P_=tu&&tu.isSet,$d=P_?wl(P_):eu,D_="[object Arguments]",F_="[object Function]",Jd="[object Object]",ca={};ca[D_]=ca["[object Array]"]=ca["[object ArrayBuffer]"]=ca["[object DataView]"]=ca["[object Boolean]"]=ca["[object Date]"]=ca["[object Float32Array]"]=ca["[object Float64Array]"]=ca["[object Int8Array]"]=ca["[object Int16Array]"]=ca["[object Int32Array]"]=ca["[object Map]"]=ca["[object Number]"]=ca[Jd]=ca["[object RegExp]"]=ca["[object Set]"]=ca["[object String]"]=ca["[object Symbol]"]=ca["[object Uint8Array]"]=ca["[object Uint8ClampedArray]"]=ca["[object Uint16Array]"]=ca["[object Uint32Array]"]=!0,ca["[object Error]"]=ca[F_]=ca["[object WeakMap]"]=!1;var Go=function C(L,D,W,H,V,X){var Q,rt=1&D,vt=2&D,gt=4&D;if(W&&(Q=V?W(L,H,V,X):W(L)),Q!==void 0)return Q;if(!J(L))return L;var St=qe(L);if(St){if(Q=YL(L),!rt)return Nx(L,Q)}else{var Nt=_l(L),Vt=Nt==F_||Nt=="[object GeneratorFunction]";if(ui(L))return Vm(L,rt);if(Nt==Jd||Nt==D_||Vt&&!V){if(Q=vt||Vt?{}:Yx(L),!rt)return vt?C_(L,w_(Q,L)):Zm(L,FL(Q,L))}else{if(!ca[Nt])return V?L:{};Q=I_(L,Nt,rt)}}X||(X=new Sn);var me=X.get(L);if(me)return me;X.set(L,Q),$d(L)?L.forEach(function(Ve){Q.add(C(Ve,D,W,Ve,L,X))}):k_(L)&&L.forEach(function(Ve,De){Q.set(De,C(Ve,D,W,De,L,X))});var Se=St?void 0:(gt?vt?Qm:Cs:vt?Lh:Ih)(L);return ya(Se||L,function(Ve,De){Se&&(Ve=L[De=Ve]),ku(Q,De,C(Ve,D,W,De,L,X))}),Q},VM=function(C){return Go(C,4)},zo=function(C){return function(){return C}},Wx=function(C){return function(L,D,W){for(var H=-1,V=Object(L),X=W(L),Q=X.length;Q--;){var rt=X[C?Q:++H];if(D(V[rt],rt,V)===!1)break}return L}}(),bf=function(C,L){return C&&Wx(C,L,Ih)},Sl=function(C,L){return function(D,W){if(D==null)return D;if(!Sc(D))return C(D,W);for(var H=D.length,V=L?H:-1,X=Object(D);(L?V--:++V<H)&&W(X[V],V,X)!==!1;);return D}}(bf),wf=function(C){return C},Vx=function(C){return typeof C=="function"?C:wf},Ia=function(C,L){return(qe(C)?ya:Sl)(C,Vx(L))},_f=Ia,N_=function(C,L){var D=[];return Sl(C,function(W,H,V){L(W,H,V)&&D.push(W)}),D},VL=function(C){return this.__data__.set(C,"__lodash_hash_undefined__"),this},qx=function(C){return this.__data__.has(C)};function wa(C){var L=-1,D=C==null?0:C.length;for(this.__data__=new Yn;++L<D;)this.add(C[L])}wa.prototype.add=wa.prototype.push=VL,wa.prototype.has=qx;var B_=wa,qL=function(C,L){for(var D=-1,W=C==null?0:C.length;++D<W;)if(L(C[D],D,C))return!0;return!1},ru=function(C,L){return C.has(L)},tv=function(C,L,D,W,H,V){var X=1&D,Q=C.length,rt=L.length;if(Q!=rt&&!(X&&rt>Q))return!1;var vt=V.get(C),gt=V.get(L);if(vt&&gt)return vt==L&&gt==C;var St=-1,Nt=!0,Vt=2&D?new B_:void 0;for(V.set(C,L),V.set(L,C);++St<Q;){var me=C[St],Se=L[St];if(W)var Ve=X?W(Se,me,St,L,C,V):W(me,Se,St,C,L,V);if(Ve!==void 0){if(Ve)continue;Nt=!1;break}if(Vt){if(!qL(L,function(De,pr){if(!ru(Vt,pr)&&(me===De||H(me,De,D,W,V)))return Vt.push(pr)})){Nt=!1;break}}else if(me!==Se&&!H(me,Se,D,W,V)){Nt=!1;break}}return V.delete(C),V.delete(L),Nt},Cc=function(C){var L=-1,D=Array(C.size);return C.forEach(function(W,H){D[++L]=[H,W]}),D},Mc=function(C){var L=-1,D=Array(C.size);return C.forEach(function(W){D[++L]=W}),D},ty=N?N.prototype:void 0,ev=ty?ty.valueOf:void 0,rv=function(C,L,D,W,H,V,X){switch(D){case"[object DataView]":if(C.byteLength!=L.byteLength||C.byteOffset!=L.byteOffset)return!1;C=C.buffer,L=L.buffer;case"[object ArrayBuffer]":return!(C.byteLength!=L.byteLength||!V(new Kd(C),new Kd(L)));case"[object Boolean]":case"[object Date]":case"[object Number]":return d(+C,+L);case"[object Error]":return C.name==L.name&&C.message==L.message;case"[object RegExp]":case"[object String]":return C==L+"";case"[object Map]":var Q=Cc;case"[object Set]":var rt=1&W;if(Q||(Q=Mc),C.size!=L.size&&!rt)return!1;var vt=X.get(C);if(vt)return vt==L;W|=2,X.set(C,L);var gt=tv(Q(C),Q(L),W,H,V,X);return X.delete(C),gt;case"[object Symbol]":if(ev)return ev.call(C)==ev.call(L)}return!1},xp=Object.prototype.hasOwnProperty,R_=function(C,L,D,W,H,V){var X=1&D,Q=Cs(C),rt=Q.length;if(rt!=Cs(L).length&&!X)return!1;for(var vt=rt;vt--;){var gt=Q[vt];if(!(X?gt in L:xp.call(L,gt)))return!1}var St=V.get(C),Nt=V.get(L);if(St&&Nt)return St==L&&Nt==C;var Vt=!0;V.set(C,L),V.set(L,C);for(var me=X;++vt<rt;){var Se=C[gt=Q[vt]],Ve=L[gt];if(W)var De=X?W(Ve,Se,gt,L,C,V):W(Se,Ve,gt,C,L,V);if(!(De===void 0?Se===Ve||H(Se,Ve,D,W,V):De)){Vt=!1;break}me||(me=gt=="constructor")}if(Vt&&!me){var pr=C.constructor,Cr=L.constructor;pr==Cr||!("constructor"in C)||!("constructor"in L)||typeof pr=="function"&&pr instanceof pr&&typeof Cr=="function"&&Cr instanceof Cr||(Vt=!1)}return V.delete(C),V.delete(L),Vt},Hx="[object Arguments]",ey="[object Array]",bp="[object Object]",qM=Object.prototype.hasOwnProperty,HM=function(C,L,D,W,H,V){var X=qe(C),Q=qe(L),rt=X?ey:_l(C),vt=Q?ey:_l(L),gt=(rt=rt==Hx?bp:rt)==bp,St=(vt=vt==Hx?bp:vt)==bp,Nt=rt==vt;if(Nt&&ui(C)){if(!ui(L))return!1;X=!0,gt=!1}if(Nt&&!gt)return V||(V=new Sn),X||Th(C)?tv(C,L,D,W,H,V):rv(C,L,rt,D,W,H,V);if(!(1&D)){var Vt=gt&&qM.call(C,"__wrapped__"),me=St&&qM.call(L,"__wrapped__");if(Vt||me){var Se=Vt?C.value():C,Ve=me?L.value():L;return V||(V=new Sn),H(Se,Ve,D,W,V)}}return!!Nt&&(V||(V=new Sn),R_(C,L,D,W,H,V))},rl=function C(L,D,W,H,V){return L===D||(L==null||D==null||!wo(L)&&!wo(D)?L!=L&&D!=D:HM(L,D,W,H,C,V))},ry=function(C,L,D,W){var H=D.length,V=H,X=!W;if(C==null)return!V;for(C=Object(C);H--;){var Q=D[H];if(X&&Q[2]?Q[1]!==C[Q[0]]:!(Q[0]in C))return!1}for(;++H<V;){var rt=(Q=D[H])[0],vt=C[rt],gt=Q[1];if(X&&Q[2]){if(vt===void 0&&!(rt in C))return!1}else{var St=new Sn;if(W)var Nt=W(vt,gt,rt,C,L,St);if(!(Nt===void 0?rl(gt,vt,3,W,St):Nt))return!1}}return!0},Ac=function(C){return C==C&&!J(C)},Ux=function(C){for(var L=Ih(C),D=L.length;D--;){var W=L[D],H=C[W];L[D]=[W,H,Ac(H)]}return L},iy=function(C,L){return function(D){return D!=null&&D[C]===L&&(L!==void 0||C in Object(D))}},wp=function(C){var L=Ux(C);return L.length==1&&L[0][2]?iy(L[0][0],L[0][1]):function(D){return D===C||ry(D,C,L)}},Ec=function(C){return typeof C=="symbol"||wo(C)&&lt(C)=="[object Symbol]"},G_=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,z_=/^\w*$/,ny=function(C,L){if(qe(C))return!1;var D=typeof C;return!(D!="number"&&D!="symbol"&&D!="boolean"&&C!=null&&!Ec(C))||z_.test(C)||!G_.test(C)||L!=null&&C in Object(L)};function Tc(C,L){if(typeof C!="function"||L!=null&&typeof L!="function")throw new TypeError("Expected a function");var D=function(){var W=arguments,H=L?L.apply(this,W):W[0],V=D.cache;if(V.has(H))return V.get(H);var X=C.apply(this,W);return D.cache=V.set(H,X)||V,X};return D.cache=new(Tc.Cache||Yn),D}Tc.Cache=Yn;var UM=Tc,XM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xx=/\\(\\)?/g,j_=function(C){var L=UM(C,function(W){return D.size===500&&D.clear(),W}),D=L.cache;return L}(function(C){var L=[];return C.charCodeAt(0)===46&&L.push(""),C.replace(XM,function(D,W,H,V){L.push(H?V.replace(Xx,"$1"):W||D)}),L}),il=function(C,L){for(var D=-1,W=C==null?0:C.length,H=Array(W);++D<W;)H[D]=L(C[D],D,C);return H},_p=N?N.prototype:void 0,Y_=_p?_p.toString:void 0,Sp=function C(L){if(typeof L=="string")return L;if(qe(L))return il(L,C)+"";if(Ec(L))return Y_?Y_.call(L):"";var D=L+"";return D=="0"&&1/L==-1/0?"-0":D},Zx=function(C){return C==null?"":Sp(C)},Du=function(C,L){return qe(C)?C:ny(C,L)?[C]:j_(Zx(C))},jo=function(C){if(typeof C=="string"||Ec(C))return C;var L=C+"";return L=="0"&&1/C==-1/0?"-0":L},ay=function(C,L){for(var D=0,W=(L=Du(L,C)).length;C!=null&&D<W;)C=C[jo(L[D++])];return D&&D==W?C:void 0},HL=function(C,L,D){var W=C==null?void 0:ay(C,L);return W===void 0?D:W},UL=function(C,L){return C!=null&&L in Object(C)},Kx=function(C,L,D){for(var W=-1,H=(L=Du(L,C)).length,V=!1;++W<H;){var X=jo(L[W]);if(!(V=C!=null&&D(C,X)))break;C=C[X]}return V||++W!=H?V:!!(H=C==null?0:C.length)&&Jl(H)&&Wn(X,H)&&(qe(C)||ba(C))},ZM=function(C,L){return C!=null&&Kx(C,L,UL)},XL=function(C,L){return ny(C)&&Ac(L)?iy(jo(C),L):function(D){var W=HL(D,C);return W===void 0&&W===L?ZM(D,C):rl(L,W,3)}},Ic=function(C){return function(L){return L==null?void 0:L[C]}},Zt=function(C){return function(L){return ay(L,C)}},Me=function(C){return ny(C)?Ic(jo(C)):Zt(C)},he=function(C){return typeof C=="function"?C:C==null?wf:typeof C=="object"?qe(C)?XL(C[0],C[1]):wp(C):Me(C)},Or=function(C,L){return(qe(C)?qm:N_)(C,he(L))},Ti=Object.prototype.hasOwnProperty,Mn=function(C,L){return C!=null&&Ti.call(C,L)},_o=function(C,L){return C!=null&&Kx(C,L,Mn)},Vn=Object.prototype.hasOwnProperty,W_=function(C){if(C==null)return!0;if(Sc(C)&&(qe(C)||typeof C=="string"||typeof C.splice=="function"||ui(C)||Th(C)||ba(C)))return!C.length;var L=_l(C);if(L=="[object Map]"||L=="[object Set]")return!C.size;if(Dx(C))return!Fx(C).length;for(var D in C)if(Vn.call(C,D))return!1;return!0},KM=function(C){return C===void 0},Cl=function(C,L){var D=-1,W=Sc(C)?Array(C.length):[];return Sl(C,function(H,V,X){W[++D]=L(H,V,X)}),W},oy=function(C,L){return(qe(C)?il:Cl)(C,he(L))},ZL=function(C,L,D,W){var H=-1,V=C==null?0:C.length;for(W&&V&&(D=C[++H]);++H<V;)D=L(D,C[H],H,C);return D},Cp=function(C,L,D,W,H){return H(C,function(V,X,Q){D=W?(W=!1,V):L(D,V,X,Q)}),D},sy=function(C,L,D){var W=qe(C)?ZL:Cp,H=arguments.length<3;return W(C,he(L),D,H,Sl)},ly=function(C){return typeof C=="string"||!qe(C)&&wo(C)&&lt(C)=="[object String]"},An=Ic("length"),KL=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),uy=function(C){return KL.test(C)},js="[\\ud800-\\udfff]",Ph="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Qx="\\ud83c[\\udffb-\\udfff]",V_="[^\\ud800-\\udfff]",Mp="(?:\\ud83c[\\udde6-\\uddff]){2}",Sf="[\\ud800-\\udbff][\\udc00-\\udfff]",Ap="(?:"+Ph+"|"+Qx+")?",$x="[\\ufe0e\\ufe0f]?",Jx=$x+Ap+("(?:\\u200d(?:"+[V_,Mp,Sf].join("|")+")"+$x+Ap+")*"),iv="(?:"+[V_+Ph+"?",Ph,Mp,Sf,js].join("|")+")",So=RegExp(Qx+"(?="+Qx+")|"+iv+Jx,"g"),fy=function(C){for(var L=So.lastIndex=0;So.test(C);)++L;return L},q_=function(C){return uy(C)?fy(C):An(C)},Fu=function(C){if(C==null)return 0;if(Sc(C))return ly(C)?q_(C):C.length;var L=_l(C);return L=="[object Map]"||L=="[object Set]"?C.size:Fx(C).length},Dh=function(C,L,D){var W=qe(C),H=W||ui(C)||Th(C);if(L=he(L),D==null){var V=C&&C.constructor;D=H?W?new V:[]:J(C)&&ut(V)?Ro(Km(C)):{}}return(H?ya:bf)(C,function(X,Q,rt){return L(D,X,Q,rt)}),D},Ep=N?N.isConcatSpreadable:void 0,QL=function(C){return qe(C)||ba(C)||!!(Ep&&C&&C[Ep])},H_=function C(L,D,W,H,V){var X=-1,Q=L.length;for(W||(W=QL),V||(V=[]);++X<Q;){var rt=L[X];D>0&&W(rt)?D>1?C(rt,D-1,W,H,V):S_(V,rt):H||(V[V.length]=rt)}return V},$L=function(C,L,D){switch(D.length){case 0:return C.call(L);case 1:return C.call(L,D[0]);case 2:return C.call(L,D[0],D[1]);case 3:return C.call(L,D[0],D[1],D[2])}return C.apply(L,D)},cy=Math.max,nv=function(C,L,D){return L=cy(L===void 0?C.length-1:L,0),function(){for(var W=arguments,H=-1,V=cy(W.length-L,0),X=Array(V);++H<V;)X[H]=W[L+H];H=-1;for(var Q=Array(L+1);++H<L;)Q[H]=W[H];return Q[L]=D(X),$L(C,this,Q)}},t1=Ql?function(C,L){return Ql(C,"toString",{configurable:!0,enumerable:!1,value:zo(L),writable:!0})}:wf,JL=Date.now,e1=function(C){var L=0,D=0;return function(){var W=JL(),H=16-(W-D);if(D=W,H>0){if(++L>=800)return arguments[0]}else L=0;return C.apply(void 0,arguments)}}(t1),hy=function(C,L){return e1(nv(C,L,wf),C+"")},QM=function(C,L,D,W){for(var H=C.length,V=D+(W?1:-1);W?V--:++V<H;)if(L(C[V],V,C))return V;return-1},eo=function(C){return C!=C},Ms=function(C,L,D){for(var W=D-1,H=C.length;++W<H;)if(C[W]===L)return W;return-1},Fh=function(C,L,D){return L==L?Ms(C,L,D):QM(C,eo,D)},r1=function(C,L){return!!(C==null?0:C.length)&&Fh(C,L,0)>-1},U_=function(C,L,D){for(var W=-1,H=C==null?0:C.length;++W<H;)if(D(L,C[W]))return!0;return!1},$M=function(){},i1=Oh&&1/Mc(new Oh([,-0]))[1]==1/0?function(C){return new Oh(C)}:$M,Tp=function(C,L,D){var W=-1,H=r1,V=C.length,X=!0,Q=[],rt=Q;if(D)X=!1,H=U_;else if(V>=200){var vt=L?null:i1(C);if(vt)return Mc(vt);X=!1,H=ru,rt=new B_}else rt=L?[]:Q;t:for(;++W<V;){var gt=C[W],St=L?L(gt):gt;if(gt=D||gt!==0?gt:0,X&&St==St){for(var Nt=rt.length;Nt--;)if(rt[Nt]===St)continue t;L&&rt.push(St),Q.push(gt)}else H(rt,St,D)||(rt!==Q&&rt.push(St),Q.push(gt))}return Q},dy=function(C){return wo(C)&&Sc(C)},av=hy(function(C){return Tp(H_(C,1,dy,!0))}),Ip=function(C,L){return il(L,function(D){return C[D]})},Lc,Lp=function(C){return C==null?[]:Ip(C,Ih(C))};try{Lc={clone:VM,constant:zo,each:_f,filter:Or,has:_o,isArray:qe,isEmpty:W_,isFunction:ut,isUndefined:KM,keys:Ih,map:oy,reduce:sy,size:Fu,transform:Dh,union:av,values:Lp}}catch(C){}Lc||(Lc=window._);var fr=Lc,n1=Mi,vy="\0";function Mi(C){this._isDirected=!fr.has(C,"directed")||C.directed,this._isMultigraph=!!fr.has(C,"multigraph")&&C.multigraph,this._isCompound=!!fr.has(C,"compound")&&C.compound,this._label=void 0,this._defaultNodeLabelFn=fr.constant(void 0),this._defaultEdgeLabelFn=fr.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a1(C,L){C[L]?C[L]++:C[L]=1}function Nh(C,L){--C[L]||delete C[L]}function Nu(C,L,D,W){var H=""+L,V=""+D;if(!C&&H>V){var X=H;H=V,V=X}return H+""+V+""+(fr.isUndefined(W)?"\0":W)}function Op(C,L,D,W){var H=""+L,V=""+D;if(!C&&H>V){var X=H;H=V,V=X}var Q={v:H,w:V};return W&&(Q.name=W),Q}function py(C,L){return Nu(C,L.v,L.w,L.name)}Mi.prototype._nodeCount=0,Mi.prototype._edgeCount=0,Mi.prototype.isDirected=function(){return this._isDirected},Mi.prototype.isMultigraph=function(){return this._isMultigraph},Mi.prototype.isCompound=function(){return this._isCompound},Mi.prototype.setGraph=function(C){return this._label=C,this},Mi.prototype.graph=function(){return this._label},Mi.prototype.setDefaultNodeLabel=function(C){return fr.isFunction(C)||(C=fr.constant(C)),this._defaultNodeLabelFn=C,this},Mi.prototype.nodeCount=function(){return this._nodeCount},Mi.prototype.nodes=function(){return fr.keys(this._nodes)},Mi.prototype.sources=function(){var C=this;return fr.filter(this.nodes(),function(L){return fr.isEmpty(C._in[L])})},Mi.prototype.sinks=function(){var C=this;return fr.filter(this.nodes(),function(L){return fr.isEmpty(C._out[L])})},Mi.prototype.setNodes=function(C,L){var D=arguments,W=this;return fr.each(C,function(H){D.length>1?W.setNode(H,L):W.setNode(H)}),this},Mi.prototype.setNode=function(C,L){return fr.has(this._nodes,C)?(arguments.length>1&&(this._nodes[C]=L),this):(this._nodes[C]=arguments.length>1?L:this._defaultNodeLabelFn(C),this._isCompound&&(this._parent[C]=vy,this._children[C]={},this._children["\0"][C]=!0),this._in[C]={},this._preds[C]={},this._out[C]={},this._sucs[C]={},++this._nodeCount,this)},Mi.prototype.node=function(C){return this._nodes[C]},Mi.prototype.hasNode=function(C){return fr.has(this._nodes,C)},Mi.prototype.removeNode=function(C){var L=this;if(fr.has(this._nodes,C)){var D=function(W){L.removeEdge(L._edgeObjs[W])};delete this._nodes[C],this._isCompound&&(this._removeFromParentsChildList(C),delete this._parent[C],fr.each(this.children(C),function(W){L.setParent(W)}),delete this._children[C]),fr.each(fr.keys(this._in[C]),D),delete this._in[C],delete this._preds[C],fr.each(fr.keys(this._out[C]),D),delete this._out[C],delete this._sucs[C],--this._nodeCount}return this},Mi.prototype.setParent=function(C,L){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(fr.isUndefined(L))L=vy;else{for(var D=L+="";!fr.isUndefined(D);D=this.parent(D))if(D===C)throw new Error("Setting "+L+" as parent of "+C+" would create a cycle");this.setNode(L)}return this.setNode(C),this._removeFromParentsChildList(C),this._parent[C]=L,this._children[L][C]=!0,this},Mi.prototype._removeFromParentsChildList=function(C){delete this._children[this._parent[C]][C]},Mi.prototype.parent=function(C){if(this._isCompound){var L=this._parent[C];if(L!==vy)return L}},Mi.prototype.children=function(C){if(fr.isUndefined(C)&&(C=vy),this._isCompound){var L=this._children[C];if(L)return fr.keys(L)}else{if(C===vy)return this.nodes();if(this.hasNode(C))return[]}},Mi.prototype.predecessors=function(C){var L=this._preds[C];if(L)return fr.keys(L)},Mi.prototype.successors=function(C){var L=this._sucs[C];if(L)return fr.keys(L)},Mi.prototype.neighbors=function(C){var L=this.predecessors(C);if(L)return fr.union(L,this.successors(C))},Mi.prototype.isLeaf=function(C){return(this.isDirected()?this.successors(C):this.neighbors(C)).length===0},Mi.prototype.filterNodes=function(C){var L=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});L.setGraph(this.graph());var D=this;fr.each(this._nodes,function(V,X){C(X)&&L.setNode(X,V)}),fr.each(this._edgeObjs,function(V){L.hasNode(V.v)&&L.hasNode(V.w)&&L.setEdge(V,D.edge(V))});var W={};function H(V){var X=D.parent(V);return X===void 0||L.hasNode(X)?(W[V]=X,X):X in W?W[X]:H(X)}return this._isCompound&&fr.each(L.nodes(),function(V){L.setParent(V,H(V))}),L},Mi.prototype.setDefaultEdgeLabel=function(C){return fr.isFunction(C)||(C=fr.constant(C)),this._defaultEdgeLabelFn=C,this},Mi.prototype.edgeCount=function(){return this._edgeCount},Mi.prototype.edges=function(){return fr.values(this._edgeObjs)},Mi.prototype.setPath=function(C,L){var D=this,W=arguments;return fr.reduce(C,function(H,V){return W.length>1?D.setEdge(H,V,L):D.setEdge(H,V),V}),this},Mi.prototype.setEdge=function(){var C,L,D,W,H=!1,V=arguments[0];typeof V=="object"&&V!==null&&"v"in V?(C=V.v,L=V.w,D=V.name,arguments.length===2&&(W=arguments[1],H=!0)):(C=V,L=arguments[1],D=arguments[3],arguments.length>2&&(W=arguments[2],H=!0)),C=""+C,L=""+L,fr.isUndefined(D)||(D=""+D);var X=Nu(this._isDirected,C,L,D);if(fr.has(this._edgeLabels,X))return H&&(this._edgeLabels[X]=W),this;if(!fr.isUndefined(D)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(C),this.setNode(L),this._edgeLabels[X]=H?W:this._defaultEdgeLabelFn(C,L,D);var Q=Op(this._isDirected,C,L,D);return C=Q.v,L=Q.w,Object.freeze(Q),this._edgeObjs[X]=Q,a1(this._preds[L],C),a1(this._sucs[C],L),this._in[L][X]=Q,this._out[C][X]=Q,this._edgeCount++,this},Mi.prototype.edge=function(C,L,D){var W=arguments.length===1?py(this._isDirected,arguments[0]):Nu(this._isDirected,C,L,D);return this._edgeLabels[W]},Mi.prototype.hasEdge=function(C,L,D){var W=arguments.length===1?py(this._isDirected,arguments[0]):Nu(this._isDirected,C,L,D);return fr.has(this._edgeLabels,W)},Mi.prototype.removeEdge=function(C,L,D){var W=arguments.length===1?py(this._isDirected,arguments[0]):Nu(this._isDirected,C,L,D),H=this._edgeObjs[W];return H&&(C=H.v,L=H.w,delete this._edgeLabels[W],delete this._edgeObjs[W],Nh(this._preds[L],C),Nh(this._sucs[C],L),delete this._in[L][W],delete this._out[C][W],this._edgeCount--),this},Mi.prototype.inEdges=function(C,L){var D=this._in[C];if(D){var W=fr.values(D);return L?fr.filter(W,function(H){return H.v===L}):W}},Mi.prototype.outEdges=function(C,L){var D=this._out[C];if(D){var W=fr.values(D);return L?fr.filter(W,function(H){return H.w===L}):W}},Mi.prototype.nodeEdges=function(C,L){var D=this.inEdges(C,L);if(D)return D.concat(this.outEdges(C,L))};var dt={Graph:n1,version:"2.1.8"},ov={write:function(C){var L={options:{directed:C.isDirected(),multigraph:C.isMultigraph(),compound:C.isCompound()},nodes:gy(C),edges:iu(C)};return fr.isUndefined(C.graph())||(L.value=fr.clone(C.graph())),L},read:function(C){var L=new n1(C.options).setGraph(C.value);return fr.each(C.nodes,function(D){L.setNode(D.v,D.value),D.parent&&L.setParent(D.v,D.parent)}),fr.each(C.edges,function(D){L.setEdge({v:D.v,w:D.w,name:D.name},D.value)}),L}};function gy(C){return fr.map(C.nodes(),function(L){var D=C.node(L),W=C.parent(L),H={v:L};return fr.isUndefined(D)||(H.value=D),fr.isUndefined(W)||(H.parent=W),H})}function iu(C){return fr.map(C.edges(),function(L){var D=C.edge(L),W={v:L.v,w:L.w};return fr.isUndefined(L.name)||(W.name=L.name),fr.isUndefined(D)||(W.value=D),W})}var un=function(C){var L,D={},W=[];function H(V){fr.has(D,V)||(D[V]=!0,L.push(V),fr.each(C.successors(V),H),fr.each(C.predecessors(V),H))}return fr.each(C.nodes(),function(V){L=[],H(V),L.length&&W.push(L)}),W},JM=nu;function nu(){this._arr=[],this._keyIndices={}}nu.prototype.size=function(){return this._arr.length},nu.prototype.keys=function(){return this._arr.map(function(C){return C.key})},nu.prototype.has=function(C){return fr.has(this._keyIndices,C)},nu.prototype.priority=function(C){var L=this._keyIndices[C];if(L!==void 0)return this._arr[L].priority},nu.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},nu.prototype.add=function(C,L){var D=this._keyIndices;if(C=String(C),!fr.has(D,C)){var W=this._arr,H=W.length;return D[C]=H,W.push({key:C,priority:L}),this._decrease(H),!0}return!1},nu.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var C=this._arr.pop();return delete this._keyIndices[C.key],this._heapify(0),C.key},nu.prototype.decrease=function(C,L){var D=this._keyIndices[C];if(L>this._arr[D].priority)throw new Error("New priority is greater than current priority. Key: "+C+" Old: "+this._arr[D].priority+" New: "+L);this._arr[D].priority=L,this._decrease(D)},nu.prototype._heapify=function(C){var L=this._arr,D=2*C,W=D+1,H=C;D<L.length&&(H=L[D].priority<L[H].priority?D:H,W<L.length&&(H=L[W].priority<L[H].priority?W:H),H!==C&&(this._swap(C,H),this._heapify(H)))},nu.prototype._decrease=function(C){for(var L,D=this._arr,W=D[C].priority;C!==0&&!(D[L=C>>1].priority<W);)this._swap(C,L),C=L},nu.prototype._swap=function(C,L){var D=this._arr,W=this._keyIndices,H=D[C],V=D[L];D[C]=V,D[L]=H,W[V.key]=C,W[H.key]=L};var tA=function(C,L,D,W){return function(H,V,X,Q){var rt,vt,gt={},St=new JM,Nt=function(Vt){var me=Vt.v!==rt?Vt.v:Vt.w,Se=gt[me],Ve=X(Vt),De=vt.distance+Ve;if(Ve<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+Vt+" Weight: "+Ve);De<Se.distance&&(Se.distance=De,Se.predecessor=rt,St.decrease(me,De))};for(H.nodes().forEach(function(Vt){var me=Vt===V?0:Number.POSITIVE_INFINITY;gt[Vt]={distance:me},St.add(Vt,me)});St.size()>0&&(rt=St.removeMin(),(vt=gt[rt]).distance!==Number.POSITIVE_INFINITY);)Q(rt).forEach(Nt);return gt}(C,String(L),D||sv,W||function(H){return C.outEdges(H)})},sv=fr.constant(1),tO=function(C,L,D){return fr.transform(C.nodes(),function(W,H){W[H]=tA(C,H,L,D)},{})},X_=function(C){var L=0,D=[],W={},H=[];function V(X){var Q=W[X]={onStack:!0,lowlink:L,index:L++};if(D.push(X),C.successors(X).forEach(function(gt){fr.has(W,gt)?W[gt].onStack&&(Q.lowlink=Math.min(Q.lowlink,W[gt].index)):(V(gt),Q.lowlink=Math.min(Q.lowlink,W[gt].lowlink))}),Q.lowlink===Q.index){var rt,vt=[];do rt=D.pop(),W[rt].onStack=!1,vt.push(rt);while(X!==rt);H.push(vt)}}return C.nodes().forEach(function(X){fr.has(W,X)||V(X)}),H},eA=function(C){return fr.filter(X_(C),function(L){return L.length>1||L.length===1&&C.hasEdge(L[0],L[0])})},eO=function(C,L,D){return function(W,H,V){var X={},Q=W.nodes();return Q.forEach(function(rt){X[rt]={},X[rt][rt]={distance:0},Q.forEach(function(vt){rt!==vt&&(X[rt][vt]={distance:Number.POSITIVE_INFINITY})}),V(rt).forEach(function(vt){var gt=vt.v===rt?vt.w:vt.v,St=H(vt);X[rt][gt]={distance:St,predecessor:rt}})}),Q.forEach(function(rt){var vt=X[rt];Q.forEach(function(gt){var St=X[gt];Q.forEach(function(Nt){var Vt=St[rt],me=vt[Nt],Se=St[Nt],Ve=Vt.distance+me.distance;Ve<Se.distance&&(Se.distance=Ve,Se.predecessor=me.predecessor)})})}),X}(C,L||rO,D||function(W){return C.outEdges(W)})},rO=fr.constant(1),Ml=my;function my(C){var L={},D={},W=[];if(fr.each(C.sinks(),function H(V){if(fr.has(D,V))throw new o1;fr.has(L,V)||(D[V]=!0,L[V]=!0,fr.each(C.predecessors(V),H),delete D[V],W.push(V))}),fr.size(L)!==C.nodeCount())throw new o1;return W}function o1(){}my.CycleException=o1,o1.prototype=new Error;var rA=function(C,L,D){fr.isArray(L)||(L=[L]);var W=(C.isDirected()?C.successors:C.neighbors).bind(C),H=[],V={};return fr.each(L,function(X){if(!C.hasNode(X))throw new Error("Graph does not have node: "+X);iA(C,X,D==="post",V,W,H)}),H};function iA(C,L,D,W,H,V){fr.has(W,L)||(W[L]=!0,D||V.push(L),fr.each(H(L),function(X){iA(C,X,D,W,H,V)}),D&&V.push(L))}var s1,Oc={Graph:dt.Graph,json:ov,alg:{components:un,dijkstra:tA,dijkstraAll:tO,findCycles:eA,floydWarshall:eO,isAcyclic:function(C){try{Ml(C)}catch(L){if(L instanceof Ml.CycleException)return!1;throw L}return!0},postorder:function(C,L){return rA(C,L,"post")},preorder:function(C,L){return rA(C,L,"pre")},prim:function(C,L){var D,W=new n1,H={},V=new JM;function X(rt){var vt=rt.v===D?rt.w:rt.v,gt=V.priority(vt);if(gt!==void 0){var St=L(rt);St<gt&&(H[vt]=D,V.decrease(vt,St))}}if(C.nodeCount()===0)return W;fr.each(C.nodes(),function(rt){V.add(rt,Number.POSITIVE_INFINITY),W.setNode(rt)}),V.decrease(C.nodes()[0],0);for(var Q=!1;V.size()>0;){if(D=V.removeMin(),fr.has(H,D))W.setEdge(D,H[D]);else{if(Q)throw new Error("Input graph is not connected: "+C);Q=!0}C.nodeEdges(D).forEach(X)}return W},tarjan:X_,topsort:Ml},version:dt.version};try{s1=Oc}catch(C){}s1||(s1=window.graphlib);var au=s1,iO=function(C){return Go(C,5)},yy=function(C,L,D){if(!J(D))return!1;var W=typeof L;return!!(W=="number"?Sc(D)&&Wn(L,D.length):W=="string"&&L in D)&&d(D[L],C)},nA=Object.prototype,nO=nA.hasOwnProperty,lv=hy(function(C,L){C=Object(C);var D=-1,W=L.length,H=W>2?L[2]:void 0;for(H&&yy(L[0],L[1],H)&&(W=1);++D<W;)for(var V=L[D],X=Lh(V),Q=-1,rt=X.length;++Q<rt;){var vt=X[Q],gt=C[vt];(gt===void 0||d(gt,nA[vt])&&!nO.call(C,vt))&&(C[vt]=V[vt])}return C}),kp=function(C){return function(L,D,W){var H=Object(L);if(!Sc(L)){var V=he(D);L=Ih(L),D=function(Q){return V(H[Q],Q,H)}}var X=C(L,D,W);return X>-1?H[V?L[X]:X]:void 0}},aO=/^\s+|\s+$/g,Bu=/^[-+]0x[0-9a-f]+$/i,aA=/^0b[01]+$/i,Z_=/^0o[0-7]+$/i,oO=parseInt,oA=function(C){if(typeof C=="number")return C;if(Ec(C))return NaN;if(J(C)){var L=typeof C.valueOf=="function"?C.valueOf():C;C=J(L)?L+"":L}if(typeof C!="string")return C===0?C:+C;C=C.replace(aO,"");var D=aA.test(C);return D||Z_.test(C)?oO(C.slice(2),D?2:8):Bu.test(C)?NaN:+C},sO=1/0,xy=function(C){return C?(C=oA(C))===sO||C===-1/0?17976931348623157e292*(C<0?-1:1):C==C?C:0:C===0?C:0},sA=function(C){var L=xy(C),D=L%1;return L==L?D?L-D:L:0},lO=Math.max,uO=kp(function(C,L,D){var W=C==null?0:C.length;if(!W)return-1;var H=D==null?0:sA(D);return H<0&&(H=lO(W+H,0)),QM(C,he(L),H)}),Bh=function(C){return(C==null?0:C.length)?H_(C,1):[]},by=function(C,L){return C==null?C:Wx(C,Vx(L),Lh)},uv=function(C){var L=C==null?0:C.length;return L?C[L-1]:void 0},fO=function(C,L){var D={};return L=he(L),bf(C,function(W,H,V){xa(D,H,L(W,H,V))}),D},kc=function(C,L,D){for(var W=-1,H=C.length;++W<H;){var V=C[W],X=L(V);if(X!=null&&(Q===void 0?X==X&&!Ec(X):D(X,Q)))var Q=X,rt=V}return rt},Pp=function(C,L){return C>L},Pc=function(C){return C&&C.length?kc(C,wf,Pp):void 0},Cf=function(C,L,D){(D!==void 0&&!d(C[L],D)||D===void 0&&!(L in C))&&xa(C,L,D)},Rh=Function.prototype,vs=Object.prototype,l1=Rh.toString,u1=vs.hasOwnProperty,f1=l1.call(Object),fv=function(C){if(!wo(C)||lt(C)!="[object Object]")return!1;var L=Km(C);if(L===null)return!0;var D=u1.call(L,"constructor")&&L.constructor;return typeof D=="function"&&D instanceof D&&l1.call(D)==f1},ou=function(C,L){if((L!=="constructor"||typeof C[L]!="function")&&L!="__proto__")return C[L]},wy=function(C){return zs(C,Lh(C))},lA=function(C,L,D,W,H,V,X){var Q=ou(C,D),rt=ou(L,D),vt=X.get(rt);if(vt)Cf(C,D,vt);else{var gt=V?V(Q,rt,D+"",C,L,X):void 0,St=gt===void 0;if(St){var Nt=qe(rt),Vt=!Nt&&ui(rt),me=!Nt&&!Vt&&Th(rt);gt=rt,Nt||Vt||me?qe(Q)?gt=Q:dy(Q)?gt=Nx(Q):Vt?(St=!1,gt=Vm(rt,!0)):me?(St=!1,gt=Jm(rt,!0)):gt=[]:fv(rt)||ba(rt)?(gt=Q,ba(Q)?gt=wy(Q):J(Q)&&!ut(Q)||(gt=Yx(rt))):St=!1}St&&(X.set(rt,gt),H(gt,rt,W,V,X),X.delete(rt)),Cf(C,D,gt)}},_y=function C(L,D,W,H,V){L!==D&&Wx(D,function(X,Q){if(V||(V=new Sn),J(X))lA(L,D,Q,W,C,H,V);else{var rt=H?H(ou(L,Q),X,Q+"",L,D,V):void 0;rt===void 0&&(rt=X),Cf(L,Q,rt)}},Lh)},uA=function(C){return hy(function(L,D){var W=-1,H=D.length,V=H>1?D[H-1]:void 0,X=H>2?D[2]:void 0;for(V=C.length>3&&typeof V=="function"?(H--,V):void 0,X&&yy(D[0],D[1],X)&&(V=H<3?void 0:V,H=1),L=Object(L);++W<H;){var Q=D[W];Q&&C(L,Q,W,V)}return L})}(function(C,L,D){_y(C,L,D)}),c1=function(C,L){return C<L},Ho=function(C){return C&&C.length?kc(C,wf,c1):void 0},Sy=function(C,L){return C&&C.length?kc(C,he(L),c1):void 0},h1=function(){return P.Date.now()},Ru=function(C,L,D,W){if(!J(C))return C;for(var H=-1,V=(L=Du(L,C)).length,X=V-1,Q=C;Q!=null&&++H<V;){var rt=jo(L[H]),vt=D;if(rt==="__proto__"||rt==="constructor"||rt==="prototype")return C;if(H!=X){var gt=Q[rt];(vt=W?W(gt,rt,Q):void 0)===void 0&&(vt=J(gt)?gt:Wn(L[H+1])?[]:{})}ku(Q,rt,vt),Q=Q[rt]}return C},d1=function(C,L,D){for(var W=-1,H=L.length,V={};++W<H;){var X=L[W],Q=ay(C,X);D(Q,X)&&Ru(V,Du(X,C),Q)}return V},Cy=function(C,L){return d1(C,L,function(D,W){return ZM(C,W)})},Gh=function(C){return e1(nv(C,void 0,Bh),C+"")}(function(C,L){return C==null?{}:Cy(C,L)}),v1=Math.ceil,As=Math.max,p1=function(C,L,D,W){for(var H=-1,V=As(v1((L-C)/(D||1)),0),X=Array(V);V--;)X[W?V:++H]=C,C+=D;return X},K_=function(C){return function(L,D,W){return W&&typeof W!="number"&&yy(L,D,W)&&(D=W=void 0),L=xy(L),D===void 0?(D=L,L=0):D=xy(D),W=W===void 0?L<D?1:-1:xy(W),p1(L,D,W,C)}}(),Q_=function(C,L){var D=C.length;for(C.sort(L);D--;)C[D]=C[D].value;return C},fA=function(C,L){if(C!==L){var D=C!==void 0,W=C===null,H=C==C,V=Ec(C),X=L!==void 0,Q=L===null,rt=L==L,vt=Ec(L);if(!Q&&!vt&&!V&&C>L||V&&X&&rt&&!Q&&!vt||W&&X&&rt||!D&&rt||!H)return 1;if(!W&&!V&&!vt&&C<L||vt&&D&&H&&!W&&!V||Q&&D&&H||!X&&H||!rt)return-1}return 0},My=function(C,L,D){for(var W=-1,H=C.criteria,V=L.criteria,X=H.length,Q=D.length;++W<X;){var rt=fA(H[W],V[W]);if(rt)return W>=Q?rt:rt*(D[W]=="desc"?-1:1)}return C.index-L.index},cA=function(C,L,D){L=L.length?il(L,function(V){return qe(V)?function(X){return ay(X,V.length===1?V[0]:V)}:V}):[wf];var W=-1;L=il(L,wl(he));var H=Cl(C,function(V,X,Q){return{criteria:il(L,function(rt){return rt(V)}),index:++W,value:V}});return Q_(H,function(V,X){return My(V,X,D)})},Dp=hy(function(C,L){if(C==null)return[];var D=L.length;return D>1&&yy(C,L[0],L[1])?L=[]:D>2&&yy(L[0],L[1],L[2])&&(L=[L[0]]),cA(C,H_(L,1),[])}),g1=0,hA=function(C){var L=++g1;return Zx(C)+L},dA=function(C,L,D){for(var W=-1,H=C.length,V=L.length,X={};++W<H;){var Q=W<V?L[W]:void 0;D(X,C[W],Q)}return X},Mf,$_=function(C,L){return dA(C||[],L||[],ku)};try{Mf={cloneDeep:iO,constant:zo,defaults:lv,each:_f,filter:Or,find:uO,flatten:Bh,forEach:Ia,forIn:by,has:_o,isUndefined:KM,last:uv,map:oy,mapValues:fO,max:Pc,merge:uA,min:Ho,minBy:Sy,now:h1,pick:Gh,range:K_,reduce:sy,sortBy:Dp,uniqueId:hA,values:Lp,zipObject:$_}}catch(C){}Mf||(Mf=window._);var Lt=Mf,m1=zh;function zh(){var C={};C._next=C._prev=C,this._sentinel=C}function Af(C){C._prev._next=C._next,C._next._prev=C._prev,delete C._next,delete C._prev}function Ay(C,L){if(C!=="_next"&&C!=="_prev")return L}zh.prototype.dequeue=function(){var C=this._sentinel,L=C._prev;if(L!==C)return Af(L),L},zh.prototype.enqueue=function(C){var L=this._sentinel;C._prev&&C._next&&Af(C),C._next=L._next,L._next._prev=C,L._next=C,C._prev=L},zh.prototype.toString=function(){for(var C=[],L=this._sentinel,D=L._prev;D!==L;)C.push(JSON.stringify(D,Ay)),D=D._prev;return"["+C.join(", ")+"]"};var cv=au.Graph,Fp=function(C,L){if(C.nodeCount()<=1)return[];var D=function(H,V){var X=new cv,Q=0,rt=0;Lt.forEach(H.nodes(),function(St){X.setNode(St,{v:St,in:0,out:0})}),Lt.forEach(H.edges(),function(St){var Nt=X.edge(St.v,St.w)||0,Vt=V(St),me=Nt+Vt;X.setEdge(St.v,St.w,me),rt=Math.max(rt,X.node(St.v).out+=Vt),Q=Math.max(Q,X.node(St.w).in+=Vt)});var vt=Lt.range(rt+Q+3).map(function(){return new m1}),gt=Q+1;return Lt.forEach(X.nodes(),function(St){Gu(vt,gt,X.node(St))}),{graph:X,buckets:vt,zeroIdx:gt}}(C,L||hv),W=function(H,V,X){for(var Q,rt=[],vt=V[V.length-1],gt=V[0];H.nodeCount();){for(;Q=gt.dequeue();)Dc(H,V,X,Q);for(;Q=vt.dequeue();)Dc(H,V,X,Q);if(H.nodeCount()){for(var St=V.length-2;St>0;--St)if(Q=V[St].dequeue()){rt=rt.concat(Dc(H,V,X,Q,!0));break}}}return rt}(D.graph,D.buckets,D.zeroIdx);return Lt.flatten(Lt.map(W,function(H){return C.outEdges(H.v,H.w)}),!0)},hv=Lt.constant(1);function Dc(C,L,D,W,H){var V=H?[]:void 0;return Lt.forEach(C.inEdges(W.v),function(X){var Q=C.edge(X),rt=C.node(X.v);H&&V.push({v:X.v,w:X.w}),rt.out-=Q,Gu(L,D,rt)}),Lt.forEach(C.outEdges(W.v),function(X){var Q=C.edge(X),rt=X.w,vt=C.node(rt);vt.in-=Q,Gu(L,D,vt)}),C.removeNode(W.v),V}function Gu(C,L,D){D.out?D.in?C[D.out-D.in+L].enqueue(D):C[C.length-1].enqueue(D):C[0].enqueue(D)}var Fc={run:function(C){var L=C.graph().acyclicer==="greedy"?Fp(C,function(D){return function(W){return D.edge(W).weight}}(C)):function(D){var W=[],H={},V={};function X(Q){Lt.has(V,Q)||(V[Q]=!0,H[Q]=!0,Lt.forEach(D.outEdges(Q),function(rt){Lt.has(H,rt.w)?W.push(rt):X(rt.w)}),delete H[Q])}return Lt.forEach(D.nodes(),X),W}(C);Lt.forEach(L,function(D){var W=C.edge(D);C.removeEdge(D),W.forwardName=D.name,W.reversed=!0,C.setEdge(D.w,D.v,W,Lt.uniqueId("rev"))})},undo:function(C){Lt.forEach(C.edges(),function(L){var D=C.edge(L);if(D.reversed){C.removeEdge(L);var W=D.forwardName;delete D.reversed,delete D.forwardName,C.setEdge(L.w,L.v,D,W)}})}},Np=au.Graph,ro={addDummyNode:Nc,simplify:function(C){var L=new Np().setGraph(C.graph());return Lt.forEach(C.nodes(),function(D){L.setNode(D,C.node(D))}),Lt.forEach(C.edges(),function(D){var W=L.edge(D.v,D.w)||{weight:0,minlen:1},H=C.edge(D);L.setEdge(D.v,D.w,{weight:W.weight+H.weight,minlen:Math.max(W.minlen,H.minlen)})}),L},asNonCompoundGraph:function(C){var L=new Np({multigraph:C.isMultigraph()}).setGraph(C.graph());return Lt.forEach(C.nodes(),function(D){C.children(D).length||L.setNode(D,C.node(D))}),Lt.forEach(C.edges(),function(D){L.setEdge(D,C.edge(D))}),L},successorWeights:function(C){var L=Lt.map(C.nodes(),function(D){var W={};return Lt.forEach(C.outEdges(D),function(H){W[H.w]=(W[H.w]||0)+C.edge(H).weight}),W});return Lt.zipObject(C.nodes(),L)},predecessorWeights:function(C){var L=Lt.map(C.nodes(),function(D){var W={};return Lt.forEach(C.inEdges(D),function(H){W[H.v]=(W[H.v]||0)+C.edge(H).weight}),W});return Lt.zipObject(C.nodes(),L)},intersectRect:function(C,L){var D,W,H=C.x,V=C.y,X=L.x-H,Q=L.y-V,rt=C.width/2,vt=C.height/2;if(!X&&!Q)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(Q)*rt>Math.abs(X)*vt?(Q<0&&(vt=-vt),D=vt*X/Q,W=vt):(X<0&&(rt=-rt),D=rt,W=rt*Q/X),{x:H+D,y:V+W}},buildLayerMatrix:function(C){var L=Lt.map(Lt.range(y1(C)+1),function(){return[]});return Lt.forEach(C.nodes(),function(D){var W=C.node(D),H=W.rank;Lt.isUndefined(H)||(L[H][W.order]=D)}),L},normalizeRanks:function(C){var L=Lt.min(Lt.map(C.nodes(),function(D){return C.node(D).rank}));Lt.forEach(C.nodes(),function(D){var W=C.node(D);Lt.has(W,"rank")&&(W.rank-=L)})},removeEmptyRanks:function(C){var L=Lt.min(Lt.map(C.nodes(),function(V){return C.node(V).rank})),D=[];Lt.forEach(C.nodes(),function(V){var X=C.node(V).rank-L;D[X]||(D[X]=[]),D[X].push(V)});var W=0,H=C.graph().nodeRankFactor;Lt.forEach(D,function(V,X){Lt.isUndefined(V)&&X%H!=0?--W:W&&Lt.forEach(V,function(Q){C.node(Q).rank+=W})})},addBorderNode:function(C,L,D,W){var H={width:0,height:0};return arguments.length>=4&&(H.rank=D,H.order=W),Nc(C,"border",H,L)},maxRank:y1,partition:function(C,L){var D={lhs:[],rhs:[]};return Lt.forEach(C,function(W){L(W)?D.lhs.push(W):D.rhs.push(W)}),D},time:function(C,L){var D=Lt.now();try{return L()}finally{console.log(C+" time: "+(Lt.now()-D)+"ms")}},notime:function(C,L){return L()}};function Nc(C,L,D,W){var H;do H=Lt.uniqueId(W);while(C.hasNode(H));return D.dummy=L,C.setNode(H,D),H}function y1(C){return Lt.max(Lt.map(C.nodes(),function(L){var D=C.node(L).rank;if(!Lt.isUndefined(D))return D}))}var Ey={run:function(C){C.graph().dummyChains=[],Lt.forEach(C.edges(),function(L){(function(D,W){var H,V,X,Q=W.v,rt=D.node(Q).rank,vt=W.w,gt=D.node(vt).rank,St=W.name,Nt=D.edge(W),Vt=Nt.labelRank;if(gt!==rt+1){for(D.removeEdge(W),X=0,++rt;rt<gt;++X,++rt)Nt.points=[],V={width:0,height:0,edgeLabel:Nt,edgeObj:W,rank:rt},H=ro.addDummyNode(D,"edge",V,"_d"),rt===Vt&&(V.width=Nt.width,V.height=Nt.height,V.dummy="edge-label",V.labelpos=Nt.labelpos),D.setEdge(Q,H,{weight:Nt.weight},St),X===0&&D.graph().dummyChains.push(H),Q=H;D.setEdge(Q,vt,{weight:Nt.weight},St)}})(C,L)})},undo:function(C){Lt.forEach(C.graph().dummyChains,function(L){var D,W=C.node(L),H=W.edgeLabel;for(C.setEdge(W.edgeObj,H);W.dummy;)D=C.successors(L)[0],C.removeNode(L),H.points.push({x:W.x,y:W.y}),W.dummy==="edge-label"&&(H.x=W.x,H.y=W.y,H.width=W.width,H.height=W.height),L=D,W=C.node(L)})}},jh=function(C){var L={};Lt.forEach(C.sources(),function D(W){var H=C.node(W);if(Lt.has(L,W))return H.rank;L[W]=!0;var V=Lt.min(Lt.map(C.outEdges(W),function(X){return D(X.w)-C.edge(X).minlen}));return V!==Number.POSITIVE_INFINITY&&V!=null||(V=0),H.rank=V})},dv=function(C,L){return C.node(L.w).rank-C.node(L.v).rank-C.edge(L).minlen},vA=au.Graph,x1=dv,Ty=function(C){var L,D,W=new vA({directed:!1}),H=C.nodes()[0],V=C.nodeCount();for(W.setNode(H,{});J_(W,C)<V;)L=b1(W,C),D=W.hasNode(L.v)?x1(C,L):-x1(C,L),cO(W,C,D);return W};function J_(C,L){return Lt.forEach(C.nodes(),function D(W){Lt.forEach(L.nodeEdges(W),function(H){var V=H.v,X=W===V?H.w:V;C.hasNode(X)||x1(L,H)||(C.setNode(X,{}),C.setEdge(W,X,{}),D(X))})}),C.nodeCount()}function b1(C,L){return Lt.minBy(L.edges(),function(D){if(C.hasNode(D.v)!==C.hasNode(D.w))return x1(L,D)})}function cO(C,L,D){Lt.forEach(C.nodes(),function(W){L.node(W).rank+=D})}var Yh=dv,Zi=jh,hO=au.alg.preorder,dO=au.alg.postorder,Bp=ro.simplify,pA=vv;function vv(C){C=Bp(C),Zi(C);var L,D=Ty(C);for(eS(D),tS(D,C);L=w1(D);)iS(D,C,L,rS(D,C,L))}function tS(C,L){var D=dO(C,C.nodes());D=D.slice(0,D.length-1),Lt.forEach(D,function(W){(function(H,V,X){var Q=H.node(X).parent;H.edge(X,Q).cutvalue=Al(H,V,X)})(C,L,W)})}function Al(C,L,D){var W=C.node(D).parent,H=!0,V=L.edge(D,W),X=0;return V||(H=!1,V=L.edge(W,D)),X=V.weight,Lt.forEach(L.nodeEdges(D),function(Q){var rt,vt,gt=Q.v===D,St=gt?Q.w:Q.v;if(St!==W){var Nt=gt===H,Vt=L.edge(Q).weight;if(X+=Nt?Vt:-Vt,rt=D,vt=St,C.hasEdge(rt,vt)){var me=C.edge(D,St).cutvalue;X+=Nt?-me:me}}}),X}function eS(C,L){arguments.length<2&&(L=C.nodes()[0]),Iy(C,{},1,L)}function Iy(C,L,D,W,H){var V=D,X=C.node(W);return L[W]=!0,Lt.forEach(C.neighbors(W),function(Q){Lt.has(L,Q)||(D=Iy(C,L,D,Q,W))}),X.low=V,X.lim=D++,H?X.parent=H:delete X.parent,D}function w1(C){return Lt.find(C.edges(),function(L){return C.edge(L).cutvalue<0})}function rS(C,L,D){var W=D.v,H=D.w;L.hasEdge(W,H)||(W=D.w,H=D.v);var V=C.node(W),X=C.node(H),Q=V,rt=!1;V.lim>X.lim&&(Q=X,rt=!0);var vt=Lt.filter(L.edges(),function(gt){return rt===nl(C,C.node(gt.v),Q)&&rt!==nl(C,C.node(gt.w),Q)});return Lt.minBy(vt,function(gt){return Yh(L,gt)})}function iS(C,L,D,W){var H=D.v,V=D.w;C.removeEdge(H,V),C.setEdge(W.v,W.w,{}),eS(C),tS(C,L),function(X,Q){var rt=Lt.find(X.nodes(),function(gt){return!Q.node(gt).parent}),vt=hO(X,rt);vt=vt.slice(1),Lt.forEach(vt,function(gt){var St=X.node(gt).parent,Nt=Q.edge(gt,St),Vt=!1;Nt||(Nt=Q.edge(St,gt),Vt=!0),Q.node(gt).rank=Q.node(St).rank+(Vt?Nt.minlen:-Nt.minlen)})}(C,L)}function nl(C,L,D){return D.low<=L.lim&&L.lim<=D.lim}vv.initLowLimValues=eS,vv.initCutValues=tS,vv.calcCutValue=Al,vv.leaveEdge=w1,vv.enterEdge=rS,vv.exchangeEdges=iS;var zu=jh,Rp=function(C){switch(C.graph().ranker){case"network-simplex":Wh(C);break;case"tight-tree":(function(L){zu(L),Ty(L)})(C);break;case"longest-path":Ly(C);break;default:Wh(C)}},Ly=zu;function Wh(C){pA(C)}var _1=function(C){var L=function(D){var W={},H=0;function V(X){var Q=H;Lt.forEach(D.children(X),V),W[X]={low:Q,lim:H++}}return Lt.forEach(D.children(),V),W}(C);Lt.forEach(C.graph().dummyChains,function(D){for(var W=C.node(D),H=W.edgeObj,V=function(St,Nt,Vt,me){var Se,Ve,De=[],pr=[],Cr=Math.min(Nt[Vt].low,Nt[me].low),Zr=Math.max(Nt[Vt].lim,Nt[me].lim);Se=Vt;do Se=St.parent(Se),De.push(Se);while(Se&&(Nt[Se].low>Cr||Zr>Nt[Se].lim));for(Ve=Se,Se=me;(Se=St.parent(Se))!==Ve;)pr.push(Se);return{path:De.concat(pr.reverse()),lca:Ve}}(C,L,H.v,H.w),X=V.path,Q=V.lca,rt=0,vt=X[rt],gt=!0;D!==H.w;){if(W=C.node(D),gt){for(;(vt=X[rt])!==Q&&C.node(vt).maxRank<W.rank;)rt++;vt===Q&&(gt=!1)}if(!gt){for(;rt<X.length-1&&C.node(vt=X[rt+1]).minRank<=W.rank;)rt++;vt=X[rt]}C.setParent(D,vt),D=C.successors(D)[0]}})},pv={run:function(C){var L=ro.addDummyNode(C,"root",{},"_root"),D=function(X){var Q={};function rt(vt,gt){var St=X.children(vt);St&&St.length&&Lt.forEach(St,function(Nt){rt(Nt,gt+1)}),Q[vt]=gt}return Lt.forEach(X.children(),function(vt){rt(vt,1)}),Q}(C),W=Lt.max(Lt.values(D))-1,H=2*W+1;C.graph().nestingRoot=L,Lt.forEach(C.edges(),function(X){C.edge(X).minlen*=H});var V=function(X){return Lt.reduce(X.edges(),function(Q,rt){return Q+X.edge(rt).weight},0)}(C)+1;Lt.forEach(C.children(),function(X){Gp(C,L,H,V,W,D,X)}),C.graph().nodeRankFactor=H},cleanup:function(C){var L=C.graph();C.removeNode(L.nestingRoot),delete L.nestingRoot,Lt.forEach(C.edges(),function(D){C.edge(D).nestingEdge&&C.removeEdge(D)})}};function Gp(C,L,D,W,H,V,X){var Q=C.children(X);if(Q.length){var rt=ro.addBorderNode(C,"_bt"),vt=ro.addBorderNode(C,"_bb"),gt=C.node(X);C.setParent(rt,X),gt.borderTop=rt,C.setParent(vt,X),gt.borderBottom=vt,Lt.forEach(Q,function(St){Gp(C,L,D,W,H,V,St);var Nt=C.node(St),Vt=Nt.borderTop?Nt.borderTop:St,me=Nt.borderBottom?Nt.borderBottom:St,Se=Nt.borderTop?W:2*W,Ve=Vt!==me?1:H-V[X]+1;C.setEdge(rt,Vt,{weight:Se,minlen:Ve,nestingEdge:!0}),C.setEdge(me,vt,{weight:Se,minlen:Ve,nestingEdge:!0})}),C.parent(X)||C.setEdge(L,rt,{weight:0,minlen:H+V[X]})}else X!==L&&C.setEdge(L,X,{weight:0,minlen:D})}var zp=function(C){Lt.forEach(C.children(),function L(D){var W=C.children(D),H=C.node(D);if(W.length&&Lt.forEach(W,L),Lt.has(H,"minRank")){H.borderLeft=[],H.borderRight=[];for(var V=H.minRank,X=H.maxRank+1;V<X;++V)jp(C,"borderLeft","_bl",D,H,V),jp(C,"borderRight","_br",D,H,V)}})};function jp(C,L,D,W,H,V){var X={width:0,height:0,rank:V,borderType:L},Q=H[L][V-1],rt=ro.addDummyNode(C,"border",X,D);H[L][V]=rt,C.setParent(rt,W),Q&&C.setEdge(Q,rt,{weight:1})}var su={adjust:function(C){var L=C.graph().rankdir.toLowerCase();L!=="lr"&&L!=="rl"||Oy(C)},undo:function(C){var L=C.graph().rankdir.toLowerCase();L!=="bt"&&L!=="rl"||function(D){Lt.forEach(D.nodes(),function(W){Vh(D.node(W))}),Lt.forEach(D.edges(),function(W){var H=D.edge(W);Lt.forEach(H.points,Vh),Lt.has(H,"y")&&Vh(H)})}(C),L!=="lr"&&L!=="rl"||(function(D){Lt.forEach(D.nodes(),function(W){qh(D.node(W))}),Lt.forEach(D.edges(),function(W){var H=D.edge(W);Lt.forEach(H.points,qh),Lt.has(H,"x")&&qh(H)})}(C),Oy(C))}};function Oy(C){Lt.forEach(C.nodes(),function(L){lu(C.node(L))}),Lt.forEach(C.edges(),function(L){lu(C.edge(L))})}function lu(C){var L=C.width;C.width=C.height,C.height=L}function Vh(C){C.y=-C.y}function qh(C){var L=C.x;C.x=C.y,C.y=L}var gv=function(C){var L={},D=Lt.filter(C.nodes(),function(Q){return!C.children(Q).length}),W=Lt.max(Lt.map(D,function(Q){return C.node(Q).rank})),H=Lt.map(Lt.range(W+1),function(){return[]});function V(Q){if(!Lt.has(L,Q)){L[Q]=!0;var rt=C.node(Q);H[rt.rank].push(Q),Lt.forEach(C.successors(Q),V)}}var X=Lt.sortBy(D,function(Q){return C.node(Q).rank});return Lt.forEach(X,V),H},ky=function(C,L){for(var D=0,W=1;W<L.length;++W)D+=Py(C,L[W-1],L[W]);return D};function Py(C,L,D){for(var W=Lt.zipObject(D,Lt.map(D,function(vt,gt){return gt})),H=Lt.flatten(Lt.map(L,function(vt){return Lt.sortBy(Lt.map(C.outEdges(vt),function(gt){return{pos:W[gt.w],weight:C.edge(gt).weight}}),"pos")}),!0),V=1;V<D.length;)V<<=1;var X=2*V-1;V-=1;var Q=Lt.map(new Array(X),function(){return 0}),rt=0;return Lt.forEach(H.forEach(function(vt){var gt=vt.pos+V;Q[gt]+=vt.weight;for(var St=0;gt>0;)gt%2&&(St+=Q[gt+1]),Q[gt=gt-1>>1]+=vt.weight;rt+=vt.weight*St})),rt}var gA=function(C,L){return Lt.map(L,function(D){var W=C.inEdges(D);if(W.length){var H=Lt.reduce(W,function(V,X){var Q=C.edge(X),rt=C.node(X.v);return{sum:V.sum+Q.weight*rt.order,weight:V.weight+Q.weight}},{sum:0,weight:0});return{v:D,barycenter:H.sum/H.weight,weight:H.weight}}return{v:D}})},Yp=function(C,L){var D={};return Lt.forEach(C,function(W,H){var V=D[W.v]={indegree:0,in:[],out:[],vs:[W.v],i:H};Lt.isUndefined(W.barycenter)||(V.barycenter=W.barycenter,V.weight=W.weight)}),Lt.forEach(L.edges(),function(W){var H=D[W.v],V=D[W.w];Lt.isUndefined(H)||Lt.isUndefined(V)||(V.indegree++,H.out.push(D[W.w]))}),function(W){var H=[];function V(rt){return function(vt){vt.merged||(Lt.isUndefined(vt.barycenter)||Lt.isUndefined(rt.barycenter)||vt.barycenter>=rt.barycenter)&&function(gt,St){var Nt=0,Vt=0;gt.weight&&(Nt+=gt.barycenter*gt.weight,Vt+=gt.weight),St.weight&&(Nt+=St.barycenter*St.weight,Vt+=St.weight),gt.vs=St.vs.concat(gt.vs),gt.barycenter=Nt/Vt,gt.weight=Vt,gt.i=Math.min(St.i,gt.i),St.merged=!0}(rt,vt)}}function X(rt){return function(vt){vt.in.push(rt),--vt.indegree==0&&W.push(vt)}}for(;W.length;){var Q=W.pop();H.push(Q),Lt.forEach(Q.in.reverse(),V(Q)),Lt.forEach(Q.out,X(Q))}return Lt.map(Lt.filter(H,function(rt){return!rt.merged}),function(rt){return Lt.pick(rt,["vs","i","barycenter","weight"])})}(Lt.filter(D,function(W){return!W.indegree}))},Hh=function(C,L){var D=ro.partition(C,function(St){return Lt.has(St,"barycenter")}),W=D.lhs,H=Lt.sortBy(D.rhs,function(St){return-St.i}),V=[],X=0,Q=0,rt=0;W.sort((vt=!!L,function(St,Nt){return St.barycenter<Nt.barycenter?-1:St.barycenter>Nt.barycenter?1:vt?Nt.i-St.i:St.i-Nt.i})),rt=nS(V,H,rt),Lt.forEach(W,function(St){rt+=St.vs.length,V.push(St.vs),X+=St.barycenter*St.weight,Q+=St.weight,rt=nS(V,H,rt)});var vt,gt={vs:Lt.flatten(V,!0)};return Q&&(gt.barycenter=X/Q,gt.weight=Q),gt};function nS(C,L,D){for(var W;L.length&&(W=Lt.last(L)).i<=D;)L.pop(),C.push(W.vs),D++;return D}var S1=function C(L,D,W,H){var V=L.children(D),X=L.node(D),Q=X?X.borderLeft:void 0,rt=X?X.borderRight:void 0,vt={};Q&&(V=Lt.filter(V,function(Se){return Se!==Q&&Se!==rt}));var gt=gA(L,V);Lt.forEach(gt,function(Se){if(L.children(Se.v).length){var Ve=C(L,Se.v,W,H);vt[Se.v]=Ve,Lt.has(Ve,"barycenter")&&(De=Se,pr=Ve,Lt.isUndefined(De.barycenter)?(De.barycenter=pr.barycenter,De.weight=pr.weight):(De.barycenter=(De.barycenter*De.weight+pr.barycenter*pr.weight)/(De.weight+pr.weight),De.weight+=pr.weight))}var De,pr});var St=Yp(gt,W);(function(Se,Ve){Lt.forEach(Se,function(De){De.vs=Lt.flatten(De.vs.map(function(pr){return Ve[pr]?Ve[pr].vs:pr}),!0)})})(St,vt);var Nt=Hh(St,H);if(Q&&(Nt.vs=Lt.flatten([Q,Nt.vs,rt],!0),L.predecessors(Q).length)){var Vt=L.node(L.predecessors(Q)[0]),me=L.node(L.predecessors(rt)[0]);Lt.has(Nt,"barycenter")||(Nt.barycenter=0,Nt.weight=0),Nt.barycenter=(Nt.barycenter*Nt.weight+Vt.order+me.order)/(Nt.weight+2),Nt.weight+=2}return Nt},mA=au.Graph,al=function(C,L,D){var W=function(V){for(var X;V.hasNode(X=Lt.uniqueId("_root")););return X}(C),H=new mA({compound:!0}).setGraph({root:W}).setDefaultNodeLabel(function(V){return C.node(V)});return Lt.forEach(C.nodes(),function(V){var X=C.node(V),Q=C.parent(V);(X.rank===L||X.minRank<=L&&L<=X.maxRank)&&(H.setNode(V),H.setParent(V,Q||W),Lt.forEach(C[D](V),function(rt){var vt=rt.v===V?rt.w:rt.v,gt=H.edge(vt,V),St=Lt.isUndefined(gt)?0:gt.weight;H.setEdge(vt,V,{weight:C.edge(rt).weight+St})}),Lt.has(X,"minRank")&&H.setNode(V,{borderLeft:X.borderLeft[L],borderRight:X.borderRight[L]}))}),H},Ef=function(C,L,D){var W,H={};Lt.forEach(D,function(V){for(var X,Q,rt=C.parent(V);rt;){if((X=C.parent(rt))?(Q=H[X],H[X]=rt):(Q=W,W=rt),Q&&Q!==rt)return void L.setEdge(Q,rt);rt=X}})},Uh=au.Graph,yA=function(C){var L=ro.maxRank(C),D=Wp(C,Lt.range(1,L+1),"inEdges"),W=Wp(C,Lt.range(L-1,-1,-1),"outEdges"),H=gv(C);aS(C,H);for(var V,X=Number.POSITIVE_INFINITY,Q=0,rt=0;rt<4;++Q,++rt){mv(Q%2?D:W,Q%4>=2),H=ro.buildLayerMatrix(C);var vt=ky(C,H);vt<X&&(rt=0,V=Lt.cloneDeep(H),X=vt)}aS(C,V)};function Wp(C,L,D){return Lt.map(L,function(W){return al(C,W,D)})}function mv(C,L){var D=new Uh;Lt.forEach(C,function(W){var H=W.graph().root,V=S1(W,H,D,L);Lt.forEach(V.vs,function(X,Q){W.node(X).order=Q}),Ef(W,D,V.vs)})}function aS(C,L){Lt.forEach(L,function(D){Lt.forEach(D,function(W,H){C.node(W).order=H})})}var oS=au.Graph,vO=function(C){var L,D=ro.buildLayerMatrix(C),W=Lt.merge(ju(C,D),yv(C,D)),H={};Lt.forEach(["u","d"],function(X){L=X==="u"?D:Lt.values(D).reverse(),Lt.forEach(["l","r"],function(Q){Q==="r"&&(L=Lt.map(L,function(St){return Lt.values(St).reverse()}));var rt=(X==="u"?C.predecessors:C.successors).bind(C),vt=sS(C,L,W,rt),gt=C1(C,L,vt.root,vt.align,Q==="r");Q==="r"&&(gt=Lt.mapValues(gt,function(St){return-St})),H[X+Q]=gt})});var V=xv(C,H);return lS(H,V),Uo(H,C.graph().align)};function ju(C,L){var D={};return Lt.reduce(L,function(W,H){var V=0,X=0,Q=W.length,rt=Lt.last(H);return Lt.forEach(H,function(vt,gt){var St=function(Vt,me){if(Vt.node(me).dummy)return Lt.find(Vt.predecessors(me),function(Se){return Vt.node(Se).dummy})}(C,vt),Nt=St?C.node(St).order:Q;(St||vt===rt)&&(Lt.forEach(H.slice(X,gt+1),function(Vt){Lt.forEach(C.predecessors(Vt),function(me){var Se=C.node(me),Ve=Se.order;!(Ve<V||Nt<Ve)||Se.dummy&&C.node(Vt).dummy||Yu(D,me,Vt)})}),X=gt+1,V=Nt)}),H}),D}function yv(C,L){var D={};function W(H,V,X,Q,rt){var vt;Lt.forEach(Lt.range(V,X),function(gt){vt=H[gt],C.node(vt).dummy&&Lt.forEach(C.predecessors(vt),function(St){var Nt=C.node(St);Nt.dummy&&(Nt.order<Q||Nt.order>rt)&&Yu(D,St,vt)})})}return Lt.reduce(L,function(H,V){var X,Q=-1,rt=0;return Lt.forEach(V,function(vt,gt){if(C.node(vt).dummy==="border"){var St=C.predecessors(vt);St.length&&(X=C.node(St[0]).order,W(V,rt,gt,Q,X),rt=gt,Q=X)}W(V,rt,V.length,X,H.length)}),V}),D}function Yu(C,L,D){if(L>D){var W=L;L=D,D=W}var H=C[L];H||(C[L]=H={}),H[D]=!0}function Xh(C,L,D){if(L>D){var W=L;L=D,D=W}return Lt.has(C[L],D)}function sS(C,L,D,W){var H={},V={},X={};return Lt.forEach(L,function(Q){Lt.forEach(Q,function(rt,vt){H[rt]=rt,V[rt]=rt,X[rt]=vt})}),Lt.forEach(L,function(Q){var rt=-1;Lt.forEach(Q,function(vt){var gt=W(vt);if(gt.length)for(var St=((gt=Lt.sortBy(gt,function(Se){return X[Se]})).length-1)/2,Nt=Math.floor(St),Vt=Math.ceil(St);Nt<=Vt;++Nt){var me=gt[Nt];V[vt]===vt&&rt<X[me]&&!Xh(D,vt,me)&&(V[me]=vt,V[vt]=H[vt]=H[me],rt=X[me])}})}),{root:H,align:V}}function C1(C,L,D,W,H){var V={},X=function(vt,gt,St,Nt){var Vt=new oS,me=vt.graph(),Se=function(Ve,De,pr){return function(Cr,Zr,fi){var Pi,dn=Cr.node(Zr),yn=Cr.node(fi),Kr=0;if(Kr+=dn.width/2,Lt.has(dn,"labelpos"))switch(dn.labelpos.toLowerCase()){case"l":Pi=-dn.width/2;break;case"r":Pi=dn.width/2}if(Pi&&(Kr+=pr?Pi:-Pi),Pi=0,Kr+=(dn.dummy?De:Ve)/2,Kr+=(yn.dummy?De:Ve)/2,Kr+=yn.width/2,Lt.has(yn,"labelpos"))switch(yn.labelpos.toLowerCase()){case"l":Pi=yn.width/2;break;case"r":Pi=-yn.width/2}return Pi&&(Kr+=pr?Pi:-Pi),Pi=0,Kr}}(me.nodesep,me.edgesep,Nt);return Lt.forEach(gt,function(Ve){var De;Lt.forEach(Ve,function(pr){var Cr=St[pr];if(Vt.setNode(Cr),De){var Zr=St[De],fi=Vt.edge(Zr,Cr);Vt.setEdge(Zr,Cr,Math.max(Se(vt,pr,De),fi||0))}De=pr})}),Vt}(C,L,D,H),Q=H?"borderLeft":"borderRight";function rt(vt,gt){for(var St=X.nodes(),Nt=St.pop(),Vt={};Nt;)Vt[Nt]?vt(Nt):(Vt[Nt]=!0,St.push(Nt),St=St.concat(gt(Nt))),Nt=St.pop()}return rt(function(vt){V[vt]=X.inEdges(vt).reduce(function(gt,St){return Math.max(gt,V[St.v]+X.edge(St))},0)},X.predecessors.bind(X)),rt(function(vt){var gt=X.outEdges(vt).reduce(function(Nt,Vt){return Math.min(Nt,V[Vt.w]-X.edge(Vt))},Number.POSITIVE_INFINITY),St=C.node(vt);gt!==Number.POSITIVE_INFINITY&&St.borderType!==Q&&(V[vt]=Math.max(V[vt],gt))},X.successors.bind(X)),Lt.forEach(W,function(vt){V[vt]=V[D[vt]]}),V}function xv(C,L){return Lt.minBy(Lt.values(L),function(D){var W=Number.NEGATIVE_INFINITY,H=Number.POSITIVE_INFINITY;return Lt.forIn(D,function(V,X){var Q=function(rt,vt){return rt.node(vt).width}(C,X)/2;W=Math.max(V+Q,W),H=Math.min(V-Q,H)}),W-H})}function lS(C,L){var D=Lt.values(L),W=Lt.min(D),H=Lt.max(D);Lt.forEach(["u","d"],function(V){Lt.forEach(["l","r"],function(X){var Q,rt=V+X,vt=C[rt];if(vt!==L){var gt=Lt.values(vt);(Q=X==="l"?W-Lt.min(gt):H-Lt.max(gt))&&(C[rt]=Lt.mapValues(vt,function(St){return St+Q}))}})})}function Uo(C,L){return Lt.mapValues(C.ul,function(D,W){if(L)return C[L.toLowerCase()][W];var H=Lt.sortBy(Lt.map(C,W));return(H[1]+H[2])/2})}var Tf=vO,La=function(C){(function(L){var D=ro.buildLayerMatrix(L),W=L.graph().ranksep,H=0;Lt.forEach(D,function(V){var X=Lt.max(Lt.map(V,function(Q){return L.node(Q).height}));Lt.forEach(V,function(Q){L.node(Q).y=H+X/2}),H+=X+W})})(C=ro.asNonCompoundGraph(C)),Lt.forEach(Tf(C),function(L,D){C.node(D).x=L})},ol=ro.normalizeRanks,uS=ro.removeEmptyRanks,Wu=ro,xA=au.Graph,fS=function(C,L){var D=L&&L.debugTiming?Wu.time:Wu.notime;D("layout",function(){var W=D("  buildLayoutGraph",function(){return function(H){var V=new xA({multigraph:!0,compound:!0}),X=uu(H.graph());return V.setGraph(Lt.merge({},cS,M1(X,pO),Lt.pick(X,Bc))),Lt.forEach(H.nodes(),function(Q){var rt=uu(H.node(Q));V.setNode(Q,Lt.defaults(M1(rt,bA),wA)),V.setParent(Q,H.parent(Q))}),Lt.forEach(H.edges(),function(Q){var rt=uu(H.edge(Q));V.setEdge(Q,Lt.merge({},_A,M1(rt,gO),Lt.pick(rt,SA)))}),V}(C)});D("  runLayout",function(){(function(H,V){V("    makeSpaceForEdgeLabels",function(){(function(X){var Q=X.graph();Q.ranksep/=2,Lt.forEach(X.edges(),function(rt){var vt=X.edge(rt);vt.minlen*=2,vt.labelpos.toLowerCase()!=="c"&&(Q.rankdir==="TB"||Q.rankdir==="BT"?vt.width+=vt.labeloffset:vt.height+=vt.labeloffset)})})(H)}),V("    removeSelfEdges",function(){(function(X){Lt.forEach(X.edges(),function(Q){if(Q.v===Q.w){var rt=X.node(Q.v);rt.selfEdges||(rt.selfEdges=[]),rt.selfEdges.push({e:Q,label:X.edge(Q)}),X.removeEdge(Q)}})})(H)}),V("    acyclic",function(){Fc.run(H)}),V("    nestingGraph.run",function(){pv.run(H)}),V("    rank",function(){Rp(Wu.asNonCompoundGraph(H))}),V("    injectEdgeLabelProxies",function(){(function(X){Lt.forEach(X.edges(),function(Q){var rt=X.edge(Q);if(rt.width&&rt.height){var vt=X.node(Q.v),gt={rank:(X.node(Q.w).rank-vt.rank)/2+vt.rank,e:Q};Wu.addDummyNode(X,"edge-proxy",gt,"_ep")}})})(H)}),V("    removeEmptyRanks",function(){uS(H)}),V("    nestingGraph.cleanup",function(){pv.cleanup(H)}),V("    normalizeRanks",function(){ol(H)}),V("    assignRankMinMax",function(){(function(X){var Q=0;Lt.forEach(X.nodes(),function(rt){var vt=X.node(rt);vt.borderTop&&(vt.minRank=X.node(vt.borderTop).rank,vt.maxRank=X.node(vt.borderBottom).rank,Q=Lt.max(Q,vt.maxRank))}),X.graph().maxRank=Q})(H)}),V("    removeEdgeLabelProxies",function(){(function(X){Lt.forEach(X.nodes(),function(Q){var rt=X.node(Q);rt.dummy==="edge-proxy"&&(X.edge(rt.e).labelRank=rt.rank,X.removeNode(Q))})})(H)}),V("    normalize.run",function(){Ey.run(H)}),V("    parentDummyChains",function(){_1(H)}),V("    addBorderSegments",function(){zp(H)}),V("    order",function(){yA(H)}),V("    insertSelfEdges",function(){(function(X){var Q=Wu.buildLayerMatrix(X);Lt.forEach(Q,function(rt){var vt=0;Lt.forEach(rt,function(gt,St){var Nt=X.node(gt);Nt.order=St+vt,Lt.forEach(Nt.selfEdges,function(Vt){Wu.addDummyNode(X,"selfedge",{width:Vt.label.width,height:Vt.label.height,rank:Nt.rank,order:St+ ++vt,e:Vt.e,label:Vt.label},"_se")}),delete Nt.selfEdges})})})(H)}),V("    adjustCoordinateSystem",function(){su.adjust(H)}),V("    position",function(){La(H)}),V("    positionSelfEdges",function(){(function(X){Lt.forEach(X.nodes(),function(Q){var rt=X.node(Q);if(rt.dummy==="selfedge"){var vt=X.node(rt.e.v),gt=vt.x+vt.width/2,St=vt.y,Nt=rt.x-gt,Vt=vt.height/2;X.setEdge(rt.e,rt.label),X.removeNode(Q),rt.label.points=[{x:gt+2*Nt/3,y:St-Vt},{x:gt+5*Nt/6,y:St-Vt},{x:gt+Nt,y:St},{x:gt+5*Nt/6,y:St+Vt},{x:gt+2*Nt/3,y:St+Vt}],rt.label.x=rt.x,rt.label.y=rt.y}})})(H)}),V("    removeBorderNodes",function(){(function(X){Lt.forEach(X.nodes(),function(Q){if(X.children(Q).length){var rt=X.node(Q),vt=X.node(rt.borderTop),gt=X.node(rt.borderBottom),St=X.node(Lt.last(rt.borderLeft)),Nt=X.node(Lt.last(rt.borderRight));rt.width=Math.abs(Nt.x-St.x),rt.height=Math.abs(gt.y-vt.y),rt.x=St.x+rt.width/2,rt.y=vt.y+rt.height/2}}),Lt.forEach(X.nodes(),function(Q){X.node(Q).dummy==="border"&&X.removeNode(Q)})})(H)}),V("    normalize.undo",function(){Ey.undo(H)}),V("    fixupEdgeLabelCoords",function(){(function(X){Lt.forEach(X.edges(),function(Q){var rt=X.edge(Q);if(Lt.has(rt,"x"))switch(rt.labelpos!=="l"&&rt.labelpos!=="r"||(rt.width-=rt.labeloffset),rt.labelpos){case"l":rt.x-=rt.width/2+rt.labeloffset;break;case"r":rt.x+=rt.width/2+rt.labeloffset}})})(H)}),V("    undoCoordinateSystem",function(){su.undo(H)}),V("    translateGraph",function(){(function(X){var Q=Number.POSITIVE_INFINITY,rt=0,vt=Number.POSITIVE_INFINITY,gt=0,St=X.graph(),Nt=St.marginx||0,Vt=St.marginy||0;function me(Se){var Ve=Se.x,De=Se.y,pr=Se.width,Cr=Se.height;Q=Math.min(Q,Ve-pr/2),rt=Math.max(rt,Ve+pr/2),vt=Math.min(vt,De-Cr/2),gt=Math.max(gt,De+Cr/2)}Lt.forEach(X.nodes(),function(Se){me(X.node(Se))}),Lt.forEach(X.edges(),function(Se){var Ve=X.edge(Se);Lt.has(Ve,"x")&&me(Ve)}),Q-=Nt,vt-=Vt,Lt.forEach(X.nodes(),function(Se){var Ve=X.node(Se);Ve.x-=Q,Ve.y-=vt}),Lt.forEach(X.edges(),function(Se){var Ve=X.edge(Se);Lt.forEach(Ve.points,function(De){De.x-=Q,De.y-=vt}),Lt.has(Ve,"x")&&(Ve.x-=Q),Lt.has(Ve,"y")&&(Ve.y-=vt)}),St.width=rt-Q+Nt,St.height=gt-vt+Vt})(H)}),V("    assignNodeIntersects",function(){(function(X){Lt.forEach(X.edges(),function(Q){var rt,vt,gt=X.edge(Q),St=X.node(Q.v),Nt=X.node(Q.w);gt.points?(rt=gt.points[0],vt=gt.points[gt.points.length-1]):(gt.points=[],rt=Nt,vt=St),gt.points.unshift(Wu.intersectRect(St,rt)),gt.points.push(Wu.intersectRect(Nt,vt))})})(H)}),V("    reversePoints",function(){(function(X){Lt.forEach(X.edges(),function(Q){var rt=X.edge(Q);rt.reversed&&rt.points.reverse()})})(H)}),V("    acyclic.undo",function(){Fc.undo(H)})})(W,D)}),D("  updateInputGraph",function(){(function(H,V){Lt.forEach(H.nodes(),function(X){var Q=H.node(X),rt=V.node(X);Q&&(Q.x=rt.x,Q.y=rt.y,V.children(X).length&&(Q.width=rt.width,Q.height=rt.height))}),Lt.forEach(H.edges(),function(X){var Q=H.edge(X),rt=V.edge(X);Q.points=rt.points,Lt.has(rt,"x")&&(Q.x=rt.x,Q.y=rt.y)}),H.graph().width=V.graph().width,H.graph().height=V.graph().height})(C,W)})})},pO=["nodesep","edgesep","ranksep","marginx","marginy"],cS={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},Bc=["acyclicer","ranker","rankdir","align"],bA=["width","height"],wA={width:0,height:0},gO=["minlen","weight","width","height","labeloffset"],_A={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},SA=["labelpos"];function M1(C,L){return Lt.mapValues(Lt.pick(C,L),Number)}function uu(C){var L={};return Lt.forEach(C,function(D,W){L[W.toLowerCase()]=D}),L}var hS=au.Graph,A1={graphlib:au,layout:fS,debug:{debugOrdering:function(C){var L=ro.buildLayerMatrix(C),D=new hS({compound:!0,multigraph:!0}).setGraph({});return Lt.forEach(C.nodes(),function(W){D.setNode(W,{label:W}),D.setParent(W,"layer"+C.node(W).rank)}),Lt.forEach(C.edges(),function(W){D.setEdge(W.v,W.w,{},W.name)}),Lt.forEach(L,function(W,H){var V="layer"+H;D.setNode(V,{rank:"same"}),Lt.reduce(W,function(X,Q){return D.setEdge(X,Q,{style:"invis"}),Q})}),D}},util:{time:ro.time,notime:ro.notime},version:"0.8.5"},E1=A1.graphlib,T1=A1.layout;class K{constructor(L){this.cardinality=1,this.include=r.InclusionType.UNSPECIFIED,this.isGroupNode=!1,this.parentNode=null,this.type=r.NodeType.NODE,this.name=L.name,this.attr=L.attr||{},this.inputs=L.inputs,this.path=L.path||[],this.width=L.width,this.height=L.height}}class ct{constructor(){this.nodes={},this.edges=[],this.nodes={},this.edges=[]}}function Ct(C){let L=new ct;return C.nodes.map(D=>new K(D)).forEach(D=>{L.nodes[D.name]=D,D.inputs.forEach(W=>{(function(H,V,X){X.name!==V.name&&H.edges.push(Object.assign(Object.assign({},X.attr),{v:X.name,w:V.name}))})(L,D,W)})}),L}class ie{constructor(L,D={}){this.attr=null,this.bridgeGraph=null,this.cardinality=0,this.depth=1,this.include=r.InclusionType.UNSPECIFIED,this.isGroupNode=!0,this.parentNode=null,this.type=r.NodeType.META,this.path=[],this.name=L,this.metaGraph=Te(L,r.GraphType.META,D)}getFirstChild(){return this.metaGraph.node(this.metaGraph.nodes()[0])}getChildren(){return this.metaGraph.nodes().map(L=>this.metaGraph.node(L))}leaves(){let L,D=[],W=[this];for(;W.length;){let H=W.shift();H.isGroupNode?(L=H.metaGraph,L.nodes().forEach(V=>W.push(L.node(V)))):D.push(H.name)}return D}}class ve{constructor(L,D){this.v=L,this.w=D,this.baseEdgeList=[],this.inbound=null,this.name=null}addBaseEdge(L,D){this.baseEdgeList.push(L)}}function ee(C,L={}){return new ie(C,L)}function ue(C,L){return new ve(C,L)}function Te(C,L,D){let W=D||{},H=new E1.Graph(W);return H.setGraph({name:C,rankdir:W.rankdir,type:L,align:W.align}),H}class be{constructor(L={}){this.graphOptions=L,this.index={},this.graphOptions.compound=!0,this.root=ee(n,this.graphOptions),this.index[n]=this.root}getNodeMap(){return this.index}node(L){return this.index[L]}setNode(L,D){this.index[L]=D}getBridgeGraph(L){let D=this.index[L];if(!D)throw Error("Could not find node in hierarchy: "+L);if(!("metaGraph"in D))return null;let W=D;if(W.bridgeGraph)return W.bridgeGraph;let H=Te(a,r.GraphType.BRIDGE,this.graphOptions);if(W.bridgeGraph=H,!D.parentNode||!("metaGraph"in D.parentNode))return H;let V=D.parentNode;return[V.metaGraph,this.getBridgeGraph(V.name)].forEach(X=>{X.edges().filter(Q=>Q.v===L||Q.w===L).forEach(Q=>{let rt=Q.w===L;X.edge(Q).baseEdgeList.forEach(vt=>{let[gt,St]=rt?[vt.w,Q.v]:[vt.v,Q.w],Nt=this.getChildName(L,gt),Vt={v:rt?St:Nt,w:rt?Nt:St},me=H.edge(Vt);me||(me=ue(Vt.v,Vt.w),me.inbound=rt,H.setEdge(Vt.v,Vt.w,me)),me.addBaseEdge(vt,this)})})}),H}getChildName(L,D){let W=this.index[D];for(;W;){if(W.parentNode&&W.parentNode.name===L)return W.name;W=W.parentNode}throw Error("Could not find immediate child for descendant: "+D)}getPredecessors(L){let D=this.index[L];if(!D)throw Error("Could not find node with name: "+L);return this.getOneWayEdges(D,!0)}getSuccessors(L){let D=this.index[L];if(!D)throw Error("Could not find node with name: "+L);return this.getOneWayEdges(D,!1)}getOneWayEdges(L,D){let W=[];if(!L.parentNode||!L.parentNode.isGroupNode)return W;let H=L.parentNode,V=H.metaGraph,X=this.getBridgeGraph(H.name);return ke(V,L,D,W),ke(X,L,D,W),W}}function Be(C,L){let{rankDirection:D,align:W}=L,H=new be({rankdir:D,align:W});return function(V,X){Object.keys(X.nodes).forEach(Q=>{let rt=X.nodes[Q],vt=rt.path,gt=V.root;gt.depth=Math.max(vt.length,gt.depth);for(let St=0;St<vt.length&&(gt.depth=Math.max(gt.depth,vt.length-St),gt.cardinality+=rt.cardinality,St!==vt.length-1);St++){let Nt=vt[St],Vt=V.node(Nt);Vt||(Vt=ee(Nt,V.graphOptions),Vt.path=rt.path.slice(0,St+1),Vt.parentNode=gt,V.setNode(Nt,Vt),gt.metaGraph.setNode(Nt,Vt)),gt=Vt}V.setNode(rt.name,rt),rt.parentNode=gt,gt.metaGraph.setNode(rt.name,rt)})}(H,C),function(V,X){let Q=V.getNodeMap(),rt=[],vt=[],gt=(St,Nt)=>{let Vt=0;for(;St;)Nt[Vt++]=St.name,St=St.parentNode;return Vt-1};X.edges.forEach(St=>{rt=[],vt=[];let Nt=gt(X.nodes[St.v],rt),Vt=gt(X.nodes[St.w],vt);for(;rt[Nt]===vt[Vt];)if(Nt--,Vt--,Nt<0||Vt<0)throw Error("No difference found between ancestor paths.");let me=Q[rt[Nt+1]],Se=rt[Nt],Ve=vt[Vt],De=me.metaGraph.edge(Se,Ve);De||(De=ue(Se,Ve),me.metaGraph.setEdge(Se,Ve,De)),De.addBaseEdge(St,V)})}(H,C),H}function ke(C,L,D,W){(D?C.inEdges(L.name):C.outEdges(L.name)).forEach(H=>{let V=C.edge(H);W.push(V)})}class Ue{constructor(L){this.hierarchy=L,this.index={},this.hasSubHierarchy={},this.root=new Xe(this.hierarchy.root,this.hierarchy.graphOptions),this.index[L.root.name]=this.root,this.buildSubHierarchy(L.root.name),this.root.expanded=!0}getRenderInfoNodes(){return Object.values(this.index)}getSubHierarchy(){return this.hasSubHierarchy}buildSubHierarchy(L){if(L in this.hasSubHierarchy)return;this.hasSubHierarchy[L]=!0;let D=this.index[L];if(D.node.type!==r.NodeType.META)return;let W=D,H=W.node.metaGraph,V=W.coreGraph;H.nodes().forEach(gt=>{let St=this.getOrCreateRenderNodeByName(gt);V.setNode(gt,St)}),H.edges().forEach(gt=>{let St=H.edge(gt),Nt=new Ie(St);V.setEdge(gt.v,gt.w,Nt)});let X=W.node.parentNode;if(!X)return;let Q=this.getRenderNodeByName(X.name),rt=(gt,...St)=>St.concat([gt?"IN":"OUT"]).join("~~"),vt=this.hierarchy.getBridgeGraph(L);vt.edges().forEach(gt=>{let St=vt.edge(gt),Nt=!!H.node(gt.w),[Vt,me]=Nt?[gt.w,gt.v]:[gt.v,gt.w],Se=fi=>{let Pi=Nt?{v:fi,w:L}:{v:L,w:fi};return Q.coreGraph.edge(Pi)},Ve=Se(me);Ve||(Ve=Se(rt(Nt,me,X.name)));let De=rt(Nt,L),pr=rt(Nt,me,L),Cr=V.node(pr);if(!Cr){let fi=V.node(De);if(!fi){let dn={name:De,type:r.NodeType.BRIDGE,isGroupNode:!1,cardinality:0,parentNode:null,include:r.InclusionType.UNSPECIFIED,inbound:Nt,attr:{}};fi=new tr(dn),this.index[De]=fi,V.setNode(De,fi)}let Pi={name:pr,type:r.NodeType.BRIDGE,isGroupNode:!1,cardinality:1,parentNode:null,include:r.InclusionType.UNSPECIFIED,inbound:Nt,attr:{}};Cr=new tr(Pi),this.index[pr]=Cr,V.setNode(pr,Cr),V.setParent(pr,De),fi.node.cardinality++}let Zr=new Ie(St);Zr.adjoiningMetaEdge=Ve,Nt?V.setEdge(pr,Vt,Zr):V.setEdge(Vt,pr,Zr)})}getOrCreateRenderNodeByName(L){if(!L)return null;if(L in this.index)return this.index[L];let D=this.getNodeByName(L);return D?(this.index[L]=D.isGroupNode?new Xe(D,this.hierarchy.graphOptions):new tr(D),this.index[L]):null}getRenderNodeByName(L){return this.index[L]}getNodeByName(L){return this.hierarchy.node(L)}}class tr{constructor(L){this.node=L,this.expanded=!1,this.x=0,this.y=0,this.coreBox={width:0,height:0},this.outboxWidth=0,this.labelOffset=0,this.radius=0,this.labelHeight=0,this.paddingTop=0,this.paddingLeft=0,this.paddingRight=0,this.paddingBottom=0,this.width=L.width||0,this.height=L.height||0,this.displayName=L.name,this.attr=L.attr}}class Ie{constructor(L){this.metaEdge=L,this.adjoiningMetaEdge=null,this.weight=1,this.points=[]}}class Xe extends tr{constructor(L,D){super(L);let W=L.metaGraph.graph();D.compound=!0,this.coreGraph=Te(W.name,r.GraphType.CORE,D)}}function Ut(C,L){C.node.isGroupNode&&function(D,W){let H=t(W);D.coreGraph.nodes().map(V=>D.coreGraph.node(V)).forEach(V=>{var X,Q,rt,vt,gt,St;let{height:Nt,width:Vt}=V;switch(V.node.type){case r.NodeType.NODE:Object.assign(V,H.nodeSize.node),V.height=Nt||H.nodeSize.node.height,V.width=Vt||H.nodeSize.node.width;break;case r.NodeType.BRIDGE:Object.assign(V,H.nodeSize.bridge);break;case r.NodeType.META:V.expanded?Ut(V,W):(Object.assign(V,H.nodeSize.meta),V.height=H.nodeSize.meta.height,V.width=H.nodeSize.meta.width);break;default:throw Error("Unrecognized node type: "+V.node.type)}if(!V.expanded){let me=V.attr;(function(Se,Ve=!1){if(Se.coreBox.width=Se.width,Se.coreBox.height=Se.height,!Ve){let De=`${Se.displayName}`.length,pr=3;Se.width=Math.max(Se.coreBox.width,De*pr)}})(V,W&&(V.node.type===0&&!!((Q=(X=W==null?void 0:W.nodeSize)===null||X===void 0?void 0:X.meta)===null||Q===void 0?void 0:Q.width)||V.node.type===1&&(!!((vt=(rt=W==null?void 0:W.nodeSize)===null||rt===void 0?void 0:rt.node)===null||vt===void 0?void 0:vt.width)||!!me.width)||V.node.type===2&&!!((St=(gt=W==null?void 0:W.nodeSize)===null||gt===void 0?void 0:gt.bridge)===null||St===void 0?void 0:St.width)))}})}(C,L),C.node.type===r.NodeType.META&&function(D,W){let H=t(W),V=H.subScene.meta;Object.assign(D,V);let{nodeSep:X,rankSep:Q,edgeSep:rt,align:vt}=H.graph.meta,gt={nodesep:X,ranksep:Q,edgesep:rt,align:vt};Object.assign(D.coreBox,function(Vt,me){let{ranksep:Se,nodesep:Ve,edgesep:De,align:pr}=me;Object.assign(Vt.graph(),{ranksep:Se,nodesep:Ve,edgesep:De,align:pr});let Cr=[];if(Vt.nodes().forEach(yn=>{Vt.node(yn).node.type!==r.NodeType.BRIDGE&&Cr.push(yn)}),!Cr.length)return{width:0,height:0};T1(Vt);let Zr=1/0,fi=1/0,Pi=-1/0,dn=-1/0;return Cr.forEach(yn=>{let Kr=Vt.node(yn),$r=.5*Kr.width,_a=Kr.x-$r,Ki=Kr.x+$r;Zr=_a<Zr?_a:Zr,Pi=Ki>Pi?Ki:Pi;let Gr=.5*Kr.height,jr=Kr.y-Gr,Di=Kr.y+Gr;fi=jr<fi?jr:fi,dn=Di>dn?Di:dn}),Vt.edges().forEach(yn=>{let Kr=Vt.edge(yn),$r=Vt.node(Kr.metaEdge.v),_a=Vt.node(Kr.metaEdge.w);if(Kr.points.length===3&&function(jr){let Di=fe(jr[0],jr[1]);for(let Sa=1;Sa<jr.length-1;Sa++){let Vu=fe(jr[Sa],jr[Sa+1]);if(Math.abs(Vu-Di)>1)return!1;Di=Vu}return!0}(Kr.points)){if($r!=null){let jr=$r.expanded?$r.x:Ee($r);Kr.points[0].x=jr}if(_a!=null){let jr=_a.expanded?_a.x:Ee(_a);Kr.points[2].x=jr}Kr.points=[Kr.points[0],Kr.points[1]]}let Ki=Kr.points[Kr.points.length-2];_a!=null&&(Kr.points[Kr.points.length-1]=He(Ki,_a));let Gr=Kr.points[1];$r!=null&&(Kr.points[0]=He(Gr,$r)),Kr.points.forEach(jr=>{Zr=jr.x<Zr?jr.x:Zr,Pi=jr.x>Pi?jr.x:Pi,fi=jr.y<fi?jr.y:fi,dn=jr.y>dn?jr.y:dn})}),Vt.nodes().forEach(yn=>{let Kr=Vt.node(yn);Kr.x-=Zr,Kr.y-=fi}),Vt.edges().forEach(yn=>{Vt.edge(yn).points.forEach(Kr=>{Kr.x-=Zr,Kr.y-=fi})}),{width:Pi-Zr,height:dn-fi}}(D.coreGraph,gt));let St=0;D.coreGraph.nodeCount()>0&&St++;let Nt=St<=1?0:St;D.coreBox.width+=Nt+Nt,D.coreBox.height=V.labelHeight+D.coreBox.height,D.width=D.coreBox.width+V.paddingLeft+V.paddingRight,D.height=D.paddingTop+D.coreBox.height+D.paddingBottom}(C,L)}function fe(C,L){let D=L.x-C.x,W=L.y-C.y;return 180*Math.atan(W/D)/Math.PI}function Ee(C){return C.expanded?C.x:C.x-C.width/2+0+C.coreBox.width/2}function He(C,L){let D=L.expanded?L.x:Ee(L),W=L.y,H=C.x-D,V=C.y-W,X,Q,rt=L.expanded?L.width:L.coreBox.width,vt=L.expanded?L.height:L.coreBox.height;return Math.abs(V)*rt/2>Math.abs(H)*vt/2?(V<0&&(vt=-vt),X=V===0?0:vt/2*H/V,Q=vt/2):(H<0&&(rt=-rt),X=rt/2,Q=H===0?0:rt/2*V/H),{x:D+X,y:W+Q}}function xe(C){let L=C.coreGraph.nodes().map(W=>C.coreGraph.node(W));return Object.assign(Object.assign({},hr(C)),{expanded:C.expanded,nodes:C.expanded?(D=L,D.map(W=>W.node.type===r.NodeType.META?xe(W):hr(W))):[],edges:C.expanded?Ce(C):[]});var D}function hr(C){return{id:C.node.name,name:C.node.name,type:C.node.type,cardinality:C.node.cardinality,attr:C.attr,parentNodeName:C.node.parentNode?C.node.parentNode.name:null,coreBox:Object.assign({},C.coreBox),x:C.x,y:C.y,width:C.width,height:C.height,radius:C.radius,labelHeight:C.labelHeight,labelOffset:C.labelOffset,outboxWidth:C.outboxWidth,paddingLeft:C.paddingLeft,paddingTop:C.paddingTop,paddingRight:C.paddingRight,paddingBottom:C.paddingBottom,path:C.node.path}}function Ce(C){return C.coreGraph.edges().map(L=>({renderInfoEdge:C.coreGraph.edge(L),edge:L})).filter(({renderInfoEdge:L})=>L.metaEdge).map(({edge:L,renderInfoEdge:D})=>{let W=function(H,V){let X=V.points.map(Q=>Object.assign({},Q));if(V.adjoiningMetaEdge){let Q=V.adjoiningMetaEdge.points,rt=V.metaEdge.inbound,vt=rt?Q[Q.length-1]:Q[0],gt=X[rt?0:X.length-1],St=H.x-H.width/2,Nt=H.y-H.height/2,Vt=vt.x-St,me=vt.y-Nt,Se=-H.paddingLeft,Ve=-(H.paddingTop+H.labelHeight);gt.x=Vt+Se,gt.y=me+Ve}return X}(C,D);return{adjoiningEdge:D.adjoiningMetaEdge?{w:D.adjoiningMetaEdge.metaEdge.w,v:D.adjoiningMetaEdge.metaEdge.v}:null,inbound:D.metaEdge.inbound,w:L.w,v:L.v,points:W,weight:D.weight,baseEdgeList:D.metaEdge.baseEdgeList,parentNodeName:C.node.name}})}r.BRIDGE_GRAPH_NAME=a,r.LAYOUT_CONFIG=e,r.ROOT_NAME=n,r.buildGraph=function(C,L,D){var W,H,V,X;let Q=C.nodes.filter((St,Nt,Vt)=>Vt.findIndex(me=>me.id===St.id)!==Nt).map(St=>St.id);if(Q.length)throw new Error(`Duplicated ids found: ${Q.join(", ")}`);let rt=function(St){let Nt={nodes:[]},Vt=St.compound,me=Object.keys(Vt||{}),Se=new Map,Ve=(pr,Cr=[])=>{if(Se.has(pr))return Se.get(pr);for(let Zr=0;Zr<me.length;Zr++){let fi=me[Zr];if(Vt&&Vt[fi].indexOf(pr)!==-1)return Cr.unshift(fi),Ve(fi,Cr)}return Cr.length===0&&Se.set(pr,Cr),Cr},De=pr=>St.edges.filter(Cr=>Cr.w===pr).map(Cr=>({name:Cr.v}));return St.nodes.forEach(pr=>{let Cr=pr.id,Zr=[...Ve(Cr),Cr],fi=De(Cr);Nt.nodes.push({name:Cr,path:Zr,inputs:fi,width:pr.width,height:pr.height,attr:Object.assign({},pr)})}),Nt}(C),vt=function(St,Nt){let Vt=(Se,Ve)=>{for(let De of Ve.values())if(De.includes(Se))return!0;return!1},me=(Se,Ve=[])=>{if(Object.keys(Se).length===0)return[...new Set(Ve)];let De=new Map(Object.keys(Se).map(Cr=>[Cr,Se[Cr]])),pr={};for(let[Cr,Zr]of De)Vt(Cr,De)?pr[Cr]=Zr:Ve=Ve.concat(Cr,Zr);return me(pr,Ve)};return me(St).filter(Se=>Nt.includes(Se))}(C.compound||{},(L==null?void 0:L.expanded)||[]),gt=function(St,Nt){return function(Vt){return new Ue(Vt)}(Be(Ct(St),Nt))}(rt,{rankDirection:((H=(W=D==null?void 0:D.graph)===null||W===void 0?void 0:W.meta)===null||H===void 0?void 0:H.rankDir)||(L==null?void 0:L.rankDirection)||e.graph.meta.rankDir,align:((X=(V=D==null?void 0:D.graph)===null||V===void 0?void 0:V.meta)===null||X===void 0?void 0:X.align)||e.graph.meta.align});return function(St,Nt){Nt.forEach(Vt=>{let me=St.getRenderInfoNodes().find(De=>De.displayName===Vt),Se=me&&me.node&&me.node.name||"",Ve=St.getRenderNodeByName(Se);if(!Ve)throw new Error(`No nodes found: ${Se}`);Ve.expanded=!0,St.buildSubHierarchy(Se)})}(gt,vt),Ut(gt.root,D),xe(gt.root)},r.flatGraph=function(C,L=!1){let D=JSON.parse(JSON.stringify(C)),W={nodes:[D],edges:[...D.edges]};return D.nodes.forEach(function H(V){(V.type===0||V.type===1)&&W.nodes.push(V),V.type===0&&(W.edges=W.edges.concat(V.edges)),Array.isArray(V.nodes)&&V.nodes.forEach(H)}),L&&W.nodes.forEach(H=>{let V=W.nodes.find(X=>X.id===H.parentNodeName);if(V){let X=V.x-V.width/2+V.paddingLeft,Q=V.y-V.height/2+V.labelHeight+V.paddingTop;V.id!==n&&(H.x+=X,H.y+=Q),H.type===0&&H.edges.forEach(rt=>{rt.points.forEach(vt=>{vt.x+=H.x-H.width/2+H.paddingLeft,vt.y+=H.y-H.height/2+H.labelHeight+H.paddingTop})})}}),W},r.getEdges=function(C,L,D,W){var H,V;let X=[],Q=((H=D.find(St=>St.id===C))===null||H===void 0?void 0:H.path)||[],rt=((V=D.find(St=>St.id===L))===null||V===void 0?void 0:V.path)||[],vt=[n,...Q].slice(0,Q.length).reverse(),gt=[n,...rt].slice(0,rt.length);return vt.forEach(St=>{let Nt=D.find(Vt=>Vt.id===St);X=X.concat(Nt.edges.filter(Vt=>Vt.baseEdgeList.some(me=>me.v===((W==null?void 0:W.v)||C)&&me.w===((W==null?void 0:W.w)||L))))}),gt.filter(St=>!vt.includes(St)).forEach(St=>{let Nt=D.find(Vt=>Vt.id===St);X=X.concat(Nt.edges.filter(Vt=>Vt.baseEdgeList.some(me=>me.v===((W==null?void 0:W.v)||C)&&me.w===((W==null?void 0:W.w)||L))))}),X},r.mergeConfig=t,Object.defineProperty(r,"__esModule",{value:!0})})});var mlt=$(wm=>{"use strict";var tZe=wm&&wm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),hp=wm&&wm.__assign||function(){return hp=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},hp.apply(this,arguments)},FI=wm&&wm.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(wm,"__esModule",{value:!0});wm.DagreCompoundLayout=void 0;var eZe=Rs(),Nd=S6t(),BW=No(),rZe=function(r){tZe(e,r);function e(t){var i=r.call(this)||this;return i.rankdir="TB",i.nodesep=50,i.edgesep=5,i.ranksep=50,i.controlPoints=!0,i.anchorPoint=!0,i.nodes=[],i.edges=[],i.combos=[],i.onLayoutEnd=function(){},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{rankdir:"TB",align:void 0,begin:void 0,nodeSize:void 0,nodesep:50,ranksep:50,controlPoints:!0,anchorPoint:!0}},e.prototype.init=function(t){var i=t.hiddenNodes||[],n=t.hiddenEdges||[],a=t.hiddenCombos||[];this.nodes=this.getDataByOrder((t.nodes||[]).concat(i)),this.edges=this.getDataByOrder((t.edges||[]).concat(n)),this.combos=(t.combos||[]).concat(a.map(function(o){return hp(hp({},o),{collapsed:!0})}))},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.edges;if(!!i){var a=t.getLayoutConfig(),o=a.graphDef,s=a.graphOption,l=a.graphSettings,u=(0,Nd.buildGraph)(o,s,l),f=(0,Nd.flatGraph)(u,!0);return this.updatePosition(f),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:i,edges:n}}},e.prototype.getNodePath=function(t){var i=this,n=i.nodes,a=i.combos,o=n.find(function(l){return l.id===t}),s=function(l,u){u===void 0&&(u=[]);var f=a.find(function(c){return c.id===l});return f?(u.unshift(l),f.parentId?s(f.parentId,u):u):u};return o&&o.comboId?s(o.comboId,[t]):[t]},e.prototype.getLayoutConfig=function(){var t,i,n,a=this,o=a.nodes,s=a.edges,l=a.combos,u=a.nodeSize,f=a.rankdir,c=a.align,h=a.edgesep,d=a.nodesep,v=a.ranksep,p=a.settings,g=(l||[]).reduce(function(B,Y){var q=o.filter(function(Z){return Z.comboId===Y.id}).map(function(Z){return Z.id}),j=(l||[]).filter(function(Z){return Z.parentId===Y.id}).map(function(Z){return Z.id});return(q.length||j.length)&&(B[Y.id]=FI(FI([],q,!0),j,!0)),B},{}),m;u?(0,BW.isArray)(u)?m=function(){return u}:m=function(){return[u,u]}:m=function(B){return B&&B.size?(0,BW.isArray)(B.size)?B.size:(0,BW.isObject)(B.size)?[B.size.width||40,B.size.height||40]:[B.size,B.size]:[40,40]};var y=function(B){return B&&B.size?(0,BW.isArray)(B.size)?B.size:[B.size,B.size]:[80,40]},x=y(l==null?void 0:l[0]),b=x[0],_=x[1],M=(i=(t=a.graphSettings)===null||t===void 0?void 0:t.subScene)===null||i===void 0?void 0:i.meta,A=((n=l.find(function(B){return!B.collapsed}))===null||n===void 0?void 0:n.padding)||[20,20,20,20],I=A[0],k=A[1],E=A[2],O=A[3],P={compound:g,nodes:FI([],(o||[]).map(function(B){var Y=m(B),q=Y[0],j=Y[1];return hp(hp({},B),{width:q,height:j})}),!0),edges:FI([],(s||[]).map(function(B){return hp(hp({},B),{v:B.source,w:B.target})}),!0)},N={expanded:(l||[]).filter(function(B){return!B.collapsed}).map(function(B){return B.id})},R={graph:{meta:{align:c,rankDir:f,nodeSep:d,edgeSep:h,rankSep:v}},subScene:{meta:{paddingTop:I||(M==null?void 0:M.paddingTop)||20,paddingRight:k||(M==null?void 0:M.paddingRight)||20,paddingBottom:E||(M==null?void 0:M.paddingBottom)||20,paddingLeft:O||(M==null?void 0:M.paddingLeft)||20,labelHeight:0}},nodeSize:{meta:{width:b,height:_}}},z=(0,Nd.mergeConfig)(p,hp({},(0,Nd.mergeConfig)(R,Nd.LAYOUT_CONFIG)));return a.graphSettings=z,{graphDef:P,graphOption:N,graphSettings:z}},e.prototype.updatePosition=function(t){var i=t.nodes,n=t.edges;this.updateNodePosition(i,n),this.updateEdgePosition(i,n)},e.prototype.getBegin=function(t,i){var n=this,a=n.begin,o=[0,0];if(a){var s=1/0,l=1/0;t.forEach(function(u){s>u.x&&(s=u.x),l>u.y&&(l=u.y)}),i.forEach(function(u){u.points.forEach(function(f){s>f.x&&(s=f.x),l>f.y&&(l=f.y)})}),o[0]=a[0]-s,o[1]=a[1]-l}return o},e.prototype.updateNodePosition=function(t,i){var n=this,a=n.combos,o=n.nodes,s=n.edges,l=n.anchorPoint,u=n.graphSettings,f=this.getBegin(t,i);t.forEach(function(c){var h,d=c.x,v=c.y,p=c.id,g=c.type,m=c.coreBox;if(g===Nd.HierarchyNodeType.META&&p!==Nd.ROOT_NAME){var y=a.findIndex(function(A){return A.id===p}),x=(h=u==null?void 0:u.subScene)===null||h===void 0?void 0:h.meta;a[y].offsetX=d+f[0],a[y].offsetY=v+f[1],a[y].fixSize=[m.width,m.height],a[y].fixCollapseSize=[m.width,m.height],c.expanded?a[y].padding=[x==null?void 0:x.paddingTop,x==null?void 0:x.paddingRight,x==null?void 0:x.paddingBottom,x==null?void 0:x.paddingLeft]:a[y].padding=[0,0,0,0]}else if(g===Nd.HierarchyNodeType.OP){var y=o.findIndex(function(I){return I.id===p});if(o[y].x=d+f[0],o[y].y=v+f[1],l){var b=[],_=i.filter(function(I){return I.v===p}),M=i.filter(function(I){return I.w===p});_.length>0&&_.forEach(function(I){var k=I.points[0],E=(k.x-d)/c.width+.5,O=(k.y-v)/c.height+.5;b.push([E,O]),I.baseEdgeList.forEach(function(P){var N=s.find(function(R){return R.source===P.v&&R.target===P.w});N&&(N.sourceAnchor=b.length-1)})}),M.length>0&&M.forEach(function(I){var k=I.points[I.points.length-1],E=(k.x-d)/c.width+.5,O=(k.y-v)/c.height+.5;b.push([E,O]),I.baseEdgeList.forEach(function(P){var N=s.find(function(R){return R.source===P.v&&R.target===P.w});N&&(N.targetAnchor=b.length-1)})}),o[y].anchorPoints=b.length>0?b:o[y].anchorPoints||[]}}})},e.prototype.updateEdgePosition=function(t,i){var n=this,a=n.combos,o=n.edges,s=n.controlPoints,l=this.getBegin(t,i);s&&(a.forEach(function(u){u.inEdges=[],u.outEdges=[]}),o.forEach(function(u){var f,c,h,d,v=t.find(function(A){return A.id===u.source}),p=t.find(function(A){return A.id===u.target}),g=[],m=[];if(v&&p)m=(0,Nd.getEdges)(v==null?void 0:v.id,p==null?void 0:p.id,t);else if(!v||!p){var y=n.getNodePath(u.source),x=n.getNodePath(u.target),b=y.reverse().slice(v?0:1).find(function(A){return t.find(function(I){return I.id===A})}),_=x.reverse().slice(p?0:1).find(function(A){return t.find(function(I){return I.id===A})});v=t.find(function(A){return A.id===b}),p=t.find(function(A){return A.id===_}),m=(0,Nd.getEdges)(v==null?void 0:v.id,p==null?void 0:p.id,t,{v:u.source,w:u.target})}if(g=m.reduce(function(A,I){return FI(FI([],A,!0),I.points.map(function(k){return hp(hp({},k),{x:k.x+l[0],y:k.y+l[1]})}),!0)},[]),g=g.slice(1,-1),u.controlPoints=g,(p==null?void 0:p.type)===Nd.NodeType.META){var M=a.findIndex(function(A){return A.id===(p==null?void 0:p.id)});if(!a[M]||((f=a[M].inEdges)===null||f===void 0?void 0:f.some(function(A){return A.source===v.id&&A.target===p.id})))return;(c=a[M].inEdges)===null||c===void 0||c.push({source:v.id,target:p.id,controlPoints:g})}if((v==null?void 0:v.type)===Nd.NodeType.META){var M=a.findIndex(function(I){return I.id===(v==null?void 0:v.id)});if(!a[M]||((h=a[M].outEdges)===null||h===void 0?void 0:h.some(function(I){return I.source===v.id&&I.target===p.id})))return;(d=a[M].outEdges)===null||d===void 0||d.push({source:v.id,target:p.id,controlPoints:g})}}))},e.prototype.getType=function(){return"dagreCompound"},e.prototype.getDataByOrder=function(t){return t.every(function(i){return i.layoutOrder!==void 0})||t.forEach(function(i,n){i.layoutOrder=n}),t.sort(function(i,n){return i.layoutOrder-n.layoutOrder})},e}(eZe.Base);wm.DagreCompoundLayout=rZe});var GW=$(RW=>{"use strict";Object.defineProperty(RW,"__esModule",{value:!0});RW.isAnyArray=void 0;var iZe=Object.prototype.toString;function nZe(r){let e=iZe.call(r);return e.endsWith("Array]")&&!e.includes("Big")}RW.isAnyArray=nZe});var M6t=$((nun,C6t)=>{"use strict";var aZe=GW();function oZe(r,e={}){if(!aZe.isAnyArray(r))throw new TypeError("input must be an array");if(r.length===0)throw new TypeError("input must not be empty");let{fromIndex:t=0,toIndex:i=r.length}=e;if(t<0||t>=r.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=t||i>r.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");let n=r[t];for(let a=t+1;a<i;a++)r[a]>n&&(n=r[a]);return n}C6t.exports=oZe});var E6t=$((aun,A6t)=>{"use strict";var sZe=GW();function lZe(r,e={}){if(!sZe.isAnyArray(r))throw new TypeError("input must be an array");if(r.length===0)throw new TypeError("input must not be empty");let{fromIndex:t=0,toIndex:i=r.length}=e;if(t<0||t>=r.length||!Number.isInteger(t))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=t||i>r.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");let n=r[t];for(let a=t+1;a<i;a++)r[a]<n&&(n=r[a]);return n}A6t.exports=lZe});var O6t=$((oun,L6t)=>{"use strict";var T6t=GW(),uZe=M6t(),fZe=E6t();function I6t(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var cZe=I6t(uZe),hZe=I6t(fZe);function dZe(r,e={}){if(T6t.isAnyArray(r)){if(r.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");let t;if(e.output!==void 0){if(!T6t.isAnyArray(e.output))throw new TypeError("output option must be an array if specified");t=e.output}else t=new Array(r.length);let i=hZe.default(r),n=cZe.default(r);if(i===n)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");let{min:a=e.autoMinMax?i:0,max:o=e.autoMinMax?n:1}=e;if(a>=o)throw new RangeError("min option must be smaller than max option");let s=(o-a)/(n-i);for(let l=0;l<r.length;l++)t[l]=(r[l]-i)*s+a;return t}L6t.exports=dZe});var Slt=$(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});function vZe(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var k6t=vZe(O6t()),zW=" ".repeat(2),P6t=" ".repeat(4);function pZe(){return D6t(this)}function D6t(r,e={}){let{maxRows:t=15,maxColumns:i=10,maxNumSize:n=8}=e;return`${r.constructor.name} {
${zW}[
${P6t}${gZe(r,t,i,n)}
${zW}]
${zW}rows: ${r.rows}
${zW}columns: ${r.columns}
}`}function gZe(r,e,t,i){let{rows:n,columns:a}=r,o=Math.min(n,e),s=Math.min(a,t),l=[];for(let u=0;u<o;u++){let f=[];for(let c=0;c<s;c++)f.push(mZe(r.get(u,c),i));l.push(`${f.join(" ")}`)}return s!==a&&(l[l.length-1]+=` ... ${a-t} more columns`),o!==n&&l.push(`... ${n-e} more rows`),l.join(`
${P6t}`)}function mZe(r,e){let t=String(r);if(t.length<=e)return t.padEnd(e," ");let i=r.toPrecision(e-2);if(i.length<=e)return i;let n=r.toExponential(e-2),a=n.indexOf("e"),o=n.slice(a);return n.slice(0,e-o.length)+o}function yZe(r,e){r.prototype.add=function(i){return typeof i=="number"?this.addS(i):this.addM(i)},r.prototype.addS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+i);return this},r.prototype.addM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)+i.get(n,a));return this},r.add=function(i,n){return new e(i).add(n)},r.prototype.sub=function(i){return typeof i=="number"?this.subS(i):this.subM(i)},r.prototype.subS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-i);return this},r.prototype.subM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)-i.get(n,a));return this},r.sub=function(i,n){return new e(i).sub(n)},r.prototype.subtract=r.prototype.sub,r.prototype.subtractS=r.prototype.subS,r.prototype.subtractM=r.prototype.subM,r.subtract=r.sub,r.prototype.mul=function(i){return typeof i=="number"?this.mulS(i):this.mulM(i)},r.prototype.mulS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*i);return this},r.prototype.mulM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)*i.get(n,a));return this},r.mul=function(i,n){return new e(i).mul(n)},r.prototype.multiply=r.prototype.mul,r.prototype.multiplyS=r.prototype.mulS,r.prototype.multiplyM=r.prototype.mulM,r.multiply=r.mul,r.prototype.div=function(i){return typeof i=="number"?this.divS(i):this.divM(i)},r.prototype.divS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/i);return this},r.prototype.divM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)/i.get(n,a));return this},r.div=function(i,n){return new e(i).div(n)},r.prototype.divide=r.prototype.div,r.prototype.divideS=r.prototype.divS,r.prototype.divideM=r.prototype.divM,r.divide=r.div,r.prototype.mod=function(i){return typeof i=="number"?this.modS(i):this.modM(i)},r.prototype.modS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%i);return this},r.prototype.modM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)%i.get(n,a));return this},r.mod=function(i,n){return new e(i).mod(n)},r.prototype.modulus=r.prototype.mod,r.prototype.modulusS=r.prototype.modS,r.prototype.modulusM=r.prototype.modM,r.modulus=r.mod,r.prototype.and=function(i){return typeof i=="number"?this.andS(i):this.andM(i)},r.prototype.andS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&i);return this},r.prototype.andM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)&i.get(n,a));return this},r.and=function(i,n){return new e(i).and(n)},r.prototype.or=function(i){return typeof i=="number"?this.orS(i):this.orM(i)},r.prototype.orS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|i);return this},r.prototype.orM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)|i.get(n,a));return this},r.or=function(i,n){return new e(i).or(n)},r.prototype.xor=function(i){return typeof i=="number"?this.xorS(i):this.xorM(i)},r.prototype.xorS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^i);return this},r.prototype.xorM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)^i.get(n,a));return this},r.xor=function(i,n){return new e(i).xor(n)},r.prototype.leftShift=function(i){return typeof i=="number"?this.leftShiftS(i):this.leftShiftM(i)},r.prototype.leftShiftS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<i);return this},r.prototype.leftShiftM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)<<i.get(n,a));return this},r.leftShift=function(i,n){return new e(i).leftShift(n)},r.prototype.signPropagatingRightShift=function(i){return typeof i=="number"?this.signPropagatingRightShiftS(i):this.signPropagatingRightShiftM(i)},r.prototype.signPropagatingRightShiftS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>i);return this},r.prototype.signPropagatingRightShiftM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>i.get(n,a));return this},r.signPropagatingRightShift=function(i,n){return new e(i).signPropagatingRightShift(n)},r.prototype.rightShift=function(i){return typeof i=="number"?this.rightShiftS(i):this.rightShiftM(i)},r.prototype.rightShiftS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>i);return this},r.prototype.rightShiftM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,this.get(n,a)>>>i.get(n,a));return this},r.rightShift=function(i,n){return new e(i).rightShift(n)},r.prototype.zeroFillRightShift=r.prototype.rightShift,r.prototype.zeroFillRightShiftS=r.prototype.rightShiftS,r.prototype.zeroFillRightShiftM=r.prototype.rightShiftM,r.zeroFillRightShift=r.rightShift,r.prototype.not=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,~this.get(i,n));return this},r.not=function(i){return new e(i).not()},r.prototype.abs=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.abs(this.get(i,n)));return this},r.abs=function(i){return new e(i).abs()},r.prototype.acos=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.acos(this.get(i,n)));return this},r.acos=function(i){return new e(i).acos()},r.prototype.acosh=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.acosh(this.get(i,n)));return this},r.acosh=function(i){return new e(i).acosh()},r.prototype.asin=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.asin(this.get(i,n)));return this},r.asin=function(i){return new e(i).asin()},r.prototype.asinh=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.asinh(this.get(i,n)));return this},r.asinh=function(i){return new e(i).asinh()},r.prototype.atan=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.atan(this.get(i,n)));return this},r.atan=function(i){return new e(i).atan()},r.prototype.atanh=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.atanh(this.get(i,n)));return this},r.atanh=function(i){return new e(i).atanh()},r.prototype.cbrt=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.cbrt(this.get(i,n)));return this},r.cbrt=function(i){return new e(i).cbrt()},r.prototype.ceil=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.ceil(this.get(i,n)));return this},r.ceil=function(i){return new e(i).ceil()},r.prototype.clz32=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.clz32(this.get(i,n)));return this},r.clz32=function(i){return new e(i).clz32()},r.prototype.cos=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.cos(this.get(i,n)));return this},r.cos=function(i){return new e(i).cos()},r.prototype.cosh=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.cosh(this.get(i,n)));return this},r.cosh=function(i){return new e(i).cosh()},r.prototype.exp=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.exp(this.get(i,n)));return this},r.exp=function(i){return new e(i).exp()},r.prototype.expm1=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.expm1(this.get(i,n)));return this},r.expm1=function(i){return new e(i).expm1()},r.prototype.floor=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.floor(this.get(i,n)));return this},r.floor=function(i){return new e(i).floor()},r.prototype.fround=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.fround(this.get(i,n)));return this},r.fround=function(i){return new e(i).fround()},r.prototype.log=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.log(this.get(i,n)));return this},r.log=function(i){return new e(i).log()},r.prototype.log1p=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.log1p(this.get(i,n)));return this},r.log1p=function(i){return new e(i).log1p()},r.prototype.log10=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.log10(this.get(i,n)));return this},r.log10=function(i){return new e(i).log10()},r.prototype.log2=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.log2(this.get(i,n)));return this},r.log2=function(i){return new e(i).log2()},r.prototype.round=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.round(this.get(i,n)));return this},r.round=function(i){return new e(i).round()},r.prototype.sign=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.sign(this.get(i,n)));return this},r.sign=function(i){return new e(i).sign()},r.prototype.sin=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.sin(this.get(i,n)));return this},r.sin=function(i){return new e(i).sin()},r.prototype.sinh=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.sinh(this.get(i,n)));return this},r.sinh=function(i){return new e(i).sinh()},r.prototype.sqrt=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.sqrt(this.get(i,n)));return this},r.sqrt=function(i){return new e(i).sqrt()},r.prototype.tan=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.tan(this.get(i,n)));return this},r.tan=function(i){return new e(i).tan()},r.prototype.tanh=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.tanh(this.get(i,n)));return this},r.tanh=function(i){return new e(i).tanh()},r.prototype.trunc=function(){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.set(i,n,Math.trunc(this.get(i,n)));return this},r.trunc=function(i){return new e(i).trunc()},r.pow=function(i,n){return new e(i).pow(n)},r.prototype.pow=function(i){return typeof i=="number"?this.powS(i):this.powM(i)},r.prototype.powS=function(i){for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),i));return this},r.prototype.powM=function(i){if(i=e.checkMatrix(i),this.rows!==i.rows||this.columns!==i.columns)throw new RangeError("Matrices dimensions must be equal");for(let n=0;n<this.rows;n++)for(let a=0;a<this.columns;a++)this.set(n,a,Math.pow(this.get(n,a),i.get(n,a)));return this}}function Bd(r,e,t){let i=t?r.rows:r.rows-1;if(e<0||e>i)throw new RangeError("Row index out of range")}function Rd(r,e,t){let i=t?r.columns:r.columns-1;if(e<0||e>i)throw new RangeError("Column index out of range")}function NI(r,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==r.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function BI(r,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==r.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function F6t(r,e,t){return{row:N6t(r,e),column:B6t(r,t)}}function N6t(r,e){if(typeof e!="object")throw new TypeError("unexpected type for row indices");if(e.some(i=>i<0||i>=r.rows))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function B6t(r,e){if(typeof e!="object")throw new TypeError("unexpected type for column indices");if(e.some(i=>i<0||i>=r.columns))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function ylt(r,e,t,i,n){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(YW("startRow",e),YW("endRow",t),YW("startColumn",i),YW("endColumn",n),e>t||i>n||e<0||e>=r.rows||t<0||t>=r.rows||i<0||i>=r.columns||n<0||n>=r.columns)throw new RangeError("Submatrix indices are out of range")}function jW(r,e=0){let t=[];for(let i=0;i<r;i++)t.push(e);return t}function YW(r,e){if(typeof e!="number")throw new TypeError(`${r} must be a number`)}function xZe(r){let e=jW(r.rows);for(let t=0;t<r.rows;++t)for(let i=0;i<r.columns;++i)e[t]+=r.get(t,i);return e}function bZe(r){let e=jW(r.columns);for(let t=0;t<r.rows;++t)for(let i=0;i<r.columns;++i)e[i]+=r.get(t,i);return e}function wZe(r){let e=0;for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)e+=r.get(t,i);return e}function _Ze(r){let e=jW(r.rows,1);for(let t=0;t<r.rows;++t)for(let i=0;i<r.columns;++i)e[t]*=r.get(t,i);return e}function SZe(r){let e=jW(r.columns,1);for(let t=0;t<r.rows;++t)for(let i=0;i<r.columns;++i)e[i]*=r.get(t,i);return e}function CZe(r){let e=1;for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)e*=r.get(t,i);return e}function MZe(r,e,t){let i=r.rows,n=r.columns,a=[];for(let o=0;o<i;o++){let s=0,l=0,u=0;for(let f=0;f<n;f++)u=r.get(o,f)-t[o],s+=u,l+=u*u;e?a.push((l-s*s/n)/(n-1)):a.push((l-s*s/n)/n)}return a}function AZe(r,e,t){let i=r.rows,n=r.columns,a=[];for(let o=0;o<n;o++){let s=0,l=0,u=0;for(let f=0;f<i;f++)u=r.get(f,o)-t[o],s+=u,l+=u*u;e?a.push((l-s*s/i)/(i-1)):a.push((l-s*s/i)/i)}return a}function EZe(r,e,t){let i=r.rows,n=r.columns,a=i*n,o=0,s=0,l=0;for(let u=0;u<i;u++)for(let f=0;f<n;f++)l=r.get(u,f)-t,o+=l,s+=l*l;return e?(s-o*o/a)/(a-1):(s-o*o/a)/a}function TZe(r,e){for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)r.set(t,i,r.get(t,i)-e[t])}function IZe(r,e){for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)r.set(t,i,r.get(t,i)-e[i])}function LZe(r,e){for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)r.set(t,i,r.get(t,i)-e)}function OZe(r){let e=[];for(let t=0;t<r.rows;t++){let i=0;for(let n=0;n<r.columns;n++)i+=Math.pow(r.get(t,n),2)/(r.columns-1);e.push(Math.sqrt(i))}return e}function kZe(r,e){for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)r.set(t,i,r.get(t,i)/e[t])}function PZe(r){let e=[];for(let t=0;t<r.columns;t++){let i=0;for(let n=0;n<r.rows;n++)i+=Math.pow(r.get(n,t),2)/(r.rows-1);e.push(Math.sqrt(i))}return e}function DZe(r,e){for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)r.set(t,i,r.get(t,i)/e[i])}function FZe(r){let e=r.size-1,t=0;for(let i=0;i<r.columns;i++)for(let n=0;n<r.rows;n++)t+=Math.pow(r.get(n,i),2)/e;return Math.sqrt(t)}function NZe(r,e){for(let t=0;t<r.rows;t++)for(let i=0;i<r.columns;i++)r.set(t,i,r.get(t,i)/e)}var en=class{static from1DArray(e,t,i){if(e*t!==i.length)throw new RangeError("data length does not match given dimensions");let a=new Yr(e,t);for(let o=0;o<e;o++)for(let s=0;s<t;s++)a.set(o,s,i[o*t+s]);return a}static rowVector(e){let t=new Yr(1,e.length);for(let i=0;i<e.length;i++)t.set(0,i,e[i]);return t}static columnVector(e){let t=new Yr(e.length,1);for(let i=0;i<e.length;i++)t.set(i,0,e[i]);return t}static zeros(e,t){return new Yr(e,t)}static ones(e,t){return new Yr(e,t).fill(1)}static rand(e,t,i={}){if(typeof i!="object")throw new TypeError("options must be an object");let{random:n=Math.random}=i,a=new Yr(e,t);for(let o=0;o<e;o++)for(let s=0;s<t;s++)a.set(o,s,n());return a}static randInt(e,t,i={}){if(typeof i!="object")throw new TypeError("options must be an object");let{min:n=0,max:a=1e3,random:o=Math.random}=i;if(!Number.isInteger(n))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(n>=a)throw new RangeError("min must be smaller than max");let s=a-n,l=new Yr(e,t);for(let u=0;u<e;u++)for(let f=0;f<t;f++){let c=n+Math.round(o()*s);l.set(u,f,c)}return l}static eye(e,t,i){t===void 0&&(t=e),i===void 0&&(i=1);let n=Math.min(e,t),a=this.zeros(e,t);for(let o=0;o<n;o++)a.set(o,o,i);return a}static diag(e,t,i){let n=e.length;t===void 0&&(t=n),i===void 0&&(i=t);let a=Math.min(n,t,i),o=this.zeros(t,i);for(let s=0;s<a;s++)o.set(s,s,e[s]);return o}static min(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,n=e.columns,a=new Yr(i,n);for(let o=0;o<i;o++)for(let s=0;s<n;s++)a.set(o,s,Math.min(e.get(o,s),t.get(o,s)));return a}static max(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);let i=e.rows,n=e.columns,a=new this(i,n);for(let o=0;o<i;o++)for(let s=0;s<n;s++)a.set(o,s,Math.max(e.get(o,s),t.get(o,s)));return a}static checkMatrix(e){return en.isMatrix(e)?e:new Yr(e)}static isMatrix(e){return e!=null&&e.klass==="Matrix"}get size(){return this.rows*this.columns}apply(e){if(typeof e!="function")throw new TypeError("callback must be a function");for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.call(this,t,i);return this}to1DArray(){let e=[];for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.push(this.get(t,i));return e}to2DArray(){let e=[];for(let t=0;t<this.rows;t++){e.push([]);for(let i=0;i<this.columns;i++)e[t].push(this.get(t,i))}return e}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isSymmetric(){if(this.isSquare()){for(let e=0;e<this.rows;e++)for(let t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}isEchelonForm(){let e=0,t=0,i=-1,n=!0,a=!1;for(;e<this.rows&&n;){for(t=0,a=!1;t<this.columns&&a===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>i?(a=!0,i=t):(n=!1,a=!0);e++}return n}isReducedEchelonForm(){let e=0,t=0,i=-1,n=!0,a=!1;for(;e<this.rows&&n;){for(t=0,a=!1;t<this.columns&&a===!1;)this.get(e,t)===0?t++:this.get(e,t)===1&&t>i?(a=!0,i=t):(n=!1,a=!0);for(let o=t+1;o<this.rows;o++)this.get(e,o)!==0&&(n=!1);e++}return n}echelonForm(){let e=this.clone(),t=0,i=0;for(;t<e.rows&&i<e.columns;){let n=t;for(let a=t;a<e.rows;a++)e.get(a,i)>e.get(n,i)&&(n=a);if(e.get(n,i)===0)i++;else{e.swapRows(t,n);let a=e.get(t,i);for(let o=i;o<e.columns;o++)e.set(t,o,e.get(t,o)/a);for(let o=t+1;o<e.rows;o++){let s=e.get(o,i)/e.get(t,i);e.set(o,i,0);for(let l=i+1;l<e.columns;l++)e.set(o,l,e.get(o,l)-e.get(t,l)*s)}t++,i++}}return e}reducedEchelonForm(){let e=this.echelonForm(),t=e.columns,i=e.rows,n=i-1;for(;n>=0;)if(e.maxRow(n)===0)n--;else{let a=0,o=!1;for(;a<i&&o===!1;)e.get(n,a)===1?o=!0:a++;for(let s=0;s<n;s++){let l=e.get(s,a);for(let u=a;u<t;u++){let f=e.get(s,u)-l*e.get(n,u);e.set(s,u,f)}}n--}return e}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{rows:t=1,columns:i=1}=e;if(!Number.isInteger(t)||t<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(i)||i<=0)throw new TypeError("columns must be a positive integer");let n=new Yr(this.rows*t,this.columns*i);for(let a=0;a<t;a++)for(let o=0;o<i;o++)n.setSubMatrix(this,this.rows*a,this.columns*o);return n}fill(e){for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,e);return this}neg(){return this.mulS(-1)}getRow(e){Bd(this,e);let t=[];for(let i=0;i<this.columns;i++)t.push(this.get(e,i));return t}getRowVector(e){return Yr.rowVector(this.getRow(e))}setRow(e,t){Bd(this,e),t=NI(this,t);for(let i=0;i<this.columns;i++)this.set(e,i,t[i]);return this}swapRows(e,t){Bd(this,e),Bd(this,t);for(let i=0;i<this.columns;i++){let n=this.get(e,i);this.set(e,i,this.get(t,i)),this.set(t,i,n)}return this}getColumn(e){Rd(this,e);let t=[];for(let i=0;i<this.rows;i++)t.push(this.get(i,e));return t}getColumnVector(e){return Yr.columnVector(this.getColumn(e))}setColumn(e,t){Rd(this,e),t=BI(this,t);for(let i=0;i<this.rows;i++)this.set(i,e,t[i]);return this}swapColumns(e,t){Rd(this,e),Rd(this,t);for(let i=0;i<this.rows;i++){let n=this.get(i,e);this.set(i,e,this.get(i,t)),this.set(i,t,n)}return this}addRowVector(e){e=NI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[i]);return this}subRowVector(e){e=NI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[i]);return this}mulRowVector(e){e=NI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[i]);return this}divRowVector(e){e=NI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[i]);return this}addColumnVector(e){e=BI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)+e[t]);return this}subColumnVector(e){e=BI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)-e[t]);return this}mulColumnVector(e){e=BI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)*e[t]);return this}divColumnVector(e){e=BI(this,e);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.set(t,i,this.get(t,i)/e[t]);return this}mulRow(e,t){Bd(this,e);for(let i=0;i<this.columns;i++)this.set(e,i,this.get(e,i)*t);return this}mulColumn(e,t){Rd(this,e);for(let i=0;i<this.rows;i++)this.set(i,e,this.get(i,e)*t);return this}max(){let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)>e&&(e=this.get(t,i));return e}maxIndex(){let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.get(i,n)>e&&(e=this.get(i,n),t[0]=i,t[1]=n);return t}min(){let e=this.get(0,0);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)this.get(t,i)<e&&(e=this.get(t,i));return e}minIndex(){let e=this.get(0,0),t=[0,0];for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)this.get(i,n)<e&&(e=this.get(i,n),t[0]=i,t[1]=n);return t}maxRow(e){Bd(this,e);let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)>t&&(t=this.get(e,i));return t}maxRowIndex(e){Bd(this,e);let t=this.get(e,0),i=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n),i[1]=n);return i}minRow(e){Bd(this,e);let t=this.get(e,0);for(let i=1;i<this.columns;i++)this.get(e,i)<t&&(t=this.get(e,i));return t}minRowIndex(e){Bd(this,e);let t=this.get(e,0),i=[e,0];for(let n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n),i[1]=n);return i}maxColumn(e){Rd(this,e);let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)>t&&(t=this.get(i,e));return t}maxColumnIndex(e){Rd(this,e);let t=this.get(0,e),i=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e),i[0]=n);return i}minColumn(e){Rd(this,e);let t=this.get(0,e);for(let i=1;i<this.rows;i++)this.get(i,e)<t&&(t=this.get(i,e));return t}minColumnIndex(e){Rd(this,e);let t=this.get(0,e),i=[0,e];for(let n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e),i[0]=n);return i}diag(){let e=Math.min(this.rows,this.columns),t=[];for(let i=0;i<e;i++)t.push(this.get(i,i));return t}norm(e="frobenius"){let t=0;if(e==="max")return this.max();if(e==="frobenius"){for(let i=0;i<this.rows;i++)for(let n=0;n<this.columns;n++)t=t+this.get(i,n)*this.get(i,n);return Math.sqrt(t)}else throw new RangeError(`unknown norm type: ${e}`)}cumulativeSum(){let e=0;for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e+=this.get(t,i),this.set(t,i,e);return this}dot(e){en.isMatrix(e)&&(e=e.to1DArray());let t=this.to1DArray();if(t.length!==e.length)throw new RangeError("vectors do not have the same size");let i=0;for(let n=0;n<t.length;n++)i+=t[n]*e[n];return i}mmul(e){e=Yr.checkMatrix(e);let t=this.rows,i=this.columns,n=e.columns,a=new Yr(t,n),o=new Float64Array(i);for(let s=0;s<n;s++){for(let l=0;l<i;l++)o[l]=e.get(l,s);for(let l=0;l<t;l++){let u=0;for(let f=0;f<i;f++)u+=this.get(l,f)*o[f];a.set(l,s,u)}}return a}strassen2x2(e){e=Yr.checkMatrix(e);let t=new Yr(2,2),i=this.get(0,0),n=e.get(0,0),a=this.get(0,1),o=e.get(0,1),s=this.get(1,0),l=e.get(1,0),u=this.get(1,1),f=e.get(1,1),c=(i+u)*(n+f),h=(s+u)*n,d=i*(o-f),v=u*(l-n),p=(i+a)*f,g=(s-i)*(n+o),m=(a-u)*(l+f),y=c+v-p+m,x=d+p,b=h+v,_=c-h+d+g;return t.set(0,0,y),t.set(0,1,x),t.set(1,0,b),t.set(1,1,_),t}strassen3x3(e){e=Yr.checkMatrix(e);let t=new Yr(3,3),i=this.get(0,0),n=this.get(0,1),a=this.get(0,2),o=this.get(1,0),s=this.get(1,1),l=this.get(1,2),u=this.get(2,0),f=this.get(2,1),c=this.get(2,2),h=e.get(0,0),d=e.get(0,1),v=e.get(0,2),p=e.get(1,0),g=e.get(1,1),m=e.get(1,2),y=e.get(2,0),x=e.get(2,1),b=e.get(2,2),_=(i+n+a-o-s-f-c)*g,M=(i-o)*(-d+g),A=s*(-h+d+p-g-m-y+b),I=(-i+o+s)*(h-d+g),k=(o+s)*(-h+d),E=i*h,O=(-i+u+f)*(h-v+m),P=(-i+u)*(v-m),N=(u+f)*(-h+v),R=(i+n+a-s-l-u-f)*m,z=f*(-h+v+p-g-m-y+x),B=(-a+f+c)*(g+y-x),Y=(a-c)*(g-x),q=a*y,j=(f+c)*(-y+x),Z=(-a+s+l)*(m+y-b),tt=(a-l)*(m-b),lt=(s+l)*(-y+b),J=n*p,nt=l*x,ut=o*v,ft=u*d,pt=c*b,_t=E+q+J,Et=_+I+k+E+B+q+j,Ot=E+O+N+R+q+Z+lt,oe=M+A+I+E+q+Z+tt,se=M+I+k+E+nt,_e=q+Z+tt+lt+ut,le=E+O+P+z+B+Y+q,ar=B+Y+q+j+ft,pe=E+O+P+N+pt;return t.set(0,0,_t),t.set(0,1,Et),t.set(0,2,Ot),t.set(1,0,oe),t.set(1,1,se),t.set(1,2,_e),t.set(2,0,le),t.set(2,1,ar),t.set(2,2,pe),t}mmulStrassen(e){e=Yr.checkMatrix(e);let t=this.clone(),i=t.rows,n=t.columns,a=e.rows,o=e.columns;n!==a&&console.warn(`Multiplying ${i} x ${n} and ${a} x ${o} matrix: dimensions do not match.`);function s(c,h,d){let v=c.rows,p=c.columns;if(v===h&&p===d)return c;{let g=en.zeros(h,d);return g=g.setSubMatrix(c,0,0),g}}let l=Math.max(i,a),u=Math.max(n,o);t=s(t,l,u),e=s(e,l,u);function f(c,h,d,v){if(d<=512||v<=512)return c.mmul(h);d%2==1&&v%2==1?(c=s(c,d+1,v+1),h=s(h,d+1,v+1)):d%2==1?(c=s(c,d+1,v),h=s(h,d+1,v)):v%2==1&&(c=s(c,d,v+1),h=s(h,d,v+1));let p=parseInt(c.rows/2,10),g=parseInt(c.columns/2,10),m=c.subMatrix(0,p-1,0,g-1),y=h.subMatrix(0,p-1,0,g-1),x=c.subMatrix(0,p-1,g,c.columns-1),b=h.subMatrix(0,p-1,g,h.columns-1),_=c.subMatrix(p,c.rows-1,0,g-1),M=h.subMatrix(p,h.rows-1,0,g-1),A=c.subMatrix(p,c.rows-1,g,c.columns-1),I=h.subMatrix(p,h.rows-1,g,h.columns-1),k=f(en.add(m,A),en.add(y,I),p,g),E=f(en.add(_,A),y,p,g),O=f(m,en.sub(b,I),p,g),P=f(A,en.sub(M,y),p,g),N=f(en.add(m,x),I,p,g),R=f(en.sub(_,m),en.add(y,b),p,g),z=f(en.sub(x,A),en.add(M,I),p,g),B=en.add(k,P);B.sub(N),B.add(z);let Y=en.add(O,N),q=en.add(E,P),j=en.sub(k,E);j.add(O),j.add(R);let Z=en.zeros(2*B.rows,2*B.columns);return Z=Z.setSubMatrix(B,0,0),Z=Z.setSubMatrix(Y,B.rows,0),Z=Z.setSubMatrix(q,0,B.columns),Z=Z.setSubMatrix(j,B.rows,B.columns),Z.subMatrix(0,d-1,0,v-1)}return f(t,e,l,u)}scaleRows(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let n=new Yr(this.rows,this.columns);for(let a=0;a<this.rows;a++){let o=this.getRow(a);k6t(o,{min:t,max:i,output:o}),n.setRow(a,o)}return n}scaleColumns(e={}){if(typeof e!="object")throw new TypeError("options must be an object");let{min:t=0,max:i=1}=e;if(!Number.isFinite(t))throw new TypeError("min must be a number");if(!Number.isFinite(i))throw new TypeError("max must be a number");if(t>=i)throw new RangeError("min must be smaller than max");let n=new Yr(this.rows,this.columns);for(let a=0;a<this.columns;a++){let o=this.getColumn(a);k6t(o,{min:t,max:i,output:o}),n.setColumn(a,o)}return n}flipRows(){let e=Math.ceil(this.columns/2);for(let t=0;t<this.rows;t++)for(let i=0;i<e;i++){let n=this.get(t,i),a=this.get(t,this.columns-1-i);this.set(t,i,a),this.set(t,this.columns-1-i,n)}return this}flipColumns(){let e=Math.ceil(this.rows/2);for(let t=0;t<this.columns;t++)for(let i=0;i<e;i++){let n=this.get(i,t),a=this.get(this.rows-1-i,t);this.set(i,t,a),this.set(this.rows-1-i,t,n)}return this}kroneckerProduct(e){e=Yr.checkMatrix(e);let t=this.rows,i=this.columns,n=e.rows,a=e.columns,o=new Yr(t*n,i*a);for(let s=0;s<t;s++)for(let l=0;l<i;l++)for(let u=0;u<n;u++)for(let f=0;f<a;f++)o.set(n*s+u,a*l+f,this.get(s,l)*e.get(u,f));return o}transpose(){let e=new Yr(this.columns,this.rows);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.set(i,t,this.get(t,i));return e}sortRows(e=R6t){for(let t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}sortColumns(e=R6t){for(let t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}subMatrix(e,t,i,n){ylt(this,e,t,i,n);let a=new Yr(t-e+1,n-i+1);for(let o=e;o<=t;o++)for(let s=i;s<=n;s++)a.set(o-e,s-i,this.get(o,s));return a}subMatrixRow(e,t,i){if(t===void 0&&(t=0),i===void 0&&(i=this.columns-1),t>i||t<0||t>=this.columns||i<0||i>=this.columns)throw new RangeError("Argument out of range");let n=new Yr(e.length,i-t+1);for(let a=0;a<e.length;a++)for(let o=t;o<=i;o++){if(e[a]<0||e[a]>=this.rows)throw new RangeError(`Row index out of range: ${e[a]}`);n.set(a,o-t,this.get(e[a],o))}return n}subMatrixColumn(e,t,i){if(t===void 0&&(t=0),i===void 0&&(i=this.rows-1),t>i||t<0||t>=this.rows||i<0||i>=this.rows)throw new RangeError("Argument out of range");let n=new Yr(i-t+1,e.length);for(let a=0;a<e.length;a++)for(let o=t;o<=i;o++){if(e[a]<0||e[a]>=this.columns)throw new RangeError(`Column index out of range: ${e[a]}`);n.set(o-t,a,this.get(o,e[a]))}return n}setSubMatrix(e,t,i){e=Yr.checkMatrix(e);let n=t+e.rows-1,a=i+e.columns-1;ylt(this,t,n,i,a);for(let o=0;o<e.rows;o++)for(let s=0;s<e.columns;s++)this.set(t+o,i+s,e.get(o,s));return this}selection(e,t){let i=F6t(this,e,t),n=new Yr(e.length,t.length);for(let a=0;a<i.row.length;a++){let o=i.row[a];for(let s=0;s<i.column.length;s++){let l=i.column[s];n.set(a,s,this.get(o,l))}}return n}trace(){let e=Math.min(this.rows,this.columns),t=0;for(let i=0;i<e;i++)t+=this.get(i,i);return t}clone(){let e=new Yr(this.rows,this.columns);for(let t=0;t<this.rows;t++)for(let i=0;i<this.columns;i++)e.set(t,i,this.get(t,i));return e}sum(e){switch(e){case"row":return xZe(this);case"column":return bZe(this);case void 0:return wZe(this);default:throw new Error(`invalid option: ${e}`)}}product(e){switch(e){case"row":return _Ze(this);case"column":return SZe(this);case void 0:return CZe(this);default:throw new Error(`invalid option: ${e}`)}}mean(e){let t=this.sum(e);switch(e){case"row":{for(let i=0;i<this.rows;i++)t[i]/=this.columns;return t}case"column":{for(let i=0;i<this.columns;i++)t[i]/=this.rows;return t}case void 0:return t/this.size;default:throw new Error(`invalid option: ${e}`)}}variance(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let{unbiased:i=!0,mean:n=this.mean(e)}=t;if(typeof i!="boolean")throw new TypeError("unbiased must be a boolean");switch(e){case"row":{if(!Array.isArray(n))throw new TypeError("mean must be an array");return MZe(this,i,n)}case"column":{if(!Array.isArray(n))throw new TypeError("mean must be an array");return AZe(this,i,n)}case void 0:{if(typeof n!="number")throw new TypeError("mean must be a number");return EZe(this,i,n)}default:throw new Error(`invalid option: ${e}`)}}standardDeviation(e,t){typeof e=="object"&&(t=e,e=void 0);let i=this.variance(e,t);if(e===void 0)return Math.sqrt(i);for(let n=0;n<i.length;n++)i[n]=Math.sqrt(i[n]);return i}center(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let{center:i=this.mean(e)}=t;switch(e){case"row":{if(!Array.isArray(i))throw new TypeError("center must be an array");return TZe(this,i),this}case"column":{if(!Array.isArray(i))throw new TypeError("center must be an array");return IZe(this,i),this}case void 0:{if(typeof i!="number")throw new TypeError("center must be a number");return LZe(this,i),this}default:throw new Error(`invalid option: ${e}`)}}scale(e,t={}){if(typeof e=="object"&&(t=e,e=void 0),typeof t!="object")throw new TypeError("options must be an object");let i=t.scale;switch(e){case"row":{if(i===void 0)i=OZe(this);else if(!Array.isArray(i))throw new TypeError("scale must be an array");return kZe(this,i),this}case"column":{if(i===void 0)i=PZe(this);else if(!Array.isArray(i))throw new TypeError("scale must be an array");return DZe(this,i),this}case void 0:{if(i===void 0)i=FZe(this);else if(typeof i!="number")throw new TypeError("scale must be a number");return NZe(this,i),this}default:throw new Error(`invalid option: ${e}`)}}toString(e){return D6t(this,e)}};en.prototype.klass="Matrix";typeof Symbol!="undefined"&&(en.prototype[Symbol.for("nodejs.util.inspect.custom")]=pZe);function R6t(r,e){return r-e}en.random=en.rand;en.randomInt=en.randInt;en.diagonal=en.diag;en.prototype.diagonal=en.prototype.diag;en.identity=en.eye;en.prototype.negate=en.prototype.neg;en.prototype.tensorProduct=en.prototype.kroneckerProduct;var Yr=class extends en{constructor(e,t){super();if(Yr.isMatrix(e))return e.clone();if(Number.isInteger(e)&&e>0)if(this.data=[],Number.isInteger(t)&&t>0)for(let i=0;i<e;i++)this.data.push(new Float64Array(t));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){let i=e;if(e=i.length,t=i[0].length,typeof t!="number"||t===0)throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let n=0;n<e;n++){if(i[n].length!==t)throw new RangeError("Inconsistent array dimensions");this.data.push(Float64Array.from(i[n]))}}else throw new TypeError("First argument must be a positive number or an array");return this.rows=e,this.columns=t,this}set(e,t,i){return this.data[e][t]=i,this}get(e,t){return this.data[e][t]}removeRow(e){if(Bd(this,e),this.rows===1)throw new RangeError("A matrix cannot have less than one row");return this.data.splice(e,1),this.rows-=1,this}addRow(e,t){return t===void 0&&(t=e,e=this.rows),Bd(this,e,!0),t=Float64Array.from(NI(this,t)),this.data.splice(e,0,t),this.rows+=1,this}removeColumn(e){if(Rd(this,e),this.columns===1)throw new RangeError("A matrix cannot have less than one column");for(let t=0;t<this.rows;t++){let i=new Float64Array(this.columns-1);for(let n=0;n<e;n++)i[n]=this.data[t][n];for(let n=e+1;n<this.columns;n++)i[n-1]=this.data[t][n];this.data[t]=i}return this.columns-=1,this}addColumn(e,t){typeof t=="undefined"&&(t=e,e=this.columns),Rd(this,e,!0),t=BI(this,t);for(let i=0;i<this.rows;i++){let n=new Float64Array(this.columns+1),a=0;for(;a<e;a++)n[a]=this.data[i][a];for(n[a++]=t[i];a<this.columns+1;a++)n[a]=this.data[i][a-1];this.data[i]=n}return this.columns+=1,this}};yZe(en,Yr);var _m=class extends en{constructor(e,t,i){super();this.matrix=e,this.rows=t,this.columns=i}},G6t=class extends _m{constructor(e,t){Rd(e,t);super(e,e.rows,1);this.column=t}set(e,t,i){return this.matrix.set(e,this.column,i),this}get(e){return this.matrix.get(e,this.column)}},z6t=class extends _m{constructor(e,t){t=B6t(e,t);super(e,e.rows,t.length);this.columnIndices=t}set(e,t,i){return this.matrix.set(e,this.columnIndices[t],i),this}get(e,t){return this.matrix.get(e,this.columnIndices[t])}},j6t=class extends _m{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(e,this.columns-t-1,i),this}get(e,t){return this.matrix.get(e,this.columns-t-1)}},Y6t=class extends _m{constructor(e){super(e,e.rows,e.columns)}set(e,t,i){return this.matrix.set(this.rows-e-1,t,i),this}get(e,t){return this.matrix.get(this.rows-e-1,t)}},W6t=class extends _m{constructor(e,t){Bd(e,t);super(e,1,e.columns);this.row=t}set(e,t,i){return this.matrix.set(this.row,t,i),this}get(e,t){return this.matrix.get(this.row,t)}},V6t=class extends _m{constructor(e,t){t=N6t(e,t);super(e,t.length,e.columns);this.rowIndices=t}set(e,t,i){return this.matrix.set(this.rowIndices[e],t,i),this}get(e,t){return this.matrix.get(this.rowIndices[e],t)}},mN=class extends _m{constructor(e,t,i){let n=F6t(e,t,i);super(e,n.row.length,n.column.length);this.rowIndices=n.row,this.columnIndices=n.column}set(e,t,i){return this.matrix.set(this.rowIndices[e],this.columnIndices[t],i),this}get(e,t){return this.matrix.get(this.rowIndices[e],this.columnIndices[t])}},q6t=class extends _m{constructor(e,t,i,n,a){ylt(e,t,i,n,a);super(e,i-t+1,a-n+1);this.startRow=t,this.startColumn=n}set(e,t,i){return this.matrix.set(this.startRow+e,this.startColumn+t,i),this}get(e,t){return this.matrix.get(this.startRow+e,this.startColumn+t)}},H6t=class extends _m{constructor(e){super(e,e.columns,e.rows)}set(e,t,i){return this.matrix.set(t,e,i),this}get(e,t){return this.matrix.get(t,e)}},xlt=class extends en{constructor(e,t={}){let{rows:i=1}=t;if(e.length%i!=0)throw new Error("the data length is not divisible by the number of rows");super();this.rows=i,this.columns=e.length/i,this.data=e}set(e,t,i){let n=this._calculateIndex(e,t);return this.data[n]=i,this}get(e,t){let i=this._calculateIndex(e,t);return this.data[i]}_calculateIndex(e,t){return e*this.columns+t}},yc=class extends en{constructor(e){super();this.data=e,this.rows=e.length,this.columns=e[0].length}set(e,t,i){return this.data[e][t]=i,this}get(e,t){return this.data[e][t]}};function BZe(r,e){if(Array.isArray(r))return r[0]&&Array.isArray(r[0])?new yc(r):new xlt(r,e);throw new Error("the argument is not an array")}var yN=class{constructor(e){e=yc.checkMatrix(e);let t=e.clone(),i=t.rows,n=t.columns,a=new Float64Array(i),o=1,s,l,u,f,c,h,d,v,p;for(s=0;s<i;s++)a[s]=s;for(v=new Float64Array(i),l=0;l<n;l++){for(s=0;s<i;s++)v[s]=t.get(s,l);for(s=0;s<i;s++){for(p=Math.min(s,l),c=0,u=0;u<p;u++)c+=t.get(s,u)*v[u];v[s]-=c,t.set(s,l,v[s])}for(f=l,s=l+1;s<i;s++)Math.abs(v[s])>Math.abs(v[f])&&(f=s);if(f!==l){for(u=0;u<n;u++)h=t.get(f,u),t.set(f,u,t.get(l,u)),t.set(l,u,h);d=a[f],a[f]=a[l],a[l]=d,o=-o}if(l<i&&t.get(l,l)!==0)for(s=l+1;s<i;s++)t.set(s,l,t.get(s,l)/t.get(l,l))}this.LU=t,this.pivotVector=a,this.pivotSign=o}isSingular(){let e=this.LU,t=e.columns;for(let i=0;i<t;i++)if(e.get(i,i)===0)return!0;return!1}solve(e){e=Yr.checkMatrix(e);let t=this.LU;if(t.rows!==e.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let n=e.columns,a=e.subMatrixRow(this.pivotVector,0,n-1),o=t.columns,s,l,u;for(u=0;u<o;u++)for(s=u+1;s<o;s++)for(l=0;l<n;l++)a.set(s,l,a.get(s,l)-a.get(u,l)*t.get(s,u));for(u=o-1;u>=0;u--){for(l=0;l<n;l++)a.set(u,l,a.get(u,l)/t.get(u,u));for(s=0;s<u;s++)for(l=0;l<n;l++)a.set(s,l,a.get(s,l)-a.get(u,l)*t.get(s,u))}return a}get determinant(){let e=this.LU;if(!e.isSquare())throw new Error("Matrix must be square");let t=this.pivotSign,i=e.columns;for(let n=0;n<i;n++)t*=e.get(n,n);return t}get lowerTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,n=new Yr(t,i);for(let a=0;a<t;a++)for(let o=0;o<i;o++)a>o?n.set(a,o,e.get(a,o)):a===o?n.set(a,o,1):n.set(a,o,0);return n}get upperTriangularMatrix(){let e=this.LU,t=e.rows,i=e.columns,n=new Yr(t,i);for(let a=0;a<t;a++)for(let o=0;o<i;o++)a<=o?n.set(a,o,e.get(a,o)):n.set(a,o,0);return n}get pivotPermutationVector(){return Array.from(this.pivotVector)}};function gx(r,e){let t=0;return Math.abs(r)>Math.abs(e)?(t=e/r,Math.abs(r)*Math.sqrt(1+t*t)):e!==0?(t=r/e,Math.abs(e)*Math.sqrt(1+t*t)):0}var WW=class{constructor(e){e=yc.checkMatrix(e);let t=e.clone(),i=e.rows,n=e.columns,a=new Float64Array(n),o,s,l,u;for(l=0;l<n;l++){let f=0;for(o=l;o<i;o++)f=gx(f,t.get(o,l));if(f!==0){for(t.get(l,l)<0&&(f=-f),o=l;o<i;o++)t.set(o,l,t.get(o,l)/f);for(t.set(l,l,t.get(l,l)+1),s=l+1;s<n;s++){for(u=0,o=l;o<i;o++)u+=t.get(o,l)*t.get(o,s);for(u=-u/t.get(l,l),o=l;o<i;o++)t.set(o,s,t.get(o,s)+u*t.get(o,l))}}a[l]=-f}this.QR=t,this.Rdiag=a}solve(e){e=Yr.checkMatrix(e);let t=this.QR,i=t.rows;if(e.rows!==i)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let n=e.columns,a=e.clone(),o=t.columns,s,l,u,f;for(u=0;u<o;u++)for(l=0;l<n;l++){for(f=0,s=u;s<i;s++)f+=t.get(s,u)*a.get(s,l);for(f=-f/t.get(u,u),s=u;s<i;s++)a.set(s,l,a.get(s,l)+f*t.get(s,u))}for(u=o-1;u>=0;u--){for(l=0;l<n;l++)a.set(u,l,a.get(u,l)/this.Rdiag[u]);for(s=0;s<u;s++)for(l=0;l<n;l++)a.set(s,l,a.get(s,l)-a.get(u,l)*t.get(s,u))}return a.subMatrix(0,o-1,0,n-1)}isFullRank(){let e=this.QR.columns;for(let t=0;t<e;t++)if(this.Rdiag[t]===0)return!1;return!0}get upperTriangularMatrix(){let e=this.QR,t=e.columns,i=new Yr(t,t),n,a;for(n=0;n<t;n++)for(a=0;a<t;a++)n<a?i.set(n,a,e.get(n,a)):n===a?i.set(n,a,this.Rdiag[n]):i.set(n,a,0);return i}get orthogonalMatrix(){let e=this.QR,t=e.rows,i=e.columns,n=new Yr(t,i),a,o,s,l;for(s=i-1;s>=0;s--){for(a=0;a<t;a++)n.set(a,s,0);for(n.set(s,s,1),o=s;o<i;o++)if(e.get(s,s)!==0){for(l=0,a=s;a<t;a++)l+=e.get(a,s)*n.get(a,o);for(l=-l/e.get(s,s),a=s;a<t;a++)n.set(a,o,n.get(a,o)+l*e.get(a,s))}}return n}},bM=class{constructor(e,t={}){e=yc.checkMatrix(e);let i=e.rows,n=e.columns,{computeLeftSingularVectors:a=!0,computeRightSingularVectors:o=!0,autoTranspose:s=!1}=t,l=Boolean(a),u=Boolean(o),f=!1,c;if(i<n)if(!s)c=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{c=e.transpose(),i=c.rows,n=c.columns,f=!0;let E=l;l=u,u=E}else c=e.clone();let h=Math.min(i,n),d=Math.min(i+1,n),v=new Float64Array(d),p=new Yr(i,h),g=new Yr(n,n),m=new Float64Array(n),y=new Float64Array(i),x=new Float64Array(d);for(let E=0;E<d;E++)x[E]=E;let b=Math.min(i-1,n),_=Math.max(0,Math.min(n-2,i)),M=Math.max(b,_);for(let E=0;E<M;E++){if(E<b){v[E]=0;for(let O=E;O<i;O++)v[E]=gx(v[E],c.get(O,E));if(v[E]!==0){c.get(E,E)<0&&(v[E]=-v[E]);for(let O=E;O<i;O++)c.set(O,E,c.get(O,E)/v[E]);c.set(E,E,c.get(E,E)+1)}v[E]=-v[E]}for(let O=E+1;O<n;O++){if(E<b&&v[E]!==0){let P=0;for(let N=E;N<i;N++)P+=c.get(N,E)*c.get(N,O);P=-P/c.get(E,E);for(let N=E;N<i;N++)c.set(N,O,c.get(N,O)+P*c.get(N,E))}m[O]=c.get(E,O)}if(l&&E<b)for(let O=E;O<i;O++)p.set(O,E,c.get(O,E));if(E<_){m[E]=0;for(let O=E+1;O<n;O++)m[E]=gx(m[E],m[O]);if(m[E]!==0){m[E+1]<0&&(m[E]=0-m[E]);for(let O=E+1;O<n;O++)m[O]/=m[E];m[E+1]+=1}if(m[E]=-m[E],E+1<i&&m[E]!==0){for(let O=E+1;O<i;O++)y[O]=0;for(let O=E+1;O<i;O++)for(let P=E+1;P<n;P++)y[O]+=m[P]*c.get(O,P);for(let O=E+1;O<n;O++){let P=-m[O]/m[E+1];for(let N=E+1;N<i;N++)c.set(N,O,c.get(N,O)+P*y[N])}}if(u)for(let O=E+1;O<n;O++)g.set(O,E,m[O])}}let A=Math.min(n,i+1);if(b<n&&(v[b]=c.get(b,b)),i<A&&(v[A-1]=0),_+1<A&&(m[_]=c.get(_,A-1)),m[A-1]=0,l){for(let E=b;E<h;E++){for(let O=0;O<i;O++)p.set(O,E,0);p.set(E,E,1)}for(let E=b-1;E>=0;E--)if(v[E]!==0){for(let O=E+1;O<h;O++){let P=0;for(let N=E;N<i;N++)P+=p.get(N,E)*p.get(N,O);P=-P/p.get(E,E);for(let N=E;N<i;N++)p.set(N,O,p.get(N,O)+P*p.get(N,E))}for(let O=E;O<i;O++)p.set(O,E,-p.get(O,E));p.set(E,E,1+p.get(E,E));for(let O=0;O<E-1;O++)p.set(O,E,0)}else{for(let O=0;O<i;O++)p.set(O,E,0);p.set(E,E,1)}}if(u)for(let E=n-1;E>=0;E--){if(E<_&&m[E]!==0)for(let O=E+1;O<n;O++){let P=0;for(let N=E+1;N<n;N++)P+=g.get(N,E)*g.get(N,O);P=-P/g.get(E+1,E);for(let N=E+1;N<n;N++)g.set(N,O,g.get(N,O)+P*g.get(N,E))}for(let O=0;O<n;O++)g.set(O,E,0);g.set(E,E,1)}let I=A-1,k=Number.EPSILON;for(;A>0;){let E,O;for(E=A-2;E>=-1&&E!==-1;E--){let P=Number.MIN_VALUE+k*Math.abs(v[E]+Math.abs(v[E+1]));if(Math.abs(m[E])<=P||Number.isNaN(m[E])){m[E]=0;break}}if(E===A-2)O=4;else{let P;for(P=A-1;P>=E&&P!==E;P--){let N=(P!==A?Math.abs(m[P]):0)+(P!==E+1?Math.abs(m[P-1]):0);if(Math.abs(v[P])<=k*N){v[P]=0;break}}P===E?O=3:P===A-1?O=1:(O=2,E=P)}switch(E++,O){case 1:{let P=m[A-2];m[A-2]=0;for(let N=A-2;N>=E;N--){let R=gx(v[N],P),z=v[N]/R,B=P/R;if(v[N]=R,N!==E&&(P=-B*m[N-1],m[N-1]=z*m[N-1]),u)for(let Y=0;Y<n;Y++)R=z*g.get(Y,N)+B*g.get(Y,A-1),g.set(Y,A-1,-B*g.get(Y,N)+z*g.get(Y,A-1)),g.set(Y,N,R)}break}case 2:{let P=m[E-1];m[E-1]=0;for(let N=E;N<A;N++){let R=gx(v[N],P),z=v[N]/R,B=P/R;if(v[N]=R,P=-B*m[N],m[N]=z*m[N],l)for(let Y=0;Y<i;Y++)R=z*p.get(Y,N)+B*p.get(Y,E-1),p.set(Y,E-1,-B*p.get(Y,N)+z*p.get(Y,E-1)),p.set(Y,N,R)}break}case 3:{let P=Math.max(Math.abs(v[A-1]),Math.abs(v[A-2]),Math.abs(m[A-2]),Math.abs(v[E]),Math.abs(m[E])),N=v[A-1]/P,R=v[A-2]/P,z=m[A-2]/P,B=v[E]/P,Y=m[E]/P,q=((R+N)*(R-N)+z*z)/2,j=N*z*(N*z),Z=0;(q!==0||j!==0)&&(q<0?Z=0-Math.sqrt(q*q+j):Z=Math.sqrt(q*q+j),Z=j/(q+Z));let tt=(B+N)*(B-N)+Z,lt=B*Y;for(let J=E;J<A-1;J++){let nt=gx(tt,lt);nt===0&&(nt=Number.MIN_VALUE);let ut=tt/nt,ft=lt/nt;if(J!==E&&(m[J-1]=nt),tt=ut*v[J]+ft*m[J],m[J]=ut*m[J]-ft*v[J],lt=ft*v[J+1],v[J+1]=ut*v[J+1],u)for(let pt=0;pt<n;pt++)nt=ut*g.get(pt,J)+ft*g.get(pt,J+1),g.set(pt,J+1,-ft*g.get(pt,J)+ut*g.get(pt,J+1)),g.set(pt,J,nt);if(nt=gx(tt,lt),nt===0&&(nt=Number.MIN_VALUE),ut=tt/nt,ft=lt/nt,v[J]=nt,tt=ut*m[J]+ft*v[J+1],v[J+1]=-ft*m[J]+ut*v[J+1],lt=ft*m[J+1],m[J+1]=ut*m[J+1],l&&J<i-1)for(let pt=0;pt<i;pt++)nt=ut*p.get(pt,J)+ft*p.get(pt,J+1),p.set(pt,J+1,-ft*p.get(pt,J)+ut*p.get(pt,J+1)),p.set(pt,J,nt)}m[A-2]=tt;break}case 4:{if(v[E]<=0&&(v[E]=v[E]<0?-v[E]:0,u))for(let P=0;P<=I;P++)g.set(P,E,-g.get(P,E));for(;E<I&&!(v[E]>=v[E+1]);){let P=v[E];if(v[E]=v[E+1],v[E+1]=P,u&&E<n-1)for(let N=0;N<n;N++)P=g.get(N,E+1),g.set(N,E+1,g.get(N,E)),g.set(N,E,P);if(l&&E<i-1)for(let N=0;N<i;N++)P=p.get(N,E+1),p.set(N,E+1,p.get(N,E)),p.set(N,E,P);E++}A--;break}}}if(f){let E=g;g=p,p=E}this.m=i,this.n=n,this.s=v,this.U=p,this.V=g}solve(e){let t=e,i=this.threshold,n=this.s.length,a=Yr.zeros(n,n);for(let h=0;h<n;h++)Math.abs(this.s[h])<=i?a.set(h,h,0):a.set(h,h,1/this.s[h]);let o=this.U,s=this.rightSingularVectors,l=s.mmul(a),u=s.rows,f=o.rows,c=Yr.zeros(u,f);for(let h=0;h<u;h++)for(let d=0;d<f;d++){let v=0;for(let p=0;p<n;p++)v+=l.get(h,p)*o.get(d,p);c.set(h,d,v)}return c.mmul(t)}solveForDiagonal(e){return this.solve(Yr.diag(e))}inverse(){let e=this.V,t=this.threshold,i=e.rows,n=e.columns,a=new Yr(i,this.s.length);for(let f=0;f<i;f++)for(let c=0;c<n;c++)Math.abs(this.s[c])>t&&a.set(f,c,e.get(f,c)/this.s[c]);let o=this.U,s=o.rows,l=o.columns,u=new Yr(i,s);for(let f=0;f<i;f++)for(let c=0;c<s;c++){let h=0;for(let d=0;d<l;d++)h+=a.get(f,d)*o.get(c,d);u.set(f,c,h)}return u}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let e=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,t=0,i=this.s;for(let n=0,a=i.length;n<a;n++)i[n]>e&&t++;return t}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return Yr.diag(this.s)}};function RZe(r,e=!1){return r=yc.checkMatrix(r),e?new bM(r).inverse():U6t(r,Yr.eye(r.rows))}function U6t(r,e,t=!1){return r=yc.checkMatrix(r),e=yc.checkMatrix(e),t?new bM(r).solve(e):r.isSquare()?new yN(r).solve(e):new WW(r).solve(e)}function VW(r){if(r=Yr.checkMatrix(r),r.isSquare()){let e,t,i,n;if(r.columns===2)return e=r.get(0,0),t=r.get(0,1),i=r.get(1,0),n=r.get(1,1),e*n-t*i;if(r.columns===3){let a,o,s;return a=new mN(r,[1,2],[1,2]),o=new mN(r,[1,2],[0,2]),s=new mN(r,[1,2],[0,1]),e=r.get(0,0),t=r.get(0,1),i=r.get(0,2),e*VW(a)-t*VW(o)+i*VW(s)}else return new yN(r).determinant}else throw Error("determinant can only be calculated for a square matrix")}function GZe(r,e){let t=[];for(let i=0;i<r;i++)i!==e&&t.push(i);return t}function zZe(r,e,t,i=1e-9,n=1e-9){if(r>n)return new Array(e.rows+1).fill(0);{let a=e.addRow(t,[0]);for(let o=0;o<a.rows;o++)Math.abs(a.get(o,0))<i&&a.set(o,0,0);return a.to1DArray()}}function jZe(r,e={}){let{thresholdValue:t=1e-9,thresholdError:i=1e-9}=e;r=Yr.checkMatrix(r);let n=r.rows,a=new Yr(n,n);for(let o=0;o<n;o++){let s=Yr.columnVector(r.getRow(o)),l=r.subMatrixRow(GZe(n,o)).transpose(),f=new bM(l).solve(s),c=Yr.sub(s,l.mmul(f)).abs().max();a.setRow(o,zZe(c,f,o,t,i))}return a}function YZe(r,e=Number.EPSILON){r=Yr.checkMatrix(r);let t=new bM(r,{autoTranspose:!0}),i=t.leftSingularVectors,n=t.rightSingularVectors,a=t.diagonal;for(let o=0;o<a.length;o++)Math.abs(a[o])>e?a[o]=1/a[o]:a[o]=0;return n.mmul(Yr.diag(a).mmul(i.transpose()))}function WZe(r,e=r,t={}){r=new Yr(r);let i=!1;if(typeof e=="object"&&!Yr.isMatrix(e)&&!Array.isArray(e)?(t=e,e=r,i=!0):e=new Yr(e),r.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");let{center:n=!0}=t;n&&(r=r.center("column"),i||(e=e.center("column")));let a=r.transpose().mmul(e);for(let o=0;o<a.rows;o++)for(let s=0;s<a.columns;s++)a.set(o,s,a.get(o,s)*(1/(r.rows-1)));return a}function VZe(r,e=r,t={}){r=new Yr(r);let i=!1;if(typeof e=="object"&&!Yr.isMatrix(e)&&!Array.isArray(e)?(t=e,e=r,i=!0):e=new Yr(e),r.rows!==e.rows)throw new TypeError("Both matrices must have the same number of rows");let{center:n=!0,scale:a=!0}=t;n&&(r.center("column"),i||e.center("column")),a&&(r.scale("column"),i||e.scale("column"));let o=r.standardDeviation("column",{unbiased:!0}),s=i?o:e.standardDeviation("column",{unbiased:!0}),l=r.transpose().mmul(e);for(let u=0;u<l.rows;u++)for(let f=0;f<l.columns;f++)l.set(u,f,l.get(u,f)*(1/(o[u]*s[f]))*(1/(r.rows-1)));return l}var blt=class{constructor(e,t={}){let{assumeSymmetric:i=!1}=t;if(e=yc.checkMatrix(e),!e.isSquare())throw new Error("Matrix is not a square matrix");let n=e.columns,a=new Yr(n,n),o=new Float64Array(n),s=new Float64Array(n),l=e,u,f,c=!1;if(i?c=!0:c=e.isSymmetric(),c){for(u=0;u<n;u++)for(f=0;f<n;f++)a.set(u,f,l.get(u,f));qZe(n,s,o,a),HZe(n,s,o,a)}else{let h=new Yr(n,n),d=new Float64Array(n);for(f=0;f<n;f++)for(u=0;u<n;u++)h.set(u,f,l.get(u,f));UZe(n,h,d,a),XZe(n,s,o,a,h)}this.n=n,this.e=s,this.d=o,this.V=a}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let e=this.n,t=this.e,i=this.d,n=new Yr(e,e),a,o;for(a=0;a<e;a++){for(o=0;o<e;o++)n.set(a,o,0);n.set(a,a,i[a]),t[a]>0?n.set(a,a+1,t[a]):t[a]<0&&n.set(a,a-1,t[a])}return n}};function qZe(r,e,t,i){let n,a,o,s,l,u,f,c;for(l=0;l<r;l++)t[l]=i.get(r-1,l);for(s=r-1;s>0;s--){for(c=0,o=0,u=0;u<s;u++)c=c+Math.abs(t[u]);if(c===0)for(e[s]=t[s-1],l=0;l<s;l++)t[l]=i.get(s-1,l),i.set(s,l,0),i.set(l,s,0);else{for(u=0;u<s;u++)t[u]/=c,o+=t[u]*t[u];for(n=t[s-1],a=Math.sqrt(o),n>0&&(a=-a),e[s]=c*a,o=o-n*a,t[s-1]=n-a,l=0;l<s;l++)e[l]=0;for(l=0;l<s;l++){for(n=t[l],i.set(l,s,n),a=e[l]+i.get(l,l)*n,u=l+1;u<=s-1;u++)a+=i.get(u,l)*t[u],e[u]+=i.get(u,l)*n;e[l]=a}for(n=0,l=0;l<s;l++)e[l]/=o,n+=e[l]*t[l];for(f=n/(o+o),l=0;l<s;l++)e[l]-=f*t[l];for(l=0;l<s;l++){for(n=t[l],a=e[l],u=l;u<=s-1;u++)i.set(u,l,i.get(u,l)-(n*e[u]+a*t[u]));t[l]=i.get(s-1,l),i.set(s,l,0)}}t[s]=o}for(s=0;s<r-1;s++){if(i.set(r-1,s,i.get(s,s)),i.set(s,s,1),o=t[s+1],o!==0){for(u=0;u<=s;u++)t[u]=i.get(u,s+1)/o;for(l=0;l<=s;l++){for(a=0,u=0;u<=s;u++)a+=i.get(u,s+1)*i.get(u,l);for(u=0;u<=s;u++)i.set(u,l,i.get(u,l)-a*t[u])}}for(u=0;u<=s;u++)i.set(u,s+1,0)}for(l=0;l<r;l++)t[l]=i.get(r-1,l),i.set(r-1,l,0);i.set(r-1,r-1,1),e[0]=0}function HZe(r,e,t,i){let n,a,o,s,l,u,f,c,h,d,v,p,g,m,y,x;for(o=1;o<r;o++)e[o-1]=e[o];e[r-1]=0;let b=0,_=0,M=Number.EPSILON;for(u=0;u<r;u++){for(_=Math.max(_,Math.abs(t[u])+Math.abs(e[u])),f=u;f<r&&!(Math.abs(e[f])<=M*_);)f++;if(f>u)do{for(n=t[u],c=(t[u+1]-n)/(2*e[u]),h=gx(c,1),c<0&&(h=-h),t[u]=e[u]/(c+h),t[u+1]=e[u]*(c+h),d=t[u+1],a=n-t[u],o=u+2;o<r;o++)t[o]-=a;for(b=b+a,c=t[f],v=1,p=v,g=v,m=e[u+1],y=0,x=0,o=f-1;o>=u;o--)for(g=p,p=v,x=y,n=v*e[o],a=v*c,h=gx(c,e[o]),e[o+1]=y*h,y=e[o]/h,v=c/h,c=v*t[o]-y*n,t[o+1]=a+y*(v*n+y*t[o]),l=0;l<r;l++)a=i.get(l,o+1),i.set(l,o+1,y*i.get(l,o)+v*a),i.set(l,o,v*i.get(l,o)-y*a);c=-y*x*g*m*e[u]/d,e[u]=y*c,t[u]=v*c}while(Math.abs(e[u])>M*_);t[u]=t[u]+b,e[u]=0}for(o=0;o<r-1;o++){for(l=o,c=t[o],s=o+1;s<r;s++)t[s]<c&&(l=s,c=t[s]);if(l!==o)for(t[l]=t[o],t[o]=c,s=0;s<r;s++)c=i.get(s,o),i.set(s,o,i.get(s,l)),i.set(s,l,c)}}function UZe(r,e,t,i){let n=0,a=r-1,o,s,l,u,f,c,h;for(c=n+1;c<=a-1;c++){for(h=0,u=c;u<=a;u++)h=h+Math.abs(e.get(u,c-1));if(h!==0){for(l=0,u=a;u>=c;u--)t[u]=e.get(u,c-1)/h,l+=t[u]*t[u];for(s=Math.sqrt(l),t[c]>0&&(s=-s),l=l-t[c]*s,t[c]=t[c]-s,f=c;f<r;f++){for(o=0,u=a;u>=c;u--)o+=t[u]*e.get(u,f);for(o=o/l,u=c;u<=a;u++)e.set(u,f,e.get(u,f)-o*t[u])}for(u=0;u<=a;u++){for(o=0,f=a;f>=c;f--)o+=t[f]*e.get(u,f);for(o=o/l,f=c;f<=a;f++)e.set(u,f,e.get(u,f)-o*t[f])}t[c]=h*t[c],e.set(c,c-1,h*s)}}for(u=0;u<r;u++)for(f=0;f<r;f++)i.set(u,f,u===f?1:0);for(c=a-1;c>=n+1;c--)if(e.get(c,c-1)!==0){for(u=c+1;u<=a;u++)t[u]=e.get(u,c-1);for(f=c;f<=a;f++){for(s=0,u=c;u<=a;u++)s+=t[u]*i.get(u,f);for(s=s/t[c]/e.get(c,c-1),u=c;u<=a;u++)i.set(u,f,i.get(u,f)+s*t[u])}}}function XZe(r,e,t,i,n){let a=r-1,o=0,s=r-1,l=Number.EPSILON,u=0,f=0,c=0,h=0,d=0,v=0,p=0,g=0,m,y,x,b,_,M,A,I,k,E,O,P,N,R,z;for(m=0;m<r;m++)for((m<o||m>s)&&(t[m]=n.get(m,m),e[m]=0),y=Math.max(m-1,0);y<r;y++)f=f+Math.abs(n.get(m,y));for(;a>=o;){for(b=a;b>o&&(v=Math.abs(n.get(b-1,b-1))+Math.abs(n.get(b,b)),v===0&&(v=f),!(Math.abs(n.get(b,b-1))<l*v));)b--;if(b===a)n.set(a,a,n.get(a,a)+u),t[a]=n.get(a,a),e[a]=0,a--,g=0;else if(b===a-1){if(A=n.get(a,a-1)*n.get(a-1,a),c=(n.get(a-1,a-1)-n.get(a,a))/2,h=c*c+A,p=Math.sqrt(Math.abs(h)),n.set(a,a,n.get(a,a)+u),n.set(a-1,a-1,n.get(a-1,a-1)+u),I=n.get(a,a),h>=0){for(p=c>=0?c+p:c-p,t[a-1]=I+p,t[a]=t[a-1],p!==0&&(t[a]=I-A/p),e[a-1]=0,e[a]=0,I=n.get(a,a-1),v=Math.abs(I)+Math.abs(p),c=I/v,h=p/v,d=Math.sqrt(c*c+h*h),c=c/d,h=h/d,y=a-1;y<r;y++)p=n.get(a-1,y),n.set(a-1,y,h*p+c*n.get(a,y)),n.set(a,y,h*n.get(a,y)-c*p);for(m=0;m<=a;m++)p=n.get(m,a-1),n.set(m,a-1,h*p+c*n.get(m,a)),n.set(m,a,h*n.get(m,a)-c*p);for(m=o;m<=s;m++)p=i.get(m,a-1),i.set(m,a-1,h*p+c*i.get(m,a)),i.set(m,a,h*i.get(m,a)-c*p)}else t[a-1]=I+c,t[a]=I+c,e[a-1]=p,e[a]=-p;a=a-2,g=0}else{if(I=n.get(a,a),k=0,A=0,b<a&&(k=n.get(a-1,a-1),A=n.get(a,a-1)*n.get(a-1,a)),g===10){for(u+=I,m=o;m<=a;m++)n.set(m,m,n.get(m,m)-I);v=Math.abs(n.get(a,a-1))+Math.abs(n.get(a-1,a-2)),I=k=.75*v,A=-.4375*v*v}if(g===30&&(v=(k-I)/2,v=v*v+A,v>0)){for(v=Math.sqrt(v),k<I&&(v=-v),v=I-A/((k-I)/2+v),m=o;m<=a;m++)n.set(m,m,n.get(m,m)-v);u+=v,I=k=A=.964}for(g=g+1,_=a-2;_>=b&&(p=n.get(_,_),d=I-p,v=k-p,c=(d*v-A)/n.get(_+1,_)+n.get(_,_+1),h=n.get(_+1,_+1)-p-d-v,d=n.get(_+2,_+1),v=Math.abs(c)+Math.abs(h)+Math.abs(d),c=c/v,h=h/v,d=d/v,!(_===b||Math.abs(n.get(_,_-1))*(Math.abs(h)+Math.abs(d))<l*(Math.abs(c)*(Math.abs(n.get(_-1,_-1))+Math.abs(p)+Math.abs(n.get(_+1,_+1))))));)_--;for(m=_+2;m<=a;m++)n.set(m,m-2,0),m>_+2&&n.set(m,m-3,0);for(x=_;x<=a-1&&(R=x!==a-1,x!==_&&(c=n.get(x,x-1),h=n.get(x+1,x-1),d=R?n.get(x+2,x-1):0,I=Math.abs(c)+Math.abs(h)+Math.abs(d),I!==0&&(c=c/I,h=h/I,d=d/I)),I!==0);x++)if(v=Math.sqrt(c*c+h*h+d*d),c<0&&(v=-v),v!==0){for(x!==_?n.set(x,x-1,-v*I):b!==_&&n.set(x,x-1,-n.get(x,x-1)),c=c+v,I=c/v,k=h/v,p=d/v,h=h/c,d=d/c,y=x;y<r;y++)c=n.get(x,y)+h*n.get(x+1,y),R&&(c=c+d*n.get(x+2,y),n.set(x+2,y,n.get(x+2,y)-c*p)),n.set(x,y,n.get(x,y)-c*I),n.set(x+1,y,n.get(x+1,y)-c*k);for(m=0;m<=Math.min(a,x+3);m++)c=I*n.get(m,x)+k*n.get(m,x+1),R&&(c=c+p*n.get(m,x+2),n.set(m,x+2,n.get(m,x+2)-c*d)),n.set(m,x,n.get(m,x)-c),n.set(m,x+1,n.get(m,x+1)-c*h);for(m=o;m<=s;m++)c=I*i.get(m,x)+k*i.get(m,x+1),R&&(c=c+p*i.get(m,x+2),i.set(m,x+2,i.get(m,x+2)-c*d)),i.set(m,x,i.get(m,x)-c),i.set(m,x+1,i.get(m,x+1)-c*h)}}}if(f!==0){for(a=r-1;a>=0;a--)if(c=t[a],h=e[a],h===0)for(b=a,n.set(a,a,1),m=a-1;m>=0;m--){for(A=n.get(m,m)-c,d=0,y=b;y<=a;y++)d=d+n.get(m,y)*n.get(y,a);if(e[m]<0)p=A,v=d;else if(b=m,e[m]===0?n.set(m,a,A!==0?-d/A:-d/(l*f)):(I=n.get(m,m+1),k=n.get(m+1,m),h=(t[m]-c)*(t[m]-c)+e[m]*e[m],M=(I*v-p*d)/h,n.set(m,a,M),n.set(m+1,a,Math.abs(I)>Math.abs(p)?(-d-A*M)/I:(-v-k*M)/p)),M=Math.abs(n.get(m,a)),l*M*M>1)for(y=m;y<=a;y++)n.set(y,a,n.get(y,a)/M)}else if(h<0)for(b=a-1,Math.abs(n.get(a,a-1))>Math.abs(n.get(a-1,a))?(n.set(a-1,a-1,h/n.get(a,a-1)),n.set(a-1,a,-(n.get(a,a)-c)/n.get(a,a-1))):(z=qW(0,-n.get(a-1,a),n.get(a-1,a-1)-c,h),n.set(a-1,a-1,z[0]),n.set(a-1,a,z[1])),n.set(a,a-1,0),n.set(a,a,1),m=a-2;m>=0;m--){for(E=0,O=0,y=b;y<=a;y++)E=E+n.get(m,y)*n.get(y,a-1),O=O+n.get(m,y)*n.get(y,a);if(A=n.get(m,m)-c,e[m]<0)p=A,d=E,v=O;else if(b=m,e[m]===0?(z=qW(-E,-O,A,h),n.set(m,a-1,z[0]),n.set(m,a,z[1])):(I=n.get(m,m+1),k=n.get(m+1,m),P=(t[m]-c)*(t[m]-c)+e[m]*e[m]-h*h,N=(t[m]-c)*2*h,P===0&&N===0&&(P=l*f*(Math.abs(A)+Math.abs(h)+Math.abs(I)+Math.abs(k)+Math.abs(p))),z=qW(I*d-p*E+h*O,I*v-p*O-h*E,P,N),n.set(m,a-1,z[0]),n.set(m,a,z[1]),Math.abs(I)>Math.abs(p)+Math.abs(h)?(n.set(m+1,a-1,(-E-A*n.get(m,a-1)+h*n.get(m,a))/I),n.set(m+1,a,(-O-A*n.get(m,a)-h*n.get(m,a-1))/I)):(z=qW(-d-k*n.get(m,a-1),-v-k*n.get(m,a),p,h),n.set(m+1,a-1,z[0]),n.set(m+1,a,z[1]))),M=Math.max(Math.abs(n.get(m,a-1)),Math.abs(n.get(m,a))),l*M*M>1)for(y=m;y<=a;y++)n.set(y,a-1,n.get(y,a-1)/M),n.set(y,a,n.get(y,a)/M)}for(m=0;m<r;m++)if(m<o||m>s)for(y=m;y<r;y++)i.set(m,y,n.get(m,y));for(y=r-1;y>=o;y--)for(m=o;m<=s;m++){for(p=0,x=o;x<=Math.min(y,s);x++)p=p+i.get(m,x)*n.get(x,y);i.set(m,y,p)}}}function qW(r,e,t,i){let n,a;return Math.abs(t)>Math.abs(i)?(n=i/t,a=t+n*i,[(r+n*e)/a,(e-n*r)/a]):(n=t/i,a=i+n*t,[(n*r+e)/a,(n*e-r)/a])}var wlt=class{constructor(e){if(e=yc.checkMatrix(e),!e.isSymmetric())throw new Error("Matrix is not symmetric");let t=e,i=t.rows,n=new Yr(i,i),a=!0,o,s,l;for(s=0;s<i;s++){let u=0;for(l=0;l<s;l++){let f=0;for(o=0;o<l;o++)f+=n.get(l,o)*n.get(s,o);f=(t.get(s,l)-f)/n.get(l,l),n.set(s,l,f),u=u+f*f}for(u=t.get(s,s)-u,a&=u>0,n.set(s,s,Math.sqrt(Math.max(u,0))),l=s+1;l<i;l++)n.set(s,l,0)}this.L=n,this.positiveDefinite=Boolean(a)}isPositiveDefinite(){return this.positiveDefinite}solve(e){e=yc.checkMatrix(e);let t=this.L,i=t.rows;if(e.rows!==i)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let n=e.columns,a=e.clone(),o,s,l;for(l=0;l<i;l++)for(s=0;s<n;s++){for(o=0;o<l;o++)a.set(l,s,a.get(l,s)-a.get(o,s)*t.get(l,o));a.set(l,s,a.get(l,s)/t.get(l,l))}for(l=i-1;l>=0;l--)for(s=0;s<n;s++){for(o=l+1;o<i;o++)a.set(l,s,a.get(l,s)-a.get(o,s)*t.get(o,l));a.set(l,s,a.get(l,s)/t.get(l,l))}return a}get lowerTriangularMatrix(){return this.L}},_lt=class{constructor(e,t={}){e=yc.checkMatrix(e);let{Y:i}=t,{scaleScores:n=!1,maxIterations:a=1e3,terminationCriteria:o=1e-10}=t,s;if(i){if(Array.isArray(i)&&typeof i[0]=="number"?i=Yr.columnVector(i):i=yc.checkMatrix(i),!i.isColumnVector()||i.rows!==e.rows)throw new Error("Y must be a column vector of length X.rows");s=i}else s=e.getColumnVector(0);let l=1,u,f,c,h;for(let d=0;d<a&&l>o;d++)c=e.transpose().mmul(s).div(s.transpose().mmul(s).get(0,0)),c=c.div(c.norm()),u=e.mmul(c).div(c.transpose().mmul(c).get(0,0)),d>0&&(l=u.clone().sub(h).pow(2).sum()),h=u.clone(),i?(f=i.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),f=f.div(f.norm()),s=i.mmul(f).div(f.transpose().mmul(f).get(0,0))):s=u;if(i){let d=e.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0));d=d.div(d.norm());let v=e.clone().sub(u.clone().mmul(d.transpose())),p=s.transpose().mmul(u).div(u.transpose().mmul(u).get(0,0)),g=i.clone().sub(u.clone().mulS(p.get(0,0)).mmul(f.transpose()));this.t=u,this.p=d.transpose(),this.w=c.transpose(),this.q=f,this.u=s,this.s=u.transpose().mmul(u),this.xResidual=v,this.yResidual=g,this.betas=p}else this.w=c.transpose(),this.s=u.transpose().mmul(u).sqrt(),n?this.t=u.clone().div(this.s.get(0,0)):this.t=u,this.xResidual=e.sub(u.mmul(c.transpose()))}};Rn.AbstractMatrix=en;Rn.CHO=wlt;Rn.CholeskyDecomposition=wlt;Rn.EVD=blt;Rn.EigenvalueDecomposition=blt;Rn.LU=yN;Rn.LuDecomposition=yN;Rn.Matrix=Yr;Rn.MatrixColumnSelectionView=z6t;Rn.MatrixColumnView=G6t;Rn.MatrixFlipColumnView=j6t;Rn.MatrixFlipRowView=Y6t;Rn.MatrixRowSelectionView=V6t;Rn.MatrixRowView=W6t;Rn.MatrixSelectionView=mN;Rn.MatrixSubView=q6t;Rn.MatrixTransposeView=H6t;Rn.NIPALS=_lt;Rn.Nipals=_lt;Rn.QR=WW;Rn.QrDecomposition=WW;Rn.SVD=bM;Rn.SingularValueDecomposition=bM;Rn.WrapperMatrix1D=xlt;Rn.WrapperMatrix2D=yc;Rn.correlation=VZe;Rn.covariance=WZe;Rn.default=Yr;Rn.determinant=VW;Rn.inverse=RZe;Rn.linearDependencies=jZe;Rn.pseudoInverse=YZe;Rn.solve=U6t;Rn.wrap=BZe});var X6t=$(Clt=>{"use strict";Object.defineProperty(Clt,"__esModule",{value:!0});var xN=Slt(),ZZe=function(){function r(e){this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}return r.prototype.layout=function(){var e=this,t=e.dimension,i=e.distances,n=e.linkDistance;try{var a=xN.Matrix.mul(xN.Matrix.pow(i,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new xN.SingularValueDecomposition(a),f=xN.Matrix.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(p){return xN.Matrix.mul([p],[f]).toJSON()[0].splice(0,t)})}catch(p){for(var c=[],h=0;h<i.length;h++){var d=Math.random()*n,v=Math.random()*n;c.push([d,v])}return c}},r}();Clt.default=ZZe});var Z6t=$(Mlt=>{"use strict";Object.defineProperty(Mlt,"__esModule",{value:!0});var KZe=800,QZe=function(){function r(e){this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}return r.prototype.layout=function(){var e=this,t=e.positions,i=[],n=e.iterations,a=e.width/10;e.maxDisplace=a,e.disp=i;for(var o=0;o<n;o++)t.forEach(function(s,l){i[l]={x:0,y:0}}),e.getRepulsion(),e.updatePositions();return t},r.prototype.getRepulsion=function(){var e=this,t=e.positions,i=e.nodes,n=e.disp,a=e.k,o=e.radii||[];t.forEach(function(s,l){n[l]={x:0,y:0},t.forEach(function(u,f){if(l!==f&&o[l]===o[f]){var c=s[0]-u[0],h=s[1]-u[1],d=Math.sqrt(c*c+h*h);if(d===0){d=1;var v=l>f?1:-1;c=.01*v,h=.01*v}if(d<e.nodeSizeFunc(i[l])/2+e.nodeSizeFunc(i[f])/2){var p=a*a/d;n[l].x+=c/d*p,n[l].y+=h/d*p}}})})},r.prototype.updatePositions=function(){var e=this,t=e.positions,i=e.disp,n=e.speed,a=e.strictRadial,o=e.focusID,s=e.maxDisplace||e.width/10;a&&i.forEach(function(u,f){var c=t[f][0]-t[o][0],h=t[f][1]-t[o][1],d=Math.sqrt(c*c+h*h),v=h/d,p=-c/d,g=Math.sqrt(u.x*u.x+u.y*u.y),m=Math.acos((v*u.x+p*u.y)/g);m>Math.PI/2&&(m-=Math.PI/2,v*=-1,p*=-1);var y=Math.cos(m)*g;u.x=v*y,u.y=p*y});var l=e.radii;t.forEach(function(u,f){if(f!==o){var c=Math.sqrt(i[f].x*i[f].x+i[f].y*i[f].y);if(c>0&&f!==o){var h=Math.min(s*(n/KZe),c);if(u[0]+=i[f].x/c*h,u[1]+=i[f].y/c*h,a){var d=u[0]-t[o][0],v=u[1]-t[o][1],p=Math.sqrt(d*d+v*v);d=d/p*l[f],v=v/p*l[f],u[0]=t[o][0]+d,u[1]=t[o][1]+v}}}})},r}();Mlt.default=QZe});var $6t=$(Jw=>{"use strict";var $Ze=Jw&&Jw.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),K6t=Jw&&Jw.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Jw,"__esModule",{value:!0});Jw.RadialLayout=void 0;var Gd=No(),JZe=Rs(),tKe=K6t(X6t()),eKe=K6t(Z6t());function rKe(r){for(var e=r.length,t=r[0].length,i=[],n=0;n<e;n++){for(var a=[],o=0;o<t;o++)r[n][o]!==0?a.push(1/(r[n][o]*r[n][o])):a.push(0);i.push(a)}return i}function iKe(r,e){var t=-1;return r.forEach(function(i,n){i.id===e&&(t=n)}),t}function Q6t(r,e){return Math.sqrt((r[0]-e[0])*(r[0]-e[0])+(r[1]-e[1])*(r[1]-e[1]))}var nKe=function(r){$Ze(e,r);function e(t){var i=r.call(this)||this;return i.maxIteration=1e3,i.focusNode=null,i.unitRadius=null,i.linkDistance=50,i.preventOverlap=!1,i.strictRadial=!0,i.maxPreventOverlapIteration=200,i.sortStrength=10,i.nodes=[],i.edges=[],i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.edges||[];if(!i||i.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var a=t.center;if(i.length===1){i[0].x=a[0],i[0].y=a[1],t.onLayoutEnd&&t.onLayoutEnd();return}var o=t.linkDistance,s=null;if((0,Gd.isString)(t.focusNode)){for(var l=!1,u=0;u<i.length;u++)i[u].id===t.focusNode&&(s=i[u],t.focusNode=s,l=!0,u=i.length);l||(s=null)}else s=t.focusNode;s||(s=i[0],t.focusNode=s);var f=iKe(i,s.id);f<0&&(f=0),t.focusIndex=f;var c=(0,Gd.getAdjMatrix)({nodes:i,edges:n},!1),h=(0,Gd.floydWarshall)(c),d=t.maxToFocus(h,f);t.handleInfinity(h,f,d+1),t.distances=h;var v=h[f],p=t.width||500,g=t.height||500,m=p-a[0]>a[0]?a[0]:p-a[0],y=g-a[1]>a[1]?a[1]:g-a[1];m===0&&(m=p/2),y===0&&(y=g/2);var x=y>m?m:y,b=Math.max.apply(Math,v),_=[];v.forEach(function(q,j){t.unitRadius||(t.unitRadius=x/b),_[j]=q*t.unitRadius}),t.radii=_;var M=t.eIdealDisMatrix();t.eIdealDistances=M;var A=rKe(M);t.weights=A;var I=new tKe.default({linkDistance:o,distances:M}),k=I.layout();k.forEach(function(q){(0,Gd.isNaN)(q[0])&&(q[0]=Math.random()*o),(0,Gd.isNaN)(q[1])&&(q[1]=Math.random()*o)}),t.positions=k,k.forEach(function(q,j){i[j].x=q[0]+a[0],i[j].y=q[1]+a[1]}),k.forEach(function(q){q[0]-=k[f][0],q[1]-=k[f][1]}),t.run();var E=t.preventOverlap,O=t.nodeSize,P,N=t.strictRadial;if(E){var R=t.nodeSpacing,z;(0,Gd.isNumber)(R)?z=function(){return R}:(0,Gd.isFunction)(R)?z=R:z=function(){return 0},O?(0,Gd.isArray)(O)?P=function(q){var j=O[0]>O[1]?O[0]:O[1];return j+z(q)}:P=function(q){return O+z(q)}:P=function(q){if(q.size){if((0,Gd.isArray)(q.size)){var j=q.size[0]>q.size[1]?q.size[0]:q.size[1];return j+z(q)}if((0,Gd.isObject)(q.size)){var j=q.size.width>q.size.height?q.size.width:q.size.height;return j+z(q)}return q.size+z(q)}return 10+z(q)};var B={nodes:i,nodeSizeFunc:P,adjMatrix:c,positions:k,radii:_,height:g,width:p,strictRadial:N,focusID:f,iterations:t.maxPreventOverlapIteration||200,k:k.length/4.5},Y=new eKe.default(B);k=Y.layout()}return k.forEach(function(q,j){i[j].x=q[0]+a[0],i[j].y=q[1]+a[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:i,edges:n}},e.prototype.run=function(){for(var t=this,i=t.maxIteration,n=t.positions||[],a=t.weights||[],o=t.eIdealDistances||[],s=t.radii||[],l=0;l<=i;l++){var u=l/i;t.oneIteration(u,n,s,o,a)}},e.prototype.oneIteration=function(t,i,n,a,o){var s=this,l=1-t,u=s.focusIndex;i.forEach(function(f,c){var h=Q6t(f,[0,0]),d=h===0?0:1/h;if(c!==u){var v=0,p=0,g=0;i.forEach(function(y,x){if(c!==x){var b=Q6t(f,y),_=b===0?0:1/b,M=a[x][c];g+=o[c][x],v+=o[c][x]*(y[0]+M*(f[0]-y[0])*_),p+=o[c][x]*(y[1]+M*(f[1]-y[1])*_)}});var m=n[c]===0?0:1/n[c];g*=l,g+=t*m*m,v*=l,v+=t*m*f[0]*d,f[0]=v/g,p*=l,p+=t*m*f[1]*d,f[1]=p/g}})},e.prototype.eIdealDisMatrix=function(){var t=this,i=t.nodes;if(!i)return[];var n=t.distances,a=t.linkDistance,o=t.radii||[],s=t.unitRadius||50,l=[];return n&&n.forEach(function(u,f){var c=[];u.forEach(function(h,d){if(f===d)c.push(0);else if(o[f]===o[d])if(t.sortBy==="data")c.push(h*(Math.abs(f-d)*t.sortStrength)/(o[f]/s));else if(t.sortBy){var v=i[f][t.sortBy]||0,p=i[d][t.sortBy]||0;(0,Gd.isString)(v)&&(v=v.charCodeAt(0)),(0,Gd.isString)(p)&&(p=p.charCodeAt(0)),c.push(h*(Math.abs(v-p)*t.sortStrength)/(o[f]/s))}else c.push(h*a/(o[f]/s));else{var g=(a+s)/2;c.push(h*g)}}),l.push(c)}),l},e.prototype.handleInfinity=function(t,i,n){for(var a=t.length,o=0;o<a;o++)if(t[i][o]===1/0){t[i][o]=n,t[o][i]=n;for(var s=0;s<a;s++)t[o][s]!==1/0&&t[i][s]===1/0&&(t[i][s]=n+t[o][s],t[s][i]=n+t[o][s])}for(var o=0;o<a;o++)if(o!==i){for(var s=0;s<a;s++)if(t[o][s]===1/0){var l=Math.abs(t[i][o]-t[i][s]);l=l===0?1:l,t[o][s]=l}}},e.prototype.maxToFocus=function(t,i){for(var n=0,a=0;a<t[i].length;a++)t[i][a]!==1/0&&(n=t[i][a]>n?t[i][a]:n);return n},e.prototype.getType=function(){return"radial"},e}(JZe.Base);Jw.RadialLayout=nKe});var Alt=$(wM=>{"use strict";var aKe=wM&&wM.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),oKe=wM&&wM.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&aKe(e,r,t)};Object.defineProperty(wM,"__esModule",{value:!0});oKe($6t(),wM)});var Elt=$(RI=>{"use strict";var sKe=RI&&RI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(RI,"__esModule",{value:!0});RI.ConcentricLayout=void 0;var Sm=No(),lKe=Rs(),uKe=function(r){sKe(e,r);function e(t){var i=r.call(this)||this;return i.nodeSize=30,i.minNodeSpacing=10,i.nodeSpacing=10,i.preventOverlap=!1,i.equidistant=!1,i.startAngle=3/2*Math.PI,i.clockwise=!0,i.sortBy="degree",i.nodes=[],i.edges=[],i.width=300,i.height=300,i.onLayoutEnd=function(){},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{nodeSize:30,minNodeSpacing:10,nodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}},e.prototype.execute=function(){var t,i,n=this,a=n.nodes,o=n.edges,s=a.length;if(s===0){(t=n.onLayoutEnd)===null||t===void 0||t.call(n);return}!n.width&&typeof window!="undefined"&&(n.width=window.innerWidth),!n.height&&typeof window!="undefined"&&(n.height=window.innerHeight),n.center||(n.center=[n.width/2,n.height/2]);var l=n.center;if(s===1){a[0].x=l[0],a[0].y=l[1],(i=n.onLayoutEnd)===null||i===void 0||i.call(n);return}var u=n.nodeSize,f=n.nodeSpacing,c=[],h,d=0;(0,Sm.isArray)(u)?h=Math.max(u[0],u[1]):h=u,(0,Sm.isArray)(f)?d=Math.max(f[0],f[1]):(0,Sm.isNumber)(f)&&(d=f),a.forEach(function(N){c.push(N);var R=h;(0,Sm.isArray)(N.size)?R=Math.max(N.size[0],N.size[1]):(0,Sm.isNumber)(N.size)?R=N.size:(0,Sm.isObject)(N.size)&&(R=Math.max(N.size.width,N.size.height)),h=Math.max(h,R),(0,Sm.isFunction)(f)&&(d=Math.max(f(N),d))}),n.clockwise=n.counterclockwise!==void 0?!n.counterclockwise:n.clockwise;var v={},p={};if(c.forEach(function(N,R){v[N.id]=N,p[N.id]=R}),(n.sortBy==="degree"||!(0,Sm.isString)(n.sortBy)||c[0][n.sortBy]===void 0)&&(n.sortBy="degree",!(0,Sm.isNumber)(a[0].degree))){var g=(0,Sm.getDegree)(a.length,p,o);c.forEach(function(N,R){N.degree=g[R].all})}c.sort(function(N,R){return R[n.sortBy]-N[n.sortBy]}),n.maxValueNode=c[0],n.maxLevelDiff=n.maxLevelDiff||n.maxValueNode[n.sortBy]/4;var m=[[]],y=m[0];c.forEach(function(N){if(y.length>0){var R=Math.abs(y[0][n.sortBy]-N[n.sortBy]);n.maxLevelDiff&&R>=n.maxLevelDiff&&(y=[],m.push(y))}y.push(N)});var x=h+(d||n.minNodeSpacing);if(!n.preventOverlap){var b=m.length>0&&m[0].length>1,_=Math.min(n.width,n.height)/2-x,M=_/(m.length+(b?1:0));x=Math.min(x,M)}var A=0;if(m.forEach(function(N){var R=n.sweep;R===void 0&&(R=2*Math.PI-2*Math.PI/N.length);var z=N.dTheta=R/Math.max(1,N.length-1);if(N.length>1&&n.preventOverlap){var B=Math.cos(z)-Math.cos(0),Y=Math.sin(z)-Math.sin(0),q=Math.sqrt(x*x/(B*B+Y*Y));A=Math.max(q,A)}N.r=A,A+=x}),n.equidistant){for(var I=0,k=0,E=0;E<m.length;E++){var O=m[E],P=O.r-k;I=Math.max(I,P)}k=0,m.forEach(function(N,R){R===0&&(k=N.r),N.r=k,k+=I})}return m.forEach(function(N){var R=N.dTheta,z=N.r;N.forEach(function(B,Y){var q=n.startAngle+(n.clockwise?1:-1)*R*Y;B.x=l[0]+z*Math.cos(q),B.y=l[1]+z*Math.sin(q)})}),n.onLayoutEnd&&n.onLayoutEnd(),{nodes:a,edges:o}},e.prototype.getType=function(){return"concentric"},e}(lKe.Base);RI.ConcentricLayout=uKe});var Ilt=$(GI=>{"use strict";var fKe=GI&&GI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(GI,"__esModule",{value:!0});GI.MDSLayout=void 0;var bN=Slt(),Tlt=No(),cKe=Rs(),hKe=function(r){fKe(e,r);function e(t){var i=r.call(this)||this;return i.center=[0,0],i.linkDistance=50,i.nodes=[],i.edges=[],i.onLayoutEnd=function(){},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{center:[0,0],linkDistance:50}},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.edges,a=n===void 0?[]:n,o=t.center;if(!i||i.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}if(i.length===1){i[0].x=o[0],i[0].y=o[1],t.onLayoutEnd&&t.onLayoutEnd();return}var s=t.linkDistance,l=(0,Tlt.getAdjMatrix)({nodes:i,edges:a},!1),u=(0,Tlt.floydWarshall)(l);t.handleInfinity(u);var f=(0,Tlt.scaleMatrix)(u,s);t.scaledDistances=f;var c=t.runMDS();return t.positions=c,c.forEach(function(h,d){i[d].x=h[0]+o[0],i[d].y=h[1]+o[1]}),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:i,edges:a}},e.prototype.runMDS=function(){var t=this,i=2,n=t.scaledDistances,a=bN.Matrix.mul(bN.Matrix.pow(n,2),-.5),o=a.mean("row"),s=a.mean("column"),l=a.mean();a.add(l).subRowVector(o).subColumnVector(s);var u=new bN.SingularValueDecomposition(a),f=bN.Matrix.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map(function(c){return bN.Matrix.mul([c],[f]).toJSON()[0].splice(0,i)})},e.prototype.handleInfinity=function(t){var i=-999999;t.forEach(function(n){n.forEach(function(a){a!==1/0&&i<a&&(i=a)})}),t.forEach(function(n,a){n.forEach(function(o,s){o===1/0&&(t[a][s]=i)})})},e.prototype.getType=function(){return"mds"},e}(cKe.Base);GI.MDSLayout=hKe});var Llt=$(zI=>{"use strict";var dKe=zI&&zI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(zI,"__esModule",{value:!0});zI.FruchtermanLayout=void 0;var vKe=Rs(),fs=No(),pKe=800,gKe=function(r){dKe(e,r);function e(t){var i=r.call(this)||this;return i.maxIteration=1e3,i.workerEnabled=!1,i.gravity=10,i.speed=5,i.clustering=!1,i.clusterGravity=10,i.nodes=[],i.edges=[],i.width=300,i.height=300,i.nodeMap={},i.nodeIdxMap={},i.onLayoutEnd=function(){},i.tick=function(){},i.animate=!0,i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10,animate:!0}},e.prototype.execute=function(){var t=this,i,n,a=this,o=a.nodes;if(a.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(a.timeInterval),!o||o.length===0){(i=a.onLayoutEnd)===null||i===void 0||i.call(a);return}!a.width&&typeof window!="undefined"&&(a.width=window.innerWidth),!a.height&&typeof window!="undefined"&&(a.height=window.innerHeight),a.center||(a.center=[a.width/2,a.height/2]);var s=a.center;if(o.length===1){o[0].x=s[0],o[0].y=s[1],(n=a.onLayoutEnd)===null||n===void 0||n.call(a);return}var l={},u={};return o.forEach(function(f,c){(0,fs.isNumber)(f.x)||(f.x=Math.random()*t.width),(0,fs.isNumber)(f.y)||(f.y=Math.random()*t.height),l[f.id]=f,u[f.id]=c}),a.nodeMap=l,a.nodeIdxMap=u,a.run()},e.prototype.run=function(){var t,i=this,n=i.nodes;if(!!n){var a=i.edges,o=i.maxIteration,s=i.workerEnabled,l=i.clustering,u=i.animate,f={};if(l&&n.forEach(function(d){f[d.cluster]===void 0&&(f[d.cluster]={name:d.cluster,cx:0,cy:0,count:0})}),s||!u){for(var c=0;c<o;c++)i.runOneStep(f);(t=i.onLayoutEnd)===null||t===void 0||t.call(i)}else{if(typeof window=="undefined")return;var h=0;this.timeInterval=window.setInterval(function(){var d;i.runOneStep(f),h++,h>=o&&((d=i.onLayoutEnd)===null||d===void 0||d.call(i),window.clearInterval(i.timeInterval))},0)}return{nodes:n,edges:a}}},e.prototype.runOneStep=function(t){var i,n=this,a=n.nodes;if(!!a){var o=n.edges,s=n.center,l=n.gravity,u=n.speed,f=n.clustering,c=n.height*n.width,h=Math.sqrt(c)/10,d=c/(a.length+1),v=Math.sqrt(d),p=[];if(a.forEach(function(y,x){p[x]={x:0,y:0}}),n.applyCalculate(a,o,p,v,d),f){for(var g in t)t[g].cx=0,t[g].cy=0,t[g].count=0;a.forEach(function(y){var x=t[y.cluster];(0,fs.isNumber)(y.x)&&(x.cx+=y.x),(0,fs.isNumber)(y.y)&&(x.cy+=y.y),x.count++});for(var g in t)t[g].cx/=t[g].count,t[g].cy/=t[g].count;var m=n.clusterGravity||l;a.forEach(function(y,x){if(!(!(0,fs.isNumber)(y.x)||!(0,fs.isNumber)(y.y))){var b=t[y.cluster],_=Math.sqrt((y.x-b.cx)*(y.x-b.cx)+(y.y-b.cy)*(y.y-b.cy)),M=v*m;p[x].x-=M*(y.x-b.cx)/_,p[x].y-=M*(y.y-b.cy)/_}})}a.forEach(function(y,x){if(!(!(0,fs.isNumber)(y.x)||!(0,fs.isNumber)(y.y))){var b=.01*v*l;p[x].x-=b*(y.x-s[0]),p[x].y-=b*(y.y-s[1])}}),a.forEach(function(y,x){if((0,fs.isNumber)(y.fx)&&(0,fs.isNumber)(y.fy)){y.x=y.fx,y.y=y.fy;return}if(!(!(0,fs.isNumber)(y.x)||!(0,fs.isNumber)(y.y))){var b=Math.sqrt(p[x].x*p[x].x+p[x].y*p[x].y);if(b>0){var _=Math.min(h*(u/pKe),b);y.x+=p[x].x/b*_,y.y+=p[x].y/b*_}}}),(i=n.tick)===null||i===void 0||i.call(n)}},e.prototype.applyCalculate=function(t,i,n,a,o){var s=this;s.calRepulsive(t,n,o),i&&s.calAttractive(i,n,a)},e.prototype.calRepulsive=function(t,i,n){t.forEach(function(a,o){i[o]={x:0,y:0},t.forEach(function(s,l){if(o!==l&&!(!(0,fs.isNumber)(a.x)||!(0,fs.isNumber)(s.x)||!(0,fs.isNumber)(a.y)||!(0,fs.isNumber)(s.y))){var u=a.x-s.x,f=a.y-s.y,c=u*u+f*f;if(c===0){c=1;var h=o>l?1:-1;u=.01*h,f=.01*h}var d=n/c;i[o].x+=u*d,i[o].y+=f*d}})})},e.prototype.calAttractive=function(t,i,n){var a=this;t.forEach(function(o){var s=(0,fs.getEdgeTerminal)(o,"source"),l=(0,fs.getEdgeTerminal)(o,"target");if(!(!s||!l)){var u=a.nodeIdxMap[s],f=a.nodeIdxMap[l];if(u!==f){var c=a.nodeMap[s],h=a.nodeMap[l];if(!(!(0,fs.isNumber)(h.x)||!(0,fs.isNumber)(c.x)||!(0,fs.isNumber)(h.y)||!(0,fs.isNumber)(c.y))){var d=h.x-c.x,v=h.y-c.y,p=Math.sqrt(d*d+v*v),g=p*p/n;i[f].x-=d/p*g,i[f].y-=v/p*g,i[u].x+=d/p*g,i[u].y+=v/p*g}}}})},e.prototype.stop=function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)},e.prototype.destroy=function(){var t=this;t.stop(),t.tick=null,t.nodes=null,t.edges=null,t.destroyed=!0},e.prototype.getType=function(){return"fruchterman"},e}(vKe.Base);zI.FruchtermanLayout=gKe});var hf=$((pun,wN)=>{function mKe(r){return r&&r.__esModule?r:{default:r}}wN.exports=mKe,wN.exports.__esModule=!0,wN.exports.default=wN.exports});var Olt=$((gun,_N)=>{function yKe(r,e){this.v=r,this.k=e}_N.exports=yKe,_N.exports.__esModule=!0,_N.exports.default=_N.exports});var klt=$((mun,mx)=>{function HW(r,e,t,i){var n=Object.defineProperty;try{n({},"",{})}catch(a){n=0}mx.exports=HW=function(o,s,l,u){function f(c,h){HW(o,c,function(d){return this._invoke(c,h,d)})}s?n?n(o,s,{value:l,enumerable:!u,configurable:!u,writable:!u}):o[s]=l:(f("next",0),f("throw",1),f("return",2))},mx.exports.__esModule=!0,mx.exports.default=mx.exports,HW(r,e,t,i)}mx.exports=HW,mx.exports.__esModule=!0,mx.exports.default=mx.exports});var Plt=$((yun,yx)=>{var Cm=klt();function J6t(){var r,e,t=typeof Symbol=="function"?Symbol:{},i=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function a(d,v,p,g){var m=v&&v.prototype instanceof s?v:s,y=Object.create(m.prototype);return Cm(y,"_invoke",function(x,b,_){var M,A,I,k=0,E=_||[],O=!1,P={p:0,n:0,v:r,a:N,f:N.bind(r,4),d:function(z,B){return M=z,A=0,I=r,P.n=B,o}};function N(R,z){for(A=R,I=z,e=0;!O&&k&&!B&&e<E.length;e++){var B,Y=E[e],q=P.p,j=Y[2];R>3?(B=j===z)&&(I=Y[(A=Y[4])?5:(A=3,3)],Y[4]=Y[5]=r):Y[0]<=q&&((B=R<2&&q<Y[1])?(A=0,P.v=z,P.n=Y[1]):q<j&&(B=R<3||Y[0]>z||z>j)&&(Y[4]=R,Y[5]=z,P.n=j,A=0))}if(B||R>1)return o;throw O=!0,z}return function(R,z,B){if(k>1)throw TypeError("Generator is already running");for(O&&z===1&&N(z,B),A=z,I=B;(e=A<2?r:I)||!O;){M||(A?A<3?(A>1&&(P.n=-1),N(A,I)):P.n=I:P.v=I);try{if(k=2,M){if(A||(R="next"),e=M[R]){if(!(e=e.call(M,I)))throw TypeError("iterator result is not an object");if(!e.done)return e;I=e.value,A<2&&(A=0)}else A===1&&(e=M.return)&&e.call(M),A<2&&(I=TypeError("The iterator does not provide a '"+R+"' method"),A=1);M=r}else if((e=(O=P.n<0)?I:x.call(b,P))!==o)break}catch(Y){M=r,A=1,I=Y}finally{k=1}}return{value:e,done:O}}}(d,p,g),!0),y}var o={};function s(){}function l(){}function u(){}e=Object.getPrototypeOf;var f=[][i]?e(e([][i]())):(Cm(e={},i,function(){return this}),e),c=u.prototype=s.prototype=Object.create(f);function h(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,u):(d.__proto__=u,Cm(d,n,"GeneratorFunction")),d.prototype=Object.create(c),d}return l.prototype=u,Cm(c,"constructor",u),Cm(u,"constructor",l),l.displayName="GeneratorFunction",Cm(u,n,"GeneratorFunction"),Cm(c),Cm(c,n,"Generator"),Cm(c,i,function(){return this}),Cm(c,"toString",function(){return"[object Generator]"}),(yx.exports=J6t=function(){return{w:a,m:h}},yx.exports.__esModule=!0,yx.exports.default=yx.exports)()}yx.exports=J6t,yx.exports.__esModule=!0,yx.exports.default=yx.exports});var Nlt=$((xun,SN)=>{var xKe=Olt(),Dlt=klt();function Flt(r,e){function t(n,a,o,s){try{var l=r[n](a),u=l.value;return u instanceof xKe?e.resolve(u.v).then(function(f){t("next",f,o,s)},function(f){t("throw",f,o,s)}):e.resolve(u).then(function(f){l.value=f,o(l)},function(f){return t("throw",f,o,s)})}catch(f){s(f)}}var i;this.next||(Dlt(Flt.prototype),Dlt(Flt.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Dlt(this,"_invoke",function(n,a,o){function s(){return new e(function(l,u){t(n,o,l,u)})}return i=i?i.then(s,s):s()},!0)}SN.exports=Flt,SN.exports.__esModule=!0,SN.exports.default=SN.exports});var Blt=$((bun,CN)=>{var bKe=Plt(),wKe=Nlt();function _Ke(r,e,t,i,n){return new wKe(bKe().w(r,e,t,i),n||Promise)}CN.exports=_Ke,CN.exports.__esModule=!0,CN.exports.default=CN.exports});var tYt=$((wun,MN)=>{var SKe=Blt();function CKe(r,e,t,i,n){var a=SKe(r,e,t,i,n);return a.next().then(function(o){return o.done?o.value:a.next()})}MN.exports=CKe,MN.exports.__esModule=!0,MN.exports.default=MN.exports});var eYt=$((_un,AN)=>{function MKe(r){var e=Object(r),t=[];for(var i in e)t.unshift(i);return function n(){for(;t.length;)if((i=t.pop())in e)return n.value=i,n.done=!1,n;return n.done=!0,n}}AN.exports=MKe,AN.exports.__esModule=!0,AN.exports.default=AN.exports});var EN=$((Sun,xx)=>{function Rlt(r){return xx.exports=Rlt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx.exports.__esModule=!0,xx.exports.default=xx.exports,Rlt(r)}xx.exports=Rlt,xx.exports.__esModule=!0,xx.exports.default=xx.exports});var rYt=$((Cun,TN)=>{var AKe=EN().default;function EKe(r){if(r!=null){var e=r[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(e)return e.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length))return{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}}throw new TypeError(AKe(r)+" is not iterable")}TN.exports=EKe,TN.exports.__esModule=!0,TN.exports.default=TN.exports});var nYt=$((Mun,bx)=>{var TKe=Olt(),IKe=Plt(),LKe=tYt(),OKe=Blt(),kKe=Nlt(),PKe=eYt(),iYt=rYt();function Glt(){"use strict";var r=IKe(),e=r.m(Glt),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function i(o){var s=typeof o=="function"&&o.constructor;return!!s&&(s===t||(s.displayName||s.name)==="GeneratorFunction")}var n={throw:1,return:2,break:3,continue:3};function a(o){var s,l;return function(u){s||(s={stop:function(){return l(u.a,2)},catch:function(){return u.v},abrupt:function(c,h){return l(u.a,n[c],h)},delegateYield:function(c,h,d){return s.resultName=h,l(u.d,iYt(c),d)},finish:function(c){return l(u.f,c)}},l=function(c,h,d){u.p=s.prev,u.n=s.next;try{return c(h,d)}finally{s.next=u.n}}),s.resultName&&(s[s.resultName]=u.v,s.resultName=void 0),s.sent=u.v,s.next=u.n;try{return o.call(this,s)}finally{u.p=s.prev,u.n=s.next}}}return(bx.exports=Glt=function(){return{wrap:function(l,u,f,c){return r.w(a(l),u,f,c&&c.reverse())},isGeneratorFunction:i,mark:r.m,awrap:function(l,u){return new TKe(l,u)},AsyncIterator:kKe,async:function(l,u,f,c,h){return(i(u)?OKe:LKe)(a(l),u,f,c,h)},keys:PKe,values:iYt}},bx.exports.__esModule=!0,bx.exports.default=bx.exports)()}bx.exports=Glt,bx.exports.__esModule=!0,bx.exports.default=bx.exports});var IN=$((Aun,aYt)=>{var UW=nYt()();aYt.exports=UW;try{regeneratorRuntime=UW}catch(r){typeof globalThis=="object"?globalThis.regeneratorRuntime=UW:Function("r","regeneratorRuntime = r")(UW)}});var ON=$((Eun,LN)=>{function oYt(r,e,t,i,n,a,o){try{var s=r[a](o),l=s.value}catch(u){return void t(u)}s.done?e(l):Promise.resolve(l).then(i,n)}function DKe(r){return function(){var e=this,t=arguments;return new Promise(function(i,n){var a=r.apply(e,t);function o(l){oYt(a,i,n,o,s,"next",l)}function s(l){oYt(a,i,n,o,s,"throw",l)}o(void 0)})}}LN.exports=DKe,LN.exports.__esModule=!0,LN.exports.default=LN.exports});var lYt=$((Tun,kN)=>{var sYt=EN().default;function FKe(r,e){if(sYt(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var i=t.call(r,e||"default");if(sYt(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}kN.exports=FKe,kN.exports.__esModule=!0,kN.exports.default=kN.exports});var zlt=$((Iun,PN)=>{var NKe=EN().default,BKe=lYt();function RKe(r){var e=BKe(r,"string");return NKe(e)=="symbol"?e:e+""}PN.exports=RKe,PN.exports.__esModule=!0,PN.exports.default=PN.exports});var FN=$((Lun,DN)=>{var GKe=zlt();function zKe(r,e,t){return(e=GKe(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}DN.exports=zKe,DN.exports.__esModule=!0,DN.exports.default=DN.exports});var mh=$((Oun,NN)=>{function jKe(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}NN.exports=jKe,NN.exports.__esModule=!0,NN.exports.default=NN.exports});var yh=$((kun,BN)=>{var YKe=zlt();function uYt(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,YKe(i.key),i)}}function WKe(r,e,t){return e&&uYt(r.prototype,e),t&&uYt(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}BN.exports=WKe,BN.exports.__esModule=!0,BN.exports.default=BN.exports});var jlt=$((Pun,fYt)=>{var VKe=typeof global=="object"&&global&&global.Object===Object&&global;fYt.exports=VKe});var hYt=$((Dun,cYt)=>{var qKe=jlt(),HKe=typeof self=="object"&&self&&self.Object===Object&&self,UKe=qKe||HKe||Function("return this")();cYt.exports=UKe});var Ylt=$((Fun,dYt)=>{var XKe=hYt(),ZKe=XKe.Symbol;dYt.exports=ZKe});var mYt=$((Nun,gYt)=>{var vYt=Ylt(),pYt=Object.prototype,KKe=pYt.hasOwnProperty,QKe=pYt.toString,RN=vYt?vYt.toStringTag:void 0;function $Ke(r){var e=KKe.call(r,RN),t=r[RN];try{r[RN]=void 0;var i=!0}catch(a){}var n=QKe.call(r);return i&&(e?r[RN]=t:delete r[RN]),n}gYt.exports=$Ke});var xYt=$((Bun,yYt)=>{var JKe=Object.prototype,tQe=JKe.toString;function eQe(r){return tQe.call(r)}yYt.exports=eQe});var XW=$((Run,_Yt)=>{var bYt=Ylt(),rQe=mYt(),iQe=xYt(),nQe="[object Null]",aQe="[object Undefined]",wYt=bYt?bYt.toStringTag:void 0;function oQe(r){return r==null?r===void 0?aQe:nQe:wYt&&wYt in Object(r)?rQe(r):iQe(r)}_Yt.exports=oQe});var CYt=$((Gun,SYt)=>{var sQe=9007199254740991;function lQe(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=sQe}SYt.exports=lQe});var ZW=$((zun,MYt)=>{function uQe(r){return r!=null&&typeof r=="object"}MYt.exports=uQe});var EYt=$((jun,AYt)=>{var fQe=XW(),cQe=CYt(),hQe=ZW(),dQe="[object Arguments]",vQe="[object Array]",pQe="[object Boolean]",gQe="[object Date]",mQe="[object Error]",yQe="[object Function]",xQe="[object Map]",bQe="[object Number]",wQe="[object Object]",_Qe="[object RegExp]",SQe="[object Set]",CQe="[object String]",MQe="[object WeakMap]",AQe="[object ArrayBuffer]",EQe="[object DataView]",TQe="[object Float32Array]",IQe="[object Float64Array]",LQe="[object Int8Array]",OQe="[object Int16Array]",kQe="[object Int32Array]",PQe="[object Uint8Array]",DQe="[object Uint8ClampedArray]",FQe="[object Uint16Array]",NQe="[object Uint32Array]",xo={};xo[TQe]=xo[IQe]=xo[LQe]=xo[OQe]=xo[kQe]=xo[PQe]=xo[DQe]=xo[FQe]=xo[NQe]=!0;xo[dQe]=xo[vQe]=xo[AQe]=xo[pQe]=xo[EQe]=xo[gQe]=xo[mQe]=xo[yQe]=xo[xQe]=xo[bQe]=xo[wQe]=xo[_Qe]=xo[SQe]=xo[CQe]=xo[MQe]=!1;function BQe(r){return hQe(r)&&cQe(r.length)&&!!xo[fQe(r)]}AYt.exports=BQe});var IYt=$((Yun,TYt)=>{function RQe(r){return function(e){return r(e)}}TYt.exports=RQe});var OYt=$((zN,jI)=>{var GQe=jlt(),LYt=typeof zN=="object"&&zN&&!zN.nodeType&&zN,GN=LYt&&typeof jI=="object"&&jI&&!jI.nodeType&&jI,zQe=GN&&GN.exports===LYt,Wlt=zQe&&GQe.process,jQe=function(){try{var r=GN&&GN.require&&GN.require("util").types;return r||Wlt&&Wlt.binding&&Wlt.binding("util")}catch(e){}}();jI.exports=jQe});var KW=$((Wun,DYt)=>{var YQe=EYt(),WQe=IYt(),kYt=OYt(),PYt=kYt&&kYt.isTypedArray,VQe=PYt?WQe(PYt):YQe;DYt.exports=VQe});var NYt=$((Vun,FYt)=>{var qQe=XW(),HQe=ZW(),UQe="[object Number]";function XQe(r){return typeof r=="number"||HQe(r)&&qQe(r)==UQe}FYt.exports=XQe});var RYt=$((qun,BYt)=>{var ZQe=Array.isArray;BYt.exports=ZQe});var Vlt=$(jN=>{"use strict";Object.defineProperty(jN,"__esModule",{value:!0});jN.EMPTY=void 0;jN.createEntity=$Qe;var KQe=-1;jN.EMPTY=KQe;var QQe=1;function $Qe(){return QQe++}});var YYt=$(YI=>{"use strict";var QW=hf();Object.defineProperty(YI,"__esModule",{value:!0});YI.ComponentManager=YI.Component=void 0;var GYt=QW(IN()),JQe=QW(ON()),zYt=QW(yh()),jYt=QW(mh()),t$e=Vlt(),e$e=(0,zYt.default)(function r(e){(0,jYt.default)(this,r)});YI.Component=e$e;var r$e=function(){function r(e){(0,jYt.default)(this,r),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=e}return(0,zYt.default)(r,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(t){return this.lookup[t]>-1}},{key:"create",value:function(t,i){this.lookup[t]=this.components.length;var n=new this.clazz(i||{});return this.components.push(n),this.entities.push(t),n}},{key:"remove",value:function(t){var i=this.lookup[t];i>-1&&i<this.components.length-1&&(this.components[i]=this.components[this.components.length-1],this.entities[i]=this.entities[this.entities.length-1],this.lookup[this.entities[i]]=i),this.components.pop(),this.entities.pop(),delete this.lookup[t]}},{key:"removeKeepSorted",value:function(t){var i=this.lookup[t];if(i>-1){var n=this.entities[i];if(i<this.components.length-1){for(var a=i+1;a<this.components.length;++a)this.components[a-1]=this.components[a];for(var o=i+1;o<this.entities.length;++o)this.entities[o-1]=this.entities[o],this.lookup[this.entities[o-1]]=o-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(t,i){if(t!==i){for(var n=this.components[t],a=this.entities[t],o=t<i?1:-1,s=t;s!==i;s+=o){var l=s+o;this.components[s]=this.components[l],this.entities[s]=this.entities[l],this.lookup[this.entities[s]]=s}this.components[i]=n,this.entities[i]=a,this.lookup[a]=i}}},{key:"getEntity",value:function(t){return this.entities[t]}},{key:"getComponent",value:function(t){return this.components[t]}},{key:"getComponentByEntity",value:function(t){var i=this.lookup[t];return i>-1?this.components[i]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(t){for(var i=0,n=Object.keys(this.lookup);i<n.length;i++){var a=n[i],o=Number(a);if(this.lookup[o]===t)return o}return t$e.EMPTY}},{key:"find",value:function(t){for(var i=0;i<this.getCount();i++){var n=this.getComponent(i);if(t(n,i))return n}return null}},{key:"findIndex",value:function(t){for(var i=0;i<this.getCount();i++){var n=this.getComponent(i);if(t(n,i))return i}return-1}},{key:"forEach",value:function(t){for(var i=0,n=Object.keys(this.lookup);i<n.length;i++){var a=n[i],o=Number(a),s=this.lookup[o];t(o,this.getComponent(s))}}},{key:"forEachAsync",value:function(){var e=(0,JQe.default)(GYt.default.mark(function i(n){var a,o,s,l,u;return GYt.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=0,o=Object.keys(this.lookup);case 1:if(!(a<o.length)){c.next=10;break}return s=o[a],l=Number(s),u=this.lookup[l],c.next=7,n(l,this.getComponent(u));case 7:a++,c.next=1;break;case 10:case"end":return c.stop()}},i,this)}));function t(i){return e.apply(this,arguments)}return t}()},{key:"map",value:function(t){for(var i=[],n=0,a=Object.keys(this.lookup);n<a.length;n++){var o=a[n],s=Number(o),l=this.lookup[s];i.push(t(s,this.getComponent(l)))}return i}}]),r}();YI.ComponentManager=r$e});var WYt=$(YN=>{"use strict";Object.defineProperty(YN,"__esModule",{value:!0});YN.gl=void 0;var qlt;YN.gl=qlt;(function(r){r[r.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",r[r.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",r[r.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r[r.ZERO=0]="ZERO",r[r.ONE=1]="ONE",r[r.SRC_COLOR=768]="SRC_COLOR",r[r.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",r[r.SRC_ALPHA=770]="SRC_ALPHA",r[r.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",r[r.DST_ALPHA=772]="DST_ALPHA",r[r.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",r[r.DST_COLOR=774]="DST_COLOR",r[r.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",r[r.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",r[r.FUNC_ADD=32774]="FUNC_ADD",r[r.BLEND_EQUATION=32777]="BLEND_EQUATION",r[r.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",r[r.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",r[r.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",r[r.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",r[r.MAX_EXT=32776]="MAX_EXT",r[r.MIN_EXT=32775]="MIN_EXT",r[r.BLEND_DST_RGB=32968]="BLEND_DST_RGB",r[r.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",r[r.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",r[r.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",r[r.CONSTANT_COLOR=32769]="CONSTANT_COLOR",r[r.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",r[r.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",r[r.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",r[r.BLEND_COLOR=32773]="BLEND_COLOR",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",r[r.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",r[r.STREAM_DRAW=35040]="STREAM_DRAW",r[r.STATIC_DRAW=35044]="STATIC_DRAW",r[r.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",r[r.BUFFER_SIZE=34660]="BUFFER_SIZE",r[r.BUFFER_USAGE=34661]="BUFFER_USAGE",r[r.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",r[r.FRONT=1028]="FRONT",r[r.BACK=1029]="BACK",r[r.FRONT_AND_BACK=1032]="FRONT_AND_BACK",r[r.CULL_FACE=2884]="CULL_FACE",r[r.BLEND=3042]="BLEND",r[r.DITHER=3024]="DITHER",r[r.STENCIL_TEST=2960]="STENCIL_TEST",r[r.DEPTH_TEST=2929]="DEPTH_TEST",r[r.SCISSOR_TEST=3089]="SCISSOR_TEST",r[r.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",r[r.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",r[r.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",r[r.NO_ERROR=0]="NO_ERROR",r[r.INVALID_ENUM=1280]="INVALID_ENUM",r[r.INVALID_VALUE=1281]="INVALID_VALUE",r[r.INVALID_OPERATION=1282]="INVALID_OPERATION",r[r.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",r[r.CW=2304]="CW",r[r.CCW=2305]="CCW",r[r.LINE_WIDTH=2849]="LINE_WIDTH",r[r.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",r[r.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",r[r.CULL_FACE_MODE=2885]="CULL_FACE_MODE",r[r.FRONT_FACE=2886]="FRONT_FACE",r[r.DEPTH_RANGE=2928]="DEPTH_RANGE",r[r.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",r[r.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",r[r.DEPTH_FUNC=2932]="DEPTH_FUNC",r[r.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",r[r.STENCIL_FUNC=2962]="STENCIL_FUNC",r[r.STENCIL_FAIL=2964]="STENCIL_FAIL",r[r.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",r[r.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",r[r.STENCIL_REF=2967]="STENCIL_REF",r[r.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",r[r.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",r[r.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",r[r.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",r[r.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",r[r.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",r[r.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",r[r.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",r[r.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",r[r.VIEWPORT=2978]="VIEWPORT",r[r.SCISSOR_BOX=3088]="SCISSOR_BOX",r[r.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",r[r.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",r[r.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",r[r.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",r[r.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",r[r.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",r[r.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",r[r.RED_BITS=3410]="RED_BITS",r[r.GREEN_BITS=3411]="GREEN_BITS",r[r.BLUE_BITS=3412]="BLUE_BITS",r[r.ALPHA_BITS=3413]="ALPHA_BITS",r[r.DEPTH_BITS=3414]="DEPTH_BITS",r[r.STENCIL_BITS=3415]="STENCIL_BITS",r[r.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",r[r.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",r[r.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",r[r.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",r[r.SAMPLES=32937]="SAMPLES",r[r.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",r[r.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",r[r.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",r[r.DONT_CARE=4352]="DONT_CARE",r[r.FASTEST=4353]="FASTEST",r[r.NICEST=4354]="NICEST",r[r.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",r[r.BYTE=5120]="BYTE",r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.SHORT=5122]="SHORT",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.INT=5124]="INT",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.FLOAT=5126]="FLOAT",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.ALPHA=6406]="ALPHA",r[r.RGB=6407]="RGB",r[r.RGBA=6408]="RGBA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",r[r.VERTEX_SHADER=35633]="VERTEX_SHADER",r[r.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",r[r.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",r[r.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",r[r.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",r[r.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",r[r.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",r[r.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",r[r.SHADER_TYPE=35663]="SHADER_TYPE",r[r.DELETE_STATUS=35712]="DELETE_STATUS",r[r.LINK_STATUS=35714]="LINK_STATUS",r[r.VALIDATE_STATUS=35715]="VALIDATE_STATUS",r[r.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",r[r.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",r[r.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",r[r.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",r[r.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",r[r.NEVER=512]="NEVER",r[r.LESS=513]="LESS",r[r.EQUAL=514]="EQUAL",r[r.LEQUAL=515]="LEQUAL",r[r.GREATER=516]="GREATER",r[r.NOTEQUAL=517]="NOTEQUAL",r[r.GEQUAL=518]="GEQUAL",r[r.ALWAYS=519]="ALWAYS",r[r.KEEP=7680]="KEEP",r[r.REPLACE=7681]="REPLACE",r[r.INCR=7682]="INCR",r[r.DECR=7683]="DECR",r[r.INVERT=5386]="INVERT",r[r.INCR_WRAP=34055]="INCR_WRAP",r[r.DECR_WRAP=34056]="DECR_WRAP",r[r.VENDOR=7936]="VENDOR",r[r.RENDERER=7937]="RENDERER",r[r.VERSION=7938]="VERSION",r[r.NEAREST=9728]="NEAREST",r[r.LINEAR=9729]="LINEAR",r[r.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",r[r.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",r[r.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",r[r.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",r[r.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",r[r.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",r[r.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",r[r.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE=5890]="TEXTURE",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r[r.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",r[r.TEXTURE0=33984]="TEXTURE0",r[r.TEXTURE1=33985]="TEXTURE1",r[r.TEXTURE2=33986]="TEXTURE2",r[r.TEXTURE3=33987]="TEXTURE3",r[r.TEXTURE4=33988]="TEXTURE4",r[r.TEXTURE5=33989]="TEXTURE5",r[r.TEXTURE6=33990]="TEXTURE6",r[r.TEXTURE7=33991]="TEXTURE7",r[r.TEXTURE8=33992]="TEXTURE8",r[r.TEXTURE9=33993]="TEXTURE9",r[r.TEXTURE10=33994]="TEXTURE10",r[r.TEXTURE11=33995]="TEXTURE11",r[r.TEXTURE12=33996]="TEXTURE12",r[r.TEXTURE13=33997]="TEXTURE13",r[r.TEXTURE14=33998]="TEXTURE14",r[r.TEXTURE15=33999]="TEXTURE15",r[r.TEXTURE16=34e3]="TEXTURE16",r[r.TEXTURE17=34001]="TEXTURE17",r[r.TEXTURE18=34002]="TEXTURE18",r[r.TEXTURE19=34003]="TEXTURE19",r[r.TEXTURE20=34004]="TEXTURE20",r[r.TEXTURE21=34005]="TEXTURE21",r[r.TEXTURE22=34006]="TEXTURE22",r[r.TEXTURE23=34007]="TEXTURE23",r[r.TEXTURE24=34008]="TEXTURE24",r[r.TEXTURE25=34009]="TEXTURE25",r[r.TEXTURE26=34010]="TEXTURE26",r[r.TEXTURE27=34011]="TEXTURE27",r[r.TEXTURE28=34012]="TEXTURE28",r[r.TEXTURE29=34013]="TEXTURE29",r[r.TEXTURE30=34014]="TEXTURE30",r[r.TEXTURE31=34015]="TEXTURE31",r[r.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",r[r.REPEAT=10497]="REPEAT",r[r.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r[r.FLOAT_VEC2=35664]="FLOAT_VEC2",r[r.FLOAT_VEC3=35665]="FLOAT_VEC3",r[r.FLOAT_VEC4=35666]="FLOAT_VEC4",r[r.INT_VEC2=35667]="INT_VEC2",r[r.INT_VEC3=35668]="INT_VEC3",r[r.INT_VEC4=35669]="INT_VEC4",r[r.BOOL=35670]="BOOL",r[r.BOOL_VEC2=35671]="BOOL_VEC2",r[r.BOOL_VEC3=35672]="BOOL_VEC3",r[r.BOOL_VEC4=35673]="BOOL_VEC4",r[r.FLOAT_MAT2=35674]="FLOAT_MAT2",r[r.FLOAT_MAT3=35675]="FLOAT_MAT3",r[r.FLOAT_MAT4=35676]="FLOAT_MAT4",r[r.SAMPLER_2D=35678]="SAMPLER_2D",r[r.SAMPLER_CUBE=35680]="SAMPLER_CUBE",r[r.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",r[r.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",r[r.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",r[r.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",r[r.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",r[r.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",r[r.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",r[r.COMPILE_STATUS=35713]="COMPILE_STATUS",r[r.LOW_FLOAT=36336]="LOW_FLOAT",r[r.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",r[r.HIGH_FLOAT=36338]="HIGH_FLOAT",r[r.LOW_INT=36339]="LOW_INT",r[r.MEDIUM_INT=36340]="MEDIUM_INT",r[r.HIGH_INT=36341]="HIGH_INT",r[r.FRAMEBUFFER=36160]="FRAMEBUFFER",r[r.RENDERBUFFER=36161]="RENDERBUFFER",r[r.RGBA4=32854]="RGBA4",r[r.RGB5_A1=32855]="RGB5_A1",r[r.RGB565=36194]="RGB565",r[r.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",r[r.STENCIL_INDEX=6401]="STENCIL_INDEX",r[r.STENCIL_INDEX8=36168]="STENCIL_INDEX8",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r[r.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",r[r.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",r[r.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",r[r.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",r[r.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",r[r.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",r[r.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",r[r.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",r[r.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",r[r.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",r[r.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",r[r.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",r[r.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",r[r.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",r[r.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",r[r.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",r[r.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",r[r.NONE=0]="NONE",r[r.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",r[r.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",r[r.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",r[r.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",r[r.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",r[r.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",r[r.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",r[r.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",r[r.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",r[r.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",r[r.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",r[r.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",r[r.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",r[r.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",r[r.COPY_SRC=1]="COPY_SRC",r[r.COPY_DST=2]="COPY_DST",r[r.SAMPLED=4]="SAMPLED",r[r.STORAGE=8]="STORAGE",r[r.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(qlt||(YN.gl=qlt={}))});var qYt=$($W=>{"use strict";var VYt=hf();Object.defineProperty($W,"__esModule",{value:!0});$W.ConfigService=void 0;var i$e=VYt(mh()),n$e=VYt(yh()),a$e=function(){function r(){(0,i$e.default)(this,r),this.config=void 0}return(0,n$e.default)(r,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),r}();$W.ConfigService=a$e});var HYt=$(JW=>{"use strict";Object.defineProperty(JW,"__esModule",{value:!0});JW.isSafari=void 0;var o$e=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);JW.isSafari=o$e});var Mm=$(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.AST_TOKEN_TYPES=cs.AST_NODE_TYPES=void 0;Object.defineProperty(cs,"Component",{enumerable:!0,get:function(){return UYt.Component}});Object.defineProperty(cs,"ComponentManager",{enumerable:!0,get:function(){return UYt.ComponentManager}});Object.defineProperty(cs,"ConfigService",{enumerable:!0,get:function(){return u$e.ConfigService}});cs.Target=cs.STORAGE_CLASS=cs.DefineValuePlaceholder=void 0;Object.defineProperty(cs,"createEntity",{enumerable:!0,get:function(){return l$e.createEntity}});Object.defineProperty(cs,"gl",{enumerable:!0,get:function(){return s$e.gl}});Object.defineProperty(cs,"isSafari",{enumerable:!0,get:function(){return f$e.isSafari}});var UYt=YYt(),s$e=WYt(),l$e=Vlt(),u$e=qYt(),f$e=HYt(),Hlt;cs.AST_TOKEN_TYPES=Hlt;(function(r){r.Void="Void",r.Boolean="Boolean",r.Float="Float",r.Uint32="Uint32",r.Int32="Int32",r.Vector="Vector",r.Vector2Float="vec2<f32>",r.Vector3Float="vec3<f32>",r.Vector4Float="vec4<f32>",r.Vector2Boolean="vec2<bool>",r.Vector3Boolean="vec3<bool>",r.Vector4Boolean="vec4<bool>",r.Vector2Uint="vec2<u32>",r.Vector3Uint="vec3<u32>",r.Vector4Uint="vec4<u32>",r.Vector2Int="vec2<i32>",r.Vector3Int="vec3<i32>",r.Vector4Int="vec4<i32>",r.Matrix="Matrix",r.Matrix3x3Float="mat3x3<f32>",r.Matrix4x4Float="mat4x4<i32>",r.Struct="Struct",r.FloatArray="Float[]",r.Vector4FloatArray="vec4<f32>[]"})(Hlt||(cs.AST_TOKEN_TYPES=Hlt={}));var Ult;cs.AST_NODE_TYPES=Ult;(function(r){r.Program="Program",r.Identifier="Identifier",r.VariableDeclaration="VariableDeclaration",r.BlockStatement="BlockStatement",r.ReturnStatement="ReturnStatement",r.FunctionDeclaration="FunctionDeclaration",r.VariableDeclarator="VariableDeclarator",r.AssignmentExpression="AssignmentExpression",r.LogicalExpression="LogicalExpression",r.BinaryExpression="BinaryExpression",r.ArrayExpression="ArrayExpression",r.UnaryExpression="UnaryExpression",r.UpdateExpression="UpdateExpression",r.FunctionExpression="FunctionExpression",r.MemberExpression="MemberExpression",r.ConditionalExpression="ConditionalExpression",r.ExpressionStatement="ExpressionStatement",r.CallExpression="CallExpression",r.NumThreadStatement="NumThreadStatement",r.StorageStatement="StorageStatement",r.DoWhileStatement="DoWhileStatement",r.WhileStatement="WhileStatement",r.ForStatement="ForStatement",r.BreakStatement="BreakStatement",r.ContinueStatement="ContinueStatement",r.IfStatement="IfStatement",r.ImportedFunctionStatement="ImportedFunctionStatement"})(Ult||(cs.AST_NODE_TYPES=Ult={}));var Xlt;cs.STORAGE_CLASS=Xlt;(function(r){r.Input="Input",r.Output="Output",r.Uniform="Uniform",r.Workgroup="Workgroup",r.UniformConstant="UniformConstant",r.Image="Image",r.StorageBuffer="StorageBuffer",r.Private="Private",r.Function="Function"})(Xlt||(cs.STORAGE_CLASS=Xlt={}));var Zlt;cs.Target=Zlt;(function(r){r.GLSL100="GLSL100",r.GLSL450="GLSL450",r.WGSL="WGSL"})(Zlt||(cs.Target=Zlt={}));var c$e="__DefineValuePlaceholder__";cs.DefineValuePlaceholder=c$e});var XYt=$(Klt=>{"use strict";Object.defineProperty(Klt,"__esModule",{value:!0});Klt.createCanvas=h$e;function h$e(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}});var $lt=$(t8=>{"use strict";var t_=hf();Object.defineProperty(t8,"__esModule",{value:!0});t8.Kernel=void 0;var WI=t_(IN()),Qlt=t_(ON()),d$e=t_(FN()),v$e=t_(mh()),p$e=t_(yh()),g$e=t_(KW()),m$e=t_(NYt()),y$e=t_(RYt()),e_=Mm(),x$e=XYt();function ZYt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function KYt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZYt(Object(t),!0).forEach(function(i){(0,d$e.default)(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ZYt(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}var b$e=function(){function r(e,t){(0,v$e.default)(this,r),this.engine=e,this.configService=t,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return(0,p$e.default)(r,[{key:"init",value:function(){var t=this.configService.get(),i=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(KYt({canvas:i||(0,x$e.createCanvas)(),antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,i){var n=this;if(typeof t=="string"){var a=(0,m$e.default)(i)||(0,g$e.default)(i)||(0,y$e.default)(i);if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find(function(l){return l.name===t});if(o)return o.value=i,this;var s=this.compiledBundle.context.uniforms.find(function(l){return l.name===t});s&&(a?(s.data=i,s.isReferer=!1,s.storageClass===e_.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(t,i):this.model&&this.model.updateBuffer(t,i)):(s.isReferer=!0,s.data=i))}}else Object.keys(t).forEach(function(l){n.setBinding(l,t[l])});return this}},{key:"execute",value:function(){var e=(0,Qlt.default)(WI.default.mark(function i(){var n=this,a,o,s=arguments;return WI.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(a=s.length>0&&s[0]!==void 0?s[0]:1,!this.dirty){u.next=6;break}return this.compiledBundle.context&&(a>1?this.compiledBundle.context.maxIteration=a:this.compiledBundle.context.maxIteration++),u.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(f){var c=f.isReferer;return c}).forEach(function(f){var c=f.data,h=f.name;n.model.confirmInput(c.model,h)}),o=0;o<a;o++)this.model.run();return this.engine.endFrame(),u.abrupt("return",this);case 12:case"end":return u.stop()}},i,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"getOutput",value:function(){var e=(0,Qlt.default)(WI.default.mark(function i(){return WI.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",this.model.readData());case 1:case"end":return a.stop()}},i,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"compile",value:function(){var e=(0,Qlt.default)(WI.default.mark(function i(){var n,a,o;return WI.default.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.initPromise;case 2:return n=KYt({},this.compiledBundle.context),a=this.engine.supportWebGPU?this.engine.useWGSL?e_.Target.WGSL:e_.Target.GLSL450:e_.Target.GLSL100,o=this.compiledBundle.shaders[a],n.defines.filter(function(u){return u.runtime}).forEach(function(u){var f="".concat(e_.DefineValuePlaceholder).concat(u.name);o=o.replace(f,"".concat(u.value))}),n.shader=o,n.uniforms.forEach(function(u){if(!u.data&&u.storageClass===e_.STORAGE_CLASS.StorageBuffer){var f=1;u.type===e_.AST_TOKEN_TYPES.FloatArray?f=1:u.type===e_.AST_TOKEN_TYPES.Vector4FloatArray&&(f=4),u.data=new Float32Array(n.output.length*f).fill(0)}}),this.compiledBundle.context=n,l.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=l.sent;case 12:case"end":return l.stop()}},i,this)}));function t(){return e.apply(this,arguments)}return t}()}]),r}();t8.Kernel=b$e});var QYt=$((Jlt,tut)=>{(function(r,e){typeof Jlt=="object"&&typeof tut!="undefined"?tut.exports=e():typeof define=="function"&&define.amd?define(e):r.createREGL=e()})(Jlt,function(){"use strict";var r=function(K){return K instanceof Uint8Array||K instanceof Uint16Array||K instanceof Uint32Array||K instanceof Int8Array||K instanceof Int16Array||K instanceof Int32Array||K instanceof Float32Array||K instanceof Float64Array||K instanceof Uint8ClampedArray},e=function(K,ct){for(var Ct=Object.keys(ct),ie=0;ie<Ct.length;++ie)K[Ct[ie]]=ct[Ct[ie]];return K},t=`
`;function i(K){return typeof atob!="undefined"?atob(K):"base64:"+K}function n(K){var ct=new Error("(regl) "+K);throw console.error(ct),ct}function a(K,ct){K||n(ct)}function o(K){return K?": "+K:""}function s(K,ct,Ct){K in ct||n("unknown parameter ("+K+")"+o(Ct)+". possible values: "+Object.keys(ct).join())}function l(K,ct){r(K)||n("invalid parameter type"+o(ct)+". must be a typed array")}function u(K,ct){switch(ct){case"number":return typeof K=="number";case"object":return typeof K=="object";case"string":return typeof K=="string";case"boolean":return typeof K=="boolean";case"function":return typeof K=="function";case"undefined":return typeof K=="undefined";case"symbol":return typeof K=="symbol"}}function f(K,ct,Ct){u(K,ct)||n("invalid parameter type"+o(Ct)+". expected "+ct+", got "+typeof K)}function c(K,ct){K>=0&&(K|0)===K||n("invalid parameter type, ("+K+")"+o(ct)+". must be a nonnegative integer")}function h(K,ct,Ct){ct.indexOf(K)<0&&n("invalid value"+o(Ct)+". must be one of: "+ct)}var d=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function v(K){Object.keys(K).forEach(function(ct){d.indexOf(ct)<0&&n('invalid regl constructor argument "'+ct+'". must be one of '+d)})}function p(K,ct){for(K=K+"";K.length<ct;)K=" "+K;return K}function g(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(K,ct){this.number=K,this.line=ct,this.errors=[]}function y(K,ct,Ct){this.file=K,this.line=ct,this.message=Ct}function x(){var K=new Error,ct=(K.stack||K).toString(),Ct=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ct);if(Ct)return Ct[1];var ie=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ct);return ie?ie[1]:"unknown"}function b(){var K=new Error,ct=(K.stack||K).toString(),Ct=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ct);if(Ct)return Ct[1];var ie=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ct);return ie?ie[1]:"unknown"}function _(K,ct){var Ct=K.split(`
`),ie=1,ve=0,ee={unknown:new g,0:new g};ee.unknown.name=ee[0].name=ct||x(),ee.unknown.lines.push(new m(0,""));for(var ue=0;ue<Ct.length;++ue){var Te=Ct[ue],be=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Te);if(be)switch(be[1]){case"line":var Be=/(\d+)(\s+\d+)?/.exec(be[2]);Be&&(ie=Be[1]|0,Be[2]&&(ve=Be[2]|0,ve in ee||(ee[ve]=new g)));break;case"define":var ke=/SHADER_NAME(_B64)?\s+(.*)$/.exec(be[2]);ke&&(ee[ve].name=ke[1]?i(ke[2]):ke[2]);break}ee[ve].lines.push(new m(ie++,Te))}return Object.keys(ee).forEach(function(Ue){var tr=ee[Ue];tr.lines.forEach(function(Ie){tr.index[Ie.number]=Ie})}),ee}function M(K){var ct=[];return K.split(`
`).forEach(function(Ct){if(!(Ct.length<5)){var ie=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Ct);ie?ct.push(new y(ie[1]|0,ie[2]|0,ie[3].trim())):Ct.length>0&&ct.push(new y("unknown",0,Ct))}}),ct}function A(K,ct){ct.forEach(function(Ct){var ie=K[Ct.file];if(ie){var ve=ie.index[Ct.line];if(ve){ve.errors.push(Ct),ie.hasErrors=!0;return}}K.unknown.hasErrors=!0,K.unknown.lines[0].errors.push(Ct)})}function I(K,ct,Ct,ie,ve){if(!K.getShaderParameter(ct,K.COMPILE_STATUS)){var ee=K.getShaderInfoLog(ct),ue=ie===K.FRAGMENT_SHADER?"fragment":"vertex";z(Ct,"string",ue+" shader source must be a string",ve);var Te=_(Ct,ve),be=M(ee);A(Te,be),Object.keys(Te).forEach(function(Be){var ke=Te[Be];if(!ke.hasErrors)return;var Ue=[""],tr=[""];function Ie(Xe,Ut){Ue.push(Xe),tr.push(Ut||"")}Ie("file number "+Be+": "+ke.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),ke.lines.forEach(function(Xe){if(Xe.errors.length>0){Ie(p(Xe.number,4)+"|  ","background-color:yellow; font-weight:bold"),Ie(Xe.line+t,"color:red; background-color:yellow; font-weight:bold");var Ut=0;Xe.errors.forEach(function(fe){var Ee=fe.message,He=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Ee);if(He){var xe=He[1];switch(Ee=He[2],xe){case"assign":xe="=";break}Ut=Math.max(Xe.line.indexOf(xe,Ut),0)}else Ut=0;Ie(p("| ",6)),Ie(p("^^^",Ut+3)+t,"font-weight:bold"),Ie(p("| ",6)),Ie(Ee+t,"font-weight:bold")}),Ie(p("| ",6)+t)}else Ie(p(Xe.number,4)+"|  "),Ie(Xe.line+t,"color:red")}),typeof document!="undefined"&&!window.chrome?(tr[0]=Ue.join("%c"),console.log.apply(console,tr)):console.log(Ue.join(""))}),a.raise("Error compiling "+ue+" shader, "+Te[0].name)}}function k(K,ct,Ct,ie,ve){if(!K.getProgramParameter(ct,K.LINK_STATUS)){var ee=K.getProgramInfoLog(ct),ue=_(Ct,ve),Te=_(ie,ve),be='Error linking program with vertex shader, "'+Te[0].name+'", and fragment shader "'+ue[0].name+'"';typeof document!="undefined"?console.log("%c"+be+t+"%c"+ee,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(be+t+ee),a.raise(be)}}function E(K){K._commandRef=x()}function O(K,ct,Ct,ie){E(K);function ve(be){return be?ie.id(be):0}K._fragId=ve(K.static.frag),K._vertId=ve(K.static.vert);function ee(be,Be){Object.keys(Be).forEach(function(ke){be[ie.id(ke)]=!0})}var ue=K._uniformSet={};ee(ue,ct.static),ee(ue,ct.dynamic);var Te=K._attributeSet={};ee(Te,Ct.static),ee(Te,Ct.dynamic),K._hasCount="count"in K.static||"count"in K.dynamic||"elements"in K.static||"elements"in K.dynamic}function P(K,ct){var Ct=b();n(K+" in command "+(ct||x())+(Ct==="unknown"?"":" called from "+Ct))}function N(K,ct,Ct){K||P(ct,Ct||x())}function R(K,ct,Ct,ie){K in ct||P("unknown parameter ("+K+")"+o(Ct)+". possible values: "+Object.keys(ct).join(),ie||x())}function z(K,ct,Ct,ie){u(K,ct)||P("invalid parameter type"+o(Ct)+". expected "+ct+", got "+typeof K,ie||x())}function B(K){K()}function Y(K,ct,Ct){K.texture?h(K.texture._texture.internalformat,ct,"unsupported texture format for attachment"):h(K.renderbuffer._renderbuffer.format,Ct,"unsupported renderbuffer format for attachment")}var q=33071,j=9728,Z=9984,tt=9985,lt=9986,J=9987,nt=5120,ut=5121,ft=5122,pt=5123,_t=5124,Et=5125,Ot=5126,oe=32819,se=32820,_e=33635,le=34042,ar=36193,pe={};pe[nt]=pe[ut]=1,pe[ft]=pe[pt]=pe[ar]=pe[_e]=pe[oe]=pe[se]=2,pe[_t]=pe[Et]=pe[Ot]=pe[le]=4;function ze(K,ct){return K===se||K===oe||K===_e?2:K===le?4:pe[K]*ct}function rr(K){return!(K&K-1)&&!!K}function ur(K,ct,Ct){var ie,ve=ct.width,ee=ct.height,ue=ct.channels;a(ve>0&&ve<=Ct.maxTextureSize&&ee>0&&ee<=Ct.maxTextureSize,"invalid texture shape"),(K.wrapS!==q||K.wrapT!==q)&&a(rr(ve)&&rr(ee),"incompatible wrap mode for texture, both width and height must be power of 2"),ct.mipmask===1?ve!==1&&ee!==1&&a(K.minFilter!==Z&&K.minFilter!==lt&&K.minFilter!==tt&&K.minFilter!==J,"min filter requires mipmap"):(a(rr(ve)&&rr(ee),"texture must be a square power of 2 to support mipmapping"),a(ct.mipmask===(ve<<1)-1,"missing or incomplete mipmap data")),ct.type===Ot&&(Ct.extensions.indexOf("oes_texture_float_linear")<0&&a(K.minFilter===j&&K.magFilter===j,"filter not supported, must enable oes_texture_float_linear"),a(!K.genMipmaps,"mipmap generation not supported with float textures"));var Te=ct.images;for(ie=0;ie<16;++ie)if(Te[ie]){var be=ve>>ie,Be=ee>>ie;a(ct.mipmask&1<<ie,"missing mipmap data");var ke=Te[ie];if(a(ke.width===be&&ke.height===Be,"invalid shape for mip images"),a(ke.format===ct.format&&ke.internalformat===ct.internalformat&&ke.type===ct.type,"incompatible type for mip image"),!ke.compressed)if(ke.data){var Ue=Math.ceil(ze(ke.type,ue)*be/ke.unpackAlignment)*ke.unpackAlignment;a(ke.data.byteLength===Ue*Be,"invalid data for image, buffer size is inconsistent with image format")}else ke.element||ke.copy}else K.genMipmaps||a((ct.mipmask&1<<ie)==0,"extra mipmap data");ct.compressed&&a(!K.genMipmaps,"mipmap generation for compressed images not supported")}function _r(K,ct,Ct,ie){var ve=K.width,ee=K.height,ue=K.channels;a(ve>0&&ve<=ie.maxTextureSize&&ee>0&&ee<=ie.maxTextureSize,"invalid texture shape"),a(ve===ee,"cube map must be square"),a(ct.wrapS===q&&ct.wrapT===q,"wrap mode not supported by cube map");for(var Te=0;Te<Ct.length;++Te){var be=Ct[Te];a(be.width===ve&&be.height===ee,"inconsistent cube map face shape"),ct.genMipmaps&&(a(!be.compressed,"can not generate mipmap for compressed textures"),a(be.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Be=be.images,ke=0;ke<16;++ke){var Ue=Be[ke];if(Ue){var tr=ve>>ke,Ie=ee>>ke;a(be.mipmask&1<<ke,"missing mipmap data"),a(Ue.width===tr&&Ue.height===Ie,"invalid shape for mip images"),a(Ue.format===K.format&&Ue.internalformat===K.internalformat&&Ue.type===K.type,"incompatible type for mip image"),Ue.compressed||(Ue.data?a(Ue.data.byteLength===tr*Ie*Math.max(ze(Ue.type,ue),Ue.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Ue.element||Ue.copy)}}}}var it=e(a,{optional:B,raise:n,commandRaise:P,command:N,parameter:s,commandParameter:R,constructor:v,type:f,commandType:z,isTypedArray:l,nni:c,oneOf:h,shaderError:I,linkError:k,callSite:b,saveCommandRef:E,saveDrawInfo:O,framebufferFormat:Y,guessCommand:x,texture2D:ur,textureCube:_r}),kt=0,Gt=0,te=5,we=6;function Ht(K,ct){this.id=kt++,this.type=K,this.data=ct}function ce(K){return K.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Oe(K){if(K.length===0)return[];var ct=K.charAt(0),Ct=K.charAt(K.length-1);if(K.length>1&&ct===Ct&&(ct==='"'||ct==="'"))return['"'+ce(K.substr(1,K.length-2))+'"'];var ie=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(K);if(ie)return Oe(K.substr(0,ie.index)).concat(Oe(ie[1])).concat(Oe(K.substr(ie.index+ie[0].length)));var ve=K.split(".");if(ve.length===1)return['"'+ce(K)+'"'];for(var ee=[],ue=0;ue<ve.length;++ue)ee=ee.concat(Oe(ve[ue]));return ee}function je(K){return"["+Oe(K).join("][")+"]"}function Ae(K,ct){return new Ht(K,je(ct+""))}function Qe(K){return typeof K=="function"&&!K._reglType||K instanceof Ht}function sr(K,ct){if(typeof K=="function")return new Ht(Gt,K);if(typeof K=="number"||typeof K=="boolean")return new Ht(te,K);if(Array.isArray(K))return new Ht(we,K.map((Ct,ie)=>sr(Ct,ct+"["+ie+"]")));if(K instanceof Ht)return K;it(!1,"invalid option type in uniform "+ct)}var Xr={DynamicVariable:Ht,define:Ae,isDynamic:Qe,unbox:sr,accessor:je},Fr={next:typeof requestAnimationFrame=="function"?function(K){return requestAnimationFrame(K)}:function(K){return setTimeout(K,16)},cancel:typeof cancelAnimationFrame=="function"?function(K){return cancelAnimationFrame(K)}:clearTimeout},Gn=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function Ta(){var K={"":0},ct=[""];return{id:function(Ct){var ie=K[Ct];return ie||(ie=K[Ct]=ct.length,ct.push(Ct),ie)},str:function(Ct){return ct[Ct]}}}function Wi(K,ct,Ct){var ie=document.createElement("canvas");e(ie.style,{border:0,margin:0,padding:0,top:0,left:0}),K.appendChild(ie),K===document.body&&(ie.style.position="absolute",e(K.style,{margin:0,padding:0}));function ve(){var Te=window.innerWidth,be=window.innerHeight;if(K!==document.body){var Be=K.getBoundingClientRect();Te=Be.right-Be.left,be=Be.bottom-Be.top}ie.width=Ct*Te,ie.height=Ct*be,e(ie.style,{width:Te+"px",height:be+"px"})}var ee;K!==document.body&&typeof ResizeObserver=="function"?(ee=new ResizeObserver(function(){setTimeout(ve)}),ee.observe(K)):window.addEventListener("resize",ve,!1);function ue(){ee?ee.disconnect():window.removeEventListener("resize",ve),K.removeChild(ie)}return ve(),{canvas:ie,onDestroy:ue}}function mn(K,ct){function Ct(ie){try{return K.getContext(ie,ct)}catch(ve){return null}}return Ct("webgl")||Ct("experimental-webgl")||Ct("webgl-experimental")}function Yn(K){return typeof K.nodeName=="string"&&typeof K.appendChild=="function"&&typeof K.getBoundingClientRect=="function"}function to(K){return typeof K.drawArrays=="function"||typeof K.drawElements=="function"}function ji(K){return typeof K=="string"?K.split():(it(Array.isArray(K),"invalid extension array"),K)}function Sn(K){return typeof K=="string"?(it(typeof document!="undefined","not supported outside of DOM"),document.querySelector(K)):K}function ya(K){var ct=K||{},Ct,ie,ve,ee,ue={},Te=[],be=[],Be=typeof window=="undefined"?1:window.devicePixelRatio,ke=!1,Ue=function(Xe){Xe&&it.raise(Xe)},tr=function(){};if(typeof ct=="string"?(it(typeof document!="undefined","selector queries only supported in DOM enviroments"),Ct=document.querySelector(ct),it(Ct,"invalid query string for element")):typeof ct=="object"?Yn(ct)?Ct=ct:to(ct)?(ee=ct,ve=ee.canvas):(it.constructor(ct),"gl"in ct?ee=ct.gl:"canvas"in ct?ve=Sn(ct.canvas):"container"in ct&&(ie=Sn(ct.container)),"attributes"in ct&&(ue=ct.attributes,it.type(ue,"object","invalid context attributes")),"extensions"in ct&&(Te=ji(ct.extensions)),"optionalExtensions"in ct&&(be=ji(ct.optionalExtensions)),"onDone"in ct&&(it.type(ct.onDone,"function","invalid or missing onDone callback"),Ue=ct.onDone),"profile"in ct&&(ke=!!ct.profile),"pixelRatio"in ct&&(Be=+ct.pixelRatio,it(Be>0,"invalid pixel ratio"))):it.raise("invalid arguments to regl"),Ct&&(Ct.nodeName.toLowerCase()==="canvas"?ve=Ct:ie=Ct),!ee){if(!ve){it(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Ie=Wi(ie||document.body,Ue,Be);if(!Ie)return null;ve=Ie.canvas,tr=Ie.onDestroy}ue.premultipliedAlpha===void 0&&(ue.premultipliedAlpha=!0),ee=mn(ve,ue)}return ee?{gl:ee,canvas:ve,container:ie,extensions:Te,optionalExtensions:be,pixelRatio:Be,profile:ke,onDone:Ue,onDestroy:tr}:(tr(),Ue("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Ql(K,ct){var Ct={};function ie(ue){it.type(ue,"string","extension name must be string");var Te=ue.toLowerCase(),be;try{be=Ct[Te]=K.getExtension(Te)}catch(Be){}return!!be}for(var ve=0;ve<ct.extensions.length;++ve){var ee=ct.extensions[ve];if(!ie(ee))return ct.onDestroy(),ct.onDone('"'+ee+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ct.optionalExtensions.forEach(ie),{extensions:Ct,restore:function(){Object.keys(Ct).forEach(function(ue){if(Ct[ue]&&!ie(ue))throw new Error("(regl): error restoring extension "+ue)})}}}function xa(K,ct){for(var Ct=Array(K),ie=0;ie<K;++ie)Ct[ie]=ct(ie);return Ct}var Mh=5120,ku=5121,zs=5122,Pu=5123,wo=5124,$l=5125,Ah=5126;function Cn(K){for(var ct=16;ct<=1<<28;ct*=16)if(K<=ct)return ct;return 0}function Xi(K){var ct,Ct;return ct=(K>65535)<<4,K>>>=ct,Ct=(K>255)<<3,K>>>=Ct,ct|=Ct,Ct=(K>15)<<2,K>>>=Ct,ct|=Ct,Ct=(K>3)<<1,K>>>=Ct,ct|=Ct,ct|K>>1}function ba(){var K=xa(8,function(){return[]});function ct(ee){var ue=Cn(ee),Te=K[Xi(ue)>>2];return Te.length>0?Te.pop():new ArrayBuffer(ue)}function Ct(ee){K[Xi(ee.byteLength)>>2].push(ee)}function ie(ee,ue){var Te=null;switch(ee){case Mh:Te=new Int8Array(ct(ue),0,ue);break;case ku:Te=new Uint8Array(ct(ue),0,ue);break;case zs:Te=new Int16Array(ct(2*ue),0,ue);break;case Pu:Te=new Uint16Array(ct(2*ue),0,ue);break;case wo:Te=new Int32Array(ct(4*ue),0,ue);break;case $l:Te=new Uint32Array(ct(4*ue),0,ue);break;case Ah:Te=new Float32Array(ct(4*ue),0,ue);break;default:return null}return Te.length!==ue?Te.subarray(0,ue):Te}function ve(ee){Ct(ee.buffer)}return{alloc:ct,free:Ct,allocType:ie,freeType:ve}}var qe=ba();qe.zero=ba();var ln=3408,ui=3410,Zn=3411,Wn=3412,Jl=3413,rn=3414,el=3415,wl=33901,tu=33902,Eh=3379,Th=3386,PL=34921,Wm=36347,DL=36348,Dx=35661,NM=35660,BM=34930,RM=36349,Fx=34076,Sc=34024,Ih=7936,FL=7937,NL=7938,GM=35724,zM=34047,Lh=36063,w_=34852,Vm=3553,Nx=34067,qm=34069,__=33984,Hm=6408,Um=5126,Xm=5121,Zm=36160,S_=36053,Km=36064,Bx=16384,C_=function(K,ct){var Ct=1;ct.ext_texture_filter_anisotropic&&(Ct=K.getParameter(zM));var ie=1,ve=1;ct.webgl_draw_buffers&&(ie=K.getParameter(w_),ve=K.getParameter(Lh));var ee=!!ct.oes_texture_float;if(ee){var ue=K.createTexture();K.bindTexture(Vm,ue),K.texImage2D(Vm,0,Hm,1,1,0,Hm,Um,null);var Te=K.createFramebuffer();if(K.bindFramebuffer(Zm,Te),K.framebufferTexture2D(Zm,Km,Vm,ue,0),K.bindTexture(Vm,null),K.checkFramebufferStatus(Zm)!==S_)ee=!1;else{K.viewport(0,0,1,1),K.clearColor(1,0,0,1),K.clear(Bx);var be=qe.allocType(Um,4);K.readPixels(0,0,1,1,Hm,Um,be),K.getError()?ee=!1:(K.deleteFramebuffer(Te),K.deleteTexture(ue),ee=be[0]===1),qe.freeType(be)}}var Be=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),ke=!0;if(!Be){var Ue=K.createTexture(),tr=qe.allocType(Xm,36);K.activeTexture(__),K.bindTexture(Nx,Ue),K.texImage2D(qm,0,Hm,3,3,0,Hm,Xm,tr),qe.freeType(tr),K.bindTexture(Nx,null),K.deleteTexture(Ue),ke=!K.getError()}return{colorBits:[K.getParameter(ui),K.getParameter(Zn),K.getParameter(Wn),K.getParameter(Jl)],depthBits:K.getParameter(rn),stencilBits:K.getParameter(el),subpixelBits:K.getParameter(ln),extensions:Object.keys(ct).filter(function(Ie){return!!ct[Ie]}),maxAnisotropic:Ct,maxDrawbuffers:ie,maxColorAttachments:ve,pointSizeDims:K.getParameter(wl),lineWidthDims:K.getParameter(tu),maxViewportDims:K.getParameter(Th),maxCombinedTextureUnits:K.getParameter(Dx),maxCubeMapSize:K.getParameter(Fx),maxRenderbufferSize:K.getParameter(Sc),maxTextureUnits:K.getParameter(BM),maxTextureSize:K.getParameter(Eh),maxAttributes:K.getParameter(PL),maxVertexUniforms:K.getParameter(Wm),maxVertexTextureUnits:K.getParameter(NM),maxVaryingVectors:K.getParameter(DL),maxFragmentUniforms:K.getParameter(RM),glsl:K.getParameter(GM),renderer:K.getParameter(FL),vendor:K.getParameter(Ih),version:K.getParameter(NL),readFloat:ee,npotTextureCube:ke}};function ds(K){return!!K&&typeof K=="object"&&Array.isArray(K.shape)&&Array.isArray(K.stride)&&typeof K.offset=="number"&&K.shape.length===K.stride.length&&(Array.isArray(K.data)||r(K.data))}var Cs=function(K){return Object.keys(K).map(function(ct){return K[ct]})},Qm={shape:jM,flatten:A_};function M_(K,ct,Ct){for(var ie=0;ie<ct;++ie)Ct[ie]=K[ie]}function Rx(K,ct,Ct,ie){for(var ve=0,ee=0;ee<ct;++ee)for(var ue=K[ee],Te=0;Te<Ct;++Te)ie[ve++]=ue[Te]}function Oh(K,ct,Ct,ie,ve,ee){for(var ue=ee,Te=0;Te<ct;++Te)for(var be=K[Te],Be=0;Be<Ct;++Be)for(var ke=be[Be],Ue=0;Ue<ie;++Ue)ve[ue++]=ke[Ue]}function $m(K,ct,Ct,ie,ve){for(var ee=1,ue=Ct+1;ue<ct.length;++ue)ee*=ct[ue];var Te=ct[Ct];if(ct.length-Ct==4){var be=ct[Ct+1],Be=ct[Ct+2],ke=ct[Ct+3];for(ue=0;ue<Te;++ue)Oh(K[ue],be,Be,ke,ie,ve),ve+=ee}else for(ue=0;ue<Te;++ue)$m(K[ue],ct,Ct+1,ie,ve),ve+=ee}function A_(K,ct,Ct,ie){var ve=1;if(ct.length)for(var ee=0;ee<ct.length;++ee)ve*=ct[ee];else ve=0;var ue=ie||qe.allocType(Ct,ve);switch(ct.length){case 0:break;case 1:M_(K,ct[0],ue);break;case 2:Rx(K,ct[0],ct[1],ue);break;case 3:Oh(K,ct[0],ct[1],ct[2],ue,0);break;default:$m(K,ct,0,ue,0)}return ue}function jM(K){for(var ct=[],Ct=K;Ct.length;Ct=Ct[0])ct.push(Ct.length);return ct}var Gx={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},YM=5120,E_=5122,BL=5124,RL=5121,GL=5123,zL=5125,T_=5126,Zd=5126,_l={int8:YM,int16:E_,int32:BL,uint8:RL,uint16:GL,uint32:zL,float:T_,float32:Zd},jL=35048,YL=35040,Kd={dynamic:jL,stream:YL,static:35044},Kn=Qm.flatten,fa=Qm.shape,WM=35044,WL=35040,zx=5121,jx=5126,kh=[];kh[5120]=1,kh[5122]=2,kh[5124]=4,kh[5121]=1,kh[5123]=2,kh[5125]=4,kh[5126]=4;function Jm(K){return Gx[Object.prototype.toString.call(K)]|0}function I_(K,ct){for(var Ct=0;Ct<ct.length;++Ct)K[Ct]=ct[Ct]}function L_(K,ct,Ct,ie,ve,ee,ue){for(var Te=0,be=0;be<Ct;++be)for(var Be=0;Be<ie;++Be)K[Te++]=ct[ve*be+ee*Be+ue]}function Ro(K,ct,Ct,ie){var ve=0,ee={};function ue(Ut){this.id=ve++,this.buffer=K.createBuffer(),this.type=Ut,this.usage=WM,this.byteLength=0,this.dimension=1,this.dtype=zx,this.persistentData=null,Ct.profile&&(this.stats={size:0})}ue.prototype.bind=function(){K.bindBuffer(this.type,this.buffer)},ue.prototype.destroy=function(){tr(this)};var Te=[];function be(Ut,fe){var Ee=Te.pop();return Ee||(Ee=new ue(Ut)),Ee.bind(),Ue(Ee,fe,WL,0,1,!1),Ee}function Be(Ut){Te.push(Ut)}function ke(Ut,fe,Ee){Ut.byteLength=fe.byteLength,K.bufferData(Ut.type,fe,Ee)}function Ue(Ut,fe,Ee,He,xe,hr){var Ce;if(Ut.usage=Ee,Array.isArray(fe)){if(Ut.dtype=He||jx,fe.length>0){var C;if(Array.isArray(fe[0])){Ce=fa(fe);for(var L=1,D=1;D<Ce.length;++D)L*=Ce[D];Ut.dimension=L,C=Kn(fe,Ce,Ut.dtype),ke(Ut,C,Ee),hr?Ut.persistentData=C:qe.freeType(C)}else if(typeof fe[0]=="number"){Ut.dimension=xe;var W=qe.allocType(Ut.dtype,fe.length);I_(W,fe),ke(Ut,W,Ee),hr?Ut.persistentData=W:qe.freeType(W)}else r(fe[0])?(Ut.dimension=fe[0].length,Ut.dtype=He||Jm(fe[0])||jx,C=Kn(fe,[fe.length,fe[0].length],Ut.dtype),ke(Ut,C,Ee),hr?Ut.persistentData=C:qe.freeType(C)):it.raise("invalid buffer data")}}else if(r(fe))Ut.dtype=He||Jm(fe),Ut.dimension=xe,ke(Ut,fe,Ee),hr&&(Ut.persistentData=new Uint8Array(new Uint8Array(fe.buffer)));else if(ds(fe)){Ce=fe.shape;var H=fe.stride,V=fe.offset,X=0,Q=0,rt=0,vt=0;Ce.length===1?(X=Ce[0],Q=1,rt=H[0],vt=0):Ce.length===2?(X=Ce[0],Q=Ce[1],rt=H[0],vt=H[1]):it.raise("invalid shape"),Ut.dtype=He||Jm(fe.data)||jx,Ut.dimension=Q;var gt=qe.allocType(Ut.dtype,X*Q);L_(gt,fe.data,X,Q,rt,vt,V),ke(Ut,gt,Ee),hr?Ut.persistentData=gt:qe.freeType(gt)}else fe instanceof ArrayBuffer?(Ut.dtype=zx,Ut.dimension=xe,ke(Ut,fe,Ee),hr&&(Ut.persistentData=new Uint8Array(new Uint8Array(fe)))):it.raise("invalid buffer data")}function tr(Ut){ct.bufferCount--,ie(Ut);var fe=Ut.buffer;it(fe,"buffer must not be deleted already"),K.deleteBuffer(fe),Ut.buffer=null,delete ee[Ut.id]}function Ie(Ut,fe,Ee,He){ct.bufferCount++;var xe=new ue(fe);ee[xe.id]=xe;function hr(L){var D=WM,W=null,H=0,V=0,X=1;return Array.isArray(L)||r(L)||ds(L)||L instanceof ArrayBuffer?W=L:typeof L=="number"?H=L|0:L&&(it.type(L,"object","buffer arguments must be an object, a number or an array"),"data"in L&&(it(W===null||Array.isArray(W)||r(W)||ds(W),"invalid data for buffer"),W=L.data),"usage"in L&&(it.parameter(L.usage,Kd,"invalid buffer usage"),D=Kd[L.usage]),"type"in L&&(it.parameter(L.type,_l,"invalid buffer type"),V=_l[L.type]),"dimension"in L&&(it.type(L.dimension,"number","invalid dimension"),X=L.dimension|0),"length"in L&&(it.nni(H,"buffer length must be a nonnegative integer"),H=L.length|0)),xe.bind(),W?Ue(xe,W,D,V,X,He):(H&&K.bufferData(xe.type,H,D),xe.dtype=V||zx,xe.usage=D,xe.dimension=X,xe.byteLength=H),Ct.profile&&(xe.stats.size=xe.byteLength*kh[xe.dtype]),hr}function Ce(L,D){it(D+L.byteLength<=xe.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+L.byteLength+" starting from offset "+D+" to a buffer of size "+xe.byteLength),K.bufferSubData(xe.type,D,L)}function C(L,D){var W=(D||0)|0,H;if(xe.bind(),r(L)||L instanceof ArrayBuffer)Ce(L,W);else if(Array.isArray(L)){if(L.length>0)if(typeof L[0]=="number"){var V=qe.allocType(xe.dtype,L.length);I_(V,L),Ce(V,W),qe.freeType(V)}else if(Array.isArray(L[0])||r(L[0])){H=fa(L);var X=Kn(L,H,xe.dtype);Ce(X,W),qe.freeType(X)}else it.raise("invalid buffer data")}else if(ds(L)){H=L.shape;var Q=L.stride,rt=0,vt=0,gt=0,St=0;H.length===1?(rt=H[0],vt=1,gt=Q[0],St=0):H.length===2?(rt=H[0],vt=H[1],gt=Q[0],St=Q[1]):it.raise("invalid shape");var Nt=Array.isArray(L.data)?xe.dtype:Jm(L.data),Vt=qe.allocType(Nt,rt*vt);L_(Vt,L.data,rt,vt,gt,St,L.offset),Ce(Vt,W),qe.freeType(Vt)}else it.raise("invalid data for buffer subdata");return hr}return Ee||hr(Ut),hr._reglType="buffer",hr._buffer=xe,hr.subdata=C,Ct.profile&&(hr.stats=xe.stats),hr.destroy=function(){tr(xe)},hr}function Xe(){Cs(ee).forEach(function(Ut){Ut.buffer=K.createBuffer(),K.bindBuffer(Ut.type,Ut.buffer),K.bufferData(Ut.type,Ut.persistentData||Ut.byteLength,Ut.usage)})}return Ct.profile&&(ct.getTotalBufferSize=function(){var Ut=0;return Object.keys(ee).forEach(function(fe){Ut+=ee[fe].stats.size}),Ut}),{create:Ie,createStream:be,destroyStream:Be,clear:function(){Cs(ee).forEach(tr),Te.forEach(tr)},getBuffer:function(Ut){return Ut&&Ut._buffer instanceof ue?Ut._buffer:null},restore:Xe,_initBuffer:Ue}}var Yx=0,Qd=0,O_=1,k_=1,eu=4,P_=4,$d={points:Yx,point:Qd,lines:O_,line:k_,triangles:eu,triangle:P_,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},D_=0,F_=1,Jd=4,ca=5120,Go=5121,VM=5122,zo=5123,Wx=5124,bf=5125,Sl=34963,wf=35040,Vx=35044;function Ia(K,ct,Ct,ie){var ve={},ee=0,ue={uint8:Go,uint16:zo};ct.oes_element_index_uint&&(ue.uint32=bf);function Te(Xe){this.id=ee++,ve[this.id]=this,this.buffer=Xe,this.primType=Jd,this.vertCount=0,this.type=0}Te.prototype.bind=function(){this.buffer.bind()};var be=[];function Be(Xe){var Ut=be.pop();return Ut||(Ut=new Te(Ct.create(null,Sl,!0,!1)._buffer)),Ue(Ut,Xe,wf,-1,-1,0,0),Ut}function ke(Xe){be.push(Xe)}function Ue(Xe,Ut,fe,Ee,He,xe,hr){Xe.buffer.bind();var Ce;if(Ut){var C=hr;!hr&&(!r(Ut)||ds(Ut)&&!r(Ut.data))&&(C=ct.oes_element_index_uint?bf:zo),Ct._initBuffer(Xe.buffer,Ut,fe,C,3)}else K.bufferData(Sl,xe,fe),Xe.buffer.dtype=Ce||Go,Xe.buffer.usage=fe,Xe.buffer.dimension=3,Xe.buffer.byteLength=xe;if(Ce=hr,!hr){switch(Xe.buffer.dtype){case Go:case ca:Ce=Go;break;case zo:case VM:Ce=zo;break;case bf:case Wx:Ce=bf;break;default:it.raise("unsupported type for element array")}Xe.buffer.dtype=Ce}Xe.type=Ce,it(Ce!==bf||!!ct.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var L=He;L<0&&(L=Xe.buffer.byteLength,Ce===zo?L>>=1:Ce===bf&&(L>>=2)),Xe.vertCount=L;var D=Ee;if(Ee<0){D=Jd;var W=Xe.buffer.dimension;W===1&&(D=D_),W===2&&(D=F_),W===3&&(D=Jd)}Xe.primType=D}function tr(Xe){ie.elementsCount--,it(Xe.buffer!==null,"must not double destroy elements"),delete ve[Xe.id],Xe.buffer.destroy(),Xe.buffer=null}function Ie(Xe,Ut){var fe=Ct.create(null,Sl,!0),Ee=new Te(fe._buffer);ie.elementsCount++;function He(xe){if(!xe)fe(),Ee.primType=Jd,Ee.vertCount=0,Ee.type=Go;else if(typeof xe=="number")fe(xe),Ee.primType=Jd,Ee.vertCount=xe|0,Ee.type=Go;else{var hr=null,Ce=Vx,C=-1,L=-1,D=0,W=0;Array.isArray(xe)||r(xe)||ds(xe)?hr=xe:(it.type(xe,"object","invalid arguments for elements"),"data"in xe&&(hr=xe.data,it(Array.isArray(hr)||r(hr)||ds(hr),"invalid data for element buffer")),"usage"in xe&&(it.parameter(xe.usage,Kd,"invalid element buffer usage"),Ce=Kd[xe.usage]),"primitive"in xe&&(it.parameter(xe.primitive,$d,"invalid element buffer primitive"),C=$d[xe.primitive]),"count"in xe&&(it(typeof xe.count=="number"&&xe.count>=0,"invalid vertex count for elements"),L=xe.count|0),"type"in xe&&(it.parameter(xe.type,ue,"invalid buffer type"),W=ue[xe.type]),"length"in xe?D=xe.length|0:(D=L,W===zo||W===VM?D*=2:(W===bf||W===Wx)&&(D*=4))),Ue(Ee,hr,Ce,C,L,D,W)}return He}return He(Xe),He._reglType="elements",He._elements=Ee,He.subdata=function(xe,hr){return fe.subdata(xe,hr),He},He.destroy=function(){tr(Ee)},He}return{create:Ie,createStream:Be,destroyStream:ke,getElements:function(Xe){return typeof Xe=="function"&&Xe._elements instanceof Te?Xe._elements:null},clear:function(){Cs(ve).forEach(tr)}}}var _f=new Float32Array(1),N_=new Uint32Array(_f.buffer),VL=5123;function qx(K){for(var ct=qe.allocType(VL,K.length),Ct=0;Ct<K.length;++Ct)if(isNaN(K[Ct]))ct[Ct]=65535;else if(K[Ct]===1/0)ct[Ct]=31744;else if(K[Ct]===-1/0)ct[Ct]=64512;else{_f[0]=K[Ct];var ie=N_[0],ve=ie>>>31<<15,ee=(ie<<1>>>24)-127,ue=ie>>13&(1<<10)-1;if(ee<-24)ct[Ct]=ve;else if(ee<-14){var Te=-14-ee;ct[Ct]=ve+(ue+(1<<10)>>Te)}else ee>15?ct[Ct]=ve+31744:ct[Ct]=ve+(ee+15<<10)+ue}return ct}function wa(K){return Array.isArray(K)||r(K)}var B_=function(K){return!(K&K-1)&&!!K},qL=34467,ru=3553,tv=34067,Cc=34069,Mc=6408,ty=6406,ev=6407,rv=6409,xp=6410,R_=32854,Hx=32855,ey=36194,bp=32819,qM=32820,HM=33635,rl=34042,ry=6402,Ac=34041,Ux=35904,iy=35906,wp=36193,Ec=33776,G_=33777,z_=33778,ny=33779,Tc=35986,UM=35987,XM=34798,Xx=35840,j_=35841,il=35842,_p=35843,Y_=36196,Sp=5121,Zx=5123,Du=5125,jo=5126,ay=10242,HL=10243,UL=10497,Kx=33071,ZM=33648,XL=10240,Ic=10241,Zt=9728,Me=9729,he=9984,Or=9985,Ti=9986,Mn=9987,_o=33170,Vn=4352,W_=4353,KM=4354,Cl=34046,oy=3317,ZL=37440,Cp=37441,sy=37443,ly=37444,An=33984,KL=[he,Ti,Or,Mn],uy=[0,rv,xp,ev,Mc],js={};js[rv]=js[ty]=js[ry]=1,js[Ac]=js[xp]=2,js[ev]=js[Ux]=3,js[Mc]=js[iy]=4;function Ph(K){return"[object "+K+"]"}var Qx=Ph("HTMLCanvasElement"),V_=Ph("OffscreenCanvas"),Mp=Ph("CanvasRenderingContext2D"),Sf=Ph("ImageBitmap"),Ap=Ph("HTMLImageElement"),$x=Ph("HTMLVideoElement"),Jx=Object.keys(Gx).concat([Qx,V_,Mp,Sf,Ap,$x]),iv=[];iv[Sp]=1,iv[jo]=4,iv[wp]=2,iv[Zx]=2,iv[Du]=4;var So=[];So[R_]=2,So[Hx]=2,So[ey]=2,So[Ac]=4,So[Ec]=.5,So[G_]=.5,So[z_]=1,So[ny]=1,So[Tc]=.5,So[UM]=1,So[XM]=1,So[Xx]=.5,So[j_]=.25,So[il]=.5,So[_p]=.25,So[Y_]=.5;function fy(K){return Array.isArray(K)&&(K.length===0||typeof K[0]=="number")}function q_(K){if(!Array.isArray(K))return!1;var ct=K.length;return!(ct===0||!wa(K[0]))}function Fu(K){return Object.prototype.toString.call(K)}function Dh(K){return Fu(K)===Qx}function Ep(K){return Fu(K)===V_}function QL(K){return Fu(K)===Mp}function H_(K){return Fu(K)===Sf}function $L(K){return Fu(K)===Ap}function cy(K){return Fu(K)===$x}function nv(K){if(!K)return!1;var ct=Fu(K);return Jx.indexOf(ct)>=0?!0:fy(K)||q_(K)||ds(K)}function t1(K){return Gx[Object.prototype.toString.call(K)]|0}function JL(K,ct){var Ct=ct.length;switch(K.type){case Sp:case Zx:case Du:case jo:var ie=qe.allocType(K.type,Ct);ie.set(ct),K.data=ie;break;case wp:K.data=qx(ct);break;default:it.raise("unsupported texture type, must specify a typed array")}}function e1(K,ct){return qe.allocType(K.type===wp?jo:K.type,ct)}function hy(K,ct){K.type===wp?(K.data=qx(ct),qe.freeType(ct)):K.data=ct}function QM(K,ct,Ct,ie,ve,ee){for(var ue=K.width,Te=K.height,be=K.channels,Be=ue*Te*be,ke=e1(K,Be),Ue=0,tr=0;tr<Te;++tr)for(var Ie=0;Ie<ue;++Ie)for(var Xe=0;Xe<be;++Xe)ke[Ue++]=ct[Ct*Ie+ie*tr+ve*Xe+ee];hy(K,ke)}function eo(K,ct,Ct,ie,ve,ee){var ue;if(typeof So[K]!="undefined"?ue=So[K]:ue=js[K]*iv[ct],ee&&(ue*=6),ve){for(var Te=0,be=Ct;be>=1;)Te+=ue*be*be,be/=2;return Te}else return ue*Ct*ie}function Ms(K,ct,Ct,ie,ve,ee,ue){var Te={"don't care":Vn,"dont care":Vn,nice:KM,fast:W_},be={repeat:UL,clamp:Kx,mirror:ZM},Be={nearest:Zt,linear:Me},ke=e({mipmap:Mn,"nearest mipmap nearest":he,"linear mipmap nearest":Or,"nearest mipmap linear":Ti,"linear mipmap linear":Mn},Be),Ue={none:0,browser:ly},tr={uint8:Sp,rgba4:bp,rgb565:HM,"rgb5 a1":qM},Ie={alpha:ty,luminance:rv,"luminance alpha":xp,rgb:ev,rgba:Mc,rgba4:R_,"rgb5 a1":Hx,rgb565:ey},Xe={};ct.ext_srgb&&(Ie.srgb=Ux,Ie.srgba=iy),ct.oes_texture_float&&(tr.float32=tr.float=jo),ct.oes_texture_half_float&&(tr.float16=tr["half float"]=wp),ct.webgl_depth_texture&&(e(Ie,{depth:ry,"depth stencil":Ac}),e(tr,{uint16:Zx,uint32:Du,"depth stencil":rl})),ct.webgl_compressed_texture_s3tc&&e(Xe,{"rgb s3tc dxt1":Ec,"rgba s3tc dxt1":G_,"rgba s3tc dxt3":z_,"rgba s3tc dxt5":ny}),ct.webgl_compressed_texture_atc&&e(Xe,{"rgb atc":Tc,"rgba atc explicit alpha":UM,"rgba atc interpolated alpha":XM}),ct.webgl_compressed_texture_pvrtc&&e(Xe,{"rgb pvrtc 4bppv1":Xx,"rgb pvrtc 2bppv1":j_,"rgba pvrtc 4bppv1":il,"rgba pvrtc 2bppv1":_p}),ct.webgl_compressed_texture_etc1&&(Xe["rgb etc1"]=Y_);var Ut=Array.prototype.slice.call(K.getParameter(qL));Object.keys(Xe).forEach(function(wt){var ae=Xe[wt];Ut.indexOf(ae)>=0&&(Ie[wt]=ae)});var fe=Object.keys(Ie);Ct.textureFormats=fe;var Ee=[];Object.keys(Ie).forEach(function(wt){var ae=Ie[wt];Ee[ae]=wt});var He=[];Object.keys(tr).forEach(function(wt){var ae=tr[wt];He[ae]=wt});var xe=[];Object.keys(Be).forEach(function(wt){var ae=Be[wt];xe[ae]=wt});var hr=[];Object.keys(ke).forEach(function(wt){var ae=ke[wt];hr[ae]=wt});var Ce=[];Object.keys(be).forEach(function(wt){var ae=be[wt];Ce[ae]=wt});var C=fe.reduce(function(wt,ae){var Jt=Ie[ae];return Jt===rv||Jt===ty||Jt===rv||Jt===xp||Jt===ry||Jt===Ac||ct.ext_srgb&&(Jt===Ux||Jt===iy)?wt[Jt]=Jt:Jt===Hx||ae.indexOf("rgba")>=0?wt[Jt]=Mc:wt[Jt]=ev,wt},{});function L(){this.internalformat=Mc,this.format=Mc,this.type=Sp,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=ly,this.width=0,this.height=0,this.channels=0}function D(wt,ae){wt.internalformat=ae.internalformat,wt.format=ae.format,wt.type=ae.type,wt.compressed=ae.compressed,wt.premultiplyAlpha=ae.premultiplyAlpha,wt.flipY=ae.flipY,wt.unpackAlignment=ae.unpackAlignment,wt.colorSpace=ae.colorSpace,wt.width=ae.width,wt.height=ae.height,wt.channels=ae.channels}function W(wt,ae){if(!(typeof ae!="object"||!ae)){if("premultiplyAlpha"in ae&&(it.type(ae.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),wt.premultiplyAlpha=ae.premultiplyAlpha),"flipY"in ae&&(it.type(ae.flipY,"boolean","invalid texture flip"),wt.flipY=ae.flipY),"alignment"in ae&&(it.oneOf(ae.alignment,[1,2,4,8],"invalid texture unpack alignment"),wt.unpackAlignment=ae.alignment),"colorSpace"in ae&&(it.parameter(ae.colorSpace,Ue,"invalid colorSpace"),wt.colorSpace=Ue[ae.colorSpace]),"type"in ae){var Jt=ae.type;it(ct.oes_texture_float||!(Jt==="float"||Jt==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),it(ct.oes_texture_half_float||!(Jt==="half float"||Jt==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),it(ct.webgl_depth_texture||!(Jt==="uint16"||Jt==="uint32"||Jt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),it.parameter(Jt,tr,"invalid texture type"),wt.type=tr[Jt]}var gr=wt.width,Fi=wt.height,bt=wt.channels,ht=!1;"shape"in ae?(it(Array.isArray(ae.shape)&&ae.shape.length>=2,"shape must be an array"),gr=ae.shape[0],Fi=ae.shape[1],ae.shape.length===3&&(bt=ae.shape[2],it(bt>0&&bt<=4,"invalid number of channels"),ht=!0),it(gr>=0&&gr<=Ct.maxTextureSize,"invalid width"),it(Fi>=0&&Fi<=Ct.maxTextureSize,"invalid height")):("radius"in ae&&(gr=Fi=ae.radius,it(gr>=0&&gr<=Ct.maxTextureSize,"invalid radius")),"width"in ae&&(gr=ae.width,it(gr>=0&&gr<=Ct.maxTextureSize,"invalid width")),"height"in ae&&(Fi=ae.height,it(Fi>=0&&Fi<=Ct.maxTextureSize,"invalid height")),"channels"in ae&&(bt=ae.channels,it(bt>0&&bt<=4,"invalid number of channels"),ht=!0)),wt.width=gr|0,wt.height=Fi|0,wt.channels=bt|0;var Pt=!1;if("format"in ae){var qt=ae.format;it(ct.webgl_depth_texture||!(qt==="depth"||qt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),it.parameter(qt,Ie,"invalid texture format");var Xt=wt.internalformat=Ie[qt];wt.format=C[Xt],qt in tr&&("type"in ae||(wt.type=tr[qt])),qt in Xe&&(wt.compressed=!0),Pt=!0}!ht&&Pt?wt.channels=js[wt.format]:ht&&!Pt?wt.channels!==uy[wt.format]&&(wt.format=wt.internalformat=uy[wt.channels]):Pt&&ht&&it(wt.channels===js[wt.format],"number of channels inconsistent with specified format")}}function H(wt){K.pixelStorei(ZL,wt.flipY),K.pixelStorei(Cp,wt.premultiplyAlpha),K.pixelStorei(sy,wt.colorSpace),K.pixelStorei(oy,wt.unpackAlignment)}function V(){L.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function X(wt,ae){var Jt=null;if(nv(ae)?Jt=ae:ae&&(it.type(ae,"object","invalid pixel data type"),W(wt,ae),"x"in ae&&(wt.xOffset=ae.x|0),"y"in ae&&(wt.yOffset=ae.y|0),nv(ae.data)&&(Jt=ae.data)),it(!wt.compressed||Jt instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),ae.copy){it(!Jt,"can not specify copy and data field for the same texture");var gr=ve.viewportWidth,Fi=ve.viewportHeight;wt.width=wt.width||gr-wt.xOffset,wt.height=wt.height||Fi-wt.yOffset,wt.needsCopy=!0,it(wt.xOffset>=0&&wt.xOffset<gr&&wt.yOffset>=0&&wt.yOffset<Fi&&wt.width>0&&wt.width<=gr&&wt.height>0&&wt.height<=Fi,"copy texture read out of bounds")}else if(!Jt)wt.width=wt.width||1,wt.height=wt.height||1,wt.channels=wt.channels||4;else if(r(Jt))wt.channels=wt.channels||4,wt.data=Jt,!("type"in ae)&&wt.type===Sp&&(wt.type=t1(Jt));else if(fy(Jt))wt.channels=wt.channels||4,JL(wt,Jt),wt.alignment=1,wt.needsFree=!0;else if(ds(Jt)){var bt=Jt.data;!Array.isArray(bt)&&wt.type===Sp&&(wt.type=t1(bt));var ht=Jt.shape,Pt=Jt.stride,qt,Xt,Bt,Dt,jt,mt;ht.length===3?(Bt=ht[2],mt=Pt[2]):(it(ht.length===2,"invalid ndarray pixel data, must be 2 or 3D"),Bt=1,mt=1),qt=ht[0],Xt=ht[1],Dt=Pt[0],jt=Pt[1],wt.alignment=1,wt.width=qt,wt.height=Xt,wt.channels=Bt,wt.format=wt.internalformat=uy[Bt],wt.needsFree=!0,QM(wt,bt,Dt,jt,mt,Jt.offset)}else if(Dh(Jt)||Ep(Jt)||QL(Jt))Dh(Jt)||Ep(Jt)?wt.element=Jt:wt.element=Jt.canvas,wt.width=wt.element.width,wt.height=wt.element.height,wt.channels=4;else if(H_(Jt))wt.element=Jt,wt.width=Jt.width,wt.height=Jt.height,wt.channels=4;else if($L(Jt))wt.element=Jt,wt.width=Jt.naturalWidth,wt.height=Jt.naturalHeight,wt.channels=4;else if(cy(Jt))wt.element=Jt,wt.width=Jt.videoWidth,wt.height=Jt.videoHeight,wt.channels=4;else if(q_(Jt)){var It=wt.width||Jt[0].length,yt=wt.height||Jt.length,Wt=wt.channels;wa(Jt[0][0])?Wt=Wt||Jt[0][0].length:Wt=Wt||1;for(var Qt=Qm.shape(Jt),ge=1,ye=0;ye<Qt.length;++ye)ge*=Qt[ye];var de=e1(wt,ge);Qm.flatten(Jt,Qt,"",de),hy(wt,de),wt.alignment=1,wt.width=It,wt.height=yt,wt.channels=Wt,wt.format=wt.internalformat=uy[Wt],wt.needsFree=!0}wt.type===jo?it(Ct.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):wt.type===wp&&it(Ct.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Q(wt,ae,Jt){var gr=wt.element,Fi=wt.data,bt=wt.internalformat,ht=wt.format,Pt=wt.type,qt=wt.width,Xt=wt.height;H(wt),gr?K.texImage2D(ae,Jt,ht,ht,Pt,gr):wt.compressed?K.compressedTexImage2D(ae,Jt,bt,qt,Xt,0,Fi):wt.needsCopy?(ie(),K.copyTexImage2D(ae,Jt,ht,wt.xOffset,wt.yOffset,qt,Xt,0)):K.texImage2D(ae,Jt,ht,qt,Xt,0,ht,Pt,Fi||null)}function rt(wt,ae,Jt,gr,Fi){var bt=wt.element,ht=wt.data,Pt=wt.internalformat,qt=wt.format,Xt=wt.type,Bt=wt.width,Dt=wt.height;H(wt),bt?K.texSubImage2D(ae,Fi,Jt,gr,qt,Xt,bt):wt.compressed?K.compressedTexSubImage2D(ae,Fi,Jt,gr,Pt,Bt,Dt,ht):wt.needsCopy?(ie(),K.copyTexSubImage2D(ae,Fi,Jt,gr,wt.xOffset,wt.yOffset,Bt,Dt)):K.texSubImage2D(ae,Fi,Jt,gr,Bt,Dt,qt,Xt,ht)}var vt=[];function gt(){return vt.pop()||new V}function St(wt){wt.needsFree&&qe.freeType(wt.data),V.call(wt),vt.push(wt)}function Nt(){L.call(this),this.genMipmaps=!1,this.mipmapHint=Vn,this.mipmask=0,this.images=Array(16)}function Vt(wt,ae,Jt){var gr=wt.images[0]=gt();wt.mipmask=1,gr.width=wt.width=ae,gr.height=wt.height=Jt,gr.channels=wt.channels=4}function me(wt,ae){var Jt=null;if(nv(ae))Jt=wt.images[0]=gt(),D(Jt,wt),X(Jt,ae),wt.mipmask=1;else if(W(wt,ae),Array.isArray(ae.mipmap))for(var gr=ae.mipmap,Fi=0;Fi<gr.length;++Fi)Jt=wt.images[Fi]=gt(),D(Jt,wt),Jt.width>>=Fi,Jt.height>>=Fi,X(Jt,gr[Fi]),wt.mipmask|=1<<Fi;else Jt=wt.images[0]=gt(),D(Jt,wt),X(Jt,ae),wt.mipmask=1;D(wt,wt.images[0]),wt.compressed&&(wt.internalformat===Ec||wt.internalformat===G_||wt.internalformat===z_||wt.internalformat===ny)&&it(wt.width%4==0&&wt.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Se(wt,ae){for(var Jt=wt.images,gr=0;gr<Jt.length;++gr){if(!Jt[gr])return;Q(Jt[gr],ae,gr)}}var Ve=[];function De(){var wt=Ve.pop()||new Nt;L.call(wt),wt.mipmask=0;for(var ae=0;ae<16;++ae)wt.images[ae]=null;return wt}function pr(wt){for(var ae=wt.images,Jt=0;Jt<ae.length;++Jt)ae[Jt]&&St(ae[Jt]),ae[Jt]=null;Ve.push(wt)}function Cr(){this.minFilter=Zt,this.magFilter=Zt,this.wrapS=Kx,this.wrapT=Kx,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Vn}function Zr(wt,ae){if("min"in ae){var Jt=ae.min;it.parameter(Jt,ke),wt.minFilter=ke[Jt],KL.indexOf(wt.minFilter)>=0&&!("faces"in ae)&&(wt.genMipmaps=!0)}if("mag"in ae){var gr=ae.mag;it.parameter(gr,Be),wt.magFilter=Be[gr]}var Fi=wt.wrapS,bt=wt.wrapT;if("wrap"in ae){var ht=ae.wrap;typeof ht=="string"?(it.parameter(ht,be),Fi=bt=be[ht]):Array.isArray(ht)&&(it.parameter(ht[0],be),it.parameter(ht[1],be),Fi=be[ht[0]],bt=be[ht[1]])}else{if("wrapS"in ae){var Pt=ae.wrapS;it.parameter(Pt,be),Fi=be[Pt]}if("wrapT"in ae){var qt=ae.wrapT;it.parameter(qt,be),bt=be[qt]}}if(wt.wrapS=Fi,wt.wrapT=bt,"anisotropic"in ae){var Xt=ae.anisotropic;it(typeof Xt=="number"&&Xt>=1&&Xt<=Ct.maxAnisotropic,"aniso samples must be between 1 and "),wt.anisotropic=ae.anisotropic}if("mipmap"in ae){var Bt=!1;switch(typeof ae.mipmap){case"string":it.parameter(ae.mipmap,Te,"invalid mipmap hint"),wt.mipmapHint=Te[ae.mipmap],wt.genMipmaps=!0,Bt=!0;break;case"boolean":Bt=wt.genMipmaps=ae.mipmap;break;case"object":it(Array.isArray(ae.mipmap),"invalid mipmap type"),wt.genMipmaps=!1,Bt=!0;break;default:it.raise("invalid mipmap type")}Bt&&!("min"in ae)&&(wt.minFilter=he)}}function fi(wt,ae){K.texParameteri(ae,Ic,wt.minFilter),K.texParameteri(ae,XL,wt.magFilter),K.texParameteri(ae,ay,wt.wrapS),K.texParameteri(ae,HL,wt.wrapT),ct.ext_texture_filter_anisotropic&&K.texParameteri(ae,Cl,wt.anisotropic),wt.genMipmaps&&(K.hint(_o,wt.mipmapHint),K.generateMipmap(ae))}var Pi=0,dn={},yn=Ct.maxTextureUnits,Kr=Array(yn).map(function(){return null});function $r(wt){L.call(this),this.mipmask=0,this.internalformat=Mc,this.id=Pi++,this.refCount=1,this.target=wt,this.texture=K.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Cr,ue.profile&&(this.stats={size:0})}function _a(wt){K.activeTexture(An),K.bindTexture(wt.target,wt.texture)}function Ki(){var wt=Kr[0];wt?K.bindTexture(wt.target,wt.texture):K.bindTexture(ru,null)}function Gr(wt){var ae=wt.texture;it(ae,"must not double destroy texture");var Jt=wt.unit,gr=wt.target;Jt>=0&&(K.activeTexture(An+Jt),K.bindTexture(gr,null),Kr[Jt]=null),K.deleteTexture(ae),wt.texture=null,wt.params=null,wt.pixels=null,wt.refCount=0,delete dn[wt.id],ee.textureCount--}e($r.prototype,{bind:function(){var wt=this;wt.bindCount+=1;var ae=wt.unit;if(ae<0){for(var Jt=0;Jt<yn;++Jt){var gr=Kr[Jt];if(gr){if(gr.bindCount>0)continue;gr.unit=-1}Kr[Jt]=wt,ae=Jt;break}ae>=yn&&it.raise("insufficient number of texture units"),ue.profile&&ee.maxTextureUnits<ae+1&&(ee.maxTextureUnits=ae+1),wt.unit=ae,K.activeTexture(An+ae),K.bindTexture(wt.target,wt.texture)}return ae},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Gr(this)}});function jr(wt,ae){var Jt=new $r(ru);dn[Jt.id]=Jt,ee.textureCount++;function gr(ht,Pt){var qt=Jt.texInfo;Cr.call(qt);var Xt=De();return typeof ht=="number"?typeof Pt=="number"?Vt(Xt,ht|0,Pt|0):Vt(Xt,ht|0,ht|0):ht?(it.type(ht,"object","invalid arguments to regl.texture"),Zr(qt,ht),me(Xt,ht)):Vt(Xt,1,1),qt.genMipmaps&&(Xt.mipmask=(Xt.width<<1)-1),Jt.mipmask=Xt.mipmask,D(Jt,Xt),it.texture2D(qt,Xt,Ct),Jt.internalformat=Xt.internalformat,gr.width=Xt.width,gr.height=Xt.height,_a(Jt),Se(Xt,ru),fi(qt,ru),Ki(),pr(Xt),ue.profile&&(Jt.stats.size=eo(Jt.internalformat,Jt.type,Xt.width,Xt.height,qt.genMipmaps,!1)),gr.format=Ee[Jt.internalformat],gr.type=He[Jt.type],gr.mag=xe[qt.magFilter],gr.min=hr[qt.minFilter],gr.wrapS=Ce[qt.wrapS],gr.wrapT=Ce[qt.wrapT],gr}function Fi(ht,Pt,qt,Xt){it(!!ht,"must specify image data");var Bt=Pt|0,Dt=qt|0,jt=Xt|0,mt=gt();return D(mt,Jt),mt.width=0,mt.height=0,X(mt,ht),mt.width=mt.width||(Jt.width>>jt)-Bt,mt.height=mt.height||(Jt.height>>jt)-Dt,it(Jt.type===mt.type&&Jt.format===mt.format&&Jt.internalformat===mt.internalformat,"incompatible format for texture.subimage"),it(Bt>=0&&Dt>=0&&Bt+mt.width<=Jt.width&&Dt+mt.height<=Jt.height,"texture.subimage write out of bounds"),it(Jt.mipmask&1<<jt,"missing mipmap data"),it(mt.data||mt.element||mt.needsCopy,"missing image data"),_a(Jt),rt(mt,ru,Bt,Dt,jt),Ki(),St(mt),gr}function bt(ht,Pt){var qt=ht|0,Xt=Pt|0||qt;if(qt===Jt.width&&Xt===Jt.height)return gr;gr.width=Jt.width=qt,gr.height=Jt.height=Xt,_a(Jt);for(var Bt=0;Jt.mipmask>>Bt;++Bt){var Dt=qt>>Bt,jt=Xt>>Bt;if(!Dt||!jt)break;K.texImage2D(ru,Bt,Jt.format,Dt,jt,0,Jt.format,Jt.type,null)}return Ki(),ue.profile&&(Jt.stats.size=eo(Jt.internalformat,Jt.type,qt,Xt,!1,!1)),gr}return gr(wt,ae),gr.subimage=Fi,gr.resize=bt,gr._reglType="texture2d",gr._texture=Jt,ue.profile&&(gr.stats=Jt.stats),gr.destroy=function(){Jt.decRef()},gr}function Di(wt,ae,Jt,gr,Fi,bt){var ht=new $r(tv);dn[ht.id]=ht,ee.cubeCount++;var Pt=new Array(6);function qt(Dt,jt,mt,It,yt,Wt){var Qt,ge=ht.texInfo;for(Cr.call(ge),Qt=0;Qt<6;++Qt)Pt[Qt]=De();if(typeof Dt=="number"||!Dt){var ye=Dt|0||1;for(Qt=0;Qt<6;++Qt)Vt(Pt[Qt],ye,ye)}else if(typeof Dt=="object")if(jt)me(Pt[0],Dt),me(Pt[1],jt),me(Pt[2],mt),me(Pt[3],It),me(Pt[4],yt),me(Pt[5],Wt);else if(Zr(ge,Dt),W(ht,Dt),"faces"in Dt){var de=Dt.faces;for(it(Array.isArray(de)&&de.length===6,"cube faces must be a length 6 array"),Qt=0;Qt<6;++Qt)it(typeof de[Qt]=="object"&&!!de[Qt],"invalid input for cube map face"),D(Pt[Qt],ht),me(Pt[Qt],de[Qt])}else for(Qt=0;Qt<6;++Qt)me(Pt[Qt],Dt);else it.raise("invalid arguments to cube map");for(D(ht,Pt[0]),Ct.npotTextureCube||it(B_(ht.width)&&B_(ht.height),"your browser does not support non power or two texture dimensions"),ge.genMipmaps?ht.mipmask=(Pt[0].width<<1)-1:ht.mipmask=Pt[0].mipmask,it.textureCube(ht,ge,Pt,Ct),ht.internalformat=Pt[0].internalformat,qt.width=Pt[0].width,qt.height=Pt[0].height,_a(ht),Qt=0;Qt<6;++Qt)Se(Pt[Qt],Cc+Qt);for(fi(ge,tv),Ki(),ue.profile&&(ht.stats.size=eo(ht.internalformat,ht.type,qt.width,qt.height,ge.genMipmaps,!0)),qt.format=Ee[ht.internalformat],qt.type=He[ht.type],qt.mag=xe[ge.magFilter],qt.min=hr[ge.minFilter],qt.wrapS=Ce[ge.wrapS],qt.wrapT=Ce[ge.wrapT],Qt=0;Qt<6;++Qt)pr(Pt[Qt]);return qt}function Xt(Dt,jt,mt,It,yt){it(!!jt,"must specify image data"),it(typeof Dt=="number"&&Dt===(Dt|0)&&Dt>=0&&Dt<6,"invalid face");var Wt=mt|0,Qt=It|0,ge=yt|0,ye=gt();return D(ye,ht),ye.width=0,ye.height=0,X(ye,jt),ye.width=ye.width||(ht.width>>ge)-Wt,ye.height=ye.height||(ht.height>>ge)-Qt,it(ht.type===ye.type&&ht.format===ye.format&&ht.internalformat===ye.internalformat,"incompatible format for texture.subimage"),it(Wt>=0&&Qt>=0&&Wt+ye.width<=ht.width&&Qt+ye.height<=ht.height,"texture.subimage write out of bounds"),it(ht.mipmask&1<<ge,"missing mipmap data"),it(ye.data||ye.element||ye.needsCopy,"missing image data"),_a(ht),rt(ye,Cc+Dt,Wt,Qt,ge),Ki(),St(ye),qt}function Bt(Dt){var jt=Dt|0;if(jt!==ht.width){qt.width=ht.width=jt,qt.height=ht.height=jt,_a(ht);for(var mt=0;mt<6;++mt)for(var It=0;ht.mipmask>>It;++It)K.texImage2D(Cc+mt,It,ht.format,jt>>It,jt>>It,0,ht.format,ht.type,null);return Ki(),ue.profile&&(ht.stats.size=eo(ht.internalformat,ht.type,qt.width,qt.height,!1,!0)),qt}}return qt(wt,ae,Jt,gr,Fi,bt),qt.subimage=Xt,qt.resize=Bt,qt._reglType="textureCube",qt._texture=ht,ue.profile&&(qt.stats=ht.stats),qt.destroy=function(){ht.decRef()},qt}function Sa(){for(var wt=0;wt<yn;++wt)K.activeTexture(An+wt),K.bindTexture(ru,null),Kr[wt]=null;Cs(dn).forEach(Gr),ee.cubeCount=0,ee.textureCount=0}ue.profile&&(ee.getTotalTextureSize=function(){var wt=0;return Object.keys(dn).forEach(function(ae){wt+=dn[ae].stats.size}),wt});function Vu(){for(var wt=0;wt<yn;++wt){var ae=Kr[wt];ae&&(ae.bindCount=0,ae.unit=-1,Kr[wt]=null)}Cs(dn).forEach(function(Jt){Jt.texture=K.createTexture(),K.bindTexture(Jt.target,Jt.texture);for(var gr=0;gr<32;++gr)if((Jt.mipmask&1<<gr)!=0)if(Jt.target===ru)K.texImage2D(ru,gr,Jt.internalformat,Jt.width>>gr,Jt.height>>gr,0,Jt.internalformat,Jt.type,null);else for(var Fi=0;Fi<6;++Fi)K.texImage2D(Cc+Fi,gr,Jt.internalformat,Jt.width>>gr,Jt.height>>gr,0,Jt.internalformat,Jt.type,null);fi(Jt.texInfo,Jt.target)})}function Dy(){for(var wt=0;wt<yn;++wt){var ae=Kr[wt];ae&&(ae.bindCount=0,ae.unit=-1,Kr[wt]=null),K.activeTexture(An+wt),K.bindTexture(ru,null),K.bindTexture(tv,null)}}return{create2D:jr,createCube:Di,clear:Sa,getTexture:function(wt){return null},restore:Vu,refresh:Dy}}var Fh=36161,r1=32854,U_=32855,$M=36194,i1=33189,Tp=36168,dy=34041,av=35907,Ip=34836,Lc=34842,Lp=34843,fr=[];fr[r1]=2,fr[U_]=2,fr[$M]=2,fr[i1]=2,fr[Tp]=1,fr[dy]=4,fr[av]=4,fr[Ip]=16,fr[Lc]=8,fr[Lp]=6;function n1(K,ct,Ct){return fr[K]*ct*Ct}var vy=function(K,ct,Ct,ie,ve){var ee={rgba4:r1,rgb565:$M,"rgb5 a1":U_,depth:i1,stencil:Tp,"depth stencil":dy};ct.ext_srgb&&(ee.srgba=av),ct.ext_color_buffer_half_float&&(ee.rgba16f=Lc,ee.rgb16f=Lp),ct.webgl_color_buffer_float&&(ee.rgba32f=Ip);var ue=[];Object.keys(ee).forEach(function(Ie){var Xe=ee[Ie];ue[Xe]=Ie});var Te=0,be={};function Be(Ie){this.id=Te++,this.refCount=1,this.renderbuffer=Ie,this.format=r1,this.width=0,this.height=0,ve.profile&&(this.stats={size:0})}Be.prototype.decRef=function(){--this.refCount<=0&&ke(this)};function ke(Ie){var Xe=Ie.renderbuffer;it(Xe,"must not double destroy renderbuffer"),K.bindRenderbuffer(Fh,null),K.deleteRenderbuffer(Xe),Ie.renderbuffer=null,Ie.refCount=0,delete be[Ie.id],ie.renderbufferCount--}function Ue(Ie,Xe){var Ut=new Be(K.createRenderbuffer());be[Ut.id]=Ut,ie.renderbufferCount++;function fe(He,xe){var hr=0,Ce=0,C=r1;if(typeof He=="object"&&He){var L=He;if("shape"in L){var D=L.shape;it(Array.isArray(D)&&D.length>=2,"invalid renderbuffer shape"),hr=D[0]|0,Ce=D[1]|0}else"radius"in L&&(hr=Ce=L.radius|0),"width"in L&&(hr=L.width|0),"height"in L&&(Ce=L.height|0);"format"in L&&(it.parameter(L.format,ee,"invalid renderbuffer format"),C=ee[L.format])}else typeof He=="number"?(hr=He|0,typeof xe=="number"?Ce=xe|0:Ce=hr):He?it.raise("invalid arguments to renderbuffer constructor"):hr=Ce=1;if(it(hr>0&&Ce>0&&hr<=Ct.maxRenderbufferSize&&Ce<=Ct.maxRenderbufferSize,"invalid renderbuffer size"),!(hr===Ut.width&&Ce===Ut.height&&C===Ut.format))return fe.width=Ut.width=hr,fe.height=Ut.height=Ce,Ut.format=C,K.bindRenderbuffer(Fh,Ut.renderbuffer),K.renderbufferStorage(Fh,C,hr,Ce),it(K.getError()===0,"invalid render buffer format"),ve.profile&&(Ut.stats.size=n1(Ut.format,Ut.width,Ut.height)),fe.format=ue[Ut.format],fe}function Ee(He,xe){var hr=He|0,Ce=xe|0||hr;return hr===Ut.width&&Ce===Ut.height||(it(hr>0&&Ce>0&&hr<=Ct.maxRenderbufferSize&&Ce<=Ct.maxRenderbufferSize,"invalid renderbuffer size"),fe.width=Ut.width=hr,fe.height=Ut.height=Ce,K.bindRenderbuffer(Fh,Ut.renderbuffer),K.renderbufferStorage(Fh,Ut.format,hr,Ce),it(K.getError()===0,"invalid render buffer format"),ve.profile&&(Ut.stats.size=n1(Ut.format,Ut.width,Ut.height))),fe}return fe(Ie,Xe),fe.resize=Ee,fe._reglType="renderbuffer",fe._renderbuffer=Ut,ve.profile&&(fe.stats=Ut.stats),fe.destroy=function(){Ut.decRef()},fe}ve.profile&&(ie.getTotalRenderbufferSize=function(){var Ie=0;return Object.keys(be).forEach(function(Xe){Ie+=be[Xe].stats.size}),Ie});function tr(){Cs(be).forEach(function(Ie){Ie.renderbuffer=K.createRenderbuffer(),K.bindRenderbuffer(Fh,Ie.renderbuffer),K.renderbufferStorage(Fh,Ie.format,Ie.width,Ie.height)}),K.bindRenderbuffer(Fh,null)}return{create:Ue,clear:function(){Cs(be).forEach(ke)},restore:tr}},Mi=36160,a1=36161,Nh=3553,Nu=34069,Op=36064,py=36096,dt=36128,ov=33306,gy=36053,iu=36054,un=36055,JM=36057,nu=36061,tA=36193,sv=5121,tO=5126,X_=6407,eA=6408,eO=6402,rO=[X_,eA],Ml=[];Ml[eA]=4,Ml[X_]=3;var my=[];my[sv]=1,my[tO]=4,my[tA]=2;var o1=32854,rA=32855,iA=36194,s1=33189,Oc=36168,au=34041,iO=35907,yy=34836,nA=34842,nO=34843,lv=[o1,rA,iA,iO,nA,nO,yy],kp={};kp[gy]="complete",kp[iu]="incomplete attachment",kp[JM]="incomplete dimensions",kp[un]="incomplete, missing attachment",kp[nu]="unsupported";function aO(K,ct,Ct,ie,ve,ee){var ue={cur:null,next:null,dirty:!1,setFBO:null},Te=["rgba"],be=["rgba4","rgb565","rgb5 a1"];ct.ext_srgb&&be.push("srgba"),ct.ext_color_buffer_half_float&&be.push("rgba16f","rgb16f"),ct.webgl_color_buffer_float&&be.push("rgba32f");var Be=["uint8"];ct.oes_texture_half_float&&Be.push("half float","float16"),ct.oes_texture_float&&Be.push("float","float32");function ke(V,X,Q){this.target=V,this.texture=X,this.renderbuffer=Q;var rt=0,vt=0;X?(rt=X.width,vt=X.height):Q&&(rt=Q.width,vt=Q.height),this.width=rt,this.height=vt}function Ue(V){V&&(V.texture&&V.texture._texture.decRef(),V.renderbuffer&&V.renderbuffer._renderbuffer.decRef())}function tr(V,X,Q){if(!!V)if(V.texture){var rt=V.texture._texture,vt=Math.max(1,rt.width),gt=Math.max(1,rt.height);it(vt===X&&gt===Q,"inconsistent width/height for supplied texture"),rt.refCount+=1}else{var St=V.renderbuffer._renderbuffer;it(St.width===X&&St.height===Q,"inconsistent width/height for renderbuffer"),St.refCount+=1}}function Ie(V,X){X&&(X.texture?K.framebufferTexture2D(Mi,V,X.target,X.texture._texture.texture,0):K.framebufferRenderbuffer(Mi,V,a1,X.renderbuffer._renderbuffer.renderbuffer))}function Xe(V){var X=Nh,Q=null,rt=null,vt=V;typeof V=="object"&&(vt=V.data,"target"in V&&(X=V.target|0)),it.type(vt,"function","invalid attachment data");var gt=vt._reglType;return gt==="texture2d"?(Q=vt,it(X===Nh)):gt==="textureCube"?(Q=vt,it(X>=Nu&&X<Nu+6,"invalid cube map target")):gt==="renderbuffer"?(rt=vt,X=a1):it.raise("invalid regl object for attachment"),new ke(X,Q,rt)}function Ut(V,X,Q,rt,vt){if(Q){var gt=ie.create2D({width:V,height:X,format:rt,type:vt});return gt._texture.refCount=0,new ke(Nh,gt,null)}else{var St=ve.create({width:V,height:X,format:rt});return St._renderbuffer.refCount=0,new ke(a1,null,St)}}function fe(V){return V&&(V.texture||V.renderbuffer)}function Ee(V,X,Q){V&&(V.texture?V.texture.resize(X,Q):V.renderbuffer&&V.renderbuffer.resize(X,Q),V.width=X,V.height=Q)}var He=0,xe={};function hr(){this.id=He++,xe[this.id]=this,this.framebuffer=K.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Ce(V){V.colorAttachments.forEach(Ue),Ue(V.depthAttachment),Ue(V.stencilAttachment),Ue(V.depthStencilAttachment)}function C(V){var X=V.framebuffer;it(X,"must not double destroy framebuffer"),K.deleteFramebuffer(X),V.framebuffer=null,ee.framebufferCount--,delete xe[V.id]}function L(V){var X;K.bindFramebuffer(Mi,V.framebuffer);var Q=V.colorAttachments;for(X=0;X<Q.length;++X)Ie(Op+X,Q[X]);for(X=Q.length;X<Ct.maxColorAttachments;++X)K.framebufferTexture2D(Mi,Op+X,Nh,null,0);K.framebufferTexture2D(Mi,ov,Nh,null,0),K.framebufferTexture2D(Mi,py,Nh,null,0),K.framebufferTexture2D(Mi,dt,Nh,null,0),Ie(py,V.depthAttachment),Ie(dt,V.stencilAttachment),Ie(ov,V.depthStencilAttachment);var rt=K.checkFramebufferStatus(Mi);!K.isContextLost()&&rt!==gy&&it.raise("framebuffer configuration not supported, status = "+kp[rt]),K.bindFramebuffer(Mi,ue.next?ue.next.framebuffer:null),ue.cur=ue.next,K.getError()}function D(V,X){var Q=new hr;ee.framebufferCount++;function rt(gt,St){var Nt;it(ue.next!==Q,"can not update framebuffer which is currently in use");var Vt=0,me=0,Se=!0,Ve=!0,De=null,pr=!0,Cr="rgba",Zr="uint8",fi=1,Pi=null,dn=null,yn=null,Kr=!1;if(typeof gt=="number")Vt=gt|0,me=St|0||Vt;else if(!gt)Vt=me=1;else{it.type(gt,"object","invalid arguments for framebuffer");var $r=gt;if("shape"in $r){var _a=$r.shape;it(Array.isArray(_a)&&_a.length>=2,"invalid shape for framebuffer"),Vt=_a[0],me=_a[1]}else"radius"in $r&&(Vt=me=$r.radius),"width"in $r&&(Vt=$r.width),"height"in $r&&(me=$r.height);("color"in $r||"colors"in $r)&&(De=$r.color||$r.colors,Array.isArray(De)&&it(De.length===1||ct.webgl_draw_buffers,"multiple render targets not supported")),De||("colorCount"in $r&&(fi=$r.colorCount|0,it(fi>0,"invalid color buffer count")),"colorTexture"in $r&&(pr=!!$r.colorTexture,Cr="rgba4"),"colorType"in $r&&(Zr=$r.colorType,pr?(it(ct.oes_texture_float||!(Zr==="float"||Zr==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),it(ct.oes_texture_half_float||!(Zr==="half float"||Zr==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Zr==="half float"||Zr==="float16"?(it(ct.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Cr="rgba16f"):(Zr==="float"||Zr==="float32")&&(it(ct.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Cr="rgba32f"),it.oneOf(Zr,Be,"invalid color type")),"colorFormat"in $r&&(Cr=$r.colorFormat,Te.indexOf(Cr)>=0?pr=!0:be.indexOf(Cr)>=0?pr=!1:pr?it.oneOf($r.colorFormat,Te,"invalid color format for texture"):it.oneOf($r.colorFormat,be,"invalid color format for renderbuffer"))),("depthTexture"in $r||"depthStencilTexture"in $r)&&(Kr=!!($r.depthTexture||$r.depthStencilTexture),it(!Kr||ct.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in $r&&(typeof $r.depth=="boolean"?Se=$r.depth:(Pi=$r.depth,Ve=!1)),"stencil"in $r&&(typeof $r.stencil=="boolean"?Ve=$r.stencil:(dn=$r.stencil,Se=!1)),"depthStencil"in $r&&(typeof $r.depthStencil=="boolean"?Se=Ve=$r.depthStencil:(yn=$r.depthStencil,Se=!1,Ve=!1))}var Ki=null,Gr=null,jr=null,Di=null;if(Array.isArray(De))Ki=De.map(Xe);else if(De)Ki=[Xe(De)];else for(Ki=new Array(fi),Nt=0;Nt<fi;++Nt)Ki[Nt]=Ut(Vt,me,pr,Cr,Zr);it(ct.webgl_draw_buffers||Ki.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),it(Ki.length<=Ct.maxColorAttachments,"too many color attachments, not supported"),Vt=Vt||Ki[0].width,me=me||Ki[0].height,Pi?Gr=Xe(Pi):Se&&!Ve&&(Gr=Ut(Vt,me,Kr,"depth","uint32")),dn?jr=Xe(dn):Ve&&!Se&&(jr=Ut(Vt,me,!1,"stencil","uint8")),yn?Di=Xe(yn):!Pi&&!dn&&Ve&&Se&&(Di=Ut(Vt,me,Kr,"depth stencil","depth stencil")),it(!!Pi+!!dn+!!yn<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Sa=null;for(Nt=0;Nt<Ki.length;++Nt)if(tr(Ki[Nt],Vt,me),it(!Ki[Nt]||Ki[Nt].texture&&rO.indexOf(Ki[Nt].texture._texture.format)>=0||Ki[Nt].renderbuffer&&lv.indexOf(Ki[Nt].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Nt+" is invalid"),Ki[Nt]&&Ki[Nt].texture){var Vu=Ml[Ki[Nt].texture._texture.format]*my[Ki[Nt].texture._texture.type];Sa===null?Sa=Vu:it(Sa===Vu,"all color attachments much have the same number of bits per pixel.")}return tr(Gr,Vt,me),it(!Gr||Gr.texture&&Gr.texture._texture.format===eO||Gr.renderbuffer&&Gr.renderbuffer._renderbuffer.format===s1,"invalid depth attachment for framebuffer object"),tr(jr,Vt,me),it(!jr||jr.renderbuffer&&jr.renderbuffer._renderbuffer.format===Oc,"invalid stencil attachment for framebuffer object"),tr(Di,Vt,me),it(!Di||Di.texture&&Di.texture._texture.format===au||Di.renderbuffer&&Di.renderbuffer._renderbuffer.format===au,"invalid depth-stencil attachment for framebuffer object"),Ce(Q),Q.width=Vt,Q.height=me,Q.colorAttachments=Ki,Q.depthAttachment=Gr,Q.stencilAttachment=jr,Q.depthStencilAttachment=Di,rt.color=Ki.map(fe),rt.depth=fe(Gr),rt.stencil=fe(jr),rt.depthStencil=fe(Di),rt.width=Q.width,rt.height=Q.height,L(Q),rt}function vt(gt,St){it(ue.next!==Q,"can not resize a framebuffer which is currently in use");var Nt=Math.max(gt|0,1),Vt=Math.max(St|0||Nt,1);if(Nt===Q.width&&Vt===Q.height)return rt;for(var me=Q.colorAttachments,Se=0;Se<me.length;++Se)Ee(me[Se],Nt,Vt);return Ee(Q.depthAttachment,Nt,Vt),Ee(Q.stencilAttachment,Nt,Vt),Ee(Q.depthStencilAttachment,Nt,Vt),Q.width=rt.width=Nt,Q.height=rt.height=Vt,L(Q),rt}return rt(V,X),e(rt,{resize:vt,_reglType:"framebuffer",_framebuffer:Q,destroy:function(){C(Q),Ce(Q)},use:function(gt){ue.setFBO({framebuffer:rt},gt)}})}function W(V){var X=Array(6);function Q(vt){var gt;it(X.indexOf(ue.next)<0,"can not update framebuffer which is currently in use");var St={color:null},Nt=0,Vt=null,me="rgba",Se="uint8",Ve=1;if(typeof vt=="number")Nt=vt|0;else if(!vt)Nt=1;else{it.type(vt,"object","invalid arguments for framebuffer");var De=vt;if("shape"in De){var pr=De.shape;it(Array.isArray(pr)&&pr.length>=2,"invalid shape for framebuffer"),it(pr[0]===pr[1],"cube framebuffer must be square"),Nt=pr[0]}else"radius"in De&&(Nt=De.radius|0),"width"in De?(Nt=De.width|0,"height"in De&&it(De.height===Nt,"must be square")):"height"in De&&(Nt=De.height|0);("color"in De||"colors"in De)&&(Vt=De.color||De.colors,Array.isArray(Vt)&&it(Vt.length===1||ct.webgl_draw_buffers,"multiple render targets not supported")),Vt||("colorCount"in De&&(Ve=De.colorCount|0,it(Ve>0,"invalid color buffer count")),"colorType"in De&&(it.oneOf(De.colorType,Be,"invalid color type"),Se=De.colorType),"colorFormat"in De&&(me=De.colorFormat,it.oneOf(De.colorFormat,Te,"invalid color format for texture"))),"depth"in De&&(St.depth=De.depth),"stencil"in De&&(St.stencil=De.stencil),"depthStencil"in De&&(St.depthStencil=De.depthStencil)}var Cr;if(Vt)if(Array.isArray(Vt))for(Cr=[],gt=0;gt<Vt.length;++gt)Cr[gt]=Vt[gt];else Cr=[Vt];else{Cr=Array(Ve);var Zr={radius:Nt,format:me,type:Se};for(gt=0;gt<Ve;++gt)Cr[gt]=ie.createCube(Zr)}for(St.color=Array(Cr.length),gt=0;gt<Cr.length;++gt){var fi=Cr[gt];it(typeof fi=="function"&&fi._reglType==="textureCube","invalid cube map"),Nt=Nt||fi.width,it(fi.width===Nt&&fi.height===Nt,"invalid cube map shape"),St.color[gt]={target:Nu,data:Cr[gt]}}for(gt=0;gt<6;++gt){for(var Pi=0;Pi<Cr.length;++Pi)St.color[Pi].target=Nu+gt;gt>0&&(St.depth=X[0].depth,St.stencil=X[0].stencil,St.depthStencil=X[0].depthStencil),X[gt]?X[gt](St):X[gt]=D(St)}return e(Q,{width:Nt,height:Nt,color:Cr})}function rt(vt){var gt,St=vt|0;if(it(St>0&&St<=Ct.maxCubeMapSize,"invalid radius for cube fbo"),St===Q.width)return Q;var Nt=Q.color;for(gt=0;gt<Nt.length;++gt)Nt[gt].resize(St);for(gt=0;gt<6;++gt)X[gt].resize(St);return Q.width=Q.height=St,Q}return Q(V),e(Q,{faces:X,resize:rt,_reglType:"framebufferCube",destroy:function(){X.forEach(function(vt){vt.destroy()})}})}function H(){ue.cur=null,ue.next=null,ue.dirty=!0,Cs(xe).forEach(function(V){V.framebuffer=K.createFramebuffer(),L(V)})}return e(ue,{getFramebuffer:function(V){if(typeof V=="function"&&V._reglType==="framebuffer"){var X=V._framebuffer;if(X instanceof hr)return X}return null},create:D,createCube:W,clear:function(){Cs(xe).forEach(C)},restore:H})}var Bu=5126,aA=34962;function Z_(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Bu,this.offset=0,this.stride=0,this.divisor=0}function oO(K,ct,Ct,ie,ve){for(var ee=Ct.maxAttributes,ue=new Array(ee),Te=0;Te<ee;++Te)ue[Te]=new Z_;var be=0,Be={},ke={Record:Z_,scope:{},state:ue,currentVAO:null,targetVAO:null,restore:tr()?xe:function(){},createVAO:hr,getVAO:Xe,destroyBuffer:Ue,setVAO:tr()?Ut:fe,clear:tr()?Ee:function(){}};function Ue(Ce){for(var C=0;C<ue.length;++C){var L=ue[C];L.buffer===Ce&&(K.disableVertexAttribArray(C),L.buffer=null)}}function tr(){return ct.oes_vertex_array_object}function Ie(){return ct.angle_instanced_arrays}function Xe(Ce){return typeof Ce=="function"&&Ce._vao?Ce._vao:null}function Ut(Ce){if(Ce!==ke.currentVAO){var C=tr();Ce?C.bindVertexArrayOES(Ce.vao):C.bindVertexArrayOES(null),ke.currentVAO=Ce}}function fe(Ce){if(Ce!==ke.currentVAO){if(Ce)Ce.bindAttrs();else for(var C=Ie(),L=0;L<ue.length;++L){var D=ue[L];D.buffer?(K.enableVertexAttribArray(L),K.vertexAttribPointer(L,D.size,D.type,D.normalized,D.stride,D.offfset),C&&D.divisor&&C.vertexAttribDivisorANGLE(L,D.divisor)):(K.disableVertexAttribArray(L),K.vertexAttrib4f(L,D.x,D.y,D.z,D.w))}ke.currentVAO=Ce}}function Ee(){Cs(Be).forEach(function(Ce){Ce.destroy()})}function He(){this.id=++be,this.attributes=[];var Ce=tr();Ce?this.vao=Ce.createVertexArrayOES():this.vao=null,Be[this.id]=this,this.buffers=[]}He.prototype.bindAttrs=function(){for(var Ce=Ie(),C=this.attributes,L=0;L<C.length;++L){var D=C[L];D.buffer?(K.enableVertexAttribArray(L),K.bindBuffer(aA,D.buffer.buffer),K.vertexAttribPointer(L,D.size,D.type,D.normalized,D.stride,D.offset),Ce&&D.divisor&&Ce.vertexAttribDivisorANGLE(L,D.divisor)):(K.disableVertexAttribArray(L),K.vertexAttrib4f(L,D.x,D.y,D.z,D.w))}for(var W=C.length;W<ee;++W)K.disableVertexAttribArray(W)},He.prototype.refresh=function(){var Ce=tr();Ce&&(Ce.bindVertexArrayOES(this.vao),this.bindAttrs(),ke.currentVAO=this)},He.prototype.destroy=function(){if(this.vao){var Ce=tr();this===ke.currentVAO&&(ke.currentVAO=null,Ce.bindVertexArrayOES(null)),Ce.deleteVertexArrayOES(this.vao),this.vao=null}Be[this.id]&&(delete Be[this.id],ie.vaoCount-=1)};function xe(){var Ce=tr();Ce&&Cs(Be).forEach(function(C){C.refresh()})}function hr(Ce){var C=new He;ie.vaoCount+=1;function L(D){it(Array.isArray(D),"arguments to vertex array constructor must be an array"),it(D.length<ee,"too many attributes"),it(D.length>0,"must specify at least one attribute");var W={},H=C.attributes;H.length=D.length;for(var V=0;V<D.length;++V){var X=D[V],Q=H[V]=new Z_,rt=X.data||X;if(Array.isArray(rt)||r(rt)||ds(rt)){var vt;C.buffers[V]&&(vt=C.buffers[V],r(rt)&&vt._buffer.byteLength>=rt.byteLength?vt.subdata(rt):(vt.destroy(),C.buffers[V]=null)),C.buffers[V]||(vt=C.buffers[V]=ve.create(X,aA,!1,!0)),Q.buffer=ve.getBuffer(vt),Q.size=Q.buffer.dimension|0,Q.normalized=!1,Q.type=Q.buffer.dtype,Q.offset=0,Q.stride=0,Q.divisor=0,Q.state=1,W[V]=1}else ve.getBuffer(X)?(Q.buffer=ve.getBuffer(X),Q.size=Q.buffer.dimension|0,Q.normalized=!1,Q.type=Q.buffer.dtype,Q.offset=0,Q.stride=0,Q.divisor=0,Q.state=1):ve.getBuffer(X.buffer)?(Q.buffer=ve.getBuffer(X.buffer),Q.size=(+X.size||Q.buffer.dimension)|0,Q.normalized=!!X.normalized||!1,"type"in X?(it.parameter(X.type,_l,"invalid buffer type"),Q.type=_l[X.type]):Q.type=Q.buffer.dtype,Q.offset=(X.offset||0)|0,Q.stride=(X.stride||0)|0,Q.divisor=(X.divisor||0)|0,Q.state=1,it(Q.size>=1&&Q.size<=4,"size must be between 1 and 4"),it(Q.offset>=0,"invalid offset"),it(Q.stride>=0&&Q.stride<=255,"stride must be between 0 and 255"),it(Q.divisor>=0,"divisor must be positive"),it(!Q.divisor||!!ct.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in X?(it(V>0,"first attribute must not be a constant"),Q.x=+X.x||0,Q.y=+X.y||0,Q.z=+X.z||0,Q.w=+X.w||0,Q.state=2):it(!1,"invalid attribute spec for location "+V)}for(var gt=0;gt<C.buffers.length;++gt)!W[gt]&&C.buffers[gt]&&(C.buffers[gt].destroy(),C.buffers[gt]=null);return C.refresh(),L}return L.destroy=function(){for(var D=0;D<C.buffers.length;++D)C.buffers[D]&&C.buffers[D].destroy();C.buffers.length=0,C.destroy()},L._vao=C,L._reglType="vao",L(Ce)}return ke}var oA=35632,sO=35633,xy=35718,sA=35721;function lO(K,ct,Ct,ie){var ve={},ee={};function ue(Ut,fe,Ee,He){this.name=Ut,this.id=fe,this.location=Ee,this.info=He}function Te(Ut,fe){for(var Ee=0;Ee<Ut.length;++Ee)if(Ut[Ee].id===fe.id){Ut[Ee].location=fe.location;return}Ut.push(fe)}function be(Ut,fe,Ee){var He=Ut===oA?ve:ee,xe=He[fe];if(!xe){var hr=ct.str(fe);xe=K.createShader(Ut),K.shaderSource(xe,hr),K.compileShader(xe),it.shaderError(K,xe,hr,Ut,Ee),He[fe]=xe}return xe}var Be={},ke=[],Ue=0;function tr(Ut,fe){this.id=Ue++,this.fragId=Ut,this.vertId=fe,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,ie.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Ie(Ut,fe,Ee){var He,xe,hr=be(oA,Ut.fragId),Ce=be(sO,Ut.vertId),C=Ut.program=K.createProgram();if(K.attachShader(C,hr),K.attachShader(C,Ce),Ee)for(He=0;He<Ee.length;++He){var L=Ee[He];K.bindAttribLocation(C,L[0],L[1])}K.linkProgram(C),it.linkError(K,C,ct.str(Ut.fragId),ct.str(Ut.vertId),fe);var D=K.getProgramParameter(C,xy);ie.profile&&(Ut.stats.uniformsCount=D);var W=Ut.uniforms;for(He=0;He<D;++He)if(xe=K.getActiveUniform(C,He),xe)if(xe.size>1)for(var H=0;H<xe.size;++H){var V=xe.name.replace("[0]","["+H+"]");Te(W,new ue(V,ct.id(V),K.getUniformLocation(C,V),xe))}else Te(W,new ue(xe.name,ct.id(xe.name),K.getUniformLocation(C,xe.name),xe));var X=K.getProgramParameter(C,sA);ie.profile&&(Ut.stats.attributesCount=X);var Q=Ut.attributes;for(He=0;He<X;++He)xe=K.getActiveAttrib(C,He),xe&&Te(Q,new ue(xe.name,ct.id(xe.name),K.getAttribLocation(C,xe.name),xe))}ie.profile&&(Ct.getMaxUniformsCount=function(){var Ut=0;return ke.forEach(function(fe){fe.stats.uniformsCount>Ut&&(Ut=fe.stats.uniformsCount)}),Ut},Ct.getMaxAttributesCount=function(){var Ut=0;return ke.forEach(function(fe){fe.stats.attributesCount>Ut&&(Ut=fe.stats.attributesCount)}),Ut});function Xe(){ve={},ee={};for(var Ut=0;Ut<ke.length;++Ut)Ie(ke[Ut],null,ke[Ut].attributes.map(function(fe){return[fe.location,fe.name]}))}return{clear:function(){var Ut=K.deleteShader.bind(K);Cs(ve).forEach(Ut),ve={},Cs(ee).forEach(Ut),ee={},ke.forEach(function(fe){K.deleteProgram(fe.program)}),ke.length=0,Be={},Ct.shaderCount=0},program:function(Ut,fe,Ee,He){it.command(Ut>=0,"missing vertex shader",Ee),it.command(fe>=0,"missing fragment shader",Ee);var xe=Be[fe];xe||(xe=Be[fe]={});var hr=xe[Ut];if(hr&&(hr.refCount++,!He))return hr;var Ce=new tr(fe,Ut);return Ct.shaderCount++,Ie(Ce,Ee,He),hr||(xe[Ut]=Ce),ke.push(Ce),e(Ce,{destroy:function(){if(Ce.refCount--,Ce.refCount<=0){K.deleteProgram(Ce.program);var C=ke.indexOf(Ce);ke.splice(C,1),Ct.shaderCount--}xe[Ce.vertId].refCount<=0&&(K.deleteShader(ee[Ce.vertId]),delete ee[Ce.vertId],delete Be[Ce.fragId][Ce.vertId]),Object.keys(Be[Ce.fragId]).length||(K.deleteShader(ve[Ce.fragId]),delete ve[Ce.fragId],delete Be[Ce.fragId])}})},restore:Xe,shader:be,frag:-1,vert:-1}}var uO=6408,Bh=5121,by=3333,uv=5126;function fO(K,ct,Ct,ie,ve,ee,ue){function Te(ke){var Ue;ct.next===null?(it(ve.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Ue=Bh):(it(ct.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Ue=ct.next.colorAttachments[0].texture._texture.type,ee.oes_texture_float?(it(Ue===Bh||Ue===uv,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Ue===uv&&it(ue.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):it(Ue===Bh,"Reading from a framebuffer is only allowed for the type 'uint8'"));var tr=0,Ie=0,Xe=ie.framebufferWidth,Ut=ie.framebufferHeight,fe=null;r(ke)?fe=ke:ke&&(it.type(ke,"object","invalid arguments to regl.read()"),tr=ke.x|0,Ie=ke.y|0,it(tr>=0&&tr<ie.framebufferWidth,"invalid x offset for regl.read"),it(Ie>=0&&Ie<ie.framebufferHeight,"invalid y offset for regl.read"),Xe=(ke.width||ie.framebufferWidth-tr)|0,Ut=(ke.height||ie.framebufferHeight-Ie)|0,fe=ke.data||null),fe&&(Ue===Bh?it(fe instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Ue===uv&&it(fe instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),it(Xe>0&&Xe+tr<=ie.framebufferWidth,"invalid width for read pixels"),it(Ut>0&&Ut+Ie<=ie.framebufferHeight,"invalid height for read pixels"),Ct();var Ee=Xe*Ut*4;return fe||(Ue===Bh?fe=new Uint8Array(Ee):Ue===uv&&(fe=fe||new Float32Array(Ee))),it.isTypedArray(fe,"data buffer for regl.read() must be a typedarray"),it(fe.byteLength>=Ee,"data buffer for regl.read() too small"),K.pixelStorei(by,4),K.readPixels(tr,Ie,Xe,Ut,uO,Ue,fe),fe}function be(ke){var Ue;return ct.setFBO({framebuffer:ke.framebuffer},function(){Ue=Te(ke)}),Ue}function Be(ke){return!ke||!("framebuffer"in ke)?Te(ke):be(ke)}return Be}function kc(K){return Array.prototype.slice.call(K)}function Pp(K){return kc(K).join("")}function Pc(){var K=0,ct=[],Ct=[];function ie(Ue){for(var tr=0;tr<Ct.length;++tr)if(Ct[tr]===Ue)return ct[tr];var Ie="g"+K++;return ct.push(Ie),Ct.push(Ue),Ie}function ve(){var Ue=[];function tr(){Ue.push.apply(Ue,kc(arguments))}var Ie=[];function Xe(){var Ut="v"+K++;return Ie.push(Ut),arguments.length>0&&(Ue.push(Ut,"="),Ue.push.apply(Ue,kc(arguments)),Ue.push(";")),Ut}return e(tr,{def:Xe,toString:function(){return Pp([Ie.length>0?"var "+Ie.join(",")+";":"",Pp(Ue)])}})}function ee(){var Ue=ve(),tr=ve(),Ie=Ue.toString,Xe=tr.toString;function Ut(fe,Ee){tr(fe,Ee,"=",Ue.def(fe,Ee),";")}return e(function(){Ue.apply(Ue,kc(arguments))},{def:Ue.def,entry:Ue,exit:tr,save:Ut,set:function(fe,Ee,He){Ut(fe,Ee),Ue(fe,Ee,"=",He,";")},toString:function(){return Ie()+Xe()}})}function ue(){var Ue=Pp(arguments),tr=ee(),Ie=ee(),Xe=tr.toString,Ut=Ie.toString;return e(tr,{then:function(){return tr.apply(tr,kc(arguments)),this},else:function(){return Ie.apply(Ie,kc(arguments)),this},toString:function(){var fe=Ut();return fe&&(fe="else{"+fe+"}"),Pp(["if(",Ue,"){",Xe(),"}",fe])}})}var Te=ve(),be={};function Be(Ue,tr){var Ie=[];function Xe(){var xe="a"+Ie.length;return Ie.push(xe),xe}tr=tr||0;for(var Ut=0;Ut<tr;++Ut)Xe();var fe=ee(),Ee=fe.toString,He=be[Ue]=e(fe,{arg:Xe,toString:function(){return Pp(["function(",Ie.join(),"){",Ee(),"}"])}});return He}function ke(){var Ue=['"use strict";',Te,"return {"];Object.keys(be).forEach(function(Xe){Ue.push('"',Xe,'":',be[Xe].toString(),",")}),Ue.push("}");var tr=Pp(Ue).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ie=Function.apply(null,ct.concat(tr));return Ie.apply(null,Ct)}return{global:Te,link:ie,block:ve,proc:Be,scope:ee,cond:ue,compile:ke}}var Cf="xyzw".split(""),Rh=5121,vs=1,l1=2,u1=0,f1=1,fv=2,ou=3,wy=4,lA=5,_y=6,uA="dither",c1="blend.enable",Ho="blend.color",Sy="blend.equation",h1="blend.func",Ru="depth.enable",d1="depth.func",Cy="depth.range",Gh="depth.mask",v1="colorMask",As="cull.enable",p1="cull.face",K_="frontFace",Q_="lineWidth",fA="polygonOffset.enable",My="polygonOffset.offset",cA="sample.alpha",Dp="sample.enable",g1="sample.coverage",hA="stencil.enable",dA="stencil.mask",Mf="stencil.func",$_="stencil.opFront",Lt="stencil.opBack",m1="scissor.enable",zh="scissor.box",Af="viewport",Ay="profile",cv="framebuffer",Fp="vert",hv="frag",Dc="elements",Gu="primitive",Fc="count",Np="offset",ro="instances",Nc="vao",y1="Width",Ey="Height",jh=cv+y1,dv=cv+Ey,vA=Af+y1,x1=Af+Ey,Ty="drawingBuffer",J_=Ty+y1,b1=Ty+Ey,cO=[h1,Sy,Mf,$_,Lt,g1,Af,zh,My],Yh=34962,Zi=34963,hO=35632,dO=35633,Bp=3553,pA=34067,vv=2884,tS=3042,Al=3024,eS=2960,Iy=2929,w1=3089,rS=32823,iS=32926,nl=32928,zu=5126,Rp=35664,Ly=35665,Wh=35666,_1=5124,pv=35667,Gp=35668,zp=35669,jp=35670,su=35671,Oy=35672,lu=35673,Vh=35674,qh=35675,gv=35676,ky=35678,Py=35680,gA=4,Yp=1028,Hh=1029,nS=2304,S1=2305,mA=32775,al=32776,Ef=519,Uh=7680,yA=0,Wp=1,mv=32774,aS=513,oS=36160,vO=36064,ju={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},yv=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Yu={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Xh={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},sS={frag:hO,vert:dO},C1={cw:nS,ccw:S1};function xv(K){return Array.isArray(K)||r(K)||ds(K)}function lS(K){return K.sort(function(ct,Ct){return ct===Af?-1:Ct===Af?1:ct<Ct?-1:1})}function Uo(K,ct,Ct,ie){this.thisDep=K,this.contextDep=ct,this.propDep=Ct,this.append=ie}function Tf(K){return K&&!(K.thisDep||K.contextDep||K.propDep)}function La(K){return new Uo(!1,!1,!1,K)}function ol(K,ct){var Ct=K.type;if(Ct===u1){var ie=K.data.length;return new Uo(!0,ie>=1,ie>=2,ct)}else if(Ct===wy){var ve=K.data;return new Uo(ve.thisDep,ve.contextDep,ve.propDep,ct)}else{if(Ct===lA)return new Uo(!1,!1,!1,ct);if(Ct===_y){for(var ee=!1,ue=!1,Te=!1,be=0;be<K.data.length;++be){var Be=K.data[be];if(Be.type===f1)Te=!0;else if(Be.type===fv)ue=!0;else if(Be.type===ou)ee=!0;else if(Be.type===u1){ee=!0;var ke=Be.data;ke>=1&&(ue=!0),ke>=2&&(Te=!0)}else Be.type===wy&&(ee=ee||Be.data.thisDep,ue=ue||Be.data.contextDep,Te=Te||Be.data.propDep)}return new Uo(ee,ue,Te,ct)}else return new Uo(Ct===ou,Ct===fv,Ct===f1,ct)}}var uS=new Uo(!1,!1,!1,function(){});function Wu(K,ct,Ct,ie,ve,ee,ue,Te,be,Be,ke,Ue,tr,Ie,Xe){var Ut=Be.Record,fe={add:32774,subtract:32778,"reverse subtract":32779};Ct.ext_blend_minmax&&(fe.min=mA,fe.max=al);var Ee=Ct.angle_instanced_arrays,He=Ct.webgl_draw_buffers,xe={dirty:!0,profile:Xe.profile},hr={},Ce=[],C={},L={};function D(bt){return bt.replace(".","_")}function W(bt,ht,Pt){var qt=D(bt);Ce.push(bt),hr[qt]=xe[qt]=!!Pt,C[qt]=ht}function H(bt,ht,Pt){var qt=D(bt);Ce.push(bt),Array.isArray(Pt)?(xe[qt]=Pt.slice(),hr[qt]=Pt.slice()):xe[qt]=hr[qt]=Pt,L[qt]=ht}W(uA,Al),W(c1,tS),H(Ho,"blendColor",[0,0,0,0]),H(Sy,"blendEquationSeparate",[mv,mv]),H(h1,"blendFuncSeparate",[Wp,yA,Wp,yA]),W(Ru,Iy,!0),H(d1,"depthFunc",aS),H(Cy,"depthRange",[0,1]),H(Gh,"depthMask",!0),H(v1,v1,[!0,!0,!0,!0]),W(As,vv),H(p1,"cullFace",Hh),H(K_,K_,S1),H(Q_,Q_,1),W(fA,rS),H(My,"polygonOffset",[0,0]),W(cA,iS),W(Dp,nl),H(g1,"sampleCoverage",[1,!1]),W(hA,eS),H(dA,"stencilMask",-1),H(Mf,"stencilFunc",[Ef,0,-1]),H($_,"stencilOpSeparate",[Yp,Uh,Uh,Uh]),H(Lt,"stencilOpSeparate",[Hh,Uh,Uh,Uh]),W(m1,w1),H(zh,"scissor",[0,0,K.drawingBufferWidth,K.drawingBufferHeight]),H(Af,Af,[0,0,K.drawingBufferWidth,K.drawingBufferHeight]);var V={gl:K,context:tr,strings:ct,next:hr,current:xe,draw:Ue,elements:ee,buffer:ve,shader:ke,attributes:Be.state,vao:Be,uniforms:be,framebuffer:Te,extensions:Ct,timer:Ie,isBufferArgs:xv},X={primTypes:$d,compareFuncs:Yu,blendFuncs:ju,blendEquations:fe,stencilOps:Xh,glTypes:_l,orientationType:C1};it.optional(function(){V.isArrayLike=wa}),He&&(X.backBuffer=[Hh],X.drawBuffer=xa(ie.maxDrawbuffers,function(bt){return bt===0?[0]:xa(bt,function(ht){return vO+ht})}));var Q=0;function rt(){var bt=Pc(),ht=bt.link,Pt=bt.global;bt.id=Q++,bt.batchId="0";var qt=ht(V),Xt=bt.shared={props:"a0"};Object.keys(V).forEach(function(It){Xt[It]=Pt.def(qt,".",It)}),it.optional(function(){bt.CHECK=ht(it),bt.commandStr=it.guessCommand(),bt.command=ht(bt.commandStr),bt.assert=function(It,yt,Wt){It("if(!(",yt,"))",this.CHECK,".commandRaise(",ht(Wt),",",this.command,");")},X.invalidBlendCombinations=yv});var Bt=bt.next={},Dt=bt.current={};Object.keys(L).forEach(function(It){Array.isArray(xe[It])&&(Bt[It]=Pt.def(Xt.next,".",It),Dt[It]=Pt.def(Xt.current,".",It))});var jt=bt.constants={};Object.keys(X).forEach(function(It){jt[It]=Pt.def(JSON.stringify(X[It]))}),bt.invoke=function(It,yt){switch(yt.type){case u1:var Wt=["this",Xt.context,Xt.props,bt.batchId];return It.def(ht(yt.data),".call(",Wt.slice(0,Math.max(yt.data.length+1,4)),")");case f1:return It.def(Xt.props,yt.data);case fv:return It.def(Xt.context,yt.data);case ou:return It.def("this",yt.data);case wy:return yt.data.append(bt,It),yt.data.ref;case lA:return yt.data.toString();case _y:return yt.data.map(function(Qt){return bt.invoke(It,Qt)})}},bt.attribCache={};var mt={};return bt.scopeAttrib=function(It){var yt=ct.id(It);if(yt in mt)return mt[yt];var Wt=Be.scope[yt];Wt||(Wt=Be.scope[yt]=new Ut);var Qt=mt[yt]=ht(Wt);return Qt},bt}function vt(bt){var ht=bt.static,Pt=bt.dynamic,qt;if(Ay in ht){var Xt=!!ht[Ay];qt=La(function(Dt,jt){return Xt}),qt.enable=Xt}else if(Ay in Pt){var Bt=Pt[Ay];qt=ol(Bt,function(Dt,jt){return Dt.invoke(jt,Bt)})}return qt}function gt(bt,ht){var Pt=bt.static,qt=bt.dynamic;if(cv in Pt){var Xt=Pt[cv];return Xt?(Xt=Te.getFramebuffer(Xt),it.command(Xt,"invalid framebuffer object"),La(function(Dt,jt){var mt=Dt.link(Xt),It=Dt.shared;jt.set(It.framebuffer,".next",mt);var yt=It.context;return jt.set(yt,"."+jh,mt+".width"),jt.set(yt,"."+dv,mt+".height"),mt})):La(function(Dt,jt){var mt=Dt.shared;jt.set(mt.framebuffer,".next","null");var It=mt.context;return jt.set(It,"."+jh,It+"."+J_),jt.set(It,"."+dv,It+"."+b1),"null"})}else if(cv in qt){var Bt=qt[cv];return ol(Bt,function(Dt,jt){var mt=Dt.invoke(jt,Bt),It=Dt.shared,yt=It.framebuffer,Wt=jt.def(yt,".getFramebuffer(",mt,")");it.optional(function(){Dt.assert(jt,"!"+mt+"||"+Wt,"invalid framebuffer object")}),jt.set(yt,".next",Wt);var Qt=It.context;return jt.set(Qt,"."+jh,Wt+"?"+Wt+".width:"+Qt+"."+J_),jt.set(Qt,"."+dv,Wt+"?"+Wt+".height:"+Qt+"."+b1),Wt})}else return null}function St(bt,ht,Pt){var qt=bt.static,Xt=bt.dynamic;function Bt(mt){if(mt in qt){var It=qt[mt];it.commandType(It,"object","invalid "+mt,Pt.commandStr);var yt=!0,Wt=It.x|0,Qt=It.y|0,ge,ye;return"width"in It?(ge=It.width|0,it.command(ge>=0,"invalid "+mt,Pt.commandStr)):yt=!1,"height"in It?(ye=It.height|0,it.command(ye>=0,"invalid "+mt,Pt.commandStr)):yt=!1,new Uo(!yt&&ht&&ht.thisDep,!yt&&ht&&ht.contextDep,!yt&&ht&&ht.propDep,function(Er,Si){var Sr=Er.shared.context,Ur=ge;"width"in It||(Ur=Si.def(Sr,".",jh,"-",Wt));var yi=ye;return"height"in It||(yi=Si.def(Sr,".",dv,"-",Qt)),[Wt,Qt,Ur,yi]})}else if(mt in Xt){var de=Xt[mt],Re=ol(de,function(Er,Si){var Sr=Er.invoke(Si,de);it.optional(function(){Er.assert(Si,Sr+"&&typeof "+Sr+'==="object"',"invalid "+mt)});var Ur=Er.shared.context,yi=Si.def(Sr,".x|0"),fn=Si.def(Sr,".y|0"),io=Si.def('"width" in ',Sr,"?",Sr,".width|0:","(",Ur,".",jh,"-",yi,")"),El=Si.def('"height" in ',Sr,"?",Sr,".height|0:","(",Ur,".",dv,"-",fn,")");return it.optional(function(){Er.assert(Si,io+">=0&&"+El+">=0","invalid "+mt)}),[yi,fn,io,El]});return ht&&(Re.thisDep=Re.thisDep||ht.thisDep,Re.contextDep=Re.contextDep||ht.contextDep,Re.propDep=Re.propDep||ht.propDep),Re}else return ht?new Uo(ht.thisDep,ht.contextDep,ht.propDep,function(Er,Si){var Sr=Er.shared.context;return[0,0,Si.def(Sr,".",jh),Si.def(Sr,".",dv)]}):null}var Dt=Bt(Af);if(Dt){var jt=Dt;Dt=new Uo(Dt.thisDep,Dt.contextDep,Dt.propDep,function(mt,It){var yt=jt.append(mt,It),Wt=mt.shared.context;return It.set(Wt,"."+vA,yt[2]),It.set(Wt,"."+x1,yt[3]),yt})}return{viewport:Dt,scissor_box:Bt(zh)}}function Nt(bt,ht){var Pt=bt.static,qt=typeof Pt[hv]=="string"&&typeof Pt[Fp]=="string";if(qt){if(Object.keys(ht.dynamic).length>0)return null;var Xt=ht.static,Bt=Object.keys(Xt);if(Bt.length>0&&typeof Xt[Bt[0]]=="number"){for(var Dt=[],jt=0;jt<Bt.length;++jt)it(typeof Xt[Bt[jt]]=="number","must specify all vertex attribute locations when using vaos"),Dt.push([Xt[Bt[jt]]|0,Bt[jt]]);return Dt}}return null}function Vt(bt,ht,Pt){var qt=bt.static,Xt=bt.dynamic;function Bt(yt){if(yt in qt){var Wt=ct.id(qt[yt]);it.optional(function(){ke.shader(sS[yt],Wt,it.guessCommand())});var Qt=La(function(){return Wt});return Qt.id=Wt,Qt}else if(yt in Xt){var ge=Xt[yt];return ol(ge,function(ye,de){var Re=ye.invoke(de,ge),Er=de.def(ye.shared.strings,".id(",Re,")");return it.optional(function(){de(ye.shared.shader,".shader(",sS[yt],",",Er,",",ye.command,");")}),Er})}return null}var Dt=Bt(hv),jt=Bt(Fp),mt=null,It;return Tf(Dt)&&Tf(jt)?(mt=ke.program(jt.id,Dt.id,null,Pt),It=La(function(yt,Wt){return yt.link(mt)})):It=new Uo(Dt&&Dt.thisDep||jt&&jt.thisDep,Dt&&Dt.contextDep||jt&&jt.contextDep,Dt&&Dt.propDep||jt&&jt.propDep,function(yt,Wt){var Qt=yt.shared.shader,ge;Dt?ge=Dt.append(yt,Wt):ge=Wt.def(Qt,".",hv);var ye;jt?ye=jt.append(yt,Wt):ye=Wt.def(Qt,".",Fp);var de=Qt+".program("+ye+","+ge;return it.optional(function(){de+=","+yt.command}),Wt.def(de+")")}),{frag:Dt,vert:jt,progVar:It,program:mt}}function me(bt,ht){var Pt=bt.static,qt=bt.dynamic;function Xt(){if(Dc in Pt){var yt=Pt[Dc];xv(yt)?yt=ee.getElements(ee.create(yt,!0)):yt&&(yt=ee.getElements(yt),it.command(yt,"invalid elements",ht.commandStr));var Wt=La(function(ge,ye){if(yt){var de=ge.link(yt);return ge.ELEMENTS=de,de}return ge.ELEMENTS=null,null});return Wt.value=yt,Wt}else if(Dc in qt){var Qt=qt[Dc];return ol(Qt,function(ge,ye){var de=ge.shared,Re=de.isBufferArgs,Er=de.elements,Si=ge.invoke(ye,Qt),Sr=ye.def("null"),Ur=ye.def(Re,"(",Si,")"),yi=ge.cond(Ur).then(Sr,"=",Er,".createStream(",Si,");").else(Sr,"=",Er,".getElements(",Si,");");return it.optional(function(){ge.assert(yi.else,"!"+Si+"||"+Sr,"invalid elements")}),ye.entry(yi),ye.exit(ge.cond(Ur).then(Er,".destroyStream(",Sr,");")),ge.ELEMENTS=Sr,Sr})}return null}var Bt=Xt();function Dt(){if(Gu in Pt){var yt=Pt[Gu];return it.commandParameter(yt,$d,"invalid primitve",ht.commandStr),La(function(Qt,ge){return $d[yt]})}else if(Gu in qt){var Wt=qt[Gu];return ol(Wt,function(Qt,ge){var ye=Qt.constants.primTypes,de=Qt.invoke(ge,Wt);return it.optional(function(){Qt.assert(ge,de+" in "+ye,"invalid primitive, must be one of "+Object.keys($d))}),ge.def(ye,"[",de,"]")})}else if(Bt)return Tf(Bt)?Bt.value?La(function(Qt,ge){return ge.def(Qt.ELEMENTS,".primType")}):La(function(){return gA}):new Uo(Bt.thisDep,Bt.contextDep,Bt.propDep,function(Qt,ge){var ye=Qt.ELEMENTS;return ge.def(ye,"?",ye,".primType:",gA)});return null}function jt(yt,Wt){if(yt in Pt){var Qt=Pt[yt]|0;return it.command(!Wt||Qt>=0,"invalid "+yt,ht.commandStr),La(function(ye,de){return Wt&&(ye.OFFSET=Qt),Qt})}else if(yt in qt){var ge=qt[yt];return ol(ge,function(ye,de){var Re=ye.invoke(de,ge);return Wt&&(ye.OFFSET=Re,it.optional(function(){ye.assert(de,Re+">=0","invalid "+yt)})),Re})}else if(Wt&&Bt)return La(function(ye,de){return ye.OFFSET="0",0});return null}var mt=jt(Np,!0);function It(){if(Fc in Pt){var yt=Pt[Fc]|0;return it.command(typeof yt=="number"&&yt>=0,"invalid vertex count",ht.commandStr),La(function(){return yt})}else if(Fc in qt){var Wt=qt[Fc];return ol(Wt,function(ye,de){var Re=ye.invoke(de,Wt);return it.optional(function(){ye.assert(de,"typeof "+Re+'==="number"&&'+Re+">=0&&"+Re+"===("+Re+"|0)","invalid vertex count")}),Re})}else if(Bt)if(Tf(Bt)){if(Bt)return mt?new Uo(mt.thisDep,mt.contextDep,mt.propDep,function(ye,de){var Re=de.def(ye.ELEMENTS,".vertCount-",ye.OFFSET);return it.optional(function(){ye.assert(de,Re+">=0","invalid vertex offset/element buffer too small")}),Re}):La(function(ye,de){return de.def(ye.ELEMENTS,".vertCount")});var Qt=La(function(){return-1});return it.optional(function(){Qt.MISSING=!0}),Qt}else{var ge=new Uo(Bt.thisDep||mt.thisDep,Bt.contextDep||mt.contextDep,Bt.propDep||mt.propDep,function(ye,de){var Re=ye.ELEMENTS;return ye.OFFSET?de.def(Re,"?",Re,".vertCount-",ye.OFFSET,":-1"):de.def(Re,"?",Re,".vertCount:-1")});return it.optional(function(){ge.DYNAMIC=!0}),ge}return null}return{elements:Bt,primitive:Dt(),count:It(),instances:jt(ro,!1),offset:mt}}function Se(bt,ht){var Pt=bt.static,qt=bt.dynamic,Xt={};return Ce.forEach(function(Bt){var Dt=D(Bt);function jt(mt,It){if(Bt in Pt){var yt=mt(Pt[Bt]);Xt[Dt]=La(function(){return yt})}else if(Bt in qt){var Wt=qt[Bt];Xt[Dt]=ol(Wt,function(Qt,ge){return It(Qt,ge,Qt.invoke(ge,Wt))})}}switch(Bt){case As:case c1:case uA:case hA:case Ru:case m1:case fA:case cA:case Dp:case Gh:return jt(function(mt){return it.commandType(mt,"boolean",Bt,ht.commandStr),mt},function(mt,It,yt){return it.optional(function(){mt.assert(It,"typeof "+yt+'==="boolean"',"invalid flag "+Bt,mt.commandStr)}),yt});case d1:return jt(function(mt){return it.commandParameter(mt,Yu,"invalid "+Bt,ht.commandStr),Yu[mt]},function(mt,It,yt){var Wt=mt.constants.compareFuncs;return it.optional(function(){mt.assert(It,yt+" in "+Wt,"invalid "+Bt+", must be one of "+Object.keys(Yu))}),It.def(Wt,"[",yt,"]")});case Cy:return jt(function(mt){return it.command(wa(mt)&&mt.length===2&&typeof mt[0]=="number"&&typeof mt[1]=="number"&&mt[0]<=mt[1],"depth range is 2d array",ht.commandStr),mt},function(mt,It,yt){it.optional(function(){mt.assert(It,mt.shared.isArrayLike+"("+yt+")&&"+yt+".length===2&&typeof "+yt+'[0]==="number"&&typeof '+yt+'[1]==="number"&&'+yt+"[0]<="+yt+"[1]","depth range must be a 2d array")});var Wt=It.def("+",yt,"[0]"),Qt=It.def("+",yt,"[1]");return[Wt,Qt]});case h1:return jt(function(mt){it.commandType(mt,"object","blend.func",ht.commandStr);var It="srcRGB"in mt?mt.srcRGB:mt.src,yt="srcAlpha"in mt?mt.srcAlpha:mt.src,Wt="dstRGB"in mt?mt.dstRGB:mt.dst,Qt="dstAlpha"in mt?mt.dstAlpha:mt.dst;return it.commandParameter(It,ju,Dt+".srcRGB",ht.commandStr),it.commandParameter(yt,ju,Dt+".srcAlpha",ht.commandStr),it.commandParameter(Wt,ju,Dt+".dstRGB",ht.commandStr),it.commandParameter(Qt,ju,Dt+".dstAlpha",ht.commandStr),it.command(yv.indexOf(It+", "+Wt)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+It+", "+Wt+")",ht.commandStr),[ju[It],ju[Wt],ju[yt],ju[Qt]]},function(mt,It,yt){var Wt=mt.constants.blendFuncs;it.optional(function(){mt.assert(It,yt+"&&typeof "+yt+'==="object"',"invalid blend func, must be an object")});function Qt(Sr,Ur){var yi=It.def('"',Sr,Ur,'" in ',yt,"?",yt,".",Sr,Ur,":",yt,".",Sr);return it.optional(function(){mt.assert(It,yi+" in "+Wt,"invalid "+Bt+"."+Sr+Ur+", must be one of "+Object.keys(ju))}),yi}var ge=Qt("src","RGB"),ye=Qt("dst","RGB");it.optional(function(){var Sr=mt.constants.invalidBlendCombinations;mt.assert(It,Sr+".indexOf("+ge+'+", "+'+ye+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var de=It.def(Wt,"[",ge,"]"),Re=It.def(Wt,"[",Qt("src","Alpha"),"]"),Er=It.def(Wt,"[",ye,"]"),Si=It.def(Wt,"[",Qt("dst","Alpha"),"]");return[de,Er,Re,Si]});case Sy:return jt(function(mt){if(typeof mt=="string")return it.commandParameter(mt,fe,"invalid "+Bt,ht.commandStr),[fe[mt],fe[mt]];if(typeof mt=="object")return it.commandParameter(mt.rgb,fe,Bt+".rgb",ht.commandStr),it.commandParameter(mt.alpha,fe,Bt+".alpha",ht.commandStr),[fe[mt.rgb],fe[mt.alpha]];it.commandRaise("invalid blend.equation",ht.commandStr)},function(mt,It,yt){var Wt=mt.constants.blendEquations,Qt=It.def(),ge=It.def(),ye=mt.cond("typeof ",yt,'==="string"');return it.optional(function(){function de(Re,Er,Si){mt.assert(Re,Si+" in "+Wt,"invalid "+Er+", must be one of "+Object.keys(fe))}de(ye.then,Bt,yt),mt.assert(ye.else,yt+"&&typeof "+yt+'==="object"',"invalid "+Bt),de(ye.else,Bt+".rgb",yt+".rgb"),de(ye.else,Bt+".alpha",yt+".alpha")}),ye.then(Qt,"=",ge,"=",Wt,"[",yt,"];"),ye.else(Qt,"=",Wt,"[",yt,".rgb];",ge,"=",Wt,"[",yt,".alpha];"),It(ye),[Qt,ge]});case Ho:return jt(function(mt){return it.command(wa(mt)&&mt.length===4,"blend.color must be a 4d array",ht.commandStr),xa(4,function(It){return+mt[It]})},function(mt,It,yt){return it.optional(function(){mt.assert(It,mt.shared.isArrayLike+"("+yt+")&&"+yt+".length===4","blend.color must be a 4d array")}),xa(4,function(Wt){return It.def("+",yt,"[",Wt,"]")})});case dA:return jt(function(mt){return it.commandType(mt,"number",Dt,ht.commandStr),mt|0},function(mt,It,yt){return it.optional(function(){mt.assert(It,"typeof "+yt+'==="number"',"invalid stencil.mask")}),It.def(yt,"|0")});case Mf:return jt(function(mt){it.commandType(mt,"object",Dt,ht.commandStr);var It=mt.cmp||"keep",yt=mt.ref||0,Wt="mask"in mt?mt.mask:-1;return it.commandParameter(It,Yu,Bt+".cmp",ht.commandStr),it.commandType(yt,"number",Bt+".ref",ht.commandStr),it.commandType(Wt,"number",Bt+".mask",ht.commandStr),[Yu[It],yt,Wt]},function(mt,It,yt){var Wt=mt.constants.compareFuncs;it.optional(function(){function de(){mt.assert(It,Array.prototype.join.call(arguments,""),"invalid stencil.func")}de(yt+"&&typeof ",yt,'==="object"'),de('!("cmp" in ',yt,")||(",yt,".cmp in ",Wt,")")});var Qt=It.def('"cmp" in ',yt,"?",Wt,"[",yt,".cmp]",":",Uh),ge=It.def(yt,".ref|0"),ye=It.def('"mask" in ',yt,"?",yt,".mask|0:-1");return[Qt,ge,ye]});case $_:case Lt:return jt(function(mt){it.commandType(mt,"object",Dt,ht.commandStr);var It=mt.fail||"keep",yt=mt.zfail||"keep",Wt=mt.zpass||"keep";return it.commandParameter(It,Xh,Bt+".fail",ht.commandStr),it.commandParameter(yt,Xh,Bt+".zfail",ht.commandStr),it.commandParameter(Wt,Xh,Bt+".zpass",ht.commandStr),[Bt===Lt?Hh:Yp,Xh[It],Xh[yt],Xh[Wt]]},function(mt,It,yt){var Wt=mt.constants.stencilOps;it.optional(function(){mt.assert(It,yt+"&&typeof "+yt+'==="object"',"invalid "+Bt)});function Qt(ge){return it.optional(function(){mt.assert(It,'!("'+ge+'" in '+yt+")||("+yt+"."+ge+" in "+Wt+")","invalid "+Bt+"."+ge+", must be one of "+Object.keys(Xh))}),It.def('"',ge,'" in ',yt,"?",Wt,"[",yt,".",ge,"]:",Uh)}return[Bt===Lt?Hh:Yp,Qt("fail"),Qt("zfail"),Qt("zpass")]});case My:return jt(function(mt){it.commandType(mt,"object",Dt,ht.commandStr);var It=mt.factor|0,yt=mt.units|0;return it.commandType(It,"number",Dt+".factor",ht.commandStr),it.commandType(yt,"number",Dt+".units",ht.commandStr),[It,yt]},function(mt,It,yt){it.optional(function(){mt.assert(It,yt+"&&typeof "+yt+'==="object"',"invalid "+Bt)});var Wt=It.def(yt,".factor|0"),Qt=It.def(yt,".units|0");return[Wt,Qt]});case p1:return jt(function(mt){var It=0;return mt==="front"?It=Yp:mt==="back"&&(It=Hh),it.command(!!It,Dt,ht.commandStr),It},function(mt,It,yt){return it.optional(function(){mt.assert(It,yt+'==="front"||'+yt+'==="back"',"invalid cull.face")}),It.def(yt,'==="front"?',Yp,":",Hh)});case Q_:return jt(function(mt){return it.command(typeof mt=="number"&&mt>=ie.lineWidthDims[0]&&mt<=ie.lineWidthDims[1],"invalid line width, must be a positive number between "+ie.lineWidthDims[0]+" and "+ie.lineWidthDims[1],ht.commandStr),mt},function(mt,It,yt){return it.optional(function(){mt.assert(It,"typeof "+yt+'==="number"&&'+yt+">="+ie.lineWidthDims[0]+"&&"+yt+"<="+ie.lineWidthDims[1],"invalid line width")}),yt});case K_:return jt(function(mt){return it.commandParameter(mt,C1,Dt,ht.commandStr),C1[mt]},function(mt,It,yt){return it.optional(function(){mt.assert(It,yt+'==="cw"||'+yt+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),It.def(yt+'==="cw"?'+nS+":"+S1)});case v1:return jt(function(mt){return it.command(wa(mt)&&mt.length===4,"color.mask must be length 4 array",ht.commandStr),mt.map(function(It){return!!It})},function(mt,It,yt){return it.optional(function(){mt.assert(It,mt.shared.isArrayLike+"("+yt+")&&"+yt+".length===4","invalid color.mask")}),xa(4,function(Wt){return"!!"+yt+"["+Wt+"]"})});case g1:return jt(function(mt){it.command(typeof mt=="object"&&mt,Dt,ht.commandStr);var It="value"in mt?mt.value:1,yt=!!mt.invert;return it.command(typeof It=="number"&&It>=0&&It<=1,"sample.coverage.value must be a number between 0 and 1",ht.commandStr),[It,yt]},function(mt,It,yt){it.optional(function(){mt.assert(It,yt+"&&typeof "+yt+'==="object"',"invalid sample.coverage")});var Wt=It.def('"value" in ',yt,"?+",yt,".value:1"),Qt=It.def("!!",yt,".invert");return[Wt,Qt]})}}),Xt}function Ve(bt,ht){var Pt=bt.static,qt=bt.dynamic,Xt={};return Object.keys(Pt).forEach(function(Bt){var Dt=Pt[Bt],jt;if(typeof Dt=="number"||typeof Dt=="boolean")jt=La(function(){return Dt});else if(typeof Dt=="function"){var mt=Dt._reglType;mt==="texture2d"||mt==="textureCube"?jt=La(function(It){return It.link(Dt)}):mt==="framebuffer"||mt==="framebufferCube"?(it.command(Dt.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Bt+'"',ht.commandStr),jt=La(function(It){return It.link(Dt.color[0])})):it.commandRaise('invalid data for uniform "'+Bt+'"',ht.commandStr)}else wa(Dt)?jt=La(function(It){var yt=It.global.def("[",xa(Dt.length,function(Wt){return it.command(typeof Dt[Wt]=="number"||typeof Dt[Wt]=="boolean","invalid uniform "+Bt,It.commandStr),Dt[Wt]}),"]");return yt}):it.commandRaise('invalid or missing data for uniform "'+Bt+'"',ht.commandStr);jt.value=Dt,Xt[Bt]=jt}),Object.keys(qt).forEach(function(Bt){var Dt=qt[Bt];Xt[Bt]=ol(Dt,function(jt,mt){return jt.invoke(mt,Dt)})}),Xt}function De(bt,ht){var Pt=bt.static,qt=bt.dynamic,Xt={};return Object.keys(Pt).forEach(function(Bt){var Dt=Pt[Bt],jt=ct.id(Bt),mt=new Ut;if(xv(Dt))mt.state=vs,mt.buffer=ve.getBuffer(ve.create(Dt,Yh,!1,!0)),mt.type=0;else{var It=ve.getBuffer(Dt);if(It)mt.state=vs,mt.buffer=It,mt.type=0;else if(it.command(typeof Dt=="object"&&Dt,"invalid data for attribute "+Bt,ht.commandStr),"constant"in Dt){var yt=Dt.constant;mt.buffer="null",mt.state=l1,typeof yt=="number"?mt.x=yt:(it.command(wa(yt)&&yt.length>0&&yt.length<=4,"invalid constant for attribute "+Bt,ht.commandStr),Cf.forEach(function(Er,Si){Si<yt.length&&(mt[Er]=yt[Si])}))}else{xv(Dt.buffer)?It=ve.getBuffer(ve.create(Dt.buffer,Yh,!1,!0)):It=ve.getBuffer(Dt.buffer),it.command(!!It,'missing buffer for attribute "'+Bt+'"',ht.commandStr);var Wt=Dt.offset|0;it.command(Wt>=0,'invalid offset for attribute "'+Bt+'"',ht.commandStr);var Qt=Dt.stride|0;it.command(Qt>=0&&Qt<256,'invalid stride for attribute "'+Bt+'", must be integer betweeen [0, 255]',ht.commandStr);var ge=Dt.size|0;it.command(!("size"in Dt)||ge>0&&ge<=4,'invalid size for attribute "'+Bt+'", must be 1,2,3,4',ht.commandStr);var ye=!!Dt.normalized,de=0;"type"in Dt&&(it.commandParameter(Dt.type,_l,"invalid type for attribute "+Bt,ht.commandStr),de=_l[Dt.type]);var Re=Dt.divisor|0;"divisor"in Dt&&(it.command(Re===0||Ee,'cannot specify divisor for attribute "'+Bt+'", instancing not supported',ht.commandStr),it.command(Re>=0,'invalid divisor for attribute "'+Bt+'"',ht.commandStr)),it.optional(function(){var Er=ht.commandStr,Si=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Dt).forEach(function(Sr){it.command(Si.indexOf(Sr)>=0,'unknown parameter "'+Sr+'" for attribute pointer "'+Bt+'" (valid parameters are '+Si+")",Er)})}),mt.buffer=It,mt.state=vs,mt.size=ge,mt.normalized=ye,mt.type=de||It.dtype,mt.offset=Wt,mt.stride=Qt,mt.divisor=Re}}Xt[Bt]=La(function(Er,Si){var Sr=Er.attribCache;if(jt in Sr)return Sr[jt];var Ur={isStream:!1};return Object.keys(mt).forEach(function(yi){Ur[yi]=mt[yi]}),mt.buffer&&(Ur.buffer=Er.link(mt.buffer),Ur.type=Ur.type||Ur.buffer+".dtype"),Sr[jt]=Ur,Ur})}),Object.keys(qt).forEach(function(Bt){var Dt=qt[Bt];function jt(mt,It){var yt=mt.invoke(It,Dt),Wt=mt.shared,Qt=mt.constants,ge=Wt.isBufferArgs,ye=Wt.buffer;it.optional(function(){mt.assert(It,yt+"&&(typeof "+yt+'==="object"||typeof '+yt+'==="function")&&('+ge+"("+yt+")||"+ye+".getBuffer("+yt+")||"+ye+".getBuffer("+yt+".buffer)||"+ge+"("+yt+'.buffer)||("constant" in '+yt+"&&(typeof "+yt+'.constant==="number"||'+Wt.isArrayLike+"("+yt+".constant))))",'invalid dynamic attribute "'+Bt+'"')});var de={isStream:It.def(!1)},Re=new Ut;Re.state=vs,Object.keys(Re).forEach(function(Ur){de[Ur]=It.def(""+Re[Ur])});var Er=de.buffer,Si=de.type;It("if(",ge,"(",yt,")){",de.isStream,"=true;",Er,"=",ye,".createStream(",Yh,",",yt,");",Si,"=",Er,".dtype;","}else{",Er,"=",ye,".getBuffer(",yt,");","if(",Er,"){",Si,"=",Er,".dtype;",'}else if("constant" in ',yt,"){",de.state,"=",l1,";","if(typeof "+yt+'.constant === "number"){',de[Cf[0]],"=",yt,".constant;",Cf.slice(1).map(function(Ur){return de[Ur]}).join("="),"=0;","}else{",Cf.map(function(Ur,yi){return de[Ur]+"="+yt+".constant.length>"+yi+"?"+yt+".constant["+yi+"]:0;"}).join(""),"}}else{","if(",ge,"(",yt,".buffer)){",Er,"=",ye,".createStream(",Yh,",",yt,".buffer);","}else{",Er,"=",ye,".getBuffer(",yt,".buffer);","}",Si,'="type" in ',yt,"?",Qt.glTypes,"[",yt,".type]:",Er,".dtype;",de.normalized,"=!!",yt,".normalized;");function Sr(Ur){It(de[Ur],"=",yt,".",Ur,"|0;")}return Sr("size"),Sr("offset"),Sr("stride"),Sr("divisor"),It("}}"),It.exit("if(",de.isStream,"){",ye,".destroyStream(",Er,");","}"),de}Xt[Bt]=ol(Dt,jt)}),Xt}function pr(bt,ht){var Pt=bt.static,qt=bt.dynamic;if(Nc in Pt){var Xt=Pt[Nc];return Xt!==null&&Be.getVAO(Xt)===null&&(Xt=Be.createVAO(Xt)),La(function(Dt){return Dt.link(Be.getVAO(Xt))})}else if(Nc in qt){var Bt=qt[Nc];return ol(Bt,function(Dt,jt){var mt=Dt.invoke(jt,Bt);return jt.def(Dt.shared.vao+".getVAO("+mt+")")})}return null}function Cr(bt){var ht=bt.static,Pt=bt.dynamic,qt={};return Object.keys(ht).forEach(function(Xt){var Bt=ht[Xt];qt[Xt]=La(function(Dt,jt){return typeof Bt=="number"||typeof Bt=="boolean"?""+Bt:Dt.link(Bt)})}),Object.keys(Pt).forEach(function(Xt){var Bt=Pt[Xt];qt[Xt]=ol(Bt,function(Dt,jt){return Dt.invoke(jt,Bt)})}),qt}function Zr(bt,ht,Pt,qt,Xt){var Bt=bt.static,Dt=bt.dynamic;it.optional(function(){var Sr=[cv,Fp,hv,Dc,Gu,Np,Fc,ro,Ay,Nc].concat(Ce);function Ur(yi){Object.keys(yi).forEach(function(fn){it.command(Sr.indexOf(fn)>=0,'unknown parameter "'+fn+'"',Xt.commandStr)})}Ur(Bt),Ur(Dt)});var jt=Nt(bt,ht),mt=gt(bt,Xt),It=St(bt,mt,Xt),yt=me(bt,Xt),Wt=Se(bt,Xt),Qt=Vt(bt,Xt,jt);function ge(Sr){var Ur=It[Sr];Ur&&(Wt[Sr]=Ur)}ge(Af),ge(D(zh));var ye=Object.keys(Wt).length>0,de={framebuffer:mt,draw:yt,shader:Qt,state:Wt,dirty:ye,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(de.profile=vt(bt,Xt),de.uniforms=Ve(Pt,Xt),de.drawVAO=de.scopeVAO=pr(bt,Xt),!de.drawVAO&&Qt.program&&!jt&&Ct.angle_instanced_arrays){var Re=!0,Er=Qt.program.attributes.map(function(Sr){var Ur=ht.static[Sr];return Re=Re&&!!Ur,Ur});if(Re&&Er.length>0){var Si=Be.getVAO(Be.createVAO(Er));de.drawVAO=new Uo(null,null,null,function(Sr,Ur){return Sr.link(Si)}),de.useVAO=!0}}return jt?de.useVAO=!0:de.attributes=De(ht,Xt),de.context=Cr(qt,Xt),de}function fi(bt,ht,Pt){var qt=bt.shared,Xt=qt.context,Bt=bt.scope();Object.keys(Pt).forEach(function(Dt){ht.save(Xt,"."+Dt);var jt=Pt[Dt],mt=jt.append(bt,ht);Array.isArray(mt)?Bt(Xt,".",Dt,"=[",mt.join(),"];"):Bt(Xt,".",Dt,"=",mt,";")}),ht(Bt)}function Pi(bt,ht,Pt,qt){var Xt=bt.shared,Bt=Xt.gl,Dt=Xt.framebuffer,jt;He&&(jt=ht.def(Xt.extensions,".webgl_draw_buffers"));var mt=bt.constants,It=mt.drawBuffer,yt=mt.backBuffer,Wt;Pt?Wt=Pt.append(bt,ht):Wt=ht.def(Dt,".next"),qt||ht("if(",Wt,"!==",Dt,".cur){"),ht("if(",Wt,"){",Bt,".bindFramebuffer(",oS,",",Wt,".framebuffer);"),He&&ht(jt,".drawBuffersWEBGL(",It,"[",Wt,".colorAttachments.length]);"),ht("}else{",Bt,".bindFramebuffer(",oS,",null);"),He&&ht(jt,".drawBuffersWEBGL(",yt,");"),ht("}",Dt,".cur=",Wt,";"),qt||ht("}")}function dn(bt,ht,Pt){var qt=bt.shared,Xt=qt.gl,Bt=bt.current,Dt=bt.next,jt=qt.current,mt=qt.next,It=bt.cond(jt,".dirty");Ce.forEach(function(yt){var Wt=D(yt);if(!(Wt in Pt.state)){var Qt,ge;if(Wt in Dt){Qt=Dt[Wt],ge=Bt[Wt];var ye=xa(xe[Wt].length,function(Re){return It.def(Qt,"[",Re,"]")});It(bt.cond(ye.map(function(Re,Er){return Re+"!=="+ge+"["+Er+"]"}).join("||")).then(Xt,".",L[Wt],"(",ye,");",ye.map(function(Re,Er){return ge+"["+Er+"]="+Re}).join(";"),";"))}else{Qt=It.def(mt,".",Wt);var de=bt.cond(Qt,"!==",jt,".",Wt);It(de),Wt in C?de(bt.cond(Qt).then(Xt,".enable(",C[Wt],");").else(Xt,".disable(",C[Wt],");"),jt,".",Wt,"=",Qt,";"):de(Xt,".",L[Wt],"(",Qt,");",jt,".",Wt,"=",Qt,";")}}}),Object.keys(Pt.state).length===0&&It(jt,".dirty=false;"),ht(It)}function yn(bt,ht,Pt,qt){var Xt=bt.shared,Bt=bt.current,Dt=Xt.current,jt=Xt.gl;lS(Object.keys(Pt)).forEach(function(mt){var It=Pt[mt];if(!(qt&&!qt(It))){var yt=It.append(bt,ht);if(C[mt]){var Wt=C[mt];Tf(It)?yt?ht(jt,".enable(",Wt,");"):ht(jt,".disable(",Wt,");"):ht(bt.cond(yt).then(jt,".enable(",Wt,");").else(jt,".disable(",Wt,");")),ht(Dt,".",mt,"=",yt,";")}else if(wa(yt)){var Qt=Bt[mt];ht(jt,".",L[mt],"(",yt,");",yt.map(function(ge,ye){return Qt+"["+ye+"]="+ge}).join(";"),";")}else ht(jt,".",L[mt],"(",yt,");",Dt,".",mt,"=",yt,";")}})}function Kr(bt,ht){Ee&&(bt.instancing=ht.def(bt.shared.extensions,".angle_instanced_arrays"))}function $r(bt,ht,Pt,qt,Xt){var Bt=bt.shared,Dt=bt.stats,jt=Bt.current,mt=Bt.timer,It=Pt.profile;function yt(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var Wt,Qt;function ge(Sr){Wt=ht.def(),Sr(Wt,"=",yt(),";"),typeof Xt=="string"?Sr(Dt,".count+=",Xt,";"):Sr(Dt,".count++;"),Ie&&(qt?(Qt=ht.def(),Sr(Qt,"=",mt,".getNumPendingQueries();")):Sr(mt,".beginQuery(",Dt,");"))}function ye(Sr){Sr(Dt,".cpuTime+=",yt(),"-",Wt,";"),Ie&&(qt?Sr(mt,".pushScopeStats(",Qt,",",mt,".getNumPendingQueries(),",Dt,");"):Sr(mt,".endQuery();"))}function de(Sr){var Ur=ht.def(jt,".profile");ht(jt,".profile=",Sr,";"),ht.exit(jt,".profile=",Ur,";")}var Re;if(It){if(Tf(It)){It.enable?(ge(ht),ye(ht.exit),de("true")):de("false");return}Re=It.append(bt,ht),de(Re)}else Re=ht.def(jt,".profile");var Er=bt.block();ge(Er),ht("if(",Re,"){",Er,"}");var Si=bt.block();ye(Si),ht.exit("if(",Re,"){",Si,"}")}function _a(bt,ht,Pt,qt,Xt){var Bt=bt.shared;function Dt(mt){switch(mt){case Rp:case pv:case su:return 2;case Ly:case Gp:case Oy:return 3;case Wh:case zp:case lu:return 4;default:return 1}}function jt(mt,It,yt){var Wt=Bt.gl,Qt=ht.def(mt,".location"),ge=ht.def(Bt.attributes,"[",Qt,"]"),ye=yt.state,de=yt.buffer,Re=[yt.x,yt.y,yt.z,yt.w],Er=["buffer","normalized","offset","stride"];function Si(){ht("if(!",ge,".buffer){",Wt,".enableVertexAttribArray(",Qt,");}");var Ur=yt.type,yi;if(yt.size?yi=ht.def(yt.size,"||",It):yi=It,ht("if(",ge,".type!==",Ur,"||",ge,".size!==",yi,"||",Er.map(function(io){return ge+"."+io+"!=="+yt[io]}).join("||"),"){",Wt,".bindBuffer(",Yh,",",de,".buffer);",Wt,".vertexAttribPointer(",[Qt,yi,Ur,yt.normalized,yt.stride,yt.offset],");",ge,".type=",Ur,";",ge,".size=",yi,";",Er.map(function(io){return ge+"."+io+"="+yt[io]+";"}).join(""),"}"),Ee){var fn=yt.divisor;ht("if(",ge,".divisor!==",fn,"){",bt.instancing,".vertexAttribDivisorANGLE(",[Qt,fn],");",ge,".divisor=",fn,";}")}}function Sr(){ht("if(",ge,".buffer){",Wt,".disableVertexAttribArray(",Qt,");",ge,".buffer=null;","}if(",Cf.map(function(Ur,yi){return ge+"."+Ur+"!=="+Re[yi]}).join("||"),"){",Wt,".vertexAttrib4f(",Qt,",",Re,");",Cf.map(function(Ur,yi){return ge+"."+Ur+"="+Re[yi]+";"}).join(""),"}")}ye===vs?Si():ye===l1?Sr():(ht("if(",ye,"===",vs,"){"),Si(),ht("}else{"),Sr(),ht("}"))}qt.forEach(function(mt){var It=mt.name,yt=Pt.attributes[It],Wt;if(yt){if(!Xt(yt))return;Wt=yt.append(bt,ht)}else{if(!Xt(uS))return;var Qt=bt.scopeAttrib(It);it.optional(function(){bt.assert(ht,Qt+".state","missing attribute "+It)}),Wt={},Object.keys(new Ut).forEach(function(ge){Wt[ge]=ht.def(Qt,".",ge)})}jt(bt.link(mt),Dt(mt.info.type),Wt)})}function Ki(bt,ht,Pt,qt,Xt){for(var Bt=bt.shared,Dt=Bt.gl,jt,mt=0;mt<qt.length;++mt){var It=qt[mt],yt=It.name,Wt=It.info.type,Qt=Pt.uniforms[yt],ge=bt.link(It),ye=ge+".location",de;if(Qt){if(!Xt(Qt))continue;if(Tf(Qt)){var Re=Qt.value;if(it.command(Re!==null&&typeof Re!="undefined",'missing uniform "'+yt+'"',bt.commandStr),Wt===ky||Wt===Py){it.command(typeof Re=="function"&&(Wt===ky&&(Re._reglType==="texture2d"||Re._reglType==="framebuffer")||Wt===Py&&(Re._reglType==="textureCube"||Re._reglType==="framebufferCube")),"invalid texture for uniform "+yt,bt.commandStr);var Er=bt.link(Re._texture||Re.color[0]._texture);ht(Dt,".uniform1i(",ye,",",Er+".bind());"),ht.exit(Er,".unbind();")}else if(Wt===Vh||Wt===qh||Wt===gv){it.optional(function(){it.command(wa(Re),"invalid matrix for uniform "+yt,bt.commandStr),it.command(Wt===Vh&&Re.length===4||Wt===qh&&Re.length===9||Wt===gv&&Re.length===16,"invalid length for matrix uniform "+yt,bt.commandStr)});var Si=bt.global.def("new Float32Array(["+Array.prototype.slice.call(Re)+"])"),Sr=2;Wt===qh?Sr=3:Wt===gv&&(Sr=4),ht(Dt,".uniformMatrix",Sr,"fv(",ye,",false,",Si,");")}else{switch(Wt){case zu:it.commandType(Re,"number","uniform "+yt,bt.commandStr),jt="1f";break;case Rp:it.command(wa(Re)&&Re.length===2,"uniform "+yt,bt.commandStr),jt="2f";break;case Ly:it.command(wa(Re)&&Re.length===3,"uniform "+yt,bt.commandStr),jt="3f";break;case Wh:it.command(wa(Re)&&Re.length===4,"uniform "+yt,bt.commandStr),jt="4f";break;case jp:it.commandType(Re,"boolean","uniform "+yt,bt.commandStr),jt="1i";break;case _1:it.commandType(Re,"number","uniform "+yt,bt.commandStr),jt="1i";break;case su:it.command(wa(Re)&&Re.length===2,"uniform "+yt,bt.commandStr),jt="2i";break;case pv:it.command(wa(Re)&&Re.length===2,"uniform "+yt,bt.commandStr),jt="2i";break;case Oy:it.command(wa(Re)&&Re.length===3,"uniform "+yt,bt.commandStr),jt="3i";break;case Gp:it.command(wa(Re)&&Re.length===3,"uniform "+yt,bt.commandStr),jt="3i";break;case lu:it.command(wa(Re)&&Re.length===4,"uniform "+yt,bt.commandStr),jt="4i";break;case zp:it.command(wa(Re)&&Re.length===4,"uniform "+yt,bt.commandStr),jt="4i";break}ht(Dt,".uniform",jt,"(",ye,",",wa(Re)?Array.prototype.slice.call(Re):Re,");")}continue}else de=Qt.append(bt,ht)}else{if(!Xt(uS))continue;de=ht.def(Bt.uniforms,"[",ct.id(yt),"]")}Wt===ky?(it(!Array.isArray(de),"must specify a scalar prop for textures"),ht("if(",de,"&&",de,'._reglType==="framebuffer"){',de,"=",de,".color[0];","}")):Wt===Py&&(it(!Array.isArray(de),"must specify a scalar prop for cube maps"),ht("if(",de,"&&",de,'._reglType==="framebufferCube"){',de,"=",de,".color[0];","}")),it.optional(function(){function El(Rc,TB){bt.assert(ht,Rc,'bad data or missing for uniform "'+yt+'".  '+TB)}function mO(Rc){it(!Array.isArray(de),"must not specify an array type for uniform"),El("typeof "+de+'==="'+Rc+'"',"invalid type, expected "+Rc)}function If(Rc,TB){Array.isArray(de)?it(de.length===Rc,"must have length "+Rc):El(Bt.isArrayLike+"("+de+")&&"+de+".length==="+Rc,"invalid vector, should have length "+Rc,bt.commandStr)}function EB(Rc){it(!Array.isArray(de),"must not specify a value type"),El("typeof "+de+'==="function"&&'+de+'._reglType==="texture'+(Rc===Bp?"2d":"Cube")+'"',"invalid texture type",bt.commandStr)}switch(Wt){case _1:mO("number");break;case pv:If(2,"number");break;case Gp:If(3,"number");break;case zp:If(4,"number");break;case zu:mO("number");break;case Rp:If(2,"number");break;case Ly:If(3,"number");break;case Wh:If(4,"number");break;case jp:mO("boolean");break;case su:If(2,"boolean");break;case Oy:If(3,"boolean");break;case lu:If(4,"boolean");break;case Vh:If(4,"number");break;case qh:If(9,"number");break;case gv:If(16,"number");break;case ky:EB(Bp);break;case Py:EB(pA);break}});var Ur=1;switch(Wt){case ky:case Py:var yi=ht.def(de,"._texture");ht(Dt,".uniform1i(",ye,",",yi,".bind());"),ht.exit(yi,".unbind();");continue;case _1:case jp:jt="1i";break;case pv:case su:jt="2i",Ur=2;break;case Gp:case Oy:jt="3i",Ur=3;break;case zp:case lu:jt="4i",Ur=4;break;case zu:jt="1f";break;case Rp:jt="2f",Ur=2;break;case Ly:jt="3f",Ur=3;break;case Wh:jt="4f",Ur=4;break;case Vh:jt="Matrix2fv";break;case qh:jt="Matrix3fv";break;case gv:jt="Matrix4fv";break}if(ht(Dt,".uniform",jt,"(",ye,","),jt.charAt(0)==="M"){var fn=Math.pow(Wt-Vh+2,2),io=bt.global.def("new Float32Array(",fn,")");Array.isArray(de)?ht("false,(",xa(fn,function(El){return io+"["+El+"]="+de[El]}),",",io,")"):ht("false,(Array.isArray(",de,")||",de," instanceof Float32Array)?",de,":(",xa(fn,function(El){return io+"["+El+"]="+de+"["+El+"]"}),",",io,")")}else Ur>1?ht(xa(Ur,function(El){return Array.isArray(de)?de[El]:de+"["+El+"]"})):(it(!Array.isArray(de),"uniform value must not be an array"),ht(de));ht(");")}}function Gr(bt,ht,Pt,qt){var Xt=bt.shared,Bt=Xt.gl,Dt=Xt.draw,jt=qt.draw;function mt(){var yi=jt.elements,fn,io=ht;return yi?((yi.contextDep&&qt.contextDynamic||yi.propDep)&&(io=Pt),fn=yi.append(bt,io)):fn=io.def(Dt,".",Dc),fn&&io("if("+fn+")"+Bt+".bindBuffer("+Zi+","+fn+".buffer.buffer);"),fn}function It(){var yi=jt.count,fn,io=ht;return yi?((yi.contextDep&&qt.contextDynamic||yi.propDep)&&(io=Pt),fn=yi.append(bt,io),it.optional(function(){yi.MISSING&&bt.assert(ht,"false","missing vertex count"),yi.DYNAMIC&&bt.assert(io,fn+">=0","missing vertex count")})):(fn=io.def(Dt,".",Fc),it.optional(function(){bt.assert(io,fn+">=0","missing vertex count")})),fn}var yt=mt();function Wt(yi){var fn=jt[yi];return fn?fn.contextDep&&qt.contextDynamic||fn.propDep?fn.append(bt,Pt):fn.append(bt,ht):ht.def(Dt,".",yi)}var Qt=Wt(Gu),ge=Wt(Np),ye=It();if(typeof ye=="number"){if(ye===0)return}else Pt("if(",ye,"){"),Pt.exit("}");var de,Re;Ee&&(de=Wt(ro),Re=bt.instancing);var Er=yt+".type",Si=jt.elements&&Tf(jt.elements);function Sr(){function yi(){Pt(Re,".drawElementsInstancedANGLE(",[Qt,ye,Er,ge+"<<(("+Er+"-"+Rh+")>>1)",de],");")}function fn(){Pt(Re,".drawArraysInstancedANGLE(",[Qt,ge,ye,de],");")}yt?Si?yi():(Pt("if(",yt,"){"),yi(),Pt("}else{"),fn(),Pt("}")):fn()}function Ur(){function yi(){Pt(Bt+".drawElements("+[Qt,ye,Er,ge+"<<(("+Er+"-"+Rh+")>>1)"]+");")}function fn(){Pt(Bt+".drawArrays("+[Qt,ge,ye]+");")}yt?Si?yi():(Pt("if(",yt,"){"),yi(),Pt("}else{"),fn(),Pt("}")):fn()}Ee&&(typeof de!="number"||de>=0)?typeof de=="string"?(Pt("if(",de,">0){"),Sr(),Pt("}else if(",de,"<0){"),Ur(),Pt("}")):Sr():Ur()}function jr(bt,ht,Pt,qt,Xt){var Bt=rt(),Dt=Bt.proc("body",Xt);return it.optional(function(){Bt.commandStr=ht.commandStr,Bt.command=Bt.link(ht.commandStr)}),Ee&&(Bt.instancing=Dt.def(Bt.shared.extensions,".angle_instanced_arrays")),bt(Bt,Dt,Pt,qt),Bt.compile().body}function Di(bt,ht,Pt,qt){Kr(bt,ht),Pt.useVAO?Pt.drawVAO?ht(bt.shared.vao,".setVAO(",Pt.drawVAO.append(bt,ht),");"):ht(bt.shared.vao,".setVAO(",bt.shared.vao,".targetVAO);"):(ht(bt.shared.vao,".setVAO(null);"),_a(bt,ht,Pt,qt.attributes,function(){return!0})),Ki(bt,ht,Pt,qt.uniforms,function(){return!0}),Gr(bt,ht,ht,Pt)}function Sa(bt,ht){var Pt=bt.proc("draw",1);Kr(bt,Pt),fi(bt,Pt,ht.context),Pi(bt,Pt,ht.framebuffer),dn(bt,Pt,ht),yn(bt,Pt,ht.state),$r(bt,Pt,ht,!1,!0);var qt=ht.shader.progVar.append(bt,Pt);if(Pt(bt.shared.gl,".useProgram(",qt,".program);"),ht.shader.program)Di(bt,Pt,ht,ht.shader.program);else{Pt(bt.shared.vao,".setVAO(null);");var Xt=bt.global.def("{}"),Bt=Pt.def(qt,".id"),Dt=Pt.def(Xt,"[",Bt,"]");Pt(bt.cond(Dt).then(Dt,".call(this,a0);").else(Dt,"=",Xt,"[",Bt,"]=",bt.link(function(jt){return jr(Di,bt,ht,jt,1)}),"(",qt,");",Dt,".call(this,a0);"))}Object.keys(ht.state).length>0&&Pt(bt.shared.current,".dirty=true;")}function Vu(bt,ht,Pt,qt){bt.batchId="a1",Kr(bt,ht);function Xt(){return!0}_a(bt,ht,Pt,qt.attributes,Xt),Ki(bt,ht,Pt,qt.uniforms,Xt),Gr(bt,ht,ht,Pt)}function Dy(bt,ht,Pt,qt){Kr(bt,ht);var Xt=Pt.contextDep,Bt=ht.def(),Dt="a0",jt="a1",mt=ht.def();bt.shared.props=mt,bt.batchId=Bt;var It=bt.scope(),yt=bt.scope();ht(It.entry,"for(",Bt,"=0;",Bt,"<",jt,";++",Bt,"){",mt,"=",Dt,"[",Bt,"];",yt,"}",It.exit);function Wt(Er){return Er.contextDep&&Xt||Er.propDep}function Qt(Er){return!Wt(Er)}if(Pt.needsContext&&fi(bt,yt,Pt.context),Pt.needsFramebuffer&&Pi(bt,yt,Pt.framebuffer),yn(bt,yt,Pt.state,Wt),Pt.profile&&Wt(Pt.profile)&&$r(bt,yt,Pt,!1,!0),qt)Pt.useVAO?Pt.drawVAO?Wt(Pt.drawVAO)?yt(bt.shared.vao,".setVAO(",Pt.drawVAO.append(bt,yt),");"):It(bt.shared.vao,".setVAO(",Pt.drawVAO.append(bt,It),");"):It(bt.shared.vao,".setVAO(",bt.shared.vao,".targetVAO);"):(It(bt.shared.vao,".setVAO(null);"),_a(bt,It,Pt,qt.attributes,Qt),_a(bt,yt,Pt,qt.attributes,Wt)),Ki(bt,It,Pt,qt.uniforms,Qt),Ki(bt,yt,Pt,qt.uniforms,Wt),Gr(bt,It,yt,Pt);else{var ge=bt.global.def("{}"),ye=Pt.shader.progVar.append(bt,yt),de=yt.def(ye,".id"),Re=yt.def(ge,"[",de,"]");yt(bt.shared.gl,".useProgram(",ye,".program);","if(!",Re,"){",Re,"=",ge,"[",de,"]=",bt.link(function(Er){return jr(Vu,bt,Pt,Er,2)}),"(",ye,");}",Re,".call(this,a0[",Bt,"],",Bt,");")}}function wt(bt,ht){var Pt=bt.proc("batch",2);bt.batchId="0",Kr(bt,Pt);var qt=!1,Xt=!0;Object.keys(ht.context).forEach(function(ge){qt=qt||ht.context[ge].propDep}),qt||(fi(bt,Pt,ht.context),Xt=!1);var Bt=ht.framebuffer,Dt=!1;Bt?(Bt.propDep?qt=Dt=!0:Bt.contextDep&&qt&&(Dt=!0),Dt||Pi(bt,Pt,Bt)):Pi(bt,Pt,null),ht.state.viewport&&ht.state.viewport.propDep&&(qt=!0);function jt(ge){return ge.contextDep&&qt||ge.propDep}dn(bt,Pt,ht),yn(bt,Pt,ht.state,function(ge){return!jt(ge)}),(!ht.profile||!jt(ht.profile))&&$r(bt,Pt,ht,!1,"a1"),ht.contextDep=qt,ht.needsContext=Xt,ht.needsFramebuffer=Dt;var mt=ht.shader.progVar;if(mt.contextDep&&qt||mt.propDep)Dy(bt,Pt,ht,null);else{var It=mt.append(bt,Pt);if(Pt(bt.shared.gl,".useProgram(",It,".program);"),ht.shader.program)Dy(bt,Pt,ht,ht.shader.program);else{Pt(bt.shared.vao,".setVAO(null);");var yt=bt.global.def("{}"),Wt=Pt.def(It,".id"),Qt=Pt.def(yt,"[",Wt,"]");Pt(bt.cond(Qt).then(Qt,".call(this,a0,a1);").else(Qt,"=",yt,"[",Wt,"]=",bt.link(function(ge){return jr(Dy,bt,ht,ge,2)}),"(",It,");",Qt,".call(this,a0,a1);"))}}Object.keys(ht.state).length>0&&Pt(bt.shared.current,".dirty=true;")}function ae(bt,ht){var Pt=bt.proc("scope",3);bt.batchId="a2";var qt=bt.shared,Xt=qt.current;fi(bt,Pt,ht.context),ht.framebuffer&&ht.framebuffer.append(bt,Pt),lS(Object.keys(ht.state)).forEach(function(Dt){var jt=ht.state[Dt],mt=jt.append(bt,Pt);wa(mt)?mt.forEach(function(It,yt){Pt.set(bt.next[Dt],"["+yt+"]",It)}):Pt.set(qt.next,"."+Dt,mt)}),$r(bt,Pt,ht,!0,!0),[Dc,Np,Fc,ro,Gu].forEach(function(Dt){var jt=ht.draw[Dt];!jt||Pt.set(qt.draw,"."+Dt,""+jt.append(bt,Pt))}),Object.keys(ht.uniforms).forEach(function(Dt){var jt=ht.uniforms[Dt].append(bt,Pt);Array.isArray(jt)&&(jt="["+jt.join()+"]"),Pt.set(qt.uniforms,"["+ct.id(Dt)+"]",jt)}),Object.keys(ht.attributes).forEach(function(Dt){var jt=ht.attributes[Dt].append(bt,Pt),mt=bt.scopeAttrib(Dt);Object.keys(new Ut).forEach(function(It){Pt.set(mt,"."+It,jt[It])})}),ht.scopeVAO&&Pt.set(qt.vao,".targetVAO",ht.scopeVAO.append(bt,Pt));function Bt(Dt){var jt=ht.shader[Dt];jt&&Pt.set(qt.shader,"."+Dt,jt.append(bt,Pt))}Bt(Fp),Bt(hv),Object.keys(ht.state).length>0&&(Pt(Xt,".dirty=true;"),Pt.exit(Xt,".dirty=true;")),Pt("a1(",bt.shared.context,",a0,",bt.batchId,");")}function Jt(bt){if(!(typeof bt!="object"||wa(bt))){for(var ht=Object.keys(bt),Pt=0;Pt<ht.length;++Pt)if(Xr.isDynamic(bt[ht[Pt]]))return!0;return!1}}function gr(bt,ht,Pt){var qt=ht.static[Pt];if(!qt||!Jt(qt))return;var Xt=bt.global,Bt=Object.keys(qt),Dt=!1,jt=!1,mt=!1,It=bt.global.def("{}");Bt.forEach(function(Wt){var Qt=qt[Wt];if(Xr.isDynamic(Qt)){typeof Qt=="function"&&(Qt=qt[Wt]=Xr.unbox(Qt));var ge=ol(Qt,null);Dt=Dt||ge.thisDep,mt=mt||ge.propDep,jt=jt||ge.contextDep}else{switch(Xt(It,".",Wt,"="),typeof Qt){case"number":Xt(Qt);break;case"string":Xt('"',Qt,'"');break;case"object":Array.isArray(Qt)&&Xt("[",Qt.join(),"]");break;default:Xt(bt.link(Qt));break}Xt(";")}});function yt(Wt,Qt){Bt.forEach(function(ge){var ye=qt[ge];if(!!Xr.isDynamic(ye)){var de=Wt.invoke(Qt,ye);Qt(It,".",ge,"=",de,";")}})}ht.dynamic[Pt]=new Xr.DynamicVariable(wy,{thisDep:Dt,contextDep:jt,propDep:mt,ref:It,append:yt}),delete ht.static[Pt]}function Fi(bt,ht,Pt,qt,Xt){var Bt=rt();Bt.stats=Bt.link(Xt),Object.keys(ht.static).forEach(function(jt){gr(Bt,ht,jt)}),cO.forEach(function(jt){gr(Bt,bt,jt)});var Dt=Zr(bt,ht,Pt,qt,Bt);return Sa(Bt,Dt),ae(Bt,Dt),wt(Bt,Dt),e(Bt.compile(),{destroy:function(){Dt.shader.program.destroy()}})}return{next:hr,current:xe,procs:function(){var bt=rt(),ht=bt.proc("poll"),Pt=bt.proc("refresh"),qt=bt.block();ht(qt),Pt(qt);var Xt=bt.shared,Bt=Xt.gl,Dt=Xt.next,jt=Xt.current;qt(jt,".dirty=false;"),Pi(bt,ht),Pi(bt,Pt,null,!0);var mt;Ee&&(mt=bt.link(Ee)),Ct.oes_vertex_array_object&&Pt(bt.link(Ct.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var It=0;It<ie.maxAttributes;++It){var yt=Pt.def(Xt.attributes,"[",It,"]"),Wt=bt.cond(yt,".buffer");Wt.then(Bt,".enableVertexAttribArray(",It,");",Bt,".bindBuffer(",Yh,",",yt,".buffer.buffer);",Bt,".vertexAttribPointer(",It,",",yt,".size,",yt,".type,",yt,".normalized,",yt,".stride,",yt,".offset);").else(Bt,".disableVertexAttribArray(",It,");",Bt,".vertexAttrib4f(",It,",",yt,".x,",yt,".y,",yt,".z,",yt,".w);",yt,".buffer=null;"),Pt(Wt),Ee&&Pt(mt,".vertexAttribDivisorANGLE(",It,",",yt,".divisor);")}return Pt(bt.shared.vao,".currentVAO=null;",bt.shared.vao,".setVAO(",bt.shared.vao,".targetVAO);"),Object.keys(C).forEach(function(Qt){var ge=C[Qt],ye=qt.def(Dt,".",Qt),de=bt.block();de("if(",ye,"){",Bt,".enable(",ge,")}else{",Bt,".disable(",ge,")}",jt,".",Qt,"=",ye,";"),Pt(de),ht("if(",ye,"!==",jt,".",Qt,"){",de,"}")}),Object.keys(L).forEach(function(Qt){var ge=L[Qt],ye=xe[Qt],de,Re,Er=bt.block();if(Er(Bt,".",ge,"("),wa(ye)){var Si=ye.length;de=bt.global.def(Dt,".",Qt),Re=bt.global.def(jt,".",Qt),Er(xa(Si,function(Sr){return de+"["+Sr+"]"}),");",xa(Si,function(Sr){return Re+"["+Sr+"]="+de+"["+Sr+"];"}).join("")),ht("if(",xa(Si,function(Sr){return de+"["+Sr+"]!=="+Re+"["+Sr+"]"}).join("||"),"){",Er,"}")}else de=qt.def(Dt,".",Qt),Re=qt.def(jt,".",Qt),Er(de,");",jt,".",Qt,"=",de,";"),ht("if(",de,"!==",Re,"){",Er,"}");Pt(Er)}),bt.compile()}(),compile:Fi}}function xA(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var fS=34918,pO=34919,cS=35007,Bc=function(K,ct){if(!ct.ext_disjoint_timer_query)return null;var Ct=[];function ie(){return Ct.pop()||ct.ext_disjoint_timer_query.createQueryEXT()}function ve(Ee){Ct.push(Ee)}var ee=[];function ue(Ee){var He=ie();ct.ext_disjoint_timer_query.beginQueryEXT(cS,He),ee.push(He),Ie(ee.length-1,ee.length,Ee)}function Te(){ct.ext_disjoint_timer_query.endQueryEXT(cS)}function be(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var Be=[];function ke(){return Be.pop()||new be}function Ue(Ee){Be.push(Ee)}var tr=[];function Ie(Ee,He,xe){var hr=ke();hr.startQueryIndex=Ee,hr.endQueryIndex=He,hr.sum=0,hr.stats=xe,tr.push(hr)}var Xe=[],Ut=[];function fe(){var Ee,He,xe=ee.length;if(xe!==0){Ut.length=Math.max(Ut.length,xe+1),Xe.length=Math.max(Xe.length,xe+1),Xe[0]=0,Ut[0]=0;var hr=0;for(Ee=0,He=0;He<ee.length;++He){var Ce=ee[He];ct.ext_disjoint_timer_query.getQueryObjectEXT(Ce,pO)?(hr+=ct.ext_disjoint_timer_query.getQueryObjectEXT(Ce,fS),ve(Ce)):ee[Ee++]=Ce,Xe[He+1]=hr,Ut[He+1]=Ee}for(ee.length=Ee,Ee=0,He=0;He<tr.length;++He){var C=tr[He],L=C.startQueryIndex,D=C.endQueryIndex;C.sum+=Xe[D]-Xe[L];var W=Ut[L],H=Ut[D];H===W?(C.stats.gpuTime+=C.sum/1e6,Ue(C)):(C.startQueryIndex=W,C.endQueryIndex=H,tr[Ee++]=C)}tr.length=Ee}}return{beginQuery:ue,endQuery:Te,pushScopeStats:Ie,update:fe,getNumPendingQueries:function(){return ee.length},clear:function(){Ct.push.apply(Ct,ee);for(var Ee=0;Ee<Ct.length;Ee++)ct.ext_disjoint_timer_query.deleteQueryEXT(Ct[Ee]);ee.length=0,Ct.length=0},restore:function(){ee.length=0,Ct.length=0}}},bA=16384,wA=256,gO=1024,_A=34962,SA="webglcontextlost",M1="webglcontextrestored",uu=1,hS=2,A1=3;function E1(K,ct){for(var Ct=0;Ct<K.length;++Ct)if(K[Ct]===ct)return Ct;return-1}function T1(K){var ct=ya(K);if(!ct)return null;var Ct=ct.gl,ie=Ct.getContextAttributes(),ve=Ct.isContextLost(),ee=Ql(Ct,ct);if(!ee)return null;var ue=Ta(),Te=xA(),be=ee.extensions,Be=Bc(Ct,be),ke=Gn(),Ue=Ct.drawingBufferWidth,tr=Ct.drawingBufferHeight,Ie={tick:0,time:0,viewportWidth:Ue,viewportHeight:tr,framebufferWidth:Ue,framebufferHeight:tr,drawingBufferWidth:Ue,drawingBufferHeight:tr,pixelRatio:ct.pixelRatio},Xe={},Ut={elements:null,primitive:4,count:-1,offset:0,instances:-1},fe=C_(Ct,be),Ee=Ro(Ct,Te,ct,xe),He=oO(Ct,be,fe,Te,Ee);function xe(Gr){return He.destroyBuffer(Gr)}var hr=Ia(Ct,be,Ee,Te),Ce=lO(Ct,ue,Te,ct),C=Ms(Ct,be,fe,function(){W.procs.poll()},Ie,Te,ct),L=vy(Ct,be,fe,Te,ct),D=aO(Ct,be,fe,C,L,Te),W=Wu(Ct,ue,be,fe,Ee,hr,C,D,Xe,He,Ce,Ut,Ie,Be,ct),H=fO(Ct,D,W.procs.poll,Ie,ie,be,fe),V=W.next,X=Ct.canvas,Q=[],rt=[],vt=[],gt=[ct.onDestroy],St=null;function Nt(){if(Q.length===0){Be&&Be.update(),St=null;return}St=Fr.next(Nt),yn();for(var Gr=Q.length-1;Gr>=0;--Gr){var jr=Q[Gr];jr&&jr(Ie,null,0)}Ct.flush(),Be&&Be.update()}function Vt(){!St&&Q.length>0&&(St=Fr.next(Nt))}function me(){St&&(Fr.cancel(Nt),St=null)}function Se(Gr){Gr.preventDefault(),ve=!0,me(),rt.forEach(function(jr){jr()})}function Ve(Gr){Ct.getError(),ve=!1,ee.restore(),Ce.restore(),Ee.restore(),C.restore(),L.restore(),D.restore(),He.restore(),Be&&Be.restore(),W.procs.refresh(),Vt(),vt.forEach(function(jr){jr()})}X&&(X.addEventListener(SA,Se,!1),X.addEventListener(M1,Ve,!1));function De(){Q.length=0,me(),X&&(X.removeEventListener(SA,Se),X.removeEventListener(M1,Ve)),Ce.clear(),D.clear(),L.clear(),C.clear(),hr.clear(),Ee.clear(),He.clear(),Be&&Be.clear(),gt.forEach(function(Gr){Gr()})}function pr(Gr){it(!!Gr,"invalid args to regl({...})"),it.type(Gr,"object","invalid args to regl({...})");function jr(Xt){var Bt=e({},Xt);delete Bt.uniforms,delete Bt.attributes,delete Bt.context,delete Bt.vao,"stencil"in Bt&&Bt.stencil.op&&(Bt.stencil.opBack=Bt.stencil.opFront=Bt.stencil.op,delete Bt.stencil.op);function Dt(jt){if(jt in Bt){var mt=Bt[jt];delete Bt[jt],Object.keys(mt).forEach(function(It){Bt[jt+"."+It]=mt[It]})}}return Dt("blend"),Dt("depth"),Dt("cull"),Dt("stencil"),Dt("polygonOffset"),Dt("scissor"),Dt("sample"),"vao"in Xt&&(Bt.vao=Xt.vao),Bt}function Di(Xt,Bt){var Dt={},jt={};return Object.keys(Xt).forEach(function(mt){var It=Xt[mt];if(Xr.isDynamic(It)){jt[mt]=Xr.unbox(It,mt);return}else if(Bt&&Array.isArray(It)){for(var yt=0;yt<It.length;++yt)if(Xr.isDynamic(It[yt])){jt[mt]=Xr.unbox(It,mt);return}}Dt[mt]=It}),{dynamic:jt,static:Dt}}var Sa=Di(Gr.context||{},!0),Vu=Di(Gr.uniforms||{},!0),Dy=Di(Gr.attributes||{},!1),wt=Di(jr(Gr),!1),ae={gpuTime:0,cpuTime:0,count:0},Jt=W.compile(wt,Dy,Vu,Sa,ae),gr=Jt.draw,Fi=Jt.batch,bt=Jt.scope,ht=[];function Pt(Xt){for(;ht.length<Xt;)ht.push(null);return ht}function qt(Xt,Bt){var Dt;if(ve&&it.raise("context lost"),typeof Xt=="function")return bt.call(this,null,Xt,0);if(typeof Bt=="function")if(typeof Xt=="number")for(Dt=0;Dt<Xt;++Dt)bt.call(this,null,Bt,Dt);else if(Array.isArray(Xt))for(Dt=0;Dt<Xt.length;++Dt)bt.call(this,Xt[Dt],Bt,Dt);else return bt.call(this,Xt,Bt,0);else if(typeof Xt=="number"){if(Xt>0)return Fi.call(this,Pt(Xt|0),Xt|0)}else if(Array.isArray(Xt)){if(Xt.length)return Fi.call(this,Xt,Xt.length)}else return gr.call(this,Xt)}return e(qt,{stats:ae,destroy:function(){Jt.destroy()}})}var Cr=D.setFBO=pr({framebuffer:Xr.define.call(null,uu,"framebuffer")});function Zr(Gr,jr){var Di=0;W.procs.poll();var Sa=jr.color;Sa&&(Ct.clearColor(+Sa[0]||0,+Sa[1]||0,+Sa[2]||0,+Sa[3]||0),Di|=bA),"depth"in jr&&(Ct.clearDepth(+jr.depth),Di|=wA),"stencil"in jr&&(Ct.clearStencil(jr.stencil|0),Di|=gO),it(!!Di,"called regl.clear with no buffer specified"),Ct.clear(Di)}function fi(Gr){if(it(typeof Gr=="object"&&Gr,"regl.clear() takes an object as input"),"framebuffer"in Gr)if(Gr.framebuffer&&Gr.framebuffer_reglType==="framebufferCube")for(var jr=0;jr<6;++jr)Cr(e({framebuffer:Gr.framebuffer.faces[jr]},Gr),Zr);else Cr(Gr,Zr);else Zr(null,Gr)}function Pi(Gr){it.type(Gr,"function","regl.frame() callback must be a function"),Q.push(Gr);function jr(){var Di=E1(Q,Gr);it(Di>=0,"cannot cancel a frame twice");function Sa(){var Vu=E1(Q,Sa);Q[Vu]=Q[Q.length-1],Q.length-=1,Q.length<=0&&me()}Q[Di]=Sa}return Vt(),{cancel:jr}}function dn(){var Gr=V.viewport,jr=V.scissor_box;Gr[0]=Gr[1]=jr[0]=jr[1]=0,Ie.viewportWidth=Ie.framebufferWidth=Ie.drawingBufferWidth=Gr[2]=jr[2]=Ct.drawingBufferWidth,Ie.viewportHeight=Ie.framebufferHeight=Ie.drawingBufferHeight=Gr[3]=jr[3]=Ct.drawingBufferHeight}function yn(){Ie.tick+=1,Ie.time=$r(),dn(),W.procs.poll()}function Kr(){C.refresh(),dn(),W.procs.refresh(),Be&&Be.update()}function $r(){return(Gn()-ke)/1e3}Kr();function _a(Gr,jr){it.type(jr,"function","listener callback must be a function");var Di;switch(Gr){case"frame":return Pi(jr);case"lost":Di=rt;break;case"restore":Di=vt;break;case"destroy":Di=gt;break;default:it.raise("invalid event, must be one of frame,lost,restore,destroy")}return Di.push(jr),{cancel:function(){for(var Sa=0;Sa<Di.length;++Sa)if(Di[Sa]===jr){Di[Sa]=Di[Di.length-1],Di.pop();return}}}}var Ki=e(pr,{clear:fi,prop:Xr.define.bind(null,uu),context:Xr.define.bind(null,hS),this:Xr.define.bind(null,A1),draw:pr({}),buffer:function(Gr){return Ee.create(Gr,_A,!1,!1)},elements:function(Gr){return hr.create(Gr,!1)},texture:C.create2D,cube:C.createCube,renderbuffer:L.create,framebuffer:D.create,framebufferCube:D.createCube,vao:He.createVAO,attributes:ie,frame:Pi,on:_a,limits:fe,hasExtension:function(Gr){return fe.extensions.indexOf(Gr.toLowerCase())>=0},read:H,destroy:De,_gl:Ct,_refresh:Kr,poll:function(){yn(),Be&&Be.update()},now:$r,stats:Te});return ct.onDone(null,Ki),Ki}return T1})});var JYt=$(e8=>{"use strict";var $Yt=hf();Object.defineProperty(e8,"__esModule",{value:!0});e8.default=void 0;var w$e=$Yt(mh()),_$e=$Yt(yh()),S$e=function(){function r(e,t){(0,w$e.default)(this,r),this.attribute=void 0,this.buffer=void 0;var i=t.buffer,n=t.offset,a=t.stride,o=t.normalized,s=t.size,l=t.divisor;this.buffer=i,this.attribute={buffer:i.get(),offset:n||0,stride:a||0,normalized:o||!1,divisor:l||0},s&&(this.attribute.size=s)}return(0,_$e.default)(r,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),r}();e8.default=S$e});var HN=$(Aa=>{"use strict";var C$e=hf();Object.defineProperty(Aa,"__esModule",{value:!0});Aa.wrapModeMap=Aa.usageMap=Aa.stencilOpMap=Aa.stencilFuncMap=Aa.primitiveMap=Aa.mipmapMap=Aa.formatMap=Aa.filterMap=Aa.depthFuncMap=Aa.dataTypeMap=Aa.cullFaceMap=Aa.colorSpaceMap=Aa.blendFuncMap=Aa.blendEquationMap=void 0;var dr=C$e(FN()),vr=Mm(),wx,WN,_x,zd,VN,r_,qN,r8,Am,_M,Vl,Em,Tm,i8,M$e=(wx={},(0,dr.default)(wx,vr.gl.POINTS,"points"),(0,dr.default)(wx,vr.gl.LINES,"lines"),(0,dr.default)(wx,vr.gl.LINE_LOOP,"line loop"),(0,dr.default)(wx,vr.gl.LINE_STRIP,"line strip"),(0,dr.default)(wx,vr.gl.TRIANGLES,"triangles"),(0,dr.default)(wx,vr.gl.TRIANGLE_FAN,"triangle fan"),(0,dr.default)(wx,vr.gl.TRIANGLE_STRIP,"triangle strip"),wx);Aa.primitiveMap=M$e;var A$e=(WN={},(0,dr.default)(WN,vr.gl.STATIC_DRAW,"static"),(0,dr.default)(WN,vr.gl.DYNAMIC_DRAW,"dynamic"),(0,dr.default)(WN,vr.gl.STREAM_DRAW,"stream"),WN);Aa.usageMap=A$e;var E$e=(_x={},(0,dr.default)(_x,vr.gl.BYTE,"int8"),(0,dr.default)(_x,vr.gl.UNSIGNED_INT,"int16"),(0,dr.default)(_x,vr.gl.INT,"int32"),(0,dr.default)(_x,vr.gl.UNSIGNED_BYTE,"uint8"),(0,dr.default)(_x,vr.gl.UNSIGNED_SHORT,"uint16"),(0,dr.default)(_x,vr.gl.UNSIGNED_INT,"uint32"),(0,dr.default)(_x,vr.gl.FLOAT,"float"),_x);Aa.dataTypeMap=E$e;var T$e=(zd={},(0,dr.default)(zd,vr.gl.ALPHA,"alpha"),(0,dr.default)(zd,vr.gl.LUMINANCE,"luminance"),(0,dr.default)(zd,vr.gl.LUMINANCE_ALPHA,"luminance alpha"),(0,dr.default)(zd,vr.gl.RGB,"rgb"),(0,dr.default)(zd,vr.gl.RGBA,"rgba"),(0,dr.default)(zd,vr.gl.RGBA4,"rgba4"),(0,dr.default)(zd,vr.gl.RGB5_A1,"rgb5 a1"),(0,dr.default)(zd,vr.gl.RGB565,"rgb565"),(0,dr.default)(zd,vr.gl.DEPTH_COMPONENT,"depth"),(0,dr.default)(zd,vr.gl.DEPTH_STENCIL,"depth stencil"),zd);Aa.formatMap=T$e;var I$e=(VN={},(0,dr.default)(VN,vr.gl.DONT_CARE,"dont care"),(0,dr.default)(VN,vr.gl.NICEST,"nice"),(0,dr.default)(VN,vr.gl.FASTEST,"fast"),VN);Aa.mipmapMap=I$e;var L$e=(r_={},(0,dr.default)(r_,vr.gl.NEAREST,"nearest"),(0,dr.default)(r_,vr.gl.LINEAR,"linear"),(0,dr.default)(r_,vr.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,dr.default)(r_,vr.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,dr.default)(r_,vr.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,dr.default)(r_,vr.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),r_);Aa.filterMap=L$e;var O$e=(qN={},(0,dr.default)(qN,vr.gl.REPEAT,"repeat"),(0,dr.default)(qN,vr.gl.CLAMP_TO_EDGE,"clamp"),(0,dr.default)(qN,vr.gl.MIRRORED_REPEAT,"mirror"),qN);Aa.wrapModeMap=O$e;var k$e=(r8={},(0,dr.default)(r8,vr.gl.NONE,"none"),(0,dr.default)(r8,vr.gl.BROWSER_DEFAULT_WEBGL,"browser"),r8);Aa.colorSpaceMap=k$e;var P$e=(Am={},(0,dr.default)(Am,vr.gl.NEVER,"never"),(0,dr.default)(Am,vr.gl.ALWAYS,"always"),(0,dr.default)(Am,vr.gl.LESS,"less"),(0,dr.default)(Am,vr.gl.LEQUAL,"lequal"),(0,dr.default)(Am,vr.gl.GREATER,"greater"),(0,dr.default)(Am,vr.gl.GEQUAL,"gequal"),(0,dr.default)(Am,vr.gl.EQUAL,"equal"),(0,dr.default)(Am,vr.gl.NOTEQUAL,"notequal"),Am);Aa.depthFuncMap=P$e;var D$e=(_M={},(0,dr.default)(_M,vr.gl.FUNC_ADD,"add"),(0,dr.default)(_M,vr.gl.MIN_EXT,"min"),(0,dr.default)(_M,vr.gl.MAX_EXT,"max"),(0,dr.default)(_M,vr.gl.FUNC_SUBTRACT,"subtract"),(0,dr.default)(_M,vr.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),_M);Aa.blendEquationMap=D$e;var F$e=(Vl={},(0,dr.default)(Vl,vr.gl.ZERO,"zero"),(0,dr.default)(Vl,vr.gl.ONE,"one"),(0,dr.default)(Vl,vr.gl.SRC_COLOR,"src color"),(0,dr.default)(Vl,vr.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,dr.default)(Vl,vr.gl.SRC_ALPHA,"src alpha"),(0,dr.default)(Vl,vr.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,dr.default)(Vl,vr.gl.DST_COLOR,"dst color"),(0,dr.default)(Vl,vr.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,dr.default)(Vl,vr.gl.DST_ALPHA,"dst alpha"),(0,dr.default)(Vl,vr.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,dr.default)(Vl,vr.gl.CONSTANT_COLOR,"constant color"),(0,dr.default)(Vl,vr.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,dr.default)(Vl,vr.gl.CONSTANT_ALPHA,"constant alpha"),(0,dr.default)(Vl,vr.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,dr.default)(Vl,vr.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),Vl);Aa.blendFuncMap=F$e;var N$e=(Em={},(0,dr.default)(Em,vr.gl.NEVER,"never"),(0,dr.default)(Em,vr.gl.ALWAYS,"always"),(0,dr.default)(Em,vr.gl.LESS,"less"),(0,dr.default)(Em,vr.gl.LEQUAL,"lequal"),(0,dr.default)(Em,vr.gl.GREATER,"greater"),(0,dr.default)(Em,vr.gl.GEQUAL,"gequal"),(0,dr.default)(Em,vr.gl.EQUAL,"equal"),(0,dr.default)(Em,vr.gl.NOTEQUAL,"notequal"),Em);Aa.stencilFuncMap=N$e;var B$e=(Tm={},(0,dr.default)(Tm,vr.gl.ZERO,"zero"),(0,dr.default)(Tm,vr.gl.KEEP,"keep"),(0,dr.default)(Tm,vr.gl.REPLACE,"replace"),(0,dr.default)(Tm,vr.gl.INVERT,"invert"),(0,dr.default)(Tm,vr.gl.INCR,"increment"),(0,dr.default)(Tm,vr.gl.DECR,"decrement"),(0,dr.default)(Tm,vr.gl.INCR_WRAP,"increment wrap"),(0,dr.default)(Tm,vr.gl.DECR_WRAP,"decrement wrap"),Tm);Aa.stencilOpMap=B$e;var R$e=(i8={},(0,dr.default)(i8,vr.gl.FRONT,"front"),(0,dr.default)(i8,vr.gl.BACK,"back"),i8);Aa.cullFaceMap=R$e});var iWt=$(n8=>{"use strict";var tWt=hf();Object.defineProperty(n8,"__esModule",{value:!0});n8.default=void 0;var G$e=tWt(mh()),z$e=tWt(yh()),eWt=Mm(),rWt=HN(),j$e=function(){function r(e,t){(0,G$e.default)(this,r),this.buffer=void 0;var i=t.data,n=t.usage,a=t.type;this.buffer=e.buffer({data:i,usage:rWt.usageMap[n||eWt.gl.STATIC_DRAW],type:rWt.dataTypeMap[a||eWt.gl.UNSIGNED_BYTE]})}return(0,z$e.default)(r,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var i=t.data,n=t.offset;this.buffer.subdata(i,n)}}]),r}();n8.default=j$e});var eut=$((ifn,UN)=>{function Y$e(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,i=Array(e);t<e;t++)i[t]=r[t];return i}UN.exports=Y$e,UN.exports.__esModule=!0,UN.exports.default=UN.exports});var nWt=$((nfn,XN)=>{var W$e=eut();function V$e(r){if(Array.isArray(r))return W$e(r)}XN.exports=V$e,XN.exports.__esModule=!0,XN.exports.default=XN.exports});var aWt=$((afn,ZN)=>{function q$e(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}ZN.exports=q$e,ZN.exports.__esModule=!0,ZN.exports.default=ZN.exports});var sWt=$((ofn,KN)=>{var oWt=eut();function H$e(r,e){if(r){if(typeof r=="string")return oWt(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oWt(r,e):void 0}}KN.exports=H$e,KN.exports.__esModule=!0,KN.exports.default=KN.exports});var lWt=$((sfn,QN)=>{function U$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}QN.exports=U$e,QN.exports.__esModule=!0,QN.exports.default=QN.exports});var uWt=$((lfn,$N)=>{var X$e=nWt(),Z$e=aWt(),K$e=sWt(),Q$e=lWt();function $$e(r){return X$e(r)||Z$e(r)||K$e(r)||Q$e()}$N.exports=$$e,$N.exports.__esModule=!0,$N.exports.default=$N.exports});var pWt=$(s8=>{"use strict";var SM=hf();Object.defineProperty(s8,"__esModule",{value:!0});s8.default=void 0;var fWt=SM(IN()),J$e=SM(uWt()),tJe=SM(FN()),eJe=SM(ON()),rJe=SM(mh()),iJe=SM(yh()),cWt=SM(KW()),a8=Mm();function hWt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function dWt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hWt(Object(t),!0).forEach(function(i){(0,tJe.default)(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):hWt(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}var nJe=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,vWt=0,o8=!1,aJe=function(){function r(e,t){var i=this;(0,rJe.default)(this,r),this.reGl=e,this.context=t,this.entity=(0,a8.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var n={};this.context.uniforms.forEach(function(u){var f=u.name,c=u.type,h=u.data,d=u.isReferer,v=u.storageClass;if(v===a8.STORAGE_CLASS.StorageBuffer){if(d)i.textureCache[f]={data:void 0},n["".concat(f,"Size")]=function(){return h.compiledBundle.context.output.textureSize};else{i.textureCache[f]=i.calcDataTexture(f,c,h);var p=i.textureCache[f],g=p.textureWidth,m=p.isOutput;n["".concat(f,"Size")]=[g,g],m&&(i.outputTextureName=f,i.context.needPingpong&&(i.outputTextureName="".concat(f,"Output"),i.textureCache[i.outputTextureName]=i.calcDataTexture(f,c,h)))}n[f]=function(){return o8&&console.log("[".concat(i.entity,"]: ").concat(f," ").concat(i.textureCache[f].id)),i.textureCache[f].texture}}else if(v===a8.STORAGE_CLASS.Uniform){if(h&&(Array.isArray(h)||(0,cWt.default)(h))&&h.length>16)throw new Error("invalid data type ".concat(c));n[f]=function(){return u.data}}});var a=this.getOuputDataTexture(),o=a.textureWidth,s=a.texelCount;n.u_OutputTextureSize=[o,o],n.u_OutputTexelCount=s,this.context.output.textureSize=[o,o];var l={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:n,vert:nJe,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(l)}return(0,iJe.default)(r,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),o8&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var e=(0,eJe.default)(fWt.default.mark(function i(){var n=this,a,o,s,l,u,f,c,h;return fWt.default.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){a=n.reGl.read()}),!a){v.next=6;break}if(o=this.getOuputDataTexture(),s=o.originalDataLength,l=o.elementsPerTexel,u=o.typedArrayConstructor,f=u===void 0?Float32Array:u,c=[],l!==4)for(h=0;h<a.length;h+=4)l===1?c.push(a[h]):l===2?c.push(a[h],a[h+1]):c.push(a[h],a[h+1],a[h+2]);else c=a;return v.abrupt("return",new f(c.slice(0,s)));case 6:return v.abrupt("return",new Float32Array);case 7:case"end":return v.stop()}},i,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"confirmInput",value:function(t,i){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[i].id=n.getOuputDataTexture().id,this.textureCache[i].texture=n.getOuputDataTexture().texture,o8&&console.log("[".concat(this.entity,"]: confirm input ").concat(i," from model ").concat(n.entity,", ").concat(n.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=this.context.uniforms.find(function(u){var f=u.name;return f===t});if(a){var o=this.calcDataTexture(t,a.type,i),s=o.texture,l=o.data;this.textureCache[t].data=l,this.textureCache[t].texture=s}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var i=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=i,o8&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var i=t.data,n=t.textureWidth;return dWt(dWt({},t),{},{id:vWt++,texture:this.reGl.texture({width:n,height:n,data:i,type:"float"})})}},{key:"calcDataTexture",value:function(t,i,n){var a=1;i===a8.AST_TOKEN_TYPES.Vector4FloatArray&&(a=4);for(var o=[],s=0;s<n.length;s+=a)a===1?o.push(n[s],0,0,0):a===2?o.push(n[s],n[s+1],0,0):a===3?o.push(n[s],n[s+1],n[s+2],0):a===4&&o.push(n[s],n[s+1],n[s+2],n[s+3]);var l=n.length,u=Math.ceil(l/a),f=Math.ceil(Math.sqrt(u)),c=f*f;u<c&&o.push.apply(o,(0,J$e.default)(new Array((c-u)*4).fill(0)));var h=this.reGl.texture({width:f,height:f,data:o,type:"float"});return{id:vWt++,data:o,originalDataLength:l,typedArrayConstructor:(0,cWt.default)(n)?n.constructor:void 0,textureWidth:f,texture:h,texelCount:u,elementsPerTexel:a,isOutput:t===this.context.output.name}}}]),r}();s8.default=aJe});var xWt=$(l8=>{"use strict";var gWt=hf();Object.defineProperty(l8,"__esModule",{value:!0});l8.default=void 0;var oJe=gWt(mh()),sJe=gWt(yh()),mWt=Mm(),yWt=HN(),lJe=function(){function r(e,t){(0,oJe.default)(this,r),this.elements=void 0;var i=t.data,n=t.usage,a=t.type,o=t.count;this.elements=e.elements({data:i,usage:yWt.usageMap[n||mWt.gl.STATIC_DRAW],type:yWt.dataTypeMap[a||mWt.gl.UNSIGNED_BYTE],count:o})}return(0,sJe.default)(r,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var i=t.data;this.elements.subdata(i)}},{key:"destroy",value:function(){this.elements.destroy()}}]),r}();l8.default=lJe});var wWt=$(u8=>{"use strict";var bWt=hf();Object.defineProperty(u8,"__esModule",{value:!0});u8.default=void 0;var uJe=bWt(mh()),fJe=bWt(yh()),cJe=function(){function r(e,t){(0,uJe.default)(this,r),this.framebuffer=void 0;var i=t.width,n=t.height,a=t.color,o=t.colors,s=t.depth,l=t.stencil,u={width:i,height:n};Array.isArray(o)&&(u.colors=o.map(function(f){return f.get()})),a&&typeof a!="boolean"&&(u.color=a.get()),this.framebuffer=e.framebuffer(u)}return(0,fJe.default)(r,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var i=t.width,n=t.height;this.framebuffer.resize(i,n)}}]),r}();u8.default=cJe});var SWt=$((hfn,_Wt)=>{function hJe(r,e){return function(t){return r(e(t))}}_Wt.exports=hJe});var MWt=$((dfn,CWt)=>{var dJe=SWt(),vJe=dJe(Object.getPrototypeOf,Object);CWt.exports=vJe});var TWt=$((vfn,EWt)=>{var pJe=XW(),gJe=MWt(),mJe=ZW(),yJe="[object Object]",xJe=Function.prototype,bJe=Object.prototype,AWt=xJe.toString,wJe=bJe.hasOwnProperty,_Je=AWt.call(Object);function SJe(r){if(!mJe(r)||pJe(r)!=yJe)return!1;var e=gJe(r);if(e===null)return!0;var t=wJe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&AWt.call(t)==_Je}EWt.exports=SJe});var LWt=$(iut=>{"use strict";var IWt=hf();Object.defineProperty(iut,"__esModule",{value:!0});iut.extractUniforms=AJe;var CJe=IWt(KW()),MJe=IWt(TWt());function AJe(r){var e={};return Object.keys(r).forEach(function(t){rut(t,r[t],e,"")}),e}function rut(r,e,t,i){if(e===null||typeof e=="number"||typeof e=="boolean"||Array.isArray(e)&&typeof e[0]=="number"||(0,CJe.default)(e)||e===""||e.resize!==void 0){t["".concat(i&&i+".").concat(r)]=e;return}(0,MJe.default)(e)&&Object.keys(e).forEach(function(n){rut(n,e[n],t,"".concat(i&&i+".").concat(r))}),Array.isArray(e)&&e.forEach(function(n,a){Object.keys(n).forEach(function(o){rut(o,n[o],t,"".concat(i&&i+".").concat(r,"[").concat(a,"]"))})})}});var kWt=$(c8=>{"use strict";var f8=hf();Object.defineProperty(c8,"__esModule",{value:!0});c8.default=void 0;var EJe=f8(EN()),TJe=f8(FN()),IJe=f8(mh()),LJe=f8(yh()),Iu=Mm(),nut=LWt(),Lu=HN();function OWt(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function VI(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OWt(Object(t),!0).forEach(function(i){(0,TJe.default)(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OWt(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}var OJe=function(){function r(e,t){(0,IJe.default)(this,r),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var i=t.vs,n=t.fs,a=t.defines,o=t.attributes,s=t.uniforms,l=t.primitive,u=t.count,f=t.elements,c=t.depth,h=t.blend,d=t.stencil,v=t.cull,p=t.instances,g=t.scissor,m=t.viewport,y={};s&&(this.uniforms=(0,nut.extractUniforms)(s),Object.keys(s).forEach(function(M){y[M]=e.prop(M)}));var x={};Object.keys(o).forEach(function(M){x[M]=o[M].get()});var b=a&&this.generateDefines(a)||"",_={attributes:x,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(b,`
`).concat(n),uniforms:y,vert:`
`.concat(b,`
`).concat(i),primitive:Lu.primitiveMap[l===void 0?Iu.gl.TRIANGLES:l]};p&&(_.instances=p),u&&(_.count=u),f&&(_.elements=f.get()),g&&(_.scissor=g),m&&(_.viewport=m),this.initDepthDrawParams({depth:c},_),this.initBlendDrawParams({blend:h},_),this.initStencilDrawParams({stencil:d},_),this.initCullDrawParams({cull:v},_),this.drawCommand=e(_)}return(0,LJe.default)(r,[{key:"addUniforms",value:function(t){this.uniforms=VI(VI({},this.uniforms),(0,nut.extractUniforms)(t))}},{key:"draw",value:function(t){var i=VI(VI({},this.uniforms),(0,nut.extractUniforms)(t.uniforms||{})),n={};Object.keys(i).forEach(function(a){var o=(0,EJe.default)(i[a]);o==="boolean"||o==="number"||Array.isArray(i[a])||i[a].BYTES_PER_ELEMENT?n[a]=i[a]:o==="string"||(n[a]=i[a].get())}),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,i){var n=t.depth;n&&(i.depth={enable:n.enable===void 0?!0:!!n.enable,mask:n.mask===void 0?!0:!!n.mask,func:Lu.depthFuncMap[n.func||Iu.gl.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,i){var n=t.blend;if(n){var a=n.enable,o=n.func,s=n.equation,l=n.color,u=l===void 0?[0,0,0,0]:l;i.blend={enable:!!a,func:{srcRGB:Lu.blendFuncMap[o&&o.srcRGB||Iu.gl.SRC_ALPHA],srcAlpha:Lu.blendFuncMap[o&&o.srcAlpha||Iu.gl.SRC_ALPHA],dstRGB:Lu.blendFuncMap[o&&o.dstRGB||Iu.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:Lu.blendFuncMap[o&&o.dstAlpha||Iu.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Lu.blendEquationMap[s&&s.rgb||Iu.gl.FUNC_ADD],alpha:Lu.blendEquationMap[s&&s.alpha||Iu.gl.FUNC_ADD]},color:u}}}},{key:"initStencilDrawParams",value:function(t,i){var n=t.stencil;if(n){var a=n.enable,o=n.mask,s=o===void 0?-1:o,l=n.func,u=l===void 0?{cmp:Iu.gl.ALWAYS,ref:0,mask:-1}:l,f=n.opFront,c=f===void 0?{fail:Iu.gl.KEEP,zfail:Iu.gl.KEEP,zpass:Iu.gl.KEEP}:f,h=n.opBack,d=h===void 0?{fail:Iu.gl.KEEP,zfail:Iu.gl.KEEP,zpass:Iu.gl.KEEP}:h;i.stencil={enable:!!a,mask:s,func:VI(VI({},u),{},{cmp:Lu.stencilFuncMap[u.cmp]}),opFront:{fail:Lu.stencilOpMap[c.fail],zfail:Lu.stencilOpMap[c.zfail],zpass:Lu.stencilOpMap[c.zpass]},opBack:{fail:Lu.stencilOpMap[d.fail],zfail:Lu.stencilOpMap[d.zfail],zpass:Lu.stencilOpMap[d.zpass]}}}}},{key:"initCullDrawParams",value:function(t,i){var n=t.cull;if(n){var a=n.enable,o=n.face,s=o===void 0?Iu.gl.BACK:o;i.cull={enable:!!a,face:Lu.cullFaceMap[s]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(i){return"#define ".concat(i," ").concat(Number(t[i]))}).join(`
`)}}]),r}();c8.default=OJe});var DWt=$(h8=>{"use strict";var PWt=hf();Object.defineProperty(h8,"__esModule",{value:!0});h8.default=void 0;var kJe=PWt(mh()),PJe=PWt(yh()),CM=Mm(),i_=HN(),DJe=function(){function r(e,t){(0,kJe.default)(this,r),this.texture=void 0,this.width=void 0,this.height=void 0;var i=t.data,n=t.type,a=n===void 0?CM.gl.UNSIGNED_BYTE:n,o=t.width,s=t.height,l=t.flipY,u=l===void 0?!1:l,f=t.format,c=f===void 0?CM.gl.RGBA:f,h=t.mipmap,d=h===void 0?!1:h,v=t.wrapS,p=v===void 0?CM.gl.CLAMP_TO_EDGE:v,g=t.wrapT,m=g===void 0?CM.gl.CLAMP_TO_EDGE:g,y=t.aniso,x=y===void 0?0:y,b=t.alignment,_=b===void 0?1:b,M=t.premultiplyAlpha,A=M===void 0?!1:M,I=t.mag,k=I===void 0?CM.gl.NEAREST:I,E=t.min,O=E===void 0?CM.gl.NEAREST:E,P=t.colorSpace,N=P===void 0?CM.gl.BROWSER_DEFAULT_WEBGL:P;this.width=o,this.height=s;var R={width:o,height:s,type:i_.dataTypeMap[a],format:i_.formatMap[c],wrapS:i_.wrapModeMap[p],wrapT:i_.wrapModeMap[m],mag:i_.filterMap[k],min:i_.filterMap[O],alignment:_,flipY:u,colorSpace:i_.colorSpaceMap[N],premultiplyAlpha:A,aniso:x};i&&(R.data=i),typeof d=="number"?R.mipmap=i_.mipmapMap[d]:typeof d=="boolean"&&(R.mipmap=d),this.texture=e.texture(R)}return(0,PJe.default)(r,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var i=t.width,n=t.height;this.texture.resize(i,n),this.width=i,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),r}();h8.default=DJe});var NWt=$(v8=>{"use strict";var jd=hf();Object.defineProperty(v8,"__esModule",{value:!0});v8.WebGLEngine=void 0;var n_=jd(IN()),d8=jd(ON()),FJe=jd(mh()),NJe=jd(yh()),FWt=Mm(),BJe=jd(QYt()),RJe=jd(JYt()),GJe=jd(iWt()),zJe=jd(pWt()),jJe=jd(xWt()),YJe=jd(wWt()),WJe=jd(kWt()),VJe=jd(DWt()),qJe=function(){function r(){var e=this;(0,FJe.default)(this,r),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=(0,d8.default)(n_.default.mark(function i(n){return n_.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!n.uniforms){o.next=3;break}return o.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var s=(0,d8.default)(n_.default.mark(function l(u){var f;return n_.default.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!(n.uniforms[u]&&n.uniforms[u].load!==void 0)){h.next=5;break}return h.next=3,n.uniforms[u].load();case 3:f=h.sent,n.uniforms[u]=f;case 5:case"end":return h.stop()}},l)}));return function(l){return s.apply(this,arguments)}}()));case 3:return o.abrupt("return",new WJe.default(e.gl,n));case 4:case"end":return o.stop()}},i)}));return function(i){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new RJe.default(e.gl,t)},this.createBuffer=function(t){return new GJe.default(e.gl,t)},this.createElements=function(t){return new jJe.default(e.gl,t)},this.createTexture2D=function(t){return new VJe.default(e.gl,t)},this.createFramebuffer=function(t){return new YJe.default(e.gl,t)},this.useFramebuffer=function(t,i){e.gl({framebuffer:t?t.get():null})(i)},this.createComputeModel=function(){var t=(0,d8.default)(n_.default.mark(function i(n){return n_.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",new zJe.default(e.gl,n));case 1:case"end":return o.stop()}},i)}));return function(i){return t.apply(this,arguments)}}(),this.clear=function(t){var i=t.color,n=t.depth,a=t.stencil,o=t.framebuffer,s=o===void 0?null:o,l={color:i,depth:n,stencil:a};l.framebuffer=s===null?s:s.get(),e.gl.clear(l)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(FWt.gl.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(FWt.gl.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var i=t.x,n=t.y,a=t.width,o=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(i,n,a,o),e.gl._refresh())},this.readPixels=function(t){var i=t.framebuffer,n=t.x,a=t.y,o=t.width,s=t.height,l={x:n,y:a,width:o,height:s};return i&&(l.framebuffer=i.get()),e.gl.read(l)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return(0,NJe.default)(r,[{key:"init",value:function(){var e=(0,d8.default)(n_.default.mark(function i(n){return n_.default.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!this.inited){o.next=2;break}return o.abrupt("return");case 2:return this.$canvas=n.canvas,o.next=5,new Promise(function(s,l){(0,BJe.default)({canvas:n.canvas,attributes:{alpha:!0,antialias:n.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(f,c){(f||!c)&&l(f),s(c)}})});case 5:this.gl=o.sent,this.inited=!0;case 7:case"end":return o.stop()}},i,this)}));function t(i){return e.apply(this,arguments)}return t}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),r}();v8.WebGLEngine=qJe});var BWt=$(aut=>{"use strict";Object.defineProperty(aut,"__esModule",{value:!0});Object.defineProperty(aut,"WebGLEngine",{enumerable:!0,get:function(){return HJe.WebGLEngine}});var HJe=NWt()});var zWt=$(p8=>{"use strict";var RWt=hf();Object.defineProperty(p8,"__esModule",{value:!0});p8.World=void 0;var UJe=RWt(mh()),XJe=RWt(yh()),GWt=Mm(),ZJe=BWt(),KJe=$lt(),QJe=function(){function r(){(0,UJe.default)(this,r),this.engine=void 0,this.configService=new GWt.ConfigService}return(0,XJe.default)(r,[{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setEngine",value:function(t){this.engine=t}},{key:"createEntity",value:function(){return(0,GWt.createEntity)()}},{key:"createKernel",value:function(t){var i=new KJe.Kernel(this.engine,this.configService);return typeof t=="string"?i.setBundle(JSON.parse(t)):i.setBundle(t),i.init(),i}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new r;return i.setConfig(t),i.setEngine(new ZJe.WebGLEngine),i}}]),r}();p8.World=QJe});var out=$(g8=>{"use strict";Object.defineProperty(g8,"__esModule",{value:!0});Object.defineProperty(g8,"Kernel",{enumerable:!0,get:function(){return $Je.Kernel}});Object.defineProperty(g8,"World",{enumerable:!0,get:function(){return JJe.World}});var $Je=$lt(),JJe=zWt()});var sut=$(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});Yd.arrayToTextureData=Yd.attributesToTextureData=Yd.buildTextureDataWithTwoEdgeAttr=Yd.buildTextureData=Yd.proccessToFunc=void 0;var ttr=No(),m8=JY(),etr=function(r,e){var t;return r?(0,ttr.isNumber)(r)?t=function(){return r}:t=r:t=function(){return e||1},t};Yd.proccessToFunc=etr;var rtr=function(r,e){var t=[],i=[],n={},a=0;for(a=0;a<r.length;a++){var o=r[a];n[o.id]=a,t.push(o.x),t.push(o.y),t.push(0),t.push(0),i.push([])}for(a=0;a<e.length;a++){var s=e[a],l=(0,m8.getEdgeTerminal)(s,"source"),u=(0,m8.getEdgeTerminal)(s,"target");!isNaN(n[l])&&!isNaN(n[u])&&(i[n[l]].push(n[u]),i[n[u]].push(n[l]))}var f=0;for(a=0;a<r.length;a++){var c=t.length,h=i[a],d=h.length;t[a*4+2]=c,t[a*4+3]=d,f=Math.max(f,d);for(var v=0;v<d;++v){var p=h[v];t.push(+p)}}for(;t.length%4!=0;)t.push(0);return{maxEdgePerVetex:f,array:new Float32Array(t)}};Yd.buildTextureData=rtr;var itr=function(r,e,t,i){var n=[],a=[],o={},s=0;for(s=0;s<r.length;s++){var l=r[s];o[l.id]=s,n.push(l.x),n.push(l.y),n.push(0),n.push(0),a.push([])}for(s=0;s<e.length;s++){var u=e[s],f=(0,m8.getEdgeTerminal)(u,"source"),c=(0,m8.getEdgeTerminal)(u,"target");a[o[f]].push(o[c]),a[o[f]].push(t(u)),a[o[f]].push(i(u)),a[o[f]].push(0),a[o[c]].push(o[f]),a[o[c]].push(t(u)),a[o[c]].push(i(u)),a[o[c]].push(0)}var h=0;for(s=0;s<r.length;s++){var d=n.length,v=a[s],p=v.length;n[s*4+2]=d+1048576*p/4,n[s*4+3]=0,h=Math.max(h,p/4);for(var g=0;g<p;++g){var m=v[g];n.push(+m)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:h,array:new Float32Array(n)}};Yd.buildTextureDataWithTwoEdgeAttr=itr;var ntr=function(r,e){var t=[],i=r.length,n={};return e.forEach(function(a){r.forEach(function(o,s){if(n[a[o]]===void 0&&(n[a[o]]=Object.keys(n).length),t.push(n[a[o]]),s===i-1)for(;t.length%4!=0;)t.push(0)})}),{array:new Float32Array(t),count:Object.keys(n).length}};Yd.attributesToTextureData=ntr;var atr=function(r){for(var e=[],t=r.length,i=r[0].length,n=function(o){r.forEach(function(s,l){if(e.push(s[o]),l===t-1)for(;e.length%4!=0;)e.push(0)})},a=0;a<i;a++)n(a);return new Float32Array(e)};Yd.arrayToTextureData=atr});var jWt=$(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.clusterBundle=Im.clusterCode=Im.fruchtermanBundle=Im.fruchtermanCode=void 0;Im.fruchtermanCode=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }

    // [gravity, fx, fy, 0]
    const nodeAttributes = this.u_AttributeArray[i];

    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {
      // the node is fixed
      this.u_Data[i] = [
        nodeAttributes[1],
        nodeAttributes[2],
        currentNode[2],
        currentNode[3]
      ];
      return;
    }

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;

    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`;Im.fruchtermanBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}';Im.clusterCode=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`;Im.clusterBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}'});var lut=$(Lm=>{"use strict";var otr=Lm&&Lm.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),y8=Lm&&Lm.__awaiter||function(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})},x8=Lm&&Lm.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Lm,"__esModule",{value:!0});Lm.FruchtermanGPULayout=void 0;var str=Rs(),qI=No(),YWt=out(),WWt=sut(),VWt=jWt(),ltr=ZF(),utr=function(r){otr(e,r);function e(t){var i=r.call(this)||this;return i.maxIteration=1e3,i.gravity=10,i.speed=1,i.clustering=!1,i.clusterField="cluster",i.clusterGravity=10,i.workerEnabled=!1,i.nodes=[],i.edges=[],i.width=300,i.height=300,i.nodeMap={},i.nodeIdxMap={},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return y8(this,void 0,void 0,function(){var t,i,n,a,o,s=this;return x8(this,function(l){switch(l.label){case 0:return t=this,i=t.nodes,!i||i.length===0?(t.onLayoutEnd&&t.onLayoutEnd(),[2]):(!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,i.length===1?(i[0].x=n[0],i[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(a={},o={},i.forEach(function(u,f){(0,qI.isNumber)(u.x)||(u.x=Math.random()*s.width),(0,qI.isNumber)(u.y)||(u.y=Math.random()*s.height),a[u.id]=u,o[u.id]=f}),t.nodeMap=a,t.nodeIdxMap=o,[4,t.run()]));case 1:return l.sent(),[2]}})})},e.prototype.executeWithWorker=function(t,i){return y8(this,void 0,void 0,function(){var n,a,o,s,l,u=this;return x8(this,function(f){switch(f.label){case 0:return n=this,a=n.nodes,o=n.center,!a||a.length===0?[2]:a.length===1?(a[0].x=o[0],a[0].y=o[1],[2]):(s={},l={},a.forEach(function(c,h){(0,qI.isNumber)(c.x)||(c.x=Math.random()*u.width),(0,qI.isNumber)(c.y)||(c.y=Math.random()*u.height),s[c.id]=c,l[c.id]=h}),n.nodeMap=s,n.nodeIdxMap=l,[4,n.run(t,i)]);case 1:return f.sent(),[2]}})})},e.prototype.run=function(t,i){return y8(this,void 0,void 0,function(){var n,a,o,s,l,u,f,c,h,d,v,p,g,m,y,x,b,_,M,A,I,k,E,O,P,N,R=this;return x8(this,function(z){switch(z.label){case 0:for(n=this,a=n.nodes,o=n.edges,s=n.maxIteration,l=n.center,u=n.height*n.width,f=Math.sqrt(u)/10,c=u/(a.length+1),h=Math.sqrt(c),d=n.speed,v=n.clustering,p=(0,WWt.attributesToTextureData)([n.clusterField],a),g=p.array,m=p.count,a.forEach(function(B,Y){var q=0,j=0;(0,qI.isNumber)(B.fx)&&(0,qI.isNumber)(B.fy)&&(q=B.fx||.001,j=B.fy||.001),g[4*Y+1]=q,g[4*Y+2]=j}),y=a.length,x=(0,WWt.buildTextureData)(a,o),b=x.maxEdgePerVetex,_=x.array,M=n.workerEnabled,M?A=YWt.World.create({canvas:t,engineOptions:{supportCompute:!0}}):A=YWt.World.create({engineOptions:{supportCompute:!0}}),I=n.onLayoutEnd,k=[],E=0;E<m;E++)k.push(0,0,0,0);return O=A.createKernel(VWt.fruchtermanBundle).setDispatch([y,1,1]).setBinding({u_Data:_,u_K:h,u_K2:c,u_Gravity:n.gravity,u_ClusterGravity:n.clusterGravity||n.gravity||1,u_Speed:d,u_MaxDisplace:f,u_Clustering:v?1:0,u_Center:l,u_AttributeArray:g,u_ClusterCenters:k,MAX_EDGE_PER_VERTEX:b,VERTEX_COUNT:y}),v&&(P=A.createKernel(VWt.clusterBundle).setDispatch([m,1,1]).setBinding({u_Data:_,u_NodeAttributes:g,u_ClusterCenters:k,VERTEX_COUNT:y,CLUSTER_COUNT:m})),N=function(){return y8(R,void 0,void 0,function(){var B,Y;return x8(this,function(q){switch(q.label){case 0:B=0,q.label=1;case 1:return B<s?[4,O.execute()]:[3,6];case 2:return q.sent(),v?(P.setBinding({u_Data:O}),[4,P.execute()]):[3,4];case 3:q.sent(),O.setBinding({u_ClusterCenters:P}),q.label=4;case 4:O.setBinding({u_MaxDisplace:f*=.99}),q.label=5;case 5:return B++,[3,1];case 6:return[4,O.getOutput()];case 7:return Y=q.sent(),t?i.postMessage({type:ltr.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:Y}):a.forEach(function(j,Z){var tt=Y[4*Z],lt=Y[4*Z+1];j.x=tt,j.y=lt}),I&&I(),[2]}})})},[4,N()];case 1:return z.sent(),[2]}})})},e.prototype.getType=function(){return"fruchterman-gpu"},e}(str.Base);Lm.FruchtermanGPULayout=utr});var qWt=$(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.aveMovementBundle=Om.aveMovementCode=Om.gForceBundle=Om.gForceCode=void 0;Om.gForceCode=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = (dist + 0.1) * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = nodeStrength * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[2];
    const ay = vy * attributes2[2];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    // [mass, degree, nodeStrength, fx]
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    // [centerX, centerY, centerGravity, fy]
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {
      this.u_Data[i] = [
        nodeAttributes1[3],
        nodeAttributes2[3],
        currentNode[2],
        0
      ];
    } else {
      const distx = vx * this.u_interval;
      const disty = vy * this.u_interval;
      const distLength = sqrt(distx * distx + disty * disty);
      this.u_Data[i] = [
        currentNode[0] + distx,
        currentNode[1] + disty,
        currentNode[2],
        distLength
      ];
    }
    
    // the avarage move distance
    // need to share memory
    
  }
}
`;Om.gForceBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {float distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}';Om.aveMovementCode=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`;Om.aveMovementBundle='{"shaders":{"WGSL":"","GLSL450":"","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}'});var cut=$(km=>{"use strict";var ftr=km&&km.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),uut=km&&km.__awaiter||function(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})},fut=km&&km.__generator||function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(km,"__esModule",{value:!0});km.GForceGPULayout=void 0;var ctr=Rs(),Sx=No(),HWt=out(),Cx=sut(),htr=JY(),UWt=qWt(),dtr=ZF(),vtr=function(r){ftr(e,r);function e(t){var i=r.call(this)||this;return i.maxIteration=1e3,i.edgeStrength=200,i.nodeStrength=1e3,i.coulombDisScale=.005,i.damping=.9,i.maxSpeed=1e3,i.minMovement=.5,i.interval=.02,i.factor=1,i.linkDistance=1,i.gravity=10,i.workerEnabled=!1,i.nodes=[],i.edges=[],i.width=300,i.height=300,i.nodeMap={},i.nodeIdxMap={},i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}},e.prototype.execute=function(){return uut(this,void 0,void 0,function(){var t,i,n,a,o;return fut(this,function(s){switch(s.label){case 0:return t=this,i=t.nodes,!i||i.length===0?(t.onLayoutEnd&&t.onLayoutEnd(),[2]):(!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]),n=t.center,i.length===1?(i[0].x=n[0],i[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd(),[2]):(a={},o={},i.forEach(function(l,u){(0,Sx.isNumber)(l.x)||(l.x=Math.random()*t.width),(0,Sx.isNumber)(l.y)||(l.y=Math.random()*t.height),a[l.id]=l,o[l.id]=u}),t.nodeMap=a,t.nodeIdxMap=o,t.nodeStrength=(0,Cx.proccessToFunc)(t.nodeStrength,1),t.edgeStrength=(0,Cx.proccessToFunc)(t.edgeStrength,1),[4,t.run()]));case 1:return s.sent(),[2]}})})},e.prototype.executeWithWorker=function(t,i){var n=this,a=n.nodes,o=n.center;if(!(!a||a.length===0)){if(a.length===1){a[0].x=o[0],a[0].y=o[1];return}var s={},l={};a.forEach(function(u,f){(0,Sx.isNumber)(u.x)||(u.x=Math.random()*n.width),(0,Sx.isNumber)(u.y)||(u.y=Math.random()*n.height),s[u.id]=u,l[u.id]=f}),n.nodeMap=s,n.nodeIdxMap=l,n.nodeStrength=(0,Cx.proccessToFunc)(n.nodeStrength,1),n.edgeStrength=(0,Cx.proccessToFunc)(n.edgeStrength,1),n.run(t,i)}},e.prototype.run=function(t,i){return uut(this,void 0,void 0,function(){var n,a,o,s,l,u,f,c,h,d,v,p,g,m,y,x,b,_,M,A,I,k,E,O,P,N,R,z=this;return fut(this,function(B){switch(B.label){case 0:for(n=this,a=n.nodes,o=n.edges,s=n.maxIteration,!n.width&&typeof window!="undefined"&&(n.width=window.innerWidth),!n.height&&typeof window!="undefined"&&(n.height=window.innerHeight),l=a.length,n.linkDistance=(0,Cx.proccessToFunc)(n.linkDistance),n.edgeStrength=(0,Cx.proccessToFunc)(n.edgeStrength),u=(0,Cx.buildTextureDataWithTwoEdgeAttr)(a,o,n.linkDistance,n.edgeStrength),f=u.maxEdgePerVetex,c=u.array,n.degrees=(0,htr.getDegree)(a.length,n.nodeIdxMap,o).map(function(Y){return Y.all}),h=[],d=[],v=[],p=[],g=[],m=[],y=[],n.getMass||(n.getMass=function(Y){return n.degrees[n.nodeIdxMap[Y.id]]||1}),x=n.gravity,b=n.center,a.forEach(function(Y,q){h.push(n.getMass(Y)),d.push(n.nodeStrength(Y)),n.degrees[q]||(n.degrees[q]=0);var j=[b[0],b[1],x];if(n.getCenter){var Z=n.getCenter(Y,n.degrees[q]);Z&&(0,Sx.isNumber)(Z[0])&&(0,Sx.isNumber)(Z[1])&&(0,Sx.isNumber)(Z[2])&&(j=Z)}v.push(j[0]),p.push(j[1]),g.push(j[2]),(0,Sx.isNumber)(Y.fx)&&(0,Sx.isNumber)(Y.fy)?(m.push(Y.fx||.001),y.push(Y.fy||.001)):(m.push(0),y.push(0))}),_=(0,Cx.arrayToTextureData)([h,n.degrees,d,m]),M=(0,Cx.arrayToTextureData)([v,p,g,y]),A=n.workerEnabled,A?I=HWt.World.create({canvas:t,engineOptions:{supportCompute:!0}}):I=HWt.World.create({engineOptions:{supportCompute:!0}}),k=n.onLayoutEnd,E=[],c.forEach(function(Y){E.push(Y)}),O=0;O<4;O++)E.push(0);return P=I.createKernel(UWt.gForceBundle).setDispatch([l,1,1]).setBinding({u_Data:c,u_damping:n.damping,u_maxSpeed:n.maxSpeed,u_minMovement:n.minMovement,u_coulombDisScale:n.coulombDisScale,u_factor:n.factor,u_NodeAttributeArray1:_,u_NodeAttributeArray2:M,MAX_EDGE_PER_VERTEX:f,VERTEX_COUNT:l,u_AveMovement:E,u_interval:n.interval}),N=I.createKernel(UWt.aveMovementBundle).setDispatch([1,1,1]).setBinding({u_Data:c,VERTEX_COUNT:l,u_AveMovement:[0,0,0,0]}),R=function(){return uut(z,void 0,void 0,function(){var Y,q,j;return fut(this,function(Z){switch(Z.label){case 0:Y=0,Z.label=1;case 1:return Y<s?[4,P.execute()]:[3,5];case 2:return Z.sent(),N.setBinding({u_Data:P}),[4,N.execute()];case 3:Z.sent(),q=Math.max(.02,n.interval-Y*.002),P.setBinding({u_interval:q,u_AveMovement:N}),Z.label=4;case 4:return Y++,[3,1];case 5:return[4,P.getOutput()];case 6:return j=Z.sent(),t?i.postMessage({type:dtr.LAYOUT_MESSAGE.GPUEND,vertexEdgeData:j}):a.forEach(function(tt,lt){var J=j[4*lt],nt=j[4*lt+1];tt.x=J,tt.y=nt}),k&&k(),[2]}})})},[4,R()];case 1:return B.sent(),[2]}})})},e.prototype.getType=function(){return"gForce-gpu"},e}(ctr.Base);km.GForceGPULayout=vtr});var hut=$(HI=>{"use strict";var ptr=HI&&HI.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(HI,"__esModule",{value:!0});HI.ComboForceLayout=void 0;var gtr=Rs(),$i=No(),mtr=function(r){ptr(e,r);function e(t){var i=r.call(this)||this;return i.center=[0,0],i.maxIteration=100,i.gravity=10,i.comboGravity=10,i.linkDistance=10,i.alpha=1,i.alphaMin=.001,i.alphaDecay=1-Math.pow(i.alphaMin,1/300),i.alphaTarget=0,i.velocityDecay=.6,i.edgeStrength=.6,i.nodeStrength=30,i.preventOverlap=!1,i.preventNodeOverlap=!1,i.preventComboOverlap=!1,i.collideStrength=void 0,i.nodeCollideStrength=.5,i.comboCollideStrength=.5,i.comboSpacing=20,i.comboPadding=10,i.optimizeRangeFactor=1,i.onTick=function(){},i.onLayoutEnd=function(){},i.depthAttractiveForceScale=1,i.depthRepulsiveForceScale=2,i.nodes=[],i.edges=[],i.combos=[],i.comboTrees=[],i.width=300,i.height=300,i.bias=[],i.nodeMap={},i.oriComboMap={},i.indexMap={},i.comboMap={},i.previousLayouted=!1,i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.center;if(t.comboTree={id:"comboTreeRoot",depth:-1,children:t.comboTrees},!i||i.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}if(i.length===1){i[0].x=n[0],i[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd();return}t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){var t=this,i=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);var a=t.center,o=t.velocityDecay,s=t.comboMap;t.previousLayouted||t.initPos(s);for(var l=function(h){var d=[];i.forEach(function(v,p){d[p]={x:0,y:0}}),t.applyCalculate(d),t.applyComboCenterForce(d),i.forEach(function(v,p){!(0,$i.isNumber)(v.x)||!(0,$i.isNumber)(v.y)||(v.x+=d[p].x*o,v.y+=d[p].y*o)}),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)l(u);var f=[0,0];i.forEach(function(h){!(0,$i.isNumber)(h.x)||!(0,$i.isNumber)(h.y)||(f[0]+=h.x,f[1]+=h.y)}),f[0]/=i.length,f[1]/=i.length;var c=[a[0]-f[0],a[1]-f[1]];i.forEach(function(h,d){!(0,$i.isNumber)(h.x)||!(0,$i.isNumber)(h.y)||(h.x+=c[0],h.y+=c[1])}),t.combos.forEach(function(h){var d=s[h.id];d&&d.empty&&(h.x=d.cx||h.x,h.y=d.cy||h.y)}),t.previousLayouted=!0},e.prototype.initVals=function(){var t=this,i=t.edges,n=t.nodes,a=t.combos,o={},s={},l={};n.forEach(function(Y,q){s[Y.id]=Y,l[Y.id]=q}),t.nodeMap=s,t.indexMap=l;var u={};a.forEach(function(Y){u[Y.id]=Y}),t.oriComboMap=u,t.comboMap=t.getComboMap();var f=t.preventOverlap;t.preventComboOverlap=t.preventComboOverlap||f,t.preventNodeOverlap=t.preventNodeOverlap||f;var c=t.collideStrength;c&&(t.comboCollideStrength=c,t.nodeCollideStrength=c),t.comboCollideStrength=t.comboCollideStrength?t.comboCollideStrength:0,t.nodeCollideStrength=t.nodeCollideStrength?t.nodeCollideStrength:0;for(var h=0;h<i.length;++h){var d=(0,$i.getEdgeTerminal)(i[h],"source"),v=(0,$i.getEdgeTerminal)(i[h],"target");o[d]?o[d]++:o[d]=1,o[v]?o[v]++:o[v]=1}for(var p=[],h=0;h<i.length;++h){var d=(0,$i.getEdgeTerminal)(i[h],"source"),v=(0,$i.getEdgeTerminal)(i[h],"target");p[h]=o[d]/(o[d]+o[v])}this.bias=p;var g=t.nodeSize,m=t.nodeSpacing,y,x;if((0,$i.isNumber)(m)?x=function(){return m}:(0,$i.isFunction)(m)?x=m:x=function(){return 0},this.nodeSpacing=x,!g)y=function(Y){if(Y.size){if((0,$i.isArray)(Y.size)){var q=Y.size[0]>Y.size[1]?Y.size[0]:Y.size[1];return q/2}if((0,$i.isObject)(Y.size)){var q=Y.size.width>Y.size.height?Y.size.width:Y.size.height;return q/2}return Y.size/2}return 10};else if((0,$i.isFunction)(g))y=function(Y){return g(Y)};else if((0,$i.isArray)(g)){var b=g[0]>g[1]?g[0]:g[1],_=b/2;y=function(Y){return _}}else{var M=g/2;y=function(Y){return M}}this.nodeSize=y;var A=t.comboSpacing,I;(0,$i.isNumber)(A)?I=function(){return A}:(0,$i.isFunction)(A)?I=A:I=function(){return 0},this.comboSpacing=I;var k=t.comboPadding,E;(0,$i.isNumber)(k)?E=function(){return k}:(0,$i.isArray)(k)?E=function(){return Math.max.apply(null,k)}:(0,$i.isFunction)(k)?E=k:E=function(){return 0},this.comboPadding=E;var O=this.linkDistance,P;O||(O=10),(0,$i.isNumber)(O)?P=function(Y){return O}:P=O,this.linkDistance=P;var N=this.edgeStrength,R;N||(N=1),(0,$i.isNumber)(N)?R=function(Y){return N}:R=N,this.edgeStrength=R;var z=this.nodeStrength,B;z||(z=30),(0,$i.isNumber)(z)?B=function(Y){return z}:B=z,this.nodeStrength=B},e.prototype.initPos=function(t){var i=this,n=i.nodes;n.forEach(function(a,o){var s=a.comboId,l=t[s];s&&l?(a.x=l.cx+100/(o+1),a.y=l.cy+100/(o+1)):(a.x=100/(o+1),a.y=100/(o+1))})},e.prototype.getComboMap=function(){var t=this,i=t.nodeMap,n=t.comboTrees,a=t.oriComboMap,o={};return(n||[]).forEach(function(s){var l=[];(0,$i.traverseTreeUp)(s,function(u){if(u.itemType==="node"||!a[u.id])return!0;if(o[u.id]===void 0){var f={id:u.id,name:u.id,cx:0,cy:0,count:0,depth:t.oriComboMap[u.id].depth||0,children:[]};o[u.id]=f}var c=u.children;c&&c.forEach(function(v){if(!o[v.id]&&!i[v.id])return!0;l.push(v)});var h=o[u.id];if(h.cx=0,h.cy=0,l.length===0){h.empty=!0;var d=a[u.id];h.cx=d.x,h.cy=d.y}return l.forEach(function(v){if(h.count++,v.itemType!=="node"){var p=o[v.id];(0,$i.isNumber)(p.cx)&&(h.cx+=p.cx),(0,$i.isNumber)(p.cy)&&(h.cy+=p.cy);return}var g=i[v.id];!g||((0,$i.isNumber)(g.x)&&(h.cx+=g.x),(0,$i.isNumber)(g.y)&&(h.cy+=g.y))}),h.cx/=h.count||1,h.cy/=h.count||1,h.children=l,!0})}),o},e.prototype.applyComboCenterForce=function(t){var i=this,n=i.gravity,a=i.comboGravity||n,o=this.alpha,s=i.comboTrees,l=i.indexMap,u=i.nodeMap,f=i.comboMap;(s||[]).forEach(function(c){(0,$i.traverseTreeUp)(c,function(h){if(h.itemType==="node")return!0;var d=f[h.id];if(!d)return!0;var v=f[h.id],p=(v.depth+1)/10*.5,g=v.cx,m=v.cy;return v.cx=0,v.cy=0,v.children.forEach(function(y){if(y.itemType!=="node"){var x=f[y.id];x&&(0,$i.isNumber)(x.cx)&&(v.cx+=x.cx),x&&(0,$i.isNumber)(x.cy)&&(v.cy+=x.cy);return}var b=u[y.id],_=b.x-g||.005,M=b.y-m||.005,A=Math.sqrt(_*_+M*M),I=l[b.id],k=a*o/A*p;t[I].x-=_*k,t[I].y-=M*k,(0,$i.isNumber)(b.x)&&(v.cx+=b.x),(0,$i.isNumber)(b.y)&&(v.cy+=b.y)}),v.cx/=v.count||1,v.cy/=v.count||1,!0})})},e.prototype.applyCalculate=function(t){var i=this,n=i.comboMap,a=i.nodes,o={};a.forEach(function(l,u){a.forEach(function(f,c){if(!(u<c)){var h=l.x-f.x||.005,d=l.y-f.y||.005,v=h*h+d*d,p=Math.sqrt(v);v<1&&(v=p),o["".concat(l.id,"-").concat(f.id)]={vx:h,vy:d,vl2:v,vl:p},o["".concat(f.id,"-").concat(l.id)]={vl2:v,vl:p,vx:-h,vy:-d}}})}),i.updateComboSizes(n),i.calRepulsive(t,o),i.calAttractive(t,o);var s=i.preventComboOverlap;s&&i.comboNonOverlapping(t,n)},e.prototype.updateComboSizes=function(t){var i=this,n=i.comboTrees,a=i.nodeMap,o=i.nodeSize,s=i.comboSpacing,l=i.comboPadding;(n||[]).forEach(function(u){var f=[];(0,$i.traverseTreeUp)(u,function(c){if(c.itemType==="node")return!0;var h=t[c.id];if(!h)return!1;var d=c.children;d&&d.forEach(function(g){!t[g.id]&&!a[g.id]||f.push(g)}),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0,f.forEach(function(g){if(g.itemType!=="node")return!0;var m=a[g.id];if(!m)return!0;var y=o(m),x=m.x-y,b=m.y-y,_=m.x+y,M=m.y+y;h.minX>x&&(h.minX=x),h.minY>b&&(h.minY=b),h.maxX<_&&(h.maxX=_),h.maxY<M&&(h.maxY=M)});var v=i.oriComboMap[c.id].size||10;(0,$i.isArray)(v)&&(v=v[0]);var p=Math.max(h.maxX-h.minX,h.maxY-h.minY,v);return h.r=p/2+s(h)/2+l(h),!0})})},e.prototype.comboNonOverlapping=function(t,i){var n=this,a=n.comboTree,o=n.comboCollideStrength,s=n.indexMap,l=n.nodeMap;(0,$i.traverseTreeUp)(a,function(u){if(!i[u.id]&&!l[u.id]&&u.id!=="comboTreeRoot")return!1;var f=u.children;return f&&f.length>1&&f.forEach(function(c,h){if(c.itemType==="node")return!1;var d=i[c.id];!d||f.forEach(function(v,p){if(h<=p||v.itemType==="node")return!1;var g=i[v.id];if(!g)return!1;var m=d.cx-g.cx||.005,y=d.cy-g.cy||.005,x=m*m+y*y,b=d.r||1,_=g.r||1,M=b+_,A=_*_,I=b*b;if(x<M*M){var k=c.children;if(!k||k.length===0)return!1;var E=v.children;if(!E||E.length===0)return!1;var O=Math.sqrt(x),P=(M-O)/O*o,N=m*P,R=y*P,z=A/(I+A),B=1-z;k.forEach(function(Y){if(Y.itemType!=="node")return!1;if(!!l[Y.id]){var q=s[Y.id];E.forEach(function(j){if(j.itemType!=="node"||!l[j.id])return!1;var Z=s[j.id];t[q].x+=N*z,t[q].y+=R*z,t[Z].x-=N*B,t[Z].y-=R*B})}})}})}),!0})},e.prototype.calRepulsive=function(t,i){var n=this,a=n.nodes,o=n.width*n.optimizeRangeFactor,s=n.nodeStrength,l=n.alpha,u=n.nodeCollideStrength,f=n.preventNodeOverlap,c=n.nodeSize,h=n.nodeSpacing,d=n.depthRepulsiveForceScale,v=n.center;a.forEach(function(p,g){if(!(!p.x||!p.y)){if(v){var m=n.gravity,y=p.x-v[0]||.005,x=p.y-v[1]||.005,b=Math.sqrt(y*y+x*x);t[g].x-=y*m*l/b,t[g].y-=x*m*l/b}a.forEach(function(_,M){if(g!==M&&!(!_.x||!_.y)){var A=i["".concat(p.id,"-").concat(_.id)],I=A.vl2,k=A.vl;if(!(k>o)){var E=i["".concat(p.id,"-").concat(_.id)],O=E.vx,P=E.vy,N=Math.log(Math.abs(_.depth-p.depth)/10)+1||1;N=N<1?1:N,_.comboId!==p.comboId&&(N+=1);var R=N?Math.pow(d,N):1,z=s(_)*l/I*R;if(t[g].x+=O*z,t[g].y+=P*z,g<M&&f){var B=c(p)+h(p)||1,Y=c(_)+h(_)||1,q=B+Y;if(I<q*q){var j=(q-k)/k*u,Z=Y*Y,tt=Z/(B*B+Z),lt=O*j,J=P*j;t[g].x+=lt*tt,t[g].y+=J*tt,tt=1-tt,t[M].x-=lt*tt,t[M].y-=J*tt}}}}})}})},e.prototype.calAttractive=function(t,i){var n=this,a=n.edges,o=n.linkDistance,s=n.alpha,l=n.edgeStrength,u=n.bias,f=n.depthAttractiveForceScale;a.forEach(function(c,h){var d=(0,$i.getEdgeTerminal)(c,"source"),v=(0,$i.getEdgeTerminal)(c,"target");if(!(!d||!v||d===v)){var p=n.indexMap[d],g=n.indexMap[v],m=n.nodeMap[d],y=n.nodeMap[v];if(!(!m||!y)){var x=m.depth===y.depth?0:Math.log(Math.abs(m.depth-y.depth)/10);m.comboId===y.comboId&&(x=x/2);var b=x?Math.pow(f,x):1;if(m.comboId!==y.comboId&&b===1?b=f/2:m.comboId===y.comboId&&(b=2),!(!(0,$i.isNumber)(y.x)||!(0,$i.isNumber)(m.x)||!(0,$i.isNumber)(y.y)||!(0,$i.isNumber)(m.y))){var _=i["".concat(v,"-").concat(d)],M=_.vl,A=_.vx,I=_.vy,k=(M-o(c))/M*s*l(c)*b,E=A*k,O=I*k,P=u[h];t[g].x-=E*P,t[g].y-=O*P,t[p].x+=E*(1-P),t[p].y+=O*(1-P)}}}})},e.prototype.getType=function(){return"comboForce"},e}(gtr.Base);HI.ComboForceLayout=mtr});var dut=$(a_=>{"use strict";var ytr=a_&&a_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),MM=a_&&a_.__assign||function(){return MM=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},MM.apply(this,arguments)};Object.defineProperty(a_,"__esModule",{value:!0});a_.ComboCombinedLayout=void 0;var xtr=ZF(),btr=Rs(),df=No(),b8=vut(),wtr=function(r){ytr(e,r);function e(t){var i=r.call(this)||this;return i.center=[0,0],i.nodes=[],i.edges=[],i.combos=[],i.comboEdges=[],i.comboPadding=10,i.comboTrees=[],i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.center;if(!i||i.length===0){t.onLayoutEnd&&t.onLayoutEnd();return}if(i.length===1){i[0].x=n[0],i[0].y=n[1],t.onLayoutEnd&&t.onLayoutEnd();return}t.initVals(),t.run(),t.onLayoutEnd&&t.onLayoutEnd()},e.prototype.run=function(){var t,i=this,n=i.nodes,a=i.edges,o=i.combos,s=i.comboEdges,l=i.center,u={};n.forEach(function(I){u[I.id]=I});var f={};o.forEach(function(I){f[I.id]=I});var c=i.getInnerGraphs(u),h=[],d=[],v={},p=!0;this.comboTrees.forEach(function(I){var k=c[I.id];if(!!k){var E=MM(MM({},I),{x:k.x||f[I.id].x,y:k.y||f[I.id].y,fx:k.fx||f[I.id].fx,fy:k.fy||f[I.id].fy,mass:k.mass||f[I.id].mass,size:k.size});d.push(E),!isNaN(E.x)&&E.x!==0&&!isNaN(E.y)&&E.y!==0?p=!1:(E.x=Math.random()*100,E.y=Math.random()*100),h.push(I.id),(0,df.traverseTreeUp)(I,function(O){return O.id!==I.id&&(v[O.id]=I.id),!0})}}),n.forEach(function(I){if(!(I.comboId&&f[I.comboId])){var k=MM({},I);d.push(k),!isNaN(k.x)&&k.x!==0&&!isNaN(k.y)&&k.y!==0?p=!1:(k.x=Math.random()*100,k.y=Math.random()*100),h.push(I.id)}});var g=[];if(a.concat(s).forEach(function(I){var k=v[I.source]||I.source,E=v[I.target]||I.target;k!==E&&h.includes(k)&&h.includes(E)&&g.push({source:k,target:E})}),d==null?void 0:d.length){if(d.length===1)d[0].x=l[0],d[0].y=l[1];else{var m={nodes:d,edges:g},y=this.outerLayout||new b8.GForceLayout({gravity:1,factor:4,linkDistance:function(I,k,E){var O,P,N=((((O=k.size)===null||O===void 0?void 0:O[0])||30)+(((P=E.size)===null||P===void 0?void 0:P[0])||30))/2;return Math.min(N*1.5,700)}}),x=(t=y.getType)===null||t===void 0?void 0:t.call(y);if(y.updateCfg({center:l,kg:5,preventOverlap:!0,animate:!1}),p&&xtr.FORCE_LAYOUT_TYPE_MAP[x]){var b=d.length<100?new b8.MDSLayout:new b8.GridLayout;b.layout(m)}y.layout(m)}d.forEach(function(I){var k=c[I.id];if(!k){var E=u[I.id];E&&(E.x=I.x,E.y=I.y);return}k.visited=!0,k.x=I.x,k.y=I.y,k.nodes.forEach(function(O){O.x+=I.x,O.y+=I.y})})}for(var _=Object.keys(c),M=function(I){var k=_[I],E=c[k];if(!E)return"continue";E.nodes.forEach(function(O){E.visited||(O.x+=E.x||0,O.y+=E.y||0),u[O.id]&&(u[O.id].x=O.x,u[O.id].y=O.y)}),f[k]&&(f[k].x=E.x,f[k].y=E.y)},A=_.length-1;A>=0;A--)M(A);return{nodes:n,edges:a,combos:o,comboEdges:s}},e.prototype.getInnerGraphs=function(t){var i=this,n=i.comboTrees,a=i.nodeSize,o=i.edges,s=i.comboPadding,l=i.spacing,u={},f=this.innerLayout||new b8.ConcentricLayout({type:"concentric",sortBy:"id"});return f.center=[0,0],f.preventOverlap=!0,f.nodeSpacing=l,(n||[]).forEach(function(c){(0,df.traverseTreeUp)(c,function(h){var d,v=(s==null?void 0:s(h))||10;if((0,df.isArray)(v)&&(v=Math.max.apply(Math,v)),(d=h.children)===null||d===void 0?void 0:d.length){var g=h.children.map(function(P){if(P.itemType==="combo")return u[P.id];var N=t[P.id]||{};return MM(MM({},N),P)}),m=g.map(function(P){return P.id}),y={nodes:g,edges:o.filter(function(P){return m.includes(P.source)&&m.includes(P.target)})},x=1/0;g.forEach(function(P){var N;P.size||(P.size=((N=u[P.id])===null||N===void 0?void 0:N.size)||(a==null?void 0:a(P))||[30,30]),(0,df.isNumber)(P.size)&&(P.size=[P.size,P.size]),x>P.size[0]&&(x=P.size[0]),x>P.size[1]&&(x=P.size[1])}),f.layout(y);var b=(0,df.getLayoutBBox)(g),_=b.minX,M=b.minY,A=b.maxX,I=b.maxY,k={x:(A+_)/2,y:(I+M)/2};y.nodes.forEach(function(P){P.x-=k.x,P.y-=k.y});var E=Math.max(A-_,x)+v*2,O=Math.max(I-M,x)+v*2;u[h.id]={id:h.id,nodes:g,size:[E,O]}}else if(h.itemType==="combo"){var p=v?[v*2,v*2]:[30,30];u[h.id]={id:h.id,nodes:[],size:p}}return!0})}),u},e.prototype.initVals=function(){var t=this,i=t.nodeSize,n=t.spacing,a,o;if((0,df.isNumber)(n)?o=function(){return n}:(0,df.isFunction)(n)?o=n:o=function(){return 0},this.spacing=o,!i)a=function(h){var d=o(h);if(h.size){if((0,df.isArray)(h.size)){var v=h.size[0]>h.size[1]?h.size[0]:h.size[1];return(v+d)/2}if((0,df.isObject)(h.size)){var v=h.size.width>h.size.height?h.size.width:h.size.height;return(v+d)/2}return(h.size+d)/2}return 10+d/2};else if((0,df.isFunction)(i))a=function(h){var d=i(h),v=o(h);if((0,df.isArray)(h.size)){var p=h.size[0]>h.size[1]?h.size[0]:h.size[1];return(p+v)/2}return((d||10)+v)/2};else if((0,df.isArray)(i)){var s=i[0]>i[1]?i[0]:i[1],l=s/2;a=function(h){return l+o(h)/2}}else{var u=i/2;a=function(h){return u+o(h)/2}}this.nodeSize=a;var f=t.comboPadding,c;(0,df.isNumber)(f)?c=function(){return f}:(0,df.isArray)(f)?c=function(){return Math.max.apply(null,f)}:(0,df.isFunction)(f)?c=f:c=function(){return 0},this.comboPadding=c},e.prototype.getType=function(){return"comboCombined"},e}(btr.Base);a_.ComboCombinedLayout=wtr});var XWt=$(put=>{"use strict";Object.defineProperty(put,"__esModule",{value:!0});var _tr=function(){function r(e){this.id=e.id||0,this.rx=e.rx,this.ry=e.ry,this.fx=0,this.fy=0,this.mass=e.mass,this.degree=e.degree,this.g=e.g||0}return r.prototype.distanceTo=function(e){var t=this.rx-e.rx,i=this.ry-e.ry;return Math.hypot(t,i)},r.prototype.setPos=function(e,t){this.rx=e,this.ry=t},r.prototype.resetForce=function(){this.fx=0,this.fy=0},r.prototype.addForce=function(e){var t=e.rx-this.rx,i=e.ry-this.ry,n=Math.hypot(t,i);n=n<1e-4?1e-4:n;var a=this.g*(this.degree+1)*(e.degree+1)/n;this.fx+=a*t/n,this.fy+=a*i/n},r.prototype.in=function(e){return e.contains(this.rx,this.ry)},r.prototype.add=function(e){var t=this.mass+e.mass,i=(this.rx*this.mass+e.rx*e.mass)/t,n=(this.ry*this.mass+e.ry*e.mass)/t,a=this.degree+e.degree,o={rx:i,ry:n,mass:t,degree:a};return new r(o)},r}();put.default=_tr});var ZWt=$(gut=>{"use strict";Object.defineProperty(gut,"__esModule",{value:!0});var Str=function(){function r(e){this.xmid=e.xmid,this.ymid=e.ymid,this.length=e.length,this.massCenter=e.massCenter||[0,0],this.mass=e.mass||1}return r.prototype.getLength=function(){return this.length},r.prototype.contains=function(e,t){var i=this.length/2;return e<=this.xmid+i&&e>=this.xmid-i&&t<=this.ymid+i&&t>=this.ymid-i},r.prototype.NW=function(){var e=this.xmid-this.length/4,t=this.ymid+this.length/4,i=this.length/2,n={xmid:e,ymid:t,length:i},a=new r(n);return a},r.prototype.NE=function(){var e=this.xmid+this.length/4,t=this.ymid+this.length/4,i=this.length/2,n={xmid:e,ymid:t,length:i},a=new r(n);return a},r.prototype.SW=function(){var e=this.xmid-this.length/4,t=this.ymid-this.length/4,i=this.length/2,n={xmid:e,ymid:t,length:i},a=new r(n);return a},r.prototype.SE=function(){var e=this.xmid+this.length/4,t=this.ymid-this.length/4,i=this.length/2,n={xmid:e,ymid:t,length:i},a=new r(n);return a},r}();gut.default=Str});var KWt=$(mut=>{"use strict";Object.defineProperty(mut,"__esModule",{value:!0});var Ctr=function(){function r(e){this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,e!=null&&(this.quad=e)}return r.prototype.insert=function(e){if(this.body==null){this.body=e;return}this._isExternal()?(this.quad&&(this.NW=new r(this.quad.NW()),this.NE=new r(this.quad.NE()),this.SW=new r(this.quad.SW()),this.SE=new r(this.quad.SE())),this._putBody(this.body),this._putBody(e),this.body=this.body.add(e)):(this.body=this.body.add(e),this._putBody(e))},r.prototype._putBody=function(e){!this.quad||(e.in(this.quad.NW())&&this.NW?this.NW.insert(e):e.in(this.quad.NE())&&this.NE?this.NE.insert(e):e.in(this.quad.SW())&&this.SW?this.SW.insert(e):e.in(this.quad.SE())&&this.SE&&this.SE.insert(e))},r.prototype._isExternal=function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null},r.prototype.updateForce=function(e){if(!(this.body==null||e===this.body))if(this._isExternal())e.addForce(this.body);else{var t=this.quad?this.quad.getLength():0,i=this.body.distanceTo(e);t/i<this.theta?e.addForce(this.body):(this.NW&&this.NW.updateForce(e),this.NE&&this.NE.updateForce(e),this.SW&&this.SW.updateForce(e),this.SE&&this.SE.updateForce(e))}},r}();mut.default=Ctr});var xut=$(o_=>{"use strict";var Mtr=o_&&o_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),yut=o_&&o_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(o_,"__esModule",{value:!0});o_.ForceAtlas2Layout=void 0;var Atr=Rs(),Mx=No(),Etr=yut(XWt()),Ttr=yut(ZWt()),Itr=yut(KWt()),Ltr=function(r){Mtr(e,r);function e(t){var i=r.call(this)||this;return i.center=[0,0],i.width=300,i.height=300,i.nodes=[],i.edges=[],i.kr=5,i.kg=1,i.mode="normal",i.preventOverlap=!1,i.dissuadeHubs=!1,i.barnesHut=void 0,i.maxIteration=0,i.ks=.1,i.ksmax=10,i.tao=.1,i.onLayoutEnd=function(){},i.prune=void 0,i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.onLayoutEnd,a=t.prune,o=t.maxIteration;!t.width&&typeof window!="undefined"&&(t.width=window.innerWidth),!t.height&&typeof window!="undefined"&&(t.height=window.innerHeight);for(var s=[],l=i.length,u=0;u<l;u+=1){var f=i[u],c=10,h=10;(0,Mx.isNumber)(f.size)&&(c=f.size,h=f.size),(0,Mx.isArray)(f.size)?(isNaN(f.size[0])||(c=f.size[0]),isNaN(f.size[1])||(h=f.size[1])):(0,Mx.isObject)(f.size)&&(c=f.size.width,h=f.size.height),t.getWidth&&!isNaN(t.getWidth(f))&&(h=t.getWidth(f)),t.getHeight&&!isNaN(t.getHeight(f))&&(c=t.getHeight(f));var d=Math.max(c,h);s.push(d)}t.barnesHut===void 0&&l>250&&(t.barnesHut=!0),t.prune===void 0&&l>100&&(t.prune=!0),this.maxIteration===0&&!t.prune?(o=250,l<=200&&l>100?o=1e3:l>200&&(o=1200),this.maxIteration=o):this.maxIteration===0&&a&&(o=100,l<=200&&l>100?o=500:l>200&&(o=950),this.maxIteration=o),t.kr||(t.kr=50,l>100&&l<=500?t.kr=20:l>500&&(t.kr=1)),t.kg||(t.kg=20,l>100&&l<=500?t.kg=10:l>500&&(t.kg=1)),this.nodes=t.updateNodesByForces(s),n()},e.prototype.updateNodesByForces=function(t){for(var i=this,n=i.edges,a=i.maxIteration,o=i.nodes,s=n.filter(function(A){var I=(0,Mx.getEdgeTerminal)(A,"source"),k=(0,Mx.getEdgeTerminal)(A,"target");return I!==k}),l=o.length,u=s.length,f=[],c={},h={},d=[],v=0;v<l;v+=1)c[o[v].id]=v,f[v]=0,(o[v].x===void 0||isNaN(o[v].x))&&(o[v].x=Math.random()*1e3),(o[v].y===void 0||isNaN(o[v].y))&&(o[v].y=Math.random()*1e3),d.push({x:o[v].x,y:o[v].y});for(var v=0;v<u;v+=1){for(var p=void 0,g=void 0,m=0,y=0,x=0;x<l;x+=1){var b=(0,Mx.getEdgeTerminal)(s[v],"source"),_=(0,Mx.getEdgeTerminal)(s[v],"target");o[x].id===b?(p=o[x],m=x):o[x].id===_&&(g=o[x],y=x),h[v]={sourceIdx:m,targetIdx:y}}p&&(f[c[p.id]]+=1),g&&(f[c[g.id]]+=1)}var M=a;if(o=this.iterate(M,c,h,u,f,t),i.prune){for(var x=0;x<u;x+=1)f[h[x].sourceIdx]<=1?(o[h[x].sourceIdx].x=o[h[x].targetIdx].x,o[h[x].sourceIdx].y=o[h[x].targetIdx].y):f[h[x].targetIdx]<=1&&(o[h[x].targetIdx].x=o[h[x].sourceIdx].x,o[h[x].targetIdx].y=o[h[x].sourceIdx].y);i.prune=!1,i.barnesHut=!1,M=100,o=this.iterate(M,c,h,u,f,t)}return o},e.prototype.iterate=function(t,i,n,a,o,s){for(var l=this,u=l.nodes,f=l.kr,c=l.preventOverlap,h=l.barnesHut,d=u.length,v=0,p=100,g=t,m=50,y=[],x=[],b=[],_=0;_<d;_+=1)if(y[2*_]=0,y[2*_+1]=0,h){var M={id:_,rx:u[_].x,ry:u[_].y,mass:1,g:f,degree:o[_]};b[_]=new Etr.default(M)}for(;g>0;){for(var _=0;_<d;_+=1)x[2*_]=y[2*_],x[2*_+1]=y[2*_+1],y[2*_]=0,y[2*_+1]=0;y=this.getAttrForces(g,m,a,i,n,o,s,y),h&&(c&&g>m||!c)?y=this.getOptRepGraForces(y,b,o):y=this.getRepGraForces(g,m,y,p,s,o);var A=this.updatePos(y,x,v,o);u=A.nodes,v=A.sg,g--,l.tick&&l.tick()}return u},e.prototype.getAttrForces=function(t,i,n,a,o,s,l,u){for(var f=this,c=f.nodes,h=f.preventOverlap,d=f.dissuadeHubs,v=f.mode,p=f.prune,g=0;g<n;g+=1){var m=c[o[g].sourceIdx],y=o[g].sourceIdx,x=c[o[g].targetIdx],b=o[g].targetIdx;if(!(p&&(s[y]<=1||s[b]<=1))){var _=[x.x-m.x,x.y-m.y],M=Math.hypot(_[0],_[1]);M=M<1e-4?1e-4:M,_[0]=_[0]/M,_[1]=_[1]/M,h&&t<i&&(M=M-l[y]-l[b]);var A=M,I=A;v==="linlog"&&(A=Math.log(1+M),I=A),d&&(A=M/s[y],I=M/s[b]),h&&t<i&&M<=0?(A=0,I=0):h&&t<i&&M>0&&(A=M,I=M),u[2*a[m.id]]+=A*_[0],u[2*a[x.id]]-=I*_[0],u[2*a[m.id]+1]+=A*_[1],u[2*a[x.id]+1]-=I*_[1]}}return u},e.prototype.getRepGraForces=function(t,i,n,a,o,s){for(var l=this,u=l.nodes,f=l.preventOverlap,c=l.kr,h=l.kg,d=l.center,v=l.prune,p=u.length,g=0;g<p;g+=1){for(var m=g+1;m<p;m+=1)if(!(v&&(s[g]<=1||s[m]<=1))){var y=[u[m].x-u[g].x,u[m].y-u[g].y],x=Math.hypot(y[0],y[1]);x=x<1e-4?1e-4:x,y[0]=y[0]/x,y[1]=y[1]/x,f&&t<i&&(x=x-o[g]-o[m]);var b=c*(s[g]+1)*(s[m]+1)/x;f&&t<i&&x<0?b=a*(s[g]+1)*(s[m]+1):f&&t<i&&x===0?b=0:f&&t<i&&x>0&&(b=c*(s[g]+1)*(s[m]+1)/x),n[2*g]-=b*y[0],n[2*m]+=b*y[0],n[2*g+1]-=b*y[1],n[2*m+1]+=b*y[1]}var _=[u[g].x-d[0],u[g].y-d[1]],M=Math.hypot(_[0],_[1]);_[0]=_[0]/M,_[1]=_[1]/M;var A=h*(s[g]+1);n[2*g]-=A*_[0],n[2*g+1]-=A*_[1]}return n},e.prototype.getOptRepGraForces=function(t,i,n){for(var a=this,o=a.nodes,s=a.kg,l=a.center,u=a.prune,f=o.length,c=9e10,h=-9e10,d=9e10,v=-9e10,p=0;p<f;p+=1)u&&n[p]<=1||(i[p].setPos(o[p].x,o[p].y),o[p].x>=h&&(h=o[p].x),o[p].x<=c&&(c=o[p].x),o[p].y>=v&&(v=o[p].y),o[p].y<=d&&(d=o[p].y));for(var g=Math.max(h-c,v-d),m={xmid:(h+c)/2,ymid:(v+d)/2,length:g,massCenter:l,mass:f},y=new Ttr.default(m),x=new Itr.default(y),p=0;p<f;p+=1)u&&n[p]<=1||i[p].in(y)&&x.insert(i[p]);for(var p=0;p<f;p+=1)if(!(u&&n[p]<=1)){i[p].resetForce(),x.updateForce(i[p]),t[2*p]-=i[p].fx,t[2*p+1]-=i[p].fy;var b=[o[p].x-l[0],o[p].y-l[1]],_=Math.hypot(b[0],b[1]);_=_<1e-4?1e-4:_,b[0]=b[0]/_,b[1]=b[1]/_;var M=s*(n[p]+1);t[2*p]-=M*b[0],t[2*p+1]-=M*b[1]}return t},e.prototype.updatePos=function(t,i,n,a){for(var o=this,s=o.nodes,l=o.ks,u=o.tao,f=o.prune,c=o.ksmax,h=s.length,d=[],v=[],p=0,g=0,m=0;m<h;m+=1)if(!(f&&a[m]<=1)){var y=[t[2*m]-i[2*m],t[2*m+1]-i[2*m+1]],x=Math.hypot(y[0],y[1]),b=[t[2*m]+i[2*m],t[2*m+1]+i[2*m+1]],_=Math.hypot(b[0],b[1]);d[m]=x,v[m]=_/2,p+=(a[m]+1)*d[m],g+=(a[m]+1)*v[m]}var M=n;n=u*g/p,M!==0&&(n=n>1.5*M?1.5*M:n);for(var m=0;m<h;m+=1)if(!(f&&a[m]<=1)&&!((0,Mx.isNumber)(s[m].fx)&&(0,Mx.isNumber)(s[m].fy))){var A=l*n/(1+n*Math.sqrt(d[m])),I=Math.hypot(t[2*m],t[2*m+1]);I=I<1e-4?1e-4:I;var k=c/I;A=A>k?k:A;var E=A*t[2*m],O=A*t[2*m+1];s[m].x+=E,s[m].y+=O}return{nodes:s,sg:n}},e}(Atr.Base);o_.ForceAtlas2Layout=Ltr});var QWt=$(JN=>{"use strict";var UI=JN&&JN.__assign||function(){return UI=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},UI.apply(this,arguments)};Object.defineProperty(JN,"__esModule",{value:!0});var Otr=function(){function r(){this.cells=[],this.columnNum=0,this.rowNum=0,this.additionColumn=[],this.additionRow=[]}return r.prototype.init=function(e,t,i){this.cells=[],this.CELL_W=i.CELL_W||r.DEFAULT_CELL_W,this.CELL_H=i.CELL_H||r.DEFAULT_CELL_H,this.columnNum=Math.ceil(e/this.CELL_W),this.rowNum=Math.ceil(t/this.CELL_H),r.MIN_DIST=Math.pow(e,2)+Math.pow(t,2);for(var n=0;n<this.columnNum;n++){for(var a=[],o=0;o<this.rowNum;o++){var s={dx:n,dy:o,x:n*this.CELL_W,y:o*this.CELL_H,occupied:!1};a.push(s)}this.cells.push(a)}},r.prototype.findGridByNodeId=function(e){for(var t,i,n=0;n<this.columnNum;n++)for(var a=0;a<this.rowNum;a++)if(this.cells[n][a].node&&((i=(t=this.cells[n][a])===null||t===void 0?void 0:t.node)===null||i===void 0?void 0:i.id)===e)return{column:n,row:a};return null},r.prototype.sqdist=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},r.prototype.occupyNearest=function(e){for(var t=r.MIN_DIST,i,n=null,a=0;a<this.columnNum;a++)for(var o=0;o<this.rowNum;o++)!this.cells[a][o].occupied&&(i=this.sqdist(e,this.cells[a][o]))<t&&(t=i,n=this.cells[a][o]);return n&&(n.occupied=!0),n},r.prototype.insertColumn=function(e,t){if(!(t<=0)){for(var i=0;i<t;i++){this.cells[i+this.columnNum]=[];for(var n=0;n<this.rowNum;n++)this.cells[i+this.columnNum][n]={dx:i,dy:n,x:i*this.CELL_W,y:n*this.CELL_H,occupied:!1,node:null}}for(var i=this.columnNum-1;i>e;i--)for(var n=0;n<this.rowNum;n++)this.cells[i+t][n]=UI(UI({},this.cells[i][n]),{x:(i+t)*this.CELL_W,y:n*this.CELL_H}),this.cells[i][n]={x:i*this.CELL_W,y:n*this.CELL_H,occupied:!0,node:null};for(var n=0;n<this.additionColumn.length;n++)this.additionColumn[n]>=e&&(this.additionColumn[n]+=t);for(var i=0;i<t;i++)this.additionColumn.push(e+i+1);this.columnNum+=t}},r.prototype.insertRow=function(e,t){if(!(t<=0)){for(var i=0;i<t;i++)for(var n=0;n<this.columnNum;n++)this.cells[n][i+this.rowNum]={dx:n,dy:i,x:n*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null};for(var n=0;n<this.columnNum;n++)for(var i=this.rowNum-1;i>e;i--)this.cells[n][i+t]=UI(UI({},this.cells[n][i]),{dx:n,dy:i+t,x:n*this.CELL_W,y:(i+t)*this.CELL_H}),this.cells[n][i]={dx:n,dy:i,x:n*this.CELL_W,y:i*this.CELL_H,occupied:!1,node:null};for(var i=0;i<this.additionRow.length;i++)this.additionRow[i]>=e&&(this.additionRow[i]+=t);for(var n=0;n<t;n++)this.additionRow.push(e+n+1);this.rowNum+=t}},r.prototype.getNodes=function(){for(var e=[],t=0;t<this.columnNum;t++)for(var i=0;i<this.rowNum;i++)this.cells[t][i].node&&e.push(this.cells[t][i]);return e},r.MIN_DIST=50,r.DEFAULT_CELL_W=80,r.DEFAULT_CELL_H=80,r}();JN.default=Otr});var $Wt=$(tB=>{"use strict";var ktr=tB&&tB.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tB,"__esModule",{value:!0});var Ptr=ktr(QWt());function Dtr(r,e){if(!r.nodes||r.nodes.length===0)return r;var t=e.width,i=e.height,n=e.nodeMinGap,a=1e4,o=1e4;r.nodes.forEach(function(y){var x=y.size[0]||50,b=y.size[1]||50;a=Math.min(x,a),o=Math.min(b,o)});var s=new Ptr.default;s.init(t,i,{CELL_H:o,CELL_W:a}),r.nodes.forEach(function(y){var x=s.occupyNearest(y);x&&(x.node={id:y.id,size:y.size},y.x=x.x,y.y=x.y,y.dx=x.dx,y.dy=x.dy)});for(var l=0;l<r.nodes.length;l++){var u=r.nodes[l],f=s.findGridByNodeId(u.id);if(!f)throw new Error("can not find node cell");var c=f.column,h=f.row;if(u.size[0]+n>a){for(var d=Math.ceil((u.size[0]+n)/a)-1,v=d,p=0;p<d;p++){var g=s.additionColumn.indexOf(c+p+1)>-1;if(g&&!s.cells[c+p+1][h].node)v--;else break}s.insertColumn(c,v)}if(u.size[1]+n>o){for(var d=Math.ceil((u.size[1]+n)/o)-1,v=d,p=0;p<d;p++){var g=s.additionRow.indexOf(h+p+1)>-1;if(g&&!s.cells[c][h+p+1].node)v--;else break}s.insertRow(h,v)}}for(var l=0;l<s.columnNum;l++)for(var m=function(x){var b=s.cells[l][x];if(b.node){var _=r.nodes.find(function(M){var A;return M.id===((A=b==null?void 0:b.node)===null||A===void 0?void 0:A.id)});_&&(_.x=b.x+_.size[0]/2,_.y=b.y+_.size[1]/2)}},p=0;p<s.rowNum;p++)m(p)}tB.default=Dtr});var o8t=$(_ut=>{"use strict";Object.defineProperty(_ut,"__esModule",{value:!0});var JWt=1200,t8t=800,w8=1e7,eB=10,e8t=3.141592653589793,but=1.5707963267948966,Ftr=e8t*.375,Ntr=e8t*.625,_8=new Map,Btr=10,Rtr=10,wut=.8,r8t=.1,Gtr=.5;function ztr(r,e,t){var i=r.x-r.size[0]/2,n=r.y-r.size[1]/2,a=r.x+r.size[0]/2,o=r.y+r.size[1]/2,s=e.x-e.size[0]/2,l=e.y-e.size[1]/2,u=e.x+e.size[0]/2,f=e.y+e.size[1]/2,c=r.x,h=r.y,d=e.x,v=e.y,p=d-c,g=Math.atan2(p,v-h),m=0,y=0,x=0,b=0;g>but?(y=n-f,m=s-a,x=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)),b=parseFloat(m?(m/Math.sin(g)).toFixed(2):y.toFixed(2))):0<g&&g<=but?(y=l-o,m=s-a,y>m?x=b=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)):x=b=parseFloat(m?(m/Math.sin(g)).toFixed(2):y.toFixed(2))):g<-but?(y=n-f,m=-(u-i),y>m?x=b=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)):x=b=parseFloat(m?(m/Math.sin(g)).toFixed(2):y.toFixed(2))):(y=l-o,Math.abs(p)>(a-i)/2?m=i-u:m=p,y>m?x=b=parseFloat(y?(y/Math.cos(g)).toFixed(2):m.toFixed(2)):x=b=parseFloat(m&&g!==0?(m/Math.sin(g)).toFixed(2):y.toFixed(2)));var _=parseFloat(g.toFixed(2)),M=t;return t&&(M=Ftr<_&&_<Ntr),{distance:Math.abs(x<b?x:b),isHoriz:M}}function i8t(r,e){var t=_8.get(r.id)||[],i=t.find(function(B){return B.source===e.id||B.target===e.id}),n=r.size[0]*r.size[1],a=e.size[0]*e.size[1],o=n>a?e:r,s=n>a?r:e,l=o.x-o.size[0]/2,u=o.y-o.size[1]/2,f=o.x+o.size[0]/2,c=o.y+o.size[1]/2,h=s.x-s.size[0]/2,d=s.y-s.size[1]/2,v=s.x+s.size[0]/2,p=s.y+s.size[1]/2,g=o.x,m=o.y,y=s.x,x=s.y,b=f>=h&&v>=l&&c>=d&&p>=u,_=0,M=0;if(b){M=Math.sqrt(Math.pow(y-g,2)+Math.pow(x-m,2));var A=l>h?l:h,I=u>d?u:d,k=f<v?f:v,E=c<p?c:p,O=k-A,P=E-I,N=O*P;M===0&&(M=1e-7),_=eB*1/M*100+N,_*=w8}else{var R=!1,z=ztr(o,s,R);M=z.distance,R=z.isHoriz,M<=eB?M!==0?i?_+=eB+w8*1/M:_+=eB+w8*eB/M:_+=w8:(_+=M,i&&(_+=M*M))}return _}function n8t(r){for(var e=0,t=0;t<r.length;t++){var i=r[t];(i.x<0||i.y<0||i.x>JWt||i.y>t8t)&&(e+=1e12);for(var n=t+1;n<r.length;n++)e+=i8t(i,r[n])}return e}function jtr(r,e,t,i){var n=new Map;t.forEach(function(g,m){n.set(g.id,g)});var a=i.filter(function(g){return g.source===r.id||g.target===r.id})||[],o=[];a.forEach(function(g){var m=g.source===r.id?g.target:g.source,y=n.get(m);y&&o.push(y)});for(var s=!0,l=0;l<o.length;l++){var u=o[l],f=Math.atan((r.y-u.y)/(u.x-r.y))*180,c=Math.atan((e.y-u.y)/(u.x-e.y))*180,h=f<30||f>150,d=c<30||c>150,v=f>70&&f<110,p=c>70&&c<110;if(h&&!d||f*c<0){s=!1;break}else if(v&&!p||f*c<0){s=!1;break}else if((u.x-r.x)*(u.x-e.x)<0){s=!1;break}else if((u.y-r.y)*(u.y-e.y)<0){s=!1;break}}return s}function Ytr(r,e){for(var t=!1,i=1,n=Btr*i,a=Rtr*i,o=[n,-n,0,0],s=[0,0,a,-a],l=0;l<r.length;++l)for(var u=r[l],f=a8t(u,r),c=0;c<o.length;c++){var h=jtr(u,{x:u.x+o[c],y:u.y+s[c]},r,e);if(h){u.x+=o[c],u.y+=s[c];var d=a8t(u,r),v=Math.random();d<f||v<wut&&v>r8t?(f=d,t=!0):(u.x-=o[c],u.y-=s[c])}}return wut>r8t&&(wut*=Gtr),t?n8t(r):0}function a8t(r,e){var t=0;(r.x<0||r.y<0||r.x+r.size[0]+20>JWt||r.y+r.size[1]+20>t8t)&&(t+=1e12);for(var i=0;i<e.length;++i)r.id!==e[i].id&&(t+=i8t(r,e[i]));return t}function Wtr(r,e){if(r.length===0)return{nodes:r,edges:e};r.forEach(function(u){var f=e.filter(function(c){return c.source===u.id||c.target===u.id});_8.set(u,f)}),r.sort(function(u,f){var c,h;return((c=_8.get(u.id))===null||c===void 0?void 0:c.length)-((h=_8.get(f.id))===null||h===void 0?void 0:h.length)});for(var t=n8t(r),i=20,n=1,a=0,o=50,s=0;i>0&&(s++,!(s>=o));){var l=Ytr(r,e);l!==0&&(a=l),n=a-t,t=a,n===0?--i:i=20}return r.forEach(function(u){u.x=u.x-u.size[0]/2,u.y=u.y-u.size[1]/2}),{nodes:r,edges:e}}_ut.default=Wtr});var l8t=$(xh=>{"use strict";var Sut=xh&&xh.__assign||function(){return Sut=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Sut.apply(this,arguments)},Vtr=xh&&xh.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),qtr=xh&&xh.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Htr=xh&&xh.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Vtr(e,r,t);return qtr(e,r),e},s8t=xh&&xh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xh,"__esModule",{value:!0});var XI=Htr(oW()),Utr=s8t($Wt()),Xtr=s8t(o8t()),Ztr=FW();function Ktr(r,e){var t=r.nodes,i=r.edges,n=e.width,a=e.height;if(!(t==null?void 0:t.length))return Promise.resolve();var o=[];t.forEach(function(v){var p=i.filter(function(m){return m.source===v.id||m.target===v.id});if(p.length>1){var g=Sut({},v);delete g.size,o.push(g)}});var s=[];i.forEach(function(v){var p=o.find(function(m){return m.id===v.source}),g=o.find(function(m){return m.id===v.target});p&&g&&s.push(v)});var l=new Ztr.DagreLayout({type:"dagre",ranksep:e.nodeMinGap,nodesep:e.nodeMinGap}),u=l.layout({nodes:o,edges:s}).nodes;t.forEach(function(v){var p=(u||[]).find(function(g){return g.id===v.id});v.x=(p==null?void 0:p.x)||n/2,v.y=(p==null?void 0:p.y)||a/2});var f=JSON.parse(JSON.stringify(t)),c=JSON.parse(JSON.stringify(i)),h=XI.forceSimulation().nodes(f).force("link",XI.forceLink(c).id(function(v){return v.id}).distance(function(v){var p=s.find(function(g){return g.source===v.source&&g.target===v.target});return p?30:20})).force("charge",XI.forceManyBody()).force("center",XI.forceCenter(n/2,a/2)).force("x",XI.forceX(n/2)).force("y",XI.forceY(a/2)).alpha(.3).alphaDecay(.08).alphaMin(.001),d=new Promise(function(v){h.on("end",function(){t.forEach(function(_){var M=f.find(function(A){return A.id===_.id});M&&(_.x=M.x,_.y=M.y)});var p=Math.min.apply(Math,t.map(function(_){return _.x})),g=Math.max.apply(Math,t.map(function(_){return _.x})),m=Math.min.apply(Math,t.map(function(_){return _.y})),y=Math.max.apply(Math,t.map(function(_){return _.y})),x=n/(g-p),b=a/(y-m);t.forEach(function(_){_.x!==void 0&&x<1&&(_.x=(_.x-p)*x),_.y!==void 0&&b<1&&(_.y=(_.y-m)*b)}),t.forEach(function(_){_.sizeTemp=_.size,_.size=[10,10]}),(0,Xtr.default)(t,i),t.forEach(function(_){_.size=_.sizeTemp||[],delete _.sizeTemp}),(0,Utr.default)({nodes:t,edges:i},e),v()})});return d}xh.default=Ktr});var Cut=$(s_=>{"use strict";var Qtr=s_&&s_.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),$tr=s_&&s_.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(s_,"__esModule",{value:!0});s_.ERLayout=void 0;var Jtr=Rs(),ter=$tr(l8t()),eer=function(r){Qtr(e,r);function e(t){var i=r.call(this)||this;return i.width=300,i.height=300,i.nodeMinGap=50,i.onLayoutEnd=function(){},t&&i.updateCfg(t),i}return e.prototype.getDefaultCfg=function(){return{width:300,height:300,nodeMinGap:50}},e.prototype.execute=function(){var t=this,i=t.nodes,n=t.edges;return i==null||i.forEach(function(a){a.size||(a.size=[50,50])}),(0,ter.default)({nodes:i,edges:n},{width:this.width,height:this.height,nodeMinGap:this.nodeMinGap}).then(function(){t.onLayoutEnd&&t.onLayoutEnd()})},e.prototype.getType=function(){return"er"},e}(Jtr.Base);s_.ERLayout=eer});var u8t=$(ZI=>{"use strict";Object.defineProperty(ZI,"__esModule",{value:!0});ZI.Layouts=ZI.Layout=void 0;var rer=xit(),ier=bit(),ner=wit(),aer=Ait(),oer=Sit(),ser=Eit(),ler=Tit(),uer=FW(),fer=Alt(),cer=Elt(),her=Ilt(),der=Llt(),ver=lut(),per=cut(),ger=hut(),mer=dut(),yer=xut(),xer=Cut(),ber=mlt(),wer=No(),_er=function(){function r(e){var t=(0,rer.getLayoutByName)(e.type);this.layoutInstance=new t(e)}return r.prototype.layout=function(e){return this.layoutInstance.layout(e)},r.prototype.updateCfg=function(e){this.layoutInstance.updateCfg(e)},r.prototype.init=function(e){this.correctLayers(e.nodes),this.layoutInstance.init(e)},r.prototype.correctLayers=function(e){if(!!(e==null?void 0:e.length)){var t=1/0,i=[];if(e.forEach(function(a){(0,wer.isString)(a.layer)&&(a.layer=parseInt(a.layer,10)),!(a.layer===void 0||isNaN(a.layer))&&(i.push(a),a.layer<t&&(t=a.layer))}),t<=0){var n=Math.abs(t)+1;i.forEach(function(a){return a.layer+=n})}}},r.prototype.execute=function(){this.layoutInstance.execute()},r.prototype.getDefaultCfg=function(){return this.layoutInstance.getDefaultCfg()},r.prototype.destroy=function(){return this.layoutInstance.destroy()},r}();ZI.Layout=_er;ZI.Layouts={force:ser.ForceLayout,fruchterman:der.FruchtermanLayout,forceAtlas2:yer.ForceAtlas2Layout,gForce:oer.GForceLayout,force2:aer.Force2Layout,dagre:uer.DagreLayout,dagreCompound:ber.DagreCompoundLayout,circular:ler.CircularLayout,radial:fer.RadialLayout,concentric:cer.ConcentricLayout,grid:ier.GridLayout,mds:her.MDSLayout,comboForce:ger.ComboForceLayout,comboCombined:mer.ComboCombinedLayout,random:ner.RandomLayout,"gForce-gpu":per.GForceGPULayout,"fruchterman-gpu":ver.FruchtermanGPULayout,er:xer.ERLayout}});var c8t=$(f8t=>{"use strict";Object.defineProperty(f8t,"__esModule",{value:!0})});var vut=$(zi=>{"use strict";var Ser=zi&&zi.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Cer=zi&&zi.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Ser(e,r,t)};Object.defineProperty(zi,"__esModule",{value:!0});zi.ERLayout=zi.ForceAtlas2Layout=zi.ComboCombinedLayout=zi.ComboForceLayout=zi.GForceGPULayout=zi.FruchtermanGPULayout=zi.FruchtermanLayout=zi.MDSLayout=zi.ConcentricLayout=zi.RadialLayout=zi.DagreCompoundLayout=zi.DagreLayout=zi.CircularLayout=zi.ForceLayout=zi.Force2Layout=zi.GForceLayout=zi.RandomLayout=zi.GridLayout=zi.Layouts=zi.Layout=void 0;var Mer=bit();Object.defineProperty(zi,"GridLayout",{enumerable:!0,get:function(){return Mer.GridLayout}});var Aer=wit();Object.defineProperty(zi,"RandomLayout",{enumerable:!0,get:function(){return Aer.RandomLayout}});var Eer=Sit();Object.defineProperty(zi,"GForceLayout",{enumerable:!0,get:function(){return Eer.GForceLayout}});var Ter=Ait();Object.defineProperty(zi,"Force2Layout",{enumerable:!0,get:function(){return Ter.Force2Layout}});var Ier=Eit();Object.defineProperty(zi,"ForceLayout",{enumerable:!0,get:function(){return Ier.ForceLayout}});var Ler=Tit();Object.defineProperty(zi,"CircularLayout",{enumerable:!0,get:function(){return Ler.CircularLayout}});var Oer=FW();Object.defineProperty(zi,"DagreLayout",{enumerable:!0,get:function(){return Oer.DagreLayout}});var ker=mlt();Object.defineProperty(zi,"DagreCompoundLayout",{enumerable:!0,get:function(){return ker.DagreCompoundLayout}});var Per=Alt();Object.defineProperty(zi,"RadialLayout",{enumerable:!0,get:function(){return Per.RadialLayout}});var Der=Elt();Object.defineProperty(zi,"ConcentricLayout",{enumerable:!0,get:function(){return Der.ConcentricLayout}});var Fer=Ilt();Object.defineProperty(zi,"MDSLayout",{enumerable:!0,get:function(){return Fer.MDSLayout}});var Ner=Llt();Object.defineProperty(zi,"FruchtermanLayout",{enumerable:!0,get:function(){return Ner.FruchtermanLayout}});var Ber=lut();Object.defineProperty(zi,"FruchtermanGPULayout",{enumerable:!0,get:function(){return Ber.FruchtermanGPULayout}});var Rer=cut();Object.defineProperty(zi,"GForceGPULayout",{enumerable:!0,get:function(){return Rer.GForceGPULayout}});var Ger=hut();Object.defineProperty(zi,"ComboForceLayout",{enumerable:!0,get:function(){return Ger.ComboForceLayout}});var zer=dut();Object.defineProperty(zi,"ComboCombinedLayout",{enumerable:!0,get:function(){return zer.ComboCombinedLayout}});var jer=xut();Object.defineProperty(zi,"ForceAtlas2Layout",{enumerable:!0,get:function(){return jer.ForceAtlas2Layout}});var Yer=Cut();Object.defineProperty(zi,"ERLayout",{enumerable:!0,get:function(){return Yer.ERLayout}});var h8t=u8t();Object.defineProperty(zi,"Layout",{enumerable:!0,get:function(){return h8t.Layout}});Object.defineProperty(zi,"Layouts",{enumerable:!0,get:function(){return h8t.Layouts}});Cer(c8t(),zi)});var d8t=$(bh=>{"use strict";var Wer=bh&&bh.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Ver=bh&&bh.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Wer(e,r,t)};Object.defineProperty(bh,"__esModule",{value:!0});bh.getLayoutByName=bh.unRegisterLayout=bh.registerLayout=void 0;var Mut=xit();Object.defineProperty(bh,"registerLayout",{enumerable:!0,get:function(){return Mut.registerLayout}});Object.defineProperty(bh,"unRegisterLayout",{enumerable:!0,get:function(){return Mut.unRegisterLayout}});Object.defineProperty(bh,"getLayoutByName",{enumerable:!0,get:function(){return Mut.getLayoutByName}});Ver(vut(),bh)});var Eut=$((rB,Aut)=>{(function(e,t){typeof rB=="object"&&typeof Aut=="object"?Aut.exports=t():typeof define=="function"&&define.amd?define([],t):typeof rB=="object"?rB.Hierarchy=t():e.Hierarchy=t()})(typeof self!="undefined"?self:rB,function(){return function(r){var e={};function t(i){if(e[i])return e[i].exports;var n=e[i]={i,l:!1,exports:{}};return r[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=r,t.c=e,t.d=function(i,n,a){t.o(i,n)||Object.defineProperty(i,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(n,"a",n),n},t.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},t.p="",t(t.s=5)}([function(r,e){function t(i,n,a,o){return o===void 0&&(o="height"),a==="center"?(i[o]+n[o])/2:i.height}r.exports={assign:Object.assign,getHeight:t}},function(r,e,t){var i=t(3),n=function(){function a(s,l){l===void 0&&(l={});var u=this;u.options=l,u.rootNode=i(s,l)}var o=a.prototype;return o.execute=function(){throw new Error("please override this method")},a}();r.exports=n},function(r,e,t){var i=t(4),n=["LR","RL","TB","BT","H","V"],a=["LR","RL","H"],o=function(f){return a.indexOf(f)>-1},s=n[0];r.exports=function(u,f,c){var h=f.direction||s;if(f.isHorizontal=o(h),h&&n.indexOf(h)===-1)throw new TypeError("Invalid direction: "+h);if(h===n[0])c(u,f);else if(h===n[1])c(u,f),u.right2left();else if(h===n[2])c(u,f);else if(h===n[3])c(u,f),u.bottom2top();else if(h===n[4]||h===n[5]){var d=i(u,f),v=d.left,p=d.right;c(v,f),c(p,f),f.isHorizontal?v.right2left():v.bottom2top(),p.translate(v.x-p.x,v.y-p.y),u.x=v.x,u.y=p.y;var g=u.getBoundingBox();f.isHorizontal?g.top<0&&u.translate(0,-g.top):g.left<0&&u.translate(-g.left,0)}var m=f.fixedRoot;return m===void 0&&(m=!0),m&&u.translate(-(u.x+u.width/2+u.hgap),-(u.y+u.height/2+u.vgap)),l(u,f),u};function l(u,f){if(f.radial){var c=f.isHorizontal?["x","y"]:["y","x"],h=c[0],d=c[1],v={x:1/0,y:1/0},p={x:-1/0,y:-1/0},g=0;u.DFTraverse(function(x){g++;var b=x.x,_=x.y;v.x=Math.min(v.x,b),v.y=Math.min(v.y,_),p.x=Math.max(p.x,b),p.y=Math.max(p.y,_)});var m=p[d]-v[d];if(m===0)return;var y=Math.PI*2/g;u.DFTraverse(function(x){var b=(x[d]-v[d])/m*(Math.PI*2-y)+y,_=x[h]-u[h];x.x=Math.cos(b)*_,x.y=Math.sin(b)*_})}}},function(r,e,t){var i=t(0),n=18,a=n*2,o=n,s={getId:function(c){return c.id||c.name},getPreH:function(c){return c.preH||0},getPreV:function(c){return c.preV||0},getHGap:function(c){return c.hgap||o},getVGap:function(c){return c.vgap||o},getChildren:function(c){return c.children},getHeight:function(c){return c.height||a},getWidth:function(c){var h=c.label||" ";return c.width||h.split("").length*n}};function l(f,c){var h=this;if(h.vgap=h.hgap=0,f instanceof l)return f;h.data=f;var d=c.getHGap(f),v=c.getVGap(f);return h.preH=c.getPreH(f),h.preV=c.getPreV(f),h.width=c.getWidth(f),h.height=c.getHeight(f),h.width+=h.preH,h.height+=h.preV,h.id=c.getId(f),h.x=h.y=0,h.depth=0,h.children||(h.children=[]),h.addGap(d,v),h}i.assign(l.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(c,h){var d=this;d.hgap+=c,d.vgap+=h,d.width+=2*c,d.height+=2*h},eachNode:function(c){for(var h=this,d=[h],v;v=d.shift();)c(v),d=v.children.concat(d)},DFTraverse:function(c){this.eachNode(c)},BFTraverse:function(c){for(var h=this,d=[h],v;v=d.shift();)c(v),d=d.concat(v.children)},getBoundingBox:function(){var c={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(h){c.left=Math.min(c.left,h.x),c.top=Math.min(c.top,h.y),c.width=Math.max(c.width,h.x+h.width),c.height=Math.max(c.height,h.y+h.height)}),c},translate:function(c,h){c===void 0&&(c=0),h===void 0&&(h=0),this.eachNode(function(d){d.x+=c,d.y+=h,d.x+=d.preH,d.y+=d.preV})},right2left:function(){var c=this,h=c.getBoundingBox();c.eachNode(function(d){d.x=d.x-(d.x-h.left)*2-d.width}),c.translate(h.width,0)},bottom2top:function(){var c=this,h=c.getBoundingBox();c.eachNode(function(d){d.y=d.y-(d.y-h.top)*2-d.height}),c.translate(0,h.height)}});function u(f,c,h){c===void 0&&(c={}),c=i.assign({},s,c);var d=new l(f,c),v=[d],p;if(!h&&!f.collapsed){for(;p=v.shift();)if(!p.data.collapsed){var g=c.getChildren(p.data),m=g?g.length:0;if(p.children=new Array(m),g&&m)for(var y=0;y<m;y++){var x=new l(g[y],c);p.children[y]=x,v.push(x),x.parent=p,x.depth=p.depth+1}}}return d}r.exports=u},function(r,e,t){var i=t(3);r.exports=function(n,a){for(var o=i(n.data,a,!0),s=i(n.data,a,!0),l=n.children.length,u=Math.round(l/2),f=a.getSide||function(v,p){return p<u?"right":"left"},c=0;c<l;c++){var h=n.children[c],d=f(h,c);d==="right"?s.children.push(h):o.children.push(h)}return o.eachNode(function(v){v.isRoot()||(v.side="left")}),s.eachNode(function(v){v.isRoot()||(v.side="right")}),{left:o,right:s}}},function(r,e,t){var i={compactBox:t(6),dendrogram:t(8),indented:t(10),mindmap:t(12)};r.exports=i},function(r,e,t){function i(h,d){h.prototype=Object.create(d.prototype),h.prototype.constructor=h,n(h,d)}function n(h,d){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,p){return v.__proto__=p,v},n(h,d)}var a=t(1),o=t(7),s=t(2),l=t(0),u=function(h){function d(){return h.apply(this,arguments)||this}i(d,h);var v=d.prototype;return v.execute=function(){var g=this;return s(g.rootNode,g.options,o)},d}(a),f={};function c(h,d){return d=l.assign({},f,d),new u(h,d).execute()}r.exports=c},function(r,e){function t(l,u,f,c){c===void 0&&(c=[]);var h=this;h.w=l||0,h.h=u||0,h.y=f||0,h.x=0,h.c=c||[],h.cs=c.length,h.prelim=0,h.mod=0,h.shift=0,h.change=0,h.tl=null,h.tr=null,h.el=null,h.er=null,h.msel=0,h.mser=0}t.fromNode=function(l,u){if(!l)return null;var f=[];return l.children.forEach(function(c){f.push(t.fromNode(c,u))}),u?new t(l.height,l.width,l.x,f):new t(l.width,l.height,l.y,f)};function i(l,u,f){f?l.y+=u:l.x+=u,l.children.forEach(function(c){i(c,u,f)})}function n(l,u){var f=u?l.y:l.x;return l.children.forEach(function(c){f=Math.min(n(c,u),f)}),f}function a(l,u){var f=n(l,u);i(l,-f,u)}function o(l,u,f){f?u.y=l.x:u.x=l.x,l.c.forEach(function(c,h){o(c,u.children[h],f)})}function s(l,u,f){f===void 0&&(f=0),u?(l.x=f,f+=l.width):(l.y=f,f+=l.height),l.children.forEach(function(c){s(c,u,f)})}r.exports=function(l,u){u===void 0&&(u={});var f=u.isHorizontal;function c(E){if(E.cs===0){h(E);return}c(E.c[0]);for(var O=I(m(E.c[0].el),0,null),P=1;P<E.cs;++P){c(E.c[P]);var N=m(E.c[P].er);d(E,P,O),O=I(N,P,O)}b(E),h(E)}function h(E){E.cs===0?(E.el=E,E.er=E,E.msel=E.mser=0):(E.el=E.c[0].el,E.msel=E.c[0].msel,E.er=E.c[E.cs-1].er,E.mser=E.c[E.cs-1].mser)}function d(E,O,P){for(var N=E.c[O-1],R=N.mod,z=E.c[O],B=z.mod;N!==null&&z!==null;){m(N)>P.low&&(P=P.nxt);var Y=R+N.prelim+N.w-(B+z.prelim);Y>0&&(B+=Y,v(E,O,P.index,Y));var q=m(N),j=m(z);q<=j&&(N=g(N),N!==null&&(R+=N.mod)),q>=j&&(z=p(z),z!==null&&(B+=z.mod))}!N&&!!z?y(E,O,z,B):!!N&&!z&&x(E,O,N,R)}function v(E,O,P,N){E.c[O].mod+=N,E.c[O].msel+=N,E.c[O].mser+=N,M(E,O,P,N)}function p(E){return E.cs===0?E.tl:E.c[0]}function g(E){return E.cs===0?E.tr:E.c[E.cs-1]}function m(E){return E.y+E.h}function y(E,O,P,N){var R=E.c[0].el;R.tl=P;var z=N-P.mod-E.c[0].msel;R.mod+=z,R.prelim-=z,E.c[0].el=E.c[O].el,E.c[0].msel=E.c[O].msel}function x(E,O,P,N){var R=E.c[O].er;R.tr=P;var z=N-P.mod-E.c[O].mser;R.mod+=z,R.prelim-=z,E.c[O].er=E.c[O-1].er,E.c[O].mser=E.c[O-1].mser}function b(E){E.prelim=(E.c[0].prelim+E.c[0].mod+E.c[E.cs-1].mod+E.c[E.cs-1].prelim+E.c[E.cs-1].w)/2-E.w/2}function _(E,O){O+=E.mod,E.x=E.prelim+O,A(E);for(var P=0;P<E.cs;P++)_(E.c[P],O)}function M(E,O,P,N){if(P!==O-1){var R=O-P;E.c[P+1].shift+=N/R,E.c[O].shift-=N/R,E.c[O].change-=N-N/R}}function A(E){for(var O=0,P=0,N=0;N<E.cs;N++)O+=E.c[N].shift,P+=O+E.c[N].change,E.c[N].mod+=P}function I(E,O,P){for(;P!==null&&E>=P.low;)P=P.nxt;return{low:E,index:O,nxt:P}}s(l,f);var k=t.fromNode(l,f);return c(k),_(k,0),o(k,l,f),a(l,f),l}},function(r,e,t){function i(h,d){h.prototype=Object.create(d.prototype),h.prototype.constructor=h,n(h,d)}function n(h,d){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,p){return v.__proto__=p,v},n(h,d)}var a=t(1),o=t(9),s=t(2),l=t(0),u=function(h){function d(){return h.apply(this,arguments)||this}i(d,h);var v=d.prototype;return v.execute=function(){var g=this;return g.rootNode.width=0,s(g.rootNode,g.options,o)},d}(a),f={};function c(h,d){return d=l.assign({},f,d),new u(h,d).execute()}r.exports=c},function(r,e,t){var i=t(0);function n(s,l){s===void 0&&(s=0),l===void 0&&(l=[]);var u=this;u.x=u.y=0,u.leftChild=u.rightChild=null,u.height=0,u.children=l}var a={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function o(s,l,u){u?(l.x=s.x,l.y=s.y):(l.x=s.y,l.y=s.x),s.children.forEach(function(f,c){o(f,l.children[c],u)})}r.exports=function(s,l){l===void 0&&(l={}),l=i.assign({},a,l);var u=0;function f(p){if(!p)return null;p.width=0,p.depth&&p.depth>u&&(u=p.depth);var g=p.children,m=g.length,y=new n(p.height,[]);return g.forEach(function(x,b){var _=f(x);y.children.push(_),b===0&&(y.leftChild=_),b===m-1&&(y.rightChild=_)}),y.originNode=p,y.isLeaf=p.isLeaf(),y}function c(p){if(p.isLeaf||p.children.length===0)p.drawingDepth=u;else{var g=p.children.map(function(y){return c(y)}),m=Math.min.apply(null,g);p.drawingDepth=m-1}return p.drawingDepth}var h;function d(p){p.x=p.drawingDepth*l.rankSep,p.isLeaf?(p.y=0,h&&(p.y=h.y+h.height+l.nodeSep,p.originNode.parent!==h.originNode.parent&&(p.y+=l.subTreeSep)),h=p):(p.children.forEach(function(g){d(g)}),p.y=(p.leftChild.y+p.rightChild.y)/2)}var v=f(s);return c(v),d(v),o(v,s,l.isHorizontal),s}},function(r,e,t){function i(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,n(v,p)}function n(v,p){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,m){return g.__proto__=m,g},n(v,p)}var a=t(1),o=t(11),s=t(4),l=t(0),u=["LR","RL","H"],f=u[0],c=function(v){function p(){return v.apply(this,arguments)||this}i(p,v);var g=p.prototype;return g.execute=function(){var y=this,x=y.options,b=y.rootNode;x.isHorizontal=!0;var _=x.indent,M=_===void 0?20:_,A=x.dropCap,I=A===void 0?!0:A,k=x.direction,E=k===void 0?f:k,O=x.align;if(E&&u.indexOf(E)===-1)throw new TypeError("Invalid direction: "+E);if(E===u[0])o(b,M,I,O);else if(E===u[1])o(b,M,I,O),b.right2left();else if(E===u[2]){var P=s(b,x),N=P.left,R=P.right;o(N,M,I,O),N.right2left(),o(R,M,I,O);var z=N.getBoundingBox();R.translate(z.width,0),b.x=R.x-b.width/2}return b},p}(a),h={};function d(v,p){return p=l.assign({},h,p),new c(v,p).execute()}r.exports=d},function(r,e,t){var i=t(0);function n(a,o,s,l,u){var f=(typeof s=="function"?s(a):s)*a.depth;if(!l)try{if(a.id===a.parent.children[0].id){a.x+=f,a.y=o?o.y:0;return}}catch(d){}if(a.x+=f,o){if(a.y=o.y+i.getHeight(o,a,u),o.parent&&a.parent.id!==o.parent.id){var c=o.parent,h=c.y+i.getHeight(c,a,u);a.y=h>a.y?h:a.y}}else a.y=0}r.exports=function(a,o,s,l){var u=null;a.eachNode(function(f){n(f,u,o,s,l),u=f})}},function(r,e,t){function i(h,d){h.prototype=Object.create(d.prototype),h.prototype.constructor=h,n(h,d)}function n(h,d){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,p){return v.__proto__=p,v},n(h,d)}var a=t(1),o=t(13),s=t(2),l=t(0),u=function(h){function d(){return h.apply(this,arguments)||this}i(d,h);var v=d.prototype;return v.execute=function(){var g=this;return s(g.rootNode,g.options,o)},d}(a),f={};function c(h,d){return d=l.assign({},f,d),new u(h,d).execute()}r.exports=c},function(r,e,t){var i=t(0);function n(s,l){var u=0;return s.children.length?s.children.forEach(function(f){u+=n(f,l)}):u=s.height,s._subTreeSep=l.getSubTreeSep(s.data),s.totalHeight=Math.max(s.height,u)+2*s._subTreeSep,s.totalHeight}function a(s){var l=s.children,u=l.length;if(u){l.forEach(function(p){a(p)});var f=l[0],c=l[u-1],h=c.y-f.y+c.height,d=0;if(l.forEach(function(p){d+=p.totalHeight}),h>s.height)s.y=f.y+h/2-s.height/2;else if(l.length!==1||s.height>d){var v=s.y+(s.height-h)/2-f.y;l.forEach(function(p){p.translate(0,v)})}else s.y=(f.y+f.height/2+c.y+c.height/2)/2-s.height/2}}var o={getSubTreeSep:function(){return 0}};r.exports=function(s,l){l===void 0&&(l={}),l=i.assign({},o,l),s.parent={x:0,width:0,height:0,y:0},s.BFTraverse(function(u){u.x=u.parent.x+u.parent.width}),s.parent=null,n(s,l),s.startY=0,s.y=s.totalHeight/2-s.height/2,s.eachNode(function(u){var f=u.children,c=f.length;if(c){var h=f[0];if(h.startY=u.startY+u._subTreeSep,c===1)h.y=u.y+u.height/2-h.height/2;else{h.y=h.startY+h.totalHeight/2-h.height/2;for(var d=1;d<c;d++){var v=f[d];v.startY=f[d-1].startY+f[d-1].totalHeight,v.y=v.startY+v.totalHeight/2-v.height/2}}}}),a(s)}}])})});var QI=$((Lcn,zut)=>{var T8t=[],iB=[],prr="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function I8t(r,e){if(e=e||{},r===void 0)throw new Error(prr);var t=e.prepend===!0?"prepend":"append",i=e.container!==void 0?e.container:document.querySelector("head"),n=T8t.indexOf(i);n===-1&&(n=T8t.push(i)-1,iB[n]={});var a;return iB[n]!==void 0&&iB[n][t]!==void 0?a=iB[n][t]:(a=iB[n][t]=grr(),t==="prepend"?i.insertBefore(a,i.childNodes[0]):i.appendChild(a)),r.charCodeAt(0)===65279&&(r=r.substr(1,r.length)),a.styleSheet?a.styleSheet.cssText+=r:a.textContent+=r,a}function grr(){var r=document.createElement("style");return r.setAttribute("type","text/css"),r}zut.exports=I8t;zut.exports.insertCss=I8t});var Pft=$((dL,_B)=>{(function(){var r,e="4.17.21",t=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",a="Invalid `variable` option passed into `_.template`",o="__lodash_hash_undefined__",s=500,l="__lodash_placeholder__",u=1,f=2,c=4,h=1,d=2,v=1,p=2,g=4,m=8,y=16,x=32,b=64,_=128,M=256,A=512,I=30,k="...",E=800,O=16,P=1,N=2,R=3,z=1/0,B=9007199254740991,Y=17976931348623157e292,q=0/0,j=4294967295,Z=j-1,tt=j>>>1,lt=[["ary",_],["bind",v],["bindKey",p],["curry",m],["curryRight",y],["flip",A],["partial",x],["partialRight",b],["rearg",M]],J="[object Arguments]",nt="[object Array]",ut="[object AsyncFunction]",ft="[object Boolean]",pt="[object Date]",_t="[object DOMException]",Et="[object Error]",Ot="[object Function]",oe="[object GeneratorFunction]",se="[object Map]",_e="[object Number]",le="[object Null]",ar="[object Object]",pe="[object Promise]",ze="[object Proxy]",rr="[object RegExp]",ur="[object Set]",_r="[object String]",it="[object Symbol]",kt="[object Undefined]",Gt="[object WeakMap]",te="[object WeakSet]",we="[object ArrayBuffer]",Ht="[object DataView]",ce="[object Float32Array]",Oe="[object Float64Array]",je="[object Int8Array]",Ae="[object Int16Array]",Qe="[object Int32Array]",sr="[object Uint8Array]",Xr="[object Uint8ClampedArray]",Fr="[object Uint16Array]",Gn="[object Uint32Array]",Ta=/\b__p \+= '';/g,Wi=/\b(__p \+=) '' \+/g,mn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Yn=/&(?:amp|lt|gt|quot|#39);/g,to=/[&<>"']/g,ji=RegExp(Yn.source),Sn=RegExp(to.source),ya=/<%-([\s\S]+?)%>/g,Ql=/<%([\s\S]+?)%>/g,xa=/<%=([\s\S]+?)%>/g,Mh=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ku=/^\w*$/,zs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pu=/[\\^$.*+?()[\]{}|]/g,wo=RegExp(Pu.source),$l=/^\s+/,Ah=/\s/,Cn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xi=/\{\n\/\* \[wrapped with (.+)\] \*/,ba=/,? & /,qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ln=/[()=,{}\[\]\/\s]/,ui=/\\(\\)?/g,Zn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wn=/\w*$/,Jl=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,el=/^\[object .+?Constructor\]$/,wl=/^0o[0-7]+$/i,tu=/^(?:0|[1-9]\d*)$/,Eh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Th=/($^)/,PL=/['\n\r\u2028\u2029\\]/g,Wm="\\ud800-\\udfff",DL="\\u0300-\\u036f",Dx="\\ufe20-\\ufe2f",NM="\\u20d0-\\u20ff",BM=DL+Dx+NM,RM="\\u2700-\\u27bf",Fx="a-z\\xdf-\\xf6\\xf8-\\xff",Sc="\\xac\\xb1\\xd7\\xf7",Ih="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",FL="\\u2000-\\u206f",NL=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",GM="A-Z\\xc0-\\xd6\\xd8-\\xde",zM="\\ufe0e\\ufe0f",Lh=Sc+Ih+FL+NL,w_="['\u2019]",Vm="["+Wm+"]",Nx="["+Lh+"]",qm="["+BM+"]",__="\\d+",Hm="["+RM+"]",Um="["+Fx+"]",Xm="[^"+Wm+Lh+__+RM+Fx+GM+"]",Zm="\\ud83c[\\udffb-\\udfff]",S_="(?:"+qm+"|"+Zm+")",Km="[^"+Wm+"]",Bx="(?:\\ud83c[\\udde6-\\uddff]){2}",C_="[\\ud800-\\udbff][\\udc00-\\udfff]",ds="["+GM+"]",Cs="\\u200d",Qm="(?:"+Um+"|"+Xm+")",M_="(?:"+ds+"|"+Xm+")",Rx="(?:"+w_+"(?:d|ll|m|re|s|t|ve))?",Oh="(?:"+w_+"(?:D|LL|M|RE|S|T|VE))?",$m=S_+"?",A_="["+zM+"]?",jM="(?:"+Cs+"(?:"+[Km,Bx,C_].join("|")+")"+A_+$m+")*",Gx="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",YM="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",E_=A_+$m+jM,BL="(?:"+[Hm,Bx,C_].join("|")+")"+E_,RL="(?:"+[Km+qm+"?",qm,Bx,C_,Vm].join("|")+")",GL=RegExp(w_,"g"),zL=RegExp(qm,"g"),T_=RegExp(Zm+"(?="+Zm+")|"+RL+E_,"g"),Zd=RegExp([ds+"?"+Um+"+"+Rx+"(?="+[Nx,ds,"$"].join("|")+")",M_+"+"+Oh+"(?="+[Nx,ds+Qm,"$"].join("|")+")",ds+"?"+Qm+"+"+Rx,ds+"+"+Oh,YM,Gx,__,BL].join("|"),"g"),_l=RegExp("["+Cs+Wm+BM+zM+"]"),jL=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,YL=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Kd=-1,Kn={};Kn[ce]=Kn[Oe]=Kn[je]=Kn[Ae]=Kn[Qe]=Kn[sr]=Kn[Xr]=Kn[Fr]=Kn[Gn]=!0,Kn[J]=Kn[nt]=Kn[we]=Kn[ft]=Kn[Ht]=Kn[pt]=Kn[Et]=Kn[Ot]=Kn[se]=Kn[_e]=Kn[ar]=Kn[rr]=Kn[ur]=Kn[_r]=Kn[Gt]=!1;var fa={};fa[J]=fa[nt]=fa[we]=fa[Ht]=fa[ft]=fa[pt]=fa[ce]=fa[Oe]=fa[je]=fa[Ae]=fa[Qe]=fa[se]=fa[_e]=fa[ar]=fa[rr]=fa[ur]=fa[_r]=fa[it]=fa[sr]=fa[Xr]=fa[Fr]=fa[Gn]=!0,fa[Et]=fa[Ot]=fa[Gt]=!1;var WM={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},WL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},jx={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},kh=parseFloat,Jm=parseInt,I_=typeof global=="object"&&global&&global.Object===Object&&global,L_=typeof self=="object"&&self&&self.Object===Object&&self,Ro=I_||L_||Function("return this")(),Yx=typeof dL=="object"&&dL&&!dL.nodeType&&dL,Qd=Yx&&typeof _B=="object"&&_B&&!_B.nodeType&&_B,O_=Qd&&Qd.exports===Yx,k_=O_&&I_.process,eu=function(){try{var Zt=Qd&&Qd.require&&Qd.require("util").types;return Zt||k_&&k_.binding&&k_.binding("util")}catch(Me){}}(),P_=eu&&eu.isArrayBuffer,$d=eu&&eu.isDate,D_=eu&&eu.isMap,F_=eu&&eu.isRegExp,Jd=eu&&eu.isSet,ca=eu&&eu.isTypedArray;function Go(Zt,Me,he){switch(he.length){case 0:return Zt.call(Me);case 1:return Zt.call(Me,he[0]);case 2:return Zt.call(Me,he[0],he[1]);case 3:return Zt.call(Me,he[0],he[1],he[2])}return Zt.apply(Me,he)}function VM(Zt,Me,he,Or){for(var Ti=-1,Mn=Zt==null?0:Zt.length;++Ti<Mn;){var _o=Zt[Ti];Me(Or,_o,he(_o),Zt)}return Or}function zo(Zt,Me){for(var he=-1,Or=Zt==null?0:Zt.length;++he<Or&&Me(Zt[he],he,Zt)!==!1;);return Zt}function Wx(Zt,Me){for(var he=Zt==null?0:Zt.length;he--&&Me(Zt[he],he,Zt)!==!1;);return Zt}function bf(Zt,Me){for(var he=-1,Or=Zt==null?0:Zt.length;++he<Or;)if(!Me(Zt[he],he,Zt))return!1;return!0}function Sl(Zt,Me){for(var he=-1,Or=Zt==null?0:Zt.length,Ti=0,Mn=[];++he<Or;){var _o=Zt[he];Me(_o,he,Zt)&&(Mn[Ti++]=_o)}return Mn}function wf(Zt,Me){var he=Zt==null?0:Zt.length;return!!he&&Cc(Zt,Me,0)>-1}function Vx(Zt,Me,he){for(var Or=-1,Ti=Zt==null?0:Zt.length;++Or<Ti;)if(he(Me,Zt[Or]))return!0;return!1}function Ia(Zt,Me){for(var he=-1,Or=Zt==null?0:Zt.length,Ti=Array(Or);++he<Or;)Ti[he]=Me(Zt[he],he,Zt);return Ti}function _f(Zt,Me){for(var he=-1,Or=Me.length,Ti=Zt.length;++he<Or;)Zt[Ti+he]=Me[he];return Zt}function N_(Zt,Me,he,Or){var Ti=-1,Mn=Zt==null?0:Zt.length;for(Or&&Mn&&(he=Zt[++Ti]);++Ti<Mn;)he=Me(he,Zt[Ti],Ti,Zt);return he}function VL(Zt,Me,he,Or){var Ti=Zt==null?0:Zt.length;for(Or&&Ti&&(he=Zt[--Ti]);Ti--;)he=Me(he,Zt[Ti],Ti,Zt);return he}function qx(Zt,Me){for(var he=-1,Or=Zt==null?0:Zt.length;++he<Or;)if(Me(Zt[he],he,Zt))return!0;return!1}var wa=rv("length");function B_(Zt){return Zt.split("")}function qL(Zt){return Zt.match(qe)||[]}function ru(Zt,Me,he){var Or;return he(Zt,function(Ti,Mn,_o){if(Me(Ti,Mn,_o))return Or=Mn,!1}),Or}function tv(Zt,Me,he,Or){for(var Ti=Zt.length,Mn=he+(Or?1:-1);Or?Mn--:++Mn<Ti;)if(Me(Zt[Mn],Mn,Zt))return Mn;return-1}function Cc(Zt,Me,he){return Me===Me?Sp(Zt,Me,he):tv(Zt,ty,he)}function Mc(Zt,Me,he,Or){for(var Ti=he-1,Mn=Zt.length;++Ti<Mn;)if(Or(Zt[Ti],Me))return Ti;return-1}function ty(Zt){return Zt!==Zt}function ev(Zt,Me){var he=Zt==null?0:Zt.length;return he?ey(Zt,Me)/he:q}function rv(Zt){return function(Me){return Me==null?r:Me[Zt]}}function xp(Zt){return function(Me){return Zt==null?r:Zt[Me]}}function R_(Zt,Me,he,Or,Ti){return Ti(Zt,function(Mn,_o,Vn){he=Or?(Or=!1,Mn):Me(he,Mn,_o,Vn)}),he}function Hx(Zt,Me){var he=Zt.length;for(Zt.sort(Me);he--;)Zt[he]=Zt[he].value;return Zt}function ey(Zt,Me){for(var he,Or=-1,Ti=Zt.length;++Or<Ti;){var Mn=Me(Zt[Or]);Mn!==r&&(he=he===r?Mn:he+Mn)}return he}function bp(Zt,Me){for(var he=-1,Or=Array(Zt);++he<Zt;)Or[he]=Me(he);return Or}function qM(Zt,Me){return Ia(Me,function(he){return[he,Zt[he]]})}function HM(Zt){return Zt&&Zt.slice(0,ay(Zt)+1).replace($l,"")}function rl(Zt){return function(Me){return Zt(Me)}}function ry(Zt,Me){return Ia(Me,function(he){return Zt[he]})}function Ac(Zt,Me){return Zt.has(Me)}function Ux(Zt,Me){for(var he=-1,Or=Zt.length;++he<Or&&Cc(Me,Zt[he],0)>-1;);return he}function iy(Zt,Me){for(var he=Zt.length;he--&&Cc(Me,Zt[he],0)>-1;);return he}function wp(Zt,Me){for(var he=Zt.length,Or=0;he--;)Zt[he]===Me&&++Or;return Or}var Ec=xp(WM),G_=xp(WL);function z_(Zt){return"\\"+jx[Zt]}function ny(Zt,Me){return Zt==null?r:Zt[Me]}function Tc(Zt){return _l.test(Zt)}function UM(Zt){return jL.test(Zt)}function XM(Zt){for(var Me,he=[];!(Me=Zt.next()).done;)he.push(Me.value);return he}function Xx(Zt){var Me=-1,he=Array(Zt.size);return Zt.forEach(function(Or,Ti){he[++Me]=[Ti,Or]}),he}function j_(Zt,Me){return function(he){return Zt(Me(he))}}function il(Zt,Me){for(var he=-1,Or=Zt.length,Ti=0,Mn=[];++he<Or;){var _o=Zt[he];(_o===Me||_o===l)&&(Zt[he]=l,Mn[Ti++]=he)}return Mn}function _p(Zt){var Me=-1,he=Array(Zt.size);return Zt.forEach(function(Or){he[++Me]=Or}),he}function Y_(Zt){var Me=-1,he=Array(Zt.size);return Zt.forEach(function(Or){he[++Me]=[Or,Or]}),he}function Sp(Zt,Me,he){for(var Or=he-1,Ti=Zt.length;++Or<Ti;)if(Zt[Or]===Me)return Or;return-1}function Zx(Zt,Me,he){for(var Or=he+1;Or--;)if(Zt[Or]===Me)return Or;return Or}function Du(Zt){return Tc(Zt)?UL(Zt):wa(Zt)}function jo(Zt){return Tc(Zt)?Kx(Zt):B_(Zt)}function ay(Zt){for(var Me=Zt.length;Me--&&Ah.test(Zt.charAt(Me)););return Me}var HL=xp(zx);function UL(Zt){for(var Me=T_.lastIndex=0;T_.test(Zt);)++Me;return Me}function Kx(Zt){return Zt.match(T_)||[]}function ZM(Zt){return Zt.match(Zd)||[]}var XL=function Zt(Me){Me=Me==null?Ro:Ic.defaults(Ro.Object(),Me,Ic.pick(Ro,YL));var he=Me.Array,Or=Me.Date,Ti=Me.Error,Mn=Me.Function,_o=Me.Math,Vn=Me.Object,W_=Me.RegExp,KM=Me.String,Cl=Me.TypeError,oy=he.prototype,ZL=Mn.prototype,Cp=Vn.prototype,sy=Me["__core-js_shared__"],ly=ZL.toString,An=Cp.hasOwnProperty,KL=0,uy=function(){var w=/[^.]+$/.exec(sy&&sy.keys&&sy.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),js=Cp.toString,Ph=ly.call(Vn),Qx=Ro._,V_=W_("^"+ly.call(An).replace(Pu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mp=O_?Me.Buffer:r,Sf=Me.Symbol,Ap=Me.Uint8Array,$x=Mp?Mp.allocUnsafe:r,Jx=j_(Vn.getPrototypeOf,Vn),iv=Vn.create,So=Cp.propertyIsEnumerable,fy=oy.splice,q_=Sf?Sf.isConcatSpreadable:r,Fu=Sf?Sf.iterator:r,Dh=Sf?Sf.toStringTag:r,Ep=function(){try{var w=ve(Vn,"defineProperty");return w({},"",{}),w}catch(T){}}(),QL=Me.clearTimeout!==Ro.clearTimeout&&Me.clearTimeout,H_=Or&&Or.now!==Ro.Date.now&&Or.now,$L=Me.setTimeout!==Ro.setTimeout&&Me.setTimeout,cy=_o.ceil,nv=_o.floor,t1=Vn.getOwnPropertySymbols,JL=Mp?Mp.isBuffer:r,e1=Me.isFinite,hy=oy.join,QM=j_(Vn.keys,Vn),eo=_o.max,Ms=_o.min,Fh=Or.now,r1=Me.parseInt,U_=_o.random,$M=oy.reverse,i1=ve(Me,"DataView"),Tp=ve(Me,"Map"),dy=ve(Me,"Promise"),av=ve(Me,"Set"),Ip=ve(Me,"WeakMap"),Lc=ve(Vn,"create"),Lp=Ip&&new Ip,fr={},n1=fi(i1),vy=fi(Tp),Mi=fi(dy),a1=fi(av),Nh=fi(Ip),Nu=Sf?Sf.prototype:r,Op=Nu?Nu.valueOf:r,py=Nu?Nu.toString:r;function dt(w){if(Xo(w)&&!Qi(w)&&!(w instanceof un)){if(w instanceof iu)return w;if(An.call(w,"__wrapped__"))return dn(w)}return new iu(w)}var ov=function(){function w(){}return function(T){if(!Yo(T))return{};if(iv)return iv(T);w.prototype=T;var F=new w;return w.prototype=r,F}}();function gy(){}function iu(w,T){this.__wrapped__=w,this.__actions__=[],this.__chain__=!!T,this.__index__=0,this.__values__=r}dt.templateSettings={escape:ya,evaluate:Ql,interpolate:xa,variable:"",imports:{_:dt}},dt.prototype=gy.prototype,dt.prototype.constructor=dt,iu.prototype=ov(gy.prototype),iu.prototype.constructor=iu;function un(w){this.__wrapped__=w,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function JM(){var w=new un(this.__wrapped__);return w.__actions__=al(this.__actions__),w.__dir__=this.__dir__,w.__filtered__=this.__filtered__,w.__iteratees__=al(this.__iteratees__),w.__takeCount__=this.__takeCount__,w.__views__=al(this.__views__),w}function nu(){if(this.__filtered__){var w=new un(this);w.__dir__=-1,w.__filtered__=!0}else w=this.clone(),w.__dir__*=-1;return w}function tA(){var w=this.__wrapped__.value(),T=this.__dir__,F=Qi(w),U=T<0,st=F?w.length:0,xt=Be(0,st,this.__views__),Ft=xt.start,Yt=xt.end,re=Yt-Ft,Ge=U?Yt:Ft-1,Ye=this.__iteratees__,ir=Ye.length,Tr=0,ni=Ms(re,this.__takeCount__);if(!F||!U&&st==re&&ni==re)return _1(w,this.__actions__);var Ai=[];t:for(;re--&&Tr<ni;){Ge+=T;for(var cn=-1,Ei=w[Ge];++cn<ir;){var En=Ye[cn],zn=En.iteratee,zc=En.type,qu=zn(Ei);if(zc==N)Ei=qu;else if(!qu){if(zc==P)continue t;break t}}Ai[Tr++]=Ei}return Ai}un.prototype=ov(gy.prototype),un.prototype.constructor=un;function sv(w){var T=-1,F=w==null?0:w.length;for(this.clear();++T<F;){var U=w[T];this.set(U[0],U[1])}}function tO(){this.__data__=Lc?Lc(null):{},this.size=0}function X_(w){var T=this.has(w)&&delete this.__data__[w];return this.size-=T?1:0,T}function eA(w){var T=this.__data__;if(Lc){var F=T[w];return F===o?r:F}return An.call(T,w)?T[w]:r}function eO(w){var T=this.__data__;return Lc?T[w]!==r:An.call(T,w)}function rO(w,T){var F=this.__data__;return this.size+=this.has(w)?0:1,F[w]=Lc&&T===r?o:T,this}sv.prototype.clear=tO,sv.prototype.delete=X_,sv.prototype.get=eA,sv.prototype.has=eO,sv.prototype.set=rO;function Ml(w){var T=-1,F=w==null?0:w.length;for(this.clear();++T<F;){var U=w[T];this.set(U[0],U[1])}}function my(){this.__data__=[],this.size=0}function o1(w){var T=this.__data__,F=uv(T,w);if(F<0)return!1;var U=T.length-1;return F==U?T.pop():fy.call(T,F,1),--this.size,!0}function rA(w){var T=this.__data__,F=uv(T,w);return F<0?r:T[F][1]}function iA(w){return uv(this.__data__,w)>-1}function s1(w,T){var F=this.__data__,U=uv(F,w);return U<0?(++this.size,F.push([w,T])):F[U][1]=T,this}Ml.prototype.clear=my,Ml.prototype.delete=o1,Ml.prototype.get=rA,Ml.prototype.has=iA,Ml.prototype.set=s1;function Oc(w){var T=-1,F=w==null?0:w.length;for(this.clear();++T<F;){var U=w[T];this.set(U[0],U[1])}}function au(){this.size=0,this.__data__={hash:new sv,map:new(Tp||Ml),string:new sv}}function iO(w){var T=Ct(this,w).delete(w);return this.size-=T?1:0,T}function yy(w){return Ct(this,w).get(w)}function nA(w){return Ct(this,w).has(w)}function nO(w,T){var F=Ct(this,w),U=F.size;return F.set(w,T),this.size+=F.size==U?0:1,this}Oc.prototype.clear=au,Oc.prototype.delete=iO,Oc.prototype.get=yy,Oc.prototype.has=nA,Oc.prototype.set=nO;function lv(w){var T=-1,F=w==null?0:w.length;for(this.__data__=new Oc;++T<F;)this.add(w[T])}function kp(w){return this.__data__.set(w,o),this}function aO(w){return this.__data__.has(w)}lv.prototype.add=lv.prototype.push=kp,lv.prototype.has=aO;function Bu(w){var T=this.__data__=new Ml(w);this.size=T.size}function aA(){this.__data__=new Ml,this.size=0}function Z_(w){var T=this.__data__,F=T.delete(w);return this.size=T.size,F}function oO(w){return this.__data__.get(w)}function oA(w){return this.__data__.has(w)}function sO(w,T){var F=this.__data__;if(F instanceof Ml){var U=F.__data__;if(!Tp||U.length<t-1)return U.push([w,T]),this.size=++F.size,this;F=this.__data__=new Oc(U)}return F.set(w,T),this.size=F.size,this}Bu.prototype.clear=aA,Bu.prototype.delete=Z_,Bu.prototype.get=oO,Bu.prototype.has=oA,Bu.prototype.set=sO;function xy(w,T){var F=Qi(w),U=!F&&dS(w),st=!F&&!U&&I1(w),xt=!F&&!U&&!st&&CA(w),Ft=F||U||st||xt,Yt=Ft?bp(w.length,KM):[],re=Yt.length;for(var Ge in w)(T||An.call(w,Ge))&&!(Ft&&(Ge=="length"||st&&(Ge=="offset"||Ge=="parent")||xt&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||Ee(Ge,re)))&&Yt.push(Ge);return Yt}function sA(w){var T=w.length;return T?w[b1(0,T-1)]:r}function lO(w,T){return pr(al(w),Rh(T,0,w.length))}function uO(w){return pr(al(w))}function Bh(w,T,F){(F!==r&&!bv(w[T],F)||F===r&&!(T in w))&&Pc(w,T,F)}function by(w,T,F){var U=w[T];(!(An.call(w,T)&&bv(U,F))||F===r&&!(T in w))&&Pc(w,T,F)}function uv(w,T){for(var F=w.length;F--;)if(bv(w[F][0],T))return F;return-1}function fO(w,T,F,U){return ou(w,function(st,xt,Ft){T(U,st,F(st),Ft)}),U}function kc(w,T){return w&&Ef(T,sl(T),w)}function Pp(w,T){return w&&Ef(T,Of(T),w)}function Pc(w,T,F){T=="__proto__"&&Ep?Ep(w,T,{configurable:!0,enumerable:!0,value:F,writable:!0}):w[T]=F}function Cf(w,T){for(var F=-1,U=T.length,st=he(U),xt=w==null;++F<U;)st[F]=xt?r:RV(w,T[F]);return st}function Rh(w,T,F){return w===w&&(F!==r&&(w=w<=F?w:F),T!==r&&(w=w>=T?w:T)),w}function vs(w,T,F,U,st,xt){var Ft,Yt=T&u,re=T&f,Ge=T&c;if(F&&(Ft=st?F(w,U,st,xt):F(w)),Ft!==r)return Ft;if(!Yo(w))return w;var Ye=Qi(w);if(Ye){if(Ft=tr(w),!Yt)return al(w,Ft)}else{var ir=be(w),Tr=ir==Ot||ir==oe;if(I1(w))return qh(w,Yt);if(ir==ar||ir==J||Tr&&!st){if(Ft=re||Tr?{}:Ie(w),!Yt)return re?yA(w,Pp(Ft,w)):Uh(w,kc(Ft,w))}else{if(!fa[ir])return st?w:{};Ft=Xe(w,ir,Yt)}}xt||(xt=new Bu);var ni=xt.get(w);if(ni)return ni;xt.set(w,Ft),fct(w)?w.forEach(function(Ei){Ft.add(vs(Ei,T,F,Ei,w,xt))}):lct(w)&&w.forEach(function(Ei,En){Ft.set(En,vs(Ei,T,F,En,w,xt))});var Ai=Ge?re?A1:hS:re?Of:sl,cn=Ye?r:Ai(w);return zo(cn||w,function(Ei,En){cn&&(En=Ei,Ei=w[En]),by(Ft,En,vs(Ei,T,F,En,w,xt))}),Ft}function l1(w){var T=sl(w);return function(F){return u1(F,w,T)}}function u1(w,T,F){var U=F.length;if(w==null)return!U;for(w=Vn(w);U--;){var st=F[U],xt=T[st],Ft=w[st];if(Ft===r&&!(st in w)||!xt(Ft))return!1}return!0}function f1(w,T,F){if(typeof w!="function")throw new Cl(n);return me(function(){w.apply(r,F)},T)}function fv(w,T,F,U){var st=-1,xt=wf,Ft=!0,Yt=w.length,re=[],Ge=T.length;if(!Yt)return re;F&&(T=Ia(T,rl(F))),U?(xt=Vx,Ft=!1):T.length>=t&&(xt=Ac,Ft=!1,T=new lv(T));t:for(;++st<Yt;){var Ye=w[st],ir=F==null?Ye:F(Ye);if(Ye=U||Ye!==0?Ye:0,Ft&&ir===ir){for(var Tr=Ge;Tr--;)if(T[Tr]===ir)continue t;re.push(Ye)}else xt(T,ir,U)||re.push(Ye)}return re}var ou=aS(Ru),wy=aS(d1,!0);function lA(w,T){var F=!0;return ou(w,function(U,st,xt){return F=!!T(U,st,xt),F}),F}function _y(w,T,F){for(var U=-1,st=w.length;++U<st;){var xt=w[U],Ft=T(xt);if(Ft!=null&&(Yt===r?Ft===Ft&&!Gc(Ft):F(Ft,Yt)))var Yt=Ft,re=xt}return re}function uA(w,T,F,U){var st=w.length;for(F=nn(F),F<0&&(F=-F>st?0:st+F),U=U===r||U>st?st:nn(U),U<0&&(U+=st),U=F>U?0:hct(U);F<U;)w[F++]=T;return w}function c1(w,T){var F=[];return ou(w,function(U,st,xt){T(U,st,xt)&&F.push(U)}),F}function Ho(w,T,F,U,st){var xt=-1,Ft=w.length;for(F||(F=fe),st||(st=[]);++xt<Ft;){var Yt=w[xt];T>0&&F(Yt)?T>1?Ho(Yt,T-1,F,U,st):_f(st,Yt):U||(st[st.length]=Yt)}return st}var Sy=oS(),h1=oS(!0);function Ru(w,T){return w&&Sy(w,T,sl)}function d1(w,T){return w&&h1(w,T,sl)}function Cy(w,T){return Sl(T,function(F){return Fy(w[F])})}function Gh(w,T){T=su(T,w);for(var F=0,U=T.length;w!=null&&F<U;)w=w[Zr(T[F++])];return F&&F==U?w:r}function v1(w,T,F){var U=T(w);return Qi(w)?U:_f(U,F(w))}function As(w){return w==null?w===r?kt:le:Dh&&Dh in Vn(w)?ee(w):rt(w)}function p1(w,T){return w>T}function K_(w,T){return w!=null&&An.call(w,T)}function Q_(w,T){return w!=null&&T in Vn(w)}function fA(w,T,F){return w>=Ms(T,F)&&w<eo(T,F)}function My(w,T,F){for(var U=F?Vx:wf,st=w[0].length,xt=w.length,Ft=xt,Yt=he(xt),re=1/0,Ge=[];Ft--;){var Ye=w[Ft];Ft&&T&&(Ye=Ia(Ye,rl(T))),re=Ms(Ye.length,re),Yt[Ft]=!F&&(T||st>=120&&Ye.length>=120)?new lv(Ft&&Ye):r}Ye=w[0];var ir=-1,Tr=Yt[0];t:for(;++ir<st&&Ge.length<re;){var ni=Ye[ir],Ai=T?T(ni):ni;if(ni=F||ni!==0?ni:0,!(Tr?Ac(Tr,Ai):U(Ge,Ai,F))){for(Ft=xt;--Ft;){var cn=Yt[Ft];if(!(cn?Ac(cn,Ai):U(w[Ft],Ai,F)))continue t}Tr&&Tr.push(Ai),Ge.push(ni)}}return Ge}function cA(w,T,F,U){return Ru(w,function(st,xt,Ft){T(U,F(st),xt,Ft)}),U}function Dp(w,T,F){T=su(T,w),w=gt(w,T);var U=w==null?w:w[Zr(mt(T))];return U==null?r:Go(U,w,F)}function g1(w){return Xo(w)&&As(w)==J}function hA(w){return Xo(w)&&As(w)==we}function dA(w){return Xo(w)&&As(w)==pt}function Mf(w,T,F,U,st){return w===T?!0:w==null||T==null||!Xo(w)&&!Xo(T)?w!==w&&T!==T:$_(w,T,F,U,Mf,st)}function $_(w,T,F,U,st,xt){var Ft=Qi(w),Yt=Qi(T),re=Ft?nt:be(w),Ge=Yt?nt:be(T);re=re==J?ar:re,Ge=Ge==J?ar:Ge;var Ye=re==ar,ir=Ge==ar,Tr=re==Ge;if(Tr&&I1(w)){if(!I1(T))return!1;Ft=!0,Ye=!1}if(Tr&&!Ye)return xt||(xt=new Bu),Ft||CA(w)?_A(w,T,F,U,st,xt):SA(w,T,re,F,U,st,xt);if(!(F&h)){var ni=Ye&&An.call(w,"__wrapped__"),Ai=ir&&An.call(T,"__wrapped__");if(ni||Ai){var cn=ni?w.value():w,Ei=Ai?T.value():T;return xt||(xt=new Bu),st(cn,Ei,F,U,xt)}}return Tr?(xt||(xt=new Bu),M1(w,T,F,U,st,xt)):!1}function Lt(w){return Xo(w)&&be(w)==se}function m1(w,T,F,U){var st=F.length,xt=st,Ft=!U;if(w==null)return!xt;for(w=Vn(w);st--;){var Yt=F[st];if(Ft&&Yt[2]?Yt[1]!==w[Yt[0]]:!(Yt[0]in w))return!1}for(;++st<xt;){Yt=F[st];var re=Yt[0],Ge=w[re],Ye=Yt[1];if(Ft&&Yt[2]){if(Ge===r&&!(re in w))return!1}else{var ir=new Bu;if(U)var Tr=U(Ge,Ye,re,w,T,ir);if(!(Tr===r?Mf(Ye,Ge,h|d,U,ir):Tr))return!1}}return!0}function zh(w){if(!Yo(w)||C(w))return!1;var T=Fy(w)?V_:el;return T.test(fi(w))}function Af(w){return Xo(w)&&As(w)==rr}function Ay(w){return Xo(w)&&be(w)==ur}function cv(w){return Xo(w)&&DB(w.length)&&!!Kn[As(w)]}function Fp(w){return typeof w=="function"?w:w==null?kf:typeof w=="object"?Qi(w)?ro(w[0],w[1]):Np(w):Sct(w)}function hv(w){if(!D(w))return QM(w);var T=[];for(var F in Vn(w))An.call(w,F)&&F!="constructor"&&T.push(F);return T}function Dc(w){if(!Yo(w))return Q(w);var T=D(w),F=[];for(var U in w)U=="constructor"&&(T||!An.call(w,U))||F.push(U);return F}function Gu(w,T){return w<T}function Fc(w,T){var F=-1,U=Lf(w)?he(w.length):[];return ou(w,function(st,xt,Ft){U[++F]=T(st,xt,Ft)}),U}function Np(w){var T=ie(w);return T.length==1&&T[0][2]?H(T[0][0],T[0][1]):function(F){return F===w||m1(F,w,T)}}function ro(w,T){return xe(w)&&W(T)?H(Zr(w),T):function(F){var U=RV(F,w);return U===r&&U===T?GV(F,w):Mf(T,U,h|d)}}function Nc(w,T,F,U,st){w!==T&&Sy(T,function(xt,Ft){if(st||(st=new Bu),Yo(xt))y1(w,T,Ft,F,Nc,U,st);else{var Yt=U?U(Nt(w,Ft),xt,Ft+"",w,T,st):r;Yt===r&&(Yt=xt),Bh(w,Ft,Yt)}},Of)}function y1(w,T,F,U,st,xt,Ft){var Yt=Nt(w,F),re=Nt(T,F),Ge=Ft.get(re);if(Ge){Bh(w,F,Ge);return}var Ye=xt?xt(Yt,re,F+"",w,T,Ft):r,ir=Ye===r;if(ir){var Tr=Qi(re),ni=!Tr&&I1(re),Ai=!Tr&&!ni&&CA(re);Ye=re,Tr||ni||Ai?Qi(Yt)?Ye=Yt:ps(Yt)?Ye=al(Yt):ni?(ir=!1,Ye=qh(re,!0)):Ai?(ir=!1,Ye=Yp(re,!0)):Ye=[]:yO(re)||dS(re)?(Ye=Yt,dS(Yt)?Ye=dct(Yt):(!Yo(Yt)||Fy(Yt))&&(Ye=Ie(re))):ir=!1}ir&&(Ft.set(re,Ye),st(Ye,re,U,xt,Ft),Ft.delete(re)),Bh(w,F,Ye)}function Ey(w,T){var F=w.length;if(!!F)return T+=T<0?F:0,Ee(T,F)?w[T]:r}function jh(w,T,F){T.length?T=Ia(T,function(xt){return Qi(xt)?function(Ft){return Gh(Ft,xt.length===1?xt[0]:xt)}:xt}):T=[kf];var U=-1;T=Ia(T,rl(ct()));var st=Fc(w,function(xt,Ft,Yt){var re=Ia(T,function(Ge){return Ge(xt)});return{criteria:re,index:++U,value:xt}});return Hx(st,function(xt,Ft){return nS(xt,Ft,F)})}function dv(w,T){return vA(w,T,function(F,U){return GV(w,U)})}function vA(w,T,F){for(var U=-1,st=T.length,xt={};++U<st;){var Ft=T[U],Yt=Gh(w,Ft);F(Yt,Ft)&&Bp(xt,su(Ft,w),Yt)}return xt}function x1(w){return function(T){return Gh(T,w)}}function Ty(w,T,F,U){var st=U?Mc:Cc,xt=-1,Ft=T.length,Yt=w;for(w===T&&(T=al(T)),F&&(Yt=Ia(w,rl(F)));++xt<Ft;)for(var re=0,Ge=T[xt],Ye=F?F(Ge):Ge;(re=st(Yt,Ye,re,U))>-1;)Yt!==w&&fy.call(Yt,re,1),fy.call(w,re,1);return w}function J_(w,T){for(var F=w?T.length:0,U=F-1;F--;){var st=T[F];if(F==U||st!==xt){var xt=st;Ee(st)?fy.call(w,st,1):Rp(w,st)}}return w}function b1(w,T){return w+nv(U_()*(T-w+1))}function cO(w,T,F,U){for(var st=-1,xt=eo(cy((T-w)/(F||1)),0),Ft=he(xt);xt--;)Ft[U?xt:++st]=w,w+=F;return Ft}function Yh(w,T){var F="";if(!w||T<1||T>B)return F;do T%2&&(F+=w),T=nv(T/2),T&&(w+=w);while(T);return F}function Zi(w,T){return Se(vt(w,T,kf),w+"")}function hO(w){return sA(MA(w))}function dO(w,T){var F=MA(w);return pr(F,Rh(T,0,F.length))}function Bp(w,T,F,U){if(!Yo(w))return w;T=su(T,w);for(var st=-1,xt=T.length,Ft=xt-1,Yt=w;Yt!=null&&++st<xt;){var re=Zr(T[st]),Ge=F;if(re==="__proto__"||re==="constructor"||re==="prototype")return w;if(st!=Ft){var Ye=Yt[re];Ge=U?U(Ye,re,Yt):r,Ge===r&&(Ge=Yo(Ye)?Ye:Ee(T[st+1])?[]:{})}by(Yt,re,Ge),Yt=Yt[re]}return w}var pA=Lp?function(w,T){return Lp.set(w,T),w}:kf,vv=Ep?function(w,T){return Ep(w,"toString",{configurable:!0,enumerable:!1,value:jV(T),writable:!0})}:kf;function tS(w){return pr(MA(w))}function Al(w,T,F){var U=-1,st=w.length;T<0&&(T=-T>st?0:st+T),F=F>st?st:F,F<0&&(F+=st),st=T>F?0:F-T>>>0,T>>>=0;for(var xt=he(st);++U<st;)xt[U]=w[U+T];return xt}function eS(w,T){var F;return ou(w,function(U,st,xt){return F=T(U,st,xt),!F}),!!F}function Iy(w,T,F){var U=0,st=w==null?U:w.length;if(typeof T=="number"&&T===T&&st<=tt){for(;U<st;){var xt=U+st>>>1,Ft=w[xt];Ft!==null&&!Gc(Ft)&&(F?Ft<=T:Ft<T)?U=xt+1:st=xt}return st}return w1(w,T,kf,F)}function w1(w,T,F,U){var st=0,xt=w==null?0:w.length;if(xt===0)return 0;T=F(T);for(var Ft=T!==T,Yt=T===null,re=Gc(T),Ge=T===r;st<xt;){var Ye=nv((st+xt)/2),ir=F(w[Ye]),Tr=ir!==r,ni=ir===null,Ai=ir===ir,cn=Gc(ir);if(Ft)var Ei=U||Ai;else Ge?Ei=Ai&&(U||Tr):Yt?Ei=Ai&&Tr&&(U||!ni):re?Ei=Ai&&Tr&&!ni&&(U||!cn):ni||cn?Ei=!1:Ei=U?ir<=T:ir<T;Ei?st=Ye+1:xt=Ye}return Ms(xt,Z)}function rS(w,T){for(var F=-1,U=w.length,st=0,xt=[];++F<U;){var Ft=w[F],Yt=T?T(Ft):Ft;if(!F||!bv(Yt,re)){var re=Yt;xt[st++]=Ft===0?0:Ft}}return xt}function iS(w){return typeof w=="number"?w:Gc(w)?q:+w}function nl(w){if(typeof w=="string")return w;if(Qi(w))return Ia(w,nl)+"";if(Gc(w))return py?py.call(w):"";var T=w+"";return T=="0"&&1/w==-z?"-0":T}function zu(w,T,F){var U=-1,st=wf,xt=w.length,Ft=!0,Yt=[],re=Yt;if(F)Ft=!1,st=Vx;else if(xt>=t){var Ge=T?null:pO(w);if(Ge)return _p(Ge);Ft=!1,st=Ac,re=new lv}else re=T?[]:Yt;t:for(;++U<xt;){var Ye=w[U],ir=T?T(Ye):Ye;if(Ye=F||Ye!==0?Ye:0,Ft&&ir===ir){for(var Tr=re.length;Tr--;)if(re[Tr]===ir)continue t;T&&re.push(ir),Yt.push(Ye)}else st(re,ir,F)||(re!==Yt&&re.push(ir),Yt.push(Ye))}return Yt}function Rp(w,T){return T=su(T,w),w=gt(w,T),w==null||delete w[Zr(mt(T))]}function Ly(w,T,F,U){return Bp(w,T,F(Gh(w,T)),U)}function Wh(w,T,F,U){for(var st=w.length,xt=U?st:-1;(U?xt--:++xt<st)&&T(w[xt],xt,w););return F?Al(w,U?0:xt,U?xt+1:st):Al(w,U?xt+1:0,U?st:xt)}function _1(w,T){var F=w;return F instanceof un&&(F=F.value()),N_(T,function(U,st){return st.func.apply(st.thisArg,_f([U],st.args))},F)}function pv(w,T,F){var U=w.length;if(U<2)return U?zu(w[0]):[];for(var st=-1,xt=he(U);++st<U;)for(var Ft=w[st],Yt=-1;++Yt<U;)Yt!=st&&(xt[st]=fv(xt[st]||Ft,w[Yt],T,F));return zu(Ho(xt,1),T,F)}function Gp(w,T,F){for(var U=-1,st=w.length,xt=T.length,Ft={};++U<st;){var Yt=U<xt?T[U]:r;F(Ft,w[U],Yt)}return Ft}function zp(w){return ps(w)?w:[]}function jp(w){return typeof w=="function"?w:kf}function su(w,T){return Qi(w)?w:xe(w,T)?[w]:Cr(Ca(w))}var Oy=Zi;function lu(w,T,F){var U=w.length;return F=F===r?U:F,!T&&F>=U?w:Al(w,T,F)}var Vh=QL||function(w){return Ro.clearTimeout(w)};function qh(w,T){if(T)return w.slice();var F=w.length,U=$x?$x(F):new w.constructor(F);return w.copy(U),U}function gv(w){var T=new w.constructor(w.byteLength);return new Ap(T).set(new Ap(w)),T}function ky(w,T){var F=T?gv(w.buffer):w.buffer;return new w.constructor(F,w.byteOffset,w.byteLength)}function Py(w){var T=new w.constructor(w.source,Wn.exec(w));return T.lastIndex=w.lastIndex,T}function gA(w){return Op?Vn(Op.call(w)):{}}function Yp(w,T){var F=T?gv(w.buffer):w.buffer;return new w.constructor(F,w.byteOffset,w.length)}function Hh(w,T){if(w!==T){var F=w!==r,U=w===null,st=w===w,xt=Gc(w),Ft=T!==r,Yt=T===null,re=T===T,Ge=Gc(T);if(!Yt&&!Ge&&!xt&&w>T||xt&&Ft&&re&&!Yt&&!Ge||U&&Ft&&re||!F&&re||!st)return 1;if(!U&&!xt&&!Ge&&w<T||Ge&&F&&st&&!U&&!xt||Yt&&F&&st||!Ft&&st||!re)return-1}return 0}function nS(w,T,F){for(var U=-1,st=w.criteria,xt=T.criteria,Ft=st.length,Yt=F.length;++U<Ft;){var re=Hh(st[U],xt[U]);if(re){if(U>=Yt)return re;var Ge=F[U];return re*(Ge=="desc"?-1:1)}}return w.index-T.index}function S1(w,T,F,U){for(var st=-1,xt=w.length,Ft=F.length,Yt=-1,re=T.length,Ge=eo(xt-Ft,0),Ye=he(re+Ge),ir=!U;++Yt<re;)Ye[Yt]=T[Yt];for(;++st<Ft;)(ir||st<xt)&&(Ye[F[st]]=w[st]);for(;Ge--;)Ye[Yt++]=w[st++];return Ye}function mA(w,T,F,U){for(var st=-1,xt=w.length,Ft=-1,Yt=F.length,re=-1,Ge=T.length,Ye=eo(xt-Yt,0),ir=he(Ye+Ge),Tr=!U;++st<Ye;)ir[st]=w[st];for(var ni=st;++re<Ge;)ir[ni+re]=T[re];for(;++Ft<Yt;)(Tr||st<xt)&&(ir[ni+F[Ft]]=w[st++]);return ir}function al(w,T){var F=-1,U=w.length;for(T||(T=he(U));++F<U;)T[F]=w[F];return T}function Ef(w,T,F,U){var st=!F;F||(F={});for(var xt=-1,Ft=T.length;++xt<Ft;){var Yt=T[xt],re=U?U(F[Yt],w[Yt],Yt,F,w):r;re===r&&(re=w[Yt]),st?Pc(F,Yt,re):by(F,Yt,re)}return F}function Uh(w,T){return Ef(w,ue(w),T)}function yA(w,T){return Ef(w,Te(w),T)}function Wp(w,T){return function(F,U){var st=Qi(F)?VM:fO,xt=T?T():{};return st(F,w,ct(U,2),xt)}}function mv(w){return Zi(function(T,F){var U=-1,st=F.length,xt=st>1?F[st-1]:r,Ft=st>2?F[2]:r;for(xt=w.length>3&&typeof xt=="function"?(st--,xt):r,Ft&&He(F[0],F[1],Ft)&&(xt=st<3?r:xt,st=1),T=Vn(T);++U<st;){var Yt=F[U];Yt&&w(T,Yt,U,xt)}return T})}function aS(w,T){return function(F,U){if(F==null)return F;if(!Lf(F))return w(F,U);for(var st=F.length,xt=T?st:-1,Ft=Vn(F);(T?xt--:++xt<st)&&U(Ft[xt],xt,Ft)!==!1;);return F}}function oS(w){return function(T,F,U){for(var st=-1,xt=Vn(T),Ft=U(T),Yt=Ft.length;Yt--;){var re=Ft[w?Yt:++st];if(F(xt[re],re,xt)===!1)break}return T}}function vO(w,T,F){var U=T&v,st=Yu(w);function xt(){var Ft=this&&this!==Ro&&this instanceof xt?st:w;return Ft.apply(U?F:this,arguments)}return xt}function ju(w){return function(T){T=Ca(T);var F=Tc(T)?jo(T):r,U=F?F[0]:T.charAt(0),st=F?lu(F,1).join(""):T.slice(1);return U[w]()+st}}function yv(w){return function(T){return N_(wct(bct(T).replace(GL,"")),w,"")}}function Yu(w){return function(){var T=arguments;switch(T.length){case 0:return new w;case 1:return new w(T[0]);case 2:return new w(T[0],T[1]);case 3:return new w(T[0],T[1],T[2]);case 4:return new w(T[0],T[1],T[2],T[3]);case 5:return new w(T[0],T[1],T[2],T[3],T[4]);case 6:return new w(T[0],T[1],T[2],T[3],T[4],T[5]);case 7:return new w(T[0],T[1],T[2],T[3],T[4],T[5],T[6])}var F=ov(w.prototype),U=w.apply(F,T);return Yo(U)?U:F}}function Xh(w,T,F){var U=Yu(w);function st(){for(var xt=arguments.length,Ft=he(xt),Yt=xt,re=K(st);Yt--;)Ft[Yt]=arguments[Yt];var Ge=xt<3&&Ft[0]!==re&&Ft[xt-1]!==re?[]:il(Ft,re);if(xt-=Ge.length,xt<F)return xA(w,T,xv,st.placeholder,r,Ft,Ge,r,r,F-xt);var Ye=this&&this!==Ro&&this instanceof st?U:w;return Go(Ye,this,Ft)}return st}function sS(w){return function(T,F,U){var st=Vn(T);if(!Lf(T)){var xt=ct(F,3);T=sl(T),F=function(Yt){return xt(st[Yt],Yt,st)}}var Ft=w(T,F,U);return Ft>-1?st[xt?T[Ft]:Ft]:r}}function C1(w){return uu(function(T){var F=T.length,U=F,st=iu.prototype.thru;for(w&&T.reverse();U--;){var xt=T[U];if(typeof xt!="function")throw new Cl(n);if(st&&!Ft&&T1(xt)=="wrapper")var Ft=new iu([],!0)}for(U=Ft?U:F;++U<F;){xt=T[U];var Yt=T1(xt),re=Yt=="wrapper"?E1(xt):r;re&&Ce(re[0])&&re[1]==(_|m|x|M)&&!re[4].length&&re[9]==1?Ft=Ft[T1(re[0])].apply(Ft,re[3]):Ft=xt.length==1&&Ce(xt)?Ft[Yt]():Ft.thru(xt)}return function(){var Ge=arguments,Ye=Ge[0];if(Ft&&Ge.length==1&&Qi(Ye))return Ft.plant(Ye).value();for(var ir=0,Tr=F?T[ir].apply(this,Ge):Ye;++ir<F;)Tr=T[ir].call(this,Tr);return Tr}})}function xv(w,T,F,U,st,xt,Ft,Yt,re,Ge){var Ye=T&_,ir=T&v,Tr=T&p,ni=T&(m|y),Ai=T&A,cn=Tr?r:Yu(w);function Ei(){for(var En=arguments.length,zn=he(En),zc=En;zc--;)zn[zc]=arguments[zc];if(ni)var qu=K(Ei),jc=wp(zn,qu);if(U&&(zn=S1(zn,U,st,ni)),xt&&(zn=mA(zn,xt,Ft,ni)),En-=jc,ni&&En<Ge){var gs=il(zn,qu);return xA(w,T,xv,Ei.placeholder,F,zn,gs,Yt,re,Ge-En)}var wv=ir?F:this,By=Tr?wv[w]:w;return En=zn.length,Yt?zn=St(zn,Yt):Ai&&En>1&&zn.reverse(),Ye&&re<En&&(zn.length=re),this&&this!==Ro&&this instanceof Ei&&(By=cn||Yu(By)),By.apply(wv,zn)}return Ei}function lS(w,T){return function(F,U){return cA(F,w,T(U),{})}}function Uo(w,T){return function(F,U){var st;if(F===r&&U===r)return T;if(F!==r&&(st=F),U!==r){if(st===r)return U;typeof F=="string"||typeof U=="string"?(F=nl(F),U=nl(U)):(F=iS(F),U=iS(U)),st=w(F,U)}return st}}function Tf(w){return uu(function(T){return T=Ia(T,rl(ct())),Zi(function(F){var U=this;return w(T,function(st){return Go(st,U,F)})})})}function La(w,T){T=T===r?" ":nl(T);var F=T.length;if(F<2)return F?Yh(T,w):T;var U=Yh(T,cy(w/Du(T)));return Tc(T)?lu(jo(U),0,w).join(""):U.slice(0,w)}function ol(w,T,F,U){var st=T&v,xt=Yu(w);function Ft(){for(var Yt=-1,re=arguments.length,Ge=-1,Ye=U.length,ir=he(Ye+re),Tr=this&&this!==Ro&&this instanceof Ft?xt:w;++Ge<Ye;)ir[Ge]=U[Ge];for(;re--;)ir[Ge++]=arguments[++Yt];return Go(Tr,st?F:this,ir)}return Ft}function uS(w){return function(T,F,U){return U&&typeof U!="number"&&He(T,F,U)&&(F=U=r),T=Ny(T),F===r?(F=T,T=0):F=Ny(F),U=U===r?T<F?1:-1:Ny(U),cO(T,F,U,w)}}function Wu(w){return function(T,F){return typeof T=="string"&&typeof F=="string"||(T=Zh(T),F=Zh(F)),w(T,F)}}function xA(w,T,F,U,st,xt,Ft,Yt,re,Ge){var Ye=T&m,ir=Ye?Ft:r,Tr=Ye?r:Ft,ni=Ye?xt:r,Ai=Ye?r:xt;T|=Ye?x:b,T&=~(Ye?b:x),T&g||(T&=~(v|p));var cn=[w,T,st,ni,ir,Ai,Tr,Yt,re,Ge],Ei=F.apply(r,cn);return Ce(w)&&Vt(Ei,cn),Ei.placeholder=U,Ve(Ei,w,T)}function fS(w){var T=_o[w];return function(F,U){if(F=Zh(F),U=U==null?0:Ms(nn(U),292),U&&e1(F)){var st=(Ca(F)+"e").split("e"),xt=T(st[0]+"e"+(+st[1]+U));return st=(Ca(xt)+"e").split("e"),+(st[0]+"e"+(+st[1]-U))}return T(F)}}var pO=av&&1/_p(new av([,-0]))[1]==z?function(w){return new av(w)}:VV;function cS(w){return function(T){var F=be(T);return F==se?Xx(T):F==ur?Y_(T):qM(T,w(T))}}function Bc(w,T,F,U,st,xt,Ft,Yt){var re=T&p;if(!re&&typeof w!="function")throw new Cl(n);var Ge=U?U.length:0;if(Ge||(T&=~(x|b),U=st=r),Ft=Ft===r?Ft:eo(nn(Ft),0),Yt=Yt===r?Yt:nn(Yt),Ge-=st?st.length:0,T&b){var Ye=U,ir=st;U=st=r}var Tr=re?r:E1(w),ni=[w,T,F,U,st,Ye,ir,xt,Ft,Yt];if(Tr&&X(ni,Tr),w=ni[0],T=ni[1],F=ni[2],U=ni[3],st=ni[4],Yt=ni[9]=ni[9]===r?re?0:w.length:eo(ni[9]-Ge,0),!Yt&&T&(m|y)&&(T&=~(m|y)),!T||T==v)var Ai=vO(w,T,F);else T==m||T==y?Ai=Xh(w,T,Yt):(T==x||T==(v|x))&&!st.length?Ai=ol(w,T,F,U):Ai=xv.apply(r,ni);var cn=Tr?pA:Vt;return Ve(cn(Ai,ni),w,T)}function bA(w,T,F,U){return w===r||bv(w,Cp[F])&&!An.call(U,F)?T:w}function wA(w,T,F,U,st,xt){return Yo(w)&&Yo(T)&&(xt.set(T,w),Nc(w,T,r,wA,xt),xt.delete(T)),w}function gO(w){return yO(w)?r:w}function _A(w,T,F,U,st,xt){var Ft=F&h,Yt=w.length,re=T.length;if(Yt!=re&&!(Ft&&re>Yt))return!1;var Ge=xt.get(w),Ye=xt.get(T);if(Ge&&Ye)return Ge==T&&Ye==w;var ir=-1,Tr=!0,ni=F&d?new lv:r;for(xt.set(w,T),xt.set(T,w);++ir<Yt;){var Ai=w[ir],cn=T[ir];if(U)var Ei=Ft?U(cn,Ai,ir,T,w,xt):U(Ai,cn,ir,w,T,xt);if(Ei!==r){if(Ei)continue;Tr=!1;break}if(ni){if(!qx(T,function(En,zn){if(!Ac(ni,zn)&&(Ai===En||st(Ai,En,F,U,xt)))return ni.push(zn)})){Tr=!1;break}}else if(!(Ai===cn||st(Ai,cn,F,U,xt))){Tr=!1;break}}return xt.delete(w),xt.delete(T),Tr}function SA(w,T,F,U,st,xt,Ft){switch(F){case Ht:if(w.byteLength!=T.byteLength||w.byteOffset!=T.byteOffset)return!1;w=w.buffer,T=T.buffer;case we:return!(w.byteLength!=T.byteLength||!xt(new Ap(w),new Ap(T)));case ft:case pt:case _e:return bv(+w,+T);case Et:return w.name==T.name&&w.message==T.message;case rr:case _r:return w==T+"";case se:var Yt=Xx;case ur:var re=U&h;if(Yt||(Yt=_p),w.size!=T.size&&!re)return!1;var Ge=Ft.get(w);if(Ge)return Ge==T;U|=d,Ft.set(w,T);var Ye=_A(Yt(w),Yt(T),U,st,xt,Ft);return Ft.delete(w),Ye;case it:if(Op)return Op.call(w)==Op.call(T)}return!1}function M1(w,T,F,U,st,xt){var Ft=F&h,Yt=hS(w),re=Yt.length,Ge=hS(T),Ye=Ge.length;if(re!=Ye&&!Ft)return!1;for(var ir=re;ir--;){var Tr=Yt[ir];if(!(Ft?Tr in T:An.call(T,Tr)))return!1}var ni=xt.get(w),Ai=xt.get(T);if(ni&&Ai)return ni==T&&Ai==w;var cn=!0;xt.set(w,T),xt.set(T,w);for(var Ei=Ft;++ir<re;){Tr=Yt[ir];var En=w[Tr],zn=T[Tr];if(U)var zc=Ft?U(zn,En,Tr,T,w,xt):U(En,zn,Tr,w,T,xt);if(!(zc===r?En===zn||st(En,zn,F,U,xt):zc)){cn=!1;break}Ei||(Ei=Tr=="constructor")}if(cn&&!Ei){var qu=w.constructor,jc=T.constructor;qu!=jc&&"constructor"in w&&"constructor"in T&&!(typeof qu=="function"&&qu instanceof qu&&typeof jc=="function"&&jc instanceof jc)&&(cn=!1)}return xt.delete(w),xt.delete(T),cn}function uu(w){return Se(vt(w,r,Jt),w+"")}function hS(w){return v1(w,sl,ue)}function A1(w){return v1(w,Of,Te)}var E1=Lp?function(w){return Lp.get(w)}:VV;function T1(w){for(var T=w.name+"",F=fr[T],U=An.call(fr,T)?F.length:0;U--;){var st=F[U],xt=st.func;if(xt==null||xt==w)return st.name}return T}function K(w){var T=An.call(dt,"placeholder")?dt:w;return T.placeholder}function ct(){var w=dt.iteratee||YV;return w=w===YV?Fp:w,arguments.length?w(arguments[0],arguments[1]):w}function Ct(w,T){var F=w.__data__;return hr(T)?F[typeof T=="string"?"string":"hash"]:F.map}function ie(w){for(var T=sl(w),F=T.length;F--;){var U=T[F],st=w[U];T[F]=[U,st,W(st)]}return T}function ve(w,T){var F=ny(w,T);return zh(F)?F:r}function ee(w){var T=An.call(w,Dh),F=w[Dh];try{w[Dh]=r;var U=!0}catch(xt){}var st=js.call(w);return U&&(T?w[Dh]=F:delete w[Dh]),st}var ue=t1?function(w){return w==null?[]:(w=Vn(w),Sl(t1(w),function(T){return So.call(w,T)}))}:qV,Te=t1?function(w){for(var T=[];w;)_f(T,ue(w)),w=Jx(w);return T}:qV,be=As;(i1&&be(new i1(new ArrayBuffer(1)))!=Ht||Tp&&be(new Tp)!=se||dy&&be(dy.resolve())!=pe||av&&be(new av)!=ur||Ip&&be(new Ip)!=Gt)&&(be=function(w){var T=As(w),F=T==ar?w.constructor:r,U=F?fi(F):"";if(U)switch(U){case n1:return Ht;case vy:return se;case Mi:return pe;case a1:return ur;case Nh:return Gt}return T});function Be(w,T,F){for(var U=-1,st=F.length;++U<st;){var xt=F[U],Ft=xt.size;switch(xt.type){case"drop":w+=Ft;break;case"dropRight":T-=Ft;break;case"take":T=Ms(T,w+Ft);break;case"takeRight":w=eo(w,T-Ft);break}}return{start:w,end:T}}function ke(w){var T=w.match(Xi);return T?T[1].split(ba):[]}function Ue(w,T,F){T=su(T,w);for(var U=-1,st=T.length,xt=!1;++U<st;){var Ft=Zr(T[U]);if(!(xt=w!=null&&F(w,Ft)))break;w=w[Ft]}return xt||++U!=st?xt:(st=w==null?0:w.length,!!st&&DB(st)&&Ee(Ft,st)&&(Qi(w)||dS(w)))}function tr(w){var T=w.length,F=new w.constructor(T);return T&&typeof w[0]=="string"&&An.call(w,"index")&&(F.index=w.index,F.input=w.input),F}function Ie(w){return typeof w.constructor=="function"&&!D(w)?ov(Jx(w)):{}}function Xe(w,T,F){var U=w.constructor;switch(T){case we:return gv(w);case ft:case pt:return new U(+w);case Ht:return ky(w,F);case ce:case Oe:case je:case Ae:case Qe:case sr:case Xr:case Fr:case Gn:return Yp(w,F);case se:return new U;case _e:case _r:return new U(w);case rr:return Py(w);case ur:return new U;case it:return gA(w)}}function Ut(w,T){var F=T.length;if(!F)return w;var U=F-1;return T[U]=(F>1?"& ":"")+T[U],T=T.join(F>2?", ":" "),w.replace(Cn,`{
/* [wrapped with `+T+`] */
`)}function fe(w){return Qi(w)||dS(w)||!!(q_&&w&&w[q_])}function Ee(w,T){var F=typeof w;return T=T==null?B:T,!!T&&(F=="number"||F!="symbol"&&tu.test(w))&&w>-1&&w%1==0&&w<T}function He(w,T,F){if(!Yo(F))return!1;var U=typeof T;return(U=="number"?Lf(F)&&Ee(T,F.length):U=="string"&&T in F)?bv(F[T],w):!1}function xe(w,T){if(Qi(w))return!1;var F=typeof w;return F=="number"||F=="symbol"||F=="boolean"||w==null||Gc(w)?!0:ku.test(w)||!Mh.test(w)||T!=null&&w in Vn(T)}function hr(w){var T=typeof w;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?w!=="__proto__":w===null}function Ce(w){var T=T1(w),F=dt[T];if(typeof F!="function"||!(T in un.prototype))return!1;if(w===F)return!0;var U=E1(F);return!!U&&w===U[0]}function C(w){return!!uy&&uy in w}var L=sy?Fy:HV;function D(w){var T=w&&w.constructor,F=typeof T=="function"&&T.prototype||Cp;return w===F}function W(w){return w===w&&!Yo(w)}function H(w,T){return function(F){return F==null?!1:F[w]===T&&(T!==r||w in Vn(F))}}function V(w){var T=kB(w,function(U){return F.size===s&&F.clear(),U}),F=T.cache;return T}function X(w,T){var F=w[1],U=T[1],st=F|U,xt=st<(v|p|_),Ft=U==_&&F==m||U==_&&F==M&&w[7].length<=T[8]||U==(_|M)&&T[7].length<=T[8]&&F==m;if(!(xt||Ft))return w;U&v&&(w[2]=T[2],st|=F&v?0:g);var Yt=T[3];if(Yt){var re=w[3];w[3]=re?S1(re,Yt,T[4]):Yt,w[4]=re?il(w[3],l):T[4]}return Yt=T[5],Yt&&(re=w[5],w[5]=re?mA(re,Yt,T[6]):Yt,w[6]=re?il(w[5],l):T[6]),Yt=T[7],Yt&&(w[7]=Yt),U&_&&(w[8]=w[8]==null?T[8]:Ms(w[8],T[8])),w[9]==null&&(w[9]=T[9]),w[0]=T[0],w[1]=st,w}function Q(w){var T=[];if(w!=null)for(var F in Vn(w))T.push(F);return T}function rt(w){return js.call(w)}function vt(w,T,F){return T=eo(T===r?w.length-1:T,0),function(){for(var U=arguments,st=-1,xt=eo(U.length-T,0),Ft=he(xt);++st<xt;)Ft[st]=U[T+st];st=-1;for(var Yt=he(T+1);++st<T;)Yt[st]=U[st];return Yt[T]=F(Ft),Go(w,this,Yt)}}function gt(w,T){return T.length<2?w:Gh(w,Al(T,0,-1))}function St(w,T){for(var F=w.length,U=Ms(T.length,F),st=al(w);U--;){var xt=T[U];w[U]=Ee(xt,F)?st[xt]:r}return w}function Nt(w,T){if(!(T==="constructor"&&typeof w[T]=="function")&&T!="__proto__")return w[T]}var Vt=De(pA),me=$L||function(w,T){return Ro.setTimeout(w,T)},Se=De(vv);function Ve(w,T,F){var U=T+"";return Se(w,Ut(U,Pi(ke(U),F)))}function De(w){var T=0,F=0;return function(){var U=Fh(),st=O-(U-F);if(F=U,st>0){if(++T>=E)return arguments[0]}else T=0;return w.apply(r,arguments)}}function pr(w,T){var F=-1,U=w.length,st=U-1;for(T=T===r?U:T;++F<T;){var xt=b1(F,st),Ft=w[xt];w[xt]=w[F],w[F]=Ft}return w.length=T,w}var Cr=V(function(w){var T=[];return w.charCodeAt(0)===46&&T.push(""),w.replace(zs,function(F,U,st,xt){T.push(st?xt.replace(ui,"$1"):U||F)}),T});function Zr(w){if(typeof w=="string"||Gc(w))return w;var T=w+"";return T=="0"&&1/w==-z?"-0":T}function fi(w){if(w!=null){try{return ly.call(w)}catch(T){}try{return w+""}catch(T){}}return""}function Pi(w,T){return zo(lt,function(F){var U="_."+F[0];T&F[1]&&!wf(w,U)&&w.push(U)}),w.sort()}function dn(w){if(w instanceof un)return w.clone();var T=new iu(w.__wrapped__,w.__chain__);return T.__actions__=al(w.__actions__),T.__index__=w.__index__,T.__values__=w.__values__,T}function yn(w,T,F){(F?He(w,T,F):T===r)?T=1:T=eo(nn(T),0);var U=w==null?0:w.length;if(!U||T<1)return[];for(var st=0,xt=0,Ft=he(cy(U/T));st<U;)Ft[xt++]=Al(w,st,st+=T);return Ft}function Kr(w){for(var T=-1,F=w==null?0:w.length,U=0,st=[];++T<F;){var xt=w[T];xt&&(st[U++]=xt)}return st}function $r(){var w=arguments.length;if(!w)return[];for(var T=he(w-1),F=arguments[0],U=w;U--;)T[U-1]=arguments[U];return _f(Qi(F)?al(F):[F],Ho(T,1))}var _a=Zi(function(w,T){return ps(w)?fv(w,Ho(T,1,ps,!0)):[]}),Ki=Zi(function(w,T){var F=mt(T);return ps(F)&&(F=r),ps(w)?fv(w,Ho(T,1,ps,!0),ct(F,2)):[]}),Gr=Zi(function(w,T){var F=mt(T);return ps(F)&&(F=r),ps(w)?fv(w,Ho(T,1,ps,!0),r,F):[]});function jr(w,T,F){var U=w==null?0:w.length;return U?(T=F||T===r?1:nn(T),Al(w,T<0?0:T,U)):[]}function Di(w,T,F){var U=w==null?0:w.length;return U?(T=F||T===r?1:nn(T),T=U-T,Al(w,0,T<0?0:T)):[]}function Sa(w,T){return w&&w.length?Wh(w,ct(T,3),!0,!0):[]}function Vu(w,T){return w&&w.length?Wh(w,ct(T,3),!0):[]}function Dy(w,T,F,U){var st=w==null?0:w.length;return st?(F&&typeof F!="number"&&He(w,T,F)&&(F=0,U=st),uA(w,T,F,U)):[]}function wt(w,T,F){var U=w==null?0:w.length;if(!U)return-1;var st=F==null?0:nn(F);return st<0&&(st=eo(U+st,0)),tv(w,ct(T,3),st)}function ae(w,T,F){var U=w==null?0:w.length;if(!U)return-1;var st=U-1;return F!==r&&(st=nn(F),st=F<0?eo(U+st,0):Ms(st,U-1)),tv(w,ct(T,3),st,!0)}function Jt(w){var T=w==null?0:w.length;return T?Ho(w,1):[]}function gr(w){var T=w==null?0:w.length;return T?Ho(w,z):[]}function Fi(w,T){var F=w==null?0:w.length;return F?(T=T===r?1:nn(T),Ho(w,T)):[]}function bt(w){for(var T=-1,F=w==null?0:w.length,U={};++T<F;){var st=w[T];U[st[0]]=st[1]}return U}function ht(w){return w&&w.length?w[0]:r}function Pt(w,T,F){var U=w==null?0:w.length;if(!U)return-1;var st=F==null?0:nn(F);return st<0&&(st=eo(U+st,0)),Cc(w,T,st)}function qt(w){var T=w==null?0:w.length;return T?Al(w,0,-1):[]}var Xt=Zi(function(w){var T=Ia(w,zp);return T.length&&T[0]===w[0]?My(T):[]}),Bt=Zi(function(w){var T=mt(w),F=Ia(w,zp);return T===mt(F)?T=r:F.pop(),F.length&&F[0]===w[0]?My(F,ct(T,2)):[]}),Dt=Zi(function(w){var T=mt(w),F=Ia(w,zp);return T=typeof T=="function"?T:r,T&&F.pop(),F.length&&F[0]===w[0]?My(F,r,T):[]});function jt(w,T){return w==null?"":hy.call(w,T)}function mt(w){var T=w==null?0:w.length;return T?w[T-1]:r}function It(w,T,F){var U=w==null?0:w.length;if(!U)return-1;var st=U;return F!==r&&(st=nn(F),st=st<0?eo(U+st,0):Ms(st,U-1)),T===T?Zx(w,T,st):tv(w,ty,st,!0)}function yt(w,T){return w&&w.length?Ey(w,nn(T)):r}var Wt=Zi(Qt);function Qt(w,T){return w&&w.length&&T&&T.length?Ty(w,T):w}function ge(w,T,F){return w&&w.length&&T&&T.length?Ty(w,T,ct(F,2)):w}function ye(w,T,F){return w&&w.length&&T&&T.length?Ty(w,T,r,F):w}var de=uu(function(w,T){var F=w==null?0:w.length,U=Cf(w,T);return J_(w,Ia(T,function(st){return Ee(st,F)?+st:st}).sort(Hh)),U});function Re(w,T){var F=[];if(!(w&&w.length))return F;var U=-1,st=[],xt=w.length;for(T=ct(T,3);++U<xt;){var Ft=w[U];T(Ft,U,w)&&(F.push(Ft),st.push(U))}return J_(w,st),F}function Er(w){return w==null?w:$M.call(w)}function Si(w,T,F){var U=w==null?0:w.length;return U?(F&&typeof F!="number"&&He(w,T,F)?(T=0,F=U):(T=T==null?0:nn(T),F=F===r?U:nn(F)),Al(w,T,F)):[]}function Sr(w,T){return Iy(w,T)}function Ur(w,T,F){return w1(w,T,ct(F,2))}function yi(w,T){var F=w==null?0:w.length;if(F){var U=Iy(w,T);if(U<F&&bv(w[U],T))return U}return-1}function fn(w,T){return Iy(w,T,!0)}function io(w,T,F){return w1(w,T,ct(F,2),!0)}function El(w,T){var F=w==null?0:w.length;if(F){var U=Iy(w,T,!0)-1;if(bv(w[U],T))return U}return-1}function mO(w){return w&&w.length?rS(w):[]}function If(w,T){return w&&w.length?rS(w,ct(T,2)):[]}function EB(w){var T=w==null?0:w.length;return T?Al(w,1,T):[]}function Rc(w,T,F){return w&&w.length?(T=F||T===r?1:nn(T),Al(w,0,T<0?0:T)):[]}function TB(w,T,F){var U=w==null?0:w.length;return U?(T=F||T===r?1:nn(T),T=U-T,Al(w,T<0?0:T,U)):[]}function XHt(w,T){return w&&w.length?Wh(w,ct(T,3),!1,!0):[]}function ZHt(w,T){return w&&w.length?Wh(w,ct(T,3)):[]}var KHt=Zi(function(w){return zu(Ho(w,1,ps,!0))}),QHt=Zi(function(w){var T=mt(w);return ps(T)&&(T=r),zu(Ho(w,1,ps,!0),ct(T,2))}),$Ht=Zi(function(w){var T=mt(w);return T=typeof T=="function"?T:r,zu(Ho(w,1,ps,!0),r,T)});function JHt(w){return w&&w.length?zu(w):[]}function tUt(w,T){return w&&w.length?zu(w,ct(T,2)):[]}function eUt(w,T){return T=typeof T=="function"?T:r,w&&w.length?zu(w,r,T):[]}function PV(w){if(!(w&&w.length))return[];var T=0;return w=Sl(w,function(F){if(ps(F))return T=eo(F.length,T),!0}),bp(T,function(F){return Ia(w,rv(F))})}function Kft(w,T){if(!(w&&w.length))return[];var F=PV(w);return T==null?F:Ia(F,function(U){return Go(T,r,U)})}var rUt=Zi(function(w,T){return ps(w)?fv(w,T):[]}),iUt=Zi(function(w){return pv(Sl(w,ps))}),nUt=Zi(function(w){var T=mt(w);return ps(T)&&(T=r),pv(Sl(w,ps),ct(T,2))}),aUt=Zi(function(w){var T=mt(w);return T=typeof T=="function"?T:r,pv(Sl(w,ps),r,T)}),oUt=Zi(PV);function sUt(w,T){return Gp(w||[],T||[],by)}function lUt(w,T){return Gp(w||[],T||[],Bp)}var uUt=Zi(function(w){var T=w.length,F=T>1?w[T-1]:r;return F=typeof F=="function"?(w.pop(),F):r,Kft(w,F)});function Qft(w){var T=dt(w);return T.__chain__=!0,T}function fUt(w,T){return T(w),w}function IB(w,T){return T(w)}var cUt=uu(function(w){var T=w.length,F=T?w[0]:0,U=this.__wrapped__,st=function(xt){return Cf(xt,w)};return T>1||this.__actions__.length||!(U instanceof un)||!Ee(F)?this.thru(st):(U=U.slice(F,+F+(T?1:0)),U.__actions__.push({func:IB,args:[st],thisArg:r}),new iu(U,this.__chain__).thru(function(xt){return T&&!xt.length&&xt.push(r),xt}))});function hUt(){return Qft(this)}function dUt(){return new iu(this.value(),this.__chain__)}function vUt(){this.__values__===r&&(this.__values__=cct(this.value()));var w=this.__index__>=this.__values__.length,T=w?r:this.__values__[this.__index__++];return{done:w,value:T}}function pUt(){return this}function gUt(w){for(var T,F=this;F instanceof gy;){var U=dn(F);U.__index__=0,U.__values__=r,T?st.__wrapped__=U:T=U;var st=U;F=F.__wrapped__}return st.__wrapped__=w,T}function mUt(){var w=this.__wrapped__;if(w instanceof un){var T=w;return this.__actions__.length&&(T=new un(this)),T=T.reverse(),T.__actions__.push({func:IB,args:[Er],thisArg:r}),new iu(T,this.__chain__)}return this.thru(Er)}function yUt(){return _1(this.__wrapped__,this.__actions__)}var xUt=Wp(function(w,T,F){An.call(w,F)?++w[F]:Pc(w,F,1)});function bUt(w,T,F){var U=Qi(w)?bf:lA;return F&&He(w,T,F)&&(T=r),U(w,ct(T,3))}function wUt(w,T){var F=Qi(w)?Sl:c1;return F(w,ct(T,3))}var _Ut=sS(wt),SUt=sS(ae);function CUt(w,T){return Ho(LB(w,T),1)}function MUt(w,T){return Ho(LB(w,T),z)}function AUt(w,T,F){return F=F===r?1:nn(F),Ho(LB(w,T),F)}function $ft(w,T){var F=Qi(w)?zo:ou;return F(w,ct(T,3))}function Jft(w,T){var F=Qi(w)?Wx:wy;return F(w,ct(T,3))}var EUt=Wp(function(w,T,F){An.call(w,F)?w[F].push(T):Pc(w,F,[T])});function TUt(w,T,F,U){w=Lf(w)?w:MA(w),F=F&&!U?nn(F):0;var st=w.length;return F<0&&(F=eo(st+F,0)),FB(w)?F<=st&&w.indexOf(T,F)>-1:!!st&&Cc(w,T,F)>-1}var IUt=Zi(function(w,T,F){var U=-1,st=typeof T=="function",xt=Lf(w)?he(w.length):[];return ou(w,function(Ft){xt[++U]=st?Go(T,Ft,F):Dp(Ft,T,F)}),xt}),LUt=Wp(function(w,T,F){Pc(w,F,T)});function LB(w,T){var F=Qi(w)?Ia:Fc;return F(w,ct(T,3))}function OUt(w,T,F,U){return w==null?[]:(Qi(T)||(T=T==null?[]:[T]),F=U?r:F,Qi(F)||(F=F==null?[]:[F]),jh(w,T,F))}var kUt=Wp(function(w,T,F){w[F?0:1].push(T)},function(){return[[],[]]});function PUt(w,T,F){var U=Qi(w)?N_:R_,st=arguments.length<3;return U(w,ct(T,4),F,st,ou)}function DUt(w,T,F){var U=Qi(w)?VL:R_,st=arguments.length<3;return U(w,ct(T,4),F,st,wy)}function FUt(w,T){var F=Qi(w)?Sl:c1;return F(w,PB(ct(T,3)))}function NUt(w){var T=Qi(w)?sA:hO;return T(w)}function BUt(w,T,F){(F?He(w,T,F):T===r)?T=1:T=nn(T);var U=Qi(w)?lO:dO;return U(w,T)}function RUt(w){var T=Qi(w)?uO:tS;return T(w)}function GUt(w){if(w==null)return 0;if(Lf(w))return FB(w)?Du(w):w.length;var T=be(w);return T==se||T==ur?w.size:hv(w).length}function zUt(w,T,F){var U=Qi(w)?qx:eS;return F&&He(w,T,F)&&(T=r),U(w,ct(T,3))}var jUt=Zi(function(w,T){if(w==null)return[];var F=T.length;return F>1&&He(w,T[0],T[1])?T=[]:F>2&&He(T[0],T[1],T[2])&&(T=[T[0]]),jh(w,Ho(T,1),[])}),OB=H_||function(){return Ro.Date.now()};function YUt(w,T){if(typeof T!="function")throw new Cl(n);return w=nn(w),function(){if(--w<1)return T.apply(this,arguments)}}function tct(w,T,F){return T=F?r:T,T=w&&T==null?w.length:T,Bc(w,_,r,r,r,r,T)}function ect(w,T){var F;if(typeof T!="function")throw new Cl(n);return w=nn(w),function(){return--w>0&&(F=T.apply(this,arguments)),w<=1&&(T=r),F}}var DV=Zi(function(w,T,F){var U=v;if(F.length){var st=il(F,K(DV));U|=x}return Bc(w,U,T,F,st)}),rct=Zi(function(w,T,F){var U=v|p;if(F.length){var st=il(F,K(rct));U|=x}return Bc(T,U,w,F,st)});function ict(w,T,F){T=F?r:T;var U=Bc(w,m,r,r,r,r,r,T);return U.placeholder=ict.placeholder,U}function nct(w,T,F){T=F?r:T;var U=Bc(w,y,r,r,r,r,r,T);return U.placeholder=nct.placeholder,U}function act(w,T,F){var U,st,xt,Ft,Yt,re,Ge=0,Ye=!1,ir=!1,Tr=!0;if(typeof w!="function")throw new Cl(n);T=Zh(T)||0,Yo(F)&&(Ye=!!F.leading,ir="maxWait"in F,xt=ir?eo(Zh(F.maxWait)||0,T):xt,Tr="trailing"in F?!!F.trailing:Tr);function ni(gs){var wv=U,By=st;return U=st=r,Ge=gs,Ft=w.apply(By,wv),Ft}function Ai(gs){return Ge=gs,Yt=me(En,T),Ye?ni(gs):Ft}function cn(gs){var wv=gs-re,By=gs-Ge,Cct=T-wv;return ir?Ms(Cct,xt-By):Cct}function Ei(gs){var wv=gs-re,By=gs-Ge;return re===r||wv>=T||wv<0||ir&&By>=xt}function En(){var gs=OB();if(Ei(gs))return zn(gs);Yt=me(En,cn(gs))}function zn(gs){return Yt=r,Tr&&U?ni(gs):(U=st=r,Ft)}function zc(){Yt!==r&&Vh(Yt),Ge=0,U=re=st=Yt=r}function qu(){return Yt===r?Ft:zn(OB())}function jc(){var gs=OB(),wv=Ei(gs);if(U=arguments,st=this,re=gs,wv){if(Yt===r)return Ai(re);if(ir)return Vh(Yt),Yt=me(En,T),ni(re)}return Yt===r&&(Yt=me(En,T)),Ft}return jc.cancel=zc,jc.flush=qu,jc}var WUt=Zi(function(w,T){return f1(w,1,T)}),VUt=Zi(function(w,T,F){return f1(w,Zh(T)||0,F)});function qUt(w){return Bc(w,A)}function kB(w,T){if(typeof w!="function"||T!=null&&typeof T!="function")throw new Cl(n);var F=function(){var U=arguments,st=T?T.apply(this,U):U[0],xt=F.cache;if(xt.has(st))return xt.get(st);var Ft=w.apply(this,U);return F.cache=xt.set(st,Ft)||xt,Ft};return F.cache=new(kB.Cache||Oc),F}kB.Cache=Oc;function PB(w){if(typeof w!="function")throw new Cl(n);return function(){var T=arguments;switch(T.length){case 0:return!w.call(this);case 1:return!w.call(this,T[0]);case 2:return!w.call(this,T[0],T[1]);case 3:return!w.call(this,T[0],T[1],T[2])}return!w.apply(this,T)}}function HUt(w){return ect(2,w)}var UUt=Oy(function(w,T){T=T.length==1&&Qi(T[0])?Ia(T[0],rl(ct())):Ia(Ho(T,1),rl(ct()));var F=T.length;return Zi(function(U){for(var st=-1,xt=Ms(U.length,F);++st<xt;)U[st]=T[st].call(this,U[st]);return Go(w,this,U)})}),FV=Zi(function(w,T){var F=il(T,K(FV));return Bc(w,x,r,T,F)}),oct=Zi(function(w,T){var F=il(T,K(oct));return Bc(w,b,r,T,F)}),XUt=uu(function(w,T){return Bc(w,M,r,r,r,T)});function ZUt(w,T){if(typeof w!="function")throw new Cl(n);return T=T===r?T:nn(T),Zi(w,T)}function KUt(w,T){if(typeof w!="function")throw new Cl(n);return T=T==null?0:eo(nn(T),0),Zi(function(F){var U=F[T],st=lu(F,0,T);return U&&_f(st,U),Go(w,this,st)})}function QUt(w,T,F){var U=!0,st=!0;if(typeof w!="function")throw new Cl(n);return Yo(F)&&(U="leading"in F?!!F.leading:U,st="trailing"in F?!!F.trailing:st),act(w,T,{leading:U,maxWait:T,trailing:st})}function $Ut(w){return tct(w,1)}function JUt(w,T){return FV(jp(T),w)}function tXt(){if(!arguments.length)return[];var w=arguments[0];return Qi(w)?w:[w]}function eXt(w){return vs(w,c)}function rXt(w,T){return T=typeof T=="function"?T:r,vs(w,c,T)}function iXt(w){return vs(w,u|c)}function nXt(w,T){return T=typeof T=="function"?T:r,vs(w,u|c,T)}function aXt(w,T){return T==null||u1(w,T,sl(T))}function bv(w,T){return w===T||w!==w&&T!==T}var oXt=Wu(p1),sXt=Wu(function(w,T){return w>=T}),dS=g1(function(){return arguments}())?g1:function(w){return Xo(w)&&An.call(w,"callee")&&!So.call(w,"callee")},Qi=he.isArray,lXt=P_?rl(P_):hA;function Lf(w){return w!=null&&DB(w.length)&&!Fy(w)}function ps(w){return Xo(w)&&Lf(w)}function uXt(w){return w===!0||w===!1||Xo(w)&&As(w)==ft}var I1=JL||HV,fXt=$d?rl($d):dA;function cXt(w){return Xo(w)&&w.nodeType===1&&!yO(w)}function hXt(w){if(w==null)return!0;if(Lf(w)&&(Qi(w)||typeof w=="string"||typeof w.splice=="function"||I1(w)||CA(w)||dS(w)))return!w.length;var T=be(w);if(T==se||T==ur)return!w.size;if(D(w))return!hv(w).length;for(var F in w)if(An.call(w,F))return!1;return!0}function dXt(w,T){return Mf(w,T)}function vXt(w,T,F){F=typeof F=="function"?F:r;var U=F?F(w,T):r;return U===r?Mf(w,T,r,F):!!U}function NV(w){if(!Xo(w))return!1;var T=As(w);return T==Et||T==_t||typeof w.message=="string"&&typeof w.name=="string"&&!yO(w)}function pXt(w){return typeof w=="number"&&e1(w)}function Fy(w){if(!Yo(w))return!1;var T=As(w);return T==Ot||T==oe||T==ut||T==ze}function sct(w){return typeof w=="number"&&w==nn(w)}function DB(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=B}function Yo(w){var T=typeof w;return w!=null&&(T=="object"||T=="function")}function Xo(w){return w!=null&&typeof w=="object"}var lct=D_?rl(D_):Lt;function gXt(w,T){return w===T||m1(w,T,ie(T))}function mXt(w,T,F){return F=typeof F=="function"?F:r,m1(w,T,ie(T),F)}function yXt(w){return uct(w)&&w!=+w}function xXt(w){if(L(w))throw new Ti(i);return zh(w)}function bXt(w){return w===null}function wXt(w){return w==null}function uct(w){return typeof w=="number"||Xo(w)&&As(w)==_e}function yO(w){if(!Xo(w)||As(w)!=ar)return!1;var T=Jx(w);if(T===null)return!0;var F=An.call(T,"constructor")&&T.constructor;return typeof F=="function"&&F instanceof F&&ly.call(F)==Ph}var BV=F_?rl(F_):Af;function _Xt(w){return sct(w)&&w>=-B&&w<=B}var fct=Jd?rl(Jd):Ay;function FB(w){return typeof w=="string"||!Qi(w)&&Xo(w)&&As(w)==_r}function Gc(w){return typeof w=="symbol"||Xo(w)&&As(w)==it}var CA=ca?rl(ca):cv;function SXt(w){return w===r}function CXt(w){return Xo(w)&&be(w)==Gt}function MXt(w){return Xo(w)&&As(w)==te}var AXt=Wu(Gu),EXt=Wu(function(w,T){return w<=T});function cct(w){if(!w)return[];if(Lf(w))return FB(w)?jo(w):al(w);if(Fu&&w[Fu])return XM(w[Fu]());var T=be(w),F=T==se?Xx:T==ur?_p:MA;return F(w)}function Ny(w){if(!w)return w===0?w:0;if(w=Zh(w),w===z||w===-z){var T=w<0?-1:1;return T*Y}return w===w?w:0}function nn(w){var T=Ny(w),F=T%1;return T===T?F?T-F:T:0}function hct(w){return w?Rh(nn(w),0,j):0}function Zh(w){if(typeof w=="number")return w;if(Gc(w))return q;if(Yo(w)){var T=typeof w.valueOf=="function"?w.valueOf():w;w=Yo(T)?T+"":T}if(typeof w!="string")return w===0?w:+w;w=HM(w);var F=rn.test(w);return F||wl.test(w)?Jm(w.slice(2),F?2:8):Jl.test(w)?q:+w}function dct(w){return Ef(w,Of(w))}function TXt(w){return w?Rh(nn(w),-B,B):w===0?w:0}function Ca(w){return w==null?"":nl(w)}var IXt=mv(function(w,T){if(D(T)||Lf(T)){Ef(T,sl(T),w);return}for(var F in T)An.call(T,F)&&by(w,F,T[F])}),vct=mv(function(w,T){Ef(T,Of(T),w)}),NB=mv(function(w,T,F,U){Ef(T,Of(T),w,U)}),LXt=mv(function(w,T,F,U){Ef(T,sl(T),w,U)}),OXt=uu(Cf);function kXt(w,T){var F=ov(w);return T==null?F:kc(F,T)}var PXt=Zi(function(w,T){w=Vn(w);var F=-1,U=T.length,st=U>2?T[2]:r;for(st&&He(T[0],T[1],st)&&(U=1);++F<U;)for(var xt=T[F],Ft=Of(xt),Yt=-1,re=Ft.length;++Yt<re;){var Ge=Ft[Yt],Ye=w[Ge];(Ye===r||bv(Ye,Cp[Ge])&&!An.call(w,Ge))&&(w[Ge]=xt[Ge])}return w}),DXt=Zi(function(w){return w.push(r,wA),Go(pct,r,w)});function FXt(w,T){return ru(w,ct(T,3),Ru)}function NXt(w,T){return ru(w,ct(T,3),d1)}function BXt(w,T){return w==null?w:Sy(w,ct(T,3),Of)}function RXt(w,T){return w==null?w:h1(w,ct(T,3),Of)}function GXt(w,T){return w&&Ru(w,ct(T,3))}function zXt(w,T){return w&&d1(w,ct(T,3))}function jXt(w){return w==null?[]:Cy(w,sl(w))}function YXt(w){return w==null?[]:Cy(w,Of(w))}function RV(w,T,F){var U=w==null?r:Gh(w,T);return U===r?F:U}function WXt(w,T){return w!=null&&Ue(w,T,K_)}function GV(w,T){return w!=null&&Ue(w,T,Q_)}var VXt=lS(function(w,T,F){T!=null&&typeof T.toString!="function"&&(T=js.call(T)),w[T]=F},jV(kf)),qXt=lS(function(w,T,F){T!=null&&typeof T.toString!="function"&&(T=js.call(T)),An.call(w,T)?w[T].push(F):w[T]=[F]},ct),HXt=Zi(Dp);function sl(w){return Lf(w)?xy(w):hv(w)}function Of(w){return Lf(w)?xy(w,!0):Dc(w)}function UXt(w,T){var F={};return T=ct(T,3),Ru(w,function(U,st,xt){Pc(F,T(U,st,xt),U)}),F}function XXt(w,T){var F={};return T=ct(T,3),Ru(w,function(U,st,xt){Pc(F,st,T(U,st,xt))}),F}var ZXt=mv(function(w,T,F){Nc(w,T,F)}),pct=mv(function(w,T,F,U){Nc(w,T,F,U)}),KXt=uu(function(w,T){var F={};if(w==null)return F;var U=!1;T=Ia(T,function(xt){return xt=su(xt,w),U||(U=xt.length>1),xt}),Ef(w,A1(w),F),U&&(F=vs(F,u|f|c,gO));for(var st=T.length;st--;)Rp(F,T[st]);return F});function QXt(w,T){return gct(w,PB(ct(T)))}var $Xt=uu(function(w,T){return w==null?{}:dv(w,T)});function gct(w,T){if(w==null)return{};var F=Ia(A1(w),function(U){return[U]});return T=ct(T),vA(w,F,function(U,st){return T(U,st[0])})}function JXt(w,T,F){T=su(T,w);var U=-1,st=T.length;for(st||(st=1,w=r);++U<st;){var xt=w==null?r:w[Zr(T[U])];xt===r&&(U=st,xt=F),w=Fy(xt)?xt.call(w):xt}return w}function t9t(w,T,F){return w==null?w:Bp(w,T,F)}function e9t(w,T,F,U){return U=typeof U=="function"?U:r,w==null?w:Bp(w,T,F,U)}var mct=cS(sl),yct=cS(Of);function r9t(w,T,F){var U=Qi(w),st=U||I1(w)||CA(w);if(T=ct(T,4),F==null){var xt=w&&w.constructor;st?F=U?new xt:[]:Yo(w)?F=Fy(xt)?ov(Jx(w)):{}:F={}}return(st?zo:Ru)(w,function(Ft,Yt,re){return T(F,Ft,Yt,re)}),F}function i9t(w,T){return w==null?!0:Rp(w,T)}function n9t(w,T,F){return w==null?w:Ly(w,T,jp(F))}function a9t(w,T,F,U){return U=typeof U=="function"?U:r,w==null?w:Ly(w,T,jp(F),U)}function MA(w){return w==null?[]:ry(w,sl(w))}function o9t(w){return w==null?[]:ry(w,Of(w))}function s9t(w,T,F){return F===r&&(F=T,T=r),F!==r&&(F=Zh(F),F=F===F?F:0),T!==r&&(T=Zh(T),T=T===T?T:0),Rh(Zh(w),T,F)}function l9t(w,T,F){return T=Ny(T),F===r?(F=T,T=0):F=Ny(F),w=Zh(w),fA(w,T,F)}function u9t(w,T,F){if(F&&typeof F!="boolean"&&He(w,T,F)&&(T=F=r),F===r&&(typeof T=="boolean"?(F=T,T=r):typeof w=="boolean"&&(F=w,w=r)),w===r&&T===r?(w=0,T=1):(w=Ny(w),T===r?(T=w,w=0):T=Ny(T)),w>T){var U=w;w=T,T=U}if(F||w%1||T%1){var st=U_();return Ms(w+st*(T-w+kh("1e-"+((st+"").length-1))),T)}return b1(w,T)}var f9t=yv(function(w,T,F){return T=T.toLowerCase(),w+(F?xct(T):T)});function xct(w){return zV(Ca(w).toLowerCase())}function bct(w){return w=Ca(w),w&&w.replace(Eh,Ec).replace(zL,"")}function c9t(w,T,F){w=Ca(w),T=nl(T);var U=w.length;F=F===r?U:Rh(nn(F),0,U);var st=F;return F-=T.length,F>=0&&w.slice(F,st)==T}function h9t(w){return w=Ca(w),w&&Sn.test(w)?w.replace(to,G_):w}function d9t(w){return w=Ca(w),w&&wo.test(w)?w.replace(Pu,"\\$&"):w}var v9t=yv(function(w,T,F){return w+(F?"-":"")+T.toLowerCase()}),p9t=yv(function(w,T,F){return w+(F?" ":"")+T.toLowerCase()}),g9t=ju("toLowerCase");function m9t(w,T,F){w=Ca(w),T=nn(T);var U=T?Du(w):0;if(!T||U>=T)return w;var st=(T-U)/2;return La(nv(st),F)+w+La(cy(st),F)}function y9t(w,T,F){w=Ca(w),T=nn(T);var U=T?Du(w):0;return T&&U<T?w+La(T-U,F):w}function x9t(w,T,F){w=Ca(w),T=nn(T);var U=T?Du(w):0;return T&&U<T?La(T-U,F)+w:w}function b9t(w,T,F){return F||T==null?T=0:T&&(T=+T),r1(Ca(w).replace($l,""),T||0)}function w9t(w,T,F){return(F?He(w,T,F):T===r)?T=1:T=nn(T),Yh(Ca(w),T)}function _9t(){var w=arguments,T=Ca(w[0]);return w.length<3?T:T.replace(w[1],w[2])}var S9t=yv(function(w,T,F){return w+(F?"_":"")+T.toLowerCase()});function C9t(w,T,F){return F&&typeof F!="number"&&He(w,T,F)&&(T=F=r),F=F===r?j:F>>>0,F?(w=Ca(w),w&&(typeof T=="string"||T!=null&&!BV(T))&&(T=nl(T),!T&&Tc(w))?lu(jo(w),0,F):w.split(T,F)):[]}var M9t=yv(function(w,T,F){return w+(F?" ":"")+zV(T)});function A9t(w,T,F){return w=Ca(w),F=F==null?0:Rh(nn(F),0,w.length),T=nl(T),w.slice(F,F+T.length)==T}function E9t(w,T,F){var U=dt.templateSettings;F&&He(w,T,F)&&(T=r),w=Ca(w),T=NB({},T,U,bA);var st=NB({},T.imports,U.imports,bA),xt=sl(st),Ft=ry(st,xt),Yt,re,Ge=0,Ye=T.interpolate||Th,ir="__p += '",Tr=W_((T.escape||Th).source+"|"+Ye.source+"|"+(Ye===xa?Zn:Th).source+"|"+(T.evaluate||Th).source+"|$","g"),ni="//# sourceURL="+(An.call(T,"sourceURL")?(T.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Kd+"]")+`
`;w.replace(Tr,function(Ei,En,zn,zc,qu,jc){return zn||(zn=zc),ir+=w.slice(Ge,jc).replace(PL,z_),En&&(Yt=!0,ir+=`' +
__e(`+En+`) +
'`),qu&&(re=!0,ir+=`';
`+qu+`;
__p += '`),zn&&(ir+=`' +
((__t = (`+zn+`)) == null ? '' : __t) +
'`),Ge=jc+Ei.length,Ei}),ir+=`';
`;var Ai=An.call(T,"variable")&&T.variable;if(!Ai)ir=`with (obj) {
`+ir+`
}
`;else if(ln.test(Ai))throw new Ti(a);ir=(re?ir.replace(Ta,""):ir).replace(Wi,"$1").replace(mn,"$1;"),ir="function("+(Ai||"obj")+`) {
`+(Ai?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Yt?", __e = _.escape":"")+(re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ir+`return __p
}`;var cn=_ct(function(){return Mn(xt,ni+"return "+ir).apply(r,Ft)});if(cn.source=ir,NV(cn))throw cn;return cn}function T9t(w){return Ca(w).toLowerCase()}function I9t(w){return Ca(w).toUpperCase()}function L9t(w,T,F){if(w=Ca(w),w&&(F||T===r))return HM(w);if(!w||!(T=nl(T)))return w;var U=jo(w),st=jo(T),xt=Ux(U,st),Ft=iy(U,st)+1;return lu(U,xt,Ft).join("")}function O9t(w,T,F){if(w=Ca(w),w&&(F||T===r))return w.slice(0,ay(w)+1);if(!w||!(T=nl(T)))return w;var U=jo(w),st=iy(U,jo(T))+1;return lu(U,0,st).join("")}function k9t(w,T,F){if(w=Ca(w),w&&(F||T===r))return w.replace($l,"");if(!w||!(T=nl(T)))return w;var U=jo(w),st=Ux(U,jo(T));return lu(U,st).join("")}function P9t(w,T){var F=I,U=k;if(Yo(T)){var st="separator"in T?T.separator:st;F="length"in T?nn(T.length):F,U="omission"in T?nl(T.omission):U}w=Ca(w);var xt=w.length;if(Tc(w)){var Ft=jo(w);xt=Ft.length}if(F>=xt)return w;var Yt=F-Du(U);if(Yt<1)return U;var re=Ft?lu(Ft,0,Yt).join(""):w.slice(0,Yt);if(st===r)return re+U;if(Ft&&(Yt+=re.length-Yt),BV(st)){if(w.slice(Yt).search(st)){var Ge,Ye=re;for(st.global||(st=W_(st.source,Ca(Wn.exec(st))+"g")),st.lastIndex=0;Ge=st.exec(Ye);)var ir=Ge.index;re=re.slice(0,ir===r?Yt:ir)}}else if(w.indexOf(nl(st),Yt)!=Yt){var Tr=re.lastIndexOf(st);Tr>-1&&(re=re.slice(0,Tr))}return re+U}function D9t(w){return w=Ca(w),w&&ji.test(w)?w.replace(Yn,HL):w}var F9t=yv(function(w,T,F){return w+(F?" ":"")+T.toUpperCase()}),zV=ju("toUpperCase");function wct(w,T,F){return w=Ca(w),T=F?r:T,T===r?UM(w)?ZM(w):qL(w):w.match(T)||[]}var _ct=Zi(function(w,T){try{return Go(w,r,T)}catch(F){return NV(F)?F:new Ti(F)}}),N9t=uu(function(w,T){return zo(T,function(F){F=Zr(F),Pc(w,F,DV(w[F],w))}),w});function B9t(w){var T=w==null?0:w.length,F=ct();return w=T?Ia(w,function(U){if(typeof U[1]!="function")throw new Cl(n);return[F(U[0]),U[1]]}):[],Zi(function(U){for(var st=-1;++st<T;){var xt=w[st];if(Go(xt[0],this,U))return Go(xt[1],this,U)}})}function R9t(w){return l1(vs(w,u))}function jV(w){return function(){return w}}function G9t(w,T){return w==null||w!==w?T:w}var z9t=C1(),j9t=C1(!0);function kf(w){return w}function YV(w){return Fp(typeof w=="function"?w:vs(w,u))}function Y9t(w){return Np(vs(w,u))}function W9t(w,T){return ro(w,vs(T,u))}var V9t=Zi(function(w,T){return function(F){return Dp(F,w,T)}}),q9t=Zi(function(w,T){return function(F){return Dp(w,F,T)}});function WV(w,T,F){var U=sl(T),st=Cy(T,U);F==null&&!(Yo(T)&&(st.length||!U.length))&&(F=T,T=w,w=this,st=Cy(T,sl(T)));var xt=!(Yo(F)&&"chain"in F)||!!F.chain,Ft=Fy(w);return zo(st,function(Yt){var re=T[Yt];w[Yt]=re,Ft&&(w.prototype[Yt]=function(){var Ge=this.__chain__;if(xt||Ge){var Ye=w(this.__wrapped__),ir=Ye.__actions__=al(this.__actions__);return ir.push({func:re,args:arguments,thisArg:w}),Ye.__chain__=Ge,Ye}return re.apply(w,_f([this.value()],arguments))})}),w}function H9t(){return Ro._===this&&(Ro._=Qx),this}function VV(){}function U9t(w){return w=nn(w),Zi(function(T){return Ey(T,w)})}var X9t=Tf(Ia),Z9t=Tf(bf),K9t=Tf(qx);function Sct(w){return xe(w)?rv(Zr(w)):x1(w)}function Q9t(w){return function(T){return w==null?r:Gh(w,T)}}var $9t=uS(),J9t=uS(!0);function qV(){return[]}function HV(){return!1}function t7t(){return{}}function e7t(){return""}function r7t(){return!0}function i7t(w,T){if(w=nn(w),w<1||w>B)return[];var F=j,U=Ms(w,j);T=ct(T),w-=j;for(var st=bp(U,T);++F<w;)T(F);return st}function n7t(w){return Qi(w)?Ia(w,Zr):Gc(w)?[w]:al(Cr(Ca(w)))}function a7t(w){var T=++KL;return Ca(w)+T}var o7t=Uo(function(w,T){return w+T},0),s7t=fS("ceil"),l7t=Uo(function(w,T){return w/T},1),u7t=fS("floor");function f7t(w){return w&&w.length?_y(w,kf,p1):r}function c7t(w,T){return w&&w.length?_y(w,ct(T,2),p1):r}function h7t(w){return ev(w,kf)}function d7t(w,T){return ev(w,ct(T,2))}function v7t(w){return w&&w.length?_y(w,kf,Gu):r}function p7t(w,T){return w&&w.length?_y(w,ct(T,2),Gu):r}var g7t=Uo(function(w,T){return w*T},1),m7t=fS("round"),y7t=Uo(function(w,T){return w-T},0);function x7t(w){return w&&w.length?ey(w,kf):0}function b7t(w,T){return w&&w.length?ey(w,ct(T,2)):0}return dt.after=YUt,dt.ary=tct,dt.assign=IXt,dt.assignIn=vct,dt.assignInWith=NB,dt.assignWith=LXt,dt.at=OXt,dt.before=ect,dt.bind=DV,dt.bindAll=N9t,dt.bindKey=rct,dt.castArray=tXt,dt.chain=Qft,dt.chunk=yn,dt.compact=Kr,dt.concat=$r,dt.cond=B9t,dt.conforms=R9t,dt.constant=jV,dt.countBy=xUt,dt.create=kXt,dt.curry=ict,dt.curryRight=nct,dt.debounce=act,dt.defaults=PXt,dt.defaultsDeep=DXt,dt.defer=WUt,dt.delay=VUt,dt.difference=_a,dt.differenceBy=Ki,dt.differenceWith=Gr,dt.drop=jr,dt.dropRight=Di,dt.dropRightWhile=Sa,dt.dropWhile=Vu,dt.fill=Dy,dt.filter=wUt,dt.flatMap=CUt,dt.flatMapDeep=MUt,dt.flatMapDepth=AUt,dt.flatten=Jt,dt.flattenDeep=gr,dt.flattenDepth=Fi,dt.flip=qUt,dt.flow=z9t,dt.flowRight=j9t,dt.fromPairs=bt,dt.functions=jXt,dt.functionsIn=YXt,dt.groupBy=EUt,dt.initial=qt,dt.intersection=Xt,dt.intersectionBy=Bt,dt.intersectionWith=Dt,dt.invert=VXt,dt.invertBy=qXt,dt.invokeMap=IUt,dt.iteratee=YV,dt.keyBy=LUt,dt.keys=sl,dt.keysIn=Of,dt.map=LB,dt.mapKeys=UXt,dt.mapValues=XXt,dt.matches=Y9t,dt.matchesProperty=W9t,dt.memoize=kB,dt.merge=ZXt,dt.mergeWith=pct,dt.method=V9t,dt.methodOf=q9t,dt.mixin=WV,dt.negate=PB,dt.nthArg=U9t,dt.omit=KXt,dt.omitBy=QXt,dt.once=HUt,dt.orderBy=OUt,dt.over=X9t,dt.overArgs=UUt,dt.overEvery=Z9t,dt.overSome=K9t,dt.partial=FV,dt.partialRight=oct,dt.partition=kUt,dt.pick=$Xt,dt.pickBy=gct,dt.property=Sct,dt.propertyOf=Q9t,dt.pull=Wt,dt.pullAll=Qt,dt.pullAllBy=ge,dt.pullAllWith=ye,dt.pullAt=de,dt.range=$9t,dt.rangeRight=J9t,dt.rearg=XUt,dt.reject=FUt,dt.remove=Re,dt.rest=ZUt,dt.reverse=Er,dt.sampleSize=BUt,dt.set=t9t,dt.setWith=e9t,dt.shuffle=RUt,dt.slice=Si,dt.sortBy=jUt,dt.sortedUniq=mO,dt.sortedUniqBy=If,dt.split=C9t,dt.spread=KUt,dt.tail=EB,dt.take=Rc,dt.takeRight=TB,dt.takeRightWhile=XHt,dt.takeWhile=ZHt,dt.tap=fUt,dt.throttle=QUt,dt.thru=IB,dt.toArray=cct,dt.toPairs=mct,dt.toPairsIn=yct,dt.toPath=n7t,dt.toPlainObject=dct,dt.transform=r9t,dt.unary=$Ut,dt.union=KHt,dt.unionBy=QHt,dt.unionWith=$Ht,dt.uniq=JHt,dt.uniqBy=tUt,dt.uniqWith=eUt,dt.unset=i9t,dt.unzip=PV,dt.unzipWith=Kft,dt.update=n9t,dt.updateWith=a9t,dt.values=MA,dt.valuesIn=o9t,dt.without=rUt,dt.words=wct,dt.wrap=JUt,dt.xor=iUt,dt.xorBy=nUt,dt.xorWith=aUt,dt.zip=oUt,dt.zipObject=sUt,dt.zipObjectDeep=lUt,dt.zipWith=uUt,dt.entries=mct,dt.entriesIn=yct,dt.extend=vct,dt.extendWith=NB,WV(dt,dt),dt.add=o7t,dt.attempt=_ct,dt.camelCase=f9t,dt.capitalize=xct,dt.ceil=s7t,dt.clamp=s9t,dt.clone=eXt,dt.cloneDeep=iXt,dt.cloneDeepWith=nXt,dt.cloneWith=rXt,dt.conformsTo=aXt,dt.deburr=bct,dt.defaultTo=G9t,dt.divide=l7t,dt.endsWith=c9t,dt.eq=bv,dt.escape=h9t,dt.escapeRegExp=d9t,dt.every=bUt,dt.find=_Ut,dt.findIndex=wt,dt.findKey=FXt,dt.findLast=SUt,dt.findLastIndex=ae,dt.findLastKey=NXt,dt.floor=u7t,dt.forEach=$ft,dt.forEachRight=Jft,dt.forIn=BXt,dt.forInRight=RXt,dt.forOwn=GXt,dt.forOwnRight=zXt,dt.get=RV,dt.gt=oXt,dt.gte=sXt,dt.has=WXt,dt.hasIn=GV,dt.head=ht,dt.identity=kf,dt.includes=TUt,dt.indexOf=Pt,dt.inRange=l9t,dt.invoke=HXt,dt.isArguments=dS,dt.isArray=Qi,dt.isArrayBuffer=lXt,dt.isArrayLike=Lf,dt.isArrayLikeObject=ps,dt.isBoolean=uXt,dt.isBuffer=I1,dt.isDate=fXt,dt.isElement=cXt,dt.isEmpty=hXt,dt.isEqual=dXt,dt.isEqualWith=vXt,dt.isError=NV,dt.isFinite=pXt,dt.isFunction=Fy,dt.isInteger=sct,dt.isLength=DB,dt.isMap=lct,dt.isMatch=gXt,dt.isMatchWith=mXt,dt.isNaN=yXt,dt.isNative=xXt,dt.isNil=wXt,dt.isNull=bXt,dt.isNumber=uct,dt.isObject=Yo,dt.isObjectLike=Xo,dt.isPlainObject=yO,dt.isRegExp=BV,dt.isSafeInteger=_Xt,dt.isSet=fct,dt.isString=FB,dt.isSymbol=Gc,dt.isTypedArray=CA,dt.isUndefined=SXt,dt.isWeakMap=CXt,dt.isWeakSet=MXt,dt.join=jt,dt.kebabCase=v9t,dt.last=mt,dt.lastIndexOf=It,dt.lowerCase=p9t,dt.lowerFirst=g9t,dt.lt=AXt,dt.lte=EXt,dt.max=f7t,dt.maxBy=c7t,dt.mean=h7t,dt.meanBy=d7t,dt.min=v7t,dt.minBy=p7t,dt.stubArray=qV,dt.stubFalse=HV,dt.stubObject=t7t,dt.stubString=e7t,dt.stubTrue=r7t,dt.multiply=g7t,dt.nth=yt,dt.noConflict=H9t,dt.noop=VV,dt.now=OB,dt.pad=m9t,dt.padEnd=y9t,dt.padStart=x9t,dt.parseInt=b9t,dt.random=u9t,dt.reduce=PUt,dt.reduceRight=DUt,dt.repeat=w9t,dt.replace=_9t,dt.result=JXt,dt.round=m7t,dt.runInContext=Zt,dt.sample=NUt,dt.size=GUt,dt.snakeCase=S9t,dt.some=zUt,dt.sortedIndex=Sr,dt.sortedIndexBy=Ur,dt.sortedIndexOf=yi,dt.sortedLastIndex=fn,dt.sortedLastIndexBy=io,dt.sortedLastIndexOf=El,dt.startCase=M9t,dt.startsWith=A9t,dt.subtract=y7t,dt.sum=x7t,dt.sumBy=b7t,dt.template=E9t,dt.times=i7t,dt.toFinite=Ny,dt.toInteger=nn,dt.toLength=hct,dt.toLower=T9t,dt.toNumber=Zh,dt.toSafeInteger=TXt,dt.toString=Ca,dt.toUpper=I9t,dt.trim=L9t,dt.trimEnd=O9t,dt.trimStart=k9t,dt.truncate=P9t,dt.unescape=D9t,dt.uniqueId=a7t,dt.upperCase=F9t,dt.upperFirst=zV,dt.each=$ft,dt.eachRight=Jft,dt.first=ht,WV(dt,function(){var w={};return Ru(dt,function(T,F){An.call(dt.prototype,F)||(w[F]=T)}),w}(),{chain:!1}),dt.VERSION=e,zo(["bind","bindKey","curry","curryRight","partial","partialRight"],function(w){dt[w].placeholder=dt}),zo(["drop","take"],function(w,T){un.prototype[w]=function(F){F=F===r?1:eo(nn(F),0);var U=this.__filtered__&&!T?new un(this):this.clone();return U.__filtered__?U.__takeCount__=Ms(F,U.__takeCount__):U.__views__.push({size:Ms(F,j),type:w+(U.__dir__<0?"Right":"")}),U},un.prototype[w+"Right"]=function(F){return this.reverse()[w](F).reverse()}}),zo(["filter","map","takeWhile"],function(w,T){var F=T+1,U=F==P||F==R;un.prototype[w]=function(st){var xt=this.clone();return xt.__iteratees__.push({iteratee:ct(st,3),type:F}),xt.__filtered__=xt.__filtered__||U,xt}}),zo(["head","last"],function(w,T){var F="take"+(T?"Right":"");un.prototype[w]=function(){return this[F](1).value()[0]}}),zo(["initial","tail"],function(w,T){var F="drop"+(T?"":"Right");un.prototype[w]=function(){return this.__filtered__?new un(this):this[F](1)}}),un.prototype.compact=function(){return this.filter(kf)},un.prototype.find=function(w){return this.filter(w).head()},un.prototype.findLast=function(w){return this.reverse().find(w)},un.prototype.invokeMap=Zi(function(w,T){return typeof w=="function"?new un(this):this.map(function(F){return Dp(F,w,T)})}),un.prototype.reject=function(w){return this.filter(PB(ct(w)))},un.prototype.slice=function(w,T){w=nn(w);var F=this;return F.__filtered__&&(w>0||T<0)?new un(F):(w<0?F=F.takeRight(-w):w&&(F=F.drop(w)),T!==r&&(T=nn(T),F=T<0?F.dropRight(-T):F.take(T-w)),F)},un.prototype.takeRightWhile=function(w){return this.reverse().takeWhile(w).reverse()},un.prototype.toArray=function(){return this.take(j)},Ru(un.prototype,function(w,T){var F=/^(?:filter|find|map|reject)|While$/.test(T),U=/^(?:head|last)$/.test(T),st=dt[U?"take"+(T=="last"?"Right":""):T],xt=U||/^find/.test(T);!st||(dt.prototype[T]=function(){var Ft=this.__wrapped__,Yt=U?[1]:arguments,re=Ft instanceof un,Ge=Yt[0],Ye=re||Qi(Ft),ir=function(En){var zn=st.apply(dt,_f([En],Yt));return U&&Tr?zn[0]:zn};Ye&&F&&typeof Ge=="function"&&Ge.length!=1&&(re=Ye=!1);var Tr=this.__chain__,ni=!!this.__actions__.length,Ai=xt&&!Tr,cn=re&&!ni;if(!xt&&Ye){Ft=cn?Ft:new un(this);var Ei=w.apply(Ft,Yt);return Ei.__actions__.push({func:IB,args:[ir],thisArg:r}),new iu(Ei,Tr)}return Ai&&cn?w.apply(this,Yt):(Ei=this.thru(ir),Ai?U?Ei.value()[0]:Ei.value():Ei)})}),zo(["pop","push","shift","sort","splice","unshift"],function(w){var T=oy[w],F=/^(?:push|sort|unshift)$/.test(w)?"tap":"thru",U=/^(?:pop|shift)$/.test(w);dt.prototype[w]=function(){var st=arguments;if(U&&!this.__chain__){var xt=this.value();return T.apply(Qi(xt)?xt:[],st)}return this[F](function(Ft){return T.apply(Qi(Ft)?Ft:[],st)})}}),Ru(un.prototype,function(w,T){var F=dt[T];if(F){var U=F.name+"";An.call(fr,U)||(fr[U]=[]),fr[U].push({name:T,func:F})}}),fr[xv(r,p).name]=[{name:"wrapper",func:r}],un.prototype.clone=JM,un.prototype.reverse=nu,un.prototype.value=tA,dt.prototype.at=cUt,dt.prototype.chain=hUt,dt.prototype.commit=dUt,dt.prototype.next=vUt,dt.prototype.plant=gUt,dt.prototype.reverse=mUt,dt.prototype.toJSON=dt.prototype.valueOf=dt.prototype.value=yUt,dt.prototype.first=dt.prototype.head,Fu&&(dt.prototype[Fu]=pUt),dt},Ic=XL();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ro._=Ic,define(function(){return Ic})):Qd?((Qd.exports=Ic)._=Ic,Yx._=Ic):Ro._=Ic}).call(dL)});var DHt=$((Yft,Wft)=>{((r,e)=>{typeof define=="function"&&define.amd?define([],e):typeof Wft=="object"&&typeof Yft!="undefined"?Wft.exports=e():r.Papa=e()})(Yft,function r(){var e=typeof self!="undefined"?self:typeof window!="undefined"?window:e!==void 0?e:{},t,i=!e.document&&!!e.postMessage,n=e.IS_PAPA_WORKER||!1,a={},o=0,s={};function l(M){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(A){var I=x(A);I.chunkSize=parseInt(I.chunkSize),A.step||A.chunk||(I.chunkSize=null),this._handle=new d(I),(this._handle.streamer=this)._config=I}.call(this,M),this.parseChunk=function(A,I){var k=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<k){let O=this._config.newline;O||(E=this._config.quoteChar||'"',O=this._handle.guessLineEndings(A,E)),A=[...A.split(O).slice(k)].join(O)}this.isFirstChunk&&_(this._config.beforeFirstChunk)&&(E=this._config.beforeFirstChunk(A))!==void 0&&(A=E),this.isFirstChunk=!1,this._halted=!1;var k=this._partialLine+A,E=(this._partialLine="",this._handle.parse(k,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=E.meta.cursor,k=(this._finished||(this._partialLine=k.substring(A-this._baseIndex),this._baseIndex=A),E&&E.data&&(this._rowCount+=E.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),n)e.postMessage({results:E,workerId:s.WORKER_ID,finished:k});else if(_(this._config.chunk)&&!I){if(this._config.chunk(E,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=E=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(E.data),this._completeResults.errors=this._completeResults.errors.concat(E.errors),this._completeResults.meta=E.meta),this._completed||!k||!_(this._config.complete)||E&&E.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),k||E&&E.meta.paused||this._nextChunk(),E}this._halted=!0},this._sendError=function(A){_(this._config.error)?this._config.error(A):n&&this._config.error&&e.postMessage({workerId:s.WORKER_ID,error:A,finished:!1})}}function u(M){var A;(M=M||{}).chunkSize||(M.chunkSize=s.RemoteChunkSize),l.call(this,M),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),i||(A.onload=b(this._chunkLoaded,this),A.onerror=b(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,k=this._config.downloadRequestHeaders;for(I in k)A.setRequestHeader(I,k[I])}var E;this._config.chunkSize&&(E=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+E));try{A.send(this._config.downloadRequestBody)}catch(O){this._chunkError(O.message)}i&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(I){I=A.statusText||I,this._sendError(new Error(I))}}function f(M){(M=M||{}).chunkSize||(M.chunkSize=s.LocalChunkSize),l.call(this,M);var A,I,k=typeof FileReader!="undefined";this.stream=function(E){this._input=E,I=E.slice||E.webkitSlice||E.mozSlice,k?((A=new FileReader).onload=b(this._chunkLoaded,this),A.onerror=b(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input,O=(this._config.chunkSize&&(O=Math.min(this._start+this._config.chunkSize,this._input.size),E=I.call(E,this._start,O)),A.readAsText(E,this._config.encoding));k||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(A.error)}}function c(M){var A;l.call(this,M=M||{}),this.stream=function(I){return A=I,this._nextChunk()},this._nextChunk=function(){var I,k;if(!this._finished)return I=this._config.chunkSize,A=I?(k=A.substring(0,I),A.substring(I)):(k=A,""),this._finished=!A,this.parseChunk(k)}}function h(M){l.call(this,M=M||{});var A=[],I=!0,k=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){k&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):I=!0},this._streamData=b(function(E){try{A.push(typeof E=="string"?E:E.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(O){this._streamError(O)}},this),this._streamError=b(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=b(function(){this._streamCleanUp(),k=!0,this._streamData("")},this),this._streamCleanUp=b(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function d(M){var A,I,k,E,O=Math.pow(2,53),P=-O,N=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,R=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,z=this,B=0,Y=0,q=!1,j=!1,Z=[],tt={data:[],errors:[],meta:{}};function lt(ft){return M.skipEmptyLines==="greedy"?ft.join("").trim()==="":ft.length===1&&ft[0].length===0}function J(){if(tt&&k&&(ut("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+s.DefaultDelimiter+"'"),k=!1),M.skipEmptyLines&&(tt.data=tt.data.filter(function(Ot){return!lt(Ot)})),nt()){let Ot=function(oe,se){_(M.transformHeader)&&(oe=M.transformHeader(oe,se)),Z.push(oe)};var Et=Ot;if(tt)if(Array.isArray(tt.data[0])){for(var ft=0;nt()&&ft<tt.data.length;ft++)tt.data[ft].forEach(Ot);tt.data.splice(0,1)}else tt.data.forEach(Ot)}function pt(Ot,oe){for(var se=M.header?{}:[],_e=0;_e<Ot.length;_e++){var le=_e,ar=Ot[_e],ar=((pe,ze)=>(rr=>(M.dynamicTypingFunction&&M.dynamicTyping[rr]===void 0&&(M.dynamicTyping[rr]=M.dynamicTypingFunction(rr)),(M.dynamicTyping[rr]||M.dynamicTyping)===!0))(pe)?ze==="true"||ze==="TRUE"||ze!=="false"&&ze!=="FALSE"&&((rr=>{if(N.test(rr)&&(rr=parseFloat(rr),P<rr&&rr<O))return 1})(ze)?parseFloat(ze):R.test(ze)?new Date(ze):ze===""?null:ze):ze)(le=M.header?_e>=Z.length?"__parsed_extra":Z[_e]:le,ar=M.transform?M.transform(ar,le):ar);le==="__parsed_extra"?(se[le]=se[le]||[],se[le].push(ar)):se[le]=ar}return M.header&&(_e>Z.length?ut("FieldMismatch","TooManyFields","Too many fields: expected "+Z.length+" fields but parsed "+_e,Y+oe):_e<Z.length&&ut("FieldMismatch","TooFewFields","Too few fields: expected "+Z.length+" fields but parsed "+_e,Y+oe)),se}var _t;tt&&(M.header||M.dynamicTyping||M.transform)&&(_t=1,!tt.data.length||Array.isArray(tt.data[0])?(tt.data=tt.data.map(pt),_t=tt.data.length):tt.data=pt(tt.data,0),M.header&&tt.meta&&(tt.meta.fields=Z),Y+=_t)}function nt(){return M.header&&Z.length===0}function ut(ft,pt,_t,Et){ft={type:ft,code:pt,message:_t},Et!==void 0&&(ft.row=Et),tt.errors.push(ft)}_(M.step)&&(E=M.step,M.step=function(ft){tt=ft,nt()?J():(J(),tt.data.length!==0&&(B+=ft.data.length,M.preview&&B>M.preview?I.abort():(tt.data=tt.data[0],E(tt,z))))}),this.parse=function(ft,pt,_t){var Et=M.quoteChar||'"',Et=(M.newline||(M.newline=this.guessLineEndings(ft,Et)),k=!1,M.delimiter?_(M.delimiter)&&(M.delimiter=M.delimiter(ft),tt.meta.delimiter=M.delimiter):((Et=((Ot,oe,se,_e,le)=>{var ar,pe,ze,rr;le=le||[",","	","|",";",s.RECORD_SEP,s.UNIT_SEP];for(var ur=0;ur<le.length;ur++){for(var _r,it=le[ur],kt=0,Gt=0,te=0,we=(ze=void 0,new p({comments:_e,delimiter:it,newline:oe,preview:10}).parse(Ot)),Ht=0;Ht<we.data.length;Ht++)se&&lt(we.data[Ht])?te++:(_r=we.data[Ht].length,Gt+=_r,ze===void 0?ze=_r:0<_r&&(kt+=Math.abs(_r-ze),ze=_r));0<we.data.length&&(Gt/=we.data.length-te),(pe===void 0||kt<=pe)&&(rr===void 0||rr<Gt)&&1.99<Gt&&(pe=kt,ar=it,rr=Gt)}return{successful:!!(M.delimiter=ar),bestDelimiter:ar}})(ft,M.newline,M.skipEmptyLines,M.comments,M.delimitersToGuess)).successful?M.delimiter=Et.bestDelimiter:(k=!0,M.delimiter=s.DefaultDelimiter),tt.meta.delimiter=M.delimiter),x(M));return M.preview&&M.header&&Et.preview++,A=ft,I=new p(Et),tt=I.parse(A,pt,_t),J(),q?{meta:{paused:!0}}:tt||{meta:{paused:!1}}},this.paused=function(){return q},this.pause=function(){q=!0,I.abort(),A=_(M.chunk)?"":A.substring(I.getCharIndex())},this.resume=function(){z.streamer._halted?(q=!1,z.streamer.parseChunk(A,!0)):setTimeout(z.resume,3)},this.aborted=function(){return j},this.abort=function(){j=!0,I.abort(),tt.meta.aborted=!0,_(M.complete)&&M.complete(tt),A=""},this.guessLineEndings=function(ft,pt){ft=ft.substring(0,1048576);var pt=new RegExp(v(pt)+"([^]*?)"+v(pt),"gm"),_t=(ft=ft.replace(pt,"")).split("\r"),pt=ft.split(`
`),ft=1<pt.length&&pt[0].length<_t[0].length;if(_t.length===1||ft)return`
`;for(var Et=0,Ot=0;Ot<_t.length;Ot++)_t[Ot][0]===`
`&&Et++;return Et>=_t.length/2?`\r
`:"\r"}}function v(M){return M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function p(M){var A=(M=M||{}).delimiter,I=M.newline,k=M.comments,E=M.step,O=M.preview,P=M.fastMode,N=null,R=!1,z=M.quoteChar==null?'"':M.quoteChar,B=z;if(M.escapeChar!==void 0&&(B=M.escapeChar),(typeof A!="string"||-1<s.BAD_DELIMITERS.indexOf(A))&&(A=","),k===A)throw new Error("Comment character same as delimiter");k===!0?k="#":(typeof k!="string"||-1<s.BAD_DELIMITERS.indexOf(k))&&(k=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var Y=0,q=!1;this.parse=function(j,Z,tt){if(typeof j!="string")throw new Error("Input must be a string");var lt=j.length,J=A.length,nt=I.length,ut=k.length,ft=_(E),pt=[],_t=[],Et=[],Ot=Y=0;if(!j)return kt();if(P||P!==!1&&j.indexOf(z)===-1){for(var oe=j.split(I),se=0;se<oe.length;se++){if(Et=oe[se],Y+=Et.length,se!==oe.length-1)Y+=I.length;else if(tt)return kt();if(!k||Et.substring(0,ut)!==k){if(ft){if(pt=[],rr(Et.split(A)),Gt(),q)return kt()}else rr(Et.split(A));if(O&&O<=se)return pt=pt.slice(0,O),kt(!0)}}return kt()}for(var _e=j.indexOf(A,Y),le=j.indexOf(I,Y),ar=new RegExp(v(B)+v(z),"g"),pe=j.indexOf(z,Y);;)if(j[Y]===z)for(pe=Y,Y++;;){if((pe=j.indexOf(z,pe+1))===-1)return tt||_t.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:pt.length,index:Y}),_r();if(pe===lt-1)return _r(j.substring(Y,pe).replace(ar,z));if(z===B&&j[pe+1]===B)pe++;else if(z===B||pe===0||j[pe-1]!==B){_e!==-1&&_e<pe+1&&(_e=j.indexOf(A,pe+1));var ze=ur((le=le!==-1&&le<pe+1?j.indexOf(I,pe+1):le)===-1?_e:Math.min(_e,le));if(j.substr(pe+1+ze,J)===A){Et.push(j.substring(Y,pe).replace(ar,z)),j[Y=pe+1+ze+J]!==z&&(pe=j.indexOf(z,Y)),_e=j.indexOf(A,Y),le=j.indexOf(I,Y);break}if(ze=ur(le),j.substring(pe+1+ze,pe+1+ze+nt)===I){if(Et.push(j.substring(Y,pe).replace(ar,z)),it(pe+1+ze+nt),_e=j.indexOf(A,Y),pe=j.indexOf(z,Y),ft&&(Gt(),q))return kt();if(O&&pt.length>=O)return kt(!0);break}_t.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:pt.length,index:Y}),pe++}}else if(k&&Et.length===0&&j.substring(Y,Y+ut)===k){if(le===-1)return kt();Y=le+nt,le=j.indexOf(I,Y),_e=j.indexOf(A,Y)}else if(_e!==-1&&(_e<le||le===-1))Et.push(j.substring(Y,_e)),Y=_e+J,_e=j.indexOf(A,Y);else{if(le===-1)break;if(Et.push(j.substring(Y,le)),it(le+nt),ft&&(Gt(),q))return kt();if(O&&pt.length>=O)return kt(!0)}return _r();function rr(te){pt.push(te),Ot=Y}function ur(te){var we=0;return we=te!==-1&&(te=j.substring(pe+1,te))&&te.trim()===""?te.length:we}function _r(te){return tt||(te===void 0&&(te=j.substring(Y)),Et.push(te),Y=lt,rr(Et),ft&&Gt()),kt()}function it(te){Y=te,rr(Et),Et=[],le=j.indexOf(I,Y)}function kt(te){if(M.header&&!Z&&pt.length&&!R){var we=pt[0],Ht=Object.create(null),ce=new Set(we);let Oe=!1;for(let je=0;je<we.length;je++){let Ae=we[je];if(Ht[Ae=_(M.transformHeader)?M.transformHeader(Ae,je):Ae]){let Qe,sr=Ht[Ae];for(;Qe=Ae+"_"+sr,sr++,ce.has(Qe););ce.add(Qe),we[je]=Qe,Ht[Ae]++,Oe=!0,(N=N===null?{}:N)[Qe]=Ae}else Ht[Ae]=1,we[je]=Ae;ce.add(Ae)}Oe&&console.warn("Duplicate headers found and renamed."),R=!0}return{data:pt,errors:_t,meta:{delimiter:A,linebreak:I,aborted:q,truncated:!!te,cursor:Ot+(Z||0),renamedHeaders:N}}}function Gt(){E(kt()),pt=[],_t=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return Y}}function g(M){var A=M.data,I=a[A.workerId],k=!1;if(A.error)I.userError(A.error,A.file);else if(A.results&&A.results.data){var E={abort:function(){k=!0,m(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(I.userStep)){for(var O=0;O<A.results.data.length&&(I.userStep({data:A.results.data[O],errors:A.results.errors,meta:A.results.meta},E),!k);O++);delete A.results}else _(I.userChunk)&&(I.userChunk(A.results,E,A.file),delete A.results)}A.finished&&!k&&m(A.workerId,A.results)}function m(M,A){var I=a[M];_(I.userComplete)&&I.userComplete(A),I.terminate(),delete a[M]}function y(){throw new Error("Not implemented.")}function x(M){if(typeof M!="object"||M===null)return M;var A,I=Array.isArray(M)?[]:{};for(A in M)I[A]=x(M[A]);return I}function b(M,A){return function(){M.apply(A,arguments)}}function _(M){return typeof M=="function"}return s.parse=function(M,A){var I=(A=A||{}).dynamicTyping||!1;if(_(I)&&(A.dynamicTypingFunction=I,I={}),A.dynamicTyping=I,A.transform=!!_(A.transform)&&A.transform,!A.worker||!s.WORKERS_SUPPORTED)return I=null,s.NODE_STREAM_INPUT,typeof M=="string"?(M=(k=>k.charCodeAt(0)!==65279?k:k.slice(1))(M),I=new(A.download?u:c)(A)):M.readable===!0&&_(M.read)&&_(M.on)?I=new h(A):(e.File&&M instanceof File||M instanceof Object)&&(I=new f(A)),I.stream(M);(I=(()=>{var k;return!!s.WORKERS_SUPPORTED&&(k=(()=>{var E=e.URL||e.webkitURL||null,O=r.toString();return s.BLOB_URL||(s.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))})(),(k=new e.Worker(k)).onmessage=g,k.id=o++,a[k.id]=k)})()).userStep=A.step,I.userChunk=A.chunk,I.userComplete=A.complete,I.userError=A.error,A.step=_(A.step),A.chunk=_(A.chunk),A.complete=_(A.complete),A.error=_(A.error),delete A.worker,I.postMessage({input:M,config:A,workerId:I.id})},s.unparse=function(M,A){var I=!1,k=!0,E=",",O=`\r
`,P='"',N=P+P,R=!1,z=null,B=!1,Y=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||s.BAD_DELIMITERS.filter(function(Z){return A.delimiter.indexOf(Z)!==-1}).length||(E=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(I=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(R=A.skipEmptyLines),typeof A.newline=="string"&&(O=A.newline),typeof A.quoteChar=="string"&&(P=A.quoteChar),typeof A.header=="boolean"&&(k=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");z=A.columns}A.escapeChar!==void 0&&(N=A.escapeChar+P),A.escapeFormulae instanceof RegExp?B=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(B=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(P),"g"));if(typeof M=="string"&&(M=JSON.parse(M)),Array.isArray(M)){if(!M.length||Array.isArray(M[0]))return q(null,M,R);if(typeof M[0]=="object")return q(z||Object.keys(M[0]),M,R)}else if(typeof M=="object")return typeof M.data=="string"&&(M.data=JSON.parse(M.data)),Array.isArray(M.data)&&(M.fields||(M.fields=M.meta&&M.meta.fields||z),M.fields||(M.fields=Array.isArray(M.data[0])?M.fields:typeof M.data[0]=="object"?Object.keys(M.data[0]):[]),Array.isArray(M.data[0])||typeof M.data[0]=="object"||(M.data=[M.data])),q(M.fields||[],M.data||[],R);throw new Error("Unable to serialize unrecognized input");function q(Z,tt,lt){var J="",nt=(typeof Z=="string"&&(Z=JSON.parse(Z)),typeof tt=="string"&&(tt=JSON.parse(tt)),Array.isArray(Z)&&0<Z.length),ut=!Array.isArray(tt[0]);if(nt&&k){for(var ft=0;ft<Z.length;ft++)0<ft&&(J+=E),J+=j(Z[ft],ft);0<tt.length&&(J+=O)}for(var pt=0;pt<tt.length;pt++){var _t=(nt?Z:tt[pt]).length,Et=!1,Ot=nt?Object.keys(tt[pt]).length===0:tt[pt].length===0;if(lt&&!nt&&(Et=lt==="greedy"?tt[pt].join("").trim()==="":tt[pt].length===1&&tt[pt][0].length===0),lt==="greedy"&&nt){for(var oe=[],se=0;se<_t;se++){var _e=ut?Z[se]:se;oe.push(tt[pt][_e])}Et=oe.join("").trim()===""}if(!Et){for(var le=0;le<_t;le++){0<le&&!Ot&&(J+=E);var ar=nt&&ut?Z[le]:le;J+=j(tt[pt][ar],le)}pt<tt.length-1&&(!lt||0<_t&&!Ot)&&(J+=O)}}return J}function j(Z,tt){var lt,J;return Z==null?"":Z.constructor===Date?JSON.stringify(Z).slice(1,25):(J=!1,B&&typeof Z=="string"&&B.test(Z)&&(Z="'"+Z,J=!0),lt=Z.toString().replace(Y,N),(J=J||I===!0||typeof I=="function"&&I(Z,tt)||Array.isArray(I)&&I[tt]||((nt,ut)=>{for(var ft=0;ft<ut.length;ft++)if(-1<nt.indexOf(ut[ft]))return!0;return!1})(lt,s.BAD_DELIMITERS)||-1<lt.indexOf(E)||lt.charAt(0)===" "||lt.charAt(lt.length-1)===" ")?P+lt+P:lt)}},s.RECORD_SEP=String.fromCharCode(30),s.UNIT_SEP=String.fromCharCode(31),s.BYTE_ORDER_MARK="\uFEFF",s.BAD_DELIMITERS=["\r",`
`,'"',s.BYTE_ORDER_MARK],s.WORKERS_SUPPORTED=!i&&!!e.Worker,s.NODE_STREAM_INPUT=1,s.LocalChunkSize=10485760,s.RemoteChunkSize=5242880,s.DefaultDelimiter=",",s.Parser=p,s.ParserHandle=d,s.NetworkStreamer=u,s.FileStreamer=f,s.StringStreamer=c,s.ReadableStreamStreamer=h,e.jQuery&&((t=e.jQuery).fn.parse=function(M){var A=M.config||{},I=[];return this.each(function(O){if(!(t(this).prop("tagName").toUpperCase()==="INPUT"&&t(this).attr("type").toLowerCase()==="file"&&e.FileReader)||!this.files||this.files.length===0)return!0;for(var P=0;P<this.files.length;P++)I.push({file:this.files[P],inputElem:this,instanceConfig:t.extend({},A)})}),k(),this;function k(){if(I.length===0)_(M.complete)&&M.complete();else{var O,P,N,R,z=I[0];if(_(M.before)){var B=M.before(z.file,z.inputElem);if(typeof B=="object"){if(B.action==="abort")return O="AbortError",P=z.file,N=z.inputElem,R=B.reason,void(_(M.error)&&M.error({name:O},P,N,R));if(B.action==="skip")return void E();typeof B.config=="object"&&(z.instanceConfig=t.extend(z.instanceConfig,B.config))}else if(B==="skip")return void E()}var Y=z.instanceConfig.complete;z.instanceConfig.complete=function(q){_(Y)&&Y(q,z.file,z.inputElem),E()},s.parse(z.file,z.instanceConfig)}}function E(){I.splice(0,1),k()}}),n&&(e.onmessage=function(M){M=M.data,s.WORKER_ID===void 0&&M&&(s.WORKER_ID=M.workerId),typeof M.input=="string"?e.postMessage({workerId:s.WORKER_ID,results:s.parse(M.input,M.config),finished:!0}):(e.File&&M.input instanceof File||M.input instanceof Object)&&(M=s.parse(M.input,M.config))&&e.postMessage({workerId:s.WORKER_ID,results:M,finished:!0})}),(u.prototype=Object.create(l.prototype)).constructor=u,(f.prototype=Object.create(l.prototype)).constructor=f,(c.prototype=Object.create(c.prototype)).constructor=c,(h.prototype=Object.create(l.prototype)).constructor=h,s})});ai(exports,{default:()=>Zft});var UV=class extends Error{},Lct=class extends UV{},Oct=class extends UV{},I7t=(r,e=",")=>r.join(e),L7t={accept:"*",multiple:!1,strict:!1},kct=r=>{let{accept:e,multiple:t,strict:i}=Pf(Pf({},L7t),r),n=P7t({multiple:t,accept:Array.isArray(e)?I7t(e):e});return new Promise(a=>{n.onchange=()=>{a(O7t(n.files,t,i)),n.remove()},n.click()})},O7t=(r,e,t)=>new Promise((i,n)=>{if(!r)return n(new Lct);let a=k7t(r,e,t);if(!a)return n(new Oct);i(a)}),k7t=(r,e,t)=>!e&&t?r.length===1?r[0]:null:r.length?r:null,P7t=({accept:r,multiple:e})=>{let t=document.createElement("input");return t.type="file",t.multiple=e,t.accept=r,t};function Pct(r){return typeof r=="undefined"||r===null}function D7t(r){return typeof r=="object"&&r!==null}function F7t(r){return Array.isArray(r)?r:Pct(r)?[]:[r]}function N7t(r,e){var t,i,n,a;if(e)for(a=Object.keys(e),t=0,i=a.length;t<i;t+=1)n=a[t],r[n]=e[n];return r}function B7t(r,e){var t="",i;for(i=0;i<e;i+=1)t+=r;return t}function R7t(r){return r===0&&Number.NEGATIVE_INFINITY===1/r}var G7t=Pct,z7t=D7t,j7t=F7t,Y7t=B7t,W7t=R7t,V7t=N7t,Ys={isNothing:G7t,isObject:z7t,toArray:j7t,repeat:Y7t,isNegativeZero:W7t,extend:V7t};function Dct(r,e){var t="",i=r.reason||"(unknown reason)";return r.mark?(r.mark.name&&(t+='in "'+r.mark.name+'" '),t+="("+(r.mark.line+1)+":"+(r.mark.column+1)+")",!e&&r.mark.snippet&&(t+=`

`+r.mark.snippet),i+" "+t):i}function bO(r,e){Error.call(this),this.name="YAMLException",this.reason=r,this.mark=e,this.message=Dct(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}bO.prototype=Object.create(Error.prototype);bO.prototype.constructor=bO;bO.prototype.toString=function(e){return this.name+": "+Dct(this,e)};var Hu=bO;function XV(r,e,t,i,n){var a="",o="",s=Math.floor(n/2)-1;return i-e>s&&(a=" ... ",e=i-s+a.length),t-i>s&&(o=" ...",t=i+s-o.length),{str:a+r.slice(e,t).replace(/\t/g,"\u2192")+o,pos:i-e+a.length}}function ZV(r,e){return Ys.repeat(" ",e-r.length)+r}function q7t(r,e){if(e=Object.create(e||null),!r.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var t=/\r?\n|\r|\0/g,i=[0],n=[],a,o=-1;a=t.exec(r.buffer);)n.push(a.index),i.push(a.index+a[0].length),r.position<=a.index&&o<0&&(o=i.length-2);o<0&&(o=i.length-1);var s="",l,u,f=Math.min(r.line+e.linesAfter,n.length).toString().length,c=e.maxLength-(e.indent+f+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)u=XV(r.buffer,i[o-l],n[o-l],r.position-(i[o]-i[o-l]),c),s=Ys.repeat(" ",e.indent)+ZV((r.line-l+1).toString(),f)+" | "+u.str+`
`+s;for(u=XV(r.buffer,i[o],n[o],r.position,c),s+=Ys.repeat(" ",e.indent)+ZV((r.line+1).toString(),f)+" | "+u.str+`
`,s+=Ys.repeat("-",e.indent+f+3+u.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=n.length);l++)u=XV(r.buffer,i[o+l],n[o+l],r.position-(i[o]-i[o+l]),c),s+=Ys.repeat(" ",e.indent)+ZV((r.line+l+1).toString(),f)+" | "+u.str+`
`;return s.replace(/\n$/,"")}var H7t=q7t,U7t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],X7t=["scalar","sequence","mapping"];function Z7t(r){var e={};return r!==null&&Object.keys(r).forEach(function(t){r[t].forEach(function(i){e[String(i)]=t})}),e}function K7t(r,e){if(e=e||{},Object.keys(e).forEach(function(t){if(U7t.indexOf(t)===-1)throw new Hu('Unknown option "'+t+'" is met in definition of "'+r+'" YAML type.')}),this.options=e,this.tag=r,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Z7t(e.styleAliases||null),X7t.indexOf(this.kind)===-1)throw new Hu('Unknown kind "'+this.kind+'" is specified for "'+r+'" YAML type.')}var Tl=K7t;function Fct(r,e){var t=[];return r[e].forEach(function(i){var n=t.length;t.forEach(function(a,o){a.tag===i.tag&&a.kind===i.kind&&a.multi===i.multi&&(n=o)}),t[n]=i}),t}function Q7t(){var r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,t;function i(n){n.multi?(r.multi[n.kind].push(n),r.multi.fallback.push(n)):r[n.kind][n.tag]=r.fallback[n.tag]=n}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return r}function KV(r){return this.extend(r)}KV.prototype.extend=function(e){var t=[],i=[];if(e instanceof Tl)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new Hu("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.forEach(function(a){if(!(a instanceof Tl))throw new Hu("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Hu("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Hu("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(a){if(!(a instanceof Tl))throw new Hu("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(KV.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(i),n.compiledImplicit=Fct(n,"implicit"),n.compiledExplicit=Fct(n,"explicit"),n.compiledTypeMap=Q7t(n.compiledImplicit,n.compiledExplicit),n};var Nct=KV,Bct=new Tl("tag:yaml.org,2002:str",{kind:"scalar",construct:function(r){return r!==null?r:""}}),Rct=new Tl("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(r){return r!==null?r:[]}}),Gct=new Tl("tag:yaml.org,2002:map",{kind:"mapping",construct:function(r){return r!==null?r:{}}}),zct=new Nct({explicit:[Bct,Rct,Gct]});function $7t(r){if(r===null)return!0;var e=r.length;return e===1&&r==="~"||e===4&&(r==="null"||r==="Null"||r==="NULL")}function J7t(){return null}function tZt(r){return r===null}var jct=new Tl("tag:yaml.org,2002:null",{kind:"scalar",resolve:$7t,construct:J7t,predicate:tZt,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function eZt(r){if(r===null)return!1;var e=r.length;return e===4&&(r==="true"||r==="True"||r==="TRUE")||e===5&&(r==="false"||r==="False"||r==="FALSE")}function rZt(r){return r==="true"||r==="True"||r==="TRUE"}function iZt(r){return Object.prototype.toString.call(r)==="[object Boolean]"}var Yct=new Tl("tag:yaml.org,2002:bool",{kind:"scalar",resolve:eZt,construct:rZt,predicate:iZt,represent:{lowercase:function(r){return r?"true":"false"},uppercase:function(r){return r?"TRUE":"FALSE"},camelcase:function(r){return r?"True":"False"}},defaultStyle:"lowercase"});function nZt(r){return 48<=r&&r<=57||65<=r&&r<=70||97<=r&&r<=102}function aZt(r){return 48<=r&&r<=55}function oZt(r){return 48<=r&&r<=57}function sZt(r){if(r===null)return!1;var e=r.length,t=0,i=!1,n;if(!e)return!1;if(n=r[t],(n==="-"||n==="+")&&(n=r[++t]),n==="0"){if(t+1===e)return!0;if(n=r[++t],n==="b"){for(t++;t<e;t++)if(n=r[t],n!=="_"){if(n!=="0"&&n!=="1")return!1;i=!0}return i&&n!=="_"}if(n==="x"){for(t++;t<e;t++)if(n=r[t],n!=="_"){if(!nZt(r.charCodeAt(t)))return!1;i=!0}return i&&n!=="_"}if(n==="o"){for(t++;t<e;t++)if(n=r[t],n!=="_"){if(!aZt(r.charCodeAt(t)))return!1;i=!0}return i&&n!=="_"}}if(n==="_")return!1;for(;t<e;t++)if(n=r[t],n!=="_"){if(!oZt(r.charCodeAt(t)))return!1;i=!0}return!(!i||n==="_")}function lZt(r){var e=r,t=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(t=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return t*parseInt(e.slice(2),2);if(e[1]==="x")return t*parseInt(e.slice(2),16);if(e[1]==="o")return t*parseInt(e.slice(2),8)}return t*parseInt(e,10)}function uZt(r){return Object.prototype.toString.call(r)==="[object Number]"&&r%1==0&&!Ys.isNegativeZero(r)}var Wct=new Tl("tag:yaml.org,2002:int",{kind:"scalar",resolve:sZt,construct:lZt,predicate:uZt,represent:{binary:function(r){return r>=0?"0b"+r.toString(2):"-0b"+r.toString(2).slice(1)},octal:function(r){return r>=0?"0o"+r.toString(8):"-0o"+r.toString(8).slice(1)},decimal:function(r){return r.toString(10)},hexadecimal:function(r){return r>=0?"0x"+r.toString(16).toUpperCase():"-0x"+r.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),fZt=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function cZt(r){return!(r===null||!fZt.test(r)||r[r.length-1]==="_")}function hZt(r){var e,t;return e=r.replace(/_/g,"").toLowerCase(),t=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?t===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:t*parseFloat(e,10)}var dZt=/^[-+]?[0-9]+e/;function vZt(r,e){var t;if(isNaN(r))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===r)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===r)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ys.isNegativeZero(r))return"-0.0";return t=r.toString(10),dZt.test(t)?t.replace("e",".e"):t}function pZt(r){return Object.prototype.toString.call(r)==="[object Number]"&&(r%1!=0||Ys.isNegativeZero(r))}var Vct=new Tl("tag:yaml.org,2002:float",{kind:"scalar",resolve:cZt,construct:hZt,predicate:pZt,represent:vZt,defaultStyle:"lowercase"}),qct=zct.extend({implicit:[jct,Yct,Wct,Vct]}),Hct=qct,Uct=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Xct=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function gZt(r){return r===null?!1:Uct.exec(r)!==null||Xct.exec(r)!==null}function mZt(r){var e,t,i,n,a,o,s,l=0,u=null,f,c,h;if(e=Uct.exec(r),e===null&&(e=Xct.exec(r)),e===null)throw new Error("Date resolve error");if(t=+e[1],i=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(t,i,n));if(a=+e[4],o=+e[5],s=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(f=+e[10],c=+(e[11]||0),u=(f*60+c)*6e4,e[9]==="-"&&(u=-u)),h=new Date(Date.UTC(t,i,n,a,o,s,l)),u&&h.setTime(h.getTime()-u),h}function yZt(r){return r.toISOString()}var Zct=new Tl("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:gZt,construct:mZt,instanceOf:Date,represent:yZt});function xZt(r){return r==="<<"||r===null}var Kct=new Tl("tag:yaml.org,2002:merge",{kind:"scalar",resolve:xZt}),QV=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function bZt(r){if(r===null)return!1;var e,t,i=0,n=r.length,a=QV;for(t=0;t<n;t++)if(e=a.indexOf(r.charAt(t)),!(e>64)){if(e<0)return!1;i+=6}return i%8==0}function wZt(r){var e,t,i=r.replace(/[\r\n=]/g,""),n=i.length,a=QV,o=0,s=[];for(e=0;e<n;e++)e%4==0&&e&&(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)),o=o<<6|a.indexOf(i.charAt(e));return t=n%4*6,t===0?(s.push(o>>16&255),s.push(o>>8&255),s.push(o&255)):t===18?(s.push(o>>10&255),s.push(o>>2&255)):t===12&&s.push(o>>4&255),new Uint8Array(s)}function _Zt(r){var e="",t=0,i,n,a=r.length,o=QV;for(i=0;i<a;i++)i%3==0&&i&&(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]),t=(t<<8)+r[i];return n=a%3,n===0?(e+=o[t>>18&63],e+=o[t>>12&63],e+=o[t>>6&63],e+=o[t&63]):n===2?(e+=o[t>>10&63],e+=o[t>>4&63],e+=o[t<<2&63],e+=o[64]):n===1&&(e+=o[t>>2&63],e+=o[t<<4&63],e+=o[64],e+=o[64]),e}function SZt(r){return Object.prototype.toString.call(r)==="[object Uint8Array]"}var Qct=new Tl("tag:yaml.org,2002:binary",{kind:"scalar",resolve:bZt,construct:wZt,predicate:SZt,represent:_Zt}),CZt=Object.prototype.hasOwnProperty,MZt=Object.prototype.toString;function AZt(r){if(r===null)return!0;var e=[],t,i,n,a,o,s=r;for(t=0,i=s.length;t<i;t+=1){if(n=s[t],o=!1,MZt.call(n)!=="[object Object]")return!1;for(a in n)if(CZt.call(n,a))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}function EZt(r){return r!==null?r:[]}var $ct=new Tl("tag:yaml.org,2002:omap",{kind:"sequence",resolve:AZt,construct:EZt}),TZt=Object.prototype.toString;function IZt(r){if(r===null)return!0;var e,t,i,n,a,o=r;for(a=new Array(o.length),e=0,t=o.length;e<t;e+=1){if(i=o[e],TZt.call(i)!=="[object Object]"||(n=Object.keys(i),n.length!==1))return!1;a[e]=[n[0],i[n[0]]]}return!0}function LZt(r){if(r===null)return[];var e,t,i,n,a,o=r;for(a=new Array(o.length),e=0,t=o.length;e<t;e+=1)i=o[e],n=Object.keys(i),a[e]=[n[0],i[n[0]]];return a}var Jct=new Tl("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:IZt,construct:LZt}),OZt=Object.prototype.hasOwnProperty;function kZt(r){if(r===null)return!0;var e,t=r;for(e in t)if(OZt.call(t,e)&&t[e]!==null)return!1;return!0}function PZt(r){return r!==null?r:{}}var tht=new Tl("tag:yaml.org,2002:set",{kind:"mapping",resolve:kZt,construct:PZt}),$V=Hct.extend({implicit:[Zct,Kct],explicit:[Qct,$ct,Jct,tht]}),L1=Object.prototype.hasOwnProperty,BB=1,eht=2,rht=3,RB=4,JV=1,DZt=2,iht=3,FZt=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,NZt=/[\x85\u2028\u2029]/,BZt=/[,\[\]\{\}]/,nht=/^(?:!|!!|![a-z\-]+!)$/i,aht=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function oht(r){return Object.prototype.toString.call(r)}function Vp(r){return r===10||r===13}function vS(r){return r===9||r===32}function Df(r){return r===9||r===32||r===10||r===13}function AA(r){return r===44||r===91||r===93||r===123||r===125}function RZt(r){var e;return 48<=r&&r<=57?r-48:(e=r|32,97<=e&&e<=102?e-97+10:-1)}function GZt(r){return r===120?2:r===117?4:r===85?8:0}function zZt(r){return 48<=r&&r<=57?r-48:-1}function sht(r){return r===48?"\0":r===97?"\x07":r===98?"\b":r===116||r===9?"	":r===110?`
`:r===118?"\v":r===102?"\f":r===114?"\r":r===101?"":r===32?" ":r===34?'"':r===47?"/":r===92?"\\":r===78?"\x85":r===95?"\xA0":r===76?"\u2028":r===80?"\u2029":""}function jZt(r){return r<=65535?String.fromCharCode(r):String.fromCharCode((r-65536>>10)+55296,(r-65536&1023)+56320)}function lht(r,e,t){e==="__proto__"?Object.defineProperty(r,e,{configurable:!0,enumerable:!0,writable:!0,value:t}):r[e]=t}var uht=new Array(256),fht=new Array(256);for(pS=0;pS<256;pS++)uht[pS]=sht(pS)?1:0,fht[pS]=sht(pS);var pS;function YZt(r,e){this.input=r,this.filename=e.filename||null,this.schema=e.schema||$V,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=r.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function cht(r,e){var t={name:r.filename,buffer:r.input.slice(0,-1),position:r.position,line:r.line,column:r.position-r.lineStart};return t.snippet=H7t(t),new Hu(e,t)}function vi(r,e){throw cht(r,e)}function GB(r,e){r.onWarning&&r.onWarning.call(null,cht(r,e))}var hht={YAML:function(e,t,i){var n,a,o;e.version!==null&&vi(e,"duplication of %YAML directive"),i.length!==1&&vi(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),n===null&&vi(e,"ill-formed argument of the YAML directive"),a=parseInt(n[1],10),o=parseInt(n[2],10),a!==1&&vi(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&GB(e,"unsupported YAML version of the document")},TAG:function(e,t,i){var n,a;i.length!==2&&vi(e,"TAG directive accepts exactly two arguments"),n=i[0],a=i[1],nht.test(n)||vi(e,"ill-formed tag handle (first argument) of the TAG directive"),L1.call(e.tagMap,n)&&vi(e,'there is a previously declared suffix for "'+n+'" tag handle'),aht.test(a)||vi(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch(o){vi(e,"tag prefix is malformed: "+a)}e.tagMap[n]=a}};function O1(r,e,t,i){var n,a,o,s;if(e<t){if(s=r.input.slice(e,t),i)for(n=0,a=s.length;n<a;n+=1)o=s.charCodeAt(n),o===9||32<=o&&o<=1114111||vi(r,"expected valid JSON character");else FZt.test(s)&&vi(r,"the stream contains non-printable characters");r.result+=s}}function dht(r,e,t,i){var n,a,o,s;for(Ys.isObject(t)||vi(r,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(t),o=0,s=n.length;o<s;o+=1)a=n[o],L1.call(e,a)||(lht(e,a,t[a]),i[a]=!0)}function EA(r,e,t,i,n,a,o,s,l){var u,f;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),u=0,f=n.length;u<f;u+=1)Array.isArray(n[u])&&vi(r,"nested arrays are not supported inside keys"),typeof n=="object"&&oht(n[u])==="[object Object]"&&(n[u]="[object Object]");if(typeof n=="object"&&oht(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,f=a.length;u<f;u+=1)dht(r,e,a[u],t);else dht(r,e,a,t);else!r.json&&!L1.call(t,n)&&L1.call(e,n)&&(r.line=o||r.line,r.lineStart=s||r.lineStart,r.position=l||r.position,vi(r,"duplicated mapping key")),lht(e,n,a),delete t[n];return e}function tq(r){var e;e=r.input.charCodeAt(r.position),e===10?r.position++:e===13?(r.position++,r.input.charCodeAt(r.position)===10&&r.position++):vi(r,"a line break is expected"),r.line+=1,r.lineStart=r.position,r.firstTabInLine=-1}function Es(r,e,t){for(var i=0,n=r.input.charCodeAt(r.position);n!==0;){for(;vS(n);)n===9&&r.firstTabInLine===-1&&(r.firstTabInLine=r.position),n=r.input.charCodeAt(++r.position);if(e&&n===35)do n=r.input.charCodeAt(++r.position);while(n!==10&&n!==13&&n!==0);if(Vp(n))for(tq(r),n=r.input.charCodeAt(r.position),i++,r.lineIndent=0;n===32;)r.lineIndent++,n=r.input.charCodeAt(++r.position);else break}return t!==-1&&i!==0&&r.lineIndent<t&&GB(r,"deficient indentation"),i}function zB(r){var e=r.position,t;return t=r.input.charCodeAt(e),!!((t===45||t===46)&&t===r.input.charCodeAt(e+1)&&t===r.input.charCodeAt(e+2)&&(e+=3,t=r.input.charCodeAt(e),t===0||Df(t)))}function eq(r,e){e===1?r.result+=" ":e>1&&(r.result+=Ys.repeat(`
`,e-1))}function WZt(r,e,t){var i,n,a,o,s,l,u,f,c=r.kind,h=r.result,d;if(d=r.input.charCodeAt(r.position),Df(d)||AA(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(n=r.input.charCodeAt(r.position+1),Df(n)||t&&AA(n)))return!1;for(r.kind="scalar",r.result="",a=o=r.position,s=!1;d!==0;){if(d===58){if(n=r.input.charCodeAt(r.position+1),Df(n)||t&&AA(n))break}else if(d===35){if(i=r.input.charCodeAt(r.position-1),Df(i))break}else{if(r.position===r.lineStart&&zB(r)||t&&AA(d))break;if(Vp(d))if(l=r.line,u=r.lineStart,f=r.lineIndent,Es(r,!1,-1),r.lineIndent>=e){s=!0,d=r.input.charCodeAt(r.position);continue}else{r.position=o,r.line=l,r.lineStart=u,r.lineIndent=f;break}}s&&(O1(r,a,o,!1),eq(r,r.line-l),a=o=r.position,s=!1),vS(d)||(o=r.position+1),d=r.input.charCodeAt(++r.position)}return O1(r,a,o,!1),r.result?!0:(r.kind=c,r.result=h,!1)}function VZt(r,e){var t,i,n;if(t=r.input.charCodeAt(r.position),t!==39)return!1;for(r.kind="scalar",r.result="",r.position++,i=n=r.position;(t=r.input.charCodeAt(r.position))!==0;)if(t===39)if(O1(r,i,r.position,!0),t=r.input.charCodeAt(++r.position),t===39)i=r.position,r.position++,n=r.position;else return!0;else Vp(t)?(O1(r,i,n,!0),eq(r,Es(r,!1,e)),i=n=r.position):r.position===r.lineStart&&zB(r)?vi(r,"unexpected end of the document within a single quoted scalar"):(r.position++,n=r.position);vi(r,"unexpected end of the stream within a single quoted scalar")}function qZt(r,e){var t,i,n,a,o,s;if(s=r.input.charCodeAt(r.position),s!==34)return!1;for(r.kind="scalar",r.result="",r.position++,t=i=r.position;(s=r.input.charCodeAt(r.position))!==0;){if(s===34)return O1(r,t,r.position,!0),r.position++,!0;if(s===92){if(O1(r,t,r.position,!0),s=r.input.charCodeAt(++r.position),Vp(s))Es(r,!1,e);else if(s<256&&uht[s])r.result+=fht[s],r.position++;else if((o=GZt(s))>0){for(n=o,a=0;n>0;n--)s=r.input.charCodeAt(++r.position),(o=RZt(s))>=0?a=(a<<4)+o:vi(r,"expected hexadecimal character");r.result+=jZt(a),r.position++}else vi(r,"unknown escape sequence");t=i=r.position}else Vp(s)?(O1(r,t,i,!0),eq(r,Es(r,!1,e)),t=i=r.position):r.position===r.lineStart&&zB(r)?vi(r,"unexpected end of the document within a double quoted scalar"):(r.position++,i=r.position)}vi(r,"unexpected end of the stream within a double quoted scalar")}function HZt(r,e){var t=!0,i,n,a,o=r.tag,s,l=r.anchor,u,f,c,h,d,v=Object.create(null),p,g,m,y;if(y=r.input.charCodeAt(r.position),y===91)f=93,d=!1,s=[];else if(y===123)f=125,d=!0,s={};else return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=s),y=r.input.charCodeAt(++r.position);y!==0;){if(Es(r,!0,e),y=r.input.charCodeAt(r.position),y===f)return r.position++,r.tag=o,r.anchor=l,r.kind=d?"mapping":"sequence",r.result=s,!0;t?y===44&&vi(r,"expected the node content, but found ','"):vi(r,"missed comma between flow collection entries"),g=p=m=null,c=h=!1,y===63&&(u=r.input.charCodeAt(r.position+1),Df(u)&&(c=h=!0,r.position++,Es(r,!0,e))),i=r.line,n=r.lineStart,a=r.position,TA(r,e,BB,!1,!0),g=r.tag,p=r.result,Es(r,!0,e),y=r.input.charCodeAt(r.position),(h||r.line===i)&&y===58&&(c=!0,y=r.input.charCodeAt(++r.position),Es(r,!0,e),TA(r,e,BB,!1,!0),m=r.result),d?EA(r,s,v,g,p,m,i,n,a):c?s.push(EA(r,null,v,g,p,m,i,n,a)):s.push(p),Es(r,!0,e),y=r.input.charCodeAt(r.position),y===44?(t=!0,y=r.input.charCodeAt(++r.position)):t=!1}vi(r,"unexpected end of the stream within a flow collection")}function UZt(r,e){var t,i,n=JV,a=!1,o=!1,s=e,l=0,u=!1,f,c;if(c=r.input.charCodeAt(r.position),c===124)i=!1;else if(c===62)i=!0;else return!1;for(r.kind="scalar",r.result="";c!==0;)if(c=r.input.charCodeAt(++r.position),c===43||c===45)JV===n?n=c===43?iht:DZt:vi(r,"repeat of a chomping mode identifier");else if((f=zZt(c))>=0)f===0?vi(r,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?vi(r,"repeat of an indentation width identifier"):(s=e+f-1,o=!0);else break;if(vS(c)){do c=r.input.charCodeAt(++r.position);while(vS(c));if(c===35)do c=r.input.charCodeAt(++r.position);while(!Vp(c)&&c!==0)}for(;c!==0;){for(tq(r),r.lineIndent=0,c=r.input.charCodeAt(r.position);(!o||r.lineIndent<s)&&c===32;)r.lineIndent++,c=r.input.charCodeAt(++r.position);if(!o&&r.lineIndent>s&&(s=r.lineIndent),Vp(c)){l++;continue}if(r.lineIndent<s){n===iht?r.result+=Ys.repeat(`
`,a?1+l:l):n===JV&&a&&(r.result+=`
`);break}for(i?vS(c)?(u=!0,r.result+=Ys.repeat(`
`,a?1+l:l)):u?(u=!1,r.result+=Ys.repeat(`
`,l+1)):l===0?a&&(r.result+=" "):r.result+=Ys.repeat(`
`,l):r.result+=Ys.repeat(`
`,a?1+l:l),a=!0,o=!0,l=0,t=r.position;!Vp(c)&&c!==0;)c=r.input.charCodeAt(++r.position);O1(r,t,r.position,!1)}return!0}function vht(r,e){var t,i=r.tag,n=r.anchor,a=[],o,s=!1,l;if(r.firstTabInLine!==-1)return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=a),l=r.input.charCodeAt(r.position);l!==0&&(r.firstTabInLine!==-1&&(r.position=r.firstTabInLine,vi(r,"tab characters must not be used in indentation")),!(l!==45||(o=r.input.charCodeAt(r.position+1),!Df(o))));){if(s=!0,r.position++,Es(r,!0,-1)&&r.lineIndent<=e){a.push(null),l=r.input.charCodeAt(r.position);continue}if(t=r.line,TA(r,e,rht,!1,!0),a.push(r.result),Es(r,!0,-1),l=r.input.charCodeAt(r.position),(r.line===t||r.lineIndent>e)&&l!==0)vi(r,"bad indentation of a sequence entry");else if(r.lineIndent<e)break}return s?(r.tag=i,r.anchor=n,r.kind="sequence",r.result=a,!0):!1}function XZt(r,e,t){var i,n,a,o,s,l,u=r.tag,f=r.anchor,c={},h=Object.create(null),d=null,v=null,p=null,g=!1,m=!1,y;if(r.firstTabInLine!==-1)return!1;for(r.anchor!==null&&(r.anchorMap[r.anchor]=c),y=r.input.charCodeAt(r.position);y!==0;){if(!g&&r.firstTabInLine!==-1&&(r.position=r.firstTabInLine,vi(r,"tab characters must not be used in indentation")),i=r.input.charCodeAt(r.position+1),a=r.line,(y===63||y===58)&&Df(i))y===63?(g&&(EA(r,c,h,d,v,null,o,s,l),d=v=p=null),m=!0,g=!0,n=!0):g?(g=!1,n=!0):vi(r,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),r.position+=1,y=i;else{if(o=r.line,s=r.lineStart,l=r.position,!TA(r,t,eht,!1,!0))break;if(r.line===a){for(y=r.input.charCodeAt(r.position);vS(y);)y=r.input.charCodeAt(++r.position);if(y===58)y=r.input.charCodeAt(++r.position),Df(y)||vi(r,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(EA(r,c,h,d,v,null,o,s,l),d=v=p=null),m=!0,g=!1,n=!1,d=r.tag,v=r.result;else if(m)vi(r,"can not read an implicit mapping pair; a colon is missed");else return r.tag=u,r.anchor=f,!0}else if(m)vi(r,"can not read a block mapping entry; a multiline key may not be an implicit key");else return r.tag=u,r.anchor=f,!0}if((r.line===a||r.lineIndent>e)&&(g&&(o=r.line,s=r.lineStart,l=r.position),TA(r,e,RB,!0,n)&&(g?v=r.result:p=r.result),g||(EA(r,c,h,d,v,p,o,s,l),d=v=p=null),Es(r,!0,-1),y=r.input.charCodeAt(r.position)),(r.line===a||r.lineIndent>e)&&y!==0)vi(r,"bad indentation of a mapping entry");else if(r.lineIndent<e)break}return g&&EA(r,c,h,d,v,null,o,s,l),m&&(r.tag=u,r.anchor=f,r.kind="mapping",r.result=c),m}function ZZt(r){var e,t=!1,i=!1,n,a,o;if(o=r.input.charCodeAt(r.position),o!==33)return!1;if(r.tag!==null&&vi(r,"duplication of a tag property"),o=r.input.charCodeAt(++r.position),o===60?(t=!0,o=r.input.charCodeAt(++r.position)):o===33?(i=!0,n="!!",o=r.input.charCodeAt(++r.position)):n="!",e=r.position,t){do o=r.input.charCodeAt(++r.position);while(o!==0&&o!==62);r.position<r.length?(a=r.input.slice(e,r.position),o=r.input.charCodeAt(++r.position)):vi(r,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Df(o);)o===33&&(i?vi(r,"tag suffix cannot contain exclamation marks"):(n=r.input.slice(e-1,r.position+1),nht.test(n)||vi(r,"named tag handle cannot contain such characters"),i=!0,e=r.position+1)),o=r.input.charCodeAt(++r.position);a=r.input.slice(e,r.position),BZt.test(a)&&vi(r,"tag suffix cannot contain flow indicator characters")}a&&!aht.test(a)&&vi(r,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch(s){vi(r,"tag name is malformed: "+a)}return t?r.tag=a:L1.call(r.tagMap,n)?r.tag=r.tagMap[n]+a:n==="!"?r.tag="!"+a:n==="!!"?r.tag="tag:yaml.org,2002:"+a:vi(r,'undeclared tag handle "'+n+'"'),!0}function KZt(r){var e,t;if(t=r.input.charCodeAt(r.position),t!==38)return!1;for(r.anchor!==null&&vi(r,"duplication of an anchor property"),t=r.input.charCodeAt(++r.position),e=r.position;t!==0&&!Df(t)&&!AA(t);)t=r.input.charCodeAt(++r.position);return r.position===e&&vi(r,"name of an anchor node must contain at least one character"),r.anchor=r.input.slice(e,r.position),!0}function QZt(r){var e,t,i;if(i=r.input.charCodeAt(r.position),i!==42)return!1;for(i=r.input.charCodeAt(++r.position),e=r.position;i!==0&&!Df(i)&&!AA(i);)i=r.input.charCodeAt(++r.position);return r.position===e&&vi(r,"name of an alias node must contain at least one character"),t=r.input.slice(e,r.position),L1.call(r.anchorMap,t)||vi(r,'unidentified alias "'+t+'"'),r.result=r.anchorMap[t],Es(r,!0,-1),!0}function TA(r,e,t,i,n){var a,o,s,l=1,u=!1,f=!1,c,h,d,v,p,g;if(r.listener!==null&&r.listener("open",r),r.tag=null,r.anchor=null,r.kind=null,r.result=null,a=o=s=RB===t||rht===t,i&&Es(r,!0,-1)&&(u=!0,r.lineIndent>e?l=1:r.lineIndent===e?l=0:r.lineIndent<e&&(l=-1)),l===1)for(;ZZt(r)||KZt(r);)Es(r,!0,-1)?(u=!0,s=a,r.lineIndent>e?l=1:r.lineIndent===e?l=0:r.lineIndent<e&&(l=-1)):s=!1;if(s&&(s=u||n),(l===1||RB===t)&&(BB===t||eht===t?p=e:p=e+1,g=r.position-r.lineStart,l===1?s&&(vht(r,g)||XZt(r,g,p))||HZt(r,p)?f=!0:(o&&UZt(r,p)||VZt(r,p)||qZt(r,p)?f=!0:QZt(r)?(f=!0,(r.tag!==null||r.anchor!==null)&&vi(r,"alias node should not have any properties")):WZt(r,p,BB===t)&&(f=!0,r.tag===null&&(r.tag="?")),r.anchor!==null&&(r.anchorMap[r.anchor]=r.result)):l===0&&(f=s&&vht(r,g))),r.tag===null)r.anchor!==null&&(r.anchorMap[r.anchor]=r.result);else if(r.tag==="?"){for(r.result!==null&&r.kind!=="scalar"&&vi(r,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+r.kind+'"'),c=0,h=r.implicitTypes.length;c<h;c+=1)if(v=r.implicitTypes[c],v.resolve(r.result)){r.result=v.construct(r.result),r.tag=v.tag,r.anchor!==null&&(r.anchorMap[r.anchor]=r.result);break}}else if(r.tag!=="!"){if(L1.call(r.typeMap[r.kind||"fallback"],r.tag))v=r.typeMap[r.kind||"fallback"][r.tag];else for(v=null,d=r.typeMap.multi[r.kind||"fallback"],c=0,h=d.length;c<h;c+=1)if(r.tag.slice(0,d[c].tag.length)===d[c].tag){v=d[c];break}v||vi(r,"unknown tag !<"+r.tag+">"),r.result!==null&&v.kind!==r.kind&&vi(r,"unacceptable node kind for !<"+r.tag+'> tag; it should be "'+v.kind+'", not "'+r.kind+'"'),v.resolve(r.result,r.tag)?(r.result=v.construct(r.result,r.tag),r.anchor!==null&&(r.anchorMap[r.anchor]=r.result)):vi(r,"cannot resolve a node with !<"+r.tag+"> explicit tag")}return r.listener!==null&&r.listener("close",r),r.tag!==null||r.anchor!==null||f}function $Zt(r){var e=r.position,t,i,n,a=!1,o;for(r.version=null,r.checkLineBreaks=r.legacy,r.tagMap=Object.create(null),r.anchorMap=Object.create(null);(o=r.input.charCodeAt(r.position))!==0&&(Es(r,!0,-1),o=r.input.charCodeAt(r.position),!(r.lineIndent>0||o!==37));){for(a=!0,o=r.input.charCodeAt(++r.position),t=r.position;o!==0&&!Df(o);)o=r.input.charCodeAt(++r.position);for(i=r.input.slice(t,r.position),n=[],i.length<1&&vi(r,"directive name must not be less than one character in length");o!==0;){for(;vS(o);)o=r.input.charCodeAt(++r.position);if(o===35){do o=r.input.charCodeAt(++r.position);while(o!==0&&!Vp(o));break}if(Vp(o))break;for(t=r.position;o!==0&&!Df(o);)o=r.input.charCodeAt(++r.position);n.push(r.input.slice(t,r.position))}o!==0&&tq(r),L1.call(hht,i)?hht[i](r,i,n):GB(r,'unknown document directive "'+i+'"')}if(Es(r,!0,-1),r.lineIndent===0&&r.input.charCodeAt(r.position)===45&&r.input.charCodeAt(r.position+1)===45&&r.input.charCodeAt(r.position+2)===45?(r.position+=3,Es(r,!0,-1)):a&&vi(r,"directives end mark is expected"),TA(r,r.lineIndent-1,RB,!1,!0),Es(r,!0,-1),r.checkLineBreaks&&NZt.test(r.input.slice(e,r.position))&&GB(r,"non-ASCII line breaks are interpreted as content"),r.documents.push(r.result),r.position===r.lineStart&&zB(r)){r.input.charCodeAt(r.position)===46&&(r.position+=3,Es(r,!0,-1));return}if(r.position<r.length-1)vi(r,"end of the stream or a document separator is expected");else return}function pht(r,e){r=String(r),e=e||{},r.length!==0&&(r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r.charCodeAt(0)===65279&&(r=r.slice(1)));var t=new YZt(r,e),i=r.indexOf("\0");for(i!==-1&&(t.position=i,vi(t,"null byte is not allowed in input")),t.input+="\0";t.input.charCodeAt(t.position)===32;)t.lineIndent+=1,t.position+=1;for(;t.position<t.length-1;)$Zt(t);return t.documents}function JZt(r,e,t){e!==null&&typeof e=="object"&&typeof t=="undefined"&&(t=e,e=null);var i=pht(r,t);if(typeof e!="function")return i;for(var n=0,a=i.length;n<a;n+=1)e(i[n])}function tKt(r,e){var t=pht(r,e);if(t.length!==0){if(t.length===1)return t[0];throw new Hu("expected a single document in the stream, but found more")}}var eKt=JZt,rKt=tKt,ght={loadAll:eKt,load:rKt},mht=Object.prototype.toString,yht=Object.prototype.hasOwnProperty,rq=65279,iKt=9,wO=10,nKt=13,aKt=32,oKt=33,sKt=34,iq=35,lKt=37,uKt=38,fKt=39,cKt=42,xht=44,hKt=45,jB=58,dKt=61,vKt=62,pKt=63,gKt=64,bht=91,wht=93,mKt=96,_ht=123,yKt=124,Sht=125,fu={};fu[0]="\\0";fu[7]="\\a";fu[8]="\\b";fu[9]="\\t";fu[10]="\\n";fu[11]="\\v";fu[12]="\\f";fu[13]="\\r";fu[27]="\\e";fu[34]='\\"';fu[92]="\\\\";fu[133]="\\N";fu[160]="\\_";fu[8232]="\\L";fu[8233]="\\P";var xKt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],bKt=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function wKt(r,e){var t,i,n,a,o,s,l;if(e===null)return{};for(t={},i=Object.keys(e),n=0,a=i.length;n<a;n+=1)o=i[n],s=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=r.compiledTypeMap.fallback[o],l&&yht.call(l.styleAliases,s)&&(s=l.styleAliases[s]),t[o]=s;return t}function _Kt(r){var e,t,i;if(e=r.toString(16).toUpperCase(),r<=255)t="x",i=2;else if(r<=65535)t="u",i=4;else if(r<=4294967295)t="U",i=8;else throw new Hu("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+t+Ys.repeat("0",i-e.length)+e}var SKt=1,_O=2;function CKt(r){this.schema=r.schema||$V,this.indent=Math.max(1,r.indent||2),this.noArrayIndent=r.noArrayIndent||!1,this.skipInvalid=r.skipInvalid||!1,this.flowLevel=Ys.isNothing(r.flowLevel)?-1:r.flowLevel,this.styleMap=wKt(this.schema,r.styles||null),this.sortKeys=r.sortKeys||!1,this.lineWidth=r.lineWidth||80,this.noRefs=r.noRefs||!1,this.noCompatMode=r.noCompatMode||!1,this.condenseFlow=r.condenseFlow||!1,this.quotingType=r.quotingType==='"'?_O:SKt,this.forceQuotes=r.forceQuotes||!1,this.replacer=typeof r.replacer=="function"?r.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Cht(r,e){for(var t=Ys.repeat(" ",e),i=0,n=-1,a="",o,s=r.length;i<s;)n=r.indexOf(`
`,i),n===-1?(o=r.slice(i),i=s):(o=r.slice(i,n+1),i=n+1),o.length&&o!==`
`&&(a+=t),a+=o;return a}function nq(r,e){return`
`+Ys.repeat(" ",r.indent*e)}function MKt(r,e){var t,i,n;for(t=0,i=r.implicitTypes.length;t<i;t+=1)if(n=r.implicitTypes[t],n.resolve(e))return!0;return!1}function YB(r){return r===aKt||r===iKt}function SO(r){return 32<=r&&r<=126||161<=r&&r<=55295&&r!==8232&&r!==8233||57344<=r&&r<=65533&&r!==rq||65536<=r&&r<=1114111}function Mht(r){return SO(r)&&r!==rq&&r!==nKt&&r!==wO}function Aht(r,e,t){var i=Mht(r),n=i&&!YB(r);return(t?i:i&&r!==xht&&r!==bht&&r!==wht&&r!==_ht&&r!==Sht)&&r!==iq&&!(e===jB&&!n)||Mht(e)&&!YB(e)&&r===iq||e===jB&&n}function AKt(r){return SO(r)&&r!==rq&&!YB(r)&&r!==hKt&&r!==pKt&&r!==jB&&r!==xht&&r!==bht&&r!==wht&&r!==_ht&&r!==Sht&&r!==iq&&r!==uKt&&r!==cKt&&r!==oKt&&r!==yKt&&r!==dKt&&r!==vKt&&r!==fKt&&r!==sKt&&r!==lKt&&r!==gKt&&r!==mKt}function EKt(r){return!YB(r)&&r!==jB}function CO(r,e){var t=r.charCodeAt(e),i;return t>=55296&&t<=56319&&e+1<r.length&&(i=r.charCodeAt(e+1),i>=56320&&i<=57343)?(t-55296)*1024+i-56320+65536:t}function Eht(r){var e=/^\n* /;return e.test(r)}var Tht=1,aq=2,Iht=3,Lht=4,IA=5;function TKt(r,e,t,i,n,a,o,s){var l,u=0,f=null,c=!1,h=!1,d=i!==-1,v=-1,p=AKt(CO(r,0))&&EKt(CO(r,r.length-1));if(e||o)for(l=0;l<r.length;u>=65536?l+=2:l++){if(u=CO(r,l),!SO(u))return IA;p=p&&Aht(u,f,s),f=u}else{for(l=0;l<r.length;u>=65536?l+=2:l++){if(u=CO(r,l),u===wO)c=!0,d&&(h=h||l-v-1>i&&r[v+1]!==" ",v=l);else if(!SO(u))return IA;p=p&&Aht(u,f,s),f=u}h=h||d&&l-v-1>i&&r[v+1]!==" "}return!c&&!h?p&&!o&&!n(r)?Tht:a===_O?IA:aq:t>9&&Eht(r)?IA:o?a===_O?IA:aq:h?Lht:Iht}function IKt(r,e,t,i,n){r.dump=function(){if(e.length===0)return r.quotingType===_O?'""':"''";if(!r.noCompatMode&&(xKt.indexOf(e)!==-1||bKt.test(e)))return r.quotingType===_O?'"'+e+'"':"'"+e+"'";var a=r.indent*Math.max(1,t),o=r.lineWidth===-1?-1:Math.max(Math.min(r.lineWidth,40),r.lineWidth-a),s=i||r.flowLevel>-1&&t>=r.flowLevel;function l(u){return MKt(r,u)}switch(TKt(e,s,r.indent,o,l,r.quotingType,r.forceQuotes&&!i,n)){case Tht:return e;case aq:return"'"+e.replace(/'/g,"''")+"'";case Iht:return"|"+Oht(e,r.indent)+kht(Cht(e,a));case Lht:return">"+Oht(e,r.indent)+kht(Cht(LKt(e,o),a));case IA:return'"'+OKt(e)+'"';default:throw new Hu("impossible error: invalid scalar style")}}()}function Oht(r,e){var t=Eht(r)?String(e):"",i=r[r.length-1]===`
`,n=i&&(r[r.length-2]===`
`||r===`
`),a=n?"+":i?"":"-";return t+a+`
`}function kht(r){return r[r.length-1]===`
`?r.slice(0,-1):r}function LKt(r,e){for(var t=/(\n+)([^\n]*)/g,i=function(){var u=r.indexOf(`
`);return u=u!==-1?u:r.length,t.lastIndex=u,Pht(r.slice(0,u),e)}(),n=r[0]===`
`||r[0]===" ",a,o;o=t.exec(r);){var s=o[1],l=o[2];a=l[0]===" ",i+=s+(!n&&!a&&l!==""?`
`:"")+Pht(l,e),n=a}return i}function Pht(r,e){if(r===""||r[0]===" ")return r;for(var t=/ [^ ]/g,i,n=0,a,o=0,s=0,l="";i=t.exec(r);)s=i.index,s-n>e&&(a=o>n?o:s,l+=`
`+r.slice(n,a),n=a+1),o=s;return l+=`
`,r.length-n>e&&o>n?l+=r.slice(n,o)+`
`+r.slice(o+1):l+=r.slice(n),l.slice(1)}function OKt(r){for(var e="",t=0,i,n=0;n<r.length;t>=65536?n+=2:n++)t=CO(r,n),i=fu[t],!i&&SO(t)?(e+=r[n],t>=65536&&(e+=r[n+1])):e+=i||_Kt(t);return e}function kKt(r,e,t){var i="",n=r.tag,a,o,s;for(a=0,o=t.length;a<o;a+=1)s=t[a],r.replacer&&(s=r.replacer.call(t,String(a),s)),(Ry(r,e,s,!1,!1)||typeof s=="undefined"&&Ry(r,e,null,!1,!1))&&(i!==""&&(i+=","+(r.condenseFlow?"":" ")),i+=r.dump);r.tag=n,r.dump="["+i+"]"}function Dht(r,e,t,i){var n="",a=r.tag,o,s,l;for(o=0,s=t.length;o<s;o+=1)l=t[o],r.replacer&&(l=r.replacer.call(t,String(o),l)),(Ry(r,e+1,l,!0,!0,!1,!0)||typeof l=="undefined"&&Ry(r,e+1,null,!0,!0,!1,!0))&&((!i||n!=="")&&(n+=nq(r,e)),r.dump&&wO===r.dump.charCodeAt(0)?n+="-":n+="- ",n+=r.dump);r.tag=a,r.dump=n||"[]"}function PKt(r,e,t){var i="",n=r.tag,a=Object.keys(t),o,s,l,u,f;for(o=0,s=a.length;o<s;o+=1)f="",i!==""&&(f+=", "),r.condenseFlow&&(f+='"'),l=a[o],u=t[l],r.replacer&&(u=r.replacer.call(t,l,u)),!!Ry(r,e,l,!1,!1)&&(r.dump.length>1024&&(f+="? "),f+=r.dump+(r.condenseFlow?'"':"")+":"+(r.condenseFlow?"":" "),!!Ry(r,e,u,!1,!1)&&(f+=r.dump,i+=f));r.tag=n,r.dump="{"+i+"}"}function DKt(r,e,t,i){var n="",a=r.tag,o=Object.keys(t),s,l,u,f,c,h;if(r.sortKeys===!0)o.sort();else if(typeof r.sortKeys=="function")o.sort(r.sortKeys);else if(r.sortKeys)throw new Hu("sortKeys must be a boolean or a function");for(s=0,l=o.length;s<l;s+=1)h="",(!i||n!=="")&&(h+=nq(r,e)),u=o[s],f=t[u],r.replacer&&(f=r.replacer.call(t,u,f)),!!Ry(r,e+1,u,!0,!0,!0)&&(c=r.tag!==null&&r.tag!=="?"||r.dump&&r.dump.length>1024,c&&(r.dump&&wO===r.dump.charCodeAt(0)?h+="?":h+="? "),h+=r.dump,c&&(h+=nq(r,e)),!!Ry(r,e+1,f,!0,c)&&(r.dump&&wO===r.dump.charCodeAt(0)?h+=":":h+=": ",h+=r.dump,n+=h));r.tag=a,r.dump=n||"{}"}function Fht(r,e,t){var i,n,a,o,s,l;for(n=t?r.explicitTypes:r.implicitTypes,a=0,o=n.length;a<o;a+=1)if(s=n[a],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof e=="object"&&e instanceof s.instanceOf)&&(!s.predicate||s.predicate(e))){if(t?s.multi&&s.representName?r.tag=s.representName(e):r.tag=s.tag:r.tag="?",s.represent){if(l=r.styleMap[s.tag]||s.defaultStyle,mht.call(s.represent)==="[object Function]")i=s.represent(e,l);else if(yht.call(s.represent,l))i=s.represent[l](e,l);else throw new Hu("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');r.dump=i}return!0}return!1}function Ry(r,e,t,i,n,a,o){r.tag=null,r.dump=t,Fht(r,t,!1)||Fht(r,t,!0);var s=mht.call(r.dump),l=i,u;i&&(i=r.flowLevel<0||r.flowLevel>e);var f=s==="[object Object]"||s==="[object Array]",c,h;if(f&&(c=r.duplicates.indexOf(t),h=c!==-1),(r.tag!==null&&r.tag!=="?"||h||r.indent!==2&&e>0)&&(n=!1),h&&r.usedDuplicates[c])r.dump="*ref_"+c;else{if(f&&h&&!r.usedDuplicates[c]&&(r.usedDuplicates[c]=!0),s==="[object Object]")i&&Object.keys(r.dump).length!==0?(DKt(r,e,r.dump,n),h&&(r.dump="&ref_"+c+r.dump)):(PKt(r,e,r.dump),h&&(r.dump="&ref_"+c+" "+r.dump));else if(s==="[object Array]")i&&r.dump.length!==0?(r.noArrayIndent&&!o&&e>0?Dht(r,e-1,r.dump,n):Dht(r,e,r.dump,n),h&&(r.dump="&ref_"+c+r.dump)):(kKt(r,e,r.dump),h&&(r.dump="&ref_"+c+" "+r.dump));else if(s==="[object String]")r.tag!=="?"&&IKt(r,r.dump,e,a,l);else{if(s==="[object Undefined]")return!1;if(r.skipInvalid)return!1;throw new Hu("unacceptable kind of an object to dump "+s)}r.tag!==null&&r.tag!=="?"&&(u=encodeURI(r.tag[0]==="!"?r.tag.slice(1):r.tag).replace(/!/g,"%21"),r.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",r.dump=u+" "+r.dump)}return!0}function FKt(r,e){var t=[],i=[],n,a;for(oq(r,t,i),n=0,a=i.length;n<a;n+=1)e.duplicates.push(t[i[n]]);e.usedDuplicates=new Array(a)}function oq(r,e,t){var i,n,a;if(r!==null&&typeof r=="object")if(n=e.indexOf(r),n!==-1)t.indexOf(n)===-1&&t.push(n);else if(e.push(r),Array.isArray(r))for(n=0,a=r.length;n<a;n+=1)oq(r[n],e,t);else for(i=Object.keys(r),n=0,a=i.length;n<a;n+=1)oq(r[i[n]],e,t)}function NKt(r,e){e=e||{};var t=new CKt(e);t.noRefs||FKt(r,t);var i=r;return t.replacer&&(i=t.replacer.call({"":i},"",i)),Ry(t,0,i,!0,!0)?t.dump+`
`:""}var BKt=NKt,RKt={dump:BKt};function sq(r,e){return function(){throw new Error("Function yaml."+r+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var GKt=Tl,zKt=Nct,jKt=zct,YKt=qct,WKt=Hct,VKt=$V,qKt=ght.load,HKt=ght.loadAll,UKt=RKt.dump,XKt=Hu,ZKt={binary:Qct,float:Vct,map:Gct,null:jct,pairs:Jct,set:tht,timestamp:Zct,bool:Yct,int:Wct,merge:Kct,omap:$ct,seq:Rct,str:Bct},KKt=sq("safeLoad","load"),QKt=sq("safeLoadAll","loadAll"),$Kt=sq("safeDump","dump"),Nht={Type:GKt,Schema:zKt,FAILSAFE_SCHEMA:jKt,JSON_SCHEMA:YKt,CORE_SCHEMA:WKt,DEFAULT_SCHEMA:VKt,load:qKt,loadAll:HKt,dump:UKt,YAMLException:XKt,types:ZKt,safeLoad:KKt,safeLoadAll:QKt,safeDump:$Kt};var PO={};ai(PO,{Children:()=>ddt,Component:()=>Uu,Fragment:()=>ll,PureComponent:()=>QB,StrictMode:()=>Fdt,Suspense:()=>LO,SuspenseList:()=>FA,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>Edt,cloneElement:()=>Odt,createContext:()=>HB,createElement:()=>qn,createFactory:()=>Tdt,createPortal:()=>bdt,createRef:()=>WB,default:()=>Mt,findDOMNode:()=>kdt,flushSync:()=>Ddt,forwardRef:()=>Pr,hydrate:()=>_dt,isElement:()=>Ndt,isFragment:()=>Idt,isMemo:()=>Ldt,isValidElement:()=>kO,lazy:()=>ydt,memo:()=>fdt,render:()=>OO,startTransition:()=>Sq,unmountComponentAtNode:()=>$B,unstable_batchedUpdates:()=>Pdt,useCallback:()=>DA,useContext:()=>UB,useDebugValue:()=>XB,useDeferredValue:()=>Cq,useEffect:()=>$e,useErrorBoundary:()=>aQt,useId:()=>ZB,useImperativeHandle:()=>Ir,useInsertionEffect:()=>Aq,useLayoutEffect:()=>yS,useMemo:()=>PA,useReducer:()=>IO,useRef:()=>Co,useState:()=>k1,useSyncExternalStore:()=>wq,useTransition:()=>Mq,version:()=>wQt});var MO,an,Bht,JKt,gS,Rht,Ght,zht,jht,lq,uq,fq,Yht,AO={},Wht=[],tQt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,EO=Array.isArray;function qp(r,e){for(var t in e)r[t]=e[t];return r}function cq(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function qn(r,e,t){var i,n,a,o={};for(a in e)a=="key"?i=e[a]:a=="ref"?n=e[a]:o[a]=e[a];if(arguments.length>2&&(o.children=arguments.length>3?MO.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(a in r.defaultProps)o[a]===void 0&&(o[a]=r.defaultProps[a]);return TO(r,o,i,n,null)}function TO(r,e,t,i,n){var a={type:r,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n==null?++Bht:n,__i:-1,__u:0};return n==null&&an.vnode!=null&&an.vnode(a),a}function WB(){return{current:null}}function ll(r){return r.children}function Uu(r,e){this.props=r,this.context=e}function LA(r,e){if(e==null)return r.__?LA(r.__,r.__i+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?LA(r):null}function Vht(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return Vht(r)}}function hq(r){(!r.__d&&(r.__d=!0)&&gS.push(r)&&!VB.__r++||Rht!=an.debounceRendering)&&((Rht=an.debounceRendering)||Ght)(VB)}function VB(){for(var r,e,t,i,n,a,o,s=1;gS.length;)gS.length>s&&gS.sort(zht),r=gS.shift(),s=gS.length,r.__d&&(t=void 0,i=void 0,n=(i=(e=r).__v).__e,a=[],o=[],e.__P&&((t=qp({},i)).__v=i.__v+1,an.vnode&&an.vnode(t),dq(e.__P,t,i,e.__n,e.__P.namespaceURI,32&i.__u?[n]:null,a,n==null?LA(i):n,!!(32&i.__u),o),t.__v=i.__v,t.__.__k[t.__i]=t,Zht(a,t,o),i.__e=i.__=null,t.__e!=n&&Vht(t)));VB.__r=0}function qht(r,e,t,i,n,a,o,s,l,u,f){var c,h,d,v,p,g,m,y=i&&i.__k||Wht,x=e.length;for(l=eQt(t,e,y,l,x),c=0;c<x;c++)(d=t.__k[c])!=null&&(h=d.__i==-1?AO:y[d.__i]||AO,d.__i=c,g=dq(r,d,h,n,a,o,s,l,u,f),v=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&pq(h.ref,null,d),f.push(d.ref,d.__c||v,d)),p==null&&v!=null&&(p=v),(m=!!(4&d.__u))||h.__k===d.__k?l=Hht(d,l,r,m):typeof d.type=="function"&&g!==void 0?l=g:v&&(l=v.nextSibling),d.__u&=-7);return t.__e=p,l}function eQt(r,e,t,i,n){var a,o,s,l,u,f=t.length,c=f,h=0;for(r.__k=new Array(n),a=0;a<n;a++)(o=e[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=r.__k[a]=TO(null,o,null,null,null):EO(o)?o=r.__k[a]=TO(ll,{children:o},null,null,null):o.constructor==null&&o.__b>0?o=r.__k[a]=TO(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):r.__k[a]=o,l=a+h,o.__=r,o.__b=r.__b+1,(u=o.__i=rQt(o,t,l,c))!=-1&&(c--,(s=t[u])&&(s.__u|=2)),s==null||s.__v==null?(u==-1&&(n>f?h--:n<f&&h++),typeof o.type!="function"&&(o.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,o.__u|=4))):r.__k[a]=null;if(c)for(a=0;a<f;a++)(s=t[a])!=null&&(2&s.__u)==0&&(s.__e==i&&(i=LA(s)),Qht(s,s));return i}function Hht(r,e,t,i){var n,a;if(typeof r.type=="function"){for(n=r.__k,a=0;n&&a<n.length;a++)n[a]&&(n[a].__=r,e=Hht(n[a],e,t,i));return e}r.__e!=e&&(i&&(e&&r.type&&!e.parentNode&&(e=LA(r)),t.insertBefore(r.__e,e||null)),e=r.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Hp(r,e){return e=e||[],r==null||typeof r=="boolean"||(EO(r)?r.some(function(t){Hp(t,e)}):e.push(r)),e}function rQt(r,e,t,i){var n,a,o,s=r.key,l=r.type,u=e[t],f=u!=null&&(2&u.__u)==0;if(u===null&&s==null||f&&s==u.key&&l==u.type)return t;if(i>(f?1:0)){for(n=t-1,a=t+1;n>=0||a<e.length;)if((u=e[o=n>=0?n--:a++])!=null&&(2&u.__u)==0&&s==u.key&&l==u.type)return o}return-1}function Uht(r,e,t){e[0]=="-"?r.setProperty(e,t==null?"":t):r[e]=t==null?"":typeof t!="number"||tQt.test(e)?t:t+"px"}function qB(r,e,t,i,n){var a,o;t:if(e=="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof i=="string"&&(r.style.cssText=i=""),i)for(e in i)t&&e in t||Uht(r.style,e,"");if(t)for(e in t)i&&t[e]==i[e]||Uht(r.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")a=e!=(e=e.replace(jht,"$1")),o=e.toLowerCase(),e=o in r||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),r.l||(r.l={}),r.l[e+a]=t,t?i?t.u=i.u:(t.u=lq,r.addEventListener(e,a?fq:uq,a)):r.removeEventListener(e,a?fq:uq,a);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in r)try{r[e]=t==null?"":t;break t}catch(s){}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?r.removeAttribute(e):r.setAttribute(e,e=="popover"&&t==1?"":t))}}function Xht(r){return function(e){if(this.l){var t=this.l[e.type+r];if(e.t==null)e.t=lq++;else if(e.t<t.u)return;return t(an.event?an.event(e):e)}}}function dq(r,e,t,i,n,a,o,s,l,u){var f,c,h,d,v,p,g,m,y,x,b,_,M,A,I,k,E,O=e.type;if(e.constructor!=null)return null;128&t.__u&&(l=!!(32&t.__u),a=[s=e.__e=t.__e]),(f=an.__b)&&f(e);t:if(typeof O=="function")try{if(m=e.props,y="prototype"in O&&O.prototype.render,x=(f=O.contextType)&&i[f.__c],b=f?x?x.props.value:f.__:i,t.__c?g=(c=e.__c=t.__c).__=c.__E:(y?e.__c=c=new O(m,b):(e.__c=c=new Uu(m,b),c.constructor=O,c.render=nQt),x&&x.sub(c),c.state||(c.state={}),c.__n=i,h=c.__d=!0,c.__h=[],c._sb=[]),y&&c.__s==null&&(c.__s=c.state),y&&O.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=qp({},c.__s)),qp(c.__s,O.getDerivedStateFromProps(m,c.__s))),d=c.props,v=c.state,c.__v=e,h)y&&O.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),y&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(y&&O.getDerivedStateFromProps==null&&m!==d&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,b),e.__v==t.__v||!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,b)===!1){for(e.__v!=t.__v&&(c.props=m,c.state=c.__s,c.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(P){P&&(P.__=e)}),_=0;_<c._sb.length;_++)c.__h.push(c._sb[_]);c._sb=[],c.__h.length&&o.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,b),y&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(d,v,p)})}if(c.context=b,c.props=m,c.__P=r,c.__e=!1,M=an.__r,A=0,y){for(c.state=c.__s,c.__d=!1,M&&M(e),f=c.render(c.props,c.state,c.context),I=0;I<c._sb.length;I++)c.__h.push(c._sb[I]);c._sb=[]}else do c.__d=!1,M&&M(e),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++A<25);c.state=c.__s,c.getChildContext!=null&&(i=qp(qp({},i),c.getChildContext())),y&&!h&&c.getSnapshotBeforeUpdate!=null&&(p=c.getSnapshotBeforeUpdate(d,v)),k=f,f!=null&&f.type===ll&&f.key==null&&(k=Kht(f.props.children)),s=qht(r,EO(k)?k:[k],e,t,i,n,a,o,s,l,u),c.base=e.__e,e.__u&=-161,c.__h.length&&o.push(c),g&&(c.__E=c.__=null)}catch(P){if(e.__v=null,l||a!=null)if(P.then){for(e.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;a[a.indexOf(s)]=null,e.__e=s}else{for(E=a.length;E--;)cq(a[E]);vq(e)}else e.__e=t.__e,e.__k=t.__k,P.then||vq(e);an.__e(P,e,t)}else a==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):s=e.__e=iQt(t.__e,e,t,i,n,a,o,l,u);return(f=an.diffed)&&f(e),128&e.__u?void 0:s}function vq(r){r&&r.__c&&(r.__c.__e=!0),r&&r.__k&&r.__k.forEach(vq)}function Zht(r,e,t){for(var i=0;i<t.length;i++)pq(t[i],t[++i],t[++i]);an.__c&&an.__c(e,r),r.some(function(n){try{r=n.__h,n.__h=[],r.some(function(a){a.call(n)})}catch(a){an.__e(a,n.__v)}})}function Kht(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:EO(r)?r.map(Kht):qp({},r)}function iQt(r,e,t,i,n,a,o,s,l){var u,f,c,h,d,v,p,g=t.props||AO,m=e.props,y=e.type;if(y=="svg"?n="http://www.w3.org/2000/svg":y=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),a!=null){for(u=0;u<a.length;u++)if((d=a[u])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){r=d,a[u]=null;break}}if(r==null){if(y==null)return document.createTextNode(m);r=document.createElementNS(n,y,m.is&&m),s&&(an.__m&&an.__m(e,a),s=!1),a=null}if(y==null)g===m||s&&r.data==m||(r.data=m);else{if(a=a&&MO.call(r.childNodes),!s&&a!=null)for(g={},u=0;u<r.attributes.length;u++)g[(d=r.attributes[u]).name]=d.value;for(u in g)if(d=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=d;else if(!(u in m)){if(u=="value"&&"defaultValue"in m||u=="checked"&&"defaultChecked"in m)continue;qB(r,u,null,d,n)}}for(u in m)d=m[u],u=="children"?h=d:u=="dangerouslySetInnerHTML"?f=d:u=="value"?v=d:u=="checked"?p=d:s&&typeof d!="function"||g[u]===d||qB(r,u,d,g[u],n);if(f)s||c&&(f.__html==c.__html||f.__html==r.innerHTML)||(r.innerHTML=f.__html),e.__k=[];else if(c&&(r.innerHTML=""),qht(e.type=="template"?r.content:r,EO(h)?h:[h],e,t,i,y=="foreignObject"?"http://www.w3.org/1999/xhtml":n,a,o,a?a[0]:t.__k&&LA(t,0),s,l),a!=null)for(u=a.length;u--;)cq(a[u]);s||(u="value",y=="progress"&&v==null?r.removeAttribute("value"):v!=null&&(v!==r[u]||y=="progress"&&!v||y=="option"&&v!=g[u])&&qB(r,u,v,g[u],n),u="checked",p!=null&&p!=r[u]&&qB(r,u,p,g[u],n))}return r}function pq(r,e,t){try{if(typeof r=="function"){var i=typeof r.__u=="function";i&&r.__u(),i&&e==null||(r.__u=r(e))}else r.current=e}catch(n){an.__e(n,t)}}function Qht(r,e,t){var i,n;if(an.unmount&&an.unmount(r),(i=r.ref)&&(i.current&&i.current!=r.__e||pq(i,null,e)),(i=r.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(a){an.__e(a,e)}i.base=i.__P=null}if(i=r.__k)for(n=0;n<i.length;n++)i[n]&&Qht(i[n],e,t||typeof r.type!="function");t||cq(r.__e),r.__c=r.__=r.__e=void 0}function nQt(r,e,t){return this.constructor(r,t)}function OA(r,e,t){var i,n,a,o;e==document&&(e=document.documentElement),an.__&&an.__(r,e),n=(i=typeof t=="function")?null:t&&t.__k||e.__k,a=[],o=[],dq(e,r=(!i&&t||e).__k=qn(ll,null,[r]),n||AO,AO,e.namespaceURI,!i&&t?[t]:n?null:e.firstChild?MO.call(e.childNodes):null,a,!i&&t?t:n?n.__e:e.firstChild,i,o),Zht(a,r,o)}function gq(r,e){OA(r,e,gq)}function $ht(r,e,t){var i,n,a,o,s=qp({},r.props);for(a in r.type&&r.type.defaultProps&&(o=r.type.defaultProps),e)a=="key"?i=e[a]:a=="ref"?n=e[a]:s[a]=e[a]===void 0&&o!=null?o[a]:e[a];return arguments.length>2&&(s.children=arguments.length>3?MO.call(arguments,2):t),TO(r.type,s,i||r.key,n||r.ref,null)}function HB(r){function e(t){var i,n;return this.getChildContext||(i=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(a){this.props.value!=a.value&&i.forEach(function(o){o.__e=!0,hq(o)})},this.sub=function(a){i.add(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){i&&i.delete(a),o&&o.call(a)}}),t.children}return e.__c="__cC"+Yht++,e.__=r,e.Provider=e.__l=(e.Consumer=function(t,i){return t.children(i)}).contextType=e,e}MO=Wht.slice,an={__e:function(r,e,t,i){for(var n,a,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((a=n.constructor)&&a.getDerivedStateFromError!=null&&(n.setState(a.getDerivedStateFromError(r)),o=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(r,i||{}),o=n.__d),o)return n.__E=n}catch(s){r=s}throw r}},Bht=0,JKt=function(r){return r!=null&&r.constructor==null},Uu.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=qp({},this.state),typeof r=="function"&&(r=r(qp({},t),this.props)),r&&qp(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),hq(this))},Uu.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),hq(this))},Uu.prototype.render=ll,gS=[],Ght=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zht=function(r,e){return r.__v.__b-e.__v.__b},VB.__r=0,jht=/(PointerCapture)$|Capture$/i,lq=0,uq=Xht(!1),fq=Xht(!0),Yht=0;var Gy,qa,mq,Jht,kA=0,tdt=[],Wo=an,edt=Wo.__b,rdt=Wo.__r,idt=Wo.diffed,ndt=Wo.__c,adt=Wo.unmount,odt=Wo.__;function mS(r,e){Wo.__h&&Wo.__h(qa,r,kA||e),kA=0;var t=qa.__H||(qa.__H={__:[],__h:[]});return r>=t.__.length&&t.__.push({}),t.__[r]}function k1(r){return kA=1,IO(ldt,r)}function IO(r,e,t){var i=mS(Gy++,2);if(i.t=r,!i.__c&&(i.__=[t?t(e):ldt(void 0,e),function(s){var l=i.__N?i.__N[0]:i.__[0],u=i.t(l,s);l!==u&&(i.__N=[u,i.__[1]],i.__c.setState({}))}],i.__c=qa,!qa.__f)){var n=function(s,l,u){if(!i.__c.__H)return!0;var f=i.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!a||a.call(this,s,l,u);var c=i.__c.props!==s;return f.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(c=!0)}}),a&&a.call(this,s,l,u)||c};qa.__f=!0;var a=qa.shouldComponentUpdate,o=qa.componentWillUpdate;qa.componentWillUpdate=function(s,l,u){if(this.__e){var f=a;a=void 0,n(s,l,u),a=f}o&&o.call(this,s,l,u)},qa.shouldComponentUpdate=n}return i.__N||i.__}function $e(r,e){var t=mS(Gy++,3);!Wo.__s&&xq(t.__H,e)&&(t.__=r,t.u=e,qa.__H.__h.push(t))}function yS(r,e){var t=mS(Gy++,4);!Wo.__s&&xq(t.__H,e)&&(t.__=r,t.u=e,qa.__h.push(t))}function Co(r){return kA=5,PA(function(){return{current:r}},[])}function Ir(r,e,t){kA=6,yS(function(){if(typeof r=="function"){var i=r(e());return function(){r(null),i&&typeof i=="function"&&i()}}if(r)return r.current=e(),function(){return r.current=null}},t==null?t:t.concat(r))}function PA(r,e){var t=mS(Gy++,7);return xq(t.__H,e)&&(t.__=r(),t.__H=e,t.__h=r),t.__}function DA(r,e){return kA=8,PA(function(){return r},e)}function UB(r){var e=qa.context[r.__c],t=mS(Gy++,9);return t.c=r,e?(t.__==null&&(t.__=!0,e.sub(qa)),e.props.value):r.__}function XB(r,e){Wo.useDebugValue&&Wo.useDebugValue(e?e(r):r)}function aQt(r){var e=mS(Gy++,10),t=k1();return e.__=r,qa.componentDidCatch||(qa.componentDidCatch=function(i,n){e.__&&e.__(i,n),t[1](i)}),[t[0],function(){t[1](void 0)}]}function ZB(){var r=mS(Gy++,11);if(!r.__){for(var e=qa.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var t=e.__m||(e.__m=[0,0]);r.__="P"+t[0]+"-"+t[1]++}return r.__}function oQt(){for(var r;r=tdt.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(KB),r.__H.__h.forEach(yq),r.__H.__h=[]}catch(e){r.__H.__h=[],Wo.__e(e,r.__v)}}Wo.__b=function(r){qa=null,edt&&edt(r)},Wo.__=function(r,e){r&&e.__k&&e.__k.__m&&(r.__m=e.__k.__m),odt&&odt(r,e)},Wo.__r=function(r){rdt&&rdt(r),Gy=0;var e=(qa=r.__c).__H;e&&(mq===qa?(e.__h=[],qa.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(KB),e.__h.forEach(yq),e.__h=[],Gy=0)),mq=qa},Wo.diffed=function(r){idt&&idt(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(tdt.push(e)!==1&&Jht===Wo.requestAnimationFrame||((Jht=Wo.requestAnimationFrame)||sQt)(oQt)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),mq=qa=null},Wo.__c=function(r,e){e.some(function(t){try{t.__h.forEach(KB),t.__h=t.__h.filter(function(i){return!i.__||yq(i)})}catch(i){e.some(function(n){n.__h&&(n.__h=[])}),e=[],Wo.__e(i,t.__v)}}),ndt&&ndt(r,e)},Wo.unmount=function(r){adt&&adt(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{KB(i)}catch(n){e=n}}),t.__H=void 0,e&&Wo.__e(e,t.__v))};var sdt=typeof requestAnimationFrame=="function";function sQt(r){var e,t=function(){clearTimeout(i),sdt&&cancelAnimationFrame(e),setTimeout(r)},i=setTimeout(t,35);sdt&&(e=requestAnimationFrame(t))}function KB(r){var e=qa,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),qa=e}function yq(r){var e=qa;r.__c=r.__(),qa=e}function xq(r,e){return!r||r.length!==e.length||e.some(function(t,i){return t!==r[i]})}function ldt(r,e){return typeof e=="function"?e(r):e}function udt(r,e){for(var t in e)r[t]=e[t];return r}function bq(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var i in e)if(i!=="__source"&&r[i]!==e[i])return!0;return!1}function wq(r,e){var t=e(),i=k1({t:{__:t,u:e}}),n=i[0].t,a=i[1];return yS(function(){n.__=t,n.u=e,_q(n)&&a({t:n})},[r,t,e]),$e(function(){return _q(n)&&a({t:n}),r(function(){_q(n)&&a({t:n})})},[r]),t}function _q(r){var e,t,i=r.u,n=r.__;try{var a=i();return!((e=n)===(t=a)&&(e!==0||1/e==1/t)||e!=e&&t!=t)}catch(o){return!0}}function Sq(r){r()}function Cq(r){return r}function Mq(){return[!1,Sq]}var Aq=yS;function QB(r,e){this.props=r,this.context=e}function fdt(r,e){function t(n){var a=this.props.ref,o=a==n.ref;return!o&&a&&(a.call?a(null):a.current=null),e?!e(this.props,n)||!o:bq(this.props,n)}function i(n){return this.shouldComponentUpdate=t,qn(r,n)}return i.displayName="Memo("+(r.displayName||r.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i.type=r,i}(QB.prototype=new Uu).isPureReactComponent=!0,QB.prototype.shouldComponentUpdate=function(r,e){return bq(this.props,r)||bq(this.state,e)};var cdt=an.__b;an.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),cdt&&cdt(r)};var lQt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Pr(r){function e(t){var i=udt({},t);return delete i.ref,r(i,t.ref||null)}return e.$$typeof=lQt,e.render=r,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(r.displayName||r.name)+")",e}var hdt=function(r,e){return r==null?null:Hp(Hp(r).map(e))},ddt={map:hdt,forEach:hdt,count:function(r){return r?Hp(r).length:0},only:function(r){var e=Hp(r);if(e.length!==1)throw"Children.only";return e[0]},toArray:Hp},uQt=an.__e;an.__e=function(r,e,t,i){if(r.then){for(var n,a=e;a=a.__;)if((n=a.__c)&&n.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),n.__c(r,e)}uQt(r,e,t,i)};var vdt=an.unmount;function pdt(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(i){typeof i.__c=="function"&&i.__c()}),r.__c.__H=null),(r=udt({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c.__e=!0,r.__c=null),r.__k=r.__k&&r.__k.map(function(i){return pdt(i,e,t)})),r}function gdt(r,e,t){return r&&t&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(i){return gdt(i,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.appendChild(r.__e),r.__c.__e=!0,r.__c.__P=t)),r}function LO(){this.__u=0,this.o=null,this.__b=null}function mdt(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function ydt(r){var e,t,i,n=null;function a(o){if(e||(e=r()).then(function(s){s&&(n=s.default||s),i=!0},function(s){t=s,i=!0}),t)throw t;if(!i)throw e;return n?qn(n,o):null}return a.displayName="Lazy",a.__f=!0,a}function FA(){this.i=null,this.l=null}an.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&32&r.__u&&(r.type=null),vdt&&vdt(r)},(LO.prototype=new Uu).__c=function(r,e){var t=e.__c,i=this;i.o==null&&(i.o=[]),i.o.push(t);var n=mdt(i.__v),a=!1,o=function(){a||(a=!0,t.__R=null,n?n(s):s())};t.__R=o;var s=function(){if(!--i.__u){if(i.state.__a){var l=i.state.__a;i.__v.__k[0]=gdt(l,l.__c.__P,l.__c.__O)}var u;for(i.setState({__a:i.__b=null});u=i.o.pop();)u.forceUpdate()}};i.__u++||32&e.__u||i.setState({__a:i.__b=i.__v.__k[0]}),r.then(o,o)},LO.prototype.componentWillUnmount=function(){this.o=[]},LO.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=pdt(this.__b,t,i.__O=i.__P)}this.__b=null}var n=e.__a&&qn(ll,null,r.fallback);return n&&(n.__u&=-33),[qn(ll,null,e.__a?null:r.children),n]};var xdt=function(r,e,t){if(++t[1]===t[0]&&r.l.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.l.size))for(t=r.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.i=t=t[2]}};function fQt(r){return this.getChildContext=function(){return r.context},r.children}function cQt(r){var e=this,t=r.h;if(e.componentWillUnmount=function(){OA(null,e.v),e.v=null,e.h=null},e.h&&e.h!==t&&e.componentWillUnmount(),!e.v){for(var i=e.__v;i!==null&&!i.__m&&i.__!==null;)i=i.__;e.h=t,e.v={nodeType:1,parentNode:t,childNodes:[],__k:{__m:i.__m},contains:function(){return!0},insertBefore:function(n,a){this.childNodes.push(n),e.h.insertBefore(n,a)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}}OA(qn(fQt,{context:e.context},r.__v),e.v)}function bdt(r,e){var t=qn(cQt,{__v:r,h:e});return t.containerInfo=e,t}(FA.prototype=new Uu).__a=function(r){var e=this,t=mdt(e.__v),i=e.l.get(r);return i[0]++,function(n){var a=function(){e.props.revealOrder?(i.push(n),xdt(e,r,i)):n()};t?t(a):a()}},FA.prototype.render=function(r){this.i=null,this.l=new Map;var e=Hp(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return r.children},FA.prototype.componentDidUpdate=FA.prototype.componentDidMount=function(){var r=this;this.l.forEach(function(e,t){xdt(r,t,e)})};var wdt=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,hQt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,dQt=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,vQt=/[A-Z0-9]/g,pQt=typeof document!="undefined",gQt=function(r){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(r)};function OO(r,e,t){return e.__k==null&&(e.textContent=""),OA(r,e),typeof t=="function"&&t(),r?r.__c:null}function _dt(r,e,t){return gq(r,e),typeof t=="function"&&t(),r?r.__c:null}Uu.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(Uu.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var Sdt=an.event;function mQt(){}function yQt(){return this.cancelBubble}function xQt(){return this.defaultPrevented}an.event=function(r){return Sdt&&(r=Sdt(r)),r.persist=mQt,r.isPropagationStopped=yQt,r.isDefaultPrevented=xQt,r.nativeEvent=r};var Eq,bQt={enumerable:!1,configurable:!0,get:function(){return this.class}},Cdt=an.vnode;an.vnode=function(r){typeof r.type=="string"&&function(e){var t=e.props,i=e.type,n={},a=i.indexOf("-")===-1;for(var o in t){var s=t[o];if(!(o==="value"&&"defaultValue"in t&&s==null||pQt&&o==="children"&&i==="noscript"||o==="class"||o==="className")){var l=o.toLowerCase();o==="defaultValue"&&"value"in t&&t.value==null?o="value":o==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?o="ondblclick":l!=="onchange"||i!=="input"&&i!=="textarea"||gQt(t.type)?l==="onfocus"?o="onfocusin":l==="onblur"?o="onfocusout":dQt.test(o)&&(o=l):l=o="oninput":a&&hQt.test(o)?o=o.replace(vQt,"-$&").toLowerCase():s===null&&(s=void 0),l==="oninput"&&n[o=l]&&(o="oninputCapture"),n[o]=s}}i=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Hp(t.children).forEach(function(u){u.props.selected=n.value.indexOf(u.props.value)!=-1})),i=="select"&&n.defaultValue!=null&&(n.value=Hp(t.children).forEach(function(u){u.props.selected=n.multiple?n.defaultValue.indexOf(u.props.value)!=-1:n.defaultValue==u.props.value})),t.class&&!t.className?(n.class=t.class,Object.defineProperty(n,"className",bQt)):(t.className&&!t.class||t.class&&t.className)&&(n.class=n.className=t.className),e.props=n}(r),r.$$typeof=wdt,Cdt&&Cdt(r)};var Mdt=an.__r;an.__r=function(r){Mdt&&Mdt(r),Eq=r.__c};var Adt=an.diffed;an.diffed=function(r){Adt&&Adt(r);var e=r.props,t=r.__e;t!=null&&r.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),Eq=null};var Edt={ReactCurrentDispatcher:{current:{readContext:function(r){return Eq.__n[r.__c].props.value},useCallback:DA,useContext:UB,useDebugValue:XB,useDeferredValue:Cq,useEffect:$e,useId:ZB,useImperativeHandle:Ir,useInsertionEffect:Aq,useLayoutEffect:yS,useMemo:PA,useReducer:IO,useRef:Co,useState:k1,useSyncExternalStore:wq,useTransition:Mq}}},wQt="18.3.1";function Tdt(r){return qn.bind(null,r)}function kO(r){return!!r&&r.$$typeof===wdt}function Idt(r){return kO(r)&&r.type===ll}function Ldt(r){return!!r&&!!r.displayName&&(typeof r.displayName=="string"||r.displayName instanceof String)&&r.displayName.startsWith("Memo(")}function Odt(r){return kO(r)?$ht.apply(null,arguments):r}function $B(r){return!!r.__k&&(OA(null,r),!0)}function kdt(r){return r&&(r.base||r.nodeType===1&&r)||null}var Pdt=function(r,e){return r(e)},Ddt=function(r,e){return r(e)},Fdt=ll,Ndt=kO,Mt={useState:k1,useId:ZB,useReducer:IO,useEffect:$e,useLayoutEffect:yS,useInsertionEffect:Aq,useTransition:Mq,useDeferredValue:Cq,useSyncExternalStore:wq,startTransition:Sq,useRef:Co,useImperativeHandle:Ir,useMemo:PA,useCallback:DA,useContext:UB,useDebugValue:XB,version:"18.3.1",Children:ddt,render:OO,hydrate:_dt,unmountComponentAtNode:$B,createPortal:bdt,createElement:qn,createContext:HB,createFactory:Tdt,cloneElement:Odt,createRef:WB,Fragment:ll,isValidElement:kO,isElement:Ndt,isFragment:Idt,isMemo:Ldt,findDOMNode:kdt,Component:Uu,PureComponent:QB,memo:fdt,forwardRef:Pr,flushSync:Ddt,unstable_batchedUpdates:Pdt,StrictMode:Fdt,Suspense:LO,SuspenseList:FA,lazy:ydt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Edt};var kV=et(require("obsidian"));var Tq=function(r,e){return Tq=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},Tq(r,e)};function G(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Tq(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var S=function(){return S=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},S.apply(this,arguments)};function Ze(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function ta(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})}function ea(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function er(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rt(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,a=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a}function cu(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,n++)i[n]=a[o];return i}function ne(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))}var _Qt=function(r){return r!==null&&typeof r!="function"&&isFinite(r.length)},no=_Qt;var SQt=function(r,e){return no(r)?r.indexOf(e)>-1:!1},Ff=SQt;var CQt=function(r,e){if(!no(r))return r;for(var t=[],i=0;i<r.length;i++){var n=r[i];e(n,i)&&t.push(n)}return t},ho=CQt;var MQt=function(r,e){return e===void 0&&(e=[]),ho(r,function(t){return!Ff(e,t)})},Iq=MQt;var AQt={}.toString,EQt=function(r,e){return AQt.call(r)==="[object "+e+"]"},ul=EQt;var nr=function(r){return ul(r,"Function")};var TQt=function(r){return r==null},Kt=TQt;var $t=function(r){return Array.isArray?Array.isArray(r):ul(r,"Array")};var Gi=function(r){var e=typeof r;return r!==null&&e==="object"||e==="function"};function IQt(r,e){if(!!r){var t;if($t(r))for(var i=0,n=r.length;i<n&&(t=e(r[i],i),t!==!1);i++);else if(Gi(r)){for(var a in r)if(r.hasOwnProperty(a)&&(t=e(r[a],a),t===!1))break}}}var at=IQt;var LQt=Object.keys?function(r){return Object.keys(r)}:function(r){var e=[];return at(r,function(t,i){nr(r)&&i==="prototype"||e.push(i)}),e},_v=LQt;function OQt(r,e){var t=_v(e),i=t.length;if(Kt(r))return!i;for(var n=0;n<i;n+=1){var a=t[n];if(e[a]!==r[a]||!(a in r))return!1}return!0}var Lq=OQt;var kQt=function(r){return typeof r=="object"&&r!==null},NA=kQt;var PQt=function(r){if(!NA(r)||!ul(r,"Object"))return!1;if(Object.getPrototypeOf(r)===null)return!0;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e},fl=PQt;function DQt(r,e){if(!$t(r))return null;var t;if(nr(e)&&(t=e),fl(e)&&(t=function(n){return Lq(n,e)}),t){for(var i=0;i<r.length;i+=1)if(t(r[i]))return r[i]}return null}var hu=DQt;var FQt=function(r,e){for(var t=null,i=0;i<r.length;i++){var n=r[i],a=n[e];if(!Kt(a)){$t(a)?t=a[0]:t=a;break}}return t},Oq=FQt;var NQt=function(r){if(!$t(r))return[];for(var e=[],t=0;t<r.length;t++)e=e.concat(r[t]);return e},Zo=NQt;var ms=function(r){if(!!$t(r))return r.reduce(function(e,t){return Math.max(e,t)},r[0])};var Ws=function(r){if(!!$t(r))return r.reduce(function(e,t){return Math.min(e,t)},r[0])};var BQt=function(r){var e=r.filter(function(o){return!isNaN(o)});if(!e.length)return{min:0,max:0};if($t(r[0])){for(var t=[],i=0;i<r.length;i++)t=t.concat(r[i]);e=t}var n=ms(e),a=Ws(e);return{min:a,max:n}},kq=BQt;var Bdt=Array.prototype,Tsr=Bdt.splice,Isr=Bdt.indexOf;var RQt=Array.prototype.splice,GQt=function(e,t){if(!no(e))return[];for(var i=e?t.length:0,n=i-1;i--;){var a=void 0,o=t[i];(i===n||o!==a)&&(a=o,RQt.call(e,o,1))}return e},Pq=GQt;var zQt=function(r,e,t){if(!$t(r)&&!fl(r))return r;var i=t;return at(r,function(n,a){i=e(i,n,a)}),i},BA=zQt;var jQt=function(r,e){var t=[];if(!no(r))return t;for(var i=-1,n=[],a=r.length;++i<a;){var o=r[i];e(o,i,r)&&(t.push(o),n.push(i))}return Pq(r,n),t},Dq=jQt;var cr=function(r){return ul(r,"String")};function xS(r,e){e===void 0&&(e=new Map);var t=[];if(Array.isArray(r))for(var i=0,n=r.length;i<n;i++){var a=r[i];e.has(a)||(t.push(a),e.set(a,!0))}return t}var Il=function(r,e){for(var t=[],i={},n=0;n<r.length;n++){var a=r[n],o=a[e];if(!Kt(o)){$t(o)||(o=[o]);for(var s=0;s<o.length;s++){var l=o[s];i[l]||(t.push(l),i[l]=!0)}}}return t};function ao(r){if(no(r))return r[0]}function jn(r){if(no(r)){var e=r;return e[e.length-1]}}var YQt=function(r,e){for(var t=0;t<r.length;t++)if(!e(r[t],t))return!1;return!0},Fq=YQt;var WQt=function(r,e){for(var t=0;t<r.length;t++)if(e(r[t],t))return!0;return!1},zy=WQt;var VQt=Object.prototype.hasOwnProperty;function qQt(r,e){if(!e||!$t(r))return{};for(var t={},i=nr(e)?e:function(s){return s[e]},n,a=0;a<r.length;a++){var o=r[a];n=i(o),VQt.call(t,n)?t[n].push(o):t[n]=[o]}return t}var Ll=qQt;function RA(r,e){if(!e)return{0:r};if(!nr(e)){var t=$t(e)?e:e.replace(/\s+/g,"").split("*");e=function(i){for(var n="_",a=0,o=t.length;a<o;a++)n+=i[t[a]]&&i[t[a]].toString();return n}}return Ll(r,e)}var Nq=function(r,e){if(!e)return[r];var t=RA(r,e),i=[];for(var n in t)i.push(t[n]);return i};var HQt=function(r,e,t){return r<e?e:r>t?t:r},Qn=HQt;var UQt=function(r,e){var t=e.toString(),i=t.indexOf(".");if(i===-1)return Math.round(r);var n=t.substr(i+1).length;return n>20&&(n=20),parseFloat(r.toFixed(n))},DO=UQt;var XQt=function(r){return ul(r,"Number")},qr=XQt;var Plr=Number.isInteger?Number.isInteger:function(r){return qr(r)&&r%1==0};var ZQt=1e-5;function Oa(r,e,t){return t===void 0&&(t=ZQt),Math.abs(r-e)<t}var KQt=function(r,e){return(r%e+e)%e},Kh=KQt;var Zlr=180/Math.PI;var QQt=Math.PI/180,$Qt=function(r){return QQt*r},Qh=$Qt;var Bq=function(r,e){return r.hasOwnProperty(e)};var Sv=Bq;var JQt=Object.values?function(r){return Object.values(r)}:function(r){var e=[];return at(r,function(t,i){nr(r)&&i==="prototype"||e.push(t)}),e},P1=JQt;var Cv=function(r){return Kt(r)?"":r.toString()};var t$t=function(r){return Cv(r).toLowerCase()},Up=t$t;function e$t(r,e){return!r||!e?r:r.replace(/\\?\{([^{}]+)\}/g,function(t,i){return t.charAt(0)==="\\"?t.slice(1):e[i]===void 0?"":e[i]})}var FO=e$t;var r$t=function(r){var e=Cv(r);return e.charAt(0).toUpperCase()+e.substring(1)},Nf=r$t;var i$t={}.toString,n$t=function(r){return i$t.call(r).replace(/^\[object /,"").replace(/]$/,"")},Rq=n$t;var a$t=function(r){return ul(r,"Boolean")},Xp=a$t;var o$t=function(r){return ul(r,"Date")},NO=o$t;var s$t=function(r){return r===null},Gq=s$t;var l$t=Object.prototype,u$t=function(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||l$t;return r===t},zq=u$t;var f$t=function(r){return r===void 0},Zp=f$t;var c$t=function(r){return r instanceof Element||r instanceof HTMLDocument},BO=c$t;function RO(r){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,16)};return e(r)}function GO(r){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;e(r)}function jq(r,e){for(var t in e)e.hasOwnProperty(t)&&t!=="constructor"&&e[t]!==void 0&&(r[t]=e[t])}function Vi(r,e,t,i){return e&&jq(r,e),t&&jq(r,t),i&&jq(r,i),r}var Yq=function(r){if(typeof r!="object"||r===null)return r;var e;if($t(r)){e=[];for(var t=0,i=r.length;t<i;t++)typeof r[t]=="object"&&r[t]!=null?e[t]=Yq(r[t]):e[t]=r[t]}else{e={};for(var n in r)typeof r[n]=="object"&&r[n]!=null?e[n]=Yq(r[n]):e[n]=r[n]}return e},Vs=Yq;function h$t(r,e,t){var i;return function(){var n=this,a=arguments,o=function(){i=null,t||r.apply(n,a)},s=t&&!i;clearTimeout(i),i=setTimeout(o,e),s&&r.apply(n,a)}}var zO=h$t;var jy=function(r,e){if(!nr(r))throw new TypeError("Expected a function");var t=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=e?e.apply(this,i):i[0],o=t.cache;if(o.has(a))return o.get(a);var s=r.apply(this,i);return o.set(a,s),s};return t.cache=new Map,t};var d$t=5;function Rdt(r,e,t,i){t=t||0,i=i||d$t;for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];a!==null&&fl(a)?(fl(r[n])||(r[n]={}),t<i?Rdt(r[n],a,t+1,i):r[n]=e[n]):$t(a)?(r[n]=[],r[n]=r[n].concat(a)):a!==void 0&&(r[n]=a)}}var v$t=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)Rdt(r,e[i]);return r},Le=v$t;var p$t=function(r,e){if(!no(r))return-1;var t=Array.prototype.indexOf;if(t)return t.call(r,e);for(var i=-1,n=0;n<r.length;n++)if(r[n]===e){i=n;break}return i},JB=p$t;var g$t=Object.prototype.hasOwnProperty;function m$t(r){if(Kt(r))return!0;if(no(r))return!r.length;var e=Rq(r);if(e==="Map"||e==="Set")return!r.size;if(zq(r))return!Object.keys(r).length;for(var t in r)if(g$t.call(r,t))return!1;return!0}var Ts=m$t;var Wq=function(r,e){if(r===e)return!0;if(!r||!e||cr(r)||cr(e))return!1;if(no(r)||no(e)){if(r.length!==e.length)return!1;for(var t=!0,i=0;i<r.length&&(t=Wq(r[i],e[i]),!!t);i++);return t}if(NA(r)||NA(e)){var n=Object.keys(r),a=Object.keys(e);if(n.length!==a.length)return!1;for(var t=!0,i=0;i<n.length&&(t=Wq(r[n[i]],e[n[i]]),!!t);i++);return t}return!1},xn=Wq;var y$t=function(r,e){if(!no(r))return r;for(var t=[],i=0;i<r.length;i++){var n=r[i];t.push(e(n,i))}return t},oo=y$t;var x$t=function(r){return r},Vq=function(r,e){e===void 0&&(e=x$t);var t={};return Gi(r)&&!Kt(r)&&Object.keys(r).forEach(function(i){t[i]=e(r[i],i)}),t};var At=function(r,e,t){for(var i=0,n=cr(e)?e.split("."):e;r&&i<n.length;)r=r[n[i++]];return r===void 0||i<n.length?t:r};var Vo=function(r,e,t){var i=r,n=cr(e)?e.split("."):e;return n.forEach(function(a,o){o<n.length-1?(Gi(i[a])||(i[a]=qr(n[o+1])?[]:{}),i=i[a]):i[a]=t}),r};var b$t=Object.prototype.hasOwnProperty,bS=function(r,e){if(r===null||!fl(r))return{};var t={};return at(e,function(i){b$t.call(r,i)&&(t[i]=r[i])}),t};var wS=function(r,e,t){var i,n,a,o,s=0;t||(t={});var l=function(){s=t.leading===!1?0:Date.now(),i=null,o=r.apply(n,a),i||(n=a=null)},u=function(){var f=Date.now();!s&&t.leading===!1&&(s=f);var c=e-(f-s);return n=this,a=arguments,c<=0||c>e?(i&&(clearTimeout(i),i=null),s=f,o=r.apply(n,a),i||(n=a=null)):!i&&t.trailing!==!1&&(i=setTimeout(l,c)),o};return u.cancel=function(){clearTimeout(i),s=0,i=n=a=null},u};var qq=function(r){return no(r)?Array.prototype.slice.call(r):[]};var tR={},Ol=function(r){return r=r||"g",tR[r]?tR[r]+=1:tR[r]=1,r+tR[r]};var Bf=function(){};function Mo(r){return Kt(r)?0:no(r)?r.length:Object.keys(r).length}var eR,GA=jy(function(r,e){e===void 0&&(e={});var t=e.fontSize,i=e.fontFamily,n=e.fontWeight,a=e.fontStyle,o=e.fontVariant;return eR||(eR=document.createElement("canvas").getContext("2d")),eR.font=[a,o,n,t+"px",i].join(" "),eR.measureText(cr(r)?r:"").width},function(r,e){return e===void 0&&(e={}),cu([r],P1(e)).join("")});var Hq=function(r,e,t,i){i===void 0&&(i="...");var n=16,a=GA(i,t),o=cr(r)?r:Cv(r),s=e,l=[],u,f;if(GA(r,t)<=e)return r;for(;u=o.substr(0,n),f=GA(u,t),!(f+a>s&&f>s);)if(l.push(u),s-=f,o=o.substr(n),!o)return l.join("");for(;u=o.substr(0,1),f=GA(u,t),!(f+a>s);)if(l.push(u),s-=f,o=o.substr(1),!o)return l.join("");return""+l.join("")+i};var w$t=function(){function r(){this.map={}}return r.prototype.has=function(e){return this.map[e]!==void 0},r.prototype.get=function(e,t){var i=this.map[e];return i===void 0?t:i},r.prototype.set=function(e,t){this.map[e]=t},r.prototype.clear=function(){this.map={}},r.prototype.delete=function(e){delete this.map[e]},r.prototype.size=function(){return Object.keys(this.map).length},r}(),Uq=w$t;var ha;(function(r){r.FORE="fore",r.MID="mid",r.BG="bg"})(ha||(ha={}));var Ne;(function(r){r.TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.RADIUS="radius",r.CIRCLE="circle",r.NONE="none"})(Ne||(Ne={}));var vo;(function(r){r.AXIS="axis",r.GRID="grid",r.LEGEND="legend",r.TOOLTIP="tooltip",r.ANNOTATION="annotation",r.SLIDER="slider",r.SCROLLBAR="scrollbar",r.OTHER="other"})(vo||(vo={}));var D1={FORE:3,MID:2,BG:1},Hn;(function(r){r.BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy",r.BEFORE_CHANGE_SIZE="beforechangesize",r.AFTER_CHANGE_SIZE="afterchangesize"})(Hn||(Hn={}));var Mv;(function(r){r.BEFORE_DRAW_ANIMATE="beforeanimate",r.AFTER_DRAW_ANIMATE="afteranimate",r.BEFORE_RENDER_LABEL="beforerenderlabel",r.AFTER_RENDER_LABEL="afterrenderlabel"})(Mv||(Mv={}));var Xu;(function(r){r.MOUSE_ENTER="plot:mouseenter",r.MOUSE_DOWN="plot:mousedown",r.MOUSE_MOVE="plot:mousemove",r.MOUSE_UP="plot:mouseup",r.MOUSE_LEAVE="plot:mouseleave",r.TOUCH_START="plot:touchstart",r.TOUCH_MOVE="plot:touchmove",r.TOUCH_END="plot:touchend",r.TOUCH_CANCEL="plot:touchcancel",r.CLICK="plot:click",r.DBLCLICK="plot:dblclick",r.CONTEXTMENU="plot:contextmenu",r.LEAVE="plot:leave",r.ENTER="plot:enter"})(Xu||(Xu={}));var jO;(function(r){r.ACTIVE="active",r.INACTIVE="inactive",r.SELECTED="selected",r.DEFAULT="default"})(jO||(jO={}));var Yy=["color","shape","size"],on="_origin",Xq=1,Zq=1,Kq=.25;var Gdt={};function Qq(r){var e=Gdt[r];if(!e)throw new Error("G engine '".concat(r,"' is not exist, please register it at first."));return e}function rR(r,e){Gdt[r]=e}function Wy(r,e,t){if(r){if(typeof r.addEventListener=="function")return r.addEventListener(e,t,!1),{remove:function(){r.removeEventListener(e,t,!1)}};if(typeof r.attachEvent=="function")return r.attachEvent("on"+e,t),{remove:function(){r.detachEvent("on"+e,t)}}}}var YO,$q,zdt,Jq;function _$t(){YO=document.createElement("table"),$q=document.createElement("tr"),zdt=/^\s*<(\w+|!)[^>]*>/,Jq={tr:document.createElement("tbody"),tbody:YO,thead:YO,tfoot:YO,td:$q,th:$q,"*":document.createElement("div")}}function du(r){YO||_$t();var e=zdt.test(r)&&RegExp.$1;(!e||!(e in Jq))&&(e="*");var t=Jq[e];r=typeof r=="string"?r.replace(/(^\s*)|(\s*$)/g,""):r,t.innerHTML=""+r;var i=t.childNodes[0];return i&&t.contains(i)&&t.removeChild(i),i}function Is(r,e,t){var i;try{i=window.getComputedStyle?window.getComputedStyle(r,null)[e]:r.style[e]}catch(n){}finally{i=i===void 0?t:i}return i}function iR(r,e){var t=Is(r,"height",e);return t==="auto"&&(t=r.offsetHeight),parseFloat(t)}function nR(r,e){var t=iR(r,e),i=parseFloat(Is(r,"borderTopWidth"))||0,n=parseFloat(Is(r,"paddingTop"))||0,a=parseFloat(Is(r,"paddingBottom"))||0,o=parseFloat(Is(r,"borderBottomWidth"))||0,s=parseFloat(Is(r,"marginTop"))||0,l=parseFloat(Is(r,"marginBottom"))||0;return t+i+o+n+a+s+l}function aR(r,e){var t=Is(r,"width",e);return t==="auto"&&(t=r.offsetWidth),parseFloat(t)}function oR(r,e){var t=aR(r,e),i=parseFloat(Is(r,"borderLeftWidth"))||0,n=parseFloat(Is(r,"paddingLeft"))||0,a=parseFloat(Is(r,"paddingRight"))||0,o=parseFloat(Is(r,"borderRightWidth"))||0,s=parseFloat(Is(r,"marginRight"))||0,l=parseFloat(Is(r,"marginLeft"))||0;return t+i+o+n+a+l+s}function Ao(r,e){if(r)for(var t in e)e.hasOwnProperty(t)&&(r.style[t]=e[t]);return r}function S$t(r){var e=getComputedStyle(r);return{width:(r.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(r.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function jdt(r){return typeof r=="number"&&!isNaN(r)}function tH(r,e,t,i){var n=t,a=i;if(e){var o=S$t(r);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(jdt(n)?n:Xq,Xq),height:Math.max(jdt(a)?a:Zq,Zq)}}function Ydt(r){var e=r.parentNode;e&&e.removeChild(r)}var C$t="*",M$t=function(){function r(){this._events={}}return r.prototype.on=function(e,t,i){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!i}),this},r.prototype.once=function(e,t){return this.on(e,t,!0)},r.prototype.emit=function(e){for(var t=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var a=this._events[e]||[],o=this._events[C$t]||[],s=function(l){for(var u=l.length,f=0;f<u;f++)if(!!l[f]){var c=l[f],h=c.callback,d=c.once;d&&(l.splice(f,1),l.length===0&&delete t._events[e],u--,f--),h.apply(t,i)}};s(a),s(o)},r.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var i=this._events[e]||[],n=i.length,a=0;a<n;a++)i[a].callback===t&&(i.splice(a,1),n--,a--);i.length===0&&delete this._events[e]}return this},r.prototype.getEvents=function(){return this._events},r}(),sR=M$t;var A$t=function(r){G(e,r);function e(t){var i=r.call(this)||this;i.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return i.visible=a,i}return e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(sR),zA=A$t;var jA={};ai(jA,{catmullRomToBezier:()=>eH,fillPath:()=>G$t,fillPathByDiff:()=>aH,formatPath:()=>fR,intersection:()=>F$t,parsePathArray:()=>qdt,parsePathString:()=>_S,pathToAbsolute:()=>rH,pathToCurve:()=>iH,rectPath:()=>Xdt});var WO=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,E$t=new RegExp("([a-z])["+WO+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+WO+"]*,?["+WO+"]*)+)","ig"),T$t=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+WO+"]*,?["+WO+"]*","ig"),_S=function(r){if(!r)return null;if($t(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(E$t,function(i,n,a){var o=[],s=n.toLowerCase();if(a.replace(T$t,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return r}),t},eH=function(r,e){for(var t=[],i=0,n=r.length;n-2*!e>i;i+=2){var a=[{x:+r[i-2],y:+r[i-1]},{x:+r[i],y:+r[i+1]},{x:+r[i+2],y:+r[i+3]},{x:+r[i+4],y:+r[i+5]}];e?i?n-4===i?a[3]={x:+r[0],y:+r[1]}:n-2===i&&(a[2]={x:+r[0],y:+r[1]},a[3]={x:+r[2],y:+r[3]}):a[0]={x:+r[n-2],y:+r[n-1]}:n-4===i?a[3]=a[2]:i||(a[0]={x:+r[i],y:+r[i+1]}),t.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return t},lR=function(r,e,t,i,n){var a=[];if(n===null&&i===null&&(i=t),r=+r,e=+e,t=+t,i=+i,n!==null){var o=Math.PI/180,s=r+t*Math.cos(-i*o),l=r+t*Math.cos(-n*o),u=e+t*Math.sin(-i*o),f=e+t*Math.sin(-n*o);a=[["M",s,u],["A",t,t,0,+(n-i>180),0,l,f]]}else a=[["M",r,e],["m",0,-i],["a",t,i,0,1,1,0,2*i],["a",t,i,0,1,1,0,-2*i],["z"]];return a},rH=function(r){if(r=_S(r),!r||!r.length)return[["M",0,0]];var e=[],t=0,i=0,n=0,a=0,o=0,s,l;r[0][0]==="M"&&(t=+r[0][1],i=+r[0][2],n=t,a=i,o++,e[0]=["M",t,i]);for(var u=r.length===3&&r[0][0]==="M"&&r[1][0].toUpperCase()==="R"&&r[2][0].toUpperCase()==="Z",f=void 0,c=void 0,h=o,d=r.length;h<d;h++){if(e.push(f=[]),c=r[h],s=c[0],s!==s.toUpperCase())switch(f[0]=s.toUpperCase(),f[0]){case"A":f[1]=c[1],f[2]=c[2],f[3]=c[3],f[4]=c[4],f[5]=c[5],f[6]=+c[6]+t,f[7]=+c[7]+i;break;case"V":f[1]=+c[1]+i;break;case"H":f[1]=+c[1]+t;break;case"R":l=[t,i].concat(c.slice(1));for(var v=2,p=l.length;v<p;v++)l[v]=+l[v]+t,l[++v]=+l[v]+i;e.pop(),e=e.concat(eH(l,u));break;case"O":e.pop(),l=lR(t,i,c[1],c[2]),l.push(l[0]),e=e.concat(l);break;case"U":e.pop(),e=e.concat(lR(t,i,c[1],c[2],c[3])),f=["U"].concat(e[e.length-1].slice(-2));break;case"M":n=+c[1]+t,a=+c[2]+i;break;default:for(var v=1,p=c.length;v<p;v++)f[v]=+c[v]+(v%2?t:i)}else if(s==="R")l=[t,i].concat(c.slice(1)),e.pop(),e=e.concat(eH(l,u)),f=["R"].concat(c.slice(-2));else if(s==="O")e.pop(),l=lR(t,i,c[1],c[2]),l.push(l[0]),e=e.concat(l);else if(s==="U")e.pop(),e=e.concat(lR(t,i,c[1],c[2],c[3])),f=["U"].concat(e[e.length-1].slice(-2));else for(var g=0,m=c.length;g<m;g++)f[g]=c[g];if(s=s.toUpperCase(),s!=="O")switch(f[0]){case"Z":t=+n,i=+a;break;case"H":t=f[1];break;case"V":i=f[1];break;case"M":n=f[f.length-2],a=f[f.length-1];break;default:t=f[f.length-2],i=f[f.length-1]}}return e},uR=function(r,e,t,i){return[r,e,t,i,t,i]},Wdt=function(r,e,t,i,n,a){var o=1/3,s=2/3;return[o*r+s*t,o*e+s*i,o*n+s*t,o*a+s*i,n,a]},Vdt=function(r,e,t,i,n,a,o,s,l,u){t===i&&(t+=1);var f=Math.PI*120/180,c=Math.PI/180*(+n||0),h=[],d,v,p,g,m,y=function(pt,_t,Et){var Ot=pt*Math.cos(Et)-_t*Math.sin(Et),oe=pt*Math.sin(Et)+_t*Math.cos(Et);return{x:Ot,y:oe}};if(u)v=u[0],p=u[1],g=u[2],m=u[3];else{d=y(r,e,-c),r=d.x,e=d.y,d=y(s,l,-c),s=d.x,l=d.y,r===s&&e===l&&(s+=1,l+=1);var x=(r-s)/2,b=(e-l)/2,_=x*x/(t*t)+b*b/(i*i);_>1&&(_=Math.sqrt(_),t=_*t,i=_*i);var M=t*t,A=i*i,I=(a===o?-1:1)*Math.sqrt(Math.abs((M*A-M*b*b-A*x*x)/(M*b*b+A*x*x)));g=I*t*b/i+(r+s)/2,m=I*-i*x/t+(e+l)/2,v=Math.asin(((e-m)/i).toFixed(9)),p=Math.asin(((l-m)/i).toFixed(9)),v=r<g?Math.PI-v:v,p=s<g?Math.PI-p:p,v<0&&(v=Math.PI*2+v),p<0&&(p=Math.PI*2+p),o&&v>p&&(v=v-Math.PI*2),!o&&p>v&&(p=p-Math.PI*2)}var k=p-v;if(Math.abs(k)>f){var E=p,O=s,P=l;p=v+f*(o&&p>v?1:-1),s=g+t*Math.cos(p),l=m+i*Math.sin(p),h=Vdt(s,l,t,i,n,0,o,O,P,[p,E,g,m])}k=p-v;var N=Math.cos(v),R=Math.sin(v),z=Math.cos(p),B=Math.sin(p),Y=Math.tan(k/4),q=4/3*t*Y,j=4/3*i*Y,Z=[r,e],tt=[r+q*R,e-j*N],lt=[s+q*B,l-j*z],J=[s,l];if(tt[0]=2*Z[0]-tt[0],tt[1]=2*Z[1]-tt[1],u)return[tt,lt,J].concat(h);h=[tt,lt,J].concat(h).join().split(",");for(var nt=[],ut=0,ft=h.length;ut<ft;ut++)nt[ut]=ut%2?y(h[ut-1],h[ut],c).y:y(h[ut],h[ut+1],c).x;return nt},iH=function(r,e){var t=rH(r),i=e&&rH(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",u="",f,c=function(x,b,_){var M,A;if(!x)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(x[0]in{T:1,Q:1})&&(b.qx=b.qy=null),x[0]){case"M":b.X=x[1],b.Y=x[2];break;case"A":x=["C"].concat(Vdt.apply(0,[b.x,b.y].concat(x.slice(1))));break;case"S":_==="C"||_==="S"?(M=b.x*2-b.bx,A=b.y*2-b.by):(M=b.x,A=b.y),x=["C",M,A].concat(x.slice(1));break;case"T":_==="Q"||_==="T"?(b.qx=b.x*2-b.qx,b.qy=b.y*2-b.qy):(b.qx=b.x,b.qy=b.y),x=["C"].concat(Wdt(b.x,b.y,b.qx,b.qy,x[1],x[2]));break;case"Q":b.qx=x[1],b.qy=x[2],x=["C"].concat(Wdt(b.x,b.y,x[1],x[2],x[3],x[4]));break;case"L":x=["C"].concat(uR(b.x,b.y,x[1],x[2]));break;case"H":x=["C"].concat(uR(b.x,b.y,x[1],b.y));break;case"V":x=["C"].concat(uR(b.x,b.y,b.x,x[1]));break;case"Z":x=["C"].concat(uR(b.x,b.y,b.X,b.Y));break;default:break}return x},h=function(x,b){if(x[b].length>7){x[b].shift();for(var _=x[b];_.length;)o[b]="A",i&&(s[b]="A"),x.splice(b++,0,["C"].concat(_.splice(0,6)));x.splice(b,1),f=Math.max(t.length,i&&i.length||0)}},d=function(x,b,_,M,A){x&&b&&x[A][0]==="M"&&b[A][0]!=="M"&&(b.splice(A,0,["M",M.x,M.y]),_.bx=0,_.by=0,_.x=x[A][1],_.y=x[A][2],f=Math.max(t.length,i&&i.length||0))};f=Math.max(t.length,i&&i.length||0);for(var v=0;v<f;v++){t[v]&&(l=t[v][0]),l!=="C"&&(o[v]=l,v&&(u=o[v-1])),t[v]=c(t[v],n,u),o[v]!=="A"&&l==="C"&&(o[v]="C"),h(t,v),i&&(i[v]&&(l=i[v][0]),l!=="C"&&(s[v]=l,v&&(u=s[v-1])),i[v]=c(i[v],a,u),s[v]!=="A"&&l==="C"&&(s[v]="C"),h(i,v)),d(t,i,n,a,v),d(i,t,a,n,v);var p=t[v],g=i&&i[v],m=p.length,y=i&&g.length;n.x=p[m-2],n.y=p[m-1],n.bx=parseFloat(p[m-4])||n.x,n.by=parseFloat(p[m-3])||n.y,a.bx=i&&(parseFloat(g[y-4])||a.x),a.by=i&&(parseFloat(g[y-3])||a.y),a.x=i&&g[y-2],a.y=i&&g[y-1]}return i?[t,i]:t},I$t=/,?([a-z]),?/gi,qdt=function(r){return r.join(",").replace(I$t,"$1")},Hdt=function(r,e,t,i,n){var a=-3*e+9*t-9*i+3*n,o=r*a+6*e-12*t+6*i;return r*o-3*e+3*t},Udt=function(r,e,t,i,n,a,o,s,l){l===null&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,f=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,v=0;v<f;v++){var p=u*c[v]+u,g=Hdt(p,r,t,n,o),m=Hdt(p,e,i,a,s),y=g*g+m*m;d+=h[v]*Math.sqrt(y)}return u*d},L$t=function(r,e,t,i,n,a,o,s){for(var l=[],u=[[],[]],f,c,h,d,v=0;v<2;++v){if(v===0?(c=6*r-12*t+6*n,f=-3*r+9*t-9*n+3*o,h=3*t-3*r):(c=6*e-12*i+6*a,f=-3*e+9*i-9*a+3*s,h=3*i-3*e),Math.abs(f)<1e-12){if(Math.abs(c)<1e-12)continue;d=-h/c,d>0&&d<1&&l.push(d);continue}var p=c*c-4*h*f,g=Math.sqrt(p);if(!(p<0)){var m=(-c+g)/(2*f);m>0&&m<1&&l.push(m);var y=(-c-g)/(2*f);y>0&&y<1&&l.push(y)}}for(var x=l.length,b=x,_;x--;)d=l[x],_=1-d,u[0][x]=_*_*_*r+3*_*_*d*t+3*_*d*d*n+d*d*d*o,u[1][x]=_*_*_*e+3*_*_*d*i+3*_*d*d*a+d*d*d*s;return u[0][b]=r,u[1][b]=e,u[0][b+1]=o,u[1][b+1]=s,u[0].length=u[1].length=b+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},O$t=function(r,e,t,i,n,a,o,s){if(!(Math.max(r,t)<Math.min(n,o)||Math.min(r,t)>Math.max(n,o)||Math.max(e,i)<Math.min(a,s)||Math.min(e,i)>Math.max(a,s))){var l=(r*i-e*t)*(n-o)-(r-t)*(n*s-a*o),u=(r*i-e*t)*(a-s)-(e-i)*(n*s-a*o),f=(r-t)*(a-s)-(e-i)*(n-o);if(!!f){var c=l/f,h=u/f,d=+c.toFixed(2),v=+h.toFixed(2);if(!(d<+Math.min(r,t).toFixed(2)||d>+Math.max(r,t).toFixed(2)||d<+Math.min(n,o).toFixed(2)||d>+Math.max(n,o).toFixed(2)||v<+Math.min(e,i).toFixed(2)||v>+Math.max(e,i).toFixed(2)||v<+Math.min(a,s).toFixed(2)||v>+Math.max(a,s).toFixed(2)))return{x:c,y:h}}}},F1=function(r,e,t){return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},Xdt=function(r,e,t,i,n){if(n)return[["M",+r+ +n,e],["l",t-n*2,0],["a",n,n,0,0,1,n,n],["l",0,i-n*2],["a",n,n,0,0,1,-n,n],["l",n*2-t,0],["a",n,n,0,0,1,-n,-n],["l",0,n*2-i],["a",n,n,0,0,1,n,-n],["z"]];var a=[["M",r,e],["l",t,0],["l",0,i],["l",-t,0],["z"]];return a.parsePathArray=qdt,a},nH=function(r,e,t,i){return r===null&&(r=e=t=i=0),e===null&&(e=r.y,t=r.width,i=r.height,r=r.x),{x:r,y:e,width:t,w:t,height:i,h:i,x2:r+t,y2:e+i,cx:r+t/2,cy:e+i/2,r1:Math.min(t,i)/2,r2:Math.max(t,i)/2,r0:Math.sqrt(t*t+i*i)/2,path:Xdt(r,e,t,i),vb:[r,e,t,i].join(" ")}},k$t=function(r,e){return r=nH(r),e=nH(e),F1(e,r.x,r.y)||F1(e,r.x2,r.y)||F1(e,r.x,r.y2)||F1(e,r.x2,r.y2)||F1(r,e.x,e.y)||F1(r,e.x2,e.y)||F1(r,e.x,e.y2)||F1(r,e.x2,e.y2)||(r.x<e.x2&&r.x>e.x||e.x<r.x2&&e.x>r.x)&&(r.y<e.y2&&r.y>e.y||e.y<r.y2&&e.y>r.y)},Zdt=function(r,e,t,i,n,a,o,s){$t(r)||(r=[r,e,t,i,n,a,o,s]);var l=L$t.apply(null,r);return nH(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},Kdt=function(r,e,t,i,n,a,o,s,l){var u=1-l,f=Math.pow(u,3),c=Math.pow(u,2),h=l*l,d=h*l,v=f*r+c*3*l*t+u*3*l*l*n+d*o,p=f*e+c*3*l*i+u*3*l*l*a+d*s,g=r+2*l*(t-r)+h*(n-2*t+r),m=e+2*l*(i-e)+h*(a-2*i+e),y=t+2*l*(n-t)+h*(o-2*n+t),x=i+2*l*(a-i)+h*(s-2*a+i),b=u*r+l*t,_=u*e+l*i,M=u*n+l*o,A=u*a+l*s,I=90-Math.atan2(g-y,m-x)*180/Math.PI;return{x:v,y:p,m:{x:g,y:m},n:{x:y,y:x},start:{x:b,y:_},end:{x:M,y:A},alpha:I}},P$t=function(r,e,t){var i=Zdt(r),n=Zdt(e);if(!k$t(i,n))return t?0:[];for(var a=Udt.apply(0,r),o=Udt.apply(0,e),s=~~(a/8),l=~~(o/8),u=[],f=[],c={},h=t?0:[],d=0;d<s+1;d++){var v=Kdt.apply(0,r.concat(d/s));u.push({x:v.x,y:v.y,t:d/s})}for(var d=0;d<l+1;d++){var v=Kdt.apply(0,e.concat(d/l));f.push({x:v.x,y:v.y,t:d/l})}for(var d=0;d<s;d++)for(var p=0;p<l;p++){var g=u[d],m=u[d+1],y=f[p],x=f[p+1],b=Math.abs(m.x-g.x)<.001?"y":"x",_=Math.abs(x.x-y.x)<.001?"y":"x",M=O$t(g.x,g.y,m.x,m.y,y.x,y.y,x.x,x.y);if(M){if(c[M.x.toFixed(4)]===M.y.toFixed(4))continue;c[M.x.toFixed(4)]=M.y.toFixed(4);var A=g.t+Math.abs((M[b]-g[b])/(m[b]-g[b]))*(m.t-g.t),I=y.t+Math.abs((M[_]-y[_])/(x[_]-y[_]))*(x.t-y.t);A>=0&&A<=1&&I>=0&&I<=1&&(t?h+=1:h.push({x:M.x,y:M.y,t1:A,t2:I}))}}return h},D$t=function(r,e,t){r=iH(r),e=iH(e);for(var i,n,a,o,s,l,u,f,c,h,d=t?0:[],v=0,p=r.length;v<p;v++){var g=r[v];if(g[0]==="M")i=s=g[1],n=l=g[2];else{g[0]==="C"?(c=[i,n].concat(g.slice(1)),i=c[6],n=c[7]):(c=[i,n,i,n,s,l,s,l],i=s,n=l);for(var m=0,y=e.length;m<y;m++){var x=e[m];if(x[0]==="M")a=u=x[1],o=f=x[2];else{x[0]==="C"?(h=[a,o].concat(x.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,u,f,u,f],a=u,o=f);var b=P$t(c,h,t);if(t)d+=b;else{for(var _=0,M=b.length;_<M;_++)b[_].segment1=v,b[_].segment2=m,b[_].bez1=c,b[_].bez2=h;d=d.concat(b)}}}}}return d},F$t=function(r,e){return D$t(r,e)};function N$t(r,e){var t=[],i=[];function n(a,o){if(a.length===1)t.push(a[0]),i.push(a[0]);else{for(var s=[],l=0;l<a.length-1;l++)l===0&&t.push(a[0]),l===a.length-2&&i.push(a[l+1]),s[l]=[(1-o)*a[l][0]+o*a[l+1][0],(1-o)*a[l][1]+o*a[l+1][1]];n(s,o)}}return r.length&&n(r,e),{left:t,right:i.reverse()}}function B$t(r,e,t){var i=[[r[1],r[2]]];t=t||2;var n=[];e[0]==="A"?(i.push(e[6]),i.push(e[7])):e[0]==="C"?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var a=i,o=1/t,s=0;s<t-1;s++){var l=o/(1-o*s),u=N$t(a,l);n.push(u.left),a=u.right}n.push(a);var f=n.map(function(c){var h=[];return c.length===4&&(h.push("C"),h=h.concat(c[2])),c.length>=3&&(c.length===3&&h.push("Q"),h=h.concat(c[1])),c.length===2&&h.push("L"),h=h.concat(c[c.length-1]),h});return f}var R$t=function(r,e,t){if(t===1)return[[].concat(r)];var i=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")i=i.concat(B$t(r,e,t));else{var n=[].concat(r);n[0]==="M"&&(n[0]="L");for(var a=0;a<=t-1;a++)i.push(n)}return i},G$t=function(r,e){if(r.length===1)return r;var t=r.length-1,i=e.length-1,n=t/i,a=[];if(r.length===1&&r[0][0]==="M"){for(var o=0;o<i-t;o++)r.push(r[0]);return r}for(var o=0;o<i;o++){var s=Math.floor(n*o);a[s]=(a[s]||0)+1}var l=a.reduce(function(u,f,c){return c===t?u.concat(r[t]):u.concat(R$t(r[c],r[c+1],f))},[]);return l.unshift(r[0]),(e[i]==="Z"||e[i]==="z")&&l.push("Z"),l},z$t=function(r,e){if(r.length!==e.length)return!1;var t=!0;return at(r,function(i,n){if(i!==e[n])return t=!1,!1}),t};function j$t(r,e,t){var i=null,n=t;return e<n&&(n=e,i="add"),r<n&&(n=r,i="del"),{type:i,min:n}}var Y$t=function(r,e){var t=r.length,i=e.length,n,a,o=0;if(t===0||i===0)return null;for(var s=[],l=0;l<=t;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=i;u++)s[0][u]={min:u};for(var l=1;l<=t;l++){n=r[l-1];for(var u=1;u<=i;u++){a=e[u-1],z$t(n,a)?o=0:o=1;var f=s[l-1][u].min+1,c=s[l][u-1].min+1,h=s[l-1][u-1].min+o;s[l][u]=j$t(f,c,h)}}return s},aH=function(r,e){var t=Y$t(r,e),i=r.length,n=e.length,a=[],o=1,s=1;if(t[i][n].min!==i){for(var l=1;l<=i;l++){var u=t[l][l].min;s=l;for(var f=o;f<=n;f++)t[l][f].min<u&&(u=t[l][f].min,s=f);o=s,t[l][o].type&&a.push({index:l-1,type:t[l][o].type})}for(var l=a.length-1;l>=0;l--)o=a[l].index,a[l].type==="add"?r.splice(o,0,[].concat(r[o])):r.splice(o,1)}i=r.length;var c=n-i;if(i<n)for(var l=0;l<c;l++)r[i-1][0]==="z"||r[i-1][0]==="Z"?r.splice(i-2,0,r[i-2]):r.push(r[i-1]),i+=1;return r};function oH(r,e,t){for(var i=[].concat(r),n,a=1/(t+1),o=Qdt(e)[0],s=1;s<=t;s++)a*=s,n=Math.floor(r.length*a),n===0?i.unshift([o[0]*a+r[n][0]*(1-a),o[1]*a+r[n][1]*(1-a)]):i.splice(n,0,[o[0]*a+r[n][0]*(1-a),o[1]*a+r[n][1]*(1-a)]);return i}function Qdt(r){var e=[];switch(r[0]){case"M":e.push([r[1],r[2]]);break;case"L":e.push([r[1],r[2]]);break;case"A":e.push([r[6],r[7]]);break;case"Q":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"T":e.push([r[1],r[2]]);break;case"C":e.push([r[5],r[6]]),e.push([r[1],r[2]]),e.push([r[3],r[4]]);break;case"S":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"H":e.push([r[1],r[1]]);break;case"V":e.push([r[1],r[1]]);break;default:}return e}var fR=function(r,e){if(r.length<=1)return r;for(var t,i=0;i<e.length;i++)if(r[i][0]!==e[i][0])switch(t=Qdt(r[i]),e[i][0]){case"M":r[i]=["M"].concat(t[0]);break;case"L":r[i]=["L"].concat(t[0]);break;case"A":r[i]=[].concat(e[i]),r[i][6]=t[0][0],r[i][7]=t[0][1];break;case"Q":if(t.length<2)if(i>0)t=oH(t,r[i-1],1);else{r[i]=e[i];break}r[i]=["Q"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"T":r[i]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(i>0)t=oH(t,r[i-1],2);else{r[i]=e[i];break}r[i]=["C"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"S":if(t.length<2)if(i>0)t=oH(t,r[i-1],1);else{r[i]=e[i];break}r[i]=["S"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;default:r[i]=e[i]}return r};var W$t=function(){function r(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r}(),Kp=W$t;function cR(r,e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}var sH=typeof window!="undefined"&&typeof window.document!="undefined";function hR(r,e){if(r.isCanvas())return!0;for(var t=e.getParent(),i=!1;t;){if(t===r){i=!0;break}t=t.getParent()}return i}function N1(r){return r.cfg.visible&&r.cfg.capture}var V$t=function(r){G(e,r);function e(t){var i=r.call(this)||this;i.destroyed=!1;var n=i.getDefaultCfg();return i.cfg=Vi(n,t),i}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,i){this.cfg[t]=i},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(sR),SS=V$t;var $dt=function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))},q$t=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();var H$t=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}();var U$t=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();var X$t=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();var Z$t=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();var K$t=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Q$t=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Jdt=3,$$t=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",K$t]],tvt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function dR(r){return r?evt(r):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new Z$t:typeof navigator!="undefined"?evt(navigator.userAgent):eJt()}function J$t(r){return r!==""&&$$t.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var a=n.exec(r);return!!a&&[i,a]},!1)}function evt(r){var e=J$t(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new X$t;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<Jdt&&(n=$dt($dt([],n,!0),rJt(Jdt-n.length),!0)):n=[];var a=n.join("."),o=tJt(r),s=Q$t.exec(r);return s&&s[1]?new U$t(t,a,o,s[1]):new q$t(t,a,o)}function tJt(r){for(var e=0,t=tvt.length;e<t;e++){var i=tvt[e],n=i[0],a=i[1],o=a.exec(r);if(o)return n}return null}function eJt(){var r=typeof process!="undefined"&&process.version;return r?new H$t(process.version.slice(1)):null}function rJt(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var kl=1e-6,Zu=typeof Float32Array!="undefined"?Float32Array:Array,VO=Math.random;function CS(r){return r>=0?Math.round(r):r%.5==0?Math.floor(r):Math.round(r)}var Svr=Math.PI/180,Cvr=180/Math.PI;var Rf={};ai(Rf,{add:()=>AJt,adjoint:()=>hJt,clone:()=>aJt,copy:()=>oJt,create:()=>iJt,determinant:()=>dJt,equals:()=>LJt,exactEquals:()=>IJt,frob:()=>MJt,fromMat2d:()=>bJt,fromMat4:()=>nJt,fromQuat:()=>wJt,fromRotation:()=>yJt,fromScaling:()=>xJt,fromTranslation:()=>mJt,fromValues:()=>sJt,identity:()=>uJt,invert:()=>cJt,mul:()=>OJt,multiply:()=>rvt,multiplyScalar:()=>EJt,multiplyScalarAndAdd:()=>TJt,normalFromMat4:()=>_Jt,projection:()=>SJt,rotate:()=>pJt,scale:()=>gJt,set:()=>lJt,str:()=>CJt,sub:()=>kJt,subtract:()=>ivt,translate:()=>vJt,transpose:()=>fJt});function iJt(){var r=new Zu(9);return Zu!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function nJt(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[4],r[4]=e[5],r[5]=e[6],r[6]=e[8],r[7]=e[9],r[8]=e[10],r}function aJt(r){var e=new Zu(9);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e}function oJt(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function sJt(r,e,t,i,n,a,o,s,l){var u=new Zu(9);return u[0]=r,u[1]=e,u[2]=t,u[3]=i,u[4]=n,u[5]=a,u[6]=o,u[7]=s,u[8]=l,u}function lJt(r,e,t,i,n,a,o,s,l,u){return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r[4]=a,r[5]=o,r[6]=s,r[7]=l,r[8]=u,r}function uJt(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function fJt(r,e){if(r===e){var t=e[1],i=e[2],n=e[5];r[1]=e[3],r[2]=e[6],r[3]=t,r[5]=e[7],r[6]=i,r[7]=n}else r[0]=e[0],r[1]=e[3],r[2]=e[6],r[3]=e[1],r[4]=e[4],r[5]=e[7],r[6]=e[2],r[7]=e[5],r[8]=e[8];return r}function cJt(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=f*o-s*u,h=-f*a+s*l,d=u*a-o*l,v=t*c+i*h+n*d;return v?(v=1/v,r[0]=c*v,r[1]=(-f*i+n*u)*v,r[2]=(s*i-n*o)*v,r[3]=h*v,r[4]=(f*t-n*l)*v,r[5]=(-s*t+n*a)*v,r[6]=d*v,r[7]=(-u*t+i*l)*v,r[8]=(o*t-i*a)*v,r):null}function hJt(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8];return r[0]=o*f-s*u,r[1]=n*u-i*f,r[2]=i*s-n*o,r[3]=s*l-a*f,r[4]=t*f-n*l,r[5]=n*a-t*s,r[6]=a*u-o*l,r[7]=i*l-t*u,r[8]=t*o-i*a,r}function dJt(r){var e=r[0],t=r[1],i=r[2],n=r[3],a=r[4],o=r[5],s=r[6],l=r[7],u=r[8];return e*(u*a-o*l)+t*(-u*n+o*s)+i*(l*n-a*s)}function rvt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=t[0],d=t[1],v=t[2],p=t[3],g=t[4],m=t[5],y=t[6],x=t[7],b=t[8];return r[0]=h*i+d*o+v*u,r[1]=h*n+d*s+v*f,r[2]=h*a+d*l+v*c,r[3]=p*i+g*o+m*u,r[4]=p*n+g*s+m*f,r[5]=p*a+g*l+m*c,r[6]=y*i+x*o+b*u,r[7]=y*n+x*s+b*f,r[8]=y*a+x*l+b*c,r}function vJt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=t[0],d=t[1];return r[0]=i,r[1]=n,r[2]=a,r[3]=o,r[4]=s,r[5]=l,r[6]=h*i+d*o+u,r[7]=h*n+d*s+f,r[8]=h*a+d*l+c,r}function pJt(r,e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4],l=e[5],u=e[6],f=e[7],c=e[8],h=Math.sin(t),d=Math.cos(t);return r[0]=d*i+h*o,r[1]=d*n+h*s,r[2]=d*a+h*l,r[3]=d*o-h*i,r[4]=d*s-h*n,r[5]=d*l-h*a,r[6]=u,r[7]=f,r[8]=c,r}function gJt(r,e,t){var i=t[0],n=t[1];return r[0]=i*e[0],r[1]=i*e[1],r[2]=i*e[2],r[3]=n*e[3],r[4]=n*e[4],r[5]=n*e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function mJt(r,e){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=e[0],r[7]=e[1],r[8]=1,r}function yJt(r,e){var t=Math.sin(e),i=Math.cos(e);return r[0]=i,r[1]=t,r[2]=0,r[3]=-t,r[4]=i,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function xJt(r,e){return r[0]=e[0],r[1]=0,r[2]=0,r[3]=0,r[4]=e[1],r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function bJt(r,e){return r[0]=e[0],r[1]=e[1],r[2]=0,r[3]=e[2],r[4]=e[3],r[5]=0,r[6]=e[4],r[7]=e[5],r[8]=1,r}function wJt(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=t+t,s=i+i,l=n+n,u=t*o,f=i*o,c=i*s,h=n*o,d=n*s,v=n*l,p=a*o,g=a*s,m=a*l;return r[0]=1-c-v,r[3]=f-m,r[6]=h+g,r[1]=f+m,r[4]=1-u-v,r[7]=d-p,r[2]=h-g,r[5]=d+p,r[8]=1-u-c,r}function _Jt(r,e){var t=e[0],i=e[1],n=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],f=e[8],c=e[9],h=e[10],d=e[11],v=e[12],p=e[13],g=e[14],m=e[15],y=t*s-i*o,x=t*l-n*o,b=t*u-a*o,_=i*l-n*s,M=i*u-a*s,A=n*u-a*l,I=f*p-c*v,k=f*g-h*v,E=f*m-d*v,O=c*g-h*p,P=c*m-d*p,N=h*m-d*g,R=y*N-x*P+b*O+_*E-M*k+A*I;return R?(R=1/R,r[0]=(s*N-l*P+u*O)*R,r[1]=(l*E-o*N-u*k)*R,r[2]=(o*P-s*E+u*I)*R,r[3]=(n*P-i*N-a*O)*R,r[4]=(t*N-n*E+a*k)*R,r[5]=(i*E-t*P-a*I)*R,r[6]=(p*A-g*M+m*_)*R,r[7]=(g*b-v*A-m*x)*R,r[8]=(v*M-p*b+m*y)*R,r):null}function SJt(r,e,t){return r[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}function CJt(r){return"mat3("+r[0]+", "+r[1]+", "+r[2]+", "+r[3]+", "+r[4]+", "+r[5]+", "+r[6]+", "+r[7]+", "+r[8]+")"}function MJt(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]+r[3]*r[3]+r[4]*r[4]+r[5]*r[5]+r[6]*r[6]+r[7]*r[7]+r[8]*r[8])}function AJt(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r[4]=e[4]+t[4],r[5]=e[5]+t[5],r[6]=e[6]+t[6],r[7]=e[7]+t[7],r[8]=e[8]+t[8],r}function ivt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r[4]=e[4]-t[4],r[5]=e[5]-t[5],r[6]=e[6]-t[6],r[7]=e[7]-t[7],r[8]=e[8]-t[8],r}function EJt(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*t,r[5]=e[5]*t,r[6]=e[6]*t,r[7]=e[7]*t,r[8]=e[8]*t,r}function TJt(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r[3]=e[3]+t[3]*i,r[4]=e[4]+t[4]*i,r[5]=e[5]+t[5]*i,r[6]=e[6]+t[6]*i,r[7]=e[7]+t[7]*i,r[8]=e[8]+t[8]*i,r}function IJt(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]&&r[3]===e[3]&&r[4]===e[4]&&r[5]===e[5]&&r[6]===e[6]&&r[7]===e[7]&&r[8]===e[8]}function LJt(r,e){var t=r[0],i=r[1],n=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],f=r[8],c=e[0],h=e[1],d=e[2],v=e[3],p=e[4],g=e[5],m=e[6],y=e[7],x=e[8];return Math.abs(t-c)<=kl*Math.max(1,Math.abs(t),Math.abs(c))&&Math.abs(i-h)<=kl*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(n-d)<=kl*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(a-v)<=kl*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(o-p)<=kl*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(s-g)<=kl*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(l-m)<=kl*Math.max(1,Math.abs(l),Math.abs(m))&&Math.abs(u-y)<=kl*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(f-x)<=kl*Math.max(1,Math.abs(f),Math.abs(x))}var OJt=rvt,kJt=ivt;var Av={};ai(Av,{add:()=>BJt,angle:()=>ate,bezier:()=>$Jt,ceil:()=>RJt,clone:()=>PJt,copy:()=>FJt,create:()=>nvt,cross:()=>XJt,dist:()=>dte,distance:()=>uvt,div:()=>hte,divide:()=>lvt,dot:()=>lH,equals:()=>ute,exactEquals:()=>lte,floor:()=>GJt,forEach:()=>mte,fromValues:()=>DJt,hermite:()=>QJt,inverse:()=>HJt,len:()=>pte,length:()=>avt,lerp:()=>ZJt,max:()=>jJt,min:()=>zJt,mul:()=>cte,multiply:()=>svt,negate:()=>qJt,normalize:()=>UJt,random:()=>JJt,rotateX:()=>rte,rotateY:()=>ite,rotateZ:()=>nte,round:()=>YJt,scale:()=>WJt,scaleAndAdd:()=>VJt,set:()=>NJt,slerp:()=>KJt,sqrDist:()=>vte,sqrLen:()=>gte,squaredDistance:()=>fvt,squaredLength:()=>cvt,str:()=>ste,sub:()=>fte,subtract:()=>ovt,transformMat3:()=>uH,transformMat4:()=>tte,transformQuat:()=>ete,zero:()=>ote});function nvt(){var r=new Zu(3);return Zu!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function PJt(r){var e=new Zu(3);return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function avt(r){var e=r[0],t=r[1],i=r[2];return Math.sqrt(e*e+t*t+i*i)}function DJt(r,e,t){var i=new Zu(3);return i[0]=r,i[1]=e,i[2]=t,i}function FJt(r,e){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}function NJt(r,e,t,i){return r[0]=e,r[1]=t,r[2]=i,r}function BJt(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r}function ovt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r}function svt(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r[2]=e[2]*t[2],r}function lvt(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r[2]=e[2]/t[2],r}function RJt(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r[2]=Math.ceil(e[2]),r}function GJt(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r[2]=Math.floor(e[2]),r}function zJt(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.min(e[2],t[2]),r}function jJt(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r}function YJt(r,e){return r[0]=CS(e[0]),r[1]=CS(e[1]),r[2]=CS(e[2]),r}function WJt(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r}function VJt(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r[2]=e[2]+t[2]*i,r}function uvt(r,e){var t=e[0]-r[0],i=e[1]-r[1],n=e[2]-r[2];return Math.sqrt(t*t+i*i+n*n)}function fvt(r,e){var t=e[0]-r[0],i=e[1]-r[1],n=e[2]-r[2];return t*t+i*i+n*n}function cvt(r){var e=r[0],t=r[1],i=r[2];return e*e+t*t+i*i}function qJt(r,e){return r[0]=-e[0],r[1]=-e[1],r[2]=-e[2],r}function HJt(r,e){return r[0]=1/e[0],r[1]=1/e[1],r[2]=1/e[2],r}function UJt(r,e){var t=e[0],i=e[1],n=e[2],a=t*t+i*i+n*n;return a>0&&(a=1/Math.sqrt(a)),r[0]=e[0]*a,r[1]=e[1]*a,r[2]=e[2]*a,r}function lH(r,e){return r[0]*e[0]+r[1]*e[1]+r[2]*e[2]}function XJt(r,e,t){var i=e[0],n=e[1],a=e[2],o=t[0],s=t[1],l=t[2];return r[0]=n*l-a*s,r[1]=a*o-i*l,r[2]=i*s-n*o,r}function ZJt(r,e,t,i){var n=e[0],a=e[1],o=e[2];return r[0]=n+i*(t[0]-n),r[1]=a+i*(t[1]-a),r[2]=o+i*(t[2]-o),r}function KJt(r,e,t,i){var n=Math.acos(Math.min(Math.max(lH(e,t),-1),1)),a=Math.sin(n),o=Math.sin((1-i)*n)/a,s=Math.sin(i*n)/a;return r[0]=o*e[0]+s*t[0],r[1]=o*e[1]+s*t[1],r[2]=o*e[2]+s*t[2],r}function QJt(r,e,t,i,n,a){var o=a*a,s=o*(2*a-3)+1,l=o*(a-2)+a,u=o*(a-1),f=o*(3-2*a);return r[0]=e[0]*s+t[0]*l+i[0]*u+n[0]*f,r[1]=e[1]*s+t[1]*l+i[1]*u+n[1]*f,r[2]=e[2]*s+t[2]*l+i[2]*u+n[2]*f,r}function $Jt(r,e,t,i,n,a){var o=1-a,s=o*o,l=a*a,u=s*o,f=3*a*s,c=3*l*o,h=l*a;return r[0]=e[0]*u+t[0]*f+i[0]*c+n[0]*h,r[1]=e[1]*u+t[1]*f+i[1]*c+n[1]*h,r[2]=e[2]*u+t[2]*f+i[2]*c+n[2]*h,r}function JJt(r,e){e=e===void 0?1:e;var t=VO()*2*Math.PI,i=VO()*2-1,n=Math.sqrt(1-i*i)*e;return r[0]=Math.cos(t)*n,r[1]=Math.sin(t)*n,r[2]=i*e,r}function tte(r,e,t){var i=e[0],n=e[1],a=e[2],o=t[3]*i+t[7]*n+t[11]*a+t[15];return o=o||1,r[0]=(t[0]*i+t[4]*n+t[8]*a+t[12])/o,r[1]=(t[1]*i+t[5]*n+t[9]*a+t[13])/o,r[2]=(t[2]*i+t[6]*n+t[10]*a+t[14])/o,r}function uH(r,e,t){var i=e[0],n=e[1],a=e[2];return r[0]=i*t[0]+n*t[3]+a*t[6],r[1]=i*t[1]+n*t[4]+a*t[7],r[2]=i*t[2]+n*t[5]+a*t[8],r}function ete(r,e,t){var i=t[0],n=t[1],a=t[2],o=t[3],s=e[0],l=e[1],u=e[2],f=n*u-a*l,c=a*s-i*u,h=i*l-n*s;return f=f+f,c=c+c,h=h+h,r[0]=s+o*f+n*h-a*c,r[1]=l+o*c+a*f-i*h,r[2]=u+o*h+i*c-n*f,r}function rte(r,e,t,i){var n=[],a=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],a[0]=n[0],a[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),a[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),r[0]=a[0]+t[0],r[1]=a[1]+t[1],r[2]=a[2]+t[2],r}function ite(r,e,t,i){var n=[],a=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],a[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),a[1]=n[1],a[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),r[0]=a[0]+t[0],r[1]=a[1]+t[1],r[2]=a[2]+t[2],r}function nte(r,e,t,i){var n=[],a=[];return n[0]=e[0]-t[0],n[1]=e[1]-t[1],n[2]=e[2]-t[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],r[0]=a[0]+t[0],r[1]=a[1]+t[1],r[2]=a[2]+t[2],r}function ate(r,e){var t=r[0],i=r[1],n=r[2],a=e[0],o=e[1],s=e[2],l=Math.sqrt((t*t+i*i+n*n)*(a*a+o*o+s*s)),u=l&&lH(r,e)/l;return Math.acos(Math.min(Math.max(u,-1),1))}function ote(r){return r[0]=0,r[1]=0,r[2]=0,r}function ste(r){return"vec3("+r[0]+", "+r[1]+", "+r[2]+")"}function lte(r,e){return r[0]===e[0]&&r[1]===e[1]&&r[2]===e[2]}function ute(r,e){var t=r[0],i=r[1],n=r[2],a=e[0],o=e[1],s=e[2];return Math.abs(t-a)<=kl*Math.max(1,Math.abs(t),Math.abs(a))&&Math.abs(i-o)<=kl*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(n-s)<=kl*Math.max(1,Math.abs(n),Math.abs(s))}var fte=ovt,cte=svt,hte=lvt,dte=uvt,vte=fvt,pte=avt,gte=cvt,mte=function(){var r=nvt();return function(e,t,i,n,a,o){var s,l;for(t||(t=3),i||(i=0),n?l=Math.min(n*t+i,e.length):l=e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],r[2]=e[s+2],a(r,r,o),e[s]=r[0],e[s+1]=r[1],e[s+2]=r[2];return e}}();var mr={};ai(mr,{add:()=>_te,angle:()=>zte,ceil:()=>Ste,clone:()=>yte,copy:()=>bte,create:()=>hvt,cross:()=>kte,dist:()=>Zte,distance:()=>gvt,div:()=>Xte,divide:()=>pvt,dot:()=>cH,equals:()=>Vte,exactEquals:()=>hH,floor:()=>Cte,forEach:()=>$te,fromValues:()=>xte,inverse:()=>Ote,len:()=>qte,length:()=>yvt,lerp:()=>Pte,max:()=>Ate,min:()=>Mte,mul:()=>Ute,multiply:()=>vvt,negate:()=>Lte,normalize:()=>fH,random:()=>Dte,rotate:()=>Gte,round:()=>Ete,scale:()=>Tte,scaleAndAdd:()=>Ite,set:()=>wte,signedAngle:()=>jte,sqrDist:()=>Kte,sqrLen:()=>Qte,squaredDistance:()=>mvt,squaredLength:()=>xvt,str:()=>Wte,sub:()=>Hte,subtract:()=>dvt,transformMat2:()=>Fte,transformMat2d:()=>Nte,transformMat3:()=>Bte,transformMat4:()=>Rte,zero:()=>Yte});function hvt(){var r=new Zu(2);return Zu!=Float32Array&&(r[0]=0,r[1]=0),r}function yte(r){var e=new Zu(2);return e[0]=r[0],e[1]=r[1],e}function xte(r,e){var t=new Zu(2);return t[0]=r,t[1]=e,t}function bte(r,e){return r[0]=e[0],r[1]=e[1],r}function wte(r,e,t){return r[0]=e,r[1]=t,r}function _te(r,e,t){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function dvt(r,e,t){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function vvt(r,e,t){return r[0]=e[0]*t[0],r[1]=e[1]*t[1],r}function pvt(r,e,t){return r[0]=e[0]/t[0],r[1]=e[1]/t[1],r}function Ste(r,e){return r[0]=Math.ceil(e[0]),r[1]=Math.ceil(e[1]),r}function Cte(r,e){return r[0]=Math.floor(e[0]),r[1]=Math.floor(e[1]),r}function Mte(r,e,t){return r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r}function Ate(r,e,t){return r[0]=Math.max(e[0],t[0]),r[1]=Math.max(e[1],t[1]),r}function Ete(r,e){return r[0]=CS(e[0]),r[1]=CS(e[1]),r}function Tte(r,e,t){return r[0]=e[0]*t,r[1]=e[1]*t,r}function Ite(r,e,t,i){return r[0]=e[0]+t[0]*i,r[1]=e[1]+t[1]*i,r}function gvt(r,e){var t=e[0]-r[0],i=e[1]-r[1];return Math.sqrt(t*t+i*i)}function mvt(r,e){var t=e[0]-r[0],i=e[1]-r[1];return t*t+i*i}function yvt(r){var e=r[0],t=r[1];return Math.sqrt(e*e+t*t)}function xvt(r){var e=r[0],t=r[1];return e*e+t*t}function Lte(r,e){return r[0]=-e[0],r[1]=-e[1],r}function Ote(r,e){return r[0]=1/e[0],r[1]=1/e[1],r}function fH(r,e){var t=e[0],i=e[1],n=t*t+i*i;return n>0&&(n=1/Math.sqrt(n)),r[0]=e[0]*n,r[1]=e[1]*n,r}function cH(r,e){return r[0]*e[0]+r[1]*e[1]}function kte(r,e,t){var i=e[0]*t[1]-e[1]*t[0];return r[0]=r[1]=0,r[2]=i,r}function Pte(r,e,t,i){var n=e[0],a=e[1];return r[0]=n+i*(t[0]-n),r[1]=a+i*(t[1]-a),r}function Dte(r,e){e=e===void 0?1:e;var t=VO()*2*Math.PI;return r[0]=Math.cos(t)*e,r[1]=Math.sin(t)*e,r}function Fte(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[2]*n,r[1]=t[1]*i+t[3]*n,r}function Nte(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[2]*n+t[4],r[1]=t[1]*i+t[3]*n+t[5],r}function Bte(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[3]*n+t[6],r[1]=t[1]*i+t[4]*n+t[7],r}function Rte(r,e,t){var i=e[0],n=e[1];return r[0]=t[0]*i+t[4]*n+t[12],r[1]=t[1]*i+t[5]*n+t[13],r}function Gte(r,e,t,i){var n=e[0]-t[0],a=e[1]-t[1],o=Math.sin(i),s=Math.cos(i);return r[0]=n*s-a*o+t[0],r[1]=n*o+a*s+t[1],r}function zte(r,e){var t=r[0],i=r[1],n=e[0],a=e[1];return Math.abs(Math.atan2(i*n-t*a,t*n+i*a))}function jte(r,e){var t=r[0],i=r[1],n=e[0],a=e[1];return Math.atan2(t*a-i*n,t*n+i*a)}function Yte(r){return r[0]=0,r[1]=0,r}function Wte(r){return"vec2("+r[0]+", "+r[1]+")"}function hH(r,e){return r[0]===e[0]&&r[1]===e[1]}function Vte(r,e){var t=r[0],i=r[1],n=e[0],a=e[1];return Math.abs(t-n)<=kl*Math.max(1,Math.abs(t),Math.abs(n))&&Math.abs(i-a)<=kl*Math.max(1,Math.abs(i),Math.abs(a))}var qte=yvt,Hte=dvt,Ute=vvt,Xte=pvt,Zte=gvt,Kte=mvt,Qte=xvt,$te=function(){var r=hvt();return function(e,t,i,n,a,o){var s,l;for(t||(t=2),i||(i=0),n?l=Math.min(n*t+i,e.length):l=e.length,s=i;s<l;s+=t)r[0]=e[s],r[1]=e[s+1],a(r,r,o),e[s]=r[0],e[s+1]=r[1];return e}}();var Ni={};ai(Ni,{angleTo:()=>eee,direction:()=>Svt,leftRotate:()=>wvt,leftScale:()=>_vt,leftTranslate:()=>bvt,transform:()=>tee,vertical:()=>ree});function bvt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return Rf.fromTranslation(i,t),Rf.multiply(r,i,e)}function wvt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return Rf.fromRotation(i,t),Rf.multiply(r,i,e)}function _vt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return Rf.fromScaling(i,t),Rf.multiply(r,i,e)}function Jte(r,e,t){return Rf.multiply(r,t,e)}function tee(r,e){for(var t=r?[].concat(r):[1,0,0,0,1,0,0,0,1],i=0,n=e.length;i<n;i++){var a=e[i];switch(a[0]){case"t":bvt(t,t,[a[1],a[2]]);break;case"s":_vt(t,t,[a[1],a[2]]);break;case"r":wvt(t,t,a[1]);break;case"m":Jte(t,t,a[1]);break;default:break}}return t}function Svt(r,e){return r[0]*e[1]-e[0]*r[1]}function eee(r,e,t){var i=mr.angle(r,e),n=Svt(r,e)>=0;return t?n?Math.PI*2-i:i:n?i:Math.PI*2-i}function ree(r,e,t){return t?(r[0]=e[1],r[1]=-1*e[0]):(r[0]=-1*e[1],r[1]=e[0]),r}function dH(r,e){var t=[],i=r[0],n=r[1],a=r[2],o=r[3],s=r[4],l=r[5],u=r[6],f=r[7],c=r[8],h=e[0],d=e[1],v=e[2],p=e[3],g=e[4],m=e[5],y=e[6],x=e[7],b=e[8];return t[0]=h*i+d*o+v*u,t[1]=h*n+d*s+v*f,t[2]=h*a+d*l+v*c,t[3]=p*i+g*o+m*u,t[4]=p*n+g*s+m*f,t[5]=p*a+g*l+m*c,t[6]=y*i+x*o+b*u,t[7]=y*n+x*s+b*f,t[8]=y*a+x*l+b*c,t}function Yc(r,e){var t=[],i=e[0],n=e[1];return t[0]=r[0]*i+r[3]*n+r[6],t[1]=r[1]*i+r[4]*n+r[7],t}function MS(r){var e=[],t=r[0],i=r[1],n=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],f=r[8],c=f*o-s*u,h=-f*a+s*l,d=u*a-o*l,v=t*c+i*h+n*d;return v?(v=1/v,e[0]=c*v,e[1]=(-f*i+n*u)*v,e[2]=(s*i-n*o)*v,e[3]=h*v,e[4]=(f*t-n*l)*v,e[5]=(-s*t+n*a)*v,e[6]=d*v,e[7]=(-u*t+i*l)*v,e[8]=(o*t-i*a)*v,e):null}var qO=Ni.transform,vH="matrix",iee=["zIndex","capture","visible","type"],nee=["repeat"],aee=":",oee="*";function see(r){for(var e=[],t=0;t<r.length;t++)$t(r[t])?e.push([].concat(r[t])):e.push(r[t]);return e}function lee(r,e){var t={},i=e.attrs;for(var n in r)t[n]=i[n];return t}function uee(r,e){var t={},i=e.attr();return at(r,function(n,a){nee.indexOf(a)===-1&&!xn(i[a],n)&&(t[a]=n)}),t}function fee(r,e){if(e.onFrame)return r;var t=e.startTime,i=e.delay,n=e.duration,a=Object.prototype.hasOwnProperty;return at(r,function(o){t+i<o.startTime+o.delay+o.duration&&n>o.delay&&at(e.toAttrs,function(s,l){a.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),r}var cee=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.attrs={};var n=i.getDefaultAttrs();return Vi(n,t.attrs),i.attrs=n,i.initAttrs(n),i.initAnimate(),i}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=i[0],o=i[1];if(!a)return this.attrs;if(Gi(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return i.length===2?(this.setAttr(a,o),this.afterAttrsChange((t={},t[a]=o,t)),this):this.attrs[a]},e.prototype.isClipped=function(t,i){var n=this.getClip();return n&&!n.isHit(t,i)},e.prototype.setAttr=function(t,i){var n=this.attrs[t];n!==i&&(this.attrs[t]=i,this.onAttrChange(t,i,n))},e.prototype.onAttrChange=function(t,i,n){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var i=this.cfg.applyTo;i&&i.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var i=this.getParent();return i&&i.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(!!t){var i=t.getChildren(),n=this.get("el"),a=i.indexOf(this);i.splice(a,1),i.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(!!t){var i=t.getChildren(),n=this.get("el"),a=i.indexOf(this);i.splice(a,1),i.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var i=this.getParent();i?(cR(i.getChildren(),this),i.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(vH,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(vH)},e.prototype.setMatrix=function(t){this.attr(vH,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var i=this.attr("matrix"),n=this.cfg.parentMatrix;n&&i?t=dH(n,i):t=i||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var i=this.attr("matrix"),n=null;t&&i?n=dH(t,i):n=i||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var i=this.attr("matrix");return i?Yc(i,t):t},e.prototype.invertFromMatrix=function(t){var i=this.attr("matrix");if(i){var n=MS(i);if(n)return Yc(n,t)}return t},e.prototype.setClip=function(t){var i=this.getCanvas(),n=null;if(t){var a=this.getShapeBase(),o=Nf(t.type),s=a[o];s&&(n=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:i}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,i=this.attrs,n={};at(i,function(s,l){$t(i[l])?n[l]=see(i[l]):n[l]=i[l]});var a=this.constructor,o=new a({attrs:n});return at(iee,function(s){o.set(s,t.get(s))}),o},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},r.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var a=this.get("animations")||[];n.timer||n.initTimer();var o=t[0],s=t[1],l=t[2],u=l===void 0?"easeLinear":l,f=t[3],c=f===void 0?Bf:f,h=t[4],d=h===void 0?0:h,v,p,g,m,y;nr(o)?(v=o,o={}):Gi(o)&&o.onFrame&&(v=o.onFrame,p=o.repeat),Gi(s)?(y=s,s=y.duration,u=y.easing||"easeLinear",d=y.delay||0,p=y.repeat||p||!1,c=y.callback||Bf,g=y.pauseCallback||Bf,m=y.resumeCallback||Bf):(qr(c)&&(d=c,c=null),nr(u)?(c=u,u="easeLinear"):u=u||"easeLinear");var x=uee(o,this),b={fromAttrs:lee(x,this),toAttrs:x,duration:s,easing:u,repeat:p,callback:c,pauseCallback:g,resumeCallback:m,delay:d,startTime:n.getTime(),id:Ol(),onFrame:v,pathFormatted:!1};a.length>0?a=fee(a,b):n.addAnimator(this),a.push(b),this.set("animations",a),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var i=this;t===void 0&&(t=!0);var n=this.get("animations");at(n,function(a){t&&(a.onFrame?i.attr(a.onFrame(1)):i.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),i=this.get("animations"),n=t.getTime();return at(i,function(a){a._paused=!0,a._pauseTime=n,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),i=t.getTime(),n=this.get("animations"),a=this.get("_pause").pauseTime;return at(n,function(o){o.startTime=o.startTime+(i-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,i){var n=this,a=i.propagationPath,o=this.getEvents(),s;t==="mouseenter"?s=i.fromShape:t==="mouseleave"&&(s=i.toShape);for(var l=function(h){var d=a[h],v=d.get("name");if(v){if((d.isGroup()||d.isCanvas&&d.isCanvas())&&s&&hR(d,s))return"break";$t(v)?at(v,function(p){n.emitDelegateEvent(d,p,i)}):u.emitDelegateEvent(d,v,i)}},u=this,f=0;f<a.length;f++){var c=l(f);if(c==="break")break}},e.prototype.emitDelegateEvent=function(t,i,n){var a=this.getEvents(),o=i+aee+n.type;(a[o]||a[oee])&&(n.name=o,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(o,n))},e.prototype.translate=function(t,i){t===void 0&&(t=0),i===void 0&&(i=0);var n=this.getMatrix(),a=qO(n,[["t",t,i]]);return this.setMatrix(a),this},e.prototype.move=function(t,i){var n=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-n,i-a),this},e.prototype.moveTo=function(t,i){return this.move(t,i)},e.prototype.scale=function(t,i){var n=this.getMatrix(),a=qO(n,[["s",t,i||t]]);return this.setMatrix(a),this},e.prototype.rotate=function(t){var i=this.getMatrix(),n=qO(i,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var i=this.attr(),n=i.x,a=i.y,o=this.getMatrix(),s=qO(o,[["t",-n,-a],["r",t],["t",n,a]]);return this.setMatrix(s),this},e.prototype.rotateAtPoint=function(t,i,n){var a=this.getMatrix(),o=qO(a,[["t",-t,-i],["r",n],["t",t,i]]);return this.setMatrix(o),this},e}(SS),vR=cee;var Cvt={},pH="_INDEX";function Mvt(r,e){if(r.set("canvas",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(i){Mvt(i,e)})}}function Avt(r,e){if(r.set("timeline",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(i){Avt(i,e)})}}function hee(r,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),cR(r.getChildren(),e)}function dee(r){return function(e,t){var i=r(e,t);return i===0?e[pH]-t[pH]:i}}var vee=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,i=-1/0,n=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?at(o,function(l){var u=l.getBBox(),f=u.minX,c=u.maxX,h=u.minY,d=u.maxY;f<t&&(t=f),c>i&&(i=c),h<n&&(n=h),d>a&&(a=d)}):(t=0,i=0,n=0,a=0);var s={x:t,y:n,minX:t,minY:n,maxX:i,maxY:a,width:i-t,height:a-n};return s},e.prototype.getCanvasBBox=function(){var t=1/0,i=-1/0,n=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?at(o,function(l){var u=l.getCanvasBBox(),f=u.minX,c=u.maxX,h=u.minY,d=u.maxY;f<t&&(t=f),c>i&&(i=c),h<n&&(n=h),d>a&&(a=d)}):(t=0,i=0,n=0,a=0);var s={x:t,y:n,minX:t,minY:n,maxX:i,maxY:a,width:i-t,height:a-n};return s},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,i,n){if(r.prototype.onAttrChange.call(this,t,i,n),t==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},e.prototype.applyMatrix=function(t){var i=this.getTotalMatrix();r.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==i&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var i=this.getChildren();at(i,function(n){n.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t[0],a=t[1];Gi(n)?a=n:a.type=n;var o=Cvt[a.type];o||(o=Nf(a.type),Cvt[a.type]=o);var s=this.getShapeBase(),l=new s[o](a);return this.add(l),l},e.prototype.addGroup=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t[0],a=t[1],o;if(nr(n))a?o=new n(a):o=new n({parent:this});else{var s=n||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,i,n){if(!N1(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,t,i,n);else{var s=[t,i,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],n))}return o},e.prototype._findShape=function(t,i,n,a){for(var o=null,s=t.length-1;s>=0;s--){var l=t[s];if(N1(l)&&(l.isGroup()?o=l.getShape(i,n,a):l.isHit(i,n)&&(o=l)),o)break}return o},e.prototype.add=function(t){var i=this.getCanvas(),n=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&hee(o,t,!1),t.set("parent",this),i&&Mvt(t,i),a&&Avt(t,a),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var i=this.getTotalMatrix();i&&t.applyMatrix(i)},e.prototype.getChildren=function(){return this.get("children")||[]},e.prototype.sort=function(){var t=this.getChildren();at(t,function(i,n){return i[pH]=n,i}),t.sort(dee(function(i,n){return i.get("zIndex")-n.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),i=t.length-1;i>=0;i--)t[i].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),r.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var i=this.getChildren();return i[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var i=this.getChildren();return i.indexOf(t)>-1},e.prototype.removeChild=function(t,i){i===void 0&&(i=!0),this.contain(t)&&t.remove(i)},e.prototype.findAll=function(t){var i=[],n=this.getChildren();return at(n,function(a){t(a)&&i.push(a),a.isGroup()&&(i=i.concat(a.findAll(t)))}),i},e.prototype.find=function(t){var i=null,n=this.getChildren();return at(n,function(a){if(t(a)?i=a:a.isGroup()&&(i=a.find(t)),i)return!1}),i},e.prototype.findById=function(t){return this.find(function(i){return i.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(i){return i.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(i){return i.get("name")===t})},e}(vR),pR=vee;var YA=0,HO=0,UO=0,Evt=1e3,gR,XO,mR=0,AS=0,yR=0,ZO=typeof performance=="object"&&performance.now?performance:Date,Tvt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function gH(){return AS||(Tvt(pee),AS=ZO.now()+yR)}function pee(){AS=0}function mH(){this._call=this._time=this._next=null}mH.prototype=xR.prototype={constructor:mH,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?gH():+t)+(e==null?0:+e),!this._next&&XO!==this&&(XO?XO._next=this:gR=this,XO=this),this._call=r,this._time=t,yH()},stop:function(){this._call&&(this._call=null,this._time=1/0,yH())}};function xR(r,e,t){var i=new mH;return i.restart(r,e,t),i}function Ivt(){gH(),++YA;for(var r=gR,e;r;)(e=AS-r._time)>=0&&r._call.call(null,e),r=r._next;--YA}function Lvt(){AS=(mR=ZO.now())+yR,YA=HO=0;try{Ivt()}finally{YA=0,mee(),AS=0}}function gee(){var r=ZO.now(),e=r-mR;e>Evt&&(yR-=e,mR=r)}function mee(){for(var r,e=gR,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:gR=t);XO=r,yH(i)}function yH(r){if(!YA){HO&&(HO=clearTimeout(HO));var e=r-AS;e>24?(r<1/0&&(HO=setTimeout(Lvt,r-ZO.now()-yR)),UO&&(UO=clearInterval(UO))):(UO||(mR=ZO.now(),UO=setInterval(gee,Evt)),YA=1,Tvt(Lvt))}}function bR(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function xH(r,e){var t=Object.create(r.prototype);for(var i in e)t[i]=e[i];return t}function KO(){}var QO=.7,wR=1/QO,WA="\\s*([+-]?\\d+)\\s*",$O="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yee=/^#([0-9a-f]{3,8})$/,xee=new RegExp(`^rgb\\(${WA},${WA},${WA}\\)$`),bee=new RegExp(`^rgb\\(${Qp},${Qp},${Qp}\\)$`),wee=new RegExp(`^rgba\\(${WA},${WA},${WA},${$O}\\)$`),_ee=new RegExp(`^rgba\\(${Qp},${Qp},${Qp},${$O}\\)$`),See=new RegExp(`^hsl\\(${$O},${Qp},${Qp}\\)$`),Cee=new RegExp(`^hsla\\(${$O},${Qp},${Qp},${$O}\\)$`),Ovt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bR(KO,B1,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:kvt,formatHex:kvt,formatHex8:Mee,formatHsl:Aee,formatRgb:Pvt,toString:Pvt});function kvt(){return this.rgb().formatHex()}function Mee(){return this.rgb().formatHex8()}function Aee(){return Rvt(this).formatHsl()}function Pvt(){return this.rgb().formatRgb()}function B1(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=yee.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?Dvt(e):t===3?new Gf(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?_R(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?_R(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xee.exec(r))?new Gf(e[1],e[2],e[3],1):(e=bee.exec(r))?new Gf(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wee.exec(r))?_R(e[1],e[2],e[3],e[4]):(e=_ee.exec(r))?_R(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=See.exec(r))?Bvt(e[1],e[2]/100,e[3]/100,1):(e=Cee.exec(r))?Bvt(e[1],e[2]/100,e[3]/100,e[4]):Ovt.hasOwnProperty(r)?Dvt(Ovt[r]):r==="transparent"?new Gf(NaN,NaN,NaN,0):null}function Dvt(r){return new Gf(r>>16&255,r>>8&255,r&255,1)}function _R(r,e,t,i){return i<=0&&(r=e=t=NaN),new Gf(r,e,t,i)}function Eee(r){return r instanceof KO||(r=B1(r)),r?(r=r.rgb(),new Gf(r.r,r.g,r.b,r.opacity)):new Gf}function VA(r,e,t,i){return arguments.length===1?Eee(r):new Gf(r,e,t,i==null?1:i)}function Gf(r,e,t,i){this.r=+r,this.g=+e,this.b=+t,this.opacity=+i}bR(Gf,VA,xH(KO,{brighter(r){return r=r==null?wR:Math.pow(wR,r),new Gf(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?QO:Math.pow(QO,r),new Gf(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Gf(ES(this.r),ES(this.g),ES(this.b),SR(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fvt,formatHex:Fvt,formatHex8:Tee,formatRgb:Nvt,toString:Nvt}));function Fvt(){return`#${TS(this.r)}${TS(this.g)}${TS(this.b)}`}function Tee(){return`#${TS(this.r)}${TS(this.g)}${TS(this.b)}${TS((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nvt(){let r=SR(this.opacity);return`${r===1?"rgb(":"rgba("}${ES(this.r)}, ${ES(this.g)}, ${ES(this.b)}${r===1?")":`, ${r})`}`}function SR(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function ES(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function TS(r){return r=ES(r),(r<16?"0":"")+r.toString(16)}function Bvt(r,e,t,i){return i<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Ev(r,e,t,i)}function Rvt(r){if(r instanceof Ev)return new Ev(r.h,r.s,r.l,r.opacity);if(r instanceof KO||(r=B1(r)),!r)return new Ev;if(r instanceof Ev)return r;r=r.rgb();var e=r.r/255,t=r.g/255,i=r.b/255,n=Math.min(e,t,i),a=Math.max(e,t,i),o=NaN,s=a-n,l=(a+n)/2;return s?(e===a?o=(t-i)/s+(t<i)*6:t===a?o=(i-e)/s+2:o=(e-t)/s+4,s/=l<.5?a+n:2-a-n,o*=60):s=l>0&&l<1?0:o,new Ev(o,s,l,r.opacity)}function Gvt(r,e,t,i){return arguments.length===1?Rvt(r):new Ev(r,e,t,i==null?1:i)}function Ev(r,e,t,i){this.h=+r,this.s=+e,this.l=+t,this.opacity=+i}bR(Ev,Gvt,xH(KO,{brighter(r){return r=r==null?wR:Math.pow(wR,r),new Ev(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?QO:Math.pow(QO,r),new Ev(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,n=2*t-i;return new Gf(bH(r>=240?r-240:r+120,n,i),bH(r,n,i),bH(r<120?r+240:r-120,n,i),this.opacity)},clamp(){return new Ev(zvt(this.h),CR(this.s),CR(this.l),SR(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let r=SR(this.opacity);return`${r===1?"hsl(":"hsla("}${zvt(this.h)}, ${CR(this.s)*100}%, ${CR(this.l)*100}%${r===1?")":`, ${r})`}`}}));function zvt(r){return r=(r||0)%360,r<0?r+360:r}function CR(r){return Math.max(0,Math.min(1,r||0))}function bH(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}function wH(r,e,t,i,n){var a=r*r,o=a*r;return((1-3*r+3*a-o)*e+(4-6*a+3*o)*t+(1+3*r+3*a-3*o)*i+o*n)/6}function jvt(r){var e=r.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),n=r[i],a=r[i+1],o=i>0?r[i-1]:2*n-a,s=i<e-1?r[i+2]:2*a-n;return wH((t-i/e)*e,o,n,a,s)}}function Yvt(r){var e=r.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e),n=r[(i+e-1)%e],a=r[i%e],o=r[(i+1)%e],s=r[(i+2)%e];return wH((t-i/e)*e,n,a,o,s)}}var JO=r=>()=>r;function Iee(r,e){return function(t){return r+t*e}}function Lee(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(i){return Math.pow(r+i*e,t)}}function Wvt(r){return(r=+r)==1?MR:function(e,t){return t-e?Lee(e,t,r):JO(isNaN(e)?t:e)}}function MR(r,e){var t=e-r;return t?Iee(r,t):JO(isNaN(r)?e:r)}var _H=function r(e){var t=Wvt(e);function i(n,a){var o=t((n=VA(n)).r,(a=VA(a)).r),s=t(n.g,a.g),l=t(n.b,a.b),u=MR(n.opacity,a.opacity);return function(f){return n.r=o(f),n.g=s(f),n.b=l(f),n.opacity=u(f),n+""}}return i.gamma=r,i}(1);function Vvt(r){return function(e){var t=e.length,i=new Array(t),n=new Array(t),a=new Array(t),o,s;for(o=0;o<t;++o)s=VA(e[o]),i[o]=s.r||0,n[o]=s.g||0,a[o]=s.b||0;return i=r(i),n=r(n),a=r(a),s.opacity=1,function(l){return s.r=i(l),s.g=n(l),s.b=a(l),s+""}}}var upr=Vvt(jvt),fpr=Vvt(Yvt);function AR(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,i=e.slice(),n;return function(a){for(n=0;n<t;++n)i[n]=r[n]*(1-a)+e[n]*a;return i}}function ER(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function SH(r,e){return(ER(e)?AR:CH)(r,e)}function CH(r,e){var t=e?e.length:0,i=r?Math.min(t,r.length):0,n=new Array(i),a=new Array(t),o;for(o=0;o<i;++o)n[o]=R1(r[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<i;++o)a[o]=n[o](s);return a}}function qvt(r,e){var t=new Date;return r=+r,e=+e,function(i){return t.setTime(r*(1-i)+e*i),t}}function tk(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function Hvt(r,e){var t={},i={},n;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in r?t[n]=R1(r[n],e[n]):i[n]=e[n];return function(a){for(n in t)i[n]=t[n](a);return i}}var MH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AH=new RegExp(MH.source,"g");function Oee(r){return function(){return r}}function kee(r){return function(e){return r(e)+""}}function Uvt(r,e){var t=MH.lastIndex=AH.lastIndex=0,i,n,a,o=-1,s=[],l=[];for(r=r+"",e=e+"";(i=MH.exec(r))&&(n=AH.exec(e));)(a=n.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:tk(i,n)})),t=AH.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?kee(l[0].x):Oee(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function R1(r,e){var t=typeof e,i;return e==null||t==="boolean"?JO(e):(t==="number"?tk:t==="string"?(i=B1(e))?(e=i,_H):Uvt:e instanceof B1?_H:e instanceof Date?qvt:ER(e)?AR:Array.isArray(e)?CH:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Hvt:tk)(r,e)}var zH={};ai(zH,{easeBack:()=>NH,easeBackIn:()=>cpt,easeBackInOut:()=>NH,easeBackOut:()=>hpt,easeBounce:()=>qA,easeBounceIn:()=>upt,easeBounceInOut:()=>fpt,easeBounceOut:()=>qA,easeCircle:()=>PH,easeCircleIn:()=>spt,easeCircleInOut:()=>PH,easeCircleOut:()=>lpt,easeCubic:()=>TH,easeCubicIn:()=>Qvt,easeCubicInOut:()=>TH,easeCubicOut:()=>$vt,easeElastic:()=>GH,easeElasticIn:()=>dpt,easeElasticInOut:()=>vpt,easeElasticOut:()=>GH,easeExp:()=>kH,easeExpIn:()=>apt,easeExpInOut:()=>kH,easeExpOut:()=>opt,easeLinear:()=>Xvt,easePoly:()=>LH,easePolyIn:()=>Jvt,easePolyInOut:()=>LH,easePolyOut:()=>tpt,easeQuad:()=>EH,easeQuadIn:()=>Zvt,easeQuadInOut:()=>EH,easeQuadOut:()=>Kvt,easeSin:()=>OH,easeSinIn:()=>ipt,easeSinInOut:()=>OH,easeSinOut:()=>npt});function Xvt(r){return+r}function Zvt(r){return r*r}function Kvt(r){return r*(2-r)}function EH(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}function Qvt(r){return r*r*r}function $vt(r){return--r*r*r+1}function TH(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var IH=3,Jvt=function r(e){e=+e;function t(i){return Math.pow(i,e)}return t.exponent=r,t}(IH),tpt=function r(e){e=+e;function t(i){return 1-Math.pow(1-i,e)}return t.exponent=r,t}(IH),LH=function r(e){e=+e;function t(i){return((i*=2)<=1?Math.pow(i,e):2-Math.pow(2-i,e))/2}return t.exponent=r,t}(IH);var ept=Math.PI,rpt=ept/2;function ipt(r){return+r==1?1:1-Math.cos(r*rpt)}function npt(r){return Math.sin(r*rpt)}function OH(r){return(1-Math.cos(ept*r))/2}function $p(r){return(Math.pow(2,-10*r)-.0009765625)*1.0009775171065494}function apt(r){return $p(1-+r)}function opt(r){return 1-$p(r)}function kH(r){return((r*=2)<=1?$p(1-r):2-$p(r-1))/2}function spt(r){return 1-Math.sqrt(1-r*r)}function lpt(r){return Math.sqrt(1- --r*r)}function PH(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var DH=4/11,Pee=6/11,Dee=8/11,Fee=3/4,Nee=9/11,Bee=10/11,Ree=15/16,Gee=21/22,zee=63/64,TR=1/DH/DH;function upt(r){return 1-qA(1-r)}function qA(r){return(r=+r)<DH?TR*r*r:r<Dee?TR*(r-=Pee)*r+Fee:r<Bee?TR*(r-=Nee)*r+Ree:TR*(r-=Gee)*r+zee}function fpt(r){return((r*=2)<=1?1-qA(1-r):qA(r-1)+1)/2}var FH=1.70158,cpt=function r(e){e=+e;function t(i){return(i=+i)*i*(e*(i-1)+i)}return t.overshoot=r,t}(FH),hpt=function r(e){e=+e;function t(i){return--i*i*((i+1)*e+i)+1}return t.overshoot=r,t}(FH),NH=function r(e){e=+e;function t(i){return((i*=2)<1?i*i*((e+1)*i-e):(i-=2)*i*((e+1)*i+e)+2)/2}return t.overshoot=r,t}(FH);var HA=2*Math.PI,BH=1,RH=.3,dpt=function r(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=HA);function n(a){return e*$p(- --a)*Math.sin((i-a)/t)}return n.amplitude=function(a){return r(a,t*HA)},n.period=function(a){return r(e,a)},n}(BH,RH),GH=function r(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=HA);function n(a){return 1-e*$p(a=+a)*Math.sin((a+i)/t)}return n.amplitude=function(a){return r(a,t*HA)},n.period=function(a){return r(e,a)},n}(BH,RH),vpt=function r(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=HA);function n(a){return((a=a*2-1)<0?e*$p(-a)*Math.sin((i-a)/t):2-e*$p(a)*Math.sin((i+a)/t))/2}return n.amplitude=function(a){return r(a,t*HA)},n.period=function(a){return r(e,a)},n}(BH,RH);var ppt={};function gpt(r){return ppt[r.toLowerCase()]||zH[r]}function jH(r,e){ppt[r.toLowerCase()]=e}var mpt=function(r){return["fill","stroke","fillStyle","strokeStyle"].includes(r)},ypt=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)};var xpt=[1,0,0,0,1,0,0,0,1];function jee(r,e,t){var i={},n=e.fromAttrs,a=e.toAttrs;if(!r.destroyed){var o;for(var s in a)if(!xn(n[s],a[s]))if(s==="path"){var l=a[s],u=n[s];l.length>u.length?(l=_S(a[s]),u=_S(n[s]),u=aH(u,l),u=fR(u,l),e.fromAttrs.path=u,e.toAttrs.path=l):e.pathFormatted||(l=_S(a[s]),u=_S(n[s]),u=fR(u,l),e.fromAttrs.path=u,e.toAttrs.path=l,e.pathFormatted=!0),i[s]=[];for(var f=0;f<l.length;f++){for(var c=l[f],h=u[f],d=[],v=0;v<c.length;v++)qr(c[v])&&h&&qr(h[v])?(o=R1(h[v],c[v]),d.push(o(t))):d.push(c[v]);i[s].push(d)}}else if(s==="matrix"){var p=SH(n[s]||xpt,a[s]||xpt),g=p(t);i[s]=g}else mpt(s)&&ypt(a[s])?i[s]=a[s]:nr(a[s])||(o=R1(n[s],a[s]),i[s]=o(t));r.attr(i)}}function Yee(r,e,t){var i=e.startTime,n=e.delay;if(t<i+n||e._paused)return!1;var a,o=e.duration,s=e.easing,l=gpt(s);if(t=t-i-e.delay,e.repeat)a=t%o/o,a=l(a);else if(a=t/o,a<1)a=l(a);else return e.onFrame?r.attr(e.onFrame(1)):r.attr(e.toAttrs),!0;if(e.onFrame){var u=e.onFrame(a);r.attr(u)}else jee(r,e,a);return!1}var Wee=function(){function r(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return r.prototype.initTimer=function(){var e=this,t=!1,i,n,a;this.timer=xR(function(o){if(e.current=o,e.animators.length>0){for(var s=e.animators.length-1;s>=0;s--){if(i=e.animators[s],i.destroyed){e.removeAnimator(s);continue}if(!i.isAnimatePaused()){n=i.get("animations");for(var l=n.length-1;l>=0;l--)a=n[l],t=Yee(i,a,o),t&&(n.splice(l,1),t=!1,a.callback&&a.callback())}n.length===0&&e.removeAnimator(s)}var u=e.canvas.get("autoDraw");u||e.canvas.draw()}})},r.prototype.addAnimator=function(e){this.animators.push(e)},r.prototype.removeAnimator=function(e){this.animators.splice(e,1)},r.prototype.isAnimating=function(){return!!this.animators.length},r.prototype.stop=function(){this.timer&&this.timer.stop()},r.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},r.prototype.getTime=function(){return this.current},r}(),bpt=Wee;var Vee=40,wpt=0;var _pt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Spt(r,e,t){t.name=e,t.target=r,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}function qee(r,e,t){if(t.bubbles){var i=void 0,n=!1;if(e==="mouseenter"?(i=t.fromShape,n=!0):e==="mouseleave"&&(n=!0,i=t.toShape),r.isCanvas()&&n)return;if(i&&hR(r,i)){t.bubbles=!1;return}t.name=e,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}}var Hee=function(){function r(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(i){var n=i.type;t._triggerEvent(n,i)},this._onDocumentMove=function(i){var n=t.canvas,a=n.get("el");if(a!==i.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(i);t.dragging&&t._emitEvent("drag",i,o,t.draggingShape)}},this._onDocumentMouseUp=function(i){var n=t.canvas,a=n.get("el");if(a!==i.target&&t.dragging){var o=t._getPointInfo(i);t.draggingShape&&t._emitEvent("drop",i,o,null),t._emitEvent("dragend",i,o,t.draggingShape),t._afterDrag(t.draggingShape,o,i)}},this.canvas=e.canvas}return r.prototype.init=function(){this._bindEvents()},r.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");at(_pt,function(i){t.addEventListener(i,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");at(_pt,function(i){t.removeEventListener(i,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._getEventObj=function(e,t,i,n,a,o){var s=new Kp(e,t);return s.fromShape=a,s.toShape=o,s.x=i.x,s.y=i.y,s.clientX=i.clientX,s.clientY=i.clientY,s.propagationPath.push(n),s},r.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},r.prototype._getPointInfo=function(e){var t=this.canvas,i=t.getClientByEvent(e),n=t.getPointByEvent(e);return{x:n.x,y:n.y,clientX:i.x,clientY:i.y}},r.prototype._triggerEvent=function(e,t){var i=this._getPointInfo(t),n=this._getShape(i,t),a=this["_on"+e],o=!1;if(a)a.call(this,i,n,t);else{var s=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,i,null,null,n),n&&this._emitEvent(e,t,i,n,null,n),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,i,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,s&&this._emitEvent(e,t,i,s,s,null),this._emitEvent(e,t,i,null,s,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,i,null)):this._emitEvent(e,t,i,n,null,null)}if(o||(this.currentShape=n),n&&!n.get("destroyed")){var l=this.canvas,u=l.get("el");u.style.cursor=n.attr("cursor")||l.get("cursor")}},r.prototype._onmousedown=function(e,t,i){i.button===wpt&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=i.timeStamp),this._emitEvent("mousedown",i,e,t,null,null)},r.prototype._emitMouseoverEvents=function(e,t,i,n){var a=this.canvas.get("el");i!==n&&(i&&(this._emitEvent("mouseout",e,t,i,i,n),this._emitEvent("mouseleave",e,t,i,i,n),(!n||n.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",e,t,n,i,n),this._emitEvent("mouseenter",e,t,n,i,n)))},r.prototype._emitDragoverEvents=function(e,t,i,n,a){n?(n!==i&&(i&&this._emitEvent("dragleave",e,t,i,i,n),this._emitEvent("dragenter",e,t,n,i,n)),a||this._emitEvent("dragover",e,t,n)):i&&this._emitEvent("dragleave",e,t,i,i,n),a&&this._emitEvent("dragover",e,t,n)},r.prototype._afterDrag=function(e,t,i){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(t,i);n!==e&&this._emitMouseoverEvents(i,t,e,n),this.currentShape=n},r.prototype._onmouseup=function(e,t,i){if(i.button===wpt){var n=this.draggingShape;this.dragging?(n&&this._emitEvent("drop",i,e,t),this._emitEvent("dragend",i,e,n),this._afterDrag(n,e,i)):(this._emitEvent("mouseup",i,e,t),t===this.mousedownShape&&this._emitEvent("click",i,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},r.prototype._ondragover=function(e,t,i){i.preventDefault();var n=this.currentShape;this._emitDragoverEvents(i,e,n,t,!0)},r.prototype._onmousemove=function(e,t,i){var n=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(i,e,a,t,!1),this._emitEvent("drag",i,e,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,u=i.timeStamp,f=u-this.mousedownTimeStamp,c=s.clientX-e.clientX,h=s.clientY-e.clientY,d=c*c+h*h;f>120||d>Vee?l&&l.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",i,e,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&n.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",i,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(i,e,a,t),this._emitEvent("mousemove",i,e,t)):(this._emitMouseoverEvents(i,e,a,t),this._emitEvent("mousemove",i,e,t))}else this._emitMouseoverEvents(i,e,a,t),this._emitEvent("mousemove",i,e,t)}},r.prototype._emitEvent=function(e,t,i,n,a,o){var s=this._getEventObj(e,t,i,n,a,o);if(n){s.shape=n,Spt(n,e,s);for(var l=n.getParent();l;)l.emitDelegation(e,s),s.propagationStopped||qee(l,e,s),s.propagationPath.push(l),l=l.getParent()}else{var u=this.canvas;Spt(u,e,s)}},r.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},r}(),Cpt=Hee;var Mpt="px",Apt=dR(),Uee=Apt&&Apt.name==="firefox",Xee=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.initContainer(),i.initDom(),i.initEvents(),i.initTimeline(),i}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");cr(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var i=this.get("container");i.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new Cpt({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new bpt(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,i){var n=this.get("el");sH&&(n.style.width=t+Mpt,n.style.height=i+Mpt)},e.prototype.changeSize=function(t,i){this.setDOMSize(t,i),this.set("width",t),this.set("height",i),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var i=this.get("el");sH&&i&&(i.style.cursor=t)},e.prototype.getPointByEvent=function(t){var i=this.get("supportCSSTransform");if(i){if(Uee&&!Kt(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!Kt(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),a=n.x,o=n.y;return this.getPointByClient(a,o)},e.prototype.getClientByEvent=function(t){var i=t;return t.touches&&(t.type==="touchend"?i=t.changedTouches[0]:i=t.touches[0]),{x:i.clientX,y:i.clientY}},e.prototype.getPointByClient=function(t,i){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t-a.left,y:i-a.top}},e.prototype.getClientByPoint=function(t,i){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t+a.left,y:i+a.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),r.prototype.destroy.call(this))},e}(pR),IS=Xee;var Zee=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=r.prototype.clone.call(this),i=this.getChildren(),n=0;n<i.length;n++){var a=i[n];t.add(a.clone())}return t},e}(pR),G1=Zee;var Kee=function(r){G(e,r);function e(t){return r.call(this,t)||this}return e.prototype._isInBBox=function(t,i){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=i&&n.maxY>=i},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){r.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),i=this.getTotalMatrix(),n=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(i){var l=Yc(i,[t.minX,t.minY]),u=Yc(i,[t.maxX,t.minY]),f=Yc(i,[t.minX,t.maxY]),c=Yc(i,[t.maxX,t.maxY]);n=Math.min(l[0],u[0],f[0],c[0]),o=Math.max(l[0],u[0],f[0],c[0]),a=Math.min(l[1],u[1],f[1],c[1]),s=Math.max(l[1],u[1],f[1],c[1])}var h=this.attrs;if(h.shadowColor){var d=h.shadowBlur,v=d===void 0?0:d,p=h.shadowOffsetX,g=p===void 0?0:p,m=h.shadowOffsetY,y=m===void 0?0:m,x=n-v+g,b=o+v+g,_=a-v+y,M=s+v+y;n=Math.min(n,x),o=Math.max(o,b),a=Math.min(a,_),s=Math.max(s,M)}return{x:n,y:a,minX:n,minY:a,maxX:o,maxY:s,width:o-n,height:s-a}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,i){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,i){var n=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,i,1];o=this.invertFromMatrix(o);var s=o[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(s,l)&&(this.isInShape(s,l)||n&&n.isHit(s,l)||a&&a.isHit(s,l)))},e}(vR),z1=Kee;var Ept=new Map;function zf(r,e){Ept.set(r,e)}function j1(r){return Ept.get(r)}function YH(r){var e=r.attr(),t=e.x,i=e.y,n=e.width,a=e.height;return{x:t,y:i,width:n,height:a}}function WH(r){var e=r.attr(),t=e.x,i=e.y,n=e.r;return{x:t-n,y:i-n,width:n*2,height:n*2}}var UA={};ai(UA,{distance:()=>Eo,getBBoxByArray:()=>Vy,getBBoxRange:()=>Qee,isNumberEqual:()=>LS,piMod:()=>qy});function Eo(r,e,t,i){var n=r-t,a=e-i;return Math.sqrt(n*n+a*a)}function LS(r,e){return Math.abs(r-e)<.001}function Vy(r,e){var t=Ws(r),i=Ws(e),n=ms(r),a=ms(e);return{x:t,y:i,width:n-t,height:a-i}}function Qee(r,e,t,i){return{minX:Ws([r,t]),maxX:ms([r,t]),minY:Ws([e,i]),maxY:ms([e,i])}}function qy(r){return(r+Math.PI*2)%(Math.PI*2)}var Ha={box:function(r,e,t,i){return Vy([r,t],[e,i])},length:function(r,e,t,i){return Eo(r,e,t,i)},pointAt:function(r,e,t,i,n){return{x:(1-n)*r+n*t,y:(1-n)*e+n*i}},pointDistance:function(r,e,t,i,n,a){var o=(t-r)*(n-r)+(i-e)*(a-e);if(o<0)return Eo(r,e,n,a);var s=(t-r)*(t-r)+(i-e)*(i-e);return o>s?Eo(t,i,n,a):this.pointToLine(r,e,t,i,n,a)},pointToLine:function(r,e,t,i,n,a){var o=[t-r,i-e];if(hH(o,[0,0]))return Math.sqrt((n-r)*(n-r)+(a-e)*(a-e));var s=[-o[1],o[0]];fH(s,s);var l=[n-r,a-e];return Math.abs(cH(l,s))},tangentAngle:function(r,e,t,i){return Math.atan2(i-e,t-r)}};var $ee=1e-4;function IR(r,e,t,i,n,a){var o,s=1/0,l=[t,i],u=20;a&&a>200&&(u=a/10);for(var f=1/u,c=f/10,h=0;h<=u;h++){var d=h*f,v=[n.apply(null,r.concat([d])),n.apply(null,e.concat([d]))],p=Eo(l[0],l[1],v[0],v[1]);p<s&&(o=d,s=p)}if(o===0)return{x:r[0],y:e[0]};if(o===1){var g=r.length;return{x:r[g-1],y:e[g-1]}}s=1/0;for(var h=0;h<32&&!(c<$ee);h++){var m=o-c,y=o+c,v=[n.apply(null,r.concat([m])),n.apply(null,e.concat([m]))],p=Eo(l[0],l[1],v[0],v[1]);if(m>=0&&p<s)o=m,s=p;else{var x=[n.apply(null,r.concat([y])),n.apply(null,e.concat([y]))],b=Eo(l[0],l[1],x[0],x[1]);y<=1&&b<s?(o=y,s=b):c*=.5}}return{x:n.apply(null,r.concat([o])),y:n.apply(null,e.concat([o]))}}function Tpt(r,e){for(var t=0,i=r.length,n=0;n<i;n++){var a=r[n],o=e[n],s=r[(n+1)%i],l=e[(n+1)%i];t+=Eo(a,o,s,l)}return t/2}function Y1(r,e,t,i){var n=1-i;return n*n*r+2*i*n*e+i*i*t}function Ipt(r,e,t){var i=r+t-2*e;if(LS(i,0))return[.5];var n=(r-e)/i;return n<=1&&n>=0?[n]:[]}function Lpt(r,e,t,i){return 2*(1-i)*(e-r)+2*i*(t-e)}function Opt(r,e,t,i,n,a,o){var s=Y1(r,t,n,o),l=Y1(e,i,a,o),u=Ha.pointAt(r,e,t,i,o),f=Ha.pointAt(t,i,n,a,o);return[[r,e,u.x,u.y,s,l],[s,l,f.x,f.y,n,a]]}function VH(r,e,t,i,n,a,o){if(o===0)return(Eo(r,e,t,i)+Eo(t,i,n,a)+Eo(r,e,n,a))/2;var s=Opt(r,e,t,i,n,a,.5),l=s[0],u=s[1];return l.push(o-1),u.push(o-1),VH.apply(null,l)+VH.apply(null,u)}var ek={box:function(r,e,t,i,n,a){var o=Ipt(r,t,n)[0],s=Ipt(e,i,a)[0],l=[r,n],u=[e,a];return o!==void 0&&l.push(Y1(r,t,n,o)),s!==void 0&&u.push(Y1(e,i,a,s)),Vy(l,u)},length:function(r,e,t,i,n,a){return VH(r,e,t,i,n,a,3)},nearestPoint:function(r,e,t,i,n,a,o,s){return IR([r,t,n],[e,i,a],o,s,Y1)},pointDistance:function(r,e,t,i,n,a,o,s){var l=this.nearestPoint(r,e,t,i,n,a,o,s);return Eo(l.x,l.y,o,s)},interpolationAt:Y1,pointAt:function(r,e,t,i,n,a,o){return{x:Y1(r,t,n,o),y:Y1(e,i,a,o)}},divide:function(r,e,t,i,n,a,o){return Opt(r,e,t,i,n,a,o)},tangentAngle:function(r,e,t,i,n,a,o){var s=Lpt(r,t,n,o),l=Lpt(e,i,a,o),u=Math.atan2(l,s);return qy(u)}};function W1(r,e,t,i,n){var a=1-n;return a*a*a*r+3*e*n*a*a+3*t*n*n*a+i*n*n*n}function kpt(r,e,t,i,n){var a=1-n;return 3*(a*a*(e-r)+2*a*n*(t-e)+n*n*(i-t))}function qH(r,e,t,i){var n=-3*r+9*e-9*t+3*i,a=6*r-12*e+6*t,o=3*e-3*r,s=[],l,u,f;if(LS(n,0))LS(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var c=a*a-4*n*o;LS(c,0)?s.push(-a/(2*n)):c>0&&(f=Math.sqrt(c),l=(-a+f)/(2*n),u=(-a-f)/(2*n),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function Ppt(r,e,t,i,n,a,o,s,l){var u=W1(r,t,n,o,l),f=W1(e,i,a,s,l),c=Ha.pointAt(r,e,t,i,l),h=Ha.pointAt(t,i,n,a,l),d=Ha.pointAt(n,a,o,s,l),v=Ha.pointAt(c.x,c.y,h.x,h.y,l),p=Ha.pointAt(h.x,h.y,d.x,d.y,l);return[[r,e,c.x,c.y,v.x,v.y,u,f],[u,f,p.x,p.y,d.x,d.y,o,s]]}function HH(r,e,t,i,n,a,o,s,l){if(l===0)return Tpt([r,t,n,o],[e,i,a,s]);var u=Ppt(r,e,t,i,n,a,o,s,.5),f=u[0],c=u[1];return f.push(l-1),c.push(l-1),HH.apply(null,f)+HH.apply(null,c)}var Hy={extrema:qH,box:function(r,e,t,i,n,a,o,s){for(var l=[r,o],u=[e,s],f=qH(r,t,n,o),c=qH(e,i,a,s),h=0;h<f.length;h++)l.push(W1(r,t,n,o,f[h]));for(var h=0;h<c.length;h++)u.push(W1(e,i,a,s,c[h]));return Vy(l,u)},length:function(r,e,t,i,n,a,o,s){return HH(r,e,t,i,n,a,o,s,3)},nearestPoint:function(r,e,t,i,n,a,o,s,l,u,f){return IR([r,t,n,o],[e,i,a,s],l,u,W1,f)},pointDistance:function(r,e,t,i,n,a,o,s,l,u,f){var c=this.nearestPoint(r,e,t,i,n,a,o,s,l,u,f);return Eo(c.x,c.y,l,u)},interpolationAt:W1,pointAt:function(r,e,t,i,n,a,o,s,l){return{x:W1(r,t,n,o,l),y:W1(e,i,a,s,l)}},divide:function(r,e,t,i,n,a,o,s,l){return Ppt(r,e,t,i,n,a,o,s,l)},tangentAngle:function(r,e,t,i,n,a,o,s,l){var u=kpt(r,t,n,o,l),f=kpt(e,i,a,s,l);return qy(Math.atan2(f,u))}};function Dpt(r,e){var t=Math.abs(r);return e>0?t:t*-1}var Fpt={box:function(r,e,t,i){return{x:r-t,y:e-i,width:t*2,height:i*2}},length:function(r,e,t,i){return Math.PI*(3*(t+i)-Math.sqrt((3*t+i)*(t+3*i)))},nearestPoint:function(r,e,t,i,n,a){var o=t,s=i;if(o===0||s===0)return{x:r,y:e};for(var l=n-r,u=a-e,f=Math.abs(l),c=Math.abs(u),h=o*o,d=s*s,v=Math.PI/4,p,g,m=0;m<4;m++){p=o*Math.cos(v),g=s*Math.sin(v);var y=(h-d)*Math.pow(Math.cos(v),3)/o,x=(d-h)*Math.pow(Math.sin(v),3)/s,b=p-y,_=g-x,M=f-y,A=c-x,I=Math.hypot(_,b),k=Math.hypot(A,M),E=I*Math.asin((b*A-_*M)/(I*k)),O=E/Math.sqrt(h+d-p*p-g*g);v+=O,v=Math.min(Math.PI/2,Math.max(0,v))}return{x:r+Dpt(p,l),y:e+Dpt(g,u)}},pointDistance:function(r,e,t,i,n,a){var o=this.nearestPoint(r,e,t,i,n,a);return Eo(o.x,o.y,n,a)},pointAt:function(r,e,t,i,n){var a=2*Math.PI*n;return{x:r+t*Math.cos(a),y:e+i*Math.sin(a)}},tangentAngle:function(r,e,t,i,n){var a=2*Math.PI*n,o=Math.atan2(i*Math.cos(a),-t*Math.sin(a));return qy(o)}};function Jee(r,e,t,i,n,a,o,s){return-1*t*Math.cos(n)*Math.sin(s)-i*Math.sin(n)*Math.cos(s)}function tre(r,e,t,i,n,a,o,s){return-1*t*Math.sin(n)*Math.sin(s)+i*Math.cos(n)*Math.cos(s)}function ere(r,e,t){return Math.atan(-e/r*Math.tan(t))}function rre(r,e,t){return Math.atan(e/(r*Math.tan(t)))}function Npt(r,e,t,i,n,a){return t*Math.cos(n)*Math.cos(a)-i*Math.sin(n)*Math.sin(a)+r}function Bpt(r,e,t,i,n,a){return t*Math.sin(n)*Math.cos(a)+i*Math.cos(n)*Math.sin(a)+e}function ire(r,e,t,i){var n=Math.atan2(i*r,t*e);return(n+Math.PI*2)%(Math.PI*2)}function Rpt(r,e,t){return{x:r*Math.cos(t),y:e*Math.sin(t)}}function Gpt(r,e,t){var i=Math.cos(t),n=Math.sin(t);return[r*i-e*n,r*n+e*i]}var UH={box:function(r,e,t,i,n,a,o){for(var s=ere(t,i,n),l=1/0,u=-1/0,f=[a,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var h=s+c;a<o?a<h&&h<o&&f.push(h):o<h&&h<a&&f.push(h)}for(var c=0;c<f.length;c++){var d=Npt(r,e,t,i,n,f[c]);d<l&&(l=d),d>u&&(u=d)}for(var v=rre(t,i,n),p=1/0,g=-1/0,m=[a,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var y=v+c;a<o?a<y&&y<o&&m.push(y):o<y&&y<a&&m.push(y)}for(var c=0;c<m.length;c++){var x=Bpt(r,e,t,i,n,m[c]);x<p&&(p=x),x>g&&(g=x)}return{x:l,y:p,width:u-l,height:g-p}},length:function(r,e,t,i,n,a,o){},nearestPoint:function(r,e,t,i,n,a,o,s,l){var u=Gpt(s-r,l-e,-n),f=u[0],c=u[1],h=Fpt.nearestPoint(0,0,t,i,f,c),d=ire(t,i,h.x,h.y);d<a?h=Rpt(t,i,a):d>o&&(h=Rpt(t,i,o));var v=Gpt(h.x,h.y,n);return{x:v[0]+r,y:v[1]+e}},pointDistance:function(r,e,t,i,n,a,o,s,l){var u=this.nearestPoint(r,e,t,i,s,l);return Eo(u.x,u.y,s,l)},pointAt:function(r,e,t,i,n,a,o,s){var l=(o-a)*s+a;return{x:Npt(r,e,t,i,n,l),y:Bpt(r,e,t,i,n,l)}},tangentAngle:function(r,e,t,i,n,a,o,s){var l=(o-a)*s+a,u=Jee(r,e,t,i,n,a,o,l),f=tre(r,e,t,i,n,a,o,l);return qy(Math.atan2(f,u))}};function zpt(r){for(var e=0,t=[],i=0;i<r.length-1;i++){var n=r[i],a=r[i+1],o=Eo(n[0],n[1],a[0],a[1]),s={from:n,to:a,length:o};t.push(s),e+=o}return{segments:t,totalLength:e}}function XH(r){if(r.length<2)return 0;for(var e=0,t=0;t<r.length-1;t++){var i=r[t],n=r[t+1];e+=Eo(i[0],i[1],n[0],n[1])}return e}function ZH(r,e){if(e>1||e<0||r.length<2)return null;var t=zpt(r),i=t.segments,n=t.totalLength;if(n===0)return{x:r[0][0],y:r[0][1]};for(var a=0,o=null,s=0;s<i.length;s++){var l=i[s],u=l.from,f=l.to,c=l.length/n;if(e>=a&&e<=a+c){var h=(e-a)/c;o=Ha.pointAt(u[0],u[1],f[0],f[1],h);break}a+=c}return o}function KH(r,e){if(e>1||e<0||r.length<2)return 0;for(var t=zpt(r),i=t.segments,n=t.totalLength,a=0,o=0,s=0;s<i.length;s++){var l=i[s],u=l.from,f=l.to,c=l.length/n;if(e>=a&&e<=a+c){o=Math.atan2(f[1]-u[1],f[0]-u[0]);break}a+=c}return o}function QH(r,e,t){for(var i=1/0,n=0;n<r.length-1;n++){var a=r[n],o=r[n+1],s=Ha.pointDistance(a[0],a[1],o[0],o[1],e,t);s<i&&(i=s)}return i}var XA={box:function(r){for(var e=[],t=[],i=0;i<r.length;i++){var n=r[i];e.push(n[0]),t.push(n[1])}return Vy(e,t)},length:function(r){return XH(r)},pointAt:function(r,e){return ZH(r,e)},pointDistance:function(r,e,t){return QH(r,e,t)},tangentAngle:function(r,e){return KH(r,e)}};function jpt(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function ZA(r,e){var t=r.get("startArrowShape"),i=r.get("endArrowShape"),n=null,a=null;return t&&(n=t.getCanvasBBox(),e=jpt(e,n)),i&&(a=i.getCanvasBBox(),e=jpt(e,a)),e}function Ypt(r){for(var e=r.attr(),t=e.points,i=[],n=[],a=0;a<t.length;a++){var o=t[a];i.push(o[0]),n.push(o[1])}var s=UA.getBBoxByArray(i,n),l=s.x,u=s.y,f=s.width,c=s.height,h={minX:l,minY:u,maxX:l+f,maxY:u+c};return h=ZA(r,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function Wpt(r){for(var e=r.attr(),t=e.points,i=[],n=[],a=0;a<t.length;a++){var o=t[a];i.push(o[0]),n.push(o[1])}return UA.getBBoxByArray(i,n)}var $H=null;function OS(){if(!$H){var r=document.createElement("canvas");r.width=1,r.height=1,$H=r.getContext("2d")}return $H}function kS(r,e,t){var i=1;if(cr(r)&&(i=r.split(`
`).length),i>1){var n=nre(e,t);return e*i+n*(i-1)}return e}function nre(r,e){return e?e-r:r*.14}function Vpt(r,e){var t=OS(),i=0;if(Kt(r)||r==="")return i;if(t.save(),t.font=e,cr(r)&&r.includes(`
`)){var n=r.split(`
`);at(n,function(a){var o=t.measureText(a).width;i<o&&(i=o)})}else i=t.measureText(r).width;return t.restore(),i}function PS(r){var e=r.fontSize,t=r.fontFamily,i=r.fontWeight,n=r.fontStyle,a=r.fontVariant;return[n,a,i,e+"px",t].join(" ").trim()}function qpt(r){var e=r.attr(),t=e.x,i=e.y,n=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=PS(e));var l=Vpt(n,s),u;if(!l)u={x:t,y:i,width:0,height:0};else{var f=e.textAlign,c=e.textBaseline,h=kS(n,a,o),d={x:t,y:i-h};f&&(f==="end"||f==="right"?d.x-=l:f==="center"&&(d.x-=l/2)),c&&(c==="top"?d.y+=h:c==="middle"&&(d.y+=h/2)),u={x:d.x,y:d.y,width:l,height:h}}return u}var are=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,ore=/[^\s\,]+/ig;function sre(r){var e=r||[];if($t(e))return e;if(cr(e))return e=e.match(are),at(e,function(t,i){if(t=t.match(ore),t[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}at(t,function(a,o){isNaN(a)||(t[o]=+a)}),e[i]=t}),e}var JH=sre;var rk=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Rmr=new RegExp("([a-z])["+rk+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+rk+"]*,?["+rk+"]*)+)","ig"),Gmr=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+rk+"]*,?["+rk+"]*","ig");var Wmr=Math.PI*2;function LR(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function tU(r,e){return LR(r)*LR(e)?(r[0]*e[0]+r[1]*e[1])/(LR(r)*LR(e)):1}function Hpt(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(tU(r,e))}function OR(r,e){return r[0]===e[0]&&r[1]===e[1]}function kR(r,e){var t=e[1],i=e[2],n=Kh(Qh(e[3]),Math.PI*2),a=e[4],o=e[5],s=r[0],l=r[1],u=e[6],f=e[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-f)/2,h=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-f)/2,d=c*c/(t*t)+h*h/(i*i);d>1&&(t*=Math.sqrt(d),i*=Math.sqrt(d));var v=t*t*(h*h)+i*i*(c*c),p=v?Math.sqrt((t*t*(i*i)-v)/v):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=i?p*t*h/i:0,m=t?p*-i*c/t:0,y=(s+u)/2+Math.cos(n)*g-Math.sin(n)*m,x=(l+f)/2+Math.sin(n)*g+Math.cos(n)*m,b=[(c-g)/t,(h-m)/i],_=[(-1*c-g)/t,(-1*h-m)/i],M=Hpt([1,0],b),A=Hpt(b,_);return tU(b,_)<=-1&&(A=Math.PI),tU(b,_)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:y,cy:x,rx:OR(r,[u,f])?0:t,ry:OR(r,[u,f])?0:i,startAngle:M,endAngle:M+A,xRotation:n,arcFlag:a,sweepFlag:o}}function Upt(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function PR(r){r=JH(r);for(var e=[],t=null,i=null,n=null,a=0,o=r.length,s=0;s<o;s++){var l=r[s];i=r[s+1];var u=l[0],f={command:u,prePoint:t,params:l,startTangent:null,endTangent:null};switch(u){case"M":n=[l[1],l[2]],a=s;break;case"A":var c=kR(t,l);f.arcParams=c;break;default:break}if(u==="Z")t=n,i=r[a+1];else{var h=l.length;t=[l[h-2],l[h-1]]}i&&i[0]==="Z"&&(i=r[a],e[a]&&(e[a].prePoint=t)),f.currentPoint=t,e[a]&&OR(t,e[a].currentPoint)&&(e[a].prePoint=f.prePoint);var d=i?[i[i.length-2],i[i.length-1]]:null;f.nextPoint=d;var v=f.prePoint;if(["L","H","V"].includes(u))f.startTangent=[v[0]-t[0],v[1]-t[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]];else if(u==="Q"){var p=[l[1],l[2]];f.startTangent=[v[0]-p[0],v[1]-p[1]],f.endTangent=[t[0]-p[0],t[1]-p[1]]}else if(u==="T"){var g=e[s-1],p=Upt(g.currentPoint,v);g.command==="Q"?(f.command="Q",f.startTangent=[v[0]-p[0],v[1]-p[1]],f.endTangent=[t[0]-p[0],t[1]-p[1]]):(f.command="TL",f.startTangent=[v[0]-t[0],v[1]-t[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]])}else if(u==="C"){var m=[l[1],l[2]],y=[l[3],l[4]];f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]],f.startTangent[0]===0&&f.startTangent[1]===0&&(f.startTangent=[m[0]-y[0],m[1]-y[1]]),f.endTangent[0]===0&&f.endTangent[1]===0&&(f.endTangent=[y[0]-m[0],y[1]-m[1]])}else if(u==="S"){var g=e[s-1],m=Upt(g.currentPoint,v),y=[l[1],l[2]];g.command==="C"?(f.command="C",f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]]):(f.command="SQ",f.startTangent=[v[0]-y[0],v[1]-y[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]])}else if(u==="A"){var x=.001,b=f.arcParams||{},_=b.cx,M=_===void 0?0:_,A=b.cy,I=A===void 0?0:A,k=b.rx,E=k===void 0?0:k,O=b.ry,P=O===void 0?0:O,N=b.sweepFlag,R=N===void 0?0:N,z=b.startAngle,B=z===void 0?0:z,Y=b.endAngle,q=Y===void 0?0:Y;R===0&&(x*=-1);var j=E*Math.cos(B-x)+M,Z=P*Math.sin(B-x)+I;f.startTangent=[j-n[0],Z-n[1]];var tt=E*Math.cos(B+q+x)+M,lt=P*Math.sin(B+q-x)+I;f.endTangent=[v[0]-tt,v[1]-lt]}e.push(f)}return e}function pre(r,e){for(var t=[],i=[],n=[],a=0;a<r.length;a++){var o=r[a],s=o.currentPoint,l=o.params,u=o.prePoint,f=void 0;switch(o.command){case"Q":f=ek.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":f=Hy.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var c=o.arcParams;f=UH.box(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:t.push(s[0]),i.push(s[1]);break}f&&(o.box=f,t.push(f.x,f.x+f.width),i.push(f.y,f.y+f.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&n.push(o)}t=t.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0}),i=i.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0});var h=Ws(t),d=Ws(i),v=ms(t),p=ms(i);if(n.length===0)return{x:h,y:d,width:v-h,height:p-d};for(var a=0;a<n.length;a++){var o=n[a],s=o.currentPoint,g=void 0;s[0]===h?(g=DR(o,e),h=h-g.xExtra):s[0]===v&&(g=DR(o,e),v=v+g.xExtra),s[1]===d?(g=DR(o,e),d=d-g.yExtra):s[1]===p&&(g=DR(o,e),p=p+g.yExtra)}return{x:h,y:d,width:v-h,height:p-d}}function DR(r,e){var t=r.prePoint,i=r.currentPoint,n=r.nextPoint,a=Math.pow(i[0]-t[0],2)+Math.pow(i[1]-t[1],2),o=Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2),s=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||Oa(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(n[1]-i[1],n[0]-i[0])),f=Math.abs(Math.atan2(n[0]-i[0],n[1]-i[1]));u=u>Math.PI/2?Math.PI-u:u,f=f>Math.PI/2?Math.PI-f:f;var c={xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(f-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return c}function Xpt(r){var e=r.attr(),t=e.path,i=e.stroke,n=i?e.lineWidth:0,a=r.get("segments")||PR(t),o=pre(a,n),s=o.x,l=o.y,u=o.width,f=o.height,c={minX:s,minY:l,maxX:s+u,maxY:l+f};return c=ZA(r,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function Zpt(r){var e=r.attr(),t=e.x1,i=e.y1,n=e.x2,a=e.y2,o=Math.min(t,n),s=Math.max(t,n),l=Math.min(i,a),u=Math.max(i,a),f={minX:o,maxX:s,minY:l,maxY:u};return f=ZA(r,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function Kpt(r){var e=r.attr(),t=e.x,i=e.y,n=e.rx,a=e.ry;return{x:t-n,y:i-a,width:n*2,height:a*2}}zf("rect",YH);zf("image",YH);zf("circle",WH);zf("marker",WH);zf("polyline",Ypt);zf("polygon",Wpt);zf("text",qpt);zf("path",Xpt);zf("line",Zpt);zf("ellipse",Kpt);var eU=0,Qpt=1/2,$pt=1/2,Jpt=.05;var gre=function(){function r(e){var t=e.xField,i=e.yField,n=e.adjustNames,a=n===void 0?["x","y"]:n,o=e.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=i,this.dimValuesMap=o}return r.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},r.prototype.getAdjustRange=function(e,t,i){var n=this.yField,a=i.indexOf(t),o=i.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=i[a===0?0:a-1],l=i[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-i[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},r.prototype.adjustData=function(e,t){var i=this,n=this.getDimValues(t);at(e,function(a,o){at(n,function(s,l){i.adjustDim(l,s,a,o)})})},r.prototype.groupData=function(e,t){return at(e,function(i){i[t]===void 0&&(i[t]=eU)}),Ll(e,t)},r.prototype.adjustDim=function(e,t,i,n){},r.prototype.getDimValues=function(e){var t=this,i=t.xField,n=t.yField,a=Vi({},this.dimValuesMap),o=[];if(i&&this.isAdjust("x")&&o.push(i),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=Il(e,l).sort(function(u,f){return u-f}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[eU,1]}return a},r}(),Tv=gre;var tgt={},ik=function(r){return tgt[r.toLowerCase()]},KA=function(r,e){if(ik(r))throw new Error("Adjust type '"+r+"' existed.");tgt[r.toLowerCase()]=e};var _gt=et(wgt()),{__extends:V1,__assign:Jp,__rest:O0r,__decorate:k0r,__param:P0r,__metadata:D0r,__awaiter:F0r,__generator:N0r,__exportStar:B0r,__createBinding:R0r,__values:G0r,__read:z0r,__spread:j0r,__spreadArrays:Y0r,__await:W0r,__asyncGenerator:V0r,__asyncDelegator:q0r,__asyncValues:H0r,__makeTemplateObject:U0r,__importStar:X0r,__importDefault:Z0r,__classPrivateFieldGet:K0r,__classPrivateFieldSet:Q0r}=_gt.default;var mre=function(r){V1(e,r);function e(t){var i=r.call(this,t)||this;i.cacheMap={},i.adjustDataArray=[],i.mergeData=[];var n=t.marginRatio,a=n===void 0?Qpt:n,o=t.dodgeRatio,s=o===void 0?$pt:o,l=t.dodgeBy,u=t.intervalPadding,f=t.dodgePadding,c=t.xDimensionLength,h=t.groupNum,d=t.defaultSize,v=t.maxColumnWidth,p=t.minColumnWidth,g=t.columnWidthRatio,m=t.customOffset;return i.marginRatio=a,i.dodgeRatio=s,i.dodgeBy=l,i.intervalPadding=u,i.dodgePadding=f,i.xDimensionLegenth=c,i.groupNum=h,i.defaultSize=d,i.maxColumnWidth=v,i.minColumnWidth=p,i.columnWidthRatio=g,i.customOffset=m,i}return e.prototype.process=function(t){var i=Vs(t),n=Zo(i),a=this.dodgeBy,o=a?Nq(n,a):i;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],i},e.prototype.adjustDim=function(t,i,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return at(u,function(f,c){var h;i.length===1?h={pre:i[0]-1,next:i[0]+1}:h=o.getAdjustRange(t,parseFloat(c),i),at(f,function(d){var v=d[t],p=l[v],g=p.indexOf(a);if(Kt(s))d[t]=o.getDodgeOffset(h,g,p.length);else{var m=h.pre,y=h.next;d[t]=nr(s)?s(d,h):(m+y)/2+s}})}),[]},e.prototype.getDodgeOffset=function(t,i,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,f=t.pre,c=t.next,h=c-f,d;if(!Kt(l)&&Kt(u)&&l>=0){var v=this.getIntervalOnlyOffset(n,i);d=f+v}else if(!Kt(u)&&Kt(l)&&u>=0){var v=this.getDodgeOnlyOffset(n,i);d=f+v}else if(!Kt(l)&&!Kt(u)&&l>=0&&u>=0){var v=this.getIntervalAndDodgeOffset(n,i);d=f+v}else{var p=h*o/n,g=s*p,v=1/2*(h-n*p-(n-1)*g)+((i+1)*p+i*g)-1/2*p-1/2*h;d=(f+c)/2+v}return d},e.prototype.getIntervalOnlyOffset=function(t,i){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,f=n.maxColumnWidth,c=n.minColumnWidth,h=n.columnWidthRatio,d=o/s,v=(1-(l-1)*d)/l*u/(t-1),p=((1-d*(l-1))/l-v*(t-1))/t;if(p=Kt(h)?p:1/l/t*h,!Kt(f)){var g=f/s;p=Math.min(p,g)}if(!Kt(c)){var m=c/s;p=Math.max(p,m)}p=a?a/s:p,v=((1-(l-1)*d)/l-t*p)/(t-1);var y=((1/2+i)*p+i*v+1/2*d)*l-d/2;return y},e.prototype.getDodgeOnlyOffset=function(t,i){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,f=n.maxColumnWidth,c=n.minColumnWidth,h=n.columnWidthRatio,d=o/s,v=1*u/(l-1),p=((1-v*(l-1))/l-d*(t-1))/t;if(p=h?1/l/t*h:p,!Kt(f)){var g=f/s;p=Math.min(p,g)}if(!Kt(c)){var m=c/s;p=Math.max(p,m)}p=a?a/s:p,v=(1-(p*t+d*(t-1))*l)/(l-1);var y=((1/2+i)*p+i*d+1/2*v)*l-v/2;return y},e.prototype.getIntervalAndDodgeOffset=function(t,i){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,f=o/s,c=((1-u*(l-1))/l-f*(t-1))/t,h=((1/2+i)*c+i*f+1/2*u)*l-u/2;return h},e.prototype.getDistribution=function(t){var i=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},at(i,function(o,s){var l=Il(o,t);l.length||l.push(0),at(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},e}(Tv),Sgt=mre;function yre(r,e){return(e-r)*Math.random()+r}var xre=function(r){V1(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var i=Vs(t),n=Zo(i);return this.adjustData(i,n),i},e.prototype.adjustDim=function(t,i,n){var a=this,o=this.groupData(n,t);return at(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),i)})},e.prototype.getAdjustOffset=function(t){var i=t.pre,n=t.next,a=(n-i)*Jpt;return yre(i+a,n-a)},e.prototype.adjustGroup=function(t,i,n,a){var o=this,s=this.getAdjustRange(i,n,a);return at(t,function(l){l[i]=o.getAdjustOffset(s)}),t},e}(Tv),Cgt=xre;var iU=Uq,bre=function(r){V1(e,r);function e(t){var i=r.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,f=t.reverseOrder,c=f===void 0?!1:f;return i.adjustNames=a,i.height=s,i.size=u,i.reverseOrder=c,i}return e.prototype.process=function(t){var i=this,n=i.yField,a=i.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var i=this,n=i.xField,a=i.yField,o=i.reverseOrder,s=o?this.reverse(t):t,l=new iU,u=new iU;return s.map(function(f){return f.map(function(c){var h,d=At(c,n,0),v=At(c,[a]),p=d.toString();if(v=$t(v)?v[1]:v,!Kt(v)){var g=v>=0?l:u;g.has(p)||g.set(p,0);var m=g.get(p),y=v+m;return g.set(p,y),Jp(Jp({},c),(h={},h[a]=[m,y],h))}return c})})},e.prototype.processOneDimStack=function(t){var i=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,f=new iU;return u.map(function(c){return c.map(function(h){var d,v=i.size,p=h[a],g=v*2/o;f.has(p)||f.set(p,g/2);var m=f.get(p);return f.set(p,m+g),Jp(Jp({},h),(d={},d[l]=m,d))})})},e}(Tv),Mgt=bre;var wre=function(r){V1(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var i=Zo(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(i),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return oo(t,function(u){return oo(u,function(f){var c,h,d=f[o],v=f[a];if($t(d)){var p=(l-s[v])/2;return Jp(Jp({},f),(c={},c[o]=oo(d,function(m){return p+m}),c))}var g=(l-d)/2;return Jp(Jp({},f),(h={},h[o]=[g,d+g],h))})})},e.prototype.getXValuesMaxMap=function(t){var i=this,n=this,a=n.xField,o=n.yField,s=Ll(t,function(l){return l[a]});return Vq(s,function(l){return i.getDimMaxValue(l,o)})},e.prototype.getDimMaxValue=function(t,i){var n=oo(t,function(o){return At(o,i,[])}),a=Zo(n);return Math.max.apply(Math,a)},e}(Tv),Agt=wre;KA("Dodge",Sgt);KA("Jitter",Cgt);KA("Stack",Mgt);KA("Symmetric",Agt);var Egt=function(r,e){return cr(e)?e:r.invert(r.scale(e))},_re=function(){function r(e){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(e)}return r.prototype.mapping=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t.map(function(a,o){return e._toOriginParam(a,e.scales[o])});return this.callback.apply(this,n)},r.prototype.getLinearValue=function(e){var t=this.values.length-1,i=Math.floor(t*e),n=t*e-i,a=this.values[i],o=i===t?a:this.values[i+1];return a+(o-a)*n},r.prototype.getNames=function(){for(var e=this.scales,t=this.names,i=Math.min(e.length,t.length),n=[],a=0;a<i;a+=1)n.push(t[a]);return n},r.prototype.getFields=function(){return this.scales.map(function(e){return e.field})},r.prototype.getScale=function(e){return this.scales[this.names.indexOf(e)]},r.prototype.defaultCallback=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===0?this.values:t.map(function(n,a){var o=e.scales[a];return o.type==="identity"?o.values[0]:e._getAttributeValue(o,n)})},r.prototype._parseCfg=function(e){var t=this,i=e.type,n=i===void 0?"base":i,a=e.names,o=a===void 0?[]:a,s=e.scales,l=s===void 0?[]:s,u=e.values,f=u===void 0?[]:u,c=e.callback;this.type=n,this.scales=l,this.values=f,this.names=o,this.callback=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];if(c){var v=c.apply(void 0,h);if(!Kt(v))return[v]}return t.defaultCallback.apply(t,h)}},r.prototype._getAttributeValue=function(e,t){if(e.isCategory&&!this.linear){var i=e.translate(t);return this.values[i%this.values.length]}var n=e.scale(t);return this.getLinearValue(n)},r.prototype._toOriginParam=function(e,t){return t.isLinear?e:$t(e)?e.map(function(i){return Egt(t,i)}):Egt(t,e)},r}(),Wc=_re;var Sre=/rgba?\(([\s.,0-9]+)\)/,Cre=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Mre=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Are=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Ere=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},Tre=function(){var r=document.createElement("i");return r.title="Web Colour Picker",r.style.display="none",document.body.appendChild(r),r},nU=function(r,e,t,i){return r[i]+(e[i]-r[i])*t};function Tgt(r){return"#"+aU(r[0])+aU(r[1])+aU(r[2])}var Igt=function(r){return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]},aU=function(r){var e=Math.round(r).toString(16);return e.length===1?"0"+e:e},Ire=function(r,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),i=r.length-1,n=Math.floor(i*t),a=i*t-n,o=r[n],s=n===i?o:r[n+1];return Tgt([nU(o,s,a,0),nU(o,s,a,1),nU(o,s,a,2)])},BR,Lgt=function(r){if(r[0]==="#"&&r.length===7)return r;BR||(BR=Tre()),BR.style.color=r;var e=document.defaultView.getComputedStyle(BR,"").getPropertyValue("color"),t=Sre.exec(e),i=t[1].split(/\s*,\s*/).map(function(n){return Number(n)});return e=Tgt(i),e},Lre=function(r){var e=cr(r)?r.split("-"):r,t=oo(e,function(i){return Igt(i.indexOf("#")===-1?Lgt(i):i)});return function(i){return Ire(t,i)}},Ore=function(r){if(Ere(r)){var e,t=void 0;if(r[0]==="l"){var i=Cre.exec(r),n=+i[1]+90;t=i[2],e="linear-gradient("+n+"deg, "}else if(r[0]==="r"){e="radial-gradient(";var i=Mre.exec(r);t=i[4]}var a=t.match(Are);return at(a,function(o,s){var l=o.split(":");e+=l[1]+" "+l[0]*100+"%",s!==a.length-1&&(e+=", ")}),e+=")",e}return r},Uy={rgb2arr:Igt,gradient:Lre,toRGB:jy(Lgt),toCSSGradient:Ore};var kre=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="color",i.names=["color"],cr(i.values)&&(i.linear=!0),i.gradient=Uy.gradient(i.values),i}return e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(Wc),oU=kre;var Pre=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="opacity",i.names=["opacity"],i}return e}(Wc),Ogt=Pre;var Dre=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.names=["x","y"],i.type="position",i}return e.prototype.mapping=function(t,i){var n=this.scales,a=n[0],o=n[1];return Kt(t)||Kt(i)?[]:[$t(t)?t.map(function(s){return a.scale(s)}):a.scale(t),$t(i)?i.map(function(s){return o.scale(s)}):o.scale(i)]},e}(Wc),kgt=Dre;var Fre=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="shape",i.names=["shape"],i}return e.prototype.getLinearValue=function(t){var i=Math.round((this.values.length-1)*t);return this.values[i]},e}(Wc),Pgt=Fre;var Nre=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="size",i.names=["size"],i}return e}(Wc),Dgt=Nre;var Fgt={};function RR(r){return Fgt[r]}function $h(r,e){Fgt[r]=e}var Bre=function(){function r(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return r.prototype.translate=function(e){return e},r.prototype.change=function(e){Vi(this.__cfg__,e),this.init()},r.prototype.clone=function(){return this.constructor(this.__cfg__)},r.prototype.getTicks=function(){var e=this;return oo(this.ticks,function(t,i){return Gi(t)?t:{text:e.getText(t,i),tickValue:t,value:e.scale(t)}})},r.prototype.getText=function(e,t){var i=this.formatter,n=i?i(e,t):e;return Kt(n)||!nr(n.toString)?"":n.toString()},r.prototype.getConfig=function(e){return this.__cfg__[e]},r.prototype.init=function(){Vi(this,this.__cfg__),this.setDomain(),Ts(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},r.prototype.initCfg=function(){},r.prototype.setDomain=function(){},r.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if(cr(e)){var i=RR(e);if(!i)throw new Error("There is no method to to calculate ticks!");t=i(this)}else nr(e)&&(t=e(this));return t},r.prototype.rangeMin=function(){return this.range[0]},r.prototype.rangeMax=function(){return this.range[1]},r.prototype.calcPercent=function(e,t,i){return qr(e)?(e-t)/(i-t):NaN},r.prototype.calcValue=function(e,t,i){return t+e*(i-t)},r}(),Iv=Bre;var Rre=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var i=this.translateIndexMap.get(t);return i===void 0&&(i=qr(t)?t:NaN),i},e.prototype.scale=function(t){var i=this.translate(t),n=this.calcPercent(i,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var i=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(i*n)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},e.prototype.getText=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var a=t;return qr(t)&&!this.values.includes(t)&&(a=this.values[a]),r.prototype.getText.apply(this,cu([a],i))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if(Kt(this.getConfig("min"))&&(this.min=0),Kt(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(Iv),DS=Rre;var uU={};ai(uU,{assign:()=>U1,default:()=>lU,defaultI18n:()=>sU,format:()=>Kgt,parse:()=>Qgt,setGlobalDateI18n:()=>Ygt,setGlobalDateMasks:()=>Zgt});var Ngt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,q1="\\d\\d?",H1="\\d\\d",Gre="\\d{3}",zre="\\d{4}",nk="[^\\s]+",Bgt=/\[([^]*?)\]/gm;function Rgt(r,e){for(var t=[],i=0,n=r.length;i<n;i++)t.push(r[i].substr(0,e));return t}var Ggt=function(r){return function(e,t){var i=t[r].map(function(a){return a.toLowerCase()}),n=i.indexOf(e.toLowerCase());return n>-1?n:null}};function U1(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0,n=e;i<n.length;i++){var a=n[i];for(var o in a)r[o]=a[o]}return r}var zgt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],jgt=["January","February","March","April","May","June","July","August","September","October","November","December"],jre=Rgt(jgt,3),Yre=Rgt(zgt,3),sU={dayNamesShort:Yre,dayNames:zgt,monthNamesShort:jre,monthNames:jgt,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!=10?1:0)*r%10]}},GR=U1({},sU),Ygt=function(r){return GR=U1(GR,r)},Wgt=function(r){return r.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},jf=function(r,e){for(e===void 0&&(e=2),r=String(r);r.length<e;)r="0"+r;return r},Wre={D:function(r){return String(r.getDate())},DD:function(r){return jf(r.getDate())},Do:function(r,e){return e.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return jf(r.getDay())},ddd:function(r,e){return e.dayNamesShort[r.getDay()]},dddd:function(r,e){return e.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return jf(r.getMonth()+1)},MMM:function(r,e){return e.monthNamesShort[r.getMonth()]},MMMM:function(r,e){return e.monthNames[r.getMonth()]},YY:function(r){return jf(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return jf(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return jf(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return jf(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return jf(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return jf(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return jf(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return jf(r.getMilliseconds(),3)},a:function(r,e){return r.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(r,e){return r.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+jf(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+jf(Math.floor(Math.abs(e)/60),2)+":"+jf(Math.abs(e)%60,2)}},Vgt=function(r){return+r-1},qgt=[null,q1],Hgt=[null,nk],Ugt=["isPm",nk,function(r,e){var t=r.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],Xgt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(r){var e=(r+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],Vre={D:["day",q1],DD:["day",H1],Do:["day",q1+nk,function(r){return parseInt(r,10)}],M:["month",q1,Vgt],MM:["month",H1,Vgt],YY:["year",H1,function(r){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+r>68?t-1:t)+r)}],h:["hour",q1,void 0,"isPm"],hh:["hour",H1,void 0,"isPm"],H:["hour",q1],HH:["hour",H1],m:["minute",q1],mm:["minute",H1],s:["second",q1],ss:["second",H1],YYYY:["year",zre],S:["millisecond","\\d",function(r){return+r*100}],SS:["millisecond",H1,function(r){return+r*10}],SSS:["millisecond",Gre],d:qgt,dd:qgt,ddd:Hgt,dddd:Hgt,MMM:["month",nk,Ggt("monthNamesShort")],MMMM:["month",nk,Ggt("monthNames")],a:Ugt,A:Ugt,ZZ:Xgt,Z:Xgt},zR={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Zgt=function(r){return U1(zR,r)},Kgt=function(r,e,t){if(e===void 0&&(e=zR.default),t===void 0&&(t={}),typeof r=="number"&&(r=new Date(r)),Object.prototype.toString.call(r)!=="[object Date]"||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");e=zR[e]||e;var i=[];e=e.replace(Bgt,function(a,o){return i.push(o),"@@@"});var n=U1(U1({},GR),t);return e=e.replace(Ngt,function(a){return Wre[a](r,n)}),e.replace(/@@@/g,function(){return i.shift()})};function Qgt(r,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=zR[e]||e,r.length>1e3)return null;var i=new Date,n={year:i.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(Bgt,function(b,_){return o.push(Wgt(_)),"@@@"}),l={},u={};s=Wgt(s).replace(Ngt,function(b){var _=Vre[b],M=_[0],A=_[1],I=_[3];if(l[M])throw new Error("Invalid format. "+M+" specified twice in format");return l[M]=!0,I&&(u[I]=!0),a.push(_),"("+A+")"}),Object.keys(u).forEach(function(b){if(!l[b])throw new Error("Invalid format. "+b+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=r.match(new RegExp(s,"i"));if(!f)return null;for(var c=U1(U1({},GR),t),h=1;h<f.length;h++){var d=a[h-1],v=d[0],p=d[2],g=p?p(f[h],c):+f[h];if(g==null)return null;n[v]=g}n.isPm===1&&n.hour!=null&&+n.hour!=12?n.hour=+n.hour+12:n.isPm===0&&+n.hour==12&&(n.hour=0);var m;if(n.timezoneOffset==null){m=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond);for(var y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,x=y.length;h<x;h++)if(l[y[h][0]]&&n[y[h][0]]!==m[y[h][1]]())return null}else if(m=new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond)),n.month>11||n.month<0||n.day>31||n.day<1||n.hour>23||n.hour<0||n.minute>59||n.minute<0||n.second>59||n.second<0)return null;return m}var qre={format:Kgt,parse:Qgt,defaultI18n:sU,setGlobalDateI18n:Ygt,setGlobalDateMasks:Zgt},lU=qre;function $gt(r){return function(e,t,i,n){for(var a=Kt(i)?0:i,o=Kt(n)?e.length:n;a<o;){var s=a+o>>>1;r(e[s])>t?o=s:a=s+1}return a}}var Jgt="format";function jR(r,e){var t=uU[Jgt]||lU[Jgt];return t(r,e)}function $A(r){return cr(r)&&(r.indexOf("T")>0?r=new Date(r).getTime():r=new Date(r.replace(/-/gi,"/")).getTime()),NO(r)&&(r=r.getTime()),r}var Jh=1e3,X1=60*Jh,Z1=60*X1,tg=24*Z1,JA=tg*31,fU=tg*365;var ak=[["HH:mm:ss",Jh],["HH:mm:ss",Jh*10],["HH:mm:ss",Jh*30],["HH:mm",X1],["HH:mm",X1*10],["HH:mm",X1*30],["HH",Z1],["HH",Z1*6],["HH",Z1*12],["YYYY-MM-DD",tg],["YYYY-MM-DD",tg*4],["YYYY-WW",tg*7],["YYYY-MM",JA],["YYYY-MM",JA*4],["YYYY-MM",JA*6],["YYYY",tg*380]];function tmt(r,e,t){var i=(e-r)/t,n=$gt(function(o){return o[1]})(ak,i)-1,a=ak[n];return n<0?a=ak[0]:n>=ak.length&&(a=jn(ak)),a}var Hre=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=$A(t);var i=this.values.indexOf(t);return i===-1&&(qr(t)&&t<this.values.length?i=t:i=NaN),i},e.prototype.getText=function(t,i){var n=this.translate(t);if(n>-1){var a=this.values[n],o=this.formatter;return a=o?o(a,i):jR(a,this.mask),a}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;at(t,function(i,n){t[n]=$A(i)}),t.sort(function(i,n){return i-n}),r.prototype.setDomain.call(this)},e}(DS),emt=Hre;var Ure=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if(Kt(t))return NaN;var i=this.rangeMin(),n=this.rangeMax(),a=this.max,o=this.min;if(a===o)return i;var s=this.getScalePercent(t);return i+s*(n-i)},e.prototype.init=function(){r.prototype.init.call(this);var t=this.ticks,i=ao(t),n=jn(t);i<this.min&&(this.min=i),n>this.max&&(this.max=n),Kt(this.minLimit)||(this.min=i),Kt(this.maxLimit)||(this.max=n)},e.prototype.setDomain=function(){var t=kq(this.values),i=t.min,n=t.max;Kt(this.min)&&(this.min=i),Kt(this.max)&&(this.max=n),this.min>this.max&&(this.min=i,this.max=n)},e.prototype.calculateTicks=function(){var t=this,i=r.prototype.calculateTicks.call(this);return this.nice||(i=ho(i,function(n){return n>=t.min&&n<=t.max})),i},e.prototype.getScalePercent=function(t){var i=this.max,n=this.min;return(t-n)/(i-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(Iv),K1=Ure;var Xre=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var i=this.getInvertPercent(t);return this.min+i*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(K1),FS=Xre;function eg(r,e){var t=Math.E,i;return e>=0?i=Math.pow(t,Math.log(e)/r):i=Math.pow(t,Math.log(-e)/r)*-1,i}function Yf(r,e){return r===1?1:Math.log(e)/Math.log(r)}function YR(r,e,t){Kt(t)&&(t=Math.max.apply(null,r));var i=t;return at(r,function(n){n>0&&n<i&&(i=n)}),i===t&&(i=t/e),i>1&&(i=1),i}var Zre=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var i=this.base,n=Yf(i,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,l=this.positiveMin;if(l){if(t===0)return 0;s=Yf(i,l/i);var u=1/(n-s)*o;if(t<u)return t/u*l}else s=Yf(i,this.min);var f=(t-a)/o,c=f*(n-s)+s;return Math.pow(i,c)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){r.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=YR(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var i=this.max,n=this.min;if(i===n||t<=0)return 0;var a=this.base,o=this.positiveMin;o&&(n=o*1/a);var s;return t<o?s=t/o/(Yf(a,i)-Yf(a,n)):s=(Yf(a,t)-Yf(a,n))/(Yf(a,i)-Yf(a,n)),s},e}(K1),rmt=Zre;var Kre=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var i=this.getInvertPercent(t),n=this.exponent,a=eg(n,this.max),o=eg(n,this.min),s=i*(a-o)+o,l=s>=0?1:-1;return Math.pow(s,n)*l},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var i=this.max,n=this.min;if(i===n)return 0;var a=this.exponent,o=(eg(a,t)-eg(a,n))/(eg(a,i)-eg(a,n));return o},e}(K1),imt=Kre;var Qre=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,i){var n=this.translate(t),a=this.formatter;return a?a(n,i):jR(n,this.mask)},e.prototype.scale=function(t){var i=t;return(cr(i)||NO(i))&&(i=this.translate(i)),r.prototype.scale.call(this,i)},e.prototype.translate=function(t){return $A(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,i=this.getConfig("min"),n=this.getConfig("max");if((!Kt(i)||!qr(i))&&(this.min=this.translate(this.min)),(!Kt(n)||!qr(n))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,l=0;at(t,function(u){var f=$A(u);if(isNaN(f))throw new TypeError("Invalid Time: "+u+" in time scale!");o>f?(s=o,o=f):s>f&&(s=f),l<f&&(l=f),a.push(f)}),t.length>1&&(this.minTickInterval=s-o),Kt(i)&&(this.min=o),Kt(n)&&(this.max=l)}},e}(FS),nmt=Qre;var $re=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var i=this.ticks,n=i.length,a=this.getInvertPercent(t),o=Math.floor(a*(n-1));if(o>=n-1)return jn(i);if(o<0)return ao(i);var s=i[o],l=i[o+1],u=o/(n-1),f=(o+1)/(n-1);return s+(a-u)/(f-u)*(l-s)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=r.prototype.calculateTicks.call(this);return this.nice||(jn(t)!==this.max&&t.push(this.max),ao(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var i=this.ticks;if(t<ao(i))return 0;if(t>jn(i))return 1;var n=0;return at(i,function(a,o){if(t>=a)n=o;else return!1}),n/(i.length-1)},e}(K1),WR=$re;var Jre=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(WR),amt=Jre;var omt={};function tE(r){return omt[r]}function td(r,e){if(tE(r))throw new Error("type '"+r+"' existed.");omt[r]=e}var tie=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&qr(t)?t:this.range[0]},e.prototype.invert=function(t){var i=this.range;return t<i[0]||t>i[1]?NaN:this.values[0]},e}(Iv),smt=tie;function ok(r){var e=r.values,t=r.tickInterval,i=r.tickCount,n=r.showLast;if(qr(t)){var a=ho(e,function(v,p){return p%t==0}),o=jn(e);return n&&jn(a)!==o&&a.push(o),a}var s=e.length,l=r.min,u=r.max;if(Kt(l)&&(l=0),Kt(u)&&(u=e.length-1),!qr(i)||i>=s)return e.slice(l,u+1);if(i<=0||u<=0)return[];for(var f=i===1?s:Math.floor(s/(i-1)),c=[],h=l,d=0;d<i&&!(h>=u);d++)h=Math.min(l+d*f,u),d===i-1&&n?c.push(e[u]):c.push(e[h]);return c}function cU(r){var e=r.min,t=r.max,i=r.nice,n=r.tickCount,a=new eie;return a.domain([e,t]),i&&a.nice(n),a.ticks(n)}var hU=5,lmt=Math.sqrt(50),umt=Math.sqrt(10),fmt=Math.sqrt(2),eie=function(){function r(){this._domain=[0,1]}return r.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},r.prototype.nice=function(e){var t,i;e===void 0&&(e=hU);var n=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o],u;return l<s&&(t=[l,s],s=t[0],l=t[1],i=[o,a],a=i[0],o=i[1]),u=VR(s,l,e),u>0?(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,u=VR(s,l,e)):u<0&&(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,u=VR(s,l,e)),u>0?(n[a]=Math.floor(s/u)*u,n[o]=Math.ceil(l/u)*u,this.domain(n)):u<0&&(n[a]=Math.ceil(s*u)/u,n[o]=Math.floor(l*u)/u,this.domain(n)),this},r.prototype.ticks=function(e){return e===void 0&&(e=hU),rie(this._domain[0],this._domain[this._domain.length-1],e||hU)},r}();function rie(r,e,t){var i,n=-1,a,o,s;if(e=+e,r=+r,t=+t,r===e&&t>0)return[r];if((i=e<r)&&(a=r,r=e,e=a),(s=VR(r,e,t))===0||!isFinite(s))return[];if(s>0)for(r=Math.ceil(r/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-r+1));++n<a;)o[n]=(r+n)*s;else for(r=Math.floor(r*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(r-e+1));++n<a;)o[n]=(r-n)/s;return i&&o.reverse(),o}function VR(r,e,t){var i=(e-r)/Math.max(0,t),n=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,n);return n>=0?(a>=lmt?10:a>=umt?5:a>=fmt?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(a>=lmt?10:a>=umt?5:a>=fmt?2:1)}function cmt(r,e,t){var i;return t==="ceil"?i=Math.ceil(r/e):t==="floor"?i=Math.floor(r/e):i=Math.round(r/e),i*e}function NS(r,e,t){var i=cmt(r,t,"floor"),n=cmt(e,t,"ceil");i=DO(i,t),n=DO(n,t);for(var a=[],o=Math.max((n-i)/(Math.pow(2,12)-1),t),s=i;s<=n;s=s+o){var l=DO(s,o);a.push(l)}return{min:i,max:n,ticks:a}}function BS(r,e,t){var i,n=r.minLimit,a=r.maxLimit,o=r.min,s=r.max,l=r.tickCount,u=l===void 0?5:l,f=Kt(n)?Kt(e)?o:e:n,c=Kt(a)?Kt(t)?s:t:a;if(f>c&&(i=[f,c],c=i[0],f=i[1]),u<=2)return[f,c];for(var h=(c-f)/(u-1),d=[],v=0;v<u;v++)d.push(f+h*v);return d}function dU(r){var e=r.min,t=r.max,i=r.tickInterval,n=r.minLimit,a=r.maxLimit,o=cU(r);return!Kt(n)||!Kt(a)?BS(r,ao(o),jn(o)):i?NS(e,t,i).ticks:o}function Xy(r){return Math.abs(r)<1e-15?r:parseFloat(r.toFixed(15))}var iie=[1,5,2,2.5,4,3];var hmt=Number.EPSILON*100;function nie(r,e){return(r%e+e)%e}function aie(r){return Math.round(r*1e12)/1e12}function oie(r,e,t,i,n,a){var o=Mo(e),s=JB(e,r),l=0,u=nie(i,a);return(u<hmt||a-u<hmt)&&i<=0&&n>=0&&(l=1),1-s/(o-1)-t+l}function sie(r,e,t){var i=Mo(e),n=JB(e,r),a=1;return 1-n/(i-1)-t+a}function lie(r,e,t,i,n,a){var o=(r-1)/(a-n),s=(e-1)/(Math.max(a,i)-Math.min(t,n));return 2-Math.max(o/s,s/o)}function uie(r,e){return r>=e?2-(r-1)/(e-1):1}function fie(r,e,t,i){var n=e-r;return 1-.5*(Math.pow(e-i,2)+Math.pow(r-t,2))/Math.pow(.1*n,2)}function cie(r,e,t){var i=e-r;if(t>i){var n=(t-i)/2;return 1-Math.pow(n,2)/Math.pow(.1*i,2)}return 1}function hie(){return 1}function vU(r,e,t,i,n,a){t===void 0&&(t=5),i===void 0&&(i=!0),n===void 0&&(n=iie),a===void 0&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(r)||Number.isNaN(e)||typeof r!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-r<1e-15||o===1)return{min:r,max:e,ticks:[r]};if(e-r>1e148){var s=t||5,l=(e-r)/s;return{min:r,max:e,ticks:Array(s).fill(null).map(function(tt,lt){return Xy(r+l*lt)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},f=1;f<1/0;){for(var c=0;c<n.length;c+=1){var h=n[c],d=sie(h,n,f);if(a[0]*d+a[1]+a[2]+a[3]<u.score){f=1/0;break}for(var v=2;v<1/0;){var p=uie(v,o);if(a[0]*d+a[1]+a[2]*p+a[3]<u.score)break;for(var g=(e-r)/(v+1)/f/h,m=Math.ceil(Math.log10(g));m<1/0;){var y=f*h*Math.pow(10,m),x=cie(r,e,y*(v-1));if(a[0]*d+a[1]*x+a[2]*p+a[3]<u.score)break;var b=Math.floor(e/y)*f-(v-1)*f,_=Math.ceil(r/y)*f;if(b<=_)for(var s=_-b,M=0;M<=s;M+=1){var A=b+M,I=A*(y/f),k=I+y*(v-1),E=y,O=oie(h,n,f,I,k,E),P=fie(r,e,I,k),N=lie(v,o,r,e,I,k),R=hie(),z=a[0]*O+a[1]*P+a[2]*N+a[3]*R;z>u.score&&(!i||I<=r&&k>=e)&&(u.lmin=I,u.lmax=k,u.lstep=E,u.score=z)}m+=1}v+=1}}f+=1}var B=Xy(u.lmax),Y=Xy(u.lmin),q=Xy(u.lstep),j=Math.floor(aie((B-Y)/q))+1,Z=new Array(j);Z[0]=Xy(Y);for(var c=1;c<j;c++)Z[c]=Xy(Z[c-1]+q);return{min:Math.min(r,ao(Z)),max:Math.max(e,jn(Z)),ticks:Z}}function pU(r){var e=r.min,t=r.max,i=r.tickCount,n=r.nice,a=r.tickInterval,o=r.minLimit,s=r.maxLimit,l=vU(e,t,i,n).ticks;return!Kt(o)||!Kt(s)?BS(r,ao(l),jn(l)):a?NS(e,t,a).ticks:l}function gU(r){var e=r.base,t=r.tickCount,i=r.min,n=r.max,a=r.values,o,s=Yf(e,n);if(i>0)o=Math.floor(Yf(e,i));else{var l=YR(a,e,n);o=Math.floor(Yf(e,l))}for(var u=s-o,f=Math.ceil(u/t),c=[],h=o;h<s+f;h=h+f)c.push(Math.pow(e,h));return i<=0&&c.unshift(0),c}function sk(r,e,t){if(t===void 0&&(t=5),r===e)return{max:e,min:r,ticks:[r]};var i=t<0?0:Math.round(t);if(i===0)return{max:e,min:r,ticks:[]};var n=1.5,a=.5+1.5*n,o=e-r,s=o/i,l=Math.pow(10,Math.floor(Math.log10(s))),u=l;2*l-s<n*(s-u)&&(u=2*l,5*l-s<a*(s-u)&&(u=5*l,10*l-s<n*(s-u)&&(u=10*l)));for(var f=Math.ceil(e/u),c=Math.floor(r/u),h=Math.max(f*u,e),d=Math.min(c*u,r),v=Math.floor((h-d)/u)+1,p=new Array(v),g=0;g<v;g++)p[g]=Xy(d+g*u);return{min:d,max:h,ticks:p}}function mU(r){var e=r.exponent,t=r.tickCount,i=Math.ceil(eg(e,r.max)),n=Math.floor(eg(e,r.min)),a=sk(n,i,t).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,e)*s})}function die(r,e){var t=r.length*e;return e===1?r[r.length-1]:e===0?r[0]:t%1!=0?r[Math.ceil(t)-1]:r.length%2==0?(r[t-1]+r[t])/2:r[t]}function yU(r){var e=r.tickCount,t=r.values;if(!t||!t.length)return[];for(var i=t.slice().sort(function(s,l){return s-l}),n=[],a=0;a<e;a++){var o=a/(e-1);n.push(die(i,o))}return n}function xU(r){var e=r.min,t=r.max,i=r.tickCount,n=r.tickInterval,a=r.minLimit,o=r.maxLimit,s=sk(e,t,i).ticks;return!Kt(a)||!Kt(o)?BS(r,ao(s),jn(s)):n?NS(e,t,n).ticks:s}function bU(r){var e=r.min,t=r.max,i=r.minTickInterval,n=r.tickInterval,a=r.tickCount;if(n)a=Math.ceil((t-e)/n);else{n=tmt(e,t,a)[1];var o=(t-e)/n,s=o/a;s>1&&(n=n*Math.ceil(s)),i&&n<i&&(n=i)}n=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),n);for(var l=[],u=e;u<t+n;u+=n)l.push(u);return l}function wU(r){var e=ok(S({showLast:!0},r));return e}function qR(r){return new Date(r).getFullYear()}function vie(r){return new Date(r,0,1).getTime()}function _U(r){return new Date(r).getMonth()}function pie(r,e){var t=qR(r),i=qR(e),n=_U(r),a=_U(e);return(i-t)*12+(a-n)%12}function gie(r,e){return new Date(r,e,1).getTime()}function mie(r,e){return Math.ceil((e-r)/tg)}function yie(r,e){return Math.ceil((e-r)/Z1)}function xie(r,e){return Math.ceil((e-r)/(60*1e3))}function SU(r){var e=r.min,t=r.max,i=r.minTickInterval,n=r.tickCount,a=r.tickInterval,o=[];a||(a=(t-e)/n,i&&a<i&&(a=i)),a=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),a);var s=qR(e);if(a>fU)for(var l=qR(t),u=Math.ceil(a/fU),f=s;f<=l+u;f=f+u)o.push(vie(f));else if(a>JA)for(var c=Math.ceil(a/JA),h=_U(e),d=pie(e,t),f=0;f<=d+c;f=f+c)o.push(gie(s,f+h));else if(a>tg)for(var v=new Date(e),p=v.getFullYear(),g=v.getMonth(),m=v.getDate(),y=Math.ceil(a/tg),x=mie(e,t),f=0;f<x+y;f=f+y)o.push(new Date(p,g,m+f).getTime());else if(a>Z1)for(var v=new Date(e),p=v.getFullYear(),g=v.getMonth(),y=v.getDate(),b=v.getHours(),_=Math.ceil(a/Z1),M=yie(e,t),f=0;f<=M+_;f=f+_)o.push(new Date(p,g,y,b+f).getTime());else if(a>X1)for(var A=xie(e,t),I=Math.ceil(a/X1),f=0;f<=A+I;f=f+I)o.push(e+f*X1);else{var k=a;k<Jh&&(k=Jh);for(var E=Math.floor(e/Jh)*Jh,O=Math.ceil((t-e)/Jh),P=Math.ceil(k/Jh),f=0;f<O+P;f=f+P)o.push(E+f*Jh)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}$h("cat",ok);$h("time-cat",wU);$h("wilkinson-extended",pU);$h("r-pretty",xU);$h("time",bU);$h("time-pretty",SU);$h("log",gU);$h("pow",mU);$h("quantile",yU);$h("d3-linear",dU);td("cat",DS);td("category",DS);td("identity",smt);td("linear",FS);td("log",rmt);td("pow",imt);td("time",nmt);td("timeCat",emt);td("quantize",WR);td("quantile",amt);var dmt={},lk=function(r){return dmt[r.toLowerCase()]},eE=function(r,e){if(lk(r))throw new Error("Attribute type '".concat(r,"' existed."));dmt[r.toLowerCase()]=e};eE("Color",oU);eE("Opacity",Ogt);eE("Position",kgt);eE("Shape",Pgt);eE("Size",Dgt);var bie=function(){function r(e){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=e.start,i=e.end,n=e.matrix,a=n===void 0?[1,0,0,0,1,0,0,0,1]:n,o=e.isTransposed,s=o===void 0?!1:o;this.start=t,this.end=i,this.matrix=a,this.originalMatrix=ne([],a),this.isTransposed=s}return r.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},r.prototype.update=function(e){Vi(this,e),this.initial()},r.prototype.convertDim=function(e,t){var i,n=this[t],a=n.start,o=n.end;return this.isReflect(t)&&(i=[o,a],a=i[0],o=i[1]),a+e*(o-a)},r.prototype.invertDim=function(e,t){var i,n=this[t],a=n.start,o=n.end;return this.isReflect(t)&&(i=[o,a],a=i[0],o=i[1]),(e-a)/(o-a)},r.prototype.applyMatrix=function(e,t,i){i===void 0&&(i=0);var n=this.matrix,a=[e,t,i];return Av.transformMat3(a,a,n),a},r.prototype.invertMatrix=function(e,t,i){i===void 0&&(i=0);var n=this.matrix,a=Rf.invert([0,0,0,0,0,0,0,0,0],n),o=[e,t,i];return a&&Av.transformMat3(o,o,a),o},r.prototype.convert=function(e){var t=this.convertPoint(e),i=t.x,n=t.y,a=this.applyMatrix(i,n,1);return{x:a[0],y:a[1]}},r.prototype.invert=function(e){var t=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:t[0],y:t[1]})},r.prototype.rotate=function(e){var t=this.matrix,i=this.center;return Ni.leftTranslate(t,t,[-i.x,-i.y]),Ni.leftRotate(t,t,e),Ni.leftTranslate(t,t,[i.x,i.y]),this},r.prototype.reflect=function(e){return e==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},r.prototype.scale=function(e,t){var i=this.matrix,n=this.center;return Ni.leftTranslate(i,i,[-n.x,-n.y]),Ni.leftScale(i,i,[e,t]),Ni.leftTranslate(i,i,[n.x,n.y]),this},r.prototype.translate=function(e,t){var i=this.matrix;return Ni.leftTranslate(i,i,[e,t]),this},r.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},r.prototype.getCenter=function(){return this.center},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRadius=function(){return this.radius},r.prototype.isReflect=function(e){return e==="x"?this.isReflectX:this.isReflectY},r.prototype.resetMatrix=function(e){this.matrix=e||ne([],this.originalMatrix)},r}(),Zy=bie;var wie=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.isRect=!0,i.type="cartesian",i.initial(),i}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=this.start,i=this.end;this.x={start:t.x,end:i.x},this.y={start:t.y,end:i.y}},e.prototype.convertPoint=function(t){var i,n=t.x,a=t.y;return this.isTransposed&&(i=[a,n],n=i[0],a=i[1]),{x:this.convertDim(n,"x"),y:this.convertDim(a,"y")}},e.prototype.invertPoint=function(t){var i,n=this.invertDim(t.x,"x"),a=this.invertDim(t.y,"y");return this.isTransposed&&(i=[a,n],n=i[0],a=i[1]),{x:n,y:a}},e}(Zy),CU=wie;var _ie=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.isHelix=!0,i.type="helix";var n=t.startAngle,a=n===void 0?1.25*Math.PI:n,o=t.endAngle,s=o===void 0?7.25*Math.PI:o,l=t.innerRadius,u=l===void 0?0:l,f=t.radius;return i.startAngle=a,i.endAngle=s,i.innerRadius=u,i.radius=f,i.initial(),i}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,i=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(i=i*this.radius),this.d=Math.floor(i*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*i,end:this.innerRadius*i+this.d*.99}},e.prototype.convertPoint=function(t){var i,n=t.x,a=t.y;this.isTransposed&&(i=[a,n],n=i[0],a=i[1]);var o=this.convertDim(n,"x"),s=this.a*o,l=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+l),y:this.center.y+Math.sin(o)*(s+l)}},e.prototype.invertPoint=function(t){var i,n=this.d+this.y.start,a=mr.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=Ni.angleTo(a,[1,0],!0),s=o*this.a;mr.length(a)<s&&(s=mr.length(a));var l=Math.floor((mr.length(a)-s)/n);o=2*l*Math.PI+o;var u=this.a*o,f=mr.length(a)-u;f=Oa(f,0)?0:f;var c=this.invertDim(o,"x"),h=this.invertDim(f,"y");return c=Oa(c,0)?0:c,h=Oa(h,0)?0:h,this.isTransposed&&(i=[h,c],c=i[0],h=i[1]),{x:c,y:h}},e}(Zy),vmt=_ie;var Sie=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.isPolar=!0,i.type="polar";var n=t.startAngle,a=n===void 0?-Math.PI/2:n,o=t.endAngle,s=o===void 0?Math.PI*3/2:o,l=t.innerRadius,u=l===void 0?0:l,f=t.radius;return i.startAngle=a,i.endAngle=s,i.innerRadius=u,i.radius=f,i.initial(),i}return e.prototype.initial=function(){for(r.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),i=t.maxX-t.minX,n=t.maxY-t.minY,a=Math.abs(t.minX)/i,o=Math.abs(t.minY)/n,s;this.height/n>this.width/i?(s=this.width/i,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*s*n}):(s=this.height/n,this.circleCenter={x:this.center.x-(.5-a)*s*i,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var i,n=this.getCenter(),a=t.x,o=t.y;return this.isTransposed&&(i=[o,a],a=i[0],o=i[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:n.x+Math.cos(a)*o,y:n.y+Math.sin(a)*o}},e.prototype.invertPoint=function(t){var i,n=this.getCenter(),a=[t.x-n.x,t.y-n.y],o=this,s=o.startAngle,l=o.endAngle;this.isReflect("x")&&(i=[l,s],s=i[0],l=i[1]);var u=[1,0,0,0,1,0,0,0,1];Ni.leftRotate(u,u,s);var f=[1,0,0];Av.transformMat3(f,f,u);var c=[f[0],f[1]],h=Ni.angleTo(c,a,l<s);Oa(h,Math.PI*2)&&(h=0);var d=mr.length(a),v=h/(l-s);v=l-s>0?v:-v;var p=this.invertDim(d,"y"),g={x:0,y:0};return g.x=this.isTransposed?p:v,g.y=this.isTransposed?v:p,g},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,i=this.endAngle;if(Math.abs(i-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(i)],a=[0,Math.sin(t),Math.sin(i)],o=Math.min(t,i);o<Math.max(t,i);o+=Math.PI/18)n.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},e}(Zy),pmt=Sie;var gmt={},HR=function(r){return gmt[r.toLowerCase()]},rE=function(r,e){gmt[r.toLowerCase()]=e};rE("rect",CU);rE("cartesian",CU);rE("polar",pmt);rE("helix",vmt);var dk={};ai(dk,{Arc:()=>Emt,DataMarker:()=>Lmt,DataRegion:()=>Omt,Html:()=>Dmt,Image:()=>Imt,Line:()=>Mmt,Region:()=>Tmt,RegionFilter:()=>kmt,Shape:()=>Pmt,Text:()=>Amt});function uk(r,e,t){var i=new Kp(e,t);i.target=r,i.propagationPath.push(r),r.emitDelegation(e,i);for(var n=r.getParent();n;)n.emitDelegation(e,i),i.propagationPath.push(n),n=n.getParent()}var mmt=[1,0,0,0,1,0,0,0,1];function Lv(r,e,t){if(t===void 0&&(t=mmt),!e)return null;var i=Ni.transform(t,[["t",-r.x,-r.y],["r",e],["t",r.x,r.y]]);return i}function fk(r,e){return!r.x&&!r.y?null:Ni.transform(e||mmt,[["t",r.x,r.y]])}function ymt(r){var e=[1,0,0],t=[0,0,0];return Av.transformMat3(t,e,r),Math.atan2(t[1],t[0])}function UR(r,e){var t=[0,0];return mr.transformMat3(t,e,r),t}function xmt(r,e){var t=UR(r,[e.minX,e.minY]),i=UR(r,[e.maxX,e.minY]),n=UR(r,[e.minX,e.maxY]),a=UR(r,[e.maxX,e.maxY]),o=Math.min(t[0],i[0],n[0],a[0]),s=Math.max(t[0],i[0],n[0],a[0]),l=Math.min(t[1],i[1],n[1],a[1]),u=Math.max(t[1],i[1],n[1],a[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:u,width:s-o,height:u-l}}function XR(r,e,t,i){if(e){var n=Lv({x:t,y:i},e,r.getMatrix());r.setMatrix(n)}}function iE(r,e,t){var i=fk({x:e,y:t});r.attr("matrix",i)}function RS(r){var e=0,t=0,i=0,n=0;return qr(r)?e=t=i=n=r:$t(r)&&(e=r[0],i=Kt(r[1])?r[0]:r[1],n=Kt(r[2])?r[0]:r[2],t=Kt(r[3])?i:r[3]),[e,i,n,t]}function nE(r){for(var e=r.childNodes,t=e.length,i=t-1;i>=0;i--)r.removeChild(e[i])}function bmt(r,e){return!!r.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Ky(r){var e=r.start,t=r.end,i=Math.min(e.x,t.x),n=Math.min(e.y,t.y),a=Math.max(e.x,t.x),o=Math.max(e.y,t.y);return{x:i,y:n,minX:i,minY:n,maxX:a,maxY:o,width:a-i,height:o-n}}function wmt(r){var e=r.map(function(s){return s.x}),t=r.map(function(s){return s.y}),i=Math.min.apply(Math,e),n=Math.min.apply(Math,t),a=Math.max.apply(Math,e),o=Math.max.apply(Math,t);return{x:i,y:n,minX:i,minY:n,maxX:a,maxY:o,width:a-i,height:o-n}}function aE(r,e,t,i){var n=r+t,a=e+i;return{x:r,y:e,width:t,height:i,minX:r,minY:e,maxX:isNaN(n)?0:n,maxY:isNaN(a)?0:a}}function Qy(r,e,t){return(1-t)*r+e*t}function Q1(r,e,t){return{x:r.x+Math.cos(t)*e,y:r.y+Math.sin(t)*e}}function Cie(r,e){var t=e.x-r.x,i=e.y-r.y;return Math.sqrt(t*t+i*i)}var ck=function(r,e,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[r,e].includes(1/0)?Math.abs(r)===Math.abs(e):Math.abs(r-e)<t};function Mie(r,e){var t=Math.max(r.minX,e.minX),i=Math.max(r.minY,e.minY),n=Math.min(r.maxX,e.maxX),a=Math.min(r.maxY,e.maxY);return aE(t,i,n-t,a-i)}function MU(r){var e=r.getClip(),t=e&&e.getBBox(),i;if(!r.isGroup())i=r.getBBox();else{var n=1/0,a=-1/0,o=1/0,s=-1/0,l=r.getChildren();l.length>0?at(l,function(u){if(u.get("visible")){if(u.isGroup()&&u.get("children").length===0)return!0;var f=MU(u),c=u.applyToMatrix([f.minX,f.minY,1]),h=u.applyToMatrix([f.minX,f.maxY,1]),d=u.applyToMatrix([f.maxX,f.minY,1]),v=u.applyToMatrix([f.maxX,f.maxY,1]),p=Math.min(c[0],h[0],d[0],v[0]),g=Math.max(c[0],h[0],d[0],v[0]),m=Math.min(c[1],h[1],d[1],v[1]),y=Math.max(c[1],h[1],d[1],v[1]);p<n&&(n=p),g>a&&(a=g),m<o&&(o=m),y>s&&(s=y)}}):(n=0,a=0,o=0,s=0),i=aE(n,o,a-n,s-o)}return t?Mie(i,t):i}function _mt(r,e){if(!(!r.getClip()&&!e.getClip())){var t=e.getClip();if(!t){r.setClip(null);return}var i={type:t.get("type"),attrs:t.attr()};r.setClip(i)}}function vu(r){return r+"px"}function ZR(r,e,t,i){var n=Cie(r,e),a=i/n,o=0;return t==="start"?o=0-a:t==="end"&&(o=1+a),{x:Qy(r.x,e.x,o),y:Qy(r.y,e.y,o)}}var Aie={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Eie=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.initCfg(),i}return e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var i=this,n=this.get("defaultCfg")||{};at(t,function(a,o){var s=i.get(o),l=a;s!==a&&(Gi(a)&&n[o]&&(l=Le({},n[o],a)),i.set(o,l))}),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){Sv(t,"visible")&&(t.visible?this.show():this.hide()),Sv(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,i){this.update({offsetX:t,offsetY:i})},e.prototype.setLocation=function(t){var i=S({},t);this.update(i)},e.prototype.getLocation=function(){var t=this,i={},n=this.get("locationType"),a=Aie[n];return at(a,function(o){i[o]=t.get(o)}),i},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,i=this.get("defaultCfg");at(i,function(n,a){var o=t.get(a);if(Gi(o)){var s=Le({},n,o);t.set(a,s)}})},e}(SS),oE=Eie;var GS="update_status",Tie=["visible","tip","delegateObject"],Iie=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Lie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},e.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var i=this.getElementById(t),n=i&&i.get("component");return n},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var i=this.getElementId(t);return this.getElementById(i)},e.prototype.getElementsByName=function(t){var i=[];return at(this.get("shapesMap"),function(n){n.get("name")===t&&i.push(n)}),i},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var i=this.get("group");this.updateElements(t,i),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){var i=this.get("group");i.set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),r.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),i=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(i=xmt(n,i)),i},e.prototype.on=function(t,i,n){var a=this.get("group");return a.on(t,i,n),this},e.prototype.off=function(t,i){var n=this.get("group");return n&&n.off(t,i),this},e.prototype.emit=function(t,i){var n=this.get("group");n.emit(t,i)},e.prototype.init=function(){r.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,i){var n=this.get("group");i.target=n,n.emit(t,i),uk(n,t,i)},e.prototype.createOffScreenGroup=function(){var t=this.get("group"),i=t.getGroupBase(),n=new i({delegateObject:this.getDelegateObject()});return n},e.prototype.applyOffset=function(){var t=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:i})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",MU(t)),t},e.prototype.addGroup=function(t,i){this.appendDelegateObject(t,i);var n=t.addGroup(i);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,i){this.appendDelegateObject(t,i);var n=t.addShape(i);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,i){var n=i.id,a=i.component,o=Ze(i,["id","component"]),s=new a(S(S({},o),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){var t=this.get("group");t.off()},e.prototype.getElementId=function(t){var i=this.get("id"),n=this.get("name");return i+"-"+n+"-"+t},e.prototype.registerElement=function(t){var i=t.get("id");this.get("shapesMap")[i]=t},e.prototype.unregisterElement=function(t){var i=t.get("id");delete this.get("shapesMap")[i]},e.prototype.moveElementTo=function(t,i){var n=fk(i);t.attr("matrix",n)},e.prototype.addAnimation=function(t,i,n){var a=i.attr("opacity");Kt(a)&&(a=1),i.attr("opacity",0),i.animate({opacity:a},n)},e.prototype.removeAnimation=function(t,i,n){i.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,i,n,a){i.animate(n,a)},e.prototype.updateElements=function(t,i){var n=this,a=this.get("animate"),o=this.get("animateOption"),s=t.getChildren().slice(0),l;at(s,function(u){var f=u.get("id"),c=n.getElementById(f),h=u.get("name");if(c)if(u.get("isComponent")){var d=u.get("component"),v=c.get("component"),p=bS(d.cfg,Iq(_v(d.cfg),Iie));v.update(p),c.set(GS,"update")}else{var g=n.getReplaceAttrs(c,u);a&&o.update?n.updateAnimation(h,c,g,o.update):c.attr(g),u.isGroup()&&n.updateElements(u,c),at(Tie,function(b){c.set(b,u.get(b))}),_mt(c,u),l=c,c.set(GS,"update")}else{i.add(u);var m=i.getChildren();if(m.splice(m.length-1,1),l){var y=m.indexOf(l);m.splice(y+1,0,u)}else m.unshift(u);if(n.registerElement(u),u.set(GS,"add"),u.get("isComponent")){var d=u.get("component");d.set("container",i)}else u.isGroup()&&n.registerNewGroup(u);if(l=u,a){var x=n.get("isInit")?o.appear:o.enter;x&&n.addAnimation(h,u,x)}}})},e.prototype.clearUpdateStatus=function(t){var i=t.getChildren();at(i,function(n){n.set(GS,null)})},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t,i=this.get("name"),n=(t={},t[i]=this,t.component=this,t);return n},e.prototype.appendDelegateObject=function(t,i){var n=t.get("delegateObject");i.delegateObject||(i.delegateObject={}),Vi(i.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,i){var n=t.attr(),a=i.attr();return at(n,function(o,s){a[s]===void 0&&(a[s]=void 0)}),a},e.prototype.registerNewGroup=function(t){var i=this,n=t.getChildren();at(n,function(a){i.registerElement(a),a.set(GS,"add"),a.isGroup()&&i.registerNewGroup(a)})},e.prototype.deleteElements=function(){var t=this,i=this.get("shapesMap"),n=[];at(i,function(s,l){!s.get(GS)||s.destroyed?n.push([l,s]):s.set(GS,null)});var a=this.get("animate"),o=this.get("animateOption");at(n,function(s){var l=s[0],u=s[1];if(!u.destroyed){var f=u.get("name");if(a&&o.leave){var c=Vi({callback:function(){t.removeElement(u)}},o.leave);t.removeAnimation(f,u,c)}else t.removeElement(u)}delete i[l]})},e.prototype.removeElement=function(t){if(t.get("isGroup")){var i=t.get("component");i&&i.destroy()}t.remove()},e}(oE),On=Lie;var AU="\u2026";function Smt(r){for(var e=0,t=0;t<r.length;t++)e+=zS(r,t);return e}function zS(r,e){return r.charCodeAt(e)>0&&r.charCodeAt(e)<128?1:2}function Cmt(r,e,t){t===void 0&&(t="tail");var i=r.length,n="";if(t==="tail"){for(var a=0,o=0;a<e;){var s=zS(r,o);if(a+s<=e)n+=r[o],a+=zS(r,o),o++;else break}n+=AU}else if(t==="head"){for(var a=0,o=i-1;a<e;){var s=zS(r,o);if(a+s<=e)n+=r[o],a+=zS(r,o),o--;else break}n=AU+n}else{for(var l="",u="",a=0,f=0,c=i-1;a<e;){var h=zS(r,f),d=!1;h+a<=e&&(l+=r[f],f++,a+=h,d=!0);var v=zS(r,c);if(v+a<=e&&(u=r[c]+u,a+=v,c--,d=!0),!d)break}n=l+AU+u}return n}var Oie="\u2026",kie=2,Pie=400;function Die(r){for(var e=r.map(function(l){var u=l.attr("text");return Kt(u)?"":""+u}),t=0,i=0,n=0;n<e.length;n+=1){for(var a=0,o=0;o<=e[n].length;o+=1){var s=e[n].charCodeAt(o);s>=19968&&s<=40869?a+=2:a+=1}a>t&&(t=a,i=n)}return r[i].getBBox().width}function hk(r){if(r.length>Pie)return Die(r);var e=0;return at(r,function(t){var i=t.getBBox(),n=i.width;e<n&&(e=n)}),e}function Fie(r,e){var t=e.getCanvasBBox();return r?t.width:t.height}function $1(r,e,t,i){var n;i===void 0&&(i="tail");var a=(n=e.attr("text"))!==null&&n!==void 0?n:"";if(i==="tail"){var o=bS(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=Hq(a,t,o,"\u2026");return a!==s?(e.attr("text",s),e.set("tip",a),!0):(e.set("tip",null),!1)}var l=Fie(r,e),u=Smt(a),f=!1;if(t<l){var c=Math.floor(t/l*u)-kie,h=void 0;c>=0?h=Cmt(a,c,i):h=Oie,h&&(e.attr("text",h),f=!0)}return f?e.set("tip",a):e.set("tip",null),f}function J1(r,e){var t=e.x,i=e.y,n=e.content,a=e.style,o=e.id,s=e.name,l=e.rotate,u=e.maxLength,f=e.autoEllipsis,c=e.isVertical,h=e.ellipsisPosition,d=e.background,v=r.addGroup({id:o+"-group",name:s+"-group",attrs:{x:t,y:i}}),p=v.addShape({type:"text",id:o,name:s,attrs:S({x:0,y:0,text:n},a)}),g=RS(At(d,"padding",0));if(u&&f){var m=u-(g[1]+g[3]);$1(!c,p,m,h)}if(d){var y=At(d,"style",{}),x=p.getCanvasBBox(),b=x.minX,_=x.minY,M=x.width,A=x.height,I=v.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:S({x:b-g[3],y:_-g[0],width:M+g[1]+g[3],height:A+g[0]+g[2]},y)});I.toBack()}iE(v,t,i),XR(v,l,t,i)}var ci={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var Nie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:ci.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:ci.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:ci.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var i=this.get("start"),n=this.get("end"),a=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:S({x1:i.x,y1:i.y,x2:n.x,y2:n.y},a)})},e.prototype.getLabelPoint=function(t,i,n){var a;return n==="start"?a=0:n==="center"?a=.5:cr(n)&&n.indexOf("%")!==-1?a=parseInt(n,10)/100:qr(n)?a=n:a=1,(a>1||a<0)&&(a=1),{x:Qy(t.x,i.x,a),y:Qy(t.y,i.y,a)}},e.prototype.renderLabel=function(t){var i=this.get("text"),n=this.get("start"),a=this.get("end"),o=i.position,s=i.content,l=i.style,u=i.offsetX,f=i.offsetY,c=i.autoRotate,h=i.maxLength,d=i.autoEllipsis,v=i.ellipsisPosition,p=i.background,g=i.isVertical,m=g===void 0?!1:g,y=this.getLabelPoint(n,a,o),x=y.x+u,b=y.y+f,_={id:this.getElementId("line-text"),name:"annotation-line-text",x,y:b,content:s,style:l,maxLength:h,autoEllipsis:d,ellipsisPosition:v,background:p,isVertical:m};if(c){var M=[a.x-n.x,a.y-n.y];_.rotate=Math.atan2(M[1],M[0])}J1(t,_)},e}(On),Mmt=Nie;var Bie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:ci.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:ci.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var i=this.getLocation(),n=i.x,a=i.y,o=this.get("content"),s=this.get("style"),l=this.getElementId("text"),u=this.get("name")+"-text",f=this.get("maxLength"),c=this.get("autoEllipsis"),h=this.get("isVertical"),d=this.get("ellipsisPosition"),v=this.get("background"),p=this.get("rotate"),g={id:l,name:u,x:n,y:a,content:o,style:s,maxLength:f,autoEllipsis:c,isVertical:h,ellipsisPosition:d,background:v,rotate:p};J1(t,g)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var i=this.getLocation(),n=i.x,a=i.y,o=this.get("rotate");iE(t,n,a),XR(t,o,n,a)}},e}(On),Amt=Bie;var Rie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),i=t.center,n=t.radius,a=t.startAngle,o=t.endAngle,s=Q1(i,n,a),l=Q1(i,n,o),u=o-a>Math.PI?1:0,f=[["M",s.x,s.y]];if(o-a==Math.PI*2){var c=Q1(i,n,a+Math.PI);f.push(["A",n,n,0,u,1,c.x,c.y]),f.push(["A",n,n,0,u,1,l.x,l.y])}else f.push(["A",n,n,0,u,1,l.x,l.y]);return f},e.prototype.renderArc=function(t){var i=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:S({path:i},n)})},e}(On),Emt=Rie;var Gie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:ci.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var i=this.get("start"),n=this.get("end"),a=this.get("style"),o=Ky({start:i,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:S({x:o.x,y:o.y,width:o.width,height:o.height},a)})},e}(On),Tmt=Gie;var zie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),i=this.get("end"),n=this.get("style"),a=Ky({start:t,end:i}),o=this.get("src");return S({x:a.x,y:a.y,img:o,width:a.width,height:a.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(On),Imt=zie;var jie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:ci.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:ci.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:ci.fontFamily}}}})},e.prototype.renderInner=function(t){At(this.get("line"),"display")&&this.renderLine(t),At(this.get("text"),"display")&&this.renderText(t),At(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var i=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:i})},e.prototype.renderLine=function(t){var i=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:i})},e.prototype.renderText=function(t){var i=this.getShapeAttrs().text,n=i.x,a=i.y,o=i.text,s=Ze(i,["x","y","text"]),l=this.get("text"),u=l.background,f=l.maxLength,c=l.autoEllipsis,h=l.isVertival,d=l.ellipsisPosition,v={x:n,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:u,maxLength:f,autoEllipsis:c,isVertival:h,ellipsisPosition:d};J1(t,v)},e.prototype.autoAdjust=function(t){var i=this.get("direction"),n=this.get("x"),a=this.get("y"),o=At(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=t.getBBox(),u=l.minX,f=l.maxX,c=l.minY,h=l.maxY,d=t.findById(this.getElementId("text-group")),v=t.findById(this.getElementId("text")),p=t.findById(this.getElementId("line"));if(!!s&&d){var g=d.attr("x"),m=d.attr("y"),y=v.getCanvasBBox(),x=y.width,b=y.height,_=0,M=0;if(n+u<=s.minX)if(i==="leftward")_=1;else{var A=s.minX-(n+u);g=d.attr("x")+A}else if(n+f>=s.maxX)if(i==="rightward")_=-1;else{var A=n+f-s.maxX;g=d.attr("x")-A}if(_&&(p&&p.attr("path",[["M",0,0],["L",o*_,0]]),g=(o+2+x)*_),a+c<=s.minY)if(i==="upward")M=1;else{var A=s.minY-(a+c);m=d.attr("y")+A}else if(a+h>=s.maxY)if(i==="downward")M=-1;else{var A=a+h-s.maxY;m=d.attr("y")-A}M&&(p&&p.attr("path",[["M",0,0],["L",0,o*M]]),m=(o+2+b)*M),(g!==d.attr("x")||m!==d.attr("y"))&&iE(d,g,m)}},e.prototype.getShapeAttrs=function(){var t=At(this.get("line"),"display"),i=At(this.get("point"),"style",{}),n=At(this.get("line"),"style",{}),a=At(this.get("text"),"style",{}),o=this.get("direction"),s=t?At(this.get("line"),"length",0):0,l=0,u=0,f="top",c="start";switch(o){case"upward":u=-1,f="bottom";break;case"downward":u=1,f="top";break;case"leftward":l=-1,c="end";break;case"rightward":l=1,c="start";break}return{point:S({x:0,y:0},i),line:S({path:[["M",0,0],["L",s*l,s*u]]},n),text:S({x:(s+2)*l,y:(s+2)*u,text:At(this.get("text"),"content",""),textBaseline:f,textAlign:c},a)}},e}(On),Lmt=jie;var Yie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:ci.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:ci.textColor,fontFamily:ci.fontFamily}}}})},e.prototype.renderInner=function(t){var i=At(this.get("region"),"style",{}),n=At(this.get("text"),"style",{}),a=this.get("lineLength")||0,o=this.get("points");if(!!o.length){var s=wmt(o),l=[];l.push(["M",o[0].x,s.minY-a]),o.forEach(function(f){l.push(["L",f.x,f.y])}),l.push(["L",o[o.length-1].x,o[o.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:S({path:l},i)});var u=S({id:this.getElementId("text"),name:"annotation-text",x:(s.minX+s.maxX)/2,y:s.minY-a},this.get("text"));J1(t,u)}},e}(On),Omt=Yie;var Wie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var i=this,n=this.get("start"),a=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});at(this.get("shapes"),function(l,u){var f=l.get("type"),c=Vs(l.attr());i.adjustShapeAttrs(c),i.addShape(o,{id:i.getElementId("shape-"+f+"-"+u),capture:!1,type:f,attrs:c})});var s=Ky({start:n,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},e.prototype.adjustShapeAttrs=function(t){var i=this.get("color");t.fill&&(t.fill=t.fillStyle=i),t.stroke=t.strokeStyle=i},e}(On),kmt=Wie;var Vie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"shape",draw:Bf})},e.prototype.renderInner=function(t){var i=this.get("render");nr(i)&&i(t)},e}(On),Pmt=Vie;var qie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var i=this.getContainer(),n=t?"auto":"none";i.style.pointerEvents=n,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),i=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return aE(i,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");nE(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),r.prototype.destroy.call(this)},e.prototype.init=function(){r.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if(Kt(t)){t=this.createDom();var i=this.get("parent");cr(i)&&(i=document.getElementById(i),this.set("parent",i)),i.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else cr(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),i=this.get("defaultStyles");t?t=Le({},i,t):t=i,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(!!t){var i=this.getContainer();this.applyChildrenStyles(i,t);var n=this.get("containerClassName");if(n&&bmt(i,n)){var a=t[n];Ao(i,a)}}},e.prototype.applyChildrenStyles=function(t,i){at(i,function(n,a){var o=t.getElementsByClassName(a);at(o,function(s){Ao(s,n)})})},e.prototype.applyStyle=function(t,i){var n=this.get("domStyles");Ao(i,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return du(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){Sv(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(oE),tb=qie;var Hie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),i=this.get("html");nE(t);var n=nr(i)?i(t):i;if(BO(n))t.appendChild(n);else if(cr(n)||qr(n)){var a=du(""+n);a&&t.appendChild(a)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),i=this.getLocation(),n=i.x,a=i.y,o=this.get("alignX"),s=this.get("alignY"),l=this.get("offsetX"),u=this.get("offsetY"),f=oR(t),c=nR(t),h={x:n,y:a};o==="middle"?h.x-=Math.round(f/2):o==="right"&&(h.x-=Math.round(f)),s==="middle"?h.y-=Math.round(c/2):s==="bottom"&&(h.y-=Math.round(c)),l&&(h.x+=l),u&&(h.y+=u),Ao(t,{position:"absolute",left:h.x+"px",top:h.y+"px",zIndex:this.get("zIndex")})},e}(tb),Dmt=Hie;var gk={};ai(gk,{Base:()=>sE,Circle:()=>Ymt,Line:()=>jmt});function jS(r,e,t){var i=e+"Style",n=null;return at(t,function(a,o){r[o]&&a[i]&&(n||(n={}),Vi(n,a[i]))}),n}var Uie=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:ci.lineColor}},tickLine:{style:{lineWidth:1,stroke:ci.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:ci.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:ci.textColor,fontFamily:ci.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:ci.textColor,textBaseline:"middle",fontFamily:ci.fontFamily,textAlign:"center"},iconStyle:{fill:ci.descriptionIconFill,stroke:ci.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:ci.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,i){Vi(t,i),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,i,n){t[i]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,i){return!!t[i]},e.prototype.getItemStates=function(t){var i=this.get("tickStates"),n=[];return at(i,function(a,o){t[o]&&n.push(o)}),n},e.prototype.clearItemsState=function(t){var i=this,n=this.getItemsByState(t);at(n,function(a){i.setItemState(a,t,!1)})},e.prototype.getItemsByState=function(t){var i=this,n=this.getItems();return ho(n,function(a){return i.hasState(a,t)})},e.prototype.getSidePoint=function(t,i){var n=this,a=n.getSideVector(i,t);return{x:t.x+a[0],y:t.y+a[1]}},e.prototype.getTextAnchor=function(t){var i;return Oa(t[0],0)?i="center":t[0]>0?i="start":t[0]<0&&(i="end"),i},e.prototype.getTextBaseline=function(t){var i;return Oa(t[1],0)?i="middle":t[1]>0?i="top":t[1]<0&&(i="bottom"),i},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var i=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Vi({path:i},n.style)})},e.prototype.getTickLineItems=function(t){var i=this,n=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,l=1,u=t.length;return u>=2&&(l=t[1].value-t[0].value),at(t,function(f){var c=f.point;o||(c=i.getTickPoint(f.value-l/2));var h=i.getSidePoint(c,s);n.push({startPoint:c,tickValue:f.value,endPoint:h,tickId:f.id,id:"tickline-"+f.id})}),n},e.prototype.getSubTickLineItems=function(t){var i=[],n=this.get("subTickLine"),a=n.count,o=t.length;if(o>=2)for(var s=0;s<o-1;s++)for(var l=t[s],u=t[s+1],f=0;f<a;f++){var c=(f+1)/(a+1),h=(1-c)*l.tickValue+c*u.tickValue,d=this.getTickPoint(h),v=this.getSidePoint(d,n.length);i.push({startPoint:d,endPoint:v,tickValue:h,id:"sub-"+l.id+"-"+f})}return i},e.prototype.getTickLineAttrs=function(t,i,n,a){var o=this.get(i).style,s={points:[t.startPoint,t.endPoint]},l=At(this.get("theme"),["tickLine","style"],{});o=nr(o)?Vi({},l,o(s,n,a)):o;var u=t.startPoint,f=t.endPoint;return S({x1:u.x,y1:u.y,x2:f.x,y2:f.y},o)},e.prototype.drawTick=function(t,i,n,a,o){this.addShape(i,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,a,o)})},e.prototype.drawTickLines=function(t){var i=this,n=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(n),s=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if(at(o,function(f,c){if(l.displayWithLabel){var h=i.getElementId("label-"+f.tickId);t.findById(h)&&i.drawTick(f,s,"tickLine",c,o)}else i.drawTick(f,s,"tickLine",c,o)}),a){var u=this.getSubTickLineItems(o);at(u,function(f,c){i.drawTick(f,s,"subTickLine",c,u)})}},e.prototype.processTicks=function(){var t=this,i=this.get("ticks");at(i,function(n){n.point=t.getTickPoint(n.value),Kt(n.id)&&(n.id=n.name)})},e.prototype.drawTicks=function(t){var i=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");at(n,function(a){i.applyTickStates(a,t)})},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),i=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=Mo(i);if(n>t.threshold){var a=Math.ceil(n/t.threshold),o=i.filter(function(s,l){return l%a==0});this.set("ticks",o),this.set("originalTicks",i)}}},e.prototype.getLabelAttrs=function(t,i,n){var a=this.get("label"),o=a.offset,s=a.offsetX,l=a.offsetY,u=a.rotate,f=a.formatter,c=this.getSidePoint(t.point,o),h=this.getSideVector(o,c),d=f?f(t.name,t,i):t.name,v=a.style;v=nr(v)?At(this.get("theme"),["label","style"],{}):v;var p=Vi({x:c.x+s,y:c.y+l,text:d,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},v);return u&&(p.matrix=Lv(c,u)),p},e.prototype.drawLabels=function(t){var i=this,n=this.get("ticks"),a=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});at(n,function(h,d){i.addShape(a,{type:"text",name:"axis-label",id:i.getElementId("label-"+h.id),attrs:i.getLabelAttrs(h,d,n),delegateObject:{tick:h,item:h,index:d}})}),this.processOverlap(a);var o=a.getChildren(),s=At(this.get("theme"),["label","style"],{}),l=this.get("label"),u=l.style,f=l.formatter;if(nr(u)){var c=o.map(function(h){return At(h.get("delegateObject"),"tick")});at(o,function(h,d){var v=h.get("delegateObject").tick,p=f?f(v.name,v,d):v.name,g=Vi({},s,u(p,d,c));h.attr(g)})}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),i=t.style,n=t.position,a=t.offset,o=t.spacing,s=o===void 0?0:o,l=t.autoRotate,u=i.fontSize,f=.5;n==="start"?f=0:n==="end"&&(f=1);var c=this.getTickPoint(f),h=this.getSidePoint(c,a||s+u/2),d=Vi({x:h.x,y:h.y,text:t.text},i),v=t.rotate,p=v;if(Kt(v)&&l){var g=this.getAxisVector(c),m=[1,0];p=Ni.angleTo(g,m,!0)}if(p){var y=Lv(h,p);d.matrix=y}return d},e.prototype.drawTitle=function(t){var i,n=this.getTitleAttrs(),a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:n});((i=this.get("title"))===null||i===void 0?void 0:i.description)&&this.drawDescriptionIcon(t,a,n.matrix)},e.prototype.drawDescriptionIcon=function(t,i,n){var a=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),o=i.getBBox(),s=o.maxX,l=o.maxY,u=o.height,f=this.get("title").iconStyle,c=4,h=u/2,d=h/6,v=s+c,p=l-u/2,g=[v+h,p-h],m=g[0],y=g[1],x=[m+h,y+h],b=x[0],_=x[1],M=[m,_+h],A=M[0],I=M[1],k=[v,y+h],E=k[0],O=k[1],P=[v+h,p-u/4],N=P[0],R=P[1],z=[N,R+d],B=z[0],Y=z[1],q=[B,Y+d],j=q[0],Z=q[1],tt=[j,Z+h*3/4],lt=tt[0],J=tt[1];this.addShape(a,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:S({path:[["M",m,y],["A",h,h,0,0,1,b,_],["A",h,h,0,0,1,A,I],["A",h,h,0,0,1,E,O],["A",h,h,0,0,1,m,y],["M",N,R],["L",B,Y],["M",j,Z],["L",lt,J]],lineWidth:d,matrix:n},f)}),this.addShape(a,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:v,y:p-u/2,width:u,height:u,stroke:"#000",fill:"#000",opacity:0,matrix:n,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,i){var n=this.getItemStates(t);if(n.length){var a=this.get("tickStates"),o=this.getElementId("label-"+t.id),s=i.findById(o);if(s){var l=jS(t,"label",a);l&&s.attr(l)}var u=this.getElementId("tickline-"+t.id),f=i.findById(u);if(f){var c=jS(t,"tickLine",a);c&&f.attr(c)}}},e.prototype.updateTickStates=function(t){var i=this.getItemStates(t),n=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);if(i.length){if(o){var u=jS(t,"label",n);u&&o.attr(u)}if(l){var f=jS(t,"tickLine",n);f&&l.attr(f)}}else o&&o.attr(a.style),l&&l.attr(s.style)},e}(On),sE=Uie;var pk={};ai(pk,{autoEllipsis:()=>TU,autoHide:()=>LU,autoRotate:()=>OU});var TU={};ai(TU,{ellipsisHead:()=>Zie,ellipsisMiddle:()=>Kie,ellipsisTail:()=>Fmt,getDefault:()=>Xie});function EU(r,e,t,i){var n=e.getChildren(),a=!1;return at(n,function(o){var s=$1(r,o,t,i);a=a||s}),a}function Xie(){return Fmt}function Zie(r,e,t){return EU(r,e,t,"head")}function Fmt(r,e,t){return EU(r,e,t,"tail")}function Kie(r,e,t){return EU(r,e,t,"middle")}var LU={};ai(LU,{equidistance:()=>Rmt,equidistanceWithReverseBoth:()=>rne,getDefault:()=>$ie,reserveBoth:()=>ene,reserveFirst:()=>Jie,reserveLast:()=>tne});function Qie(r){var e=r.attr("matrix");return e&&e[0]!==1}function Nmt(r){var e=Qie(r)?ymt(r.attr("matrix")):0;return e%360}function IU(r,e,t,i){var n=!1,a=Nmt(e),o=Math.abs(r?t.attr("y")-e.attr("y"):t.attr("x")-e.attr("x")),s=(r?t.attr("y")>e.attr("y"):t.attr("x")>e.attr("x"))?e.getBBox():t.getBBox();if(r){var l=Math.abs(Math.cos(a));ck(l,0,Math.PI/180)?n=s.width+i>o:n=s.height/l+i>o}else{var l=Math.abs(Math.sin(a));ck(l,0,Math.PI/180)?n=s.width+i>o:n=s.height/l+i>o}return n}function vk(r,e,t,i){var n=(i==null?void 0:i.minGap)||0,a=e.getChildren().slice().filter(function(v){return v.get("visible")});if(!a.length)return!1;var o=!1;t&&a.reverse();for(var s=a.length,l=a[0],u=l,f=1;f<s;f++){var c=a[f],h=c.getBBox(),d=IU(r,u,c,n);d?(c.hide(),o=!0):u=c}return o}function Bmt(r,e,t){var i=(t==null?void 0:t.minGap)||0,n=e.getChildren().slice();if(n.length<2)return!1;var a=!1,o=n[0],s=o.getBBox(),l=n[1],u=n.length,f=Nmt(o),c=Math.abs(r?l.attr("y")-o.attr("y"):l.attr("x")-o.attr("x")),h=0;if(r){var d=Math.abs(Math.cos(f));if(ck(d,0,Math.PI/180)){var v=hk(n);h=(v+i)/c}else h=(s.height/d+i)/c}else{var d=Math.abs(Math.sin(f));if(ck(d,0,Math.PI/180)){var v=hk(n);h=(v+i)/c}else h=(s.height/d+i)/c}if(h>1){h=Math.ceil(h);for(var p=0;p<u;p++)p%h!=0&&(n[p].hide(),a=!0)}return a}function $ie(){return Rmt}function Jie(r,e,t,i){return vk(r,e,!1,i)}function tne(r,e,t,i){return vk(r,e,!0,i)}function ene(r,e,t,i){var n=(i==null?void 0:i.minGap)||0,a=e.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,l=a[0],u=a[s-1],f=l,c=1;c<s-1;c++){var h=a[c],d=h.getBBox(),v=IU(r,f,h,n);v?(h.hide(),o=!0):f=h}var p=IU(r,f,u,n);return p&&(f.hide(),o=!0),o}function Rmt(r,e,t,i){var n=Bmt(r,e,i);return vk(r,e,!1)&&(n=!0),n}function rne(r,e,t,i){var n=e.getChildren().slice(),a=Bmt(r,e,i);if(n.length>2){var o=n[0],s=n[n.length-1];o.get("visible")||(o.show(),vk(r,e,!1,i)&&(a=!0)),s.get("visible")||(s.show(),vk(r,e,!0,i)&&(a=!0))}return a}var OU={};ai(OU,{fixedAngle:()=>zmt,getDefault:()=>nne,unfixedAngle:()=>ane});function ine(r,e){at(r,function(t){var i=t.attr("x"),n=t.attr("y"),a=Lv({x:i,y:n},e);t.attr("matrix",a)})}function Gmt(r,e,t,i){var n=e.getChildren();if(!n.length||!r&&n.length<2)return!1;var a=hk(n),o=!1;if(r)o=!!t&&a>t;else{var s=Math.abs(n[1].attr("x")-n[0].attr("x"));o=a>s}if(o){var l=i(t,a);ine(n,l)}return o}function nne(){return zmt}function zmt(r,e,t,i){return Gmt(r,e,t,function(){return qr(i)?i:r?ci.verticalAxisRotate:ci.horizontalAxisRotate})}function ane(r,e,t){return Gmt(r,e,t,function(i,n){if(!i)return r?ci.verticalAxisRotate:ci.horizontalAxisRotate;if(r)return-Math.acos(i/n);var a=0;return i>n?a=Math.PI/4:(a=Math.asin(i/n),a>Math.PI/4&&(a=Math.PI/4)),a})}var one=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),i=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",i.x,i.y]),n},e.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),i=this.get("end"),n=r.prototype.getInnerLayoutBBox.call(this),a=Math.min(t.x,i.x,n.x),o=Math.min(t.y,i.y,n.y),s=Math.max(t.x,i.x,n.maxX),l=Math.max(t.y,i.y,n.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:l,width:s-a,height:l-o}},e.prototype.isVertical=function(){var t=this.get("start"),i=this.get("end");return Oa(t.x,i.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),i=this.get("end");return Oa(t.y,i.y)},e.prototype.getTickPoint=function(t){var i=this,n=i.get("start"),a=i.get("end"),o=a.x-n.x,s=a.y-n.y;return{x:n.x+o*t,y:n.y+s*t}},e.prototype.getSideVector=function(t){var i=this.getAxisVector(),n=mr.normalize([0,0],i),a=this.get("verticalFactor"),o=[n[1],n[0]*-1];return mr.scale([0,0],o,t*a)},e.prototype.getAxisVector=function(){var t=this.get("start"),i=this.get("end");return[i.x-t.x,i.y-t.y]},e.prototype.processOverlap=function(t){var i=this,n=this.isVertical(),a=this.isHorizontal();if(!(!n&&!a)){var o=this.get("label"),s=this.get("title"),l=this.get("verticalLimitLength"),u=o.offset,f=l,c=0,h=0;s&&(c=s.style.fontSize,h=s.spacing),f&&(f=f-u-h-c);var d=this.get("overlapOrder");if(at(d,function(g){o[g]&&i.canProcessOverlap(g)&&i.autoProcessOverlap(g,o[g],t,f)}),s&&Kt(s.offset)){var v=t.getCanvasBBox(),p=n?v.width:v.height;s.offset=u+p+h+c/2}}},e.prototype.canProcessOverlap=function(t){var i=this.get("label");return t==="autoRotate"?Kt(i.rotate):!0},e.prototype.autoProcessOverlap=function(t,i,n,a){var o=this,s=this.isVertical(),l=!1,u=pk[t];if(i===!0){var f=this.get("label");l=u.getDefault()(s,n,a)}else if(nr(i))l=i(s,n,a);else if(Gi(i)){var c=i;u[c.type]&&(l=u[c.type](s,n,a,c.cfg))}else u[i]&&(l=u[i](s,n,a));if(t==="autoRotate"){if(l){var h=n.getChildren(),d=this.get("verticalFactor");at(h,function(p){var g=p.attr("textAlign");if(g==="center"){var m=d>0?"end":"start";p.attr("textAlign",m)}})}}else if(t==="autoHide"){var v=n.getChildren().slice(0);at(v,function(p){p.get("visible")||(o.get("isRegister")&&o.unregisterElement(p),p.remove())})}},e}(sE),jmt=one;var sne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getLinePath=function(){var t=this.get("center"),i=t.x,n=t.y,a=this.get("radius"),o=a,s=this.get("startAngle"),l=this.get("endAngle"),u=[];if(Math.abs(l-s)===Math.PI*2)u=[["M",i,n-o],["A",a,o,0,1,1,i,n+o],["A",a,o,0,1,1,i,n-o],["Z"]];else{var f=this.getCirclePoint(s),c=this.getCirclePoint(l),h=Math.abs(l-s)>Math.PI?1:0,d=s>l?0:1;u=[["M",i,n],["L",f.x,f.y],["A",a,o,0,h,d,c.x,c.y],["L",i,n]]}return u},e.prototype.getTickPoint=function(t){var i=this.get("startAngle"),n=this.get("endAngle"),a=i+(n-i)*t;return this.getCirclePoint(a)},e.prototype.getSideVector=function(t,i){var n=this.get("center"),a=[i.x-n.x,i.y-n.y],o=this.get("verticalFactor"),s=mr.length(a);return mr.scale(a,a,o*t/s),a},e.prototype.getAxisVector=function(t){var i=this.get("center"),n=[t.x-i.x,t.y-i.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,i){var n=this.get("center");return i=i||this.get("radius"),{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},e.prototype.canProcessOverlap=function(t){var i=this.get("label");return t==="autoRotate"?Kt(i.rotate):!0},e.prototype.processOverlap=function(t){var i=this,n=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=n.offset,l=o,u=0,f=0;a&&(u=a.style.fontSize,f=a.spacing),l&&(l=l-s-f-u);var c=this.get("overlapOrder");if(at(c,function(d){n[d]&&i.canProcessOverlap(d)&&i.autoProcessOverlap(d,n[d],t,l)}),a&&Kt(a.offset)){var h=t.getCanvasBBox().height;a.offset=s+h+f+u/2}},e.prototype.autoProcessOverlap=function(t,i,n,a){var o=this,s=!1,l=pk[t];if(a>0)if(i===!0)s=l.getDefault()(!1,n,a);else if(nr(i))s=i(!1,n,a);else if(Gi(i)){var u=i;l[u.type]&&(s=l[u.type](!1,n,a,u.cfg))}else l[i]&&(s=l[i](!1,n,a));if(t==="autoRotate"){if(s){var f=n.getChildren(),c=this.get("verticalFactor");at(f,function(d){var v=d.attr("textAlign");if(v==="center"){var p=c>0?"end":"start";d.attr("textAlign",p)}})}}else if(t==="autoHide"){var h=n.getChildren().slice(0);at(h,function(d){d.get("visible")||(o.get("isRegister")&&o.unregisterElement(d),d.remove())})}},e}(sE),Ymt=sne;var WS={};ai(WS,{Base:()=>lE,Circle:()=>Vmt,Html:()=>Hmt,Line:()=>Wmt});var lne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:ci.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:ci.textColor,textAlign:"center",textBaseline:"middle",fontFamily:ci.fontFamily}},textBackground:{padding:5,style:{stroke:ci.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var i=this.get("text"),n=i.style,a=i.autoRotate,o=i.content;if(!Kt(o)){var s=this.getTextPoint(),l=null;if(a){var u=this.getRotateAngle();l=Lv(s,u)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:S(S(S({},s),{text:o,matrix:l}),n)})}},e.prototype.renderLine=function(t){var i=this.getLinePath(),n=this.get("line"),a=n.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:S({path:i},a)})},e.prototype.renderBackground=function(t){var i=this.getElementId("text"),n=t.findById(i),a=this.get("textBackground");if(a&&n){var o=n.getBBox(),s=RS(a.padding),l=a.style,u=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:S({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:n.attr("matrix")},l)});u.toBack()}},e}(On),lE=lne;var une=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),i=t.start,n=t.end,a=this.get("text").position,o=Math.atan2(n.y-i.y,n.x-i.x),s=a==="start"?o-Math.PI/2:o+Math.PI/2;return s},e.prototype.getTextPoint=function(){var t=this.getLocation(),i=t.start,n=t.end,a=this.get("text"),o=a.position,s=a.offset;return ZR(i,n,o,s)},e.prototype.getLinePath=function(){var t=this.getLocation(),i=t.start,n=t.end;return[["M",i.x,i.y],["L",n.x,n.y]]},e}(lE),Wmt=une;var fne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),i=t.startAngle,n=t.endAngle,a=this.get("text").position,o=a==="start"?i+Math.PI/2:n-Math.PI/2;return o},e.prototype.getTextPoint=function(){var t=this.get("text"),i=t.position,n=t.offset,a=this.getLocation(),o=a.center,s=a.radius,l=a.startAngle,u=a.endAngle,f=i==="start"?l:u,c=this.getRotateAngle()-Math.PI,h=Q1(o,s,f),d=Math.cos(c)*n,v=Math.sin(c)*n;return{x:h.x+d,y:h.y+v}},e.prototype.getLinePath=function(){var t=this.getLocation(),i=t.center,n=t.radius,a=t.startAngle,o=t.endAngle,s=null;if(o-a==Math.PI*2){var l=i.x,u=i.y;s=[["M",l,u-n],["A",n,n,0,1,1,l,u+n],["A",n,n,0,1,1,l,u-n],["Z"]]}else{var f=Q1(i,n,a),c=Q1(i,n,o),h=Math.abs(o-a)>Math.PI?1:0,d=a>o?0:1;s=[["M",f.x,f.y],["A",n,n,0,h,d,c.x,c.y]]}return s},e}(lE),Vmt=fne;var YS="g2-crosshair",mk=YS+"-line",yk=YS+"-text";var xk,qmt=(xk={},xk[""+YS]={position:"relative"},xk[""+mk]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},xk[""+yk]={position:"absolute",color:ci.textColor,fontFamily:ci.fontFamily},xk);var cne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+YS+'"></div>',crosshairTpl:'<div class="'+mk+'"></div>',textTpl:'<span class="'+yk+'">{content}</span>',domStyles:null,containerClassName:YS,defaultStyles:qmt,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),i=this.get("crosshairTpl"),n=du(i);t.appendChild(n),this.applyStyle(mk,n),this.set("crosshairEl",n)},e.prototype.getTextPoint=function(){var t=this.getLocation(),i=t.start,n=t.end,a=this.get("text"),o=a.position,s=a.offset;return ZR(i,n,o,s)},e.prototype.resetText=function(){var t=this.get("text"),i=this.get("textEl");if(t){var n=t.content;if(!i){var a=this.getContainer(),o=FO(this.get("textTpl"),t);i=du(o),a.appendChild(i),this.applyStyle(yk,i),this.set("textEl",i)}i.innerHTML=n}else i&&i.remove()},e.prototype.isVertical=function(t,i){return t.x===i.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var i=this.get("start"),n=this.get("end"),a=Math.min(i.x,n.x),o=Math.min(i.y,n.y);this.isVertical(i,n)?Ao(t,{width:"1px",height:vu(Math.abs(n.y-i.y))}):Ao(t,{height:"1px",width:vu(Math.abs(n.x-i.x))}),Ao(t,{top:vu(o),left:vu(a)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var i=this.get("text").align,n=t.clientWidth,a=this.getTextPoint();switch(i){case"center":a.x=a.x-n/2;break;case"right":a.x=a.x-n;case"left":break}Ao(t,{top:vu(a.y),left:vu(a.x)})}},e.prototype.updateInner=function(t){Sv(t,"text")&&this.resetText(),r.prototype.updateInner.call(this,t)},e}(tb),Hmt=cne;var bk={};ai(bk,{Base:()=>uE,Circle:()=>Umt,Line:()=>Xmt});var hne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:ci.lineColor}}}})},e.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,i){var n=this.getGridPath(t),a=i.slice(0).reverse(),o=this.getGridPath(a,!0),s=this.get("closed");return s?n=n.concat(o):(o[0][0]="L",n=n.concat(o),n.push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var i=this,n=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;at(a,function(l,u){var f=l.id||u;if(n){var c=i.getPathStyle();c=nr(c)?c(l,u,a):c;var h=i.getElementId("line-"+f),d=i.getGridPath(l.points);i.addShape(t,{type:"path",name:"grid-line",id:h,attrs:Vi({path:d},c)})}if(o&&u>0){var v=i.getElementId("region-"+f),p=u%2==0;if(cr(o))p&&i.drawAlternateRegion(v,t,s.points,l.points,o);else{var g=p?o[1]:o[0];i.drawAlternateRegion(v,t,s.points,l.points,g)}}s=l})},e.prototype.drawAlternateRegion=function(t,i,n,a,o){var s=this.getAlternatePath(n,a);this.addShape(i,{type:"path",id:t,name:"grid-region",attrs:{path:s,fill:o}})},e}(On),uE=hne;function dne(r,e,t,i){var n=t-r,a=i-e;return Math.sqrt(n*n+a*a)}var vne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,i){var n=this.getLineType(),a=this.get("closed"),o=[];if(t.length)if(n==="circle"){var s=this.get("center"),l=t[0],u=dne(s.x,s.y,l.x,l.y),f=i?0:1;a?(o.push(["M",s.x,s.y-u]),o.push(["A",u,u,0,0,f,s.x,s.y+u]),o.push(["A",u,u,0,0,f,s.x,s.y-u]),o.push(["Z"])):at(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["A",u,u,0,0,f,c.x,c.y])})}else at(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["L",c.x,c.y])}),a&&o.push(["Z"]);return o},e}(uE),Umt=vne;var pne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"line"})},e.prototype.getGridPath=function(t){var i=[];return at(t,function(n,a){a===0?i.push(["M",n.x,n.y]):i.push(["L",n.x,n.y])}),i},e}(uE),Xmt=pne;var wk={};ai(wk,{Base:()=>fE,Category:()=>Kmt,Continuous:()=>$mt});var gne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var t=r.prototype.getLayoutBBox.call(this),i=this.get("maxWidth"),n=this.get("maxHeight"),a=t.width,o=t.height;return i&&(a=Math.min(a,i)),n&&(o=Math.min(o,n)),aE(t.minX,t.minY,a,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),i=this.get("y"),n=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:i+a})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var i=this.get("background"),n=t.getBBox(),a=RS(i.padding),o=S({x:0,y:0,width:n.width+a[1]+a[3],height:n.height+a[0]+a[2]},i.style),s=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});s.toBack()},e.prototype.drawTitle=function(t){var i=this.get("currentPoint"),n=this.get("title"),a=n.spacing,o=n.style,s=n.text,l=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:S({text:s,x:i.x,y:i.y},o)}),u=l.getBBox();this.set("currentPoint",{x:i.x,y:u.maxY+a})},e.prototype.resetDraw=function(){var t=this.get("background"),i={x:0,y:0};if(t){var n=RS(t.padding);i.x=n[3],i.y=n[0]}this.set("currentPoint",i)},e}(On),fE=gne;var kU={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},KR={fill:ci.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:ci.fontFamily,fontWeight:"normal",lineHeight:12},PU="navigation-arrow-right",DU="navigation-arrow-left",Zmt={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},mne=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var i=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var n=t.getCurrentNavigationMatrix();t.get("animate")?i.animate({matrix:n},100):i.attr({matrix:n})}},t.onNavigationAfter=function(){var i=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var n=t.getCurrentNavigationMatrix();t.get("animate")?i.animate({matrix:n},100):i.attr({matrix:n})}},t}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:ci.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:ci.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:kU,itemName:{spacing:16,style:KR},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:KR,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:ci.uncheckedColor},markerStyle:{fill:ci.uncheckedColor,stroke:ci.uncheckedColor}},inactive:{nameStyle:{fill:ci.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,i){Vi(t,i),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,i,n){t[i]=n;var a=this.getElementByLocalId("item-"+t.id);if(a){var o=this.getItems(),s=o.indexOf(t),l=this.createOffScreenGroup(),u=this.drawItem(t,s,this.getItemHeight(),l);this.updateElements(u,a),this.clearUpdateStatus(a)}},e.prototype.hasState=function(t,i){return!!t[i]},e.prototype.getItemStates=function(t){var i=this.get("itemStates"),n=[];return at(i,function(a,o){t[o]&&n.push(o)}),n},e.prototype.clearItemsState=function(t){var i=this,n=this.getItemsByState(t);at(n,function(a){i.setItemState(a,t,!1)})},e.prototype.getItemsByState=function(t){var i=this,n=this.getItems();return ho(n,function(a){return i.hasState(a,t)})},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");at(t,function(i){i.id||(i.id=i.name)})},e.prototype.drawItems=function(t){var i=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),l=this.get("itemSpacing"),u=this.get("itemMarginBottom"),f=this.get("currentPoint"),c=f.x,h=f.y,d=this.get("layout"),v=this.get("items"),p=!1,g=0,m=this.get("maxWidth"),y=this.get("maxHeight");at(v,function(x,b){var _=i.drawItem(x,b,o,a),M=_.getBBox(),A=s||M.width;A>g&&(g=A),d==="horizontal"?(m&&m<f.x+A-c&&(p=!0,f.x=c,f.y+=o+u),i.moveElementTo(_,f),f.x+=A+l):(y&&y<f.y+o+u-h&&(p=!0,f.x+=g+l,f.y=h,g=0),i.moveElementTo(_,f),f.y+=o+u)}),p&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=c,this.startY=h,this.adjustNavigation(t,a))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var i=(this.get("itemName")||{}).style;if(nr(i)){var n=this.getItems();n.forEach(function(a,o){var s=S(S({},KR),i(a,o,n)).fontSize;t<s&&(t=s)})}else i&&(t=i.fontSize)}return t},e.prototype.drawMarker=function(t,i,n,a){var o=S(S(S({x:0,y:a/2},i.style),{symbol:At(n.marker,"symbol","circle")}),At(n.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var u=s.attr(),f=u.stroke,c=u.fill;return f&&s.set("isStroke",!0),c&&s.set("isFill",!0),s},e.prototype.drawItemText=function(t,i,n,a,o,s,l){var u=n.formatter,f=n.style,c=S(S({x:s,y:o/2,text:u?u(a[i],a,l):a[i]},KR),nr(f)?f(a,l,this.getItems()):f);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+i),name:"legend-item-"+i,attrs:c})},e.prototype.drawRadio=function(t,i,n,a,o){var s,l,u=i.style||{},f=(s=u.r)!==null&&s!==void 0?s:a/2,c=f*3.6/8,h=[o+f,a/2-f],d=h[0],v=h[1],p=[d+f,v+f],g=p[0],m=p[1],y=[d,m+f],x=y[0],b=y[1],_=[o,v+f],M=_[0],A=_[1],I=n.showRadio,k=S(S({path:[["M",d,v],["A",f,f,0,0,1,g,m],["L",g-c,m],["L",g,m],["A",f,f,0,0,1,x,b],["L",x,b-c],["L",x,b],["A",f,f,0,0,1,M,A],["L",M+c,A],["L",M,A],["A",f,f,0,0,1,d,v],["L",d,v+c]],stroke:"#000000",fill:"#ffffff"},u),{opacity:I?(l=u==null?void 0:u.opacity)!==null&&l!==void 0?l:.45:0}),E=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:k});return E.set("tip",i.tip),E},e.prototype.drawItem=function(t,i,n,a){var o="item-"+t.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:i}}),l=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:i}}),u=this.get("marker"),f=this.get("itemName"),c=this.get("itemValue"),h=this.get("itemBackground"),d=this.get("radio"),v=this.getLimitItemWidth(),p=0;if(u){var g=this.drawMarker(l,u,t,n),m=u.spacing,y=At(t,["marker","spacing"]);qr(y)&&(m=y),p=g.getBBox().maxX+m}if(f){var x=this.drawItemText(l,"name",f,t,n,p,i);v&&$1(!0,x,Qn(v-p,0,v)),p=x.getBBox().maxX+f.spacing}if(c){var b=this.drawItemText(l,"value",c,t,n,p,i);v&&(c.alignRight?(b.attr({textAlign:"right",x:v}),$1(!0,b,Qn(v-p,0,v),"head")):$1(!0,b,Qn(v-p,0,v))),p=b.getBBox().maxX+c.spacing}if(d&&this.drawRadio(l,d,t,n,p),h){var _=l.getBBox(),M=this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:S({x:0,y:0,width:_.width,height:n},h.style)});M.toBack()}return this.applyItemStates(t,l),l},e.prototype.adjustNavigation=function(t,i){var n=this,a=this.startX,o=this.startY,s=this.get("layout"),l=i.findAll(function(P){return P.get("name")==="legend-item"}),u=this.get("maxWidth"),f=this.get("maxHeight"),c=this.get("itemWidth"),h=this.get("itemSpacing"),d=this.getItemHeight(),v=Le({},kU,this.get("pageNavigator")),p=this.drawNavigation(t,s,"00/00",v),g=p.getBBox(),m={x:a,y:o},y=1,x=0,b=0,_=0,M=this.get("itemMarginBottom");function A(P,N){var R=P.getBBox(),z=c||R.width,B=N.x+z+h+g.width;return B>u}if(s==="horizontal"){var I=this.get("maxRow")||1,k=d+(I===1?0:M),E=u-h-g.width-g.minX;this.pageHeight=k*I,this.pageWidth=E,at(l,function(P){var N=P.getBBox(),R=c||N.width;(x&&x<m.x+R+h||A(P,m))&&(y===1&&(x=m.x+h,n.moveElementTo(p,{x:E,y:m.y+d/2-g.height/2-g.minY})),y+=1,m.x=a,m.y+=k),n.moveElementTo(P,m),P.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:R+h,height:d}}),m.x+=R+h})}else{at(l,function(P){var N=P.getBBox();N.width>b&&(b=N.width)}),_=b,b+=h,u&&(b=Math.min(u,b),_=Math.min(u,_)),this.pageWidth=b,this.pageHeight=f-Math.max(g.height,d+M);var O=Math.floor(this.pageHeight/(d+M));at(l,function(P,N){N!==0&&N%O==0&&(y+=1,m.x+=b,m.y=o),n.moveElementTo(P,m),P.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:b,height:d}}),m.y+=d+M}),this.totalPagesCnt=y,this.moveElementTo(p,{x:a+_/2-g.width/2-g.minX,y:f-g.height-g.minY})}this.pageHeight&&this.pageWidth&&i.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),s==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(y/this.get("maxRow")):this.totalPagesCnt=y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),i.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,i,n,a){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=At(a.marker,"style",{}),u=l.size,f=u===void 0?12:u,c=Ze(l,["size"]),h=this.drawArrow(s,o,DU,i==="horizontal"?"up":"left",f,c);h.on("click",this.onNavigationBack);var d=h.getBBox();o.x+=d.width+2;var v=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:S({x:o.x,y:o.y+f/2,text:n,textBaseline:"middle"},At(a.text,"style"))}),p=v.getBBox();o.x+=p.width+2;var g=this.drawArrow(s,o,PU,i==="horizontal"?"down":"right",f,c);return g.on("click",this.onNavigationAfter),s},e.prototype.updateNavigation=function(t){var i=Le({},kU,this.get("pageNavigator")),n=i.marker.style,a=n.fill,o=n.opacity,s=n.inactiveFill,l=n.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,f=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),c=t?t.findById(this.getElementId(DU)):this.getElementByLocalId(DU),h=t?t.findById(this.getElementId(PU)):this.getElementByLocalId(PU);f.attr("text",u),c.attr("opacity",this.currentPageIndex===1?l:o),c.attr("fill",this.currentPageIndex===1?s:a),c.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:o),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var d=c.getBBox().maxX+2;f.attr("x",d),d+=f.getBBox().width+2,this.updateArrowPath(h,{x:d,y:0})},e.prototype.drawArrow=function(t,i,n,a,o,s){var l=i.x,u=i.y,f=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:S({size:o,direction:a,path:[["M",l+o/2,u],["L",l,u+o],["L",l+o,u+o],["Z"]],cursor:"pointer"},s)});return f.attr("matrix",Lv({x:l+o/2,y:u+o/2},Zmt[a])),f},e.prototype.updateArrowPath=function(t,i){var n=i.x,a=i.y,o=t.attr(),s=o.size,l=o.direction,u=Lv({x:n+s/2,y:a+s/2},Zmt[l]);t.attr("path",[["M",n+s/2,a],["L",n,a+s],["L",n+s,a+s],["Z"]]),t.attr("matrix",u)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,i=t.currentPageIndex,n=t.pageWidth,a=t.pageHeight,o=this.get("layout"),s=o==="horizontal"?{x:0,y:a*(1-i)}:{x:n*(1-i),y:0};return fk(s)},e.prototype.applyItemStates=function(t,i){var n=this.getItemStates(t),a=n.length>0;if(a){var o=i.getChildren(),s=this.get("itemStates");at(o,function(l){var u=l.get("name"),f=u.split("-")[2],c=jS(t,f,s);c&&(l.attr(c),f==="marker"&&!(l.get("isStroke")&&l.get("isFill"))&&(l.get("isStroke")&&l.attr("fill",null),l.get("isFill")&&l.attr("stroke",null)))})}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),i=this.get("maxItemWidth");return i?t&&(i=t<=i?t:i):t&&(i=t),i},e}(fE),Kmt=mne;var yne=1.4,Qmt=.4,xne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:ci.textColor,textBaseline:"middle",fontFamily:ci.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:ci.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,i){this.update({min:t,max:i})},e.prototype.setValue=function(t){var i=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:i,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var i=this;t.on("legend-handler-min:drag",function(n){var a=i.getValueByCanvasPoint(n.x,n.y),o=i.getCurrentValue(),s=o[1];s<a&&(s=a),i.setValue([a,s])}),t.on("legend-handler-max:drag",function(n){var a=i.getValueByCanvasPoint(n.x,n.y),o=i.getCurrentValue(),s=o[0];s>a&&(s=a),i.setValue([s,a])})},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var i=this,n=null;t.on("legend-track:dragstart",function(a){n={x:a.x,y:a.y}}),t.on("legend-track:drag",function(a){if(!!n){var o=i.getValueByCanvasPoint(n.x,n.y),s=i.getValueByCanvasPoint(a.x,a.y),l=i.getCurrentValue(),u=l[1]-l[0],f=i.getRange(),c=s-o;c<0?l[0]+c>f.min?i.setValue([l[0]+c,l[1]+c]):i.setValue([f.min,f.min+u]):c>0&&(c>0&&l[1]+c<f.max?i.setValue([l[0]+c,l[1]+c]):i.setValue([f.max-u,f.max])),n={x:a.x,y:a.y}}}),t.on("legend-track:dragend",function(a){n=null})},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,i){var n=this.get("label"),a=n.style,o=n.align,s=n.formatter,l=this.get(t),u=this.getLabelAlignAttrs(t,o),f="label-"+t;this.addShape(i,{type:"text",id:this.getElementId(f),name:"legend-label-"+t,attrs:S(S({x:0,y:0,text:nr(s)?s(l):l},a),u)})},e.prototype.getLabelAlignAttrs=function(t,i){var n=this.isVertical(),a="center",o="middle";return n?(a="start",i!=="rail"?t==="min"?o="top":o="bottom":o="top"):i!=="rail"?(o="top",t==="min"?a="start":a="end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},e.prototype.getRailPath=function(t,i,n,a){var o=this.get("rail"),s=o.size,l=o.defaultLength,u=o.type,f=this.isVertical(),c=l,h=n,d=a;h||(h=f?s:c),d||(d=f?c:s);var v=[];return u==="color"?(v.push(["M",t,i]),v.push(["L",t+h,i]),v.push(["L",t+h,i+d]),v.push(["L",t,i+d]),v.push(["Z"])):(v.push(["M",t+h,i]),v.push(["L",t+h,i+d]),v.push(["L",t,i+d]),v.push(["Z"])),v},e.prototype.drawRail=function(t){var i=this.get("rail"),n=i.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:S({path:this.getRailPath(0,0)},n)})},e.prototype.getTrackColor=function(t){var i=t.length;if(!i)return null;if(i===1)return t[0];var n;this.isVertical()?n="l(90)":n="l(0)";for(var a=0;a<i;a++){var o=a/(i-1);n+=" "+o+":"+t[a]}return n},e.prototype.getTrackPath=function(t){var i=this.getRailShape(t),n=i.attr("path");return Vs(n)},e.prototype.getClipTrackAttrs=function(t){var i=this.getCurrentValue(),n=i[0],a=i[1],o=this.getRailBBox(t),s=this.getPointByValue(n,t),l=this.getPointByValue(a,t),u=this.isVertical(),f,c,h,d;return u?(f=o.minX,c=s.y,h=o.width,d=l.y-s.y):(f=s.x,c=o.minY,h=l.x-s.x,d=o.height),{x:f,y:c,width:h,height:d}},e.prototype.getTrackAttrs=function(t){var i=this.get("track"),n=this.get("colors"),a=this.getTrackPath(t);return Vi({path:a,fill:this.getTrackColor(n)},i.style)},e.prototype.resetTrackClip=function(t){var i=t||this.get("group"),n=this.getElementId("track"),a=i.findById(n),o=a.getClip(),s=this.getClipTrackAttrs(t);o?o.attr(s):a.setClip({type:"rect",attrs:s})},e.prototype.resetTrack=function(t){var i=this.getElementId("track"),n=t.findById(i),a=this.getTrackAttrs(t);n?n.attr(a):this.addShape(t,{type:"path",id:i,draggable:this.get("slidable"),name:"legend-track",attrs:a})},e.prototype.getPointByValue=function(t,i){var n=this.getRange(),a=n.min,o=n.max,s=(t-a)/(o-a),l=this.getRailBBox(i),u=this.isVertical(),f={x:0,y:0};return u?(f.x=l.minX+l.width/2,f.y=Qy(l.minY,l.maxY,s)):(f.x=Qy(l.minX,l.maxX,s),f.y=l.minY+l.height/2),f},e.prototype.getRailShape=function(t){var i=t||this.get("group");return i.findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){var i=this.getRailShape(t),n=i.getBBox();return n},e.prototype.getRailCanvasBBox=function(){var t=this.get("group"),i=t.findById(this.getElementId("rail")),n=i.getCanvasBBox();return n},e.prototype.isVertical=function(){return this.get("layout")==="vertical"},e.prototype.getValueByCanvasPoint=function(t,i){var n=this.getRange(),a=n.min,o=n.max,s=this.getRailCanvasBBox(),l=this.isVertical(),u=this.get("step"),f;l?f=(i-s.minY)/s.height:f=(t-s.minX)/s.width;var c=Qy(a,o,f);if(u){var h=Math.round((c-a)/u);c=a+h*u}return c>o&&(c=o),c<a&&(c=a),c},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var i=this.get("values");return i?[Math.max(Math.min.apply(Math,cu(i,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,cu(i,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var i=this.getCurrentValue(),n=i[0],a=i[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",a)},e.prototype.getHandlerPath=function(t,i){var n=this.isVertical(),a=[],o=t.size,s=i.x,l=i.y,u=o*yne,f=o/2,c=o/6;if(n){var h=s+u*Qmt;a.push(["M",s,l]),a.push(["L",h,l+f]),a.push(["L",s+u,l+f]),a.push(["L",s+u,l-f]),a.push(["L",h,l-f]),a.push(["Z"]),a.push(["M",h,l+c]),a.push(["L",s+u-2,l+c]),a.push(["M",h,l-c]),a.push(["L",s+u-2,l-c])}else{var d=l+u*Qmt;a.push(["M",s,l]),a.push(["L",s-f,d]),a.push(["L",s-f,l+u]),a.push(["L",s+f,l+u]),a.push(["L",s+f,d]),a.push(["Z"]),a.push(["M",s-c,d]),a.push(["L",s-c,l+u-2]),a.push(["M",s+c,d]),a.push(["L",s+c,l+u-2])}return a},e.prototype.resetHandler=function(t,i,n){var a=this.getPointByValue(n,t),o=this.get("handler"),s=this.getHandlerPath(o,a),l=this.getElementId("handler-"+i),u=t.findById(l),f=this.isVertical();u?u.attr("path",s):this.addShape(t,{type:"path",name:"legend-handler-"+i,draggable:!0,id:l,attrs:S(S({path:s},o.style),{cursor:f?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var i=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),a=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,a,i,o):this.fixedHorizontal(n,a,i,o)},e.prototype.fitRailLength=function(t,i,n,a){var o=this.isVertical(),s=o?"height":"width",l=this.get("label"),u=l.align,f=l.spacing,c=this.get("max"+Nf(s));if(c){var h=u==="rail"?n[s]+t[s]+i[s]+f*2:n[s],d=h-c;d>0&&this.changeRailLength(a,s,n[s]-d)}},e.prototype.changeRailLength=function(t,i,n){var a=t.getBBox(),o;i==="height"?o=this.getRailPath(a.x,a.y,a.width,n):o=this.getRailPath(a.x,a.y,n,a.height),t.attr("path",o)},e.prototype.changeRailPosition=function(t,i,n){var a=t.getBBox(),o=this.getRailPath(i,n,a.width,a.height);t.attr("path",o)},e.prototype.fixedHorizontal=function(t,i,n,a){var o=this.get("label"),s=o.align,l=o.spacing,u=n.getBBox(),f=t.getBBox(),c=i.getBBox(),h=u.height;this.fitRailLength(f,c,u,n),u=n.getBBox(),s==="rail"?(t.attr({x:a.x,y:a.y+h/2}),this.changeRailPosition(n,a.x+f.width+l,a.y),i.attr({x:a.x+f.width+u.width+l*2,y:a.y+h/2})):s==="top"?(t.attr({x:a.x,y:a.y}),i.attr({x:a.x+u.width,y:a.y}),this.changeRailPosition(n,a.x,a.y+f.height+l)):(this.changeRailPosition(n,a.x,a.y),t.attr({x:a.x,y:a.y+u.height+l}),i.attr({x:a.x+u.width,y:a.y+u.height+l}))},e.prototype.fixedVertail=function(t,i,n,a){var o=this.get("label"),s=o.align,l=o.spacing,u=n.getBBox(),f=t.getBBox(),c=i.getBBox();if(this.fitRailLength(f,c,u,n),u=n.getBBox(),s==="rail")t.attr({x:a.x,y:a.y}),this.changeRailPosition(n,a.x,a.y+f.height+l),i.attr({x:a.x,y:a.y+f.height+u.height+l*2});else if(s==="right")t.attr({x:a.x+u.width+l,y:a.y}),this.changeRailPosition(n,a.x,a.y),i.attr({x:a.x+u.width+l,y:a.y+u.height});else{var h=Math.max(f.width,c.width);t.attr({x:a.x,y:a.y}),this.changeRailPosition(n,a.x+h+l,a.y),i.attr({x:a.x,y:a.y+u.height})}},e}(fE),$mt=xne;var r3={};ai(r3,{Html:()=>ryt});var Ko={};ai(Ko,{CONTAINER_CLASS:()=>_k,CROSSHAIR_X:()=>t3,CROSSHAIR_Y:()=>e3,LIST_CLASS:()=>Ck,LIST_ITEM_CLASS:()=>QR,MARKER_CLASS:()=>$R,NAME_CLASS:()=>Jmt,TITLE_CLASS:()=>Sk,VALUE_CLASS:()=>JR});var _k="g2-tooltip",Sk="g2-tooltip-title",Ck="g2-tooltip-list",QR="g2-tooltip-list-item",$R="g2-tooltip-marker",JR="g2-tooltip-value",Jmt="g2-tooltip-name",t3="g2-tooltip-crosshair-x",e3="g2-tooltip-crosshair-y";var rg,tyt=(rg={},rg[""+_k]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:ci.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},rg[""+Sk]={marginBottom:"4px"},rg[""+Ck]={margin:"0px",listStyleType:"none",padding:"0px"},rg[""+QR]={listStyleType:"none",marginBottom:"4px"},rg[""+$R]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},rg[""+JR]={display:"inline-block",float:"right",marginLeft:"30px"},rg[""+t3]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},rg[""+e3]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},rg);function bne(r,e,t,i,n){var a={left:r<n.x,right:r+t>n.x+n.width,top:e<n.y,bottom:e+i>n.y+n.height};return a}function wne(r,e,t,i,n,a){var o=r,s=e;switch(a){case"left":o=r-i-t,s=e-n/2;break;case"right":o=r+t,s=e-n/2;break;case"top":o=r-i/2,s=e-n-t;break;case"bottom":o=r-i/2,s=e+t;break;default:o=r+t,s=e-n-t;break}return{x:o,y:s}}function eyt(r,e,t,i,n,a,o){var s=wne(r,e,t,i,n,a);if(o){var l=bne(s.x,s.y,i,n,o);a==="auto"?(l.right&&(s.x=Math.max(0,r-i-t)),l.top&&(s.y=Math.max(0,e-n-t))):a==="top"||a==="bottom"?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-i),a==="top"&&l.top&&(s.y=e+t),a==="bottom"&&l.bottom&&(s.y=e-n-t)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-n),a==="left"&&l.left&&(s.x=r+t),a==="right"&&l.right&&(s.x=r-i-t))}return s}function _ne(r,e){var t=!1;return at(e,function(i){if(Sv(r,i))return t=!0,!1}),t}var Sne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+_k+'"><div class="'+Sk+'"></div><ul class="'+Ck+'"></ul></div>',itemTpl:'<li class="'+QR+`" data-index={index}>
          <span class="`+$R+`" style="background:{color}"></span>
          <span class="`+Jmt+`">{name}</span>:
          <span class="`+JR+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+t3+'"></div>',yCrosshairTpl:'<div class="'+e3+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:_k,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:tyt})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),Ao(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),Ao(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var i=t?"":"none",n=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");n&&Ao(n,{display:i}),a&&Ao(a,{display:i})},e.prototype.initContainer=function(){if(r.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(_ne(t,["title","showTitle"])&&this.resetTitle(),Sv(t,"items")&&this.renderItems()),r.prototype.updateInner.call(this,t)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){r.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t=this.get("x"),i=this.get("y"),n=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,l=this.get("position"),u=this.get("region"),f=this.getContainer(),c=this.getBBox(),h=c.width,d=c.height,v;u&&(v=Ky(u));var p=eyt(t,i,n,h,d,l,v);Ao(f,{left:vu(p.x+o),top:vu(p.y+s)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),i=this.get("parent"),n=this.get("container");n&&n.parentNode===i?i.replaceChild(t,n):i.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,i=this.get("customContent");if(i){var n=i(this.get("title"),this.get("items"));BO(n)?t=n:t=du(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),i=t.getElementsByClassName(Sk)[0],n=t.getElementsByClassName(Ck)[0];this.set("titleDom",i),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title"),i=this.get("showTitle");i&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var i=this.get("titleDom");i&&(i.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),i=this.get("crosshairs");if(!t||!i)this.clearCrosshairs();else{var n=Ky(t),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");i==="x"?(this.resetCrosshair("x",n),o&&(o.remove(),this.set("yCrosshairDom",null))):i==="y"?(this.resetCrosshair("y",n),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}},e.prototype.resetCrosshair=function(t,i){var n=this.checkCrosshair(t),a=this.get(t);t==="x"?Ao(n,{left:vu(a),top:vu(i.y),height:vu(i.height)}):Ao(n,{top:vu(a),left:vu(i.x),width:vu(i.width)})},e.prototype.checkCrosshair=function(t){var i=t+"CrosshairDom",n=t+"CrosshairTpl",a="CROSSHAIR_"+t.toUpperCase(),o=Ko[a],s=this.get(i),l=this.get("parent");return s||(s=du(this.get(n)),this.applyStyle(o,s),l.appendChild(s),this.set(i,s)),s},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),i=this.get("itemTpl"),n=this.get("listDom");n&&(at(t,function(a){var o=Uy.toCSSGradient(a.color),s=S(S({},a),{color:o}),l=FO(i,s),u=du(l);n.appendChild(u)}),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&nE(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");t&&t.remove(),i&&i.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(tb),ryt=Sne;var iyt={opacity:0},nyt={stroke:"#C5C5C5",strokeOpacity:.85},ayt={fill:"#CACED4",opacity:.85};function Mne(r,e,t,i){var n=[],a=!!i,o,s,l,u,f,c,h;if(a){l=i[0],u=i[1];for(var d=0,v=r.length;d<v;d+=1){var p=r[d];l=mr.min([0,0],l,p),u=mr.max([0,0],u,p)}}for(var d=0,g=r.length;d<g;d+=1){var p=r[d];if(d===0&&!t)h=p;else if(d===g-1&&!t)c=p,n.push(h),n.push(c);else{var m=[d?d-1:g-1,d-1][t?0:1];o=r[m],s=r[t?(d+1)%g:d+1];var y=[0,0];y=mr.sub(y,s,o),y=mr.scale(y,y,e);var x=mr.distance(p,o),b=mr.distance(p,s),_=x+b;_!==0&&(x/=_,b/=_);var M=mr.scale([0,0],y,-x),A=mr.scale([0,0],y,b);c=mr.add([0,0],p,M),f=mr.add([0,0],p,A),f=mr.min([0,0],f,mr.max([0,0],s,p)),f=mr.max([0,0],f,mr.min([0,0],s,p)),M=mr.sub([0,0],f,p),M=mr.scale([0,0],M,-x/b),c=mr.add([0,0],p,M),c=mr.min([0,0],c,mr.max([0,0],o,p)),c=mr.max([0,0],c,mr.min([0,0],o,p)),A=mr.sub([0,0],p,c),A=mr.scale([0,0],A,b/x),f=mr.add([0,0],p,A),a&&(c=mr.max([0,0],c,l),c=mr.min([0,0],c,u),f=mr.max([0,0],f,l),f=mr.min([0,0],f,u)),n.push(h),n.push(c),h=f}}return t&&n.push(n.shift()),n}function Ane(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var i=!!e,n=[],a=0,o=r.length;a<o;a+=2)n.push([r[a],r[a+1]]);for(var s=Mne(n,.4,i,t),l=n.length,u=[],f,c,h,a=0;a<l-1;a+=1)f=s[a*2],c=s[a*2+1],h=n[a+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return i&&(f=s[l],c=s[l+1],h=n[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}var FU=Ane;var Mk=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,eAr=new RegExp("([a-z])["+Mk+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Mk+"]*,?["+Mk+"]*)+)","ig"),rAr=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Mk+"]*,?["+Mk+"]*","ig");var oAr=Math.PI*2;function Fne(r){return oo(r,function(e,t){var i=t===0?"M":"L",n=e[0],a=e[1];return[i,n,a]})}function oyt(r){return Fne(r)}function Nne(r){if(r.length<=2)return oyt(r);var e=[];at(r,function(o){xn(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=FU(e,!1),i=ao(r),n=i[0],a=i[1];return t.unshift(["M",n,a]),t}function syt(r,e,t,i){i===void 0&&(i=!0);var n=new FS({values:r}),a=new DS({values:oo(r,function(s,l){return l})}),o=oo(r,function(s,l){return[a.scale(l)*e,t-n.scale(s)*t]});return i?Nne(o):oyt(o)}function Bne(r,e){var t=new FS({values:r}),i=t.max<0?t.max:Math.max(0,t.min);return e-t.scale(i)*e}function lyt(r,e,t,i){var n=cu(r),a=Bne(i,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}var uyt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:iyt,lineStyle:nyt,areaStyle:ayt})},e.prototype.renderInner=function(t){var i=this.cfg,n=i.width,a=i.height,o=i.data,s=i.smooth,l=i.isArea,u=i.backgroundStyle,f=i.lineStyle,c=i.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:S({x:0,y:0,width:n,height:a},u)});var h=syt(o,n,a,s);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:S({path:h},f)}),l){var d=lyt(h,n,a,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:S({path:d},c)})}},e.prototype.applyOffset=function(){var t=this.cfg,i=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:i,y:n})},e}(On);var NU={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},BU=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"handler",x:0,y:0,width:10,height:24,style:NU})},e.prototype.renderInner=function(t){var i=this.cfg,n=i.width,a=i.height,o=i.style,s=o.fill,l=o.stroke,u=o.radius,f=o.opacity,c=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:a,fill:s,stroke:l,radius:u,opacity:f,cursor:c}});var h=1/3*n,d=2/3*n,v=1/4*a,p=3/4*a;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:v,x2:h,y2:p,stroke:l,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:d,y1:v,x2:d,y2:p,stroke:l,cursor:c}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var i=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",i),t.draw()}),this.get("group").on("mouseleave",function(){var i=t.get("style").fill;t.getElementByLocalId("background").attr("fill",i),t.draw()})},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(On);var fyt={fill:"#416180",opacity:.05},cyt={fill:"#5B8FF9",opacity:.15,cursor:"move"},Ak=10,hyt={width:Ak,height:24},dyt={textBaseline:"middle",fill:"#000",opacity:.45},vyt="sliderchange";var Ek=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onMouseDown=function(i){return function(n){t.currentTarget=i;var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),t.prevX=At(a,"touches.0.pageX",a.pageX),t.prevY=At(a,"touches.0.pageY",a.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(i){var n=t.cfg.width,a=[t.get("start"),t.get("end")];i.stopPropagation(),i.preventDefault();var o=At(i,"touches.0.pageX",i.pageX),s=At(i,"touches.0.pageY",i.pageY),l=o-t.prevX,u=t.adjustOffsetRange(l/n);t.updateStartEnd(u),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=s,t.draw(),t.emit(vyt,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:a,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var i=t.getContainerDOM();i&&(i.removeEventListener("mousemove",t.onMouseMove),i.removeEventListener("mouseup",t.onMouseUp),i.removeEventListener("mouseleave",t.onMouseUp),i.removeEventListener("touchmove",t.onMouseMove),i.removeEventListener("touchend",t.onMouseUp),i.removeEventListener("touchcancel",t.onMouseUp))},t}return e.prototype.setRange=function(t,i){this.set("minLimit",t),this.set("maxLimit",i);var n=this.get("start"),a=this.get("end"),o=Qn(n,t,i),s=Qn(a,t,i);!this.get("isInit")&&(n!==o||a!==s)&&this.setValue([o,s])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var i=this.getRange();if($t(t)&&t.length===2){var n=[this.get("start"),this.get("end")];this.update({start:Qn(t[0],i.min,i.max),end:Qn(t[1],i.min,i.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:fyt,foregroundStyle:cyt,handlerStyle:hyt,textStyle:dyt}})},e.prototype.update=function(t){var i=t.start,n=t.end,a=S({},t);Kt(i)||(a.start=Qn(i,0,1)),Kt(n)||(a.end=Qn(n,0,1)),r.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",Qn(this.get("start"),0,1)),this.set("end",Qn(this.get("end"),0,1)),r.prototype.init.call(this)},e.prototype.render=function(){r.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var i=this.cfg,n=i.start,a=i.end,o=i.width,s=i.height,l=i.trendCfg,u=l===void 0?{}:l,f=i.minText,c=i.maxText,h=i.backgroundStyle,d=h===void 0?{}:h,v=i.foregroundStyle,p=v===void 0?{}:v,g=i.textStyle,m=g===void 0?{}:g,y=Le({},NU,this.cfg.handlerStyle),x=n*o,b=a*o;Mo(At(u,"data"))&&(this.trend=this.addComponent(t,S({component:uyt,id:this.getElementId("trend"),x:0,y:0,width:o,height:s},u))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:S({x:0,y:0,width:o,height:s},d)});var _=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:S({y:s/2,textAlign:"right",text:f,silent:!1},m)}),M=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:S({y:s/2,textAlign:"left",text:c,silent:!1},m)}),A=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:S({y:0,height:s},p)}),I=At(y,"width",Ak),k=At(y,"height",24);this.minHandler=this.addComponent(t,{component:BU,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(s-k)/2,width:I,height:k,cursor:"ew-resize",style:y}),this.maxHandler=this.addComponent(t,{component:BU,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(s-k)/2,width:I,height:k,cursor:"ew-resize",style:y})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,i,n){var a=this.cfg,o=a.start,s=a.end,l=a.width,u=a.minText,f=a.maxText,c=a.handlerStyle,h=a.height,d=o*l,v=s*l;this.trend&&(this.trend.update({width:l,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",d),t.attr("width",v-d);var p=At(c,"width",Ak);i.attr("text",u),n.attr("text",f);var g=this._dodgeText([d,v],i,n),m=g[0],y=g[1];this.minHandler&&(this.minHandler.update({x:d-p/2}),this.get("updateAutoRender")||this.minHandler.render()),at(m,function(x,b){return i.attr(b,x)}),this.maxHandler&&(this.maxHandler.update({x:v-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),at(y,function(x,b){return n.attr(b,x)})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var i=t.findById(this.getElementId("foreground"));i.on("mousedown",this.onMouseDown("foreground")),i.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var i=this.cfg,n=i.start,a=i.end;switch(this.currentTarget){case"minHandler":{var o=0-n,s=1-n;return Math.min(s,Math.max(o,t))}case"maxHandler":{var o=0-a,s=1-a;return Math.min(s,Math.max(o,t))}case"foreground":{var o=0-n,s=1-a;return Math.min(s,Math.max(o,t))}}},e.prototype.updateStartEnd=function(t){var i=this.cfg,n=i.start,a=i.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":a+=t;break;case"foreground":n+=t,a+=t;break}this.set("start",n),this.set("end",a)},e.prototype._dodgeText=function(t,i,n){var a,o,s=this.cfg,l=s.handlerStyle,u=s.width,f=2,c=At(l,"width",Ak),h=t[0],d=t[1],v=!1;h>d&&(a=[d,h],h=a[0],d=a[1],o=[n,i],i=o[0],n=o[1],v=!0);var p=i.getBBox(),g=n.getBBox(),m=p.width>h-f?{x:h+c/2+f,textAlign:"left"}:{x:h-c/2-f,textAlign:"right"},y=g.width>u-d-f?{x:d-c/2-f,textAlign:"right"}:{x:d+c/2+f,textAlign:"left"};return v?[y,m]:[m,y]},e.prototype.draw=function(){var t=this.get("container"),i=t&&t.get("canvas");i&&i.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),i=t&&t.get("canvas");return i&&i.get("container")},e}(On);var Rne={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},RU={default:Rne,hover:{thumbColor:"rgba(0,0,0,0.2)"}},i3=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.clearEvents=Bf,t.onStartEvent=function(i){return function(n){t.isMobile=i,n.originalEvent.preventDefault();var a=i?At(n.originalEvent,"touches.0.clientX"):n.clientX,o=i?At(n.originalEvent,"touches.0.clientY"):n.clientY;t.startPos=t.cfg.isHorizontal?a:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var i=t.getContainerDOM(),n=[];t.isMobile?n=[Wy(i,"touchmove",t.onMouseMove),Wy(i,"touchend",t.onMouseUp),Wy(i,"touchcancel",t.onMouseUp)]:n=[Wy(i,"mousemove",t.onMouseMove),Wy(i,"mouseup",t.onMouseUp),Wy(i,"mouseleave",t.onMouseUp)],t.clearEvents=function(){n.forEach(function(a){a.remove()})}},t.onMouseMove=function(i){var n=t.cfg,a=n.isHorizontal,o=n.thumbOffset;i.preventDefault();var s=t.isMobile?At(i,"touches.0.clientX"):i.clientX,l=t.isMobile?At(i,"touches.0.clientY"):i.clientY,u=a?s:l,f=u-t.startPos;t.startPos=u,t.updateThumbOffset(o+f)},t.onMouseUp=function(i){i.preventDefault(),t.clearEvents()},t.onTrackClick=function(i){var n=t.cfg,a=n.isHorizontal,o=n.x,s=n.y,l=n.thumbLen,u=t.getContainerDOM(),f=u.getBoundingClientRect(),c=i.clientX,h=i.clientY,d=a?c-f.left-o-l/2:h-f.top-s-l/2,v=t.validateRange(d);t.updateThumbOffset(v)},t.onThumbMouseOver=function(){var i=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",i),t.draw()},t.onThumbMouseOut=function(){var i=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",i),t.draw()},t}return e.prototype.setRange=function(t,i){this.set("minLimit",t),this.set("maxLimit",i);var n=this.getValue(),a=Qn(n,t,i);n!==a&&!this.get("isInit")&&this.setValue(a)},e.prototype.getRange=function(){var t=this.get("minLimit")||0,i=this.get("maxLimit")||1;return{min:t,max:i}},e.prototype.setValue=function(t){var i=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Qn(t,i.min,i.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return Qn(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:RU})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var i=this.cfg,n=i.trackLen,a=i.theme,o=a===void 0?{default:{}}:a,s=Le({},RU,o).default,l=s.lineCap,u=s.trackColor,f=s.size,c=At(this.cfg,"size",f),h=this.get("isHorizontal")?{x1:0+c/2,y1:c/2,x2:n-c/2,y2:c/2,lineWidth:c,stroke:u,lineCap:l}:{x1:c/2,y1:0+c/2,x2:c/2,y2:n-c/2,lineWidth:c,stroke:u,lineCap:l};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:h})},e.prototype.renderThumbShape=function(t){var i=this.cfg,n=i.thumbOffset,a=i.thumbLen,o=i.theme,s=Le({},RU,o).default,l=s.size,u=s.lineCap,f=s.thumbColor,c=At(this.cfg,"size",l),h=this.get("isHorizontal")?{x1:n+c/2,y1:c/2,x2:n+a-c/2,y2:c/2,lineWidth:c,stroke:f,lineCap:u,cursor:"default"}:{x1:c/2,y1:n+c/2,x2:c/2,y2:n+a-c/2,lineWidth:c,stroke:f,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:h})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var i=t.findById(this.getElementId("track"));i.on("click",this.onTrackClick);var n=t.findById(this.getElementId("thumb"));n.on("mouseover",this.onThumbMouseOver),n.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),i=t&&t.get("canvas");return i&&i.get("container")},e.prototype.validateRange=function(t){var i=this.cfg,n=i.thumbLen,a=i.trackLen,o=t;return t+n>a?o=a-n:t+n<n&&(o=0),o},e.prototype.draw=function(){var t=this.get("container"),i=t&&t.get("canvas");i&&i.draw()},e.prototype.updateThumbOffset=function(t){var i=this.cfg,n=i.thumbOffset,a=i.isHorizontal,o=i.thumbLen,s=i.size,l=this.validateRange(t);if(l!==n){var u=this.getElementByLocalId("thumb");a?u.attr({x1:l+s/2,x2:l+o-s/2}):u.attr({y1:l+s/2,y2:l+o-s/2}),this.emitOffsetChange(l)}},e.prototype.emitOffsetChange=function(t){var i=this.cfg,n=i.thumbOffset,a=i.trackLen,o=i.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:Qn(t/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(On);var pyt=gk.Line,gyt=gk.Circle;var myt=bk.Line,yyt=bk.Circle;var GU=wk.Category,xyt=wk.Continuous;var eb=r3.Html;function Gne(r){if(Ts(r))return null;var e=r[0].x,t=r[0].x,i=r[0].y,n=r[0].y;return at(r,function(a){e=e>a.x?a.x:e,t=t<a.x?a.x:t,i=i>a.y?a.y:i,n=n<a.y?a.y:n}),{minX:e,maxX:t,minY:i,maxY:n,centerX:(e+t)/2,centerY:(i+n)/2}}function byt(r){return Array.from(new Set(r)).length===1}function wyt(r){return(Ws(r)+ms(r))/2}function Na(r,e,t,i){return{x:r+t*Math.cos(i),y:e+t*Math.sin(i)}}function ed(r,e,t,i,n,a){a===void 0&&(a=0);var o=Na(r,e,t,i),s=Na(r,e,t,n),l=Na(r,e,a,i),u=Na(r,e,a,n);if(n-i==Math.PI*2){var f=Na(r,e,t,i+Math.PI),c=Na(r,e,a,i+Math.PI),h=[["M",o.x,o.y],["A",t,t,0,1,1,f.x,f.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(h.push(["A",a,a,0,1,0,c.x,c.y]),h.push(["A",a,a,0,1,0,u.x,u.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var d=n-i<=Math.PI?0:1,v=[["M",o.x,o.y],["A",t,t,0,d,1,s.x,s.y],["L",u.x,u.y]];return a&&v.push(["A",a,a,0,d,0,l.x,l.y]),v.push(["L",o.x,o.y]),v.push(["Z"]),v}function n3(r,e,t,i,n){var a=Na(r,e,t,i),o=Na(r,e,t,n);if(Oa(n-i,Math.PI*2)){var s=Na(r,e,t,i+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-i<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function rb(r,e){var t=r.points,i=Gne(t),n,a,o=e.startAngle,s=e.endAngle,l=s-o;return e.isTransposed?(n=i.maxY*l,a=i.minY*l):(n=i.maxX*l,a=i.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function _yt(r,e){if(qr(r)&&qr(e))return[r,e];if(r=r,e=e,byt(r)||byt(e))return[wyt(r),wyt(e)];for(var t=-1,i=0,n=0,a,o=r.length-1,s,l=0;++t<r.length;)a=o,o=t,l+=s=r[a]*e[o]-r[o]*e[a],i+=(r[a]+r[o])*s,n+=(e[a]+e[o])*s;return l*=3,[i/l,n/l]}function a3(r,e){var t=r.attr(),i=e.attr();return at(t,function(n,a){i[a]===void 0&&(i[a]=void 0)}),i}function $y(r,e,t){var i=Math.min(e,t),n=Math.max(e,t);return r>=i&&r<=n}function Syt(r,e,t){if(cr(r))return r.padEnd(e,t);if($t(r)){var i=r.length;if(i<e)for(var n=e-i,a=0;a<n;a++)r.push(t)}return r}function qs(r,e){return typeof r=="object"&&e.forEach(function(t){delete r[t]}),r}function ig(r,e,t){var i,n;e===void 0&&(e=[]),t===void 0&&(t=new Map);try{for(var a=er(r),o=a.next();!o.done;o=a.next()){var s=o.value;t.has(s)||(e.push(s),t.set(s,!0))}}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return e}var To=function(){function r(e,t,i,n){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.x=e,this.y=t,this.height=n,this.width=i}return r.fromRange=function(e,t,i,n){return new r(e,t,i-e,n-t)},r.fromObject=function(e){return new r(e.minX,e.minY,e.width,e.height)},Object.defineProperty(r.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},r.prototype.contains=function(e){return e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.clone();return at(e,function(n){i.x=Math.min(n.x,i.x),i.y=Math.min(n.y,i.y),i.width=Math.max(n.maxX,i.maxX)-i.x,i.height=Math.max(n.maxY,i.maxY)-i.y}),i},r.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.clone();return at(e,function(n){i.x=Math.max(n.x,i.x),i.y=Math.max(n.y,i.y),i.width=Math.min(n.maxX,i.maxX)-i.x,i.height=Math.min(n.maxY,i.maxY)-i.y}),i},r.prototype.cut=function(e,t){var i=e.width,n=e.height;switch(t){case Ne.TOP:case Ne.TOP_LEFT:case Ne.TOP_RIGHT:return r.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Ne.RIGHT:case Ne.RIGHT_TOP:case Ne.RIGHT_BOTTOM:return r.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case Ne.BOTTOM:case Ne.BOTTOM_LEFT:case Ne.BOTTOM_RIGHT:return r.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Ne.LEFT:case Ne.LEFT_TOP:case Ne.LEFT_BOTTOM:return r.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},r.prototype.shrink=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return new r(this.x+o,this.y+i,this.width-o-n,this.height-i-a)},r.prototype.expand=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return new r(this.x-o,this.y-i,this.width+o+n,this.height+i+a)},r.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},r.prototype.collide=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},r.prototype.size=function(){return this.width*this.height},r.prototype.isPointIn=function(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY},r}();function Cyt(r){return[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY]]}function ng(r){if(r.isPolar&&!r.isTransposed)return(r.endAngle-r.startAngle)*r.getRadius();var e=r.convert({x:0,y:0}),t=r.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Myt(r){if(r.isPolar){var e=r.startAngle,t=r.endAngle;return t-e==Math.PI*2}return!1}function ib(r,e){var t=r.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ayt(r,e){var t=!1;if(r)if(r.type==="theta"){var i=r.start,n=r.end;t=$y(e.x,i.x,n.x)&&$y(e.y,i.y,n.y)}else{var a=r.invert(e);t=$y(a.x,0,1)&&$y(a.y,0,1)}return t}function ag(r,e){var t=r.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function cE(r,e){e===void 0&&(e=0);var t=r.start,i=r.end,n=r.getWidth(),a=r.getHeight();if(r.isPolar){var o=r.startAngle,s=r.endAngle,l=r.getCenter(),u=r.getRadius();return{type:"path",startState:{path:ed(l.x,l.y,u+e,o,o)},endState:function(c){var h=(s-o)*c+o,d=ed(l.x,l.y,u+e,o,h);return{path:d}},attrs:{path:ed(l.x,l.y,u+e,o,s)}}}var f;return r.isTransposed?f={height:a+e*2}:f={width:n+e*2},{type:"rect",startState:{x:t.x-e,y:i.y-e,width:r.isTransposed?n+e*2:0,height:r.isTransposed?0:a+e*2},endState:f,attrs:{x:t.x-e,y:i.y-e,width:n+e*2,height:a+e*2}}}function Eyt(r,e){e===void 0&&(e=0);var t=r.start,i=r.end,n=r.getWidth(),a=r.getHeight(),o=Math.min(t.x,i.x),s=Math.min(t.y,i.y);return To.fromRange(o-e,s-e,o+n+e,s+a+e)}var zne=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function jne(r){var e="linear";return zne.test(r)?e="timeCat":cr(r)&&(e="cat"),e}function o3(r,e,t,i){return e===void 0&&(e={}),e.type?e.type:r.type!=="identity"&&Yy.includes(t)&&["interval"].includes(i)||r.isCategory?"cat":r.type}function Tyt(r,e,t){var i=e||[];if(qr(r)||Kt(Oq(i,r))&&Ts(t)){var n=tE("identity");return new n({field:r.toString(),values:[r]})}var a=Il(i,r),o=At(t,"type",jne(a[0])),s=tE(o);return new s(S({field:r,values:a},t))}function Iyt(r,e){if(r.type!=="identity"&&e.type!=="identity"){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);r.change(t)}}function nb(r){return r.alias||r.field}function s3(r,e,t){var i=r.values,n=i.length,a;if(n===1)a=[.5,1];else{var o=1,s=0;Myt(e)?e.isTransposed?(o=At(t,"widthRatio.multiplePie",1/1.3),s=1/n*o,a=[s/2,1-s/2]):a=[0,1-1/n]:(s=1/n/2,a=[s,1-s])}return a}function Lyt(r){var e=r.values.filter(function(t){return!Kt(t)&&!isNaN(t)});return Math.max.apply(Math,ne(ne([],Rt(e),!1),[Kt(r.max)?-1/0:r.max],!1))}function Yne(r){var e,t;switch(r){case Ne.TOP:e={x:0,y:1},t={x:1,y:1};break;case Ne.RIGHT:e={x:1,y:0},t={x:1,y:1};break;case Ne.BOTTOM:e={x:0,y:0},t={x:1,y:0};break;case Ne.LEFT:e={x:0,y:0},t={x:0,y:1};break;default:e=t={x:0,y:0}}return{start:e,end:t}}function Wne(r){var e,t;return r.isTransposed?(e={x:0,y:0},t={x:1,y:0}):(e={x:0,y:0},t={x:0,y:1}),{start:e,end:t}}function Tk(r,e){var t={start:{x:0,y:0},end:{x:0,y:0}};r.isRect?t=Yne(e):r.isPolar&&(t=Wne(r));var i=t.start,n=t.end;return{start:r.convert(i),end:r.convert(n)}}function zU(r){var e=r.start,t=r.end;return e.x===t.x}function jU(r,e){var t=r.start,i=r.end,n=zU(r);return n?(t.y-i.y)*(e.x-t.x)>0?1:-1:(i.x-t.x)*(t.y-e.y)>0?-1:1}function Ik(r,e){var t=At(r,["components","axis"],{});return Le({},At(t,["common"],{}),Le({},At(t,[e],{})))}function YU(r,e,t){var i=At(r,["components","axis"],{});return Le({},At(i,["common","title"],{}),Le({},At(i,[e,"title"],{})),t)}function l3(r){var e=r.x,t=r.y,i=r.circleCenter,n=t.start>t.end,a=r.isTransposed?r.convert({x:n?0:1,y:0}):r.convert({x:0,y:n?0:1}),o=[a.x-i.x,a.y-i.y],s=[1,0],l=a.y>i.y?mr.angle(o,s):mr.angle(o,s)*-1,u=l+(e.end-e.start),f=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2));return{center:i,radius:f,startAngle:l,endAngle:u}}function hE(r,e){return Xp(r)?r===!1?!1:{}:At(r,[e])}function WU(r,e){return At(r,"position",e)}function VU(r,e){return At(e,["title","text"],nb(r))}var Wf=function(){function r(e,t){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=Le({},this.getDefaultCfg(),t)}return r.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},r.prototype.render=function(){this.renderViews()},r.prototype.update=function(){},r.prototype.clear=function(){this.clearFacetViews()},r.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},r.prototype.facetToView=function(e){var t=e.region,i=e.data,n=e.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(i||[]),e.view=o,this.beforeEachView(o,e);var s=this.cfg.eachView;return s&&s(o,e),this.afterEachView(o,e),o},r.prototype.createContainer=function(){var e=this.view.getLayer(ha.FORE);return e.addGroup()},r.prototype.renderViews=function(){this.createFacetViews()},r.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},r.prototype.clearFacetViews=function(){var e=this;at(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},r.prototype.parseSpacing=function(){var e=this.view.viewBBox,t=e.width,i=e.height,n=this.cfg.spacing;return n.map(function(a,o){return qr(a)?a/(o===0?t:i):parseFloat(a)/100})},r.prototype.getFieldValues=function(e,t){var i=[],n={};return at(e,function(a){var o=a[t];!Kt(o)&&!n[o]&&(i.push(o),n[o]=!0)}),i},r.prototype.getRegion=function(e,t,i,n){var a=Rt(this.parseSpacing(),2),o=a[0],s=a[1],l=(1+o)/(t===0?1:t)-o,u=(1+s)/(e===0?1:e)-s,f={x:(l+o)*i,y:(u+s)*n},c={x:f.x+l,y:f.y+u};return{start:f,end:c}},r.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},r.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},r.prototype.processAxis=function(e,t){var i=e.getOptions(),n=i.coordinate,a=e.geometries,o=At(n,"type","rect");if(o==="rect"&&a.length){Kt(i.axes)&&(i.axes={});var s=i.axes,l=Rt(a[0].getXYFields(),2),u=l[0],f=l[1],c=hE(s,u),h=hE(s,f);c!==!1&&(i.axes[u]=this.getXAxisOption(u,s,c,t)),h!==!1&&(i.axes[f]=this.getYAxisOption(f,s,h,t))}},r.prototype.getFacetDataFilter=function(e){return function(t){return Fq(e,function(i){var n=i.field,a=i.value;return!Kt(a)&&n?t[n]===a:!0})}},r}();var Oyt={},qU=function(r){return Oyt[Up(r)]},ab=function(r,e){Oyt[Up(r)]=e};var Vne=function(){function r(e,t){this.context=e,this.cfg=t,e.addAction(this)}return r.prototype.applyCfg=function(e){Vi(this,e)},r.prototype.init=function(){this.applyCfg(this.cfg)},r.prototype.destroy=function(){this.context.removeAction(this),this.context=null},r}(),Yi=Vne;var qne=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.callback=null},e}(Yi),kyt=qne;var Pyt={};function HU(r,e){var t=Pyt[r],i=null;if(t){var n=t.ActionClass,a=t.cfg;i=new n(e,a),i.name=r,i.init()}return i}function Jr(r,e,t){Pyt[r]={ActionClass:e,cfg:t}}function Dyt(r,e){var t=new kyt(e);return t.callback=r,t.name="callback",t}function Hne(r,e){var t=[];if(r.length){t.push(["M",r[0].x,r[0].y]);for(var i=1,n=r.length;i<n;i+=1){var a=r[i];t.push(["L",a.x,a.y])}e&&t.push(["Z"])}return t}function UU(r,e){for(var t=[r[0]],i=1,n=r.length;i<n;i=i+2){var a=e.convert({x:r[i],y:r[i+1]});t.push(a.x,a.y)}return t}function Fyt(r,e){var t=e.isTransposed,i=r[1],n=r[6],a=r[7],o=e.convert({x:n,y:a}),s=t?0:1;return["A",i,i,0,0,s,o.x,o.y]}function Une(r,e,t){var i=t.isTransposed,n=t.startAngle,a=t.endAngle,o=r[0].toLowerCase()==="a"?{x:r[6],y:r[7]}:{x:r[1],y:r[2]},s={x:e[1],y:e[2]},l=[],u=i?"y":"x",f=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,h=f>Math.PI?1:0,d=t.convert(s),v=ib(t,d);if(v>=.5)if(f===Math.PI*2){var p={x:(s.x+o.x)/2,y:(s.y+o.y)/2},g=t.convert(p);l.push(["A",v,v,0,h,c,g.x,g.y]),l.push(["A",v,v,0,h,c,d.x,d.y])}else l.push(["A",v,v,0,h,c,d.x,d.y]);return l}function Xne(r){at(r,function(e,t){var i=e;if(i[0].toLowerCase()==="a"){var n=r[t-1],a=r[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var Zne=function(r,e,t,i){var n,a=[],o=!!i,s,l,u,f,c,h,d;if(o){n=Rt(i,2),u=n[0],f=n[1];for(var v=0,p=r.length;v<p;v++){var g=r[v];u=mr.min([0,0],u,g),f=mr.max([0,0],f,g)}}for(var v=0,m=r.length;v<m;v++){var g=r[v];if(v===0&&!t)d=g;else if(v===m-1&&!t)h=g,a.push(d),a.push(h);else{s=r[t?v?v-1:m-1:v-1],l=r[t?(v+1)%m:v+1];var y=[0,0];y=mr.sub(y,l,s),y=mr.scale(y,y,e);var x=mr.distance(g,s),b=mr.distance(g,l),_=x+b;_!==0&&(x/=_,b/=_);var M=mr.scale([0,0],y,-x),A=mr.scale([0,0],y,b);h=mr.add([0,0],g,M),c=mr.add([0,0],g,A),c=mr.min([0,0],c,mr.max([0,0],l,g)),c=mr.max([0,0],c,mr.min([0,0],l,g)),M=mr.sub([0,0],c,g),M=mr.scale([0,0],M,-x/b),h=mr.add([0,0],g,M),h=mr.min([0,0],h,mr.max([0,0],s,g)),h=mr.max([0,0],h,mr.min([0,0],s,g)),A=mr.sub([0,0],g,h),A=mr.scale([0,0],A,b/x),c=mr.add([0,0],g,A),o&&(h=mr.max([0,0],h,u),h=mr.min([0,0],h,f),c=mr.max([0,0],c,u),c=mr.min([0,0],c,f)),a.push(d),a.push(h),d=c}}return t&&a.push(a.shift()),a};function XU(r,e,t){for(var i=!!e,n=[],a=0,o=r.length;a<o;a+=2)n.push([r[a],r[a+1]]);for(var s=Zne(n,.4,i,t),l=n.length,u=[],f,c,h,a=0;a<l-1;a++)f=s[a*2],c=s[a*2+1],h=n[a+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return i&&(f=s[l],c=s[l+1],h=n[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}function Jy(r,e){return Hne(r,e)}function VS(r,e,t){var i=[],n=r[0],a=null;if(r.length<=2)return Jy(r,e);for(var o=0,s=r.length;o<s;o++){var l=r[o];(!a||!(a.x===l.x&&a.y===l.y))&&(i.push(l.x),i.push(l.y),a=l)}var u=t||[[0,0],[1,1]],f=XU(i,e,u);return f.unshift(["M",n.x,n.y]),f}function Nyt(r,e){var t=[];return at(e,function(i){var n=i[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(UU(i,r));break;case"a":t.push(Fyt(i,r));break;case"z":default:t.push(i);break}}),t}function Byt(r,e){var t=[],i,n,a,o;return at(e,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(UU(s,r));break;case"l":i=e[l-1],n=s,a=r.isTransposed,o=a?i[i.length-2]===n[1]:i[i.length-1]===n[2],o?t=t.concat(Une(i,n,r)):t.push(UU(s,r));break;case"a":t.push(Fyt(s,r));break;case"z":default:t.push(s);break}}),Xne(t),t}var Lk=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Qne=new RegExp("([a-z])["+Lk+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Lk+"]*,?["+Lk+"]*)+)","ig"),$ne=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Lk+"]*,?["+Lk+"]*","ig");function Ok(r){if(!r)return null;if($t(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(Qne,function(i,n,a){var o=[],s=n.toLowerCase();if(a.replace($ne,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var sTr=Math.PI*2;var Ryt=function(r,e,t){return r>=e&&r<=t};function u3(r,e,t,i){var n=.001,a={x:t.x-r.x,y:t.y-r.y},o={x:e.x-r.x,y:e.y-r.y},s={x:i.x-t.x,y:i.y-t.y},l=o.x*s.y-o.y*s.x,u=l*l,f=o.x*o.x+o.y*o.y,c=s.x*s.x+s.y*s.y,h=null;if(u>n*f*c){var d=(a.x*s.y-a.y*s.x)/l,v=(a.x*o.y-a.y*o.x)/l;Ryt(d,0,1)&&Ryt(v,0,1)&&(h={x:r.x+d*o.x,y:r.y+d*o.y})}return h}var nae=1e-6;function ZU(r){return Math.abs(r)<nae?0:r<0?-1:1}function aae(r,e,t){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function kk(r,e,t){var i=!1,n=r.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=r[a],s=r[(a+1)%n];if(aae(o,s,[e,t]))return!0;ZU(o[1]-t)>0!=ZU(s[1]-t)>0&&ZU(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(i=!i)}return i}function Gyt(r){for(var e=[],t=r.length,i=0;i<t-1;i++){var n=r[i],a=r[i+1];e.push({from:{x:n[0],y:n[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=r[0],s=r[t-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function oae(r,e){var t=!1;return at(r,function(i){if(u3(i.from,i.to,e.from,e.to))return t=!0,!1}),t}function zyt(r){var e=r.map(function(i){return i[0]}),t=r.map(function(i){return i[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function sae(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function f3(r,e){if(r.length<2||e.length<2)return!1;var t=zyt(r),i=zyt(e);if(!sae(t,i))return!1;var n=!1;if(at(e,function(l){if(kk(r,l[0],l[1]))return n=!0,!1}),n||(at(r,function(l){if(kk(e,l[0],l[1]))return n=!0,!1}),n))return!0;var a=Gyt(r),o=Gyt(e),s=!1;return at(o,function(l){if(oae(a,l))return s=!0,!1}),s}function jyt(r,e){var t=r.event,i=t.target;return Wyt(i,e)}function Yyt(r,e){var t=r.getCanvasBBox(),i=t.width,n=t.height;return i>0&&n>0&&(i>=e||n>=e)}function Wyt(r,e){var t=r.getCanvasBBox();return Yyt(r,e)?t:null}function Vyt(r,e){var t=r.event.maskShapes;return t.map(function(i){return Wyt(i,e)}).filter(function(i){return!!i})}function lae(r,e){var t=r.event,i=t.target;return qyt(i,e)}function qyt(r,e){return Yyt(r,e)?r.attr("path"):null}function uae(r,e){var t=r.event.maskShapes;return t.map(function(i){return qyt(i,e)})}function Vc(r){var e=r.event,t,i=e.target;return i&&(t=i.get("element")),t}function rd(r){var e=r.event,t=e.target,i;return t&&(i=t.get("delegateObject")),i}function c3(r){var e=r.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function t0(r){return r&&r.component&&r.component.isList()}function h3(r){return r&&r.component&&r.component.isSlider()}function e0(r){var e=r.event,t=e.target;return t&&(t==null?void 0:t.get("name"))==="mask"||Pk(r)}function Pk(r){var e;return((e=r.event.target)===null||e===void 0?void 0:e.get("name"))==="multi-mask"}function dE(r,e){var t=r.event.target;if(Pk(r))return fae(r,e);if(t.get("type")==="path"){var i=lae(r,e);return i?Zyt(r.view,i):void 0}var n=jyt(r,e);return n?Fk(r.view,n):null}function fae(r,e){var t=r.event.target;if(t.get("type")==="path"){var i=uae(r,e);return i.length>0?i.flatMap(function(a){return Zyt(r.view,a)}):null}var n=Vyt(r,e);return n.length>0?n.flatMap(function(a){return Fk(r.view,a)}):null}function d3(r,e,t){if(Pk(r))return cae(r,e,t);var i=jyt(r,t);return i?Hyt(i,r,e):null}function Hyt(r,e,t){var i=e.view,n=p3(i,t,{x:r.x,y:r.y}),a=p3(i,t,{x:r.maxX,y:r.maxY}),o={minX:n.x,minY:n.y,maxX:a.x,maxY:a.y};return Fk(t,o)}function cae(r,e,t){var i=Vyt(r,t);return i.length>0?i.flatMap(function(n){return Hyt(n,r,e)}):null}function Ua(r){var e=r.geometries,t=[];return at(e,function(i){var n=i.elements;t=t.concat(n)}),r.views&&r.views.length&&at(r.views,function(i){t=t.concat(Ua(i))}),t}function Uyt(r,e,t){var i=Ua(r);return i.filter(function(n){return Pl(n,e)===t})}function Dk(r,e){var t=r.geometries,i=[];return at(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(e)});i=i.concat(a)}),r.views&&r.views.length&&at(r.views,function(n){i.push.apply(i,ne([],Rt(Dk(n,e)),!1))}),i}function Pl(r,e){var t=r.getModel(),i=t.data,n;return $t(i)?n=i[0][e]:n=i[e],n}function hae(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function Fk(r,e){var t=Ua(r),i=[];return at(t,function(n){var a=n.shape,o=a.getCanvasBBox();hae(e,o)&&i.push(n)}),i}function Xyt(r){var e=[];return at(r,function(t){var i=t[0];if(i!=="A")for(var n=1;n<t.length;n=n+2)e.push([t[n],t[n+1]]);else{var a=t.length;e.push([t[a-2],t[a-1]])}}),e}function Zyt(r,e){var t=Ua(r),i=Xyt(e),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=Xyt(o.attr("path"));else{var l=o.getCanvasBBox();s=Cyt(l)}return f3(i,s)});return n}function v3(r){return r.getComponents().map(function(e){return e.component})}function vE(r,e){var t=e.x-r.x,i=e.y-r.y;return Math.sqrt(t*t+i*i)}function Kyt(r,e){if(r.length<=2)return Jy(r,!1);var t=r[0],i=[];at(r,function(a){i.push(a.x),i.push(a.y)});var n=XU(i,e,null);return n.unshift(["M",t.x,t.y]),n}function KU(r,e){return r.x<=e.x&&r.maxX>=e.x&&r.y<=e.y&&r.maxY>e.y}function Vf(r){var e=r.parent,t=null;return e&&(t=e.views.filter(function(i){return i!==r})),t}function dae(r,e){var t=r.getCoordinate();return t.invert(e)}function p3(r,e,t){var i=dae(r,t);return e.getCoordinate().convert(i)}function g3(r,e,t,i){var n=!1;return at(r,function(a){if(a[t]===e[t]&&a[i]===e[i])return n=!0,!1}),n}function og(r,e){var t=r.getScaleByField(e);return!t&&r.views&&at(r.views,function(i){if(t=og(i,e),t)return!1}),t}var vae=function(){function r(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return r.prototype.cache=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},r.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},r.prototype.addAction=function(e){this.actions.push(e)},r.prototype.removeAction=function(e){var t=this.actions,i=this.actions.indexOf(e);i>=0&&t.splice(i,1)},r.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var t=this.view.getCanvas(),i=t.getPointByClient(e.clientX,e.clientY);return i}else return{x:e.x,y:e.y};return null},r.prototype.getCurrentShape=function(){return At(this.event,["gEvent","shape"])},r.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},r.prototype.isInShape=function(e){var t=this.getCurrentShape();return t?t.get("name")===e:!1},r.prototype.isInComponent=function(e){var t=v3(this.view),i=this.getCurrentPoint();return i?!!t.find(function(n){var a=n.getBBox();return e?n.get("name")===e&&KU(a,i):KU(a,i)}):!1},r.prototype.destroy=function(){at(this.actions.slice(),function(e){e.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},r}(),Qyt=vae;var pae=function(){function r(e,t){this.view=e,this.cfg=t}return r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r}(),m3=pae;function $yt(r,e,t){var i=r.split(":"),n=i[0],a=e.getAction(n)||HU(n,e);if(!a)throw new Error("There is no action named ".concat(n));var o=i[1];return{action:a,methodName:o,arg:t}}function Jyt(r){var e=r.action,t=r.methodName,i=r.arg;if(e[t])e[t](i);else throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(t))}var qc={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},gae=function(r){G(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.callbackCaches={},n.emitCaches={},n.steps=i,n}return e.prototype.init=function(){this.initContext(),r.prototype.init.call(this)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;at(this.steps,function(i,n){at(i,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},e.prototype.clearEvents=function(){var t=this;at(this.steps,function(i,n){at(i,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},e.prototype.initContext=function(){var t=this.view,i=new Qyt(t);this.context=i;var n=this.steps;at(n,function(a){at(a,function(o){if(nr(o.action))o.actionObject={action:Dyt(o.action,i),methodName:"execute"};else if(cr(o.action))o.actionObject=$yt(o.action,i,o.arg);else if($t(o.action)){var s=o.action,l=$t(o.arg)?o.arg:[o.arg];o.actionObject=[],at(s,function(u,f){o.actionObject.push($yt(u,i,l[f]))})}})})},e.prototype.isAllowStep=function(t){var i=this.currentStepName,n=this.steps;if(i===t||t===qc.SHOW_ENABLE)return!0;if(t===qc.PROCESSING)return i===qc.START;if(t===qc.START)return i!==qc.PROCESSING;if(t===qc.END)return i===qc.PROCESSING||i===qc.START;if(t===qc.ROLLBACK){if(n[qc.END])return i===qc.END;if(i===qc.START)return!0}return!1},e.prototype.isAllowExecute=function(t,i){if(this.isAllowStep(t)){var n=this.getKey(t,i);return i.once&&this.emitCaches[n]?!1:i.isEnable?i.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,i){t!==qc.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,i);this.emitCaches[n]=!0},e.prototype.getKey=function(t,i){return t+i.trigger+i.action},e.prototype.getActionCallback=function(t,i){var n=this,a=this.context,o=this.callbackCaches,s=i.actionObject;if(i.action&&s){var l=this.getKey(t,i);if(!o[l]){var u=function(f){a.event=f,n.isAllowExecute(t,i)?($t(s)?at(s,function(c){a.event=f,Jyt(c)}):(a.event=f,Jyt(s)),n.afterExecute(t,i),i.callback&&(a.event=f,i.callback(a))):a.event=null};i.debounce?o[l]=zO(u,i.debounce.wait,i.debounce.immediate):i.throttle?o[l]=wS(u,i.throttle.wait,{leading:i.throttle.leading,trailing:i.throttle.trailing}):o[l]=u}return o[l]}return null},e.prototype.bindEvent=function(t,i){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],i):n[0]==="document"?document.addEventListener(n[1],i):this.view.on(t,i)},e.prototype.offEvent=function(t,i){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],i):n[0]==="document"?document.removeEventListener(n[1],i):this.view.off(t,i)},e}(m3),t0t=gae;var r0t={};function i0t(r){return r0t[Up(r)]}function da(r,e){r0t[Up(r)]=e}function n0t(r,e,t){var i=i0t(r);if(!i)return null;if(fl(i)){var n=Vi(Vs(i),t);return new t0t(e,n)}else{var a=i;return new a(e,t)}}function mae(r){return{title:{autoRotate:!0,position:"center",spacing:r.axisTitleSpacing,style:{fill:r.axisTitleTextFillColor,fontSize:r.axisTitleTextFontSize,lineHeight:r.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily},iconStyle:{fill:r.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:r.axisLabelOffset,style:{fill:r.axisLabelFillColor,fontSize:r.axisLabelFontSize,lineHeight:r.axisLabelLineHeight,fontFamily:r.fontFamily}},line:{style:{lineWidth:r.axisLineBorder,stroke:r.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:r.axisGridBorderColor,lineWidth:r.axisGridBorder,lineDash:r.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:r.axisTickLineBorder,stroke:r.axisTickLineBorderColor},alignTick:!0,length:r.axisTickLineLength},subTickLine:null,animate:!0}}function yae(r){return{title:null,marker:{symbol:"circle",spacing:r.legendMarkerSpacing,style:{r:r.legendCircleMarkerSize,fill:r.legendMarkerColor}},itemName:{spacing:5,style:{fill:r.legendItemNameFillColor,fontFamily:r.fontFamily,fontSize:r.legendItemNameFontSize,lineHeight:r.legendItemNameLineHeight,fontWeight:r.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:r.legendPageNavigatorMarkerSize,inactiveFill:r.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:r.legendPageNavigatorMarkerInactiveFillOpacity,fill:r.legendPageNavigatorMarkerFillColor,opacity:r.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:r.legendPageNavigatorTextFillColor,fontSize:r.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:r.legendItemSpacing,itemMarginBottom:r.legendItemMarginBottom,padding:r.legendPadding}}function y3(r){var e,t={point:{default:{fill:r.pointFillColor,r:r.pointSize,stroke:r.pointBorderColor,lineWidth:r.pointBorder,fillOpacity:r.pointFillOpacity},active:{stroke:r.pointActiveBorderColor,lineWidth:r.pointActiveBorder},selected:{stroke:r.pointSelectedBorderColor,lineWidth:r.pointSelectedBorder},inactive:{fillOpacity:r.pointInactiveFillOpacity,strokeOpacity:r.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:r.hollowPointFillColor,lineWidth:r.hollowPointBorder,stroke:r.hollowPointBorderColor,strokeOpacity:r.hollowPointBorderOpacity,r:r.hollowPointSize},active:{stroke:r.hollowPointActiveBorderColor,strokeOpacity:r.hollowPointActiveBorderOpacity},selected:{lineWidth:r.hollowPointSelectedBorder,stroke:r.hollowPointSelectedBorderColor,strokeOpacity:r.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:r.hollowPointInactiveBorderOpacity}},area:{default:{fill:r.areaFillColor,fillOpacity:r.areaFillOpacity,stroke:null},active:{fillOpacity:r.areaActiveFillOpacity},selected:{fillOpacity:r.areaSelectedFillOpacity},inactive:{fillOpacity:r.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:r.hollowAreaBorderColor,lineWidth:r.hollowAreaBorder,strokeOpacity:r.hollowAreaBorderOpacity},active:{fill:null,lineWidth:r.hollowAreaActiveBorder},selected:{fill:null,lineWidth:r.hollowAreaSelectedBorder},inactive:{strokeOpacity:r.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:r.intervalFillColor,fillOpacity:r.intervalFillOpacity},active:{stroke:r.intervalActiveBorderColor,lineWidth:r.intervalActiveBorder},selected:{stroke:r.intervalSelectedBorderColor,lineWidth:r.intervalSelectedBorder},inactive:{fillOpacity:r.intervalInactiveFillOpacity,strokeOpacity:r.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:r.hollowIntervalFillColor,stroke:r.hollowIntervalBorderColor,lineWidth:r.hollowIntervalBorder,strokeOpacity:r.hollowIntervalBorderOpacity},active:{stroke:r.hollowIntervalActiveBorderColor,lineWidth:r.hollowIntervalActiveBorder,strokeOpacity:r.hollowIntervalActiveBorderOpacity},selected:{stroke:r.hollowIntervalSelectedBorderColor,lineWidth:r.hollowIntervalSelectedBorder,strokeOpacity:r.hollowIntervalSelectedBorderOpacity},inactive:{stroke:r.hollowIntervalInactiveBorderColor,lineWidth:r.hollowIntervalInactiveBorder,strokeOpacity:r.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:r.lineBorderColor,lineWidth:r.lineBorder,strokeOpacity:r.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:r.lineActiveBorder},selected:{lineWidth:r.lineSelectedBorder},inactive:{strokeOpacity:r.lineInactiveBorderOpacity}}},i=mae(r),n=yae(r);return{background:r.backgroundColor,defaultColor:r.brandColor,subColor:r.subColor,semanticRed:r.paletteSemanticRed,semanticGreen:r.paletteSemanticGreen,padding:"auto",fontFamily:r.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:r.paletteQualitative10,colors20:r.paletteQualitative20,sequenceColors:r.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=rb(a.getModel(),o),l=s.startAngle,u=s.endAngle,f=(l+u)/2,c=7.5,h=c*Math.cos(f),d=c*Math.sin(f);return{matrix:Ni.transform(null,[["t",h,d]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:S(S({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:S(S({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:S(S({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:S(S({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:S(S({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:S(S({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:S(S({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:S(S({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:i,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Le({},i.grid,{line:{type:"line"}})},radius:{title:null,grid:Le({},i.grid,{line:{type:"circle"}})}},legend:{common:n,right:{layout:"vertical",padding:r.legendVerticalPadding},left:{layout:"vertical",padding:r.legendVerticalPadding},top:{layout:"horizontal",padding:r.legendHorizontalPadding},bottom:{layout:"horizontal",padding:r.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:r.sliderRailHeight,defaultLength:r.sliderRailWidth,style:{fill:r.sliderRailFillColor,stroke:r.sliderRailBorderColor,lineWidth:r.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:r.sliderLabelTextFillColor,fontSize:r.sliderLabelTextFontSize,lineHeight:r.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},handler:{size:r.sliderHandlerWidth,style:{fill:r.sliderHandlerFillColor,stroke:r.sliderHandlerBorderColor}},slidable:!0,padding:n.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:r.tooltipCrosshairsBorderColor,lineWidth:r.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(Ko.CONTAINER_CLASS)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:r.tooltipContainerFillColor,opacity:r.tooltipContainerFillOpacity,boxShadow:r.tooltipContainerShadow,borderRadius:"".concat(r.tooltipContainerBorderRadius,"px"),color:r.tooltipTextFillColor,fontSize:"".concat(r.tooltipTextFontSize,"px"),fontFamily:r.fontFamily,lineHeight:"".concat(r.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(Ko.TITLE_CLASS)]={marginBottom:"12px",marginTop:"12px"},e["".concat(Ko.LIST_CLASS)]={margin:0,listStyleType:"none",padding:0},e["".concat(Ko.LIST_ITEM_CLASS)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(Ko.MARKER_CLASS)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(Ko.VALUE_CLASS)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:r.annotationArcBorderColor,lineWidth:r.annotationArcBorder},animate:!0},line:{style:{stroke:r.annotationLineBorderColor,lineDash:r.annotationLineDash,lineWidth:r.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textAlign:"start",fontFamily:r.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:r.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:r.annotationRegionBorder,stroke:r.annotationRegionBorderColor,fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:r.brandColor,lineWidth:2}},line:{style:{stroke:r.annotationLineBorderColor,lineWidth:r.annotationLineBorder},length:r.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:r.cSliderBackgroundFillColor,opacity:r.cSliderBackgroundFillOpacity},foregroundStyle:{fill:r.cSliderForegroundFillColor,opacity:r.cSliderForegroundFillOpacity},handlerStyle:{width:r.cSliderHandlerWidth,height:r.cSliderHandlerHeight,fill:r.cSliderHandlerFillColor,opacity:r.cSliderHandlerFillOpacity,stroke:r.cSliderHandlerBorderColor,lineWidth:r.cSliderHandlerBorder,radius:r.cSliderHandlerBorderRadius,highLightFill:r.cSliderHandlerHighlightFillColor},textStyle:{fill:r.cSliderTextFillColor,opacity:r.cSliderTextFillOpacity,fontSize:r.cSliderTextFontSize,lineHeight:r.cSliderTextLineHeight,fontWeight:r.cSliderTextFontWeight,stroke:r.cSliderTextBorderColor,lineWidth:r.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:r.scrollbarTrackFillColor,thumbColor:r.scrollbarThumbFillColor}},hover:{style:{thumbColor:r.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:r.labelFillColor,fontSize:r.labelFontSize,fontFamily:r.fontFamily,stroke:r.labelBorderColor,lineWidth:r.labelBorder},fillColorDark:r.labelFillColorDark,fillColorLight:r.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:r.innerLabelFillColor,fontSize:r.innerLabelFontSize,fontFamily:r.fontFamily,stroke:r.innerLabelBorderColor,lineWidth:r.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:r.overflowLabelFillColor,fontSize:r.overflowLabelFontSize,fontFamily:r.fontFamily,stroke:r.overflowLabelBorderColor,lineWidth:r.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:r.labelLineBorder}},autoRotate:!0}}}var Un={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},pE={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},xae=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],bae=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],wae=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],QU=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?xae:e,i=r.paletteQualitative20,n=i===void 0?bae:i,a=r.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:wae,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Un[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Un[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:pE[85],axisTickLineBorderColor:Un[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Un[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Un[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Un[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Un[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Un[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Un[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Un[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Un[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Un[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Un[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Un[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Un[25],annotationArcBorderColor:Un[15],annotationArcBorder:1,annotationLineBorderColor:Un[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Un[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Un[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Un[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Un[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Un[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:pE[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Un[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:pE[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Un[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:pE[100],pointBorderOpacity:1,pointActiveBorderColor:Un[100],pointSelectedBorder:2,pointSelectedBorderColor:Un[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:pE[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Un[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Un[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Un[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Un[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Un[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Un[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:pE[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Un[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Un[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return S(S({},s),r)},jIr=QU();function qS(r){var e=r.styleSheet,t=e===void 0?{}:e,i=Ze(r,["styleSheet"]),n=QU(t);return Le({},y3(n),i)}var _ae=qS({}),$U={default:_ae};function HS(r){return At($U,Up(r),$U.default)}function gE(r,e){$U[Up(r)]=qS(e)}function a0t(r,e,t){var i=t.translate(r),n=t.translate(e);return Oa(i,n)}function Sae(r,e){var t=e.coordinate,i=e.getXScale(),n=i.range,a=n[n.length-1],o=n[0],s=t.invert(r),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),i.translate(i.invert(l))}function o0t(r,e,t){var i=t.coordinate,n=t.getYScale(),a=n.field,o=i.invert(e),s=n.invert(o.y),l=hu(r,function(u){var f=u[on];return f[a][0]<=s&&f[a][1]>=s});return l||r[r.length-1]}var Cae=jy(function(r){if(r.isCategory)return 1;for(var e=r.values,t=e.length,i=r.translate(e[0]),n=i,a=0;a<t;a++){var o=e[a],s=r.translate(o);s<i&&(i=s),s>n&&(n=s)}return(n-i)/(t-1)});function Mae(r,e,t){var i=e.getAttribute("position"),n=i.getFields(),a=e.scales,o=nr(t)||!t?n[0]:t,s=a[o],l=s?s.getText(r[o]):r[o]||o;return nr(t)?t(l,r):l}function Aae(r){var e=P1(r.attributes);return ho(e,function(t){return Ff(Yy,t.type)})}function s0t(r){var e,t,i=Aae(r),n;try{for(var a=er(i),o=a.next();!o.done;o=a.next()){var s=o.value,l=s.getScale(s.type);if(l&&l.isLinear){var u=At(r.scaleDefs,l.field),f=o3(l,u,s.type,r.type);if(f!=="cat"){n=l;break}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var c=r.getXScale(),h=r.getYScale();return n||h||c}function Eae(r,e){var t=e.field,i=r[t];if($t(i)){var n=i.map(function(a){return e.getText(a)});return n.join("-")}return e.getText(i)}function Tae(r,e){var t,i=e.getGroupScales();if(i.length&&(t=i[0]),t){var n=t.field;return t.getText(r[n])}var a=s0t(e);return nb(a)}function JU(r,e,t){if(e.length===0)return null;var i=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(i==="heatmap"||i==="point"){for(var u=t.coordinate,f=u.invert(r),c=n.invert(f.x),h=a.invert(f.y),d=1/0,v=0;v<e.length;v++){var p=e[v],g=p[on],m=Math.pow(g[o]-c,2)+Math.pow(g[s]-h,2);m<d&&(d=m,l=p)}return l}var y=e[0],x=e[e.length-1],b=Sae(r,t),_=y[on][o],M=y[on][s],A=x[on][o],I=a.isLinear&&$t(M);if($t(_)){for(var v=0;v<e.length;v++){var k=e[v],g=k[on];if(n.translate(g[o][0])<=b&&n.translate(g[o][1])>=b)if(I)$t(l)||(l=[]),l.push(k);else{l=k;break}}$t(l)&&(l=o0t(l,r,t))}else{var E=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var v=0;v<e.length;v++){var k=e[v],g=k[on];if(a0t(g[o],b,n))if(I)$t(l)||(l=[]),l.push(k);else{l=k;break}else n.translate(g[o])<=b&&(x=k,E=e[v+1])}$t(l)&&(l=o0t(l,r,t))}else{if((b>n.translate(A)||b<n.translate(_))&&(b>n.max||b<n.min))return null;for(var O=0,P=e.length-1,N=void 0;O<=P;){N=Math.floor((O+P)/2);var R=e[N][on][o];if(a0t(R,b,n))return e[N];n.translate(R)<=n.translate(b)?(O=N+1,x=e[N],E=e[N+1]):(P===0&&(x=e[0]),P=N-1)}}x&&E&&Math.abs(n.translate(x[on][o])-b)>Math.abs(n.translate(E[on][o])-b)&&(x=E)}var z=Cae(t.getXScale());return!l&&Math.abs(n.translate(x[on][o])-b)<=z/2&&(l=x),l}function tX(r,e,t,i){var n,a;t===void 0&&(t=""),i===void 0&&(i=!1);var o=r[on],s=Mae(o,e,t),l=e.tooltipOption,u=e.theme.defaultColor,f=[],c,h;function d(k,E){if(i||!Kt(E)&&E!==""){var O={title:s,data:o,mappingData:r,name:k,value:E,color:r.color||u,marker:!0};f.push(O)}}if(Gi(l)){var v=l.fields,p=l.callback;if(p){var g=v.map(function(k){return r[on][k]}),m=p.apply(void 0,ne([],Rt(g),!1)),y=S({data:r[on],mappingData:r,title:s,color:r.color||u,marker:!0},m);f.push(y)}else{var x=e.scales;try{for(var b=er(v),_=b.next();!_.done;_=b.next()){var M=_.value;if(!Kt(o[M])){var A=x[M];c=nb(A),h=A.getText(o[M]),d(c,h)}}}catch(k){n={error:k}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}}}else{var I=s0t(e);h=Eae(o,I),c=Tae(o,e),d(c,h)}return f}function l0t(r,e,t,i){var n,a,o=i.showNil,s=[],l=r.dataArray;if(!Ts(l)){r.sort(l);try{for(var u=er(l),f=u.next();!f.done;f=u.next()){var c=f.value,h=JU(e,c,r);if(h){var d=r.getElementId(h),v=r.elementsMap[d];if(r.type==="heatmap"||v.visible){var p=tX(h,r,t,o);p.length&&s.push(p)}}}}catch(g){n={error:g}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}}return s}function u0t(r,e,t,i){var n=i.showNil,a=[],o=r.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=tX(l,r,t,n);u.length&&a.push(u)}return a}function x3(r,e,t){var i,n,a=[],o=r.geometries,s=t.shared,l=t.title,u=t.reversed;try{for(var f=er(o),c=f.next();!c.done;c=f.next()){var h=c.value;if(h.visible&&h.tooltipOption!==!1){var d=h.type,v=void 0;["point","edge","polygon"].includes(d)?v=u0t(h,e,l,t):["area","line","path","heatmap"].includes(d)||s!==!1?v=l0t(h,e,l,t):v=u0t(h,e,l,t),v.length&&(u&&v.reverse(),a.push(v))}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}return a}function f0t(r,e,t){var i,n,a=x3(r,e,t);try{for(var o=er(r.views),s=o.next();!s.done;s=o.next()){var l=s.value;a=a.concat(x3(l,e,t))}}catch(u){i={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c0t(r){return!qr(r)&&!$t(r)}function mE(r){r===void 0&&(r=0);var e=$t(r)?r:[r];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=ne(ne([],Rt(e),!1),Rt(e),!1);break;case 3:e=ne(ne([],Rt(e),!1),[e[1]],!1);break;default:e=e.slice(0,4);break}return e}var eX={};function r0(r,e){eX[r]=e}function h0t(){return Object.keys(eX)}function d0t(r){return eX[r]}var Iae=function(){function r(e){this.option=this.wrapperOption(e)}return r.prototype.update=function(e){return this.option=this.wrapperOption(e),this},r.prototype.hasAction=function(e){var t=this.option.actions;return zy(t,function(i){return i[0]===e})},r.prototype.create=function(e,t){var i=this.option,n=i.type,a=i.cfg,o=n==="theta",s=S({start:e,end:t},a),l=HR(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},r.prototype.adjust=function(e,t){return this.coordinate.update({start:e,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},r.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},r.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},r.prototype.scale=function(e,t){return this.option.actions.push(["scale",e,t]),this},r.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},r.prototype.getOption=function(){return this.option},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.wrapperOption=function(e){return S({type:"rect",actions:[],cfg:{}},e)},r.prototype.execActions=function(e){var t=this,i=this.option.actions;at(i,function(n){var a,o=Rt(n),s=o[0],l=o.slice(1),u=Kt(e)?!0:e.includes(s);u&&(a=t.coordinate)[s].apply(a,ne([],Rt(l),!1))})},r}(),v0t=Iae;var Lae=function(){function r(e,t,i){this.view=e,this.gEvent=t,this.data=i,this.type=t.type}return r.fromData=function(e,t,i){return new r(e,new Kp(t,{}),i)},Object.defineProperty(r.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},r.prototype.clone=function(){return new r(this.view,this.gEvent,this.data)},r}(),Qo=Lae;function rX(r){var e=r.getController("axis"),t=r.getController("legend"),i=r.getController("annotation"),n=r.getController("slider"),a=r.getController("scrollbar");[e,n,a,t,i].forEach(function(o){o&&o.layout()})}var p0t=function(){function r(){this.scales=new Map,this.syncScales=new Map}return r.prototype.createScale=function(e,t,i,n){var a=i,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=Le(l,o.scaleDef,i)}var u=Tyt(e,t,a);return this.cacheScale(u,i,n),u},r.prototype.sync=function(e,t){var i=this;this.syncScales.forEach(function(n,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];at(n,function(u){var f=i.getScale(u);s=qr(f.max)?Math.max(s,f.max):s,o=qr(f.min)?Math.min(o,f.min):o,at(f.values,function(c){l.includes(c)||l.push(c)})}),at(n,function(u){var f=i.getScale(u);if(f.isContinuous)f.change({min:o,max:s,values:l});else if(f.isCategory){var c=f.range,h=i.getScaleMeta(u);l&&!At(h,["scaleDef","range"])&&(c=s3(Le({},f,{values:l}),e,t)),f.change({values:l,range:c})}})})},r.prototype.cacheScale=function(e,t,i){var n=this.getScaleMeta(i);n&&n.scale.type===e.type?(Iyt(n.scale,e),n.scaleDef=t):(n={key:i,scale:e,scaleDef:t},this.scales.set(i,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(i),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(i)}},r.prototype.getScale=function(e){var t=this.getScaleMeta(e);if(!t){var i=jn(e.split("-")),n=this.syncScales.get(i);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},r.prototype.deleteScale=function(e){var t=this.getScaleMeta(e);if(t){var i=t.syncKey,n=this.syncScales.get(i);if(n&&n.length){var a=n.indexOf(e);a!==-1&&n.splice(a,1)}}this.scales.delete(e)},r.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},r.prototype.removeFromSyncScales=function(e){var t=this;this.syncScales.forEach(function(i,n){var a=i.indexOf(e);if(a!==-1)return i.splice(a,1),i.length===0&&t.syncScales.delete(n),!1})},r.prototype.getSyncKey=function(e){var t=e.scale,i=e.scaleDef,n=t.field,a=At(i,["sync"]);return a===!0?n:a===!1?void 0:a},r.prototype.getScaleMeta=function(e){return this.scales.get(e)},r}();var yE=function(){function r(e,t,i,n){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.top=e,this.right=t,this.bottom=i,this.left=n}return r.instance=function(e,t,i,n){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),new r(e,t,i,n)},r.prototype.max=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return this.top=Math.max(this.top,i),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,a),this.left=Math.max(this.left,o),this},r.prototype.shrink=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return this.top+=i,this.right+=n,this.bottom+=a,this.left+=o,this},r.prototype.inc=function(e,t){var i=e.width,n=e.height;switch(t){case Ne.TOP:case Ne.TOP_LEFT:case Ne.TOP_RIGHT:this.top+=n;break;case Ne.RIGHT:case Ne.RIGHT_TOP:case Ne.RIGHT_BOTTOM:this.right+=i;break;case Ne.BOTTOM:case Ne.BOTTOM_LEFT:case Ne.BOTTOM_RIGHT:this.bottom+=n;break;case Ne.LEFT:case Ne.LEFT_TOP:case Ne.LEFT_BOTTOM:this.left+=i;break;default:break}return this},r.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},r.prototype.clone=function(){return new(r.bind.apply(r,ne([void 0],Rt(this.getPadding()),!1)))},r}();function g0t(r){var e=r.padding;if(!c0t(e))return new(yE.bind.apply(yE,ne([void 0],Rt(mE(e)),!1)));var t=r.viewBBox,i=new yE,n=[],a=[],o=[];return at(r.getComponents(),function(s){var l=s.type;l===vo.AXIS?n.push(s):[vo.LEGEND,vo.SLIDER,vo.SCROLLBAR].includes(l)?a.push(s):l!==vo.GRID&&l!==vo.TOOLTIP&&o.push(s)}),at(n,function(s){var l=s.component,u=l.getLayoutBBox(),f=new To(u.x,u.y,u.width,u.height),c=f.exceed(t);i.max(c)}),at(a,function(s){var l=s.component,u=s.direction,f=l.getLayoutBBox(),c=l.get("padding"),h=new To(f.x,f.y,f.width,f.height).expand(c);i.inc(h,u)}),at(o,function(s){var l=s.component,u=s.direction,f=l.getLayoutBBox(),c=new To(f.x,f.y,f.width,f.height);i.inc(c,u)}),i}function m0t(r,e,t){var i=t.instance();e.forEach(function(n){n.autoPadding=i.max(n.autoPadding.getPadding())})}var y0t=function(r){G(e,r);function e(t){var i=r.call(this,{visible:t.visible})||this;i.views=[],i.geometries=[],i.controllers=[],i.interactions={},i.limitInPlot=!1,i.options={data:[],animate:!0},i.usedControllers=h0t(),i.scalePool=new p0t,i.layoutFunc=rX,i.isPreMouseInPlot=!1,i.isDataChanged=!1,i.isCoordinateChanged=!1,i.createdScaleKeys=new Map,i.onCanvasEvent=function(x){var b=x.name;if(!b.includes(":")){var _=i.createViewEvent(x);i.doPlotEvent(_),i.emit(b,_)}},i.onDelegateEvents=function(x){var b=x.name;if(!!b.includes(":")){var _=i.createViewEvent(x);i.emit(b,_)}};var n=t.id,a=n===void 0?Ol("view"):n,o=t.parent,s=t.canvas,l=t.backgroundGroup,u=t.middleGroup,f=t.foregroundGroup,c=t.region,h=c===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:c,d=t.padding,v=t.appendPadding,p=t.theme,g=t.options,m=t.limitInPlot,y=t.syncViewPadding;return i.parent=o,i.canvas=s,i.backgroundGroup=l,i.middleGroup=u,i.foregroundGroup=f,i.region=h,i.padding=d,i.appendPadding=v,i.options=S(S({},i.options),g),i.limitInPlot=m,i.id=a,i.syncViewPadding=y,i.themeObject=Gi(p)?Le({},HS("default"),qS(p)):HS(p),i.init(),i}return e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,i){t===void 0&&(t=!1),this.emit(Hn.BEFORE_RENDER,Qo.fromData(this,Hn.BEFORE_RENDER,i)),this.paint(t),this.emit(Hn.AFTER_RENDER,Qo.fromData(this,Hn.AFTER_RENDER,i)),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(Hn.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var i=this.geometries,n=0;n<i.length;n++)i[n].clear(),i[n].container.remove(!0),i[n].labelsContainer.remove(!0);this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].name==="annotation"?a[n].clear(!0):a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(Hn.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(Hn.BEFORE_DESTROY);var t=this.interactions;at(t,function(s){s&&s.destroy()}),this.clear();for(var i=this.controllers,n=0,a=i.length;n<a;n++){var o=i[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var i=this.geometries,n=0,a=i.length;n<a;n++){var o=i[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},e.prototype.data=function(t){return Vo(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,i){return nr(i)?(Vo(this.options,["filters",t],i),this):(!i&&At(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,i){return Xp(t)?Vo(this.options,["axes"],t):Vo(this.options,["axes",t],i),this},e.prototype.legend=function(t,i){return Xp(t)?Vo(this.options,["legends"],t):cr(t)?(Vo(this.options,["legends",t],i),fl(i)&&(i==null?void 0:i.selected)&&Vo(this.options,["filters",t],function(n){var a;return(a=i==null?void 0:i.selected[n])!==null&&a!==void 0?a:!0})):Vo(this.options,["legends"],t),this},e.prototype.scale=function(t,i){var n=this;return cr(t)?Vo(this.options,["scales",t],i):Gi(t)&&at(t,function(a,o){Vo(n.options,["scales",o],a)}),this},e.prototype.tooltip=function(t){return Vo(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,i){return cr(t)?Vo(this.options,"coordinate",{type:t,cfg:i}):Vo(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,i){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,i)},e.prototype.facet=function(t,i){this.facetInstance&&this.facetInstance.destroy();var n=qU(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,S(S({},i),{type:t})),this},e.prototype.animate=function(t){return Vo(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),Vi(this.options,t),this.views.forEach(function(i){return i.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,i){if(e.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return Vo(this.options,t,i),this},e.prototype.theme=function(t){return this.themeObject=Gi(t)?Le({},this.themeObject,qS(t)):HS(t),this},e.prototype.interaction=function(t,i){var n=this.interactions[t];n&&n.destroy();var a=n0t(t,this,i);return a&&(a.init(),this.interactions[t]=a),this},e.prototype.removeInteraction=function(t){var i=this.interactions[t];i&&(i.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(Hn.BEFORE_CHANGE_DATA,Qo.fromData(this,Hn.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var i=this.views,n=0,a=i.length;n<a;n++){var o=i[n];o.changeData(t)}this.emit(Hn.AFTER_CHANGE_DATA,Qo.fromData(this,Hn.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var i={data:this.options.data,scales:Vs(this.options.scales),axes:Vs(this.options.axes),coordinate:Vs(this.coordinateController.getOption()),tooltip:Vs(this.options.tooltip),legends:Vs(this.options.legends),animate:this.options.animate,visible:this.visible},n=new e(S(S({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:D1.BG}),middleGroup:this.middleGroup.addGroup({zIndex:D1.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:D1.FORE}),theme:this.themeObject,padding:this.padding},t),{options:S(S({},i),At(t,"options",{}))}));return this.views.push(n),n},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var i=Dq(this.views,function(n){return n===t})[0];return i&&i.destroy(),i},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},i=[];return this.geometries.forEach(function(n){var a=n.getYScale(),o=a.field;t[o]||(t[o]=!0,i.push(a))}),i},e.prototype.getScalesByDim=function(t){for(var i=this.geometries,n={},a=0,o=i.length;a<o;a++){var s=i[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},e.prototype.getScale=function(t,i){var n=i||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,i){return this.getScale(t,i)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return BA(this.geometries,function(t,i){return t.concat(i.getElements())},[])},e.prototype.getElementsBy=function(t){return this.getElements().filter(function(i){return t(i)})},e.prototype.getLayer=function(t){return t===ha.BG?this.backgroundGroup:t===ha.MID?this.middleGroup:t===ha.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(t){return Ayt(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return Zo(this.geometries.map(function(t){return t.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var t=this.geometries.map(function(i){return i.getGroupScales()});return ig(Zo(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},e.prototype.getXY=function(t){var i=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if(at(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!Kt(o)&&!Kt(s))return i.convert({x:o,y:s})},e.prototype.getController=function(t){return hu(this.controllers,function(i){return i.name===t})},e.prototype.showTooltip=function(t){var i=this.getController("tooltip");return i&&i.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var i=this.getController("tooltip");return i?i.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var i=this.geometries,n=[],a=0,o=i.length;a<o;a++){var s=i[a],l=s.dataArray;s.sort(l);for(var u=void 0,f=0,c=l.length;f<c;f++){var h=l[f];u=JU(t,h,s),u&&n.push(u)}}for(var d=this.views,a=0,o=d.length;a<o;a++){var v=d[a],p=v.getSnapRecords(t);n=n.concat(p)}return n},e.prototype.getComponents=function(){for(var t=[],i=this.controllers,n=0,a=i.length;n<a;n++){var o=i[n];t=t.concat(o.getComponents())}return t},e.prototype.filterData=function(t){var i=this.options.filters;return Mo(i)===0?t:ho(t,function(n,a){var o=Object.keys(i);return o.every(function(s){var l=i[s];return l(n[s],n,a)})})},e.prototype.filterFieldData=function(t,i){var n=this.options.filters,a=At(n,t);return Zp(a)?i:i.filter(function(o,s){return a(o[t],o,s)})},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),i=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if(xn(i,a)&&xn(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(Hn.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(Hn.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=At(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var i=this.viewBBox,n=i.x,a=i.y,o=i.width,s=i.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=g0t(this).shrink(mE(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var i=this.controllers.find(function(l){return l.name==="tooltip"});i.update();for(var n=this.views,a=0,o=n.length;a<o;a++){var s=n[a];s.renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var i=this.syncViewPadding===!0?m0t:nr(this.syncViewPadding)?this.syncViewPadding:void 0;i&&(i(this,this.views,yE),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var n=this.views,a=0,o=n.length;a<o;a++){var s=n[a];s.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var i=this.middleGroup;if(this.limitInPlot){var n=cE(this.coordinateInstance),a=n.type,o=n.attrs;i.setClip({type:a,attrs:o})}else i.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var f=s[l];f.renderPaintRecursive(t)}},e.prototype.createScale=function(t,i,n,a){var o=At(this.options.scales,[t]),s=S(S({},o),n);return this.parent?this.parent.createScale(t,i,s,a):this.scalePool.createScale(t,i,s,a)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var i=this.views,n=0,a=i.length;n<a;n++){var o=i[n];o.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,i,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,i=o.y,n=o.width,a=o.height}else t=0,i=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,f=new To(t+n*l.x,i+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(f))&&(this.viewBBox=new To(t+n*l.x,i+a*l.y,n*(u.x-l.x),a*(u.y-l.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,i=0,n=t.length;i<n;i++){var a=t[i],o=d0t(a);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(t){var i=t.shape,n=t.name,a=i?i.get("origin"):null,o=new Qo(this,t,a);return o.type=n,o},e.prototype.doPlotEvent=function(t){var i=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(i)){var l=this.isPointInPlot(o),u=t.clone();if(l){var f="plot:".concat(i);u.type=f,this.emit(f,u),(i==="mouseleave"||i==="touchend")&&(this.isPreMouseInPlot=!1)}i==="mousemove"||i==="touchmove"?(this.isPreMouseInPlot&&!l?(i==="mousemove"&&(u.type=Xu.MOUSE_LEAVE,this.emit(Xu.MOUSE_LEAVE,u)),u.type=Xu.LEAVE,this.emit(Xu.LEAVE,u)):!this.isPreMouseInPlot&&l&&(i==="mousemove"&&(u.type=Xu.MOUSE_ENTER,this.emit(Xu.MOUSE_ENTER,u)),u.type=Xu.ENTER,this.emit(Xu.ENTER,u)),this.isPreMouseInPlot=l):(i==="mouseleave"||i==="touchend")&&this.isPreMouseInPlot&&(i==="mouseleave"&&(u.type=Xu.MOUSE_LEAVE,this.emit(Xu.MOUSE_LEAVE,u)),u.type=Xu.LEAVE,this.emit(Xu.LEAVE,u),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var i=this.getCoordinate(),n=At(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:i,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),i=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,f=t.length;u<f;u++){var c=t[u],h=s[c],d=this.getScaleKey(c);this.createScale(c,i.includes(c)?a:l,h,d),this.createdScaleKeys.set(d,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),i={},n=0;n<t.length;n++){var a=t[n];i[a]=this.getScaleByField(a)}return i},e.prototype.getScaleFields=function(){for(var t=[],i=new Map,n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();ig(s,t,i)}return t},e.prototype.getGroupedFields=function(){for(var t=[],i=new Map,n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();ig(s,t,i)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,i=ne([this.getXScale()],Rt(this.getYScales()),!1).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;at(i,function(o){var s=o.field,l=o.values,u=o.isCategory,f=o.isIdentity;(u||f)&&l&&!At(a,[s,"range"])&&(o.range=s3(o,n,t.theme))})},e.prototype.initComponents=function(t){for(var i=this.controllers,n=0;n<i.length;n++){var a=i[n];t?a.update():(a.clear(),a.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,i=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,i)},e.prototype.paintGeometries=function(t){for(var i=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,i||l.animate(!1),l.paint(t)}},e.prototype.renderComponents=function(t){for(var i=this.getComponents(),n=0;n<i.length;n++){var a=i[n];a.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,i=this.options,n=i.geometries,a=n===void 0?[]:n,o=i.interactions,s=o===void 0?[]:o,l=i.views,u=l===void 0?[]:l,f=i.annotations,c=f===void 0?[]:f,h=i.coordinate,d=i.events,v=i.facets;this.coordinateController?h&&this.coordinateController.update(h):this.coordinateController=new v0t(h);for(var p=0;p<a.length;p++){var g=a[p];this.createGeometry(g)}for(var m=0;m<s.length;m++){var y=s[m],x=y.type,b=y.cfg;this.interaction(x,b)}for(var _=0;_<u.length;_++){var M=u[_];this.createView(M)}for(var A=this.getController("annotation"),I=0;I<c.length;I++){var k=c[I];A.annotation(k)}d&&at(d,function(E,O){t.on(O,E)}),v&&at(v,function(E){var O=E.type,P=Ze(E,["type"]);t.facet(O,P)})},e.prototype.createGeometry=function(t){var i=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[i]){var o=this[i](a);at(t,function(s,l){nr(o[l])&&o[l](s)})}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(zA);function Hc(r,e){y0t.prototype[r.toLowerCase()]=function(t){t===void 0&&(t={});var i=S({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new e(i);return this.geometries.push(n),n}}var b3=y0t;var nOr=function(r){G(e,r);function e(t){var i=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,f=t.appendPadding,c=t.renderer,h=c===void 0?"canvas":c,d=t.pixelRatio,v=t.localRefresh,p=v===void 0?!0:v,g=t.visible,m=g===void 0?!0:g,y=t.supportCSSTransform,x=y===void 0?!1:y,b=t.defaultInteractions,_=b===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:b,M=t.options,A=t.limitInPlot,I=t.theme,k=t.syncViewPadding,E=cr(n)?document.getElementById(n):n,O=du('<div style="position:relative;"></div>');E.appendChild(O);var P=tH(E,l,a,o),N=Qq(h),R=new N.Canvas(S({container:O,pixelRatio:d,localRefresh:p,supportCSSTransform:x},P));return i=r.call(this,{parent:null,canvas:R,backgroundGroup:R.addGroup({zIndex:D1.BG}),middleGroup:R.addGroup({zIndex:D1.MID}),foregroundGroup:R.addGroup({zIndex:D1.FORE}),padding:u,appendPadding:f,visible:m,options:M,limitInPlot:A,theme:I,syncViewPadding:k})||this,i.onResize=zO(function(){i.forceFit()},300),i.ele=E,i.canvas=R,i.width=P.width,i.height=P.height,i.autoFit=l,i.localRefresh=p,i.renderer=h,i.wrapperElement=O,i.updateCanvasStyle(),i.bindAutoFit(),i.initDefaultInteractions(_),i}return e.prototype.initDefaultInteractions=function(t){var i=this;at(t,function(n){i.interaction(n)})},e.prototype.aria=function(t){var i="aria-label";t===!1?this.ele.removeAttribute(i):this.ele.setAttribute(i,t.label)},e.prototype.changeSize=function(t,i){return this.width===t&&this.height===i?this:(this.emit(Hn.BEFORE_CHANGE_SIZE),this.width=t,this.height=i,this.canvas.changeSize(t,i),this.render(!0),this.emit(Hn.AFTER_CHANGE_SIZE),this)},e.prototype.clear=function(){r.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Ydt(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return r.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=tH(this.ele,!0,this.width,this.height),i=t.width,n=t.height;this.changeSize(i,n)}},e.prototype.updateCanvasStyle=function(){Ao(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(b3);var Uc=function(){function r(e){this.visible=!0,this.components=[],this.view=e}return r.prototype.clear=function(e){at(this.components,function(t){t.component.destroy()}),this.components=[]},r.prototype.destroy=function(){this.clear()},r.prototype.getComponents=function(){return this.components},r.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},r}();function kae(r){for(var e=[],t=function(n){var a=r[n],o=hu(e,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||e.push(a)},i=0;i<r.length;i++)t(i);return e}var Pae=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var i=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};i.emit("tooltip:show",Qo.fromData(i,"tooltip:show",S({items:n,title:a},t)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,f=s.showCrosshairs,c=s.showContent,h=s.marker,d=this.items,v=this.title;if(!xn(v,a)||!xn(d,n)?(i.emit("tooltip:change",Qo.fromData(i,"tooltip:change",S({items:n,title:a},t))),(nr(c)?c(n):c)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Vi({},s,{items:this.getItemsAfterProcess(n),title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,h)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,f){var p=At(s,["crosshairs","follow"],!1);this.renderCrosshairs(p?t:o,s)}}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var i=this.tooltipMarkersGroup;i&&i.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",Qo.fromData(this.view,"tooltip:hide",{})),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,i=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;i&&(i.hide(),i.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear(),(i==null?void 0:i.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var i=this,n=i.tooltip,a=i.tooltipMarkersGroup,o=i.xCrosshair,s=i.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var i,n,a,o,s,l,u=this.findItemsFromView(this.view,t);if(u.length){u=Zo(u);try{for(var f=er(u),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var d=(a=void 0,er(h)),v=d.next();!v.done;v=d.next()){var p=v.value,g=p.mappingData,m=g.x,y=g.y;p.x=$t(m)?m[m.length-1]:m,p.y=$t(y)?y[y.length-1]:y}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}}}catch(E){i={error:E}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}var x=this.getTooltipCfg().shared;if(x===!1&&u.length>1){var b=u[0],_=Math.abs(t.y-b[0].y);try{for(var M=er(u),A=M.next();!A.done;A=M.next()){var I=A.value,k=Math.abs(t.y-I[0].y);k<=_&&(b=I,_=k)}}catch(E){s={error:E}}finally{try{A&&!A.done&&(l=M.return)&&l.call(M)}finally{if(s)throw s.error}}u=[b]}return kae(Zo(u))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var i=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(i&&n){var a=i.getBoundingClientRect(),o=a.x,s=a.y,l=a.width,u=a.height;return new To(o,s,l,u).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,i=t.getOptions().tooltip,n=this.processCustomContent(i),a=t.getTheme(),o=At(a,["components","tooltip"],{}),s=At(n,"enterable",o.enterable);return Le({},o,n,{capture:!!(s||this.isLocked)})},e.prototype.processCustomContent=function(t){if(Xp(t)||!At(t,"customContent"))return t;var i=t.customContent,n=function(a,o){var s=i(a,o)||"";return cr(s)?'<div class="g2-tooltip">'+s+"</div>":s};return S(S({},t),{customContent:n})},e.prototype.getTitle=function(t){var i=t[0].title||t[0].name;return this.title=i,i},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),i={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new eb(S(S({parent:t.get("el").parentNode,region:i},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},e.prototype.renderTooltipMarkers=function(t,i){var n,a,o=this.getTooltipMarkersGroup(),s=this.view.getRootView(),l=s.limitInPlot;try{for(var u=er(t),f=u.next();!f.done;f=u.next()){var c=f.value,h=c.x,d=c.y;if(l||(o==null?void 0:o.getClip())){var v=cE(s.getCoordinate()),p=v.type,g=v.attrs;o==null||o.setClip({type:p,attrs:g})}else o==null||o.setClip(void 0);var m=this.view.getTheme(),y=At(m,["components","tooltip","marker"],{}),x=S(S({fill:c.color,symbol:"circle",shadowColor:c.color},nr(i)?S(S({},y),i(c)):i),{x:h,y:d});o.addShape("marker",{attrs:x})}}catch(b){n={error:b}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}},e.prototype.renderCrosshairs=function(t,i){var n=At(i,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,i)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,i)):n==="xy"&&(this.renderXCrosshairs(t,i),this.renderYCrosshairs(t,i))},e.prototype.renderXCrosshairs=function(t,i){var n=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=ag(n,t),l=n.getCenter(),u=n.getRadius();o=Na(l.x,l.y,u,s),a=l}var f=Le({start:a,end:o,container:this.getTooltipCrosshairsGroup()},At(i,"crosshairs",{}),this.getCrosshairsText("x",t,i));delete f.type;var c=this.xCrosshair;c?c.update(f):(c=new WS.Line(f),c.init()),c.render(),c.show(),this.xCrosshair=c},e.prototype.renderYCrosshairs=function(t,i){var n=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:ib(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=Le({container:this.getTooltipCrosshairsGroup()},a,At(i,"crosshairs",{}),this.getCrosshairsText("y",t,i)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new WS[o](a),u.init()):u.update(a):(u=new WS[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u},e.prototype.getCrosshairsText=function(t,i,n){var a=At(n,["crosshairs","text"]),o=At(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],f=l.getXScale(),c=l.getYScales()[0],h=void 0,d=void 0;if(o){var v=this.view.getCoordinate().invert(i);h=f.invert(v.x),d=c.invert(v.y)}else h=u.data[f.field],d=u.data[c.field];var p=t==="x"?h:d;return nr(a)?a=a(t,p,s,i):a.content=p,{text:a}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,i){var n,a;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),s=x3(t,i,o);try{for(var l=er(t.views),u=l.next();!u.done;u=l.next()){var f=u.value;s=s.concat(this.findItemsFromView(f,i))}}catch(c){n={error:c}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return s},e.prototype.getViewWithGeometry=function(t){var i=this;return t.geometries.length?t:hu(t.views,function(n){return i.getViewWithGeometry(n)})},e.prototype.getItemsAfterProcess=function(t){var i=this.getTooltipCfg().customItems,n=i||function(a){return a};return n(t)},e}(Uc),iX=Pae;var x0t={};function w3(r){return x0t[r.toLowerCase()]}function Ku(r,e){x0t[r.toLowerCase()]=e}var i0={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Dae={interval:function(r){return{enter:{animation:r.isRect?r.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:r.isPolar&&r.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},b0t={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",r.isPolar&&r.isTransposed&&(e="wave-in")),{animation:e}},schema:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Fae(r,e){return{delay:nr(r.delay)?r.delay(e):r.delay,easing:nr(r.easing)?r.easing(e):r.easing,duration:nr(r.duration)?r.duration(e):r.duration,callback:r.callback,repeat:r.repeat}}function _3(r,e,t){var i=Dae[r];return i&&(nr(i)&&(i=i(e)),i=Le({},i0,i),t)?i[t]:i}function n0(r,e,t){var i=At(r.get("origin"),"data",on),n=e.animation,a=Fae(e,i);if(n){var o=w3(n);o&&o(r,a,t)}else r.animate(t.toAttrs,a)}function w0t(r,e,t,i,n){if(b0t[t]){var a=b0t[t](i),o=w3(At(a,"animation",""));if(o){var s=S(S(S({},i0.appear),a),e);r.stopAnimate(),o(r,s,{coordinate:i,minYPoint:n,toAttrs:null})}}}var xE="element-background";var Nae=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.labelShape=[],i.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.elementIndex,l=t.visible,u=l===void 0?!0:l;return i.shapeFactory=n,i.container=a,i.offscreenGroup=o,i.visible=u,i.elementIndex=s,i}return e.prototype.draw=function(t,i){i===void 0&&(i=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,i),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(t){var i=this,n=i.shapeFactory,a=i.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var t=this,i=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?n0(n,a,{coordinate:i.coordinate,toAttrs:S({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(i){i.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(i){i.hide()}))},e.prototype.setState=function(t,i){var n=this,a=n.states,o=n.shapeFactory,s=n.model,l=n.shape,u=n.shapeType,f=a.indexOf(t);if(i){if(f>-1)return;a.push(t),(t==="active"||t==="selected")&&(l==null||l.toFront())}else{if(f===-1)return;if(a.splice(f,1),t==="active"||t==="selected"){var c=this.geometry,h=c.sortZIndex,d=c.zIndexReversed,v=d?this.geometry.elements.length-this.elementIndex:this.elementIndex;h?l.setZIndex(v):l.set("zIndex",v)}}var p=o.drawShape(u,s,this.getOffscreenGroup());a.length?this.syncShapeStyle(l,p,a,null):this.syncShapeStyle(l,p,["reset"],null),p.remove(!0);var g={state:t,stateStatus:i,element:this,target:this.container};this.container.emit("statechange",g),uk(this.shape,"statechange",g)},e.prototype.clearStates=function(){var t=this,i=this.states;at(i,function(n){t.setState(n,!1)}),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,i=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return i&&(a=i.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,i=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[i]||a.theme[s];this.statesStyle=Le({},l,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,i){var n=this.getStatesStyle(),a=At(n,[t,"style"],{}),o=a[i]||a;return nr(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var i=this,n=this.animate;if(n){var a=n[t];return a&&S(S({},a),{callback:function(){var o;nr(a.callback)&&a.callback(),(o=i.geometry)===null||o===void 0||o.emit(Mv.AFTER_DRAW_ANIMATE)}})}return null},e.prototype.drawShape=function(t,i){var n;i===void 0&&(i=!1);var a=this,o=a.shapeFactory,s=a.container,l=a.shapeType;if(this.shape=o.drawShape(l,t,s),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?cr(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=i?"enter":"appear",c=this.getAnimateCfg(f);c&&((n=this.geometry)===null||n===void 0||n.emit(Mv.BEFORE_DRAW_ANIMATE),n0(this.shape,c,{coordinate:o.coordinate,toAttrs:S({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,i){var n=this;if(t.cfg.origin=i,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,i)})}},e.prototype.syncShapeStyle=function(t,i,n,a,o){var s=this,l;if(n===void 0&&(n=[]),o===void 0&&(o=0),!(!t||!i)){var u=t.get("clipShape"),f=i.get("clipShape");if(this.syncShapeStyle(u,f,n,a),t.isGroup())for(var c=t.get("children"),h=i.get("children"),d=0;d<c.length;d++)this.syncShapeStyle(c[d],h[d],n,a,o+d);else{if(!Ts(n)&&!xn(n,["reset"])){var v=t.get("name");$t(v)&&(v=v[1]),at(n,function(g){if(i.get("name")!==xE){var m=s.getStateStyle(g,v||o);i.attr(m)}})}var p=a3(t,i);this.animate?a?((l=this.geometry)===null||l===void 0||l.emit(Mv.BEFORE_DRAW_ANIMATE),n0(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model})):Ts(n)?t.attr(p):(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}}},e.prototype.getShapeType=function(t){var i=At(t,"shape");return $t(i)?i[0]:i},e}(zA),Nk=Nae;var _0t={},S0t={};function nX(r){return _0t[r.toLowerCase()]}function bE(r,e){_0t[r.toLowerCase()]=e}function aX(r){return S0t[r.toLowerCase()]}function pu(r,e){S0t[r.toLowerCase()]=e}var Bae={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(r,e){var t=this.getShape(r);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(r){var e=this[r]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(r){return At(r,[this.defaultShapeType,"default","style"],{})},getMarker:function(r,e){var t=this.getShape(r);if(!t.getMarker){var i=this.defaultShapeType;t=this.getShape(i)}var n=this.theme,a=At(n,[r,"default"],{}),o=t.getMarker(e);return Le({},a,o)},drawShape:function(r,e,t){var i=this.getShape(r);return i.draw(e,t)}},Rae={coordinate:null,parsePath:function(r){var e=this.coordinate,t=Ok(r);return e.isPolar?t=Byt(e,t):t=Nyt(e,t),t},parsePoint:function(r){var e=this.coordinate;return e.convert(r)},parsePoints:function(r){var e=this.coordinate;return r.map(function(t){return e.convert(t)})},draw:function(r,e){}},oX={};function Dl(r,e){var t=Nf(r),i=S(S(S({},Bae),e),{geometryType:r});return oX[t]=i,i}function pi(r,e,t){var i=Nf(r),n=oX[i],a=S(S({},Rae),t);return n[e]=a,a}function S3(r){var e=Nf(r);return oX[e]}function C0t(r,e,t){var i,n;if(t===void 0&&(t={}),!e)return[r];var a=RA(r,e),o=[];if(e.length===1&&t[e[0]]){var s=t[e[0]];try{for(var l=er(s),u=l.next();!u.done;u=l.next()){var f=u.value,c=a["_".concat(f)];c&&o.push(c)}}catch(v){i={error:v}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}}else for(var h in a)if(a.hasOwnProperty(h)){var d=a[h];o.push(d)}return o}function C3(r,e){return zy(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!xn(r[t],e[t])})}function wE(r){return $t(r)?r:r.split("*")}function M3(r,e){for(var t=[],i=[],n=[],a=new Map,o=0;o<e.length;o++){var s=e[o];r[s]?i.push(s):t.push(s),a.set(s,!0)}return Object.keys(r).forEach(function(l){a.has(l)||n.push(l)}),{added:t,updated:i,removed:n}}var Gae=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="base",i.attributes={},i.elements=[],i.elementsMap={},i.animateOption=!0,i.attributeOption={},i.lastElementsMap={},i.generatePoints=!1,i.beforeMappingData=null,i.adjusts={},i.idFields=[],i.hasSorted=!1,i.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,f=t.visible,c=f===void 0?!0:f,h=t.theme,d=t.scales,v=d===void 0?{}:d,p=t.scaleDefs,g=p===void 0?{}:p,m=t.intervalPadding,y=t.dodgePadding,x=t.maxColumnWidth,b=t.minColumnWidth,_=t.columnWidthRatio,M=t.roseWidthRatio,A=t.multiplePieWidthRatio,I=t.zIndexReversed,k=t.sortZIndex,E=t.useDeferredLabel;return i.container=n,i.labelsContainer=a,i.coordinate=o,i.data=s,i.sortable=u,i.visible=c,i.userTheme=h,i.scales=v,i.scaleDefs=g,i.intervalPadding=m,i.dodgePadding=y,i.maxColumnWidth=x,i.minColumnWidth=b,i.columnWidthRatio=_,i.roseWidthRatio=M,i.multiplePieWidthRatio=A,i.zIndexReversed=I,i.sortZIndex=k,i.useDeferredLabel=E?typeof E=="number"?E:1/0:null,i}return e.prototype.position=function(t){var i=t;fl(t)||(i={fields:wE(t)});var n=At(i,"fields");return n.length===1&&(n.unshift("1"),Vo(i,"fields",n)),Vo(this.attributeOption,"position",i),this},e.prototype.color=function(t,i){return this.createAttrOption("color",t,i),this},e.prototype.shape=function(t,i){return this.createAttrOption("shape",t,i),this},e.prototype.size=function(t,i){return this.createAttrOption("size",t,i),this},e.prototype.adjust=function(t){var i=t;return(cr(t)||fl(t))&&(i=[t]),at(i,function(n,a){Gi(n)||(i[a]={type:n})}),this.adjustOption=i,this},e.prototype.style=function(t,i){if(cr(t)){var n=wE(t);this.styleOption={fields:n,callback:i}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},e.prototype.tooltip=function(t,i){if(cr(t)){var n=wE(t);this.tooltipOption={fields:n,callback:i}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,i,n){if(cr(t)){var a={},o=wE(t);a.fields=o,nr(i)?a.callback=i:fl(i)&&(a.cfg=i),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){t===void 0&&(t={});var i=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;xn(s,l)?i&&(n||!xn(i,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(i)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},e.prototype.paint=function(t){var i=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=Le({},_3(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var n=this.getOffscreenGroup();n.clear();var a=this.beforeMappingData,o=this.beforeMapping(a);this.dataArray=new Array(o.length);for(var s=0;s<o.length;s++){var l=o[s];this.dataArray[s]=this.mapping(l)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var u=this.container,f=this.type,c=this.coordinate,h=At(this.animateOption,"appear"),d=this.getYScale(),v=c.convert({x:0,y:d.scale(this.getYMinValue())});w0t(u,h,f,c,v)}if(this.labelOption){var p=this.useDeferredLabel,g=function(){return i.renderLabels(Zo(i.dataArray),t)}.bind(this);if(typeof p=="number"){var m=typeof p=="number"&&p!==1/0?p:0;if(!window.requestIdleCallback)setTimeout(g,m);else{var y=m&&m!==1/0?{timeout:m}:void 0;window.requestIdleCallback(g,y)}}else g()}this.lastAttributeOption=S({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,i=t.container,n=t.geometryLabel,a=t.offscreenGroup;i&&i.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,r.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return at(this.attributes,function(i){Yy.includes(i.type)&&t.push(i)}),t},e.prototype.getDefaultValue=function(t){var i,n=this.getAttribute(t);return n&&Ts(n.scales)&&(i=n.values[0]),i},e.prototype.getAttributeValues=function(t,i){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(i[u])}return t.mapping.apply(t,ne([],Rt(n),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,i){var n=this.getShapeFactory();return n.getMarker(t,i)},e.prototype.getElementsBy=function(t){return this.elements.filter(function(i){return t(i)})},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){t=$t(t)?t[0]:t;var i=t[on];if(this.idFields.length){for(var n=i[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+i[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",f=l.field||"y",c=i[f],h;s.type==="identity"?h=s.values[0]:h=i[u];var d;o==="interval"||o==="schema"?d="".concat(h):o==="line"||o==="area"||o==="path"?d=o:d="".concat(h,"-").concat(c);for(var v=this.groupScales,a=0,p=v.length;a<p;a++){var g=v[a],m=g.field;d="".concat(d,"-").concat(i[m])}var y=this.getAdjust("dodge");if(y){var x=y.dodgeBy;x&&(d="".concat(d,"-").concat(i[x]))}return this.getAdjust("jitter")&&(d="".concat(d,"-").concat(t.x,"-").concat(t.y)),d},e.prototype.getScaleFields=function(){var t=[],i=new Map,n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?ig(u.fields,t,i):u.values&&ig(u.values,t,i)}return o&&o.fields&&ig(o.fields,t,i),Gi(s)&&s.fields&&ig(s.fields,t,i),t},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var i=this.elements,n=0,a=i.length;n<a;n++){var o=i[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,i=[];return Object.values(this.attributeOption).forEach(function(n){var a=(n==null?void 0:n.fields)||[];a.forEach(function(o){t.has(o)||i.push(o),t.set(o,!0)})},[]),i},e.prototype.getGroupFields=function(){for(var t=[],i=new Map,n=0,a=Yy.length;n<a;n++){var o=Yy[n],s=this.attributeOption[o];s&&s.fields&&ig(s.fields,t,i)}return t},e.prototype.getXYFields=function(){var t=Rt(this.attributeOption.position.fields,2),i=t[0],n=t[1];return[i,n]},e.prototype.getXField=function(){return At(this.getXYFields(),[0])},e.prototype.getYField=function(){return At(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var i=this.getXScale(),n=i.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return i.translate(s[on][n])-i.translate(l[on][n])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!S3(t))return this.shapeFactory||(this.shapeFactory=Vs(S3(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var i=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[i.field],i),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,i,n){n===void 0&&(n=!1);var a=this.container,o=this.getDrawCfg(t),s=this.getShapeFactory(),l=new Nk({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:i});return l.animate=this.animateOption,l.geometry=this,l.draw(o,n),l},e.prototype.getDrawCfg=function(t){var i=t[on],n={mappingData:t,data:i,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=At(o,[a,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,i)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,i){var n,a,o,s,l,u;i===void 0&&(i=!1);for(var f=new Map,c=[],h=new Map,d=0,v=0;v<t.length;v++)for(var p=t[v],g=0;g<p.length;g++){var m=p[g],y=this.getElementId(m),x=f.has(y)?"".concat(y,"-").concat(v,"-").concat(g):y;c.push(x),f.set(x,m),h.set(x,d),d++}this.elements=new Array(d);var b=M3(this.lastElementsMap,c),_=b.added,M=b.updated,A=b.removed;try{for(var I=er(_),k=I.next();!k.done;k=I.next()){var y=k.value,m=f.get(y),v=h.get(y),E=this.createElement(m,v,i);this.elements[v]=E,this.elementsMap[y]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-v:v)}}catch(Y){n={error:Y}}finally{try{k&&!k.done&&(a=I.return)&&a.call(I)}finally{if(n)throw n.error}}try{for(var O=er(M),P=O.next();!P.done;P=O.next()){var y=P.value,E=this.lastElementsMap[y],m=f.get(y),N=this.getDrawCfg(m),R=E.getModel(),v=h.get(y);(this.isCoordinateChanged||C3(N,R))&&(E.animate=this.animateOption,E.update(N)),this.elements[v]=E,this.elementsMap[y]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-v:v)}}catch(Y){o={error:Y}}finally{try{P&&!P.done&&(s=O.return)&&s.call(O)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var z=er(A),B=z.next();!B.done;B=z.next()){var y=B.value,E=this.lastElementsMap[y];E.animate=this.animateOption,E.destroy()}}catch(Y){l={error:Y}}finally{try{B&&!B.done&&(u=z.return)&&u.call(z)}finally{if(l)throw l.error}}},e.prototype.getLabelType=function(){var t=this,i=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=n.isTransposed,l=At(i,["cfg","type"]);return l||(o==="polar"?l=s?"pie":"polar":o==="theta"?l="pie":a==="interval"||a==="polygon"?l="interval":l="base"),l},e.prototype.getYMinValue=function(){var t=this.getYScale(),i=t.min,n=t.max,a;return i>=0?a=i:n<=0?a=n:a=0,a},e.prototype.createAttrOption=function(t,i,n){if(Kt(i)||Gi(i))Gi(i)&&xn(Object.keys(i),["values"])?Vo(this.attributeOption,t,{fields:i.values}):Vo(this.attributeOption,t,i);else{var a={};qr(i)?a.values=[i]:a.fields=wE(i),n&&(nr(n)?a.callback=n:a.values=n),Vo(this.attributeOption,t,a)}},e.prototype.initAttributes=function(){var t=this,i=this,n=i.attributes,a=i.attributeOption,o=i.theme,s=i.shapeType;this.groupScales=[];var l={},u=function(h){if(a.hasOwnProperty(h)){var d=a[h];if(!d)return{value:void 0};var v=S({},d),p=v.callback,g=v.values,m=v.fields,y=m===void 0?[]:m,x=y.map(function(_){var M=t.scales[_];if(!l[_]&&Yy.includes(h)){var A=o3(M,At(t.scaleDefs,_),h,t.type);A==="cat"&&(t.groupScales.push(M),l[_]=!0)}return M});v.scales=x,h!=="position"&&x.length===1&&x[0].type==="identity"?v.values=x[0].values:!p&&!g&&(h==="size"?v.values=o.sizes:h==="shape"?v.values=o.shapes[s]||[]:h==="color"&&(x.length?v.values=x[0].values.length<=10?o.colors10:o.colors20:v.values=o.colors10));var b=lk(h);n[h]=new b(v)}};for(var f in a){var c=u(f);if(typeof c=="object")return c.value}},e.prototype.processData=function(t){var i,n;this.hasSorted=!1;for(var a=this.getAttribute("position").scales,o=a.filter(function(A){return A.isCategory}),s=this.groupData(t),l=[],u=0,f=s.length;u<f;u++){for(var c=s[u],h=[],d=0,v=c.length;d<v;d++){var p=c[d],g={};for(var m in p)g[m]=p[m];g[on]=p;try{for(var y=(i=void 0,er(o)),x=y.next();!x.done;x=y.next()){var b=x.value,_=b.field;g[_]=b.translate(g[_])}}catch(A){i={error:A}}finally{try{x&&!x.done&&(n=y.return)&&n.call(y)}finally{if(i)throw i.error}}h.push(g)}l.push(h)}var M=this.adjustData(l);return this.beforeMappingData=M,M},e.prototype.adjustData=function(t){var i=this.adjustOption,n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,f=this.columnWidthRatio||s.columnWidthRatio,c=t;if(i){var h=this.getXScale(),d=this.getYScale(),v=h.field,p=d?d.field:null,g=ng(this.coordinate),m=h.values.length,y=this.getAttribute("size"),x=void 0;y&&(x=y.values[0]);for(var b=0,_=i.length;b<_;b++){var M=i[b],A=S({xField:v,yField:p,intervalPadding:a,dodgePadding:o,xDimensionLength:g,groupNum:m,defaultSize:x,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:f},M),I=M.type;if(I==="dodge"){var k=[];if(h.isCategory||h.type==="identity")k.push("x");else if(!d)k.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");A.adjustNames=k,A.dodgeRatio=f}else if(I==="stack"){var E=this.coordinate;if(!d){A.height=E.getHeight();var O=this.getDefaultValue("size")||3;A.size=O}!E.isTransposed&&Kt(A.reverseOrder)&&(A.reverseOrder=!0)}var P=ik(I);A.dimValuesMap={},h&&h.values&&(A.dimValuesMap[h.field]=h.values.map(function(R){return h.translate(R)}));var N=new P(A);c=N.process(c),this.adjusts[I]=N}}return c},e.prototype.groupData=function(t){for(var i=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<i.length;s++){var l=i[s],u=l.field;o.push(u),At(n,[u,"values"])&&(a[u]=n[u].values)}return C0t(t,o,a)},e.prototype.updateStackRange=function(t,i){for(var n=Zo(i),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],f=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);f<o&&(o=f),c>s&&(s=c)}var h=this.scaleDefs,d={};o<t.min&&!At(h,[a,"min"])&&(d.min=o),s>t.max&&!At(h,[a,"max"])&&(d.max=s),t.change(d)},e.prototype.beforeMapping=function(t){var i=t;if(this.sortable&&this.sort(i),this.generatePoints)for(var n=0,a=i.length;n<a;n++){var o=i[n];this.generateShapePoints(o);var s=i[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return i},e.prototype.generateShapePoints=function(t){for(var i=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=i.getShapePoints(l,s);o.points=u}},e.prototype.normalizeValues=function(t,i){var n=[];if($t(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(i.scale(o))}else n=i.scale(t);return n},e.prototype.mapping=function(t){for(var i=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[on],points:o.points,nextPoints:o.nextPoints};for(var l in i)if(i.hasOwnProperty(l)){var u=i[l],f=u.names,c=this.getAttributeValues(u,o);if(f.length>1)for(var h=0;h<c.length;h+=1){var d=c[h],v=f[h];s[v]=$t(d)&&d.length===1?d[0]:d}else s[f[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},e.prototype.convertPoint=function(t){var i=t.x,n=t.y,a,o,s,l=this.coordinate;if($t(i)&&$t(n)){a=[],o=[];for(var u=0,f=0,c=i.length,h=n.length;u<c&&f<h;u+=1,f+=1)s=l.convert({x:i[u],y:n[f]}),a.push(s.x),o.push(s.y)}else if($t(n)){o=[];for(var d=0;d<n.length;d++){var v=n[d];s=l.convert({x:i,y:v}),a&&a!==s.x?($t(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if($t(i)){a=[];for(var d=0;d<i.length;d++){var p=i[d];s=l.convert({x:p,y:n}),o&&o!==s.y?($t(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var g=l.convert({x:i,y:n});a=g.x,o=g.y}t.x=a,t.y=o},e.prototype.getStyleCfg=function(t,i){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return i[u]});return o.apply(void 0,ne([],Rt(l),!1))},e.prototype.setCfg=function(t){var i=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],at(s,function(l,u){l&&l.key&&i.idFields.push(u)})),o&&(this.theme=this.userTheme?Le({},o,this.userTheme):o)},e.prototype.renderLabels=function(t,i){return i===void 0&&(i=!1),ta(this,void 0,void 0,function(){var n,a,o,s,l,u,f,c,h,d,v,p,g=this;return ea(this,function(m){switch(m.label){case 0:return n=this.geometryLabel,this.emit(Mv.BEFORE_RENDER_LABEL),n||(a=this.getLabelType(),o=nX(a),n=new o(this),this.geometryLabel=n),[4,n.render(t,i)];case 1:m.sent(),s=n.labelsRenderer.shapesMap,l=new Map,at(s,function(y,x){for(var b=y.getChildren()||[],_=0;_<b.length;_++){var M=b[_],A=g.elementsMap[M.get("elementId")||x.split(" ")[0]];if(A){M.cfg.name=["element","label"],M.cfg.element=A;var I=l.get(A)||new Set;I.add(y),l.set(A,I)}}});try{for(u=er(l.entries()),f=u.next();!f.done;f=u.next())c=Rt(f.value,2),h=c[0],d=c[1],h.labelShape=ne([],Rt(d),!1)}catch(y){v={error:y}}finally{try{f&&!f.done&&(p=u.return)&&p.call(u)}finally{if(v)throw v.error}}return this.emit(Mv.AFTER_RENDER_LABEL),[2]}})})},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&(At(this.animateOption,"appear")===void 0||At(this.animateOption,"appear")&&At(this.animateOption,["appear","animation"])===void 0)},e}(zA),Fl=Gae;var sX=Ni.transform;function a0(r,e,t){var i=sX(r.getMatrix(),[["t",e,t]]);r.setMatrix(i)}function zae(r,e){var t=r.attr(),i=t.x,n=t.y,a=sX(r.getMatrix(),[["t",-i,-n],["r",e],["t",i,n]]);return a}function Bk(r,e){var t=zae(r,e);r.setMatrix(t)}function Ov(r){return r.find(function(e){return e.get("type")==="text"})}function A3(r,e,t){t===void 0&&(t=[0,0,0,0]);var i=r&&r.getChildren()[0];if(i){var n=i.clone();(e==null?void 0:e.rotate)&&Bk(n,-e.rotate);var a=n.getCanvasBBox(),o=a.x,s=a.y,l=a.width,u=a.height;n.destroy();var f=t;return Kt(f)?f=[2,2,2,2]:qr(f)&&(f=new Array(4).fill(f)),{x:o-f[3],y:s-f[0],width:l+f[1]+f[3],height:u+f[0]+f[2],rotation:(e==null?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function jae(r,e,t){t===void 0&&(t=0);var i=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return i*n}function M0t(r,e){var t=r.getBBox();return zy(e,function(i){var n=i.getBBox();return jae(t,n,2)>0})}function lX(r,e,t){var i=t.data,n=t.origin,a=t.animateCfg,o=t.coordinate,s=At(a,"update");r.set("data",i),r.set("origin",n),r.set("animateCfg",a),r.set("coordinate",o),r.set("visible",e.get("visible")),(r.getChildren()||[]).forEach(function(l,u){var f=e.getChildByIndex(u);if(!f)r.removeChild(l),l.remove(!0);else{l.set("data",i),l.set("origin",n),l.set("animateCfg",a),l.set("coordinate",o);var c=a3(l,f);s?n0(l,s,{toAttrs:c,coordinate:o}):l.attr(c),f.isGroup()&&lX(l,f,t)}}),at(e.getChildren(),function(l,u){$t(r.getChildren())&&u>=r.getCount()&&(l.destroyed||r.add(l))})}var Yae=function(){function r(e){this.shapesMap={};var t=e.layout,i=e.container;this.layout=t,this.container=i}return r.prototype.render=function(e,t,i){return i===void 0&&(i=!1),ta(this,void 0,void 0,function(){var n,a,o,s,l,u,f,c,h=this;return ea(this,function(d){switch(d.label){case 0:if(n={},a=this.createOffscreenGroup(),!e.length)return[3,2];try{for(o=er(e),s=o.next();!s.done;s=o.next())l=s.value,l&&(n[l.id]=this.renderLabel(l,a))}catch(v){f={error:v}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(f)throw f.error}}return[4,this.doLayout(e,t,n)];case 1:d.sent(),this.renderLabelLine(e,n),this.renderLabelBackground(e,n),this.adjustLabel(e,n),d.label=2;case 2:return u=this.shapesMap,at(n,function(v,p){if(v.destroyed)delete n[p];else{if(u[p]){var g=v.get("data"),m=v.get("origin"),y=v.get("coordinate"),x=v.get("animateCfg"),b=u[p];lX(b,n[p],{data:g,origin:m,animateCfg:x,coordinate:y}),n[p]=b}else{if(h.container.destroyed)return;h.container.add(v);var _=At(v.get("animateCfg"),i?"enter":"appear");_&&n0(v,_,{toAttrs:S({},v.attr()),coordinate:v.get("coordinate")})}delete u[p]}}),at(u,function(v){var p=At(v.get("animateCfg"),"leave");p?n0(v,p,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.shapesMap=n,a.destroy(),[2]}})})},r.prototype.clear=function(){this.container.clear(),this.shapesMap={}},r.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},r.prototype.renderLabel=function(e,t){var i=e.id,n=e.elementId,a=e.data,o=e.mappingData,s=e.coordinate,l=e.animate,u=e.content,f=e.capture,c={id:i,elementId:n,capture:f,data:a,origin:S(S({},o),{data:o[on]}),coordinate:s},h=t.addGroup(S({name:"label",animateCfg:this.animate===!1||l===null||l===!1?!1:Le({},this.animate,l)},c)),d;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var v=u.getCanvasBBox(),p=v.width,g=v.height,m=At(e,"textAlign","left"),y=e.x,x=e.y-g/2;m==="center"?y=y-p/2:(m==="right"||m==="end")&&(y=y-p),a0(u,y,x),d=u,h.add(u)}else{var b=At(e,["style","fill"]);d=h.addShape("text",S({attrs:S(S({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:At(e,"textBaseline","middle"),text:e.content},e.style),{fill:Gq(b)?e.color:b})},c))}return e.rotate&&Bk(d,e.rotate),h},r.prototype.doLayout=function(e,t,i){return ta(this,void 0,void 0,function(){var n,a=this;return ea(this,function(o){switch(o.label){case 0:return this.layout?(n=$t(this.layout)?this.layout:[this.layout],[4,Promise.all(n.map(function(s){var l=aX(At(s,"type",""));if(!!l){var u=[],f=[];return at(i,function(c,h){u.push(c),f.push(t[c.get("elementId")])}),l(e,u,f,a.region,s.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},r.prototype.renderLabelLine=function(e,t){at(e,function(i){var n=At(i,"coordinate");if(!(!i||!n)){var a=n.getCenter(),o=n.getRadius();if(!!i.labelLine){var s=At(i,"labelLine",{}),l=i.id,u=s.path;if(!u){var f=Na(a.x,a.y,o,i.angle);u=[["M",f.x,f.y],["L",i.x,i.y]]}var c=t[l];c.destroyed||c.addShape("path",{capture:!1,attrs:S({path:u,stroke:i.color?i.color:At(i,["style","fill"],"#000"),fill:null},s.style),id:l,origin:i.mappingData,data:i.data,coordinate:i.coordinate})}}})},r.prototype.renderLabelBackground=function(e,t){at(e,function(i){var n=At(i,"coordinate"),a=At(i,"background");if(!(!a||!n)){var o=i.id,s=t[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=A3(s,i,a.padding),f=u.rotation,c=Ze(u,["rotation"]),h=s.addShape("rect",{attrs:S(S({},c),a.style||{}),id:o,origin:i.mappingData,data:i.data,coordinate:i.coordinate});if(h.setZIndex(-1),f){var d=l.getMatrix();h.setMatrix(d)}}}}})},r.prototype.createOffscreenGroup=function(){var e=this.container,t=e.getGroupBase(),i=new t({});return i},r.prototype.adjustLabel=function(e,t){at(e,function(i){if(i){var n=i.id,a=t[n];if(!a.destroyed){var o=a.findAll(function(s){return s.get("type")!=="path"});at(o,function(s){s&&(i.offsetX&&s.attr("x",s.attr("x")+i.offsetX),i.offsetY&&s.attr("y",s.attr("y")+i.offsetY))})}}})},r}(),A0t=Yae;function E0t(r){var e=0;return at(r,function(t){e+=t}),e/r.length}var Wae=function(){function r(e){this.geometry=e}return r.prototype.getLabelItems=function(e){var t=this,i=[],n=this.getLabelCfgs(e);return at(e,function(a,o){var s=n[o];if(!s||Kt(a.x)||Kt(a.y)){i.push(null);return}var l=$t(s.content)?s.content:[s.content];s.content=l;var u=l.length;at(l,function(f,c){if(Kt(f)||f===""){i.push(null);return}var h=S(S({},s),t.getLabelPoint(s,a,c));h.textAlign||(h.textAlign=t.getLabelAlign(h,c,u)),h.offset<=0&&(h.labelLine=null),i.push(h)})}),i},r.prototype.render=function(e,t){return t===void 0&&(t=!1),ta(this,void 0,void 0,function(){var i,n,a;return ea(this,function(o){switch(o.label){case 0:return i=this.getLabelItems(e),n=this.getLabelsRenderer(),a=this.getGeometryShapes(),[4,n.render(i,a,t)];case 1:return o.sent(),[2]}})})},r.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},r.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},r.prototype.getCoordinate=function(){return this.geometry.coordinate},r.prototype.getDefaultLabelCfg=function(e,t){var i=this.geometry,n=i.type,a=i.theme;return n==="polygon"||n==="interval"&&t==="middle"||e<0&&!["line","point","path"].includes(n)?At(a,"innerLabels",{}):At(a,"labels",{})},r.prototype.getThemedLabelCfg=function(e){var t=this.geometry,i=this.getDefaultLabelCfg(),n=t.type,a=t.theme,o;return n==="polygon"||e.offset<0&&!["line","point","path"].includes(n)?o=Le({},i,a.innerLabels,e):o=Le({},i,a.labels,e),o},r.prototype.setLabelPosition=function(e,t,i,n){},r.prototype.getLabelOffset=function(e){var t=this.getCoordinate(),i=this.getOffsetVector(e);return t.isTransposed?i[0]:i[1]},r.prototype.getLabelOffsetPoint=function(e,t,i){var n=e.offset,a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||i===1?u[s]=n*l:u[s]=n*l*-1,u},r.prototype.getLabelPoint=function(e,t,i){var n=this.getCoordinate(),a=e.content.length;function o(g,m,y){y===void 0&&(y=!1);var x=g;return $t(x)&&(e.content.length===1?y?x=E0t(x):x.length<=2?x=x[g.length-1]:x=E0t(x):x=x[m]),x}var s={content:e.content[i],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=$t(t.shape)?t.shape[0]:t.shape,u=l==="funnel"||l==="pyramid";if(this.geometry.type==="polygon"){var f=_yt(t.x,t.y);s.x=f[0],s.y=f[1]}else this.geometry.type==="interval"&&!u?(s.x=o(t.x,i,!0),s.y=o(t.y,i)):(s.x=o(t.x,i),s.y=o(t.y,i));if(u){var c=At(t,"nextPoints"),h=At(t,"points");if(c){var d=n.convert(h[1]),v=n.convert(c[1]);s.x=(d.x+v.x)/2,s.y=(d.y+v.y)/2}else if(l==="pyramid"){var d=n.convert(h[1]),v=n.convert(h[2]);s.x=(d.x+v.x)/2,s.y=(d.y+v.y)/2}}e.position&&this.setLabelPosition(s,t,i,e.position);var p=this.getLabelOffsetPoint(e,i,a);return s.start={x:s.x,y:s.y},s.x+=p.x,s.y+=p.y,s.color=t.color,s},r.prototype.getLabelAlign=function(e,t,i){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=e.offset;o<0?n="right":o===0?n="center":n="left",i>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},r.prototype.getLabelId=function(e){var t=this.geometry,i=t.type,n=t.getXScale(),a=t.getYScale(),o=e[on],s=t.getElementId(e);return i==="line"||i==="area"?s+=" ".concat(o[n.field]):i==="path"&&(s+=" ".concat(o[n.field],"-").concat(o[a.field])),s},r.prototype.getLabelsRenderer=function(){var e=this.geometry,t=e.labelsContainer,i=e.labelOption,n=e.canvasRegion,a=e.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new A0t({container:t,layout:At(i,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?_3("label",o):!1,s},r.prototype.getLabelCfgs=function(e){var t=this,i=this.geometry,n=i.labelOption,a=i.scales,o=i.coordinate,s=n,l=s.fields,u=s.callback,f=s.cfg,c=l.map(function(d){return a[d]}),h=[];return at(e,function(d,v){var p=d[on],g=t.getLabelText(p,c),m;if(u){var y=l.map(function(A){return p[A]});if(m=u.apply(void 0,ne([],Rt(y),!1)),Kt(m)){h.push(null);return}}var x=S(S({id:t.getLabelId(d),elementId:t.geometry.getElementId(d),data:p,mappingData:d,coordinate:o},f),m);nr(x.position)&&(x.position=x.position(p,d,v));var b=t.getLabelOffset(x.offset||0),_=t.getDefaultLabelCfg(b,x.position);x=Le({},_,x),x.offset=t.getLabelOffset(x.offset||0);var M=x.content;nr(M)?x.content=M(p,d,v):Zp(M)&&(x.content=g[0]),h.push(x)}),h},r.prototype.getLabelText=function(e,t){var i=[];return at(t,function(n){var a=e[n.field];$t(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),Kt(a)||a===""?i.push(null):i.push(a)}),i},r.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var t=this.getCoordinate(),i=0;return qr(e)&&(i=e),t.isTransposed?t.applyMatrix(i,0):t.applyMatrix(0,i)},r.prototype.getGeometryShapes=function(){var e=this.geometry,t={};return at(e.elementsMap,function(i,n){t[n]=i.shape}),at(e.getOffscreenGroup().getChildren(),function(i){var n=e.getElementId(i.get("origin").mappingData);t[n]=i}),t},r}(),US=Wae;function E3(r,e,t){if(!r)return t;var i;if(r.callback&&r.callback.length>1){var n=Array(r.callback.length-1).fill("");i=r.mapping.apply(r,ne([e],Rt(n),!1)).join("")}else i=r.mapping(e).join("");return i||t}var id={hexagon:function(r,e,t){var i=t/2*Math.sqrt(3);return[["M",r,e-t],["L",r+i,e-t/2],["L",r+i,e+t/2],["L",r,e+t],["L",r-i,e+t/2],["L",r-i,e-t/2],["Z"]]},bowtie:function(r,e,t){var i=t-1.5;return[["M",r-t,e-i],["L",r+t,e+i],["L",r+t,e-i],["L",r-t,e+i],["Z"]]},cross:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e+t],["M",r+t,e-t],["L",r-t,e+t]]},tick:function(r,e,t){return[["M",r-t/2,e-t],["L",r+t/2,e-t],["M",r,e-t],["L",r,e+t],["M",r-t/2,e+t],["L",r+t/2,e+t]]},plus:function(r,e,t){return[["M",r-t,e],["L",r+t,e],["M",r,e-t],["L",r,e+t]]},hyphen:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},line:function(r,e,t){return[["M",r,e-t],["L",r,e+t]]}};var Vae=["line","cross","tick","plus","hyphen"];function qae(r,e){return nr(e)?e(r):Le({},r,e)}function Hae(r,e){var t=r.symbol;if(cr(t)&&Vae.indexOf(t)!==-1){var i=At(r,"style",{}),n=At(i,"lineWidth",1),a=i.stroke||i.fill||e;r.style=Le({},r.style,{lineWidth:n,stroke:a,fill:null})}}function T0t(r){var e=r.symbol;cr(e)&&id[e]&&(r.symbol=id[e])}function T3(r){return r.startsWith(Ne.LEFT)||r.startsWith(Ne.RIGHT)?"vertical":"horizontal"}function uX(r,e,t,i,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),u=r.getTheme().defaultColor,f=e.coordinate.isPolar;return a.getTicks().map(function(c,h){var d,v=c.text,p=c.value,g=v,m=a.invert(p),y=r.filterFieldData(o,[(d={},d[o]=m,d)]).length===0;at(r.views,function(A){var I;A.filterFieldData(o,[(I={},I[o]=m,I)]).length||(y=!0)});var x=E3(s,m,u),b=E3(l,m,"point"),_=e.getShapeMarker(b,{color:x,isInPolar:f}),M=n;return nr(M)&&(M=M(g,h,S({name:g,value:m},Le({},i,_)))),_=Le({},i,_,qs(S({},M),["style"])),Hae(_,x),M&&M.style&&(_.style=qae(_.style,M.style)),T0t(_),{id:m,name:g,value:m,marker:_,unchecked:y}})}return[]}function I0t(r,e,t){return t.map(function(i,n){var a=e;nr(a)&&(a=a(i.name,n,Le({},r,i)));var o=nr(i.marker)?i.marker(i.name,n,Le({},r,i)):i.marker,s=Le({},r,a,o);return T0t(s),i.marker=s,i})}function fX(r,e){var t=At(r,["components","legend"],{});return Le({},At(t,["common"],{}),Le({},At(t,[e],{})))}function cX(r){return r?!1:r==null||isNaN(r)}function L0t(r){if($t(r))return cX(r[1].y);var e=r.y;return $t(e)?cX(e[0]):cX(e)}function XS(r,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!0),!r.length||r.length===1&&!t)return[];if(e){for(var i=[],n=0,a=r.length;n<a;n++){var o=r[n];L0t(o)||i.push(o)}return[i]}for(var s=[],l=[],n=0,a=r.length;n<a;n++){var o=r[n];L0t(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function I3(r){for(var e=[],t=0;t<r.length;t++){var i=r[t];if(i){var n=t===0?"M":"L";e.push([n,i.x,i.y])}}var a=r[0];return a&&(e.push(["L",a.x,a.y]),e.push(["z"])),e}function L3(r){for(var e=r.length/2,t=[],i=[],n=0;n<r.length;n++)n<e?t.push(r[n]):i.push(r[n]);var a=VS(t,!1),o=VS(i,!1);i.length&&a.push(["L",i[0].x,i[0].y]),o.shift();var s=a.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}function qi(r,e,t,i){i===void 0&&(i="");var n=r.style,a=n===void 0?{}:n,o=r.defaultStyle,s=r.color,l=r.size,u=S(S({},o),a);return s&&(e&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),i&&Kt(a[i])&&!Kt(l)&&(u[i]=l),u}function O3(r){return Le({},{fill:"#CCD6EC",fillOpacity:.3},At(r,["background","style"]))}function _E(r){var e=r.x,t=$t(r.y)?r.y:[r.y];return t.map(function(i,n){return{x:$t(e)?e[n]:e,y:i}})}var Uae={line:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dot:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dash:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},smooth:function(r,e,t){return[["M",r-t,e],["A",t/2,t/2,0,1,1,r,e],["A",t/2,t/2,0,1,0,r+t,e]]},hv:function(r,e,t){return[["M",r-t-1,e-2.5],["L",r,e-2.5],["L",r,e+2.5],["L",r+t+1,e+2.5]]},vh:function(r,e,t){return[["M",r-t-1,e+2.5],["L",r,e+2.5],["L",r,e-2.5],["L",r+t+1,e-2.5]]},hvh:function(r,e,t){return[["M",r-(t+1),e+2.5],["L",r-t/2,e+2.5],["L",r-t/2,e-2.5],["L",r+t/2,e-2.5],["L",r+t/2,e+2.5],["L",r+t+1,e+2.5]]},vhv:function(r,e){return[["M",r-5,e+2.5],["L",r-5,e],["L",r,e],["L",r,e-3],["L",r,e+3],["L",r+6.5,e+3]]}};function k3(r,e){var t=r.color;return{symbol:Uae[e],style:{lineWidth:2,r:6,stroke:t}}}function Xae(r,e,t){for(var i=r.isStack,n=r.connectNulls,a=r.isInCircle,o=r.showSinglePoint,s=qi(r,!0,!1,"lineWidth"),l=XS(r.points,n,o),u=[],f=0,c=l.length;f<c;f++){var h=l[f];u=u.concat(O0t(h,a,i,e,t,s))}return s.path=u,s}function hX(r,e,t,i,n){if(r.length===1)return[["M",r[0].x,r[0].y-n.lineWidth/2],["L",r[0].x,r[0].y],["L",r[0].x,r[0].y+n.lineWidth/2]];var a;return t?(e&&r.length&&r.push({x:r[0].x,y:r[0].y}),a=VS(r,!1,i)):(a=Jy(r,!1),e&&a.push(["Z"])),a}function Zae(r,e,t,i,n,a){var o=[],s=[];at(r,function(f){var c=_E(f);o.push(c[1]),s.push(c[0])});var l=hX(o,e,i,n,a),u=hX(s,e,i,n,a);return t?l:l.concat(u)}function O0t(r,e,t,i,n,a){if(r.length){var o=r[0];return $t(o.y)?Zae(r,e,t,i,n,a):hX(r,e,i,n,a)}return[]}var pPr=Dl("line",{defaultShapeType:"line"});at(["line","dot","dash","smooth"],function(r){pi("line",r,{draw:function(e,t){var i=r==="smooth",n;if(i){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=Xae(e,i,n),u=t.addShape({type:"path",attrs:l,name:"line",capture:!i});return u},getMarker:function(e){return k3(e,r)}})});var ob={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},ra={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},kv=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Kae=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Qae=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],$ae=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?kv:e,i=r.paletteQualitative20,n=i===void 0?Kae:i,a=r.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:Qae,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:ra[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:ra[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:ob[85],axisTickLineBorderColor:ra[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:ra[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:ra[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:ra[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:ra[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:kv[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ra[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:ra[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:ra[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:ra[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:ra[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ra[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ob[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ob[25],annotationArcBorderColor:ra[15],annotationArcBorder:1,annotationLineBorderColor:ra[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:ra[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:ra[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ra[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:ra[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ra[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ob[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:ra[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:ob[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:ra[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:kv[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ob[100],pointBorderOpacity:1,pointActiveBorderColor:ra[100],pointSelectedBorder:2,pointSelectedBorderColor:ra[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:kv[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ob[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ra[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ra[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:kv[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:kv[0],areaFillOpacity:.25,areaActiveFillColor:kv[0],areaActiveFillOpacity:.5,areaSelectedFillColor:kv[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:kv[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ra[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ra[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:kv[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ra[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ra[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:kv[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ob[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ra[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ra[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return S(S({},s),r)},k0t=$ae();var MX={};ai(MX,{AbstractCanvas:()=>IS,AbstractGroup:()=>G1,AbstractShape:()=>z1,Base:()=>SS,Canvas:()=>lxt,Event:()=>Kp,Group:()=>ME,PathUtil:()=>jA,Shape:()=>s0,assembleFont:()=>PS,getArcParams:()=>lb,getBBoxMethod:()=>j1,getOffScreenContext:()=>OS,getTextHeight:()=>kS,invert:()=>MS,isAllowCapture:()=>N1,multiplyVec2:()=>Yc,registerBBox:()=>zf,registerEasing:()=>jH,version:()=>Goe});var s0={};ai(s0,{Base:()=>$o,Circle:()=>H0t,Ellipse:()=>U0t,Image:()=>Z0t,Line:()=>K0t,Marker:()=>txt,Path:()=>Rk,Polygon:()=>rxt,Polyline:()=>ixt,Rect:()=>nxt,Text:()=>axt});function P0t(){return window?window.devicePixelRatio:1}function P3(r,e,t,i){var n=r-t,a=e-i;return Math.sqrt(n*n+a*a)}function sg(r,e,t,i,n,a){return n>=r&&n<=r+t&&a>=e&&a<=e+i}function sb(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function D0t(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function dX(r,e){return r[0]===e[0]&&r[1]===e[1]}var Jae=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,toe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,eoe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,F0t=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function N0t(r,e){var t=r.match(F0t);at(t,function(i){var n=i.split(":");e.addColorStop(n[0],n[1])})}function roe(r,e,t){var i=Jae.exec(t),n=parseFloat(i[1])%360*(Math.PI/180),a=i[2],o=e.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),f=u*u,c=(l.x-s.x+u*(l.y-s.y))/(f+1)+s.x,h=u*(l.x-s.x+u*(l.y-s.y))/(f+1)+s.y,d=r.createLinearGradient(s.x,s.y,c,h);return N0t(a,d),d}function ioe(r,e,t){var i=toe.exec(t),n=parseFloat(i[1]),a=parseFloat(i[2]),o=parseFloat(i[3]),s=i[4];if(o===0){var l=s.match(F0t);return l[l.length-1].split(":")[1]}var u=e.getBBox(),f=u.maxX-u.minX,c=u.maxY-u.minY,h=Math.sqrt(f*f+c*c)/2,d=r.createRadialGradient(u.minX+f*n,u.minY+c*a,0,u.minX+f/2,u.minY+c/2,o*h);return N0t(s,d),d}function noe(r,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var i,n,a=eoe.exec(t),o=a[1],s=a[2];function l(){i=r.createPattern(n,o),e.set("pattern",i),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),i}function B0t(r,e,t){var i=e.getBBox();if(isNaN(i.x)||isNaN(i.y)||isNaN(i.width)||isNaN(i.height))return t;if(cr(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return roe(r,e,t);if(t[0]==="r")return ioe(r,e,t);if(t[0]==="p")return noe(r,e,t)}return t}if(t instanceof CanvasPattern)return t}function R0t(r){var e=0,t=0,i=0,n=0;return $t(r)?r.length===1?e=t=i=n=r[0]:r.length===2?(e=i=r[0],t=n=r[1]):r.length===3?(e=r[0],t=n=r[1],i=r[2]):(e=r[0],t=r[1],i=r[2],n=r[3]):e=t=i=n=r,[e,t,i,n]}function D3(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function vX(r,e){return D3(r)*D3(e)?(r[0]*e[0]+r[1]*e[1])/(D3(r)*D3(e)):1}function G0t(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(vX(r,e))}function lb(r,e){var t=e[1],i=e[2],n=Kh(Qh(e[3]),Math.PI*2),a=e[4],o=e[5],s=r[0],l=r[1],u=e[6],f=e[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-f)/2,h=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-f)/2,d=c*c/(t*t)+h*h/(i*i);d>1&&(t*=Math.sqrt(d),i*=Math.sqrt(d));var v=t*t*(h*h)+i*i*(c*c),p=v?Math.sqrt((t*t*(i*i)-v)/v):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=i?p*t*h/i:0,m=t?p*-i*c/t:0,y=(s+u)/2+Math.cos(n)*g-Math.sin(n)*m,x=(l+f)/2+Math.sin(n)*g+Math.cos(n)*m,b=[(c-g)/t,(h-m)/i],_=[(-1*c-g)/t,(-1*h-m)/i],M=G0t([1,0],b),A=G0t(b,_);return vX(b,_)<=-1&&(A=Math.PI),vX(b,_)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:y,cy:x,rx:dX(r,[u,f])?0:t,ry:dX(r,[u,f])?0:i,startAngle:M,endAngle:M+A,xRotation:n,arcFlag:a,sweepFlag:o}}var F3=Math.sin,N3=Math.cos,pX=Math.atan2,B3=Math.PI;function z0t(r,e,t,i,n,a,o){var s=e.stroke,l=e.lineWidth,u=t-n,f=i-a,c=pX(f,u),h=new Rk({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*N3(B3/6)+","+10*F3(B3/6)+" L0,0 L"+10*N3(B3/6)+",-"+10*F3(B3/6),stroke:s,lineWidth:l}});h.translate(n,a),h.rotateAtPoint(n,a,c),r.set(o?"startArrowShape":"endArrowShape",h)}function j0t(r,e,t,i,n,a,o){var s=e.startArrow,l=e.endArrow,u=e.stroke,f=e.lineWidth,c=o?s:l,h=c.d,d=c.fill,v=c.stroke,p=c.lineWidth,g=Ze(c,["d","fill","stroke","lineWidth"]),m=t-n,y=i-a,x=pX(y,m);h&&(n=n-N3(x)*h,a=a-F3(x)*h);var b=new Rk({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:S(S({},g),{stroke:v||u,lineWidth:p||f,fill:d})});b.translate(n,a),b.rotateAtPoint(n,a,x),r.set(o?"startArrowShape":"endArrowShape",b)}function lg(r,e,t,i,n){var a=pX(i-e,t-r);return{dx:N3(a)*n,dy:F3(a)*n}}function SE(r,e,t,i,n,a){typeof e.startArrow=="object"?j0t(r,e,t,i,n,a,!0):e.startArrow?z0t(r,e,t,i,n,a,!0):r.set("startArrowShape",null)}function CE(r,e,t,i,n,a){typeof e.endArrow=="object"?j0t(r,e,t,i,n,a,!1):e.endArrow?z0t(r,e,t,i,n,a,!1):r.set("startArrowShape",null)}var Y0t={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function o0(r,e){var t=e.attr();for(var i in t){var n=t[i],a=Y0t[i]?Y0t[i]:i;a==="matrix"&&n?r.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&r.setLineDash?$t(n)&&r.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=B0t(r,e,n):a==="globalAlpha"&&(n=n*r.globalAlpha),r[a]=n)}}function Gk(r,e,t){for(var i=0;i<e.length;i++){var n=e[i];n.cfg.visible?n.draw(r,t):n.skipDraw()}}function W0t(r,e,t){var i=r.get("refreshElements");at(i,function(n){if(n!==r)for(var a=n.cfg.parent;a&&a!==r&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),i[0]===r?yX(e,t):gX(e,t)}function gX(r,e){for(var t=0;t<r.length;t++){var i=r[t];if(i.cfg.visible)if(i.cfg.hasChanged)i.cfg.refresh=!0,i.isGroup()&&yX(i.cfg.children,e);else if(i.cfg.refresh)i.isGroup()&&gX(i.cfg.children,e);else{var n=aoe(i,e);i.cfg.refresh=n,n&&i.isGroup()&&gX(i.cfg.children,e)}}}function mX(r){for(var e=0;e<r.length;e++){var t=r[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&mX(t.cfg.children)}}function yX(r,e){for(var t=0;t<r.length;t++){var i=r[t];!i.cfg.visible||(i.cfg.refresh=!0,i.isGroup()&&yX(i.get("children"),e))}}function aoe(r,e){var t=r.cfg.cacheCanvasBBox,i=r.cfg.isInView&&t&&sb(t,e);return i}function R3(r,e,t,i){var n=t.path,a=t.startArrow,o=t.endArrow;if(!!n){var s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var f=0;f<n.length;f++){var c=n[f],h=c[0];if(f===0&&a&&a.d){var d=r.getStartTangent();u=lg(d[0][0],d[0][1],d[1][0],d[1][1],a.d)}else if(f===n.length-2&&n[f+1][0]==="Z"&&o&&o.d){var v=n[f+1];if(v[0]==="Z"){var d=r.getEndTangent();u=lg(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}}else if(f===n.length-1&&o&&o.d&&n[0]!=="Z"){var d=r.getEndTangent();u=lg(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}var p=u.dx,g=u.dy;switch(h){case"M":e.moveTo(c[1]-p,c[2]-g),l=[c[1],c[2]];break;case"L":e.lineTo(c[1]-p,c[2]-g);break;case"Q":e.quadraticCurveTo(c[1],c[2],c[3]-p,c[4]-g);break;case"C":e.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-p,c[6]-g);break;case"A":{var m=void 0;i?(m=i[f],m||(m=lb(s,c),i[f]=m)):m=lb(s,c);var y=m.cx,x=m.cy,b=m.rx,_=m.ry,M=m.startAngle,A=m.endAngle,I=m.xRotation,k=m.sweepFlag;if(e.ellipse)e.ellipse(y,x,b,_,I,M,A,1-k);else{var E=b>_?b:_,O=b>_?1:b/_,P=b>_?_/b:1;e.translate(y,x),e.rotate(I),e.scale(O,P),e.arc(0,0,E,M,A,1-k),e.scale(1/O,1/P),e.rotate(-I),e.translate(-y,-x)}break}case"Z":e.closePath();break;default:break}if(h==="Z")s=l;else{var N=c.length;s=[c[N-2],c[N-1]]}}}}function G3(r,e){var t=r.get("canvas");t&&(e==="remove"&&(r._cacheCanvasBBox=r.get("cacheCanvasBBox")),r.get("hasChanged")||(r.set("hasChanged",!0),r.cfg.parent&&r.cfg.parent.get("hasChanged")||(t.refreshElement(r,e,t),t.get("autoDraw")&&t.draw())))}function ooe(r){var e;if(r.destroyed)e=r._cacheCanvasBBox;else{var t=r.get("cacheCanvasBBox"),i=t&&!!(t.width&&t.height),n=r.getCanvasBBox(),a=n&&!!(n.width&&n.height);i&&a?e=D0t(t,n):i?e=t:a&&(e=n)}return e}function V0t(r){if(!r.length)return null;var e=[],t=[],i=[],n=[];return at(r,function(a){var o=ooe(a);o&&(e.push(o.minX),t.push(o.minY),i.push(o.maxX),n.push(o.maxY))}),{minX:Ws(e),minY:Ws(t),maxX:ms(i),maxY:ms(n)}}function q0t(r,e){return!r||!e||!sb(r,e)?null:{minX:Math.max(r.minX,e.minX),minY:Math.max(r.minY,e.minY),maxX:Math.min(r.maxX,e.maxX),maxY:Math.min(r.maxY,e.maxY)}}var soe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){G3(this,t)},e.prototype.getShapeBase=function(){return s0},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,i){i&&(t.save(),o0(t,i),i.createPath(t),t.restore(),t.clip(),i._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,i=[],n=[];at(t,function(h){var d=h.cfg.cacheCanvasBBox;d&&h.cfg.isInView&&(i.push(d.minX,d.maxX),n.push(d.minY,d.maxY))});var a=null;if(i.length){var o=Ws(i),s=ms(i),l=Ws(n),u=ms(n);a={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var f=this.cfg.canvas;if(f){var c=f.getViewRange();this.set("isInView",sb(a,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},e.prototype.draw=function(t,i){var n=this.cfg.children,a=i?this.cfg.refresh:!0;n.length&&a&&(t.save(),o0(t,this),this._applyClip(t,this.getClip()),Gk(t,n,i),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(G1),ME=soe;var loe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return s0},e.prototype.getGroupBase=function(){return ME},e.prototype.onCanvasChange=function(t){G3(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),i=this.getHitLineWidth(),n=j1(t),a=n(this),o=i/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,f=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+i,height:a.height+i,maxX:u,maxY:f}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,i){i&&(t.save(),o0(t,i),i.createPath(t),t.restore(),t.clip(),i._afterDraw())},e.prototype.draw=function(t,i){var n=this.cfg.clipShape;if(i){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!sb(i,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),o0(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var i=this.getCanvasBBox(),n=sb(i,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",i):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var i=this.attrs,n=i.lineWidth,a=i.opacity,o=i.strokeOpacity,s=i.fillOpacity;this.isFill()&&(!Kt(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!Kt(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,i){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,i,n,a,o)},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(z1),$o=loe;var uoe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr(),l=s.x,u=s.y,f=s.r,c=o/2,h=P3(l,u,t,i);return a&&n?h<=f+c:a?h<=f:n?h>=f-c&&h<=f+c:!1},e.prototype.createPath=function(t){var i=this.attr(),n=i.x,a=i.y,o=i.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},e}($o),H0t=uoe;function z3(r,e,t,i){return r/(t*t)+e/(i*i)}var foe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr(),l=o/2,u=s.x,f=s.y,c=s.rx,h=s.ry,d=(t-u)*(t-u),v=(i-f)*(i-f);return a&&n?z3(d,v,c+l,h+l)<=1:a?z3(d,v,c,h)<=1:n?z3(d,v,c-l,h-l)>=1&&z3(d,v,c+l,h+l)<=1:!1},e.prototype.createPath=function(t){var i=this.attr(),n=i.x,a=i.y,o=i.rx,s=i.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,f=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,f),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},e}($o),U0t=foe;function X0t(r){return r instanceof HTMLElement&&cr(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"}var coe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var i=this,n=this.attrs;if(cr(t)){var a=new Image;a.onload=function(){if(i.destroyed)return!1;i.attr("img",a),i.set("loading",!1),i._afterLoading();var o=i.get("callback");o&&o.call(i)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):X0t(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),t==="img"&&this._setImage(i)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var i=this.attr(),n=i.x,a=i.y,o=i.width,s=i.height,l=i.sx,u=i.sy,f=i.swidth,c=i.sheight,h=i.img;(h instanceof Image||X0t(h))&&(!Kt(l)&&!Kt(u)&&!Kt(f)&&!Kt(c)?t.drawImage(h,l,u,f,c,n,a,o,s):t.drawImage(h,n,a,o,s))},e}($o),Z0t=coe;function Xc(r,e,t,i,n,a,o){var s=Math.min(r,t),l=Math.max(r,t),u=Math.min(e,i),f=Math.max(e,i),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=f+c?Ha.pointToLine(r,e,t,i,a,o)<=n/2:!1}var hoe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),i=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&SE(this,t,a,o,i,n),l&&CE(this,t,i,n,a,o)},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,f=s.x2,c=s.y2;return Xc(l,u,f,c,o,t,i)},e.prototype.createPath=function(t){var i=this.attr(),n=i.x1,a=i.y1,o=i.x2,s=i.y2,l=i.startArrow,u=i.endArrow,f={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(f=lg(n,a,o,s,i.startArrow.d)),u&&u.d&&(c=lg(n,a,o,s,i.endArrow.d)),t.beginPath(),t.moveTo(n+f.dx,a+f.dy),t.lineTo(o-c.dx,s-c.dy)},e.prototype.afterDrawPath=function(t){var i=this.get("startArrowShape"),n=this.get("endArrowShape");i&&i.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),i=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ha.length(i,n,a,o)},e.prototype.getPoint=function(t){var i=this.attr(),n=i.x1,a=i.y1,o=i.x2,s=i.y2;return Ha.pointAt(n,a,o,s,t)},e}($o),K0t=hoe;var doe=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,voe=/[^\s\,]+/ig;function poe(r){var e=r||[];if($t(e))return e;if(cr(e))return e=e.match(doe),at(e,function(t,i){if(t=t.match(voe),t[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}at(t,function(a,o){isNaN(a)||(t[o]=+a)}),e[i]=t}),e}var xX=poe;var zk=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,moe=new RegExp("([a-z])["+zk+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+zk+"]*,?["+zk+"]*)+)","ig"),yoe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+zk+"]*,?["+zk+"]*","ig");function j3(r){if(!r)return null;if($t(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(moe,function(i,n,a){var o=[],s=n.toLowerCase();if(a.replace(yoe,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var xoe=/[a-z]/;function Q0t(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function ZS(r){var e=j3(r);if(!e||!e.length)return[["M",0,0]];for(var t=!1,i=0;i<e.length;i++){var n=e[i][0];if(xoe.test(n)||["V","H","T","S"].indexOf(n)>=0){t=!0;break}}if(!t)return e;var a=[],o=0,s=0,l=0,u=0,f=0,c,h,d=e[0];(d[0]==="M"||d[0]==="m")&&(o=+d[1],s=+d[2],l=o,u=s,f++,a[0]=["M",o,s]);for(var i=f,v=e.length;i<v;i++){var p=e[i],g=a[i-1],m=[],n=p[0],y=n.toUpperCase();if(n!==y)switch(m[0]=y,y){case"A":m[1]=p[1],m[2]=p[2],m[3]=p[3],m[4]=p[4],m[5]=p[5],m[6]=+p[6]+o,m[7]=+p[7]+s;break;case"V":m[1]=+p[1]+s;break;case"H":m[1]=+p[1]+o;break;case"M":l=+p[1]+o,u=+p[2]+s,m[1]=l,m[2]=u;break;default:for(var x=1,b=p.length;x<b;x++)m[x]=+p[x]+(x%2?o:s)}else m=e[i];switch(y){case"Z":o=+l,s=+u;break;case"H":o=m[1],m=["L",o,s];break;case"V":s=m[1],m=["L",o,s];break;case"T":o=m[1],s=m[2];var _=Q0t([g[1],g[2]],[g[3],g[4]]);m=["Q",_[0],_[1],o,s];break;case"S":o=m[m.length-2],s=m[m.length-1];var M=g.length,A=Q0t([g[M-4],g[M-3]],[g[M-2],g[M-1]]);m=["C",A[0],A[1],m[1],m[2],o,s];break;case"M":l=m[m.length-2],u=m[m.length-1];break;default:o=m[m.length-2],s=m[m.length-1]}a.push(m)}return a}var rFr=Math.PI*2;function Y3(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function bX(r,e){return Y3(r)*Y3(e)?(r[0]*e[0]+r[1]*e[1])/(Y3(r)*Y3(e)):1}function $0t(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(bX(r,e))}function W3(r,e){return r[0]===e[0]&&r[1]===e[1]}function V3(r,e){var t=e[1],i=e[2],n=Kh(Qh(e[3]),Math.PI*2),a=e[4],o=e[5],s=r[0],l=r[1],u=e[6],f=e[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-f)/2,h=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-f)/2,d=c*c/(t*t)+h*h/(i*i);d>1&&(t*=Math.sqrt(d),i*=Math.sqrt(d));var v=t*t*(h*h)+i*i*(c*c),p=v?Math.sqrt((t*t*(i*i)-v)/v):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=i?p*t*h/i:0,m=t?p*-i*c/t:0,y=(s+u)/2+Math.cos(n)*g-Math.sin(n)*m,x=(l+f)/2+Math.sin(n)*g+Math.cos(n)*m,b=[(c-g)/t,(h-m)/i],_=[(-1*c-g)/t,(-1*h-m)/i],M=$0t([1,0],b),A=$0t(b,_);return bX(b,_)<=-1&&(A=Math.PI),bX(b,_)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:y,cy:x,rx:W3(r,[u,f])?0:t,ry:W3(r,[u,f])?0:i,startAngle:M,endAngle:M+A,xRotation:n,arcFlag:a,sweepFlag:o}}function J0t(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function q3(r){r=xX(r);for(var e=[],t=null,i=null,n=null,a=0,o=r.length,s=0;s<o;s++){var l=r[s];i=r[s+1];var u=l[0],f={command:u,prePoint:t,params:l,startTangent:null,endTangent:null};switch(u){case"M":n=[l[1],l[2]],a=s;break;case"A":var c=V3(t,l);f.arcParams=c;break;default:break}if(u==="Z")t=n,i=r[a+1];else{var h=l.length;t=[l[h-2],l[h-1]]}i&&i[0]==="Z"&&(i=r[a],e[a]&&(e[a].prePoint=t)),f.currentPoint=t,e[a]&&W3(t,e[a].currentPoint)&&(e[a].prePoint=f.prePoint);var d=i?[i[i.length-2],i[i.length-1]]:null;f.nextPoint=d;var v=f.prePoint;if(["L","H","V"].includes(u))f.startTangent=[v[0]-t[0],v[1]-t[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]];else if(u==="Q"){var p=[l[1],l[2]];f.startTangent=[v[0]-p[0],v[1]-p[1]],f.endTangent=[t[0]-p[0],t[1]-p[1]]}else if(u==="T"){var g=e[s-1],p=J0t(g.currentPoint,v);g.command==="Q"?(f.command="Q",f.startTangent=[v[0]-p[0],v[1]-p[1]],f.endTangent=[t[0]-p[0],t[1]-p[1]]):(f.command="TL",f.startTangent=[v[0]-t[0],v[1]-t[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]])}else if(u==="C"){var m=[l[1],l[2]],y=[l[3],l[4]];f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]],f.startTangent[0]===0&&f.startTangent[1]===0&&(f.startTangent=[m[0]-y[0],m[1]-y[1]]),f.endTangent[0]===0&&f.endTangent[1]===0&&(f.endTangent=[y[0]-m[0],y[1]-m[1]])}else if(u==="S"){var g=e[s-1],m=J0t(g.currentPoint,v),y=[l[1],l[2]];g.command==="C"?(f.command="C",f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]]):(f.command="SQ",f.startTangent=[v[0]-y[0],v[1]-y[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]])}else if(u==="A"){var x=.001,b=f.arcParams||{},_=b.cx,M=_===void 0?0:_,A=b.cy,I=A===void 0?0:A,k=b.rx,E=k===void 0?0:k,O=b.ry,P=O===void 0?0:O,N=b.sweepFlag,R=N===void 0?0:N,z=b.startAngle,B=z===void 0?0:z,Y=b.endAngle,q=Y===void 0?0:Y;R===0&&(x*=-1);var j=E*Math.cos(B-x)+M,Z=P*Math.sin(B-x)+I;f.startTangent=[j-n[0],Z-n[1]];var tt=E*Math.cos(B+q+x)+M,lt=P*Math.sin(B+q-x)+I;f.endTangent=[v[0]-tt,v[1]-lt]}e.push(f)}return e}var Coe={circle:function(r,e,t){return[["M",r-t,e],["A",t,t,0,1,0,r+t,e],["A",t,t,0,1,0,r-t,e]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e+i],["L",r,e-i],["L",r+t,e+i],["Z"]]},"triangle-down":function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e-i],["L",r+t,e-i],["L",r,e+i],["Z"]]}},Moe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Kt(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),i=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;if(nr(a))s=a,l=s(i,n,o),l=ZS(l);else{if(s=e.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;l=s(i,n,o)}return l},e.prototype.createPath=function(t){var i=this._getPath(),n=this.get("paramsCache");R3(this,t,{path:i},n)},e.Symbols=Coe,e}($o),txt=Moe;function jk(r,e,t){var i=OS();return r.createPath(i),i.isPointInPath(e,t)}var Aoe=1e-6;function wX(r){return Math.abs(r)<Aoe?0:r<0?-1:1}function Eoe(r,e,t){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function Yk(r,e,t){var i=!1,n=r.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=r[a],s=r[(a+1)%n];if(Eoe(o,s,[e,t]))return!0;wX(o[1]-t)>0!=wX(s[1]-t)>0&&wX(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(i=!i)}return i}function ub(r,e,t,i,n,a,o,s){var l=(Math.atan2(s-e,o-r)+Math.PI*2)%(Math.PI*2);if(l<i||l>n)return!1;var u={x:r+t*Math.cos(l),y:e+t*Math.sin(l)};return P3(u.x,u.y,o,s)<=a/2}var Toe=Ni.transform;function Ioe(r){for(var e=!1,t=r.length,i=0;i<t;i++){var n=r[i],a=n[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function Loe(r,e,t,i,n){for(var a=!1,o=e/2,s=0;s<r.length;s++){var l=r[s],u=l.currentPoint,f=l.params,c=l.prePoint,h=l.box;if(!(h&&!sg(h.x-o,h.y-o,h.width+e,h.height+e,t,i))){switch(l.command){case"L":case"Z":a=Xc(c[0],c[1],u[0],u[1],e,t,i);break;case"Q":var d=ek.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],t,i);a=d<=e/2;break;case"C":var v=Hy.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],f[5],f[6],t,i,n);a=v<=e/2;break;case"A":var p=l.arcParams,g=p.cx,m=p.cy,y=p.rx,x=p.ry,b=p.startAngle,_=p.endAngle,M=p.xRotation,A=[t,i,1],I=y>x?y:x,k=y>x?1:y/x,E=y>x?x/y:1,O=Toe(null,[["t",-g,-m],["r",-M],["s",1/k,1/E]]);uH(A,A,O),a=ub(0,0,I,b,_,e,A[0],A[1]);break;default:break}if(a)break}}return a}function Ooe(r){for(var e=r.length,t=[],i=[],n=[],a=0;a<e;a++){var o=r[a],s=o[0];s==="M"?(n.length&&(i.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&i.push(n),{polygons:t,polylines:i}}var Wk=S({hasArc:Ioe,extractPolygons:Ooe,isPointInStroke:Loe},jA);function ext(r,e,t){for(var i=!1,n=0;n<r.length;n++){var a=r[n];if(i=Yk(a,e,t),i)break}return i}var koe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),t==="path"&&this._setPathArr(i),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=ZS(t);var i=Wk.hasArc(t);this.set("hasArc",i),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=q3(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),i=t.startArrow,n=t.endArrow;if(i){var a=this.getStartTangent();SE(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();CE(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n){var f=this.getTotalLength();u=Wk.isPointInStroke(s,o,t,i,f)}if(!u&&a)if(l)u=jk(this,t,i);else{var c=this.attr("path"),h=Wk.extractPolygons(c);u=ext(h.polygons,t,i)||ext(h.polylines,t,i)}return u},e.prototype.createPath=function(t){var i=this.attr(),n=this.get("paramsCache");R3(this,t,i,n)},e.prototype.afterDrawPath=function(t){var i=this.get("startArrowShape"),n=this.get("endArrowShape");i&&i.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Kt(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var i=this.get("tCache");i||(this._calculateCurve(),this._setTcache(),i=this.get("tCache"));var n,a,o=this.get("curve");if(!i||i.length===0)return o?{x:o[0][1],y:o[0][2]}:null;at(i,function(f,c){t>=f[0]&&t<=f[1]&&(n=(t-f[0])/(f[1]-f[0]),a=c)});var s=o[a];if(Kt(s)||Kt(a))return null;var l=s.length,u=o[a+1];return Hy.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",Wk.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,i=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if(at(u,function(f,c){s=u[c+1],l=f.length,s&&(t+=Hy.length(f[l-2],f[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}at(u,function(f,c){s=u[c+1],l=f.length,s&&(a=[],a[0]=i/t,o=Hy.length(f[l-2],f[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),i+=o||0,a[1]=i/t,n.push(a))}),this.set("tCache",n)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),i;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;i=[],o?(i.push([n[0]-o[0],n[1]-o[1]]),i.push([n[0],n[1]])):(i.push([a[0],a[1]]),i.push([n[0],n[1]]))}return i},e.prototype.getEndTangent=function(){var t=this.getSegments(),i=t.length,n;if(i>1){var a=t[i-2].currentPoint,o=t[i-1].currentPoint,s=t[i-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},e}($o),Rk=koe;function Vk(r,e,t,i,n){var a=r.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=r[o][0],l=r[o][1],u=r[o+1][0],f=r[o+1][1];if(Xc(s,l,u,f,e,t,i))return!0}if(n){var c=r[0],h=r[a-1];if(Xc(c[0],c[1],h[0],h[1],e,t,i))return!0}return!1}var Poe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr().points,l=!1;return n&&(l=Vk(s,o,t,i,!0)),!l&&a&&(l=Yk(s,t,i)),l},e.prototype.createPath=function(t){var i=this.attr(),n=i.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}($o),rxt=Poe;var Doe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),i=this.attrs,n=i.points,a=i.startArrow,o=i.endArrow,s=n.length,l=n[0][0],u=n[0][1],f=n[s-1][0],c=n[s-1][1];a&&SE(this,t,n[1][0],n[1][1],l,u),o&&CE(this,t,n[s-2][0],n[s-2][1],f,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return Vk(s,o,t,i,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var i=this.attr(),n=i.points,a=i.startArrow,o=i.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],f=n[s-1][0],c=n[s-1][1];if(a&&a.d){var h=lg(l,u,n[1][0],n[1][1],a.d);l+=h.dx,u+=h.dy}if(o&&o.d){var h=lg(n[s-2][0],n[s-2][1],f,c,o.d);f-=h.dx,c-=h.dy}t.beginPath(),t.moveTo(l,u);for(var d=0;d<s-1;d++){var v=n[d];t.lineTo(v[0],v[1])}t.lineTo(f,c)}},e.prototype.afterDrawPath=function(t){var i=this.get("startArrowShape"),n=this.get("endArrowShape");i&&i.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,i=this.get("totalLength");return Kt(i)?(this.set("totalLength",XA.length(t)),this.get("totalLength")):i},e.prototype.getPoint=function(t){var i=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return at(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ha.pointAt(i[o][0],i[o][1],i[o+1][0],i[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var i=this.getTotalLength();if(!(i<=0)){var n=0,a=[],o,s;at(t,function(l,u){t[u+1]&&(o=[],o[0]=n/i,s=Ha.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/i,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i},e.prototype.getEndTangent=function(){var t=this.attr().points,i=t.length-1,n=[];return n.push([t[i-1][0],t[i-1][1]]),n.push([t[i][0],t[i][1]]),n},e}($o),ixt=Doe;function _X(r,e,t,i,n,a,o){var s=n/2;return sg(r-s,e-s,t,n,a,o)||sg(r+t-s,e-s,n,i,a,o)||sg(r+s,e+i-s,t,n,a,o)||sg(r-s,e+s,n,i,a,o)}function SX(r,e,t,i,n,a,o,s){var l=a/2;return Xc(r+n,e,r+t-n,e,a,o,s)||Xc(r+t,e+n,r+t,e+i-n,a,o,s)||Xc(r+t-n,e+i,r+n,e+i,a,o,s)||Xc(r,e+i-n,r,e+n,a,o,s)||ub(r+t-n,e+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||ub(r+t-n,e+i-n,n,0,.5*Math.PI,a,o,s)||ub(r+n,e+i-n,n,.5*Math.PI,Math.PI,a,o,s)||ub(r+n,e+n,n,Math.PI,1.5*Math.PI,a,o,s)}var Foe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr(),l=s.x,u=s.y,f=s.width,c=s.height,h=s.radius;if(h){var v=!1;return n&&(v=SX(l,u,f,c,h,o,t,i)),!v&&a&&(v=jk(this,t,i)),v}else{var d=o/2;if(a&&n)return sg(l-d,u-d,f+d,c+d,t,i);if(a)return sg(l,u,f,c,t,i);if(n)return _X(l,u,f,c,o,t,i)}},e.prototype.createPath=function(t){var i=this.attr(),n=i.x,a=i.y,o=i.width,s=i.height,l=i.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=R0t(l),f=u[0],c=u[1],h=u[2],d=u[3];t.moveTo(n+f,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-h),h!==0&&t.arc(n+o-h,a+s-h,h,0,Math.PI/2),t.lineTo(n+d,a+s),d!==0&&t.arc(n+d,a+s-d,d,Math.PI/2,Math.PI),t.lineTo(n,a+f),f!==0&&t.arc(n+f,a+f,f,Math.PI,Math.PI*1.5),t.closePath()}},e}($o),nxt=Foe;var Noe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=PS(t)},e.prototype._setText=function(t){var i=null;cr(t)&&t.indexOf(`
`)!==-1&&(i=t.split(`
`)),this.set("textArr",i)},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(i)},e.prototype._getSpaceingY=function(){var t=this.attrs,i=t.lineHeight,n=t.fontSize*1;return i?i-n:n*.14},e.prototype._drawTextArr=function(t,i,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,f=this._getSpaceingY(),c=kS(a.text,a.fontSize,a.lineHeight),h;at(i,function(d,v){h=l+v*(f+u)-c+u,o==="middle"&&(h+=c-u-(c-u)/2),o==="top"&&(h+=c-u),Kt(d)||(n?t.fillText(d,s,h):t.strokeText(d,s,h))})},e.prototype._drawText=function(t,i){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,i);else{var l=n.text;Kt(l)||(i?t.fillText(l,a,o):t.strokeText(l,a,o))}},e.prototype.strokeAndFill=function(t){var i=this.attrs,n=i.lineWidth,a=i.opacity,o=i.strokeOpacity,s=i.fillOpacity;this.isStroke()&&n>0&&(!Kt(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!Kt(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}($o),axt=Noe;function Boe(r,e){if(e){var t=MS(e);return Yc(t,r)}return r}function oxt(r,e,t){var i=r.getTotalMatrix();if(i){var n=Boe([e,t,1],i),a=n[0],o=n[1];return[a,o]}return[e,t]}function sxt(r,e,t){if(r.isCanvas&&r.isCanvas())return!0;if(!N1(r)||r.cfg.isInView===!1)return!1;if(r.cfg.clipShape){var i=oxt(r,e,t),n=i[0],a=i[1];if(r.isClipped(n,a))return!1}var o=r.cfg.cacheCanvasBBox||r.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function CX(r,e,t){if(!sxt(r,e,t))return null;for(var i=null,n=r.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())i=CX(s,e,t);else if(sxt(s,e,t)){var l=s,u=oxt(s,e,t),f=u[0],c=u[1];l.isInShape(f,c)&&(i=s)}if(i)break}return i}var Roe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return s0},e.prototype.getGroupBase=function(){return ME},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||P0t();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),i=t.getContext("2d");return this.set("context",i),t},e.prototype.setDOMSize=function(t,i){r.prototype.setDOMSize.call(this,t,i);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*i,o>1&&n.scale(o,o)},e.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),i=this.get("el");t.clearRect(0,0,i.width,i.height)},e.prototype.getShape=function(t,i){var n;return this.get("quickHit")?n=CX(this,t,i):n=r.prototype.getShape.call(this,t,i,null),n},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),i=this.getViewRange(),n;if(t.length&&t[0]===this)n=i;else if(n=V0t(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY),n.maxY+=1;var a=this.get("clipView");a&&(n=q0t(n,i))}return n},e.prototype.refreshElement=function(t){var i=this.get("refreshElements");i.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(GO(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),i=this.get("el"),n=this.getChildren();t.clearRect(0,0,i.width,i.height),o0(t,this),Gk(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),i=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),o0(t,this),W0t(this,n,a),Gk(t,n,a),t.restore()):i.length&&mX(i),at(i,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,i=this.get("drawFrame"),n=this.get("drawFrameCallback");i||(i=RO(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null),n&&n()}),this.set("drawFrame",i))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(IS),lxt=Roe;var Goe="0.5.12";var TX={};ai(TX,{AbstractCanvas:()=>IS,AbstractGroup:()=>G1,AbstractShape:()=>z1,Base:()=>SS,Canvas:()=>Lxt,Event:()=>Kp,Group:()=>AE,PathUtil:()=>jA,Shape:()=>u0,assembleFont:()=>PS,getBBoxMethod:()=>j1,getOffScreenContext:()=>OS,getTextHeight:()=>kS,invert:()=>MS,isAllowCapture:()=>N1,multiplyVec2:()=>Yc,registerBBox:()=>zf,registerEasing:()=>jH,version:()=>mse});var u0={};ai(u0,{Base:()=>Io,Circle:()=>cxt,Dom:()=>hxt,Ellipse:()=>dxt,Image:()=>vxt,Line:()=>pxt,Marker:()=>gxt,Path:()=>mxt,Polygon:()=>yxt,Polyline:()=>xxt,Rect:()=>wxt,Text:()=>Sxt});var qk={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Ii={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Ls(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function H3(r){var e=qk[r.type],t=r.getParent();if(!e)throw new Error("the type "+r.type+" is not supported by svg");var i=Ls(e);if(r.get("id")&&(i.id=r.get("id")),r.set("el",i),r.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(i)}return i}function U3(r,e){var t=r.get("el"),i=qq(t.children).sort(e),n=document.createDocumentFragment();i.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function uxt(r,e){var t=r.parentNode,i=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=i[e],a=i.indexOf(r);if(n){if(a>e)t.insertBefore(r,n);else if(a<e){var o=i[e+1];o?t.insertBefore(r,o):t.appendChild(r)}}else t.appendChild(r)}function fxt(r,e){var t=r.cfg.el,i=r.attr(),n={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=e.find("filter",n);a||(a=e.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function ug(r){var e=r.attr().matrix;if(e){for(var t=r.cfg.el,i=[],n=0;n<9;n+=3)i.push(e[n]+","+e[n+1]);i=i.join(","),i.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",e)}}function l0(r,e){var t=r.getClip(),i=r.get("el");if(!t)i.removeAttribute("clip-path");else if(t&&!i.hasAttribute("clip-path")){H3(t),t.createPath(e);var n=e.addClip(t);i.setAttribute("clip-path","url(#"+n+")")}}function X3(r,e){e.forEach(function(t){t.draw(r)})}function Z3(r,e){var t=r.get("canvas");if(t&&t.get("autoDraw")){var i=t.get("context"),n=r.getParent(),a=n?n.getChildren():[t],o=r.get("el");if(e==="remove"){var s=r.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")uxt(o,a.indexOf(r));else if(e==="sort"){var f=r.get("children");f&&f.length&&U3(r,function(c,h){return f.indexOf(c)-f.indexOf(h)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?ug(r):e==="clip"?l0(r,i):e==="attr"||e==="add"&&r.draw(i)}}var zoe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Ls("g");this.set("el",t);var i=this.getParent();if(i){var n=i.get("el");n||(n=i.createDom(),i.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var i=this.get("canvas");if(i&&i.get("autoDraw")){var n=i.get("context");this.createPath(n,t)}},e.prototype.onCanvasChange=function(t){Z3(this,t)},e.prototype.getShapeBase=function(){return u0},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var i=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),l0(this,t),this.createPath(t),i.length&&X3(t,i))},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");at(i||n,function(o,s){Ii[s]&&a.setAttribute(Ii[s],o)}),ug(this)},e}(G1),AE=zoe;var joe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var i=this.get("canvas");if(i&&i.get("autoDraw")){var n=i.get("context");this.draw(n,t)}},e.prototype.getShapeBase=function(){return u0},e.prototype.getGroupBase=function(){return AE},e.prototype.onCanvasChange=function(t){Z3(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),i=null;if(t)i=t.getBBox();else{var n=j1(this.get("type"));n&&(i=n(this))}if(i){var a=i.x,o=i.y,s=i.width,l=i.height,u=this.getHitLineWidth(),f=u/2,c=a-f,h=o-f,d=a+s+f,v=o+l+f;return{x:c,y:h,minX:c,minY:h,maxX:d,maxY:v,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),i=t.fill,n=t.fillStyle;return(i||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),i=t.stroke,n=t.strokeStyle;return(i||n)&&this.canStroke},e.prototype.draw=function(t,i){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||H3(this),l0(this,t),this.createPath(t,i),this.shadow(t,i),this.strokeAndFill(t,i),this.transform(i))},e.prototype.createPath=function(t,i){},e.prototype.strokeAndFill=function(t,i){var n=i||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,f=n.strokeOpacity,c=n.lineWidth,h=this.get("el");this.canFill&&(i?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&h.setAttribute(Ii.fillOpacity,u)),this.canStroke&&c>0&&(i?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),f&&h.setAttribute(Ii.strokeOpacity,f),c&&h.setAttribute(Ii.lineWidth,c))},e.prototype._setColor=function(t,i,n){var a=this.get("el");if(!n){a.setAttribute(Ii[i],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(Ii[i],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(Ii[i],"url(#"+o+")")}else a.setAttribute(Ii[i],n)},e.prototype.shadow=function(t,i){var n=this.attr(),a=i||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&fxt(this,t)},e.prototype.transform=function(t){var i=this.attr(),n=(t||i).matrix;n&&ug(this)},e.prototype.isInShape=function(t,i){return this.isPointInPath(t,i)},e.prototype.isPointInPath=function(t,i){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=i+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,i=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?i+n:0},e}(z1),Io=joe;var Yoe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");at(i||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Ii[s]&&a.setAttribute(Ii[s],o)})},e}(Io),cxt=Yoe;var Woe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");if(at(i||n,function(u,f){Ii[f]&&a.setAttribute(Ii[f],u)}),typeof n.html=="function"){var o=n.html.call(this,n);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,l=s.length-1;l>=0;l--)a.removeChild(s[l]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=n.html},e}(Io),hxt=Woe;var Voe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");at(i||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Ii[s]&&a.setAttribute(Ii[s],o)})},e}(Io),dxt=Voe;var qoe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el");at(i||a,function(s,l){l==="img"?n._setImage(a.img):Ii[l]&&o.setAttribute(Ii[l],s)})},e.prototype.setAttr=function(t,i){this.attrs[t]=i,t==="img"&&this._setImage(i)},e.prototype._setImage=function(t){var i=this.attr(),n=this.get("el");if(cr(t))n.setAttribute("href",t);else if(t instanceof window.Image)i.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&cr(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),i.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},e}(Io),vxt=qoe;var Hoe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");at(i||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=Gi(o)?t.addArrow(n,Ii[s]):t.getDefaultArrow(n,Ii[s]);a.setAttribute(Ii[s],"url(#"+l+")")}else a.removeAttribute(Ii[s]);else Ii[s]&&a.setAttribute(Ii[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),i=t.x1,n=t.y1,a=t.x2,o=t.y2;return Ha.length(i,n,a,o)},e.prototype.getPoint=function(t){var i=this.attr(),n=i.x1,a=i.y1,o=i.x2,s=i.y2;return Ha.pointAt(n,a,o,s,t)},e}(Io),pxt=Hoe;var K3={circle:function(r,e,t){return[["M",r,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e+i],["L",r,e-i],["L",r+t,e+i],["z"]]},triangleDown:function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e-i],["L",r+t,e-i],["L",r,e+i],["Z"]]}},AX={get:function(r){return K3[r]},register:function(r,e){K3[r]=e},remove:function(r){delete K3[r]},getAll:function(){return K3}};var Uoe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var i=this.get("el");i.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return $t(t)?t.map(function(i){return i.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),i=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return nr(o)?s=o:s=AX.get(o),s?s(i,n,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=AX,e}(Io),gxt=Uoe;var Xoe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el");at(i||a,function(s,l){if(l==="path"&&$t(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=Gi(s)?t.addArrow(a,Ii[l]):t.getDefaultArrow(a,Ii[l]);o.setAttribute(Ii[l],"url(#"+u+")")}else o.removeAttribute(Ii[l]);else Ii[l]&&o.setAttribute(Ii[l],s)})},e.prototype._formatPath=function(t){var i=t.map(function(n){return n.join(" ")}).join("");return~i.indexOf("NaN")?"":i},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var i=this.get("el"),n=this.getTotalLength();if(n===0)return null;var a=i?i.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},e}(Io),mxt=Xoe;var Zoe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");at(i||n,function(o,s){s==="points"&&$t(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Ii[s]&&a.setAttribute(Ii[s],o)})},e}(Io),yxt=Zoe;var Koe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");at(i||n,function(o,s){s==="points"&&$t(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Ii[s]&&a.setAttribute(Ii[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,i=this.get("totalLength");return Kt(i)?(this.set("totalLength",XA.length(t)),this.get("totalLength")):i},e.prototype.getPoint=function(t){var i=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return at(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Ha.pointAt(i[o][0],i[o][1],i[o+1][0],i[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var i=this.getTotalLength();if(!(i<=0)){var n=0,a=[],o,s;at(t,function(l,u){t[u+1]&&(o=[],o[0]=n/i,s=Ha.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/i,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i},e.prototype.getEndTangent=function(){var t=this.attr().points,i=t.length-1,n=[];return n.push([t[i-1][0],t[i-1][1]]),n.push([t[i][0],t[i][1]]),n},e}(Io),xxt=Koe;function bxt(r){var e=0,t=0,i=0,n=0;return $t(r)?r.length===1?e=t=i=n=r[0]:r.length===2?(e=i=r[0],t=n=r[1]):r.length===3?(e=r[0],t=n=r[1],i=r[2]):(e=r[0],t=r[1],i=r[2],n=r[3]):e=t=i=n=r,{r1:e,r2:t,r3:i,r4:n}}var Qoe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];at(i||a,function(u,f){l.indexOf(f)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(f)===-1&&Ii[f]&&o.setAttribute(Ii[f],u)})},e.prototype._assembleRect=function(t){var i=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+i+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=bxt(s);$t(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(i+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},e}(Io),wxt=Qoe;var _xt=.3,$oe={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},Joe={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},tse={left:"left",start:"left",center:"middle",right:"end",end:"end"},ese=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el");this._setFont(),at(i||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?ug(n):Ii[l]&&o.setAttribute(Ii[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),i=this.attr(),n=i.textBaseline,a=i.textAlign,o=dR();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",Joe[n]||"alphabetic"):t.setAttribute("alignment-baseline",$oe[n]||"baseline"),t.setAttribute("text-anchor",tse[a]||"left")},e.prototype._setText=function(t){var i=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)i.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,f="";at(l,function(c,h){h===0?s==="alphabetic"?f+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?f+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?f+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?f+='<tspan x="'+a+'" dy="-'+(u+_xt)+'em">'+c+"</tspan>":s==="hanging"&&(f+='<tspan x="'+a+'" dy="'+(-(u-1)-_xt)+'em">'+c+"</tspan>"):f+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),i.innerHTML=f}else i.innerHTML=t},e}(Io),Sxt=ese;var rse=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,ise=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,nse=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function Cxt(r){var e=r.match(nse);if(!e)return"";var t="";return e.sort(function(i,n){return i=i.split(":"),n=n.split(":"),Number(i[0])-Number(n[0])}),at(e,function(i){i=i.split(":"),t+='<stop offset="'+i[0]+'" stop-color="'+i[1]+'"></stop>'}),t}function ase(r,e){var t=rse.exec(r),i=Kh(Qh(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;i>=0&&i<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=i&&i<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=i&&i<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(i),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,f=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",u),e.setAttribute("y2",f),e.innerHTML=Cxt(n)}function ose(r,e){var t=ise.exec(r),i=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];e.setAttribute("cx",i),e.setAttribute("cy",n),e.setAttribute("r",a),e.innerHTML=Cxt(o)}var sse=function(){function r(e){this.cfg={};var t=null,i=Ol("gradient_");return e.toLowerCase()[0]==="l"?(t=Ls("linearGradient"),ase(e,t)):(t=Ls("radialGradient"),ose(e,t)),t.setAttribute("id",i),this.el=t,this.id=i,this.cfg=e,this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),Mxt=sse;var lse={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},use={x:"-40%",y:"-40%",width:"200%",height:"200%"},fse=function(){function r(e){this.type="filter",this.cfg={},this.type="filter";var t=Ls("filter");return at(use,function(i,n){t.setAttribute(n,i)}),this.el=t,this.id=Ol("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return r.prototype.match=function(e,t){if(this.type!==e)return!1;var i=!0,n=this.cfg;return at(Object.keys(n),function(a){if(n[a]!==t[a])return i=!1,!1}),i},r.prototype.update=function(e,t){var i=this.cfg;return i[lse[e]]=t,this._parseShadow(i,this.el),this},r.prototype._parseShadow=function(e,t){var i=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=i},r}(),Axt=fse;var cse=function(){function r(e,t){this.cfg={};var i=Ls("marker"),n=Ol("marker_");i.setAttribute("id",n);var a=Ls("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),i.appendChild(a),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=a,this.id=n;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(e,t){var i=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),i.setAttribute("refX",""+10*Math.cos(Math.PI/6)),i.setAttribute("refY",""+5)},r.prototype._setMarker=function(e,t){var i=this.el,n=this.cfg.path,a=this.cfg.d;$t(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),i.appendChild(t),a&&i.setAttribute("refX",""+a/e)},r.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},r}(),EX=cse;var hse=function(){function r(e){this.type="clip",this.cfg={};var t=Ls("clipPath");this.el=t,this.id=Ol("clip_"),t.id=this.id;var i=e.cfg.el;return t.appendChild(i),this.cfg=e,this}return r.prototype.match=function(){return!1},r.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},r}(),Ext=hse;var dse=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,vse=function(){function r(e){this.cfg={};var t=Ls("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var i=Ls("image");t.appendChild(i);var n=Ol("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=e;var a=dse.exec(e),o=a[2];i.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),Txt=vse;var pse=function(){function r(e){var t=Ls("defs"),i=Ol("defs_");t.id=i,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return r.prototype.find=function(e,t){for(var i=this.children,n=null,a=0;a<i.length;a++)if(i[a].match(e,t)){n=i[a].id;break}return n},r.prototype.findById=function(e){for(var t=this.children,i=null,n=0;n<t.length;n++)if(t[n].id===e){i=t[n];break}return i},r.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},r.prototype.getDefaultArrow=function(e,t){var i=e.stroke||e.strokeStyle;if(this.defaultArrow[i])return this.defaultArrow[i].id;var n=new EX(e,t);return this.defaultArrow[i]=n,this.el.appendChild(n.el),this.add(n),n.id},r.prototype.addGradient=function(e){var t=new Mxt(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addArrow=function(e,t){var i=new EX(e,t);return this.el.appendChild(i.el),this.add(i),i.id},r.prototype.addShadow=function(e){var t=new Axt(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addPattern=function(e){var t=new Txt(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addClip=function(e){var t=new Ext(e);return this.el.appendChild(t.el),this.add(t),t.id},r}(),Ixt=pse;var gse=function(r){G(e,r);function e(t){return r.call(this,S(S({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return u0},e.prototype.getGroupBase=function(){return AE},e.prototype.getShape=function(t,i,n){var a=n.target||n.srcElement;if(!qk[a.tagName]){for(var o=a.parentNode;o&&!qk[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var t=Ls("svg"),i=new Ixt(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",i),t},e.prototype.onCanvasChange=function(t){var i=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&U3(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=i.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?ug(this):t==="clip"?l0(this,i):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),i=this.getChildren();l0(this,t),i.length&&X3(t,i)},e}(IS),Lxt=gse;var mse="0.5.6";var yse=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="path",i.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return i.connectNulls=a,i.showSinglePoint=s,i}return e.prototype.updateElements=function(t,i){var n,a,o,s,l,u;i===void 0&&(i=!1);for(var f=new Map,c=new Map,h=[],d=0,v=0;v<t.length;v++){var p=t[v],g=this.getElementId(p);h.push(g),f.set(g,p),c.set(g,d),d++}this.elements=new Array(d);var m=M3(this.lastElementsMap,h),y=m.added,x=m.updated,b=m.removed;try{for(var _=er(y),M=_.next();!M.done;M=_.next()){var g=M.value,p=f.get(g),A=this.getShapeFactory(),I=this.getShapeInfo(p),v=c.get(g),k=new Nk({shapeFactory:A,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:v});k.geometry=this,k.animate=this.animateOption,k.draw(I,i),this.elementsMap[g]=k,this.elements[v]=k}}catch(z){n={error:z}}finally{try{M&&!M.done&&(a=_.return)&&a.call(_)}finally{if(n)throw n.error}}try{for(var E=er(x),O=E.next();!O.done;O=E.next()){var g=O.value,p=f.get(g),k=this.lastElementsMap[g],v=c.get(g),I=this.getShapeInfo(p),P=k.getModel();(this.isCoordinateChanged||C3(P,I))&&(k.animate=this.animateOption,k.update(I)),this.elementsMap[g]=k,this.elements[v]=k}}catch(z){o={error:z}}finally{try{O&&!O.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var N=er(b),R=N.next();!R.done;R=N.next()){var g=R.value,k=this.lastElementsMap[g];k.animate=this.animateOption,k.destroy()}}catch(z){l={error:z}}finally{try{R&&!R.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}},e.prototype.getPointsAndData=function(t){for(var i=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];i.push({x:s.x,y:s.y}),n.push(s[on])}return{points:i,data:n}},e.prototype.getShapeInfo=function(t){var i=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return i.mappingData=t,i.data=o,i.isStack=!!this.getAdjust("stack"),i.points=a,i.connectNulls=this.connectNulls,i.showSinglePoint=this.showSinglePoint,i},e}(Fl),EE=yse;function xse(r,e,t,i,n){var a=[];if(r.length){for(var o=[],s=[],l=0,u=r.length;l<u;l++){var f=r[l];o.push(f[1]),s.push(f[0])}s=s.reverse(),at([o,s],function(c,h){var d=[],v=i.parsePoints(c),p=v[0];o.length===1&&s.length===1?d=h===0?[["M",p.x-.5,p.y],["L",p.x+.5,p.y]]:[["L",p.x+.5,p.y],["L",p.x-.5,p.y]]:(e&&v.push({x:p.x,y:p.y}),t?d=VS(v,!1,n):d=Jy(v,!1),h>0&&(d[0][0]="L")),a=a.concat(d)}),a.push(["Z"])}return a}function fb(r,e,t,i,n){for(var a=qi(r,e,!e,"lineWidth"),o=r.connectNulls,s=r.isInCircle,l=r.points,u=r.showSinglePoint,f=XS(l,o,u),c=[],h=0,d=f.length;h<d;h++){var v=f[h];c=c.concat(xse(v,s,t,i,n))}return a.path=c,a}function Q3(r){var e=r.start,t=r.end;return[[e.x,t.y],[t.x,e.y]]}var O5r=Dl("area",{defaultShapeType:"area",getDefaultPoints:function(r){var e=r.x,t=r.y0,i=$t(r.y)?r.y:[t,r.y];return i.map(function(n){return{x:e,y:n}})}});pi("area","area",{draw:function(r,e){var t=fb(r,!1,!1,this),i=e.addShape({type:"path",attrs:t,name:"area"});return i},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});var bse=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="area",i.shapeType="area",i.generatePoints=!0,i.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!1:o,l=t.showSinglePoint,u=l===void 0?!1:l;return i.startOnZero=a,i.sortable=s,i.showSinglePoint=u,i}return e.prototype.getPointsAndData=function(t){for(var i=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];i.push(s.points),n.push(s[on])}return{points:i,data:n}},e.prototype.getYMinValue=function(){if(this.startOnZero)return r.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},e}(EE),Oxt=bse;var W5r=Dl("edge",{defaultShapeType:"line",getDefaultPoints:function(r){return _E(r)}});pi("edge","line",{draw:function(r,e){var t=qi(r,!0,!1,"lineWidth"),i=Jy(this.parsePoints(r.points),this.coordinate.isPolar);return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var wse=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return e}(Fl),kxt=wse;var _se=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return e.prototype.updateElements=function(t,i){i===void 0&&(i=!1);for(var n=0;n<t.length;n++){var a=t[n],o=this.prepareRange(a),s=this.prepareSize(),l=At(this.styleOption,["cfg","shadowBlur"]);qr(l)||(l=s/2),this.prepareGreyScaleBlurredCircle(s,l),this.drawWithRange(a,o,s,l)}},e.prototype.color=function(t,i){return this.createAttrOption("color",t,typeof i!="function"?i:""),this},e.prototype.clear=function(){r.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var i=this.getAttribute("color"),n=i.getFields()[0],a=1/0,o=-1/0;return t.forEach(function(s){var l=s[on][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return qr(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,i){var n=this.getGrayScaleBlurredCanvas(),a=t+i,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=i,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(t,i,n,a){var o,s,l=this.coordinate,u=l.start,f=l.end,c=this.coordinate.getWidth(),h=this.coordinate.getHeight(),d=this.getAttribute("color"),v=d.getFields()[0];this.clearShadowCanvasCtx();var p=this.getShadowCanvasCtx();i&&(t=t.filter(function(E){return E[on][v]<=i[1]&&E[on][v]>=i[0]}));var g=this.scales[v];try{for(var m=er(t),y=m.next();!y.done;y=m.next()){var x=y.value,b=this.getDrawCfg(x),_=b.x,M=b.y,A=g.scale(x[on][v]);this.drawGrayScaleBlurredCircle(_-u.x,M-f.y,n+a,A,p)}}catch(E){o={error:E}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}var I=p.getImageData(0,0,c,h);this.clearShadowCanvasCtx(),this.colorize(I),p.putImageData(I,0,0);var k=this.getImageShape();k.attr("x",u.x),k.attr("y",f.y),k.attr("width",c),k.attr("height",h),k.attr("img",p.canvas),k.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),i=this.coordinate;return Math.min(i.getWidth()/(t.scales[0].ticks.length*4),i.getHeight()/(t.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,i,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,i-n)},e.prototype.colorize=function(t){for(var i=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if(qr(s)){var l=a[s]?a[s]:Uy.rgb2arr(i.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var i=this.container;return t=i.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var i=this.getDrawCfg(t[0]),n=t.map(function(a){return a[on]});return S(S({},i),{mappingData:t,data:n})},e}(Fl),Pxt=_se;function TE(r){var e,t,i=r.x,n=r.y,a=r.y0,o=r.size,s,l;$t(n)?(e=Rt(n,2),s=e[0],l=e[1]):(s=a,l=n);var u,f;$t(i)?(t=Rt(i,2),u=t[0],f=t[1]):(u=i-o/2,f=i+o/2);var c=[{x:u,y:s},{x:u,y:l}];return c.push({x:f,y:l},{x:f,y:s}),c}function Hk(r,e){e===void 0&&(e=!0);var t=[],i=r[0];t.push(["M",i.x,i.y]);for(var n=1,a=r.length;n<a;n++)t.push(["L",r[n].x,r[n].y]);return e&&(t.push(["L",i.x,i.y]),t.push(["z"])),t}function Dxt(r,e){var t=0,i=0,n=0,a=0;return $t(r)?r.length===1?t=i=n=a=r[0]:r.length===2?(t=n=r[0],i=a=r[1]):r.length===3?(t=r[0],i=a=r[1],n=r[2]):(t=r[0],i=r[1],n=r[2],a=r[3]):t=i=n=a=r,t+i>e&&(t=t?e/(1+i/t):0,i=e-t),n+a>e&&(n=n?e/(1+a/n):0,a=e-n),[t||0,i||0,n||0,a||0]}function $3(r,e,t){var i=[];if(t.isRect){var n=t.isTransposed?{x:t.start.x,y:e[0].y}:{x:e[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:e[2].y}:{x:e[3].x,y:t.end.y},o=At(r,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,l=t.isTransposed?t.getWidth():t.getHeight(),u=Rt(Dxt(o,Math.min(s,l)),4),f=u[0],c=u[1],h=u[2],d=u[3],v=t.isTransposed&&t.isReflect("y"),p=v?0:1,g=function(M){return v?-M:M};i.push(["M",n.x,a.y+g(f)]),f!==0&&i.push(["A",f,f,0,0,p,n.x+f,a.y]),i.push(["L",a.x-c,a.y]),c!==0&&i.push(["A",c,c,0,0,p,a.x,a.y+g(c)]),i.push(["L",a.x,n.y-g(h)]),h!==0&&i.push(["A",h,h,0,0,p,a.x-h,n.y]),i.push(["L",n.x+d,n.y]),d!==0&&i.push(["A",d,d,0,0,p,n.x,n.y-g(d)])}else i.push(["M",n.x,n.y]),i.push(["L",a.x,n.y]),i.push(["L",a.x,a.y]),i.push(["L",n.x,a.y]),i.push(["L",n.x,n.y]);i.push(["z"])}if(t.isPolar){var m=t.getCenter(),y=rb(r,t),x=y.startAngle,b=y.endAngle;if(t.type!=="theta"&&!t.isTransposed)i=ed(m.x,m.y,t.getRadius(),x,b);else{var _=function(I){return Math.pow(I,2)},f=Math.sqrt(_(m.x-e[0].x)+_(m.y-e[0].y)),c=Math.sqrt(_(m.x-e[2].x)+_(m.y-e[2].y));i=ed(m.x,m.y,f,t.startAngle,t.endAngle,c)}}return i}function Fxt(r,e,t){var i=t.getWidth(),n=t.getHeight(),a=t.type==="rect",o=[],s=(r[2].x-r[1].x)/2,l=t.isTransposed?s*n/i:s*i/n;return e==="round"?(a?(o.push(["M",r[0].x,r[0].y+l]),o.push(["L",r[1].x,r[1].y-l]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y-l]),o.push(["L",r[3].x,r[3].y+l]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y+l])):(o.push(["M",r[0].x,r[0].y]),o.push(["L",r[1].x,r[1].y]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y]),o.push(["L",r[3].x,r[3].y]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y])),o.push(["z"])):o=Hk(r),o}function J3(r,e,t){var i=[];return Kt(e)?t?i.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",(r[2].x+r[3].x)/2,(r[2].y+r[3].y)/2],["Z"]):i.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):i.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),i}function Uk(r,e){return[e,r]}function Nxt(r,e,t){var i,n,a,o,s,l,u,f=Rt(ne([],Rt(r),!1),4),c=f[0],h=f[1],d=f[2],v=f[3],p=Rt(typeof t=="number"?Array(4).fill(t):t,4),g=p[0],m=p[1],y=p[2],x=p[3];e.isTransposed&&(i=Rt(Uk(h,v),2),h=i[0],v=i[1]),e.isReflect("y")&&(n=Rt(Uk(c,h),2),c=n[0],h=n[1],a=Rt(Uk(d,v),2),d=a[0],v=a[1]),e.isReflect("x")&&(o=Rt(Uk(c,v),2),c=o[0],v=o[1],s=Rt(Uk(h,d),2),h=s[0],d=s[1]);var b=[],_=function(M){return Math.abs(M)};return l=Rt(Dxt([g,m,y,x],Math.min(_(v.x-c.x),_(h.y-c.y))).map(function(M){return _(M)}),4),g=l[0],m=l[1],y=l[2],x=l[3],e.isTransposed&&(u=Rt([x,g,m,y],4),g=u[0],m=u[1],y=u[2],x=u[3]),c.y<h.y?(b.push(["M",v.x,v.y+y]),y!==0&&b.push(["A",y,y,0,0,0,v.x-y,v.y]),b.push(["L",c.x+x,c.y]),x!==0&&b.push(["A",x,x,0,0,0,c.x,c.y+x]),b.push(["L",h.x,h.y-g]),g!==0&&b.push(["A",g,g,0,0,0,h.x+g,h.y]),b.push(["L",d.x-m,d.y]),m!==0&&b.push(["A",m,m,0,0,0,d.x,d.y-m]),b.push(["L",v.x,v.y+y]),b.push(["z"])):v.x<c.x?(b.push(["M",d.x+m,d.y]),m!==0&&b.push(["A",m,m,0,0,0,d.x,d.y+m]),b.push(["L",v.x,v.y-y]),y!==0&&b.push(["A",y,y,0,0,0,v.x+y,v.y]),b.push(["L",c.x-x,c.y]),x!==0&&b.push(["A",x,x,0,0,0,c.x,c.y-x]),b.push(["L",h.x,h.y+g]),g!==0&&b.push(["A",g,g,0,0,0,h.x-g,h.y]),b.push(["L",d.x+m,d.y]),b.push(["z"])):(b.push(["M",h.x,h.y+g]),g!==0&&b.push(["A",g,g,0,0,1,h.x+g,h.y]),b.push(["L",d.x-m,d.y]),m!==0&&b.push(["A",m,m,0,0,1,d.x,d.y+m]),b.push(["L",v.x,v.y-y]),y!==0&&b.push(["A",y,y,0,0,1,v.x-y,v.y]),b.push(["L",c.x+x,c.y]),x!==0&&b.push(["A",x,x,0,0,1,c.x,c.y-x]),b.push(["L",h.x,h.y+g]),b.push(["z"])),b}var fGr=Dl("interval",{defaultShapeType:"rect",getDefaultPoints:function(r){return TE(r)}});pi("interval","rect",{draw:function(r,e){var t=qi(r,!1,!0),i=e,n=r==null?void 0:r.background;if(n){i=e.addGroup({name:"interval-group"});var a=O3(r),o=$3(r,this.parsePoints(r.points),this.coordinate);i.addShape("path",{attrs:S(S({},a),{path:o}),capture:!1,zIndex:-1,name:xE})}var s;t.radius&&this.coordinate.isRect?s=Nxt(this.parsePoints(r.points),this.coordinate,t.radius):s=this.parsePath(Fxt(r.points,t.lineCap,this.coordinate));var l=i.addShape("path",{attrs:S(S({},t),{path:s}),name:"interval"});return n?i:l},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});function Sse(r,e){var t=r.length,i=r;cr(i[0])&&(i=r.map(function(s){return e.translate(s)}));for(var n=i[1]-i[0],a=2;a<t;a++){var o=i[a]-i[a-1];n>o&&(n=o)}return n}function Cse(r,e){if(e){var t=Zo(r),i=Il(t,e);return i.length}return r.length}function IE(r){var e=r.theme,t=r.coordinate,i=r.getXScale(),n=i.values,a=r.beforeMappingData,o=n.length,s=ng(r.coordinate),l=r.intervalPadding,u=r.dodgePadding,f=r.maxColumnWidth||e.maxColumnWidth,c=r.minColumnWidth||e.minColumnWidth,h=r.columnWidthRatio||e.columnWidthRatio,d=r.multiplePieWidthRatio||e.multiplePieWidthRatio,v=r.roseWidthRatio||e.roseWidthRatio;if(i.isLinear&&n.length>1){n.sort();var p=Sse(n,i);o=(i.max-i.min)/p,n.length>o&&(o=n.length)}var g=i.range,m=1/o,y=1;if(t.isPolar?t.isTransposed&&o>1?y=d:y=v:(i.isLinear&&(m*=g[1]-g[0]),y=h),!Kt(l)&&l>=0){var x=l/s;m=(1-(o-1)*x)/o}else m*=y;if(r.getAdjust("dodge")){var b=r.getAdjust("dodge"),_=b.dodgeBy,M=Cse(a,_);if(!Kt(u)&&u>=0){var A=u/s;m=(m-A*(M-1))/M}else!Kt(l)&&l>=0&&(m*=y),m=m/M;m=m>=0?m:0}if(!Kt(f)&&f>=0){var I=f/s;m>I&&(m=I)}if(!Kt(c)&&c>=0){var k=c/s;m<k&&(m=k)}return m}var Mse=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="interval",i.shapeType="interval",i.generatePoints=!0;var n=t.background;return i.background=n,i}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ng(o);n=n/s}else this.defaultSize||(this.defaultSize=IE(this)),n=this.defaultSize;return i.size=n,i},e.prototype.adjustScale=function(){r.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:Lyt(t)});else{var i=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!At(i,[n,"min"])&&t.change({min:0}),o<=0&&!At(i,[n,"max"])&&t.change({max:0}))}},e.prototype.getDrawCfg=function(t){var i=r.prototype.getDrawCfg.call(this,t);return i.background=this.background,i},e}(Fl),Bxt=Mse;var Ase=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="line";var n=t.sortable,a=n===void 0?!1:n;return i.sortable=a,i}return e}(EE),Rxt=Ase;var t5=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Gxt=["cross","tick","plus","hyphen","line"];function LE(r,e,t,i,n){var a,o,s=qi(e,n,!n,"r"),l=r.parsePoints(e.points),u=l[0];if(e.isStack)u=l[1];else if(l.length>1){var f=t.addGroup();try{for(var c=er(l),h=c.next();!h.done;h=c.next()){var d=h.value;f.addShape({type:"marker",attrs:S(S(S({},s),{symbol:id[i]||i}),d)})}}catch(v){a={error:v}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}return f}return t.addShape({type:"marker",attrs:S(S(S({},s),{symbol:id[i]||i}),u)})}var NGr=Dl("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(r){return _E(r)}});at(t5,function(r){pi("point","hollow-".concat(r),{draw:function(e,t){return LE(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:id[r]||r,style:{r:4.5,stroke:t,fill:null}}}})});var Ese=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return e.prototype.getDrawCfg=function(t){var i=r.prototype.getDrawCfg.call(this,t);return S(S({},i),{isStack:!!this.getAdjust("stack")})},e}(Fl),zxt=Ese;function Tse(r){for(var e=r[0],t=1,i=[["M",e.x,e.y]];t<r.length;){var n=r[t];(n.x!==r[t-1].x||n.y!==r[t-1].y)&&(i.push(["L",n.x,n.y]),n.x===e.x&&n.y===e.y&&t<r.length-1&&(e=r[t+1],i.push(["Z"]),i.push(["M",e.x,e.y]),t++)),t++}return xn(jn(i),e)||i.push(["L",e.x,e.y]),i.push(["Z"]),i}var HGr=Dl("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(r){var e=[];return at(r.x,function(t,i){var n=r.y[i];e.push({x:t,y:n})}),e}});pi("polygon","polygon",{draw:function(r,e){if(!Ts(r.points)){var t=qi(r,!0,!0),i=this.parsePath(Tse(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i}),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});var Ise=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n=i.x,a=i.y,o;if(!($t(n)&&$t(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,f=l.values.length,c=.5*1/u,h=.5*1/f;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-h,a+h,a+h,a-h]):$t(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-h/2,a+h/2,a+h/2,a-h/2]):$t(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),i.x=n,i.y=a}return i},e}(Fl),jxt=Ise;var tzr=Dl("schema",{defaultShapeType:""});var Lse=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ng(o);n=n/s}else this.defaultSize||(this.defaultSize=IE(this)),n=this.defaultSize;return i.size=n,i},e}(Fl),Yxt=Lse;function Ose(r){if(!$t(r))return[];var e=ms(r);return oo(r,function(t){return t/e})}var dzr=Dl("violin",{defaultShapeType:"violin",getDefaultPoints:function(r){var e=r.size/2,t=[],i=Ose(r._size);return at(r.y,function(n,a){var o=i[a]*e,s=a===0,l=a===r.y.length-1;t.push({isMin:s,isMax:l,x:r.x-o,y:n}),t.unshift({isMin:s,isMax:l,x:r.x+o,y:n})}),t}});pi("violin","violin",{draw:function(r,e){var t=qi(r,!0,!0),i=this.parsePath(I3(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i}),name:"violin"})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:e}}}});var kse=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=ng(o);n=n/s}else this.defaultSize||(this.defaultSize=IE(this)),n=this.defaultSize;return i.size=n,i._size=At(t[on],[this._sizeField]),i},e.prototype.initAttributes=function(){var t=this.attributeOption,i=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=i,delete t.size,r.prototype.initAttributes.call(this)},e}(Fl),Wxt=kse;pi("area","line",{draw:function(r,e){var t=fb(r,!0,!1,this),i=e.addShape({type:"path",attrs:t,name:"area"});return i},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});pi("area","smooth",{draw:function(r,e){var t=this.coordinate,i=fb(r,!1,!0,this,Q3(t)),n=e.addShape({type:"path",attrs:i,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});pi("area","smooth-line",{draw:function(r,e){var t=this.coordinate,i=fb(r,!0,!0,this,Q3(t)),n=e.addShape({type:"path",attrs:i,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function Xk(r,e){return["C",r.x*1/2+e.x*1/2,r.y,r.x*1/2+e.x*1/2,e.y,e.x,e.y]}function e5(r,e){var t=[];t.push({x:e.x,y:e.y}),t.push(r);var i=["Q"];return at(t,function(n){i.push(n.x,n.y)}),i}function Pse(r,e,t){var i=e5(e,t),n=[["M",r.x,r.y]];return n.push(i),n}function Dse(r,e){var t=e5(r[1],e),i=e5(r[3],e),n=[["M",r[0].x,r[0].y]];return n.push(i),n.push(["L",r[3].x,r[3].y]),n.push(["L",r[2].x,r[2].y]),n.push(t),n.push(["L",r[1].x,r[1].y]),n.push(["L",r[0].x,r[0].y]),n.push(["Z"]),n}pi("edge","arc",{draw:function(r,e){var t=qi(r,!0,!1,"lineWidth"),i=r.points,n=i.length>2?"weight":"normal",a;if(r.isInCircle){var o={x:0,y:1};return n==="normal"?a=Pse(i[0],i[1],o):(t.fill=t.stroke,a=Dse(i,o)),a=this.parsePath(a),e.addShape("path",{attrs:S(S({},t),{path:a})})}else{if(n==="normal")return i=this.parsePoints(i),a=n3((i[1].x+i[0].x)/2,i[0].y,Math.abs(i[1].x-i[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:S(S({},t),{path:a})});var s=Xk(i[1],i[3]),l=Xk(i[2],i[0]);return a=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],s,["L",i[3].x,i[3].y],["L",i[2].x,i[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,e.addShape("path",{attrs:S(S({},t),{path:a})})}},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});function Fse(r,e){var t=Xk(r,e),i=[["M",r.x,r.y]];return i.push(t),i}pi("edge","smooth",{draw:function(r,e){var t=qi(r,!0,!1,"lineWidth"),i=r.points,n=this.parsePath(Fse(i[0],i[1]));return e.addShape("path",{attrs:S(S({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var r5=1/3;function Nse(r,e){var t=[];t.push({x:r.x,y:r.y*(1-r5)+e.y*r5}),t.push({x:e.x,y:r.y*(1-r5)+e.y*r5}),t.push(e);var i=[["M",r.x,r.y]];return at(t,function(n){i.push(["L",n.x,n.y])}),i}pi("edge","vhv",{draw:function(r,e){var t=qi(r,!0,!1,"lineWidth"),i=r.points,n=this.parsePath(Nse(i[0],i[1]));return e.addShape("path",{attrs:S(S({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});pi("interval","funnel",{getPoints:function(r){return r.size=r.size*2,TE(r)},draw:function(r,e){var t=qi(r,!1,!0),i=this.parsePath(J3(r.points,r.nextPoints,!1)),n=e.addShape("path",{attrs:S(S({},t),{path:i}),name:"interval"});return n},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});pi("interval","hollow-rect",{draw:function(r,e){var t=qi(r,!0,!1),i=e,n=r==null?void 0:r.background;if(n){i=e.addGroup();var a=O3(r),o=$3(r,this.parsePoints(r.points),this.coordinate);i.addShape("path",{attrs:S(S({},a),{path:o}),capture:!1,zIndex:-1,name:xE})}var s=this.parsePath(Hk(r.points)),l=i.addShape("path",{attrs:S(S({},t),{path:s}),name:"interval"});return n?i:l},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function Bse(r){var e=r.x,t=r.y,i=r.y0;return $t(t)?t.map(function(n,a){return{x:$t(e)?e[a]:e,y:n}}):[{x:e,y:i},{x:e,y:t}]}pi("interval","line",{getPoints:function(r){return Bse(r)},draw:function(r,e){var t=qi(r,!0,!1,"lineWidth"),i=qs(S({},t),["fill"]),n=this.parsePath(Hk(r.points,!1)),a=e.addShape("path",{attrs:S(S({},i),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return[["M",t,i-n],["L",t,i+n]]},style:{r:5,stroke:e}}}});pi("interval","pyramid",{getPoints:function(r){return r.size=r.size*2,TE(r)},draw:function(r,e){var t=qi(r,!1,!0),i=this.parsePath(J3(r.points,r.nextPoints,!0)),n=e.addShape("path",{attrs:S(S({},t),{path:i}),name:"interval"});return n},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});function Rse(r){var e,t=r.x,i=r.y,n=r.y0,a=r.size,o,s;$t(i)?(e=Rt(i,2),o=e[0],s=e[1]):(o=n,s=i);var l=t+a/2,u=t-a/2;return[{x:t,y:o},{x:t,y:s},{x:u,y:o},{x:l,y:o},{x:u,y:s},{x:l,y:s}]}function Gse(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y]]}pi("interval","tick",{getPoints:function(r){return Rse(r)},draw:function(r,e){var t=qi(r,!0,!1),i=this.parsePath(Gse(r.points)),n=e.addShape("path",{attrs:S(S({},t),{path:i}),name:"interval"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return[["M",t-n/2,i-n],["L",t+n/2,i-n],["M",t,i-n],["L",t,i+n],["M",t-n/2,i+n],["L",t+n/2,i+n]]},style:{r:5,stroke:e}}}});var zse=function(r,e,t){var i=r.x,n=r.y,a=e.x,o=e.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:i,y:o}];break;case"hvh":var l=(a+i)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:i,y:u},{x:a,y:u}];break;default:break}return s};function jse(r,e){var t=[];return at(r,function(i,n){var a=r[n+1];if(t.push(i),a){var o=zse(i,a,e);t=t.concat(o)}}),t}function Yse(r){return r.map(function(e,t){return t===0?["M",e.x,e.y]:["L",e.x,e.y]})}function Wse(r,e){var t=XS(r.points,r.connectNulls,r.showSinglePoint),i=[];return at(t,function(n){var a=jse(n,e);i=i.concat(Yse(a))}),S(S({},qi(r,!0,!1,"lineWidth")),{path:i})}at(["hv","vh","hvh","vhv"],function(r){pi("line",r,{draw:function(e,t){var i=Wse(e,r),n=t.addShape({type:"path",attrs:i,name:"line"});return n},getMarker:function(e){return k3(e,r)}})});at(Gxt,function(r){pi("point",r,{draw:function(e,t){return LE(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:id[r],style:{r:4.5,stroke:t,fill:null}}}})});pi("point","image",{draw:function(r,e){var t,i,n=qi(r,!1,!1,"r").r,a=this.parsePoints(r.points),o=a[0];if(r.isStack)o=a[1];else if(a.length>1){var s=e.addGroup();try{for(var l=er(a),u=l.next();!u.done;u=l.next()){var f=u.value;s.addShape("image",{attrs:{x:f.x-n/2,y:f.y-n,width:n,height:n,img:r.shape[1]}})}}catch(c){t={error:c}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}return s}return e.addShape("image",{attrs:{x:o.x-n/2,y:o.y-n,width:n,height:n,img:r.shape[1]}})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4.5,fill:e}}}});at(t5,function(r){pi("point",r,{draw:function(e,t){return LE(this,e,t,r,!1)},getMarker:function(e){var t=e.color;return{symbol:id[r]||r,style:{r:4.5,fill:t}}}})});function Vxt(r){var e=$t(r)?r:[r],t=e[0],i=e[e.length-1],n=e.length>1?e[1]:t,a=e.length>3?e[3]:i,o=e.length>2?e[2]:n;return{min:t,max:i,min1:n,max1:a,median:o}}function qxt(r,e,t){var i=t/2,n;if($t(e)){var a=Vxt(e),o=a.min,s=a.max,l=a.median,u=a.min1,f=a.max1,c=r-i,h=r+i;n=[[c,s],[h,s],[r,s],[r,f],[c,u],[c,f],[h,f],[h,u],[r,u],[r,o],[c,o],[h,o],[c,l],[h,l]]}else{e=Kt(e)?.5:e;var d=Vxt(r),o=d.min,s=d.max,l=d.median,u=d.min1,f=d.max1,v=e-i,p=e+i;n=[[o,v],[o,p],[o,e],[u,e],[u,v],[u,p],[f,p],[f,v],[f,e],[s,e],[s,v],[s,p],[l,v],[l,p]]}return n.map(function(g){return{x:g[0],y:g[1]}})}function Vse(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x,r[10].y],["L",r[11].x,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]}pi("schema","box",{getPoints:function(r){var e=r.x,t=r.y,i=r.size;return qxt(e,t,i)},draw:function(r,e){var t=qi(r,!0,!1),i=this.parsePath(Vse(r.points)),n=e.addShape("path",{attrs:S(S({},t),{path:i,name:"schema"})});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){var a=[i-6,i-3,i,i+3,i+6],o=qxt(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function qse(r){var e=$t(r)?r:[r],t=e.sort(function(i,n){return n-i});return Syt(t,4,t[t.length-1])}function Hxt(r,e,t){var i=qse(e);return[{x:r,y:i[0]},{x:r,y:i[1]},{x:r-t/2,y:i[2]},{x:r-t/2,y:i[1]},{x:r+t/2,y:i[1]},{x:r+t/2,y:i[2]},{x:r,y:i[2]},{x:r,y:i[3]}]}function Hse(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]}pi("schema","candle",{getPoints:function(r){var e=r.x,t=r.y,i=r.size;return Hxt(e,t,i)},draw:function(r,e){var t=qi(r,!0,!0),i=this.parsePath(Hse(r.points)),n=e.addShape("path",{attrs:S(S({},t),{path:i,name:"schema"})});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){var a=[i+7.5,i+3,i-3,i-7.5],o=Hxt(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function Use(r,e){var t=Math.abs(r[0].x-r[2].x),i=Math.abs(r[0].y-r[2].y),n=Math.min(t,i);e&&(n=Qn(e,0,Math.min(t,i))),n=n/2;var a=(r[0].x+r[2].x)/2,o=(r[0].y+r[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}pi("polygon","square",{draw:function(r,e){if(!Ts(r.points)){var t=qi(r,!0,!0),i=this.parsePoints(r.points);return e.addShape("rect",{attrs:S(S({},t),Use(i,r.size)),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});pi("violin","smooth",{draw:function(r,e){var t=qi(r,!0,!0),i=this.parsePath(L3(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{stroke:null,r:4,fill:e}}}});pi("violin","hollow",{draw:function(r,e){var t=qi(r,!0,!1),i=this.parsePath(I3(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});pi("violin","hollow-smooth",{draw:function(r,e){var t=qi(r,!0,!1),i=this.parsePath(L3(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});var Xse=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelValueDir=function(t){var i="y",n=t.points;return n[0][i]<=n[2][i]?1:-1},e.prototype.getLabelOffsetPoint=function(t,i,n,a){var o,s=r.prototype.getLabelOffsetPoint.call(this,t,i,n),l=this.getCoordinate(),u=l.isTransposed,f=u?"x":"y",c=this.getLabelValueDir(t.mappingData);return s=S(S({},s),(o={},o[f]=s[f]*c,o)),l.isReflect("x")&&(s=S(S({},s),{x:s.x*-1})),l.isReflect("y")&&(s=S(S({},s),{y:s.y*-1})),s},e.prototype.getThemedLabelCfg=function(t){var i=this.geometry,n=this.getDefaultLabelCfg(),a=i.theme;return Le({},n,a.labels,t.position==="middle"?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,i,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=i.points,u=o.convert(l[0]),f=o.convert(l[2]),c=this.getLabelValueDir(i),h,d,v,p,g=$t(i.shape)?i.shape[0]:i.shape;if(g==="funnel"||g==="pyramid"){var m=At(i,"nextPoints"),y=At(i,"points");if(m){var x=o.convert(y[0]),b=o.convert(y[1]),_=o.convert(m[0]),M=o.convert(m[1]);s?(h=Math.min(_.y,x.y),v=Math.max(_.y,x.y),d=(b.x+M.x)/2,p=(x.x+_.x)/2):(h=Math.min((b.y+M.y)/2,(x.y+_.y)/2),v=Math.max((b.y+M.y)/2,(x.y+_.y)/2),d=M.x,p=x.x)}else h=Math.min(f.y,u.y),v=Math.max(f.y,u.y),d=f.x,p=u.x}else h=Math.min(f.y,u.y),v=Math.max(f.y,u.y),d=f.x,p=u.x;switch(a){case"right":t.x=d,t.y=(h+v)/2,t.textAlign=At(t,"textAlign",c>0?"left":"right");break;case"left":t.x=p,t.y=(h+v)/2,t.textAlign=At(t,"textAlign",c>0?"left":"right");break;case"bottom":s&&(t.x=(d+p)/2),t.y=v,t.textAlign=At(t,"textAlign","center"),t.textBaseline=At(t,"textBaseline",c>0?"bottom":"top");break;case"middle":s&&(t.x=(d+p)/2),t.y=(h+v)/2,t.textAlign=At(t,"textAlign","center"),t.textBaseline=At(t,"textBaseline","middle");break;case"top":s&&(t.x=(d+p)/2),t.y=h,t.textAlign=At(t,"textAlign","center"),t.textBaseline=At(t,"textBaseline",c>0?"bottom":"top");break;default:break}},e}(US),Uxt=Xse;var i5=Math.PI/2,Zse=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelOffset=function(t){var i=this.getCoordinate(),n=0;if(qr(t))n=t;else if(cr(t)&&t.indexOf("%")!==-1){var a=i.getRadius();i.innerRadius>0&&(a=a*(1-i.innerRadius)),n=parseFloat(t)*.01*a}return n},e.prototype.getLabelItems=function(t){var i=r.prototype.getLabelItems.call(this,t),n=this.geometry.getYScale();return oo(i,function(a){if(a&&n){var o=n.scale(At(a.data,n.field));return S(S({},a),{percent:o})}return a})},e.prototype.getLabelAlign=function(t){var i=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!i.isTransposed)n="center";else{var a=i.getCenter(),o=t.offset;Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},e.prototype.getLabelPoint=function(t,i,n){var a=1,o,s=t.content[n];this.isToMiddle(i)?o=this.getMiddlePoint(i.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(i,n));var l=t.offset*a,u=this.getPointAngle(o),f=t.labelEmit,c=this.getCirclePoint(u,l,o,f);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=i.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,f):t.rotate,c.start={x:o.x,y:o.y},c},e.prototype.getArcPoint=function(t,i){return i===void 0&&(i=0),!$t(t.x)&&!$t(t.y)?{x:t.x,y:t.y}:{x:$t(t.x)?t.x[i]:t.x,y:$t(t.y)?t.y[i]:t.y}},e.prototype.getPointAngle=function(t){return ag(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,i,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=ib(o,n);if(l===0)return S(S({},s),{r:l});var u=t;if(o.isTransposed&&l>i&&!a){var f=Math.asin(i/(2*l));u=t+f*2}else l=l+i;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},e.prototype.getLabelRotate=function(t,i,n){var a=t+i5;return n&&(a-=i5),a&&(a>i5?a=a-Math.PI:a<-i5&&(a=a+Math.PI)),a},e.prototype.getMiddlePoint=function(t){var i=this.getCoordinate(),n=t.length,a={x:0,y:0};return at(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=i.convert(a),a},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(US),n5=Zse;var Kse=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return e.prototype.getDefaultLabelCfg=function(t,i){var n=r.prototype.getDefaultLabelCfg.call(this,t,i);return Le({},n,At(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(t){return r.prototype.getLabelOffset.call(this,t)||0},e.prototype.getLabelRotate=function(t,i,n){var a;return i<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},e.prototype.getLabelAlign=function(t){var i=this.getCoordinate(),n=i.getCenter(),a;return t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right",t.offset<=0&&(a==="right"?a="left":a="right"),a},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var i=this.getCoordinate(),n={x:$t(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:$t(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=ag(i,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=ag(i,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},e.prototype.getCirclePoint=function(t,i){var n=this.getCoordinate(),a=n.getCenter(),o=n.getRadius()+i;return S(S({},Na(a.x,a.y,o,t)),{angle:t,r:o})},e}(n5),Xxt=Kse;var Zxt=4;function Qse(r,e,t,i,n,a){var o,s,l=!0,u=i.start,f=i.end,c=Math.min(u.y,f.y),h=Math.abs(u.y-f.y),d,v=0,p=Number.MIN_VALUE,g=e.map(function(A){return A.y>v&&(v=A.y),A.y<p&&(p=A.y),{size:t,targets:[A.y-c]}});for(p-=c,v-c>h&&(h=v-c);l;)for(g.forEach(function(A){var I=(Math.min.apply(p,A.targets)+Math.max.apply(p,A.targets))/2;A.pos=Math.min(Math.max(p,I-A.size/2),h-A.size)}),l=!1,d=g.length;d--;)if(d>0){var m=g[d-1],y=g[d];m.pos+m.size>y.pos&&(m.size+=y.size,m.targets=m.targets.concat(y.targets),m.pos+m.size>h&&(m.pos=h-m.size),g.splice(d,1),l=!0)}d=0,g.forEach(function(A){var I=c+t/2;A.targets.forEach(function(){e[d].y=A.pos+I,I+=t,d++})});var x={};try{for(var b=er(r),_=b.next();!_.done;_=b.next()){var M=_.value;x[M.get("id")]=M}}catch(A){o={error:A}}finally{try{_&&!_.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}e.forEach(function(A){var I=A.r*A.r,k=Math.pow(Math.abs(A.y-n.y),2);if(I<k)A.x=n.x;else{var E=Math.sqrt(I-k);a?A.x=n.x+E:A.x=n.x-E}var O=x[A.id];O.attr("x",A.x),O.attr("y",A.y);var P=hu(O.getChildren(),function(N){return N.get("type")==="text"});P&&(P.attr("y",A.y),P.attr("x",A.x))})}function Kxt(r,e,t,i){if(!(!r.length||!e.length)){var n=r[0]?r[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,f=u*2+l*2,c={start:a.start,end:a.end},h=[[],[]];r.forEach(function(d){!d||(d.textAlign==="right"?h[0].push(d):h[1].push(d))}),h.forEach(function(d,v){var p=f/l;d.length>p&&(d.sort(function(g,m){return m["..percent"]-g["..percent"]}),d.splice(p,d.length-p)),d.sort(function(g,m){return g.y-m.y}),Qse(e,d,l,c,s,v)})}at(r,function(d){if(d&&d.labelLine){var v=d.offset,p=d.angle,g=Na(s.x,s.y,o,p),m=Na(s.x,s.y,o+v/2,p),y=d.x+At(d,"offsetX",0),x=d.y+At(d,"offsetY",0),b={x:y-Math.cos(p)*Zxt,y:x-Math.sin(p)*Zxt};Gi(d.labelLine)||(d.labelLine={}),d.labelLine.path=["M ".concat(g.x),"".concat(g.y," Q").concat(m.x),"".concat(m.y," ").concat(b.x),b.y].join(",")}})}}function a5(r,e,t){var i=r.filter(function(v){return!v.invisible});i.sort(function(v,p){return v.y-p.y});var n=!0,a=t.minY,o=t.maxY,s=Math.abs(a-o),l,u=0,f=Number.MIN_VALUE,c=i.map(function(v){return v.y>u&&(u=v.y),v.y<f&&(f=v.y),{content:v.content,size:e,targets:[v.y-a],pos:null}});for(f-=a,u-a>s&&(s=u-a);n;)for(c.forEach(function(v){var p=(Math.min.apply(f,v.targets)+Math.max.apply(f,v.targets))/2;v.pos=Math.min(Math.max(f,p-v.size/2),s-v.size),v.pos=Math.max(0,v.pos)}),n=!1,l=c.length;l--;)if(l>0){var h=c[l-1],d=c[l];h.pos+h.size>d.pos&&(h.size+=d.size,h.targets=h.targets.concat(d.targets),h.pos+h.size>s&&(h.pos=s-h.size),c.splice(l,1),n=!0)}l=0,c.forEach(function(v){var p=a+e/2;v.targets.forEach(function(){i[l].y=v.pos+p,p+=e,l++})})}var Qxt=4;function $se(r,e){var t=e.getCenter(),i=e.getRadius();if(r&&r.labelLine){var n=r.angle,a=r.offset,o=Na(t.x,t.y,i,n),s=r.x+At(r,"offsetX",0)*(Math.cos(n)>0?1:-1),l=r.y+At(r,"offsetY",0)*(Math.sin(n)>0?1:-1),u={x:s-Math.cos(n)*Qxt,y:l-Math.sin(n)*Qxt},f=r.labelLine.smooth,c=[],h=u.x-t.x,d=u.y-t.y,v=Math.atan(d/h);if(h<0&&(v+=Math.PI),f===!1){Gi(r.labelLine)||(r.labelLine={});var p=0;(n<0&&n>-Math.PI/2||n>Math.PI*1.5)&&u.y>o.y&&(p=1),n>=0&&n<Math.PI/2&&u.y>o.y&&(p=1),n>=Math.PI/2&&n<Math.PI&&o.y>u.y&&(p=1),(n<-Math.PI/2||n>=Math.PI&&n<Math.PI*1.5)&&o.y>u.y&&(p=1);var g=a/2>4?4:Math.max(a/2-1,0),m=Na(t.x,t.y,i+g,n),y=Na(t.x,t.y,i+a/2,v),x=0;c.push("M ".concat(o.x," ").concat(o.y)),c.push("L ".concat(m.x," ").concat(m.y)),c.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(x," ").concat(p," ").concat(y.x," ").concat(y.y)),c.push("L ".concat(u.x," ").concat(u.y))}else{var m=Na(t.x,t.y,i+(a/2>4?4:Math.max(a/2-1,0)),n),b=o.x<t.x?1:-1;c.push("M ".concat(u.x," ").concat(u.y));var _=(o.y-t.y)/(o.x-t.x),M=(u.y-t.y)/(u.x-t.x);Math.abs(_-M)>Math.pow(Math.E,-16)&&c.push.apply(c,["C",u.x+b*4,u.y,2*m.x-o.x,2*m.y-o.y,o.x,o.y]),c.push("L ".concat(o.x," ").concat(o.y))}r.labelLine.path=c.join(" ")}}function $xt(r,e,t,i){var n,a,o=ho(r,function(I){return!Kt(I)}),s=e[0]&&e[0].get("coordinate");if(!!s){var l=s.getCenter(),u=s.getRadius(),f={};try{for(var c=er(e),h=c.next();!h.done;h=c.next()){var d=h.value;f[d.get("id")]=d}}catch(I){n={error:I}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}var v=At(o[0],"labelHeight",14),p=At(o[0],"offset",0);if(!(p<=0)){var g="left",m="right",y=Ll(o,function(I){return I.x<l.x?g:m}),x=s.start,b=s.end,_=Math.min((u+p+v)*2,s.getHeight()),M=_/2,A={minX:x.x,maxX:b.x,minY:l.y-M,maxY:l.y+M};at(y,function(I,k){var E=Math.floor(_/v);I.length>E&&(I.sort(function(O,P){return P.percent-O.percent}),at(I,function(O,P){P+1>E&&(f[O.id].set("visible",!1),O.invisible=!0)})),a5(I,v,A)}),at(y,function(I,k){at(I,function(E){var O=k===m,P=f[E.id],N=P.getChildByIndex(0);if(N){var R=u+p,z=E.y-l.y,B=Math.pow(R,2),Y=Math.pow(z,2),q=B-Y>0?B-Y:0,j=Math.sqrt(q),Z=Math.abs(Math.cos(E.angle)*R);O?E.x=l.x+Math.max(j,Z):E.x=l.x-Math.max(j,Z)}N&&(N.attr("y",E.y),N.attr("x",E.x)),$se(E,s)})})}}}var IX=4,Jse=4,Jxt=4;function tle(r,e,t){var i=e.getCenter(),n=e.getRadius(),a={x:r.x-(t?Jxt:-Jxt),y:r.y},o=Na(i.x,i.y,n+IX,r.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},u=Na(i.x,i.y,n,r.angle),f="";if(a.y!==o.y){var c=t?4:-4;s.y=a.y,r.angle<0&&r.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-c),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-c))),r.angle>0&&r.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-c),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-c))),r.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-c),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-c))),r.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-c),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-c)))}f=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),r.labelLine=Le({},r.labelLine,{path:f})}function t1t(r,e,t,i){var n,a,o=e[0]&&e[0].get("coordinate");if(!!o){var s=o.getCenter(),l=o.getRadius(),u={};try{for(var f=er(e),c=f.next();!c.done;c=f.next()){var h=c.value;u[h.get("id")]=h}}catch(I){n={error:I}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}var d=At(r[0],"labelHeight",14),v=Math.max(At(r[0],"offset",0),IX);at(r,function(I){if(!!I){var k=At(u,[I.id]);if(!!k){var E=I.x>s.x||I.x===s.x&&I.y>s.y,O=Kt(I.offsetX)?Jse:I.offsetX,P=Na(s.x,s.y,l+IX,I.angle),N=v+O;I.x=s.x+(E?1:-1)*(l+N),I.y=P.y}}});var p=o.start,g=o.end,m="left",y="right",x=Ll(r,function(I){return I.x<s.x?m:y}),b=(l+v)*2+d;at(x,function(I){var k=I.length*d;k>b&&(b=Math.min(k,Math.abs(p.y-g.y)))});var _={minX:p.x,maxX:g.x,minY:s.y-b/2,maxY:s.y+b/2};at(x,function(I,k){var E=b/d;I.length>E&&(I.sort(function(O,P){return P.percent-O.percent}),at(I,function(O,P){P>E&&(u[O.id].set("visible",!1),O.invisible=!0)})),a5(I,d,_)});var M=_.minY,A=_.maxY;at(x,function(I,k){var E=k===y;at(I,function(O){var P=At(u,O&&[O.id]);if(!!P){if(O.y<M||O.y>A){P.set("visible",!1);return}var N=P.getChildByIndex(0),R=N.getCanvasBBox(),z={x:E?R.x:R.maxX,y:R.y+R.height/2};a0(N,O.x-z.x,O.y-z.y),O.labelLine&&tle(O,o,E)}})})}}function e1t(r,e,t,i){at(e,function(n){var a=i.minX,o=i.minY,s=i.maxX,l=i.maxY,u=n.getCanvasBBox(),f=u.minX,c=u.minY,h=u.maxX,d=u.maxY,v=u.x,p=u.y,g=u.width,m=u.height,y=v,x=p;(f<a||h<a)&&(y=a),(c<o||d<o)&&(x=o),f>s?y=s-g:h>s&&(y=y-(h-s)),c>l?x=l-m:d>l&&(x=x-(d-l)),(y!==v||x!==p)&&a0(n,y-v,x-p)})}function r1t(r,e,t,i){at(e,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var ele=100,i1t=function(){function r(e){e===void 0&&(e={}),this.bitmap={};var t=e.xGap,i=t===void 0?1:t,n=e.yGap,a=n===void 0?8:n;this.xGap=i,this.yGap=a}return r.prototype.hasGap=function(e){for(var t=!0,i=this.bitmap,n=Math.round(e.minX),a=Math.round(e.maxX),o=Math.round(e.minY),s=Math.round(e.maxY),l=n;l<=a;l+=1){if(!i[l]){i[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(i[l][u]){t=!1;break}}else if(i[l][o]||i[l][s]){t=!1;break}}return t},r.prototype.fillGap=function(e){for(var t=this.bitmap,i=Math.round(e.minX),n=Math.round(e.maxX),a=Math.round(e.minY),o=Math.round(e.maxY),s=i;s<=n;s+=1)t[s]||(t[s]={});for(var s=i;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[i][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=i;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},r.prototype.destroy=function(){this.bitmap={}},r}();function rle(r,e,t){t===void 0&&(t=ele);var i=-1,n=r.attr(),a=n.x,o=n.y,s=r.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,f=-i,c=0,h=0,d=function(m){var y=m*.1;return[y*Math.cos(y),y*Math.sin(y)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var v=!1,p=0,g={};Math.min(Math.abs(c),Math.abs(h))<l&&p<t;)if(u=d(f+=i),c=~~u[0],h=~~u[1],!(!c&&!h||g["".concat(c,"-").concat(h)])&&(r.attr({x:a+c,y:o+h}),c+h<0&&r.attr("textAlign","right"),p++,e.hasGap(r.getCanvasBBox()))){e.fillGap(r.getCanvasBBox()),v=!0,g["".concat(c,"-").concat(h)]=!0;break}return v}function ile(r,e,t,i){var n=r.getCanvasBBox(),a=n.width,o=n.height,s={x:e,y:t,textAlign:"center"};switch(i){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return r.attr(s),r.getCanvasBBox()}function n1t(r,e,t,i){var n=new i1t;at(e,function(a){var o=a.find(function(s){return s.get("type")==="text"});rle(o,n)||a.remove(!0)}),n.destroy()}function a1t(r,e,t,i){var n=new i1t;at(e,function(a){for(var o=a.find(function(d){return d.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,f=!1,c=0;c<=8;c++){var h=ile(o,l,u,c);if(n.hasGap(h)){n.fillGap(h),f=!0;break}}f||a.remove(!0)}),n.destroy()}function nle(r,e){return(r[0]||0)*(e[0]||0)+(r[1]||0)*(e[1]||0)+(r[2]||0)*(e[2]||0)}function o1t(r){if(r.length>4)return[];var e=function(n,a){return[a.x-n.x,a.y-n.y]},t=e(r[0],r[1]),i=e(r[1],r[2]);return[t,i]}function o5(r,e,t){e===void 0&&(e=0),t===void 0&&(t={x:0,y:0});var i=r.x,n=r.y;return{x:(i-t.x)*Math.cos(-e)+(n-t.y)*Math.sin(-e)+t.x,y:(t.x-i)*Math.sin(-e)+(n-t.y)*Math.cos(-e)+t.y}}function s1t(r){var e=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],t=r.rotation;return t?[o5(e[0],t,e[0]),o5(e[1],t,e[0]),o5(e[2],t,e[0]),o5(e[3],t,e[0])]:e}function l1t(r,e){if(r.length>4)return{min:0,max:0};var t=[];return r.forEach(function(i){t.push(nle([i.x,i.y],e))}),{min:Math.min.apply(Math,ne([],Rt(t),!1)),max:Math.max.apply(Math,ne([],Rt(t),!1))}}function ale(r,e){return r.max>e.min&&r.min<e.max}function ole(r){return typeof r=="number"&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0}function u1t(r){return["x","y","width","height"].every(function(e){return ole(r[e])})}function sle(r,e,t){return t===void 0&&(t=0),!(e.x>r.x+r.width+t||e.x+e.width<r.x-t||e.y>r.y+r.height+t||e.y+e.height<r.y-t)}function f1t(r,e,t){if(t===void 0&&(t=0),!u1t(r)||!u1t(e))return!1;if(!r.rotation&&!e.rotation)return sle(r,e,t);for(var i=s1t(r),n=s1t(e),a=o1t(i).concat(o1t(n)),o=0;o<a.length;o++){var s=a[o],l=l1t(i,s),u=l1t(n,s);if(!ale(l,u))return!1}return!0}var lle=function(){function r(e){var t=this;this.queue=[],this.worker=new Worker(e),this.worker.onmessage=function(i){var n;(n=t.queue.shift())===null||n===void 0||n.resolve(i)},this.worker.onmessageerror=function(i){var n;console.warn("[AntV G2] Web worker is not available"),(n=t.queue.shift())===null||n===void 0||n.reject(i)}}return r.prototype.post=function(e,t){var i=this;return new Promise(function(n,a){i.queue.push({resolve:n,reject:a});try{i.worker.postMessage(e)}catch(o){console.warn("[AntV G2] Web worker is not available"),nr(t)&&t()}})},r.prototype.destroy=function(){this.worker.terminate()},r}();function c1t(r){if(typeof window!="undefined"){var e;try{e=new Blob([r.toString()],{type:"application/javascript"})}catch(t){e=new window.BlobBuilder,e.append(r.toString()),e=e.getBlob()}return new lle(URL.createObjectURL(e))}}var ule=function(r){function e(){function u(x,b){return(x[0]||0)*(b[0]||0)+(x[1]||0)*(b[1]||0)+(x[2]||0)*(b[2]||0)}function f(x){if(x.length>4)return[];var b=function(A,I){return[I.x-A.x,I.y-A.y]},_=b(x[0],x[1]),M=b(x[1],x[2]);return[_,M]}function c(x,b,_){b===void 0&&(b=0),_===void 0&&(_={x:0,y:0});var M=x.x,A=x.y;return{x:(M-_.x)*Math.cos(-b)+(A-_.y)*Math.sin(-b)+_.x,y:(_.x-M)*Math.sin(-b)+(A-_.y)*Math.cos(-b)+_.y}}function h(x){var b=[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}],_=x.rotation;return _?[c(b[0],_,b[0]),c(b[1],_,b[0]),c(b[2],_,b[0]),c(b[3],_,b[0])]:b}function d(x,b){if(x.length>4)return{min:0,max:0};var _=[];return x.forEach(function(M){_.push(u([M.x,M.y],b))}),{min:Math.min.apply(null,_),max:Math.max.apply(null,_)}}function v(x,b){return x.max>b.min&&x.min<b.max}function p(x){return typeof x=="number"&&!Number.isNaN(x)&&x!==1/0&&x!==-1/0}function g(x){return["x","y","width","height"].every(function(b){return p(x[b])})}function m(x,b,_){return _===void 0&&(_=0),!(b.x>x.x+x.width+_||b.x+b.width<x.x-_||b.y>x.y+x.height+_||b.y+b.height<x.y-_)}function y(x,b,_){if(_===void 0&&(_=0),!g(x)||!g(b))return!1;if(!x.rotation&&!b.rotation)return m(x,b,_);for(var M=h(x),A=h(b),I=f(M).concat(f(A)),k=0;k<I.length;k++){var E=I[k],O=d(M,E),P=d(A,E);if(!v(O,P))return!1}return!0}return{intersect:y}}var t=e().intersect;function i(u){for(var f=u.slice(),c=0;c<f.length;c++){var h=f[c];if(h.visible)for(var d=c+1;d<f.length;d++){var v=f[d];h!==v&&v.visible&&t(h,v)&&(v.visible=!1)}}return f}var n={"hide-overlap":i};try{var a=JSON.parse(r.data);if(!a||!a.type||!n[a.type])return;var o=a.type,s=a.items,l=n[o](s);self.postMessage(l)}catch(u){throw u}},h1t=`
   self.onmessage = `.concat(ule.toString(),`
`);var LX=function(r){for(var e=r.slice(),t=0;t<e.length;t++){var i=e[t];if(i.visible)for(var n=t+1;n<e.length;n++){var a=e[n];i!==a&&a.visible&&f1t(i,a)&&(a.visible=!1)}}return e},OX=new Map,d1t=c1t(h1t);function v1t(r,e,t,i){return ta(this,void 0,void 0,function(){var n,a,o,s,l,u;return ea(this,function(f){switch(f.label){case 0:return n=e.map(function(c,h){return S(S({},A3(c,r[h],At(r[h],"background.padding"))),{visible:!0})}),a=JSON.stringify(n),o=function(c){return OX.set(a,c),at(c,function(h,d){var v=h.visible,p=e[d];v?p==null||p.show():p==null||p.hide()}),c},OX.get(a)?(o(OX.get(a)),[3,7]):[3,1];case 1:if(!d1t)return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),s=JSON.stringify({type:"hide-overlap",items:n}),[4,d1t.post(s,function(){return o(LX(n))})];case 3:return l=f.sent(),o(Array.isArray(l.data)?l.data:[]),[3,5];case 4:return u=f.sent(),console.error(u),o(LX(n)),[3,5];case 5:return[3,7];case 6:o(LX(n)),f.label=7;case 7:return[2]}})})}var p1t={"#5B8FF9":!0},g1t=function(r){var e=Uy.toRGB(r).toUpperCase();if(p1t[e])return p1t[e];var t=Rt(Uy.rgb2arr(e),3),i=t[0],n=t[1],a=t[2],o=(i*299+n*587+a*114)/1e3<128;return o};function m1t(r,e,t){if(t.length!==0){var i=t[0].get("element"),n=i.geometry.theme,a=n.labels||{},o=a.fillColorLight,s=a.fillColorDark;t.forEach(function(l,u){var f=e[u],c=f.find(function(m){return m.get("type")==="text"}),h=To.fromObject(l.getBBox()),d=To.fromObject(c.getCanvasBBox()),v=!h.contains(d),p=l.attr("fill"),g=g1t(p);v?c.attr(n.overflowLabels.style):g?o&&c.attr("fill",o):s&&c.attr("fill",s)})}}function fle(r,e,t){var i=r.coordinate,n=Ov(e),a=To.fromObject(n.getCanvasBBox()),o=To.fromObject(t.getBBox());return i.isTransposed?o.height>=a.height:o.width>=a.width}function cle(r,e,t){var i=!!r.getAdjust("stack");return i||e.every(function(n,a){var o=t[a];return fle(r,n,o)})}function hle(r,e,t){var i=r.coordinate,n=To.fromObject(t.getBBox()),a=Ov(e);i.isTransposed?a.attr({x:n.minX+n.width/2,textAlign:"center"}):a.attr({y:n.minY+n.height/2,textBaseline:"middle"})}function y1t(r,e,t){var i;if(t.length!==0){var n=(i=t[0])===null||i===void 0?void 0:i.get("element"),a=n==null?void 0:n.geometry;if(!(!a||a.type!=="interval")){var o=cle(a,e,t);o&&t.forEach(function(s,l){var u=e[l];hle(a,u,s)})}}}function dle(r){var e=500,t=[],i=Math.max(Math.floor(r.length/e),1);return at(r,function(n,a){a%i==0?t.push(n):n.set("visible",!1)}),t}function x1t(r,e,t){var i;if(t.length!==0){var n=(i=t[0])===null||i===void 0?void 0:i.get("element"),a=n==null?void 0:n.geometry;if(!(!a||a.type!=="interval")){var o=dle(e),s=Rt(a.getXYFields(),1),l=s[0],u=[],f=[],c=Ll(o,function(g){return g.get("data")[l]}),h=xS(oo(o,function(g){return g.get("data")[l]})),d;o.forEach(function(g){g.set("visible",!0)});var v=function(g){g&&(g.length&&f.push(g.pop()),f.push.apply(f,ne([],Rt(g),!1)))};for(Mo(h)>0&&(d=h.shift(),v(c[d])),Mo(h)>0&&(d=h.pop(),v(c[d])),at(h.reverse(),function(g){v(c[g])});f.length>0;){var p=f.shift();p.get("visible")&&(M0t(p,u)?p.set("visible",!1):u.push(p))}}}}function vle(r,e){var t=r.getXYFields()[1],i=[],n=e.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return n.length>0&&i.push(n.shift()),n.length>0&&i.push(n.pop()),i.push.apply(i,ne([],Rt(n),!1)),i}function b1t(r,e,t){return r.some(function(i){return t(i,e)})}function ple(r,e,t){t===void 0&&(t=0);var i=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return i*n}function w1t(r,e){return b1t(r,e,function(t,i){var n=Ov(t),a=Ov(i);return ple(n.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function _1t(r,e,t,i,n){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||l.type!=="point")){var u=Rt(l.getXYFields(),2),f=u[0],c=u[1],h=Ll(e,function(p){return p.get("data")[f]}),d=[],v=n&&n.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;oo(_v(h).reverse(),function(p){for(var g=vle(l,h[p]);g.length;){var m=g.shift(),y=Ov(m);if(b1t(d,m,function(_,M){return _.get("data")[f]===M.get("data")[f]&&_.get("data")[c]===M.get("data")[c]})){y.set("visible",!1);continue}var x=w1t(d,m),b=!1;if(x&&(y.attr("y",y.attr("y")+2*v),b=w1t(d,m)),b){y.set("visible",!1);continue}d.push(m)}})}}}function gle(r,e){var t=r.getXYFields()[1],i=[],n=e.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return n.length>0&&i.push(n.shift()),n.length>0&&i.push(n.pop()),i.push.apply(i,ne([],Rt(n),!1)),i}function S1t(r,e,t){return r.some(function(i){return t(i,e)})}function mle(r,e,t){t===void 0&&(t=0);var i=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return i*n}function C1t(r,e){return S1t(r,e,function(t,i){var n=Ov(t),a=Ov(i);return mle(n.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function M1t(r,e,t,i,n){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||["path","line","area"].indexOf(l.type)<0)){var u=Rt(l.getXYFields(),2),f=u[0],c=u[1],h=Ll(e,function(p){return p.get("data")[f]}),d=[],v=n&&n.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;oo(_v(h).reverse(),function(p){for(var g=gle(l,h[p]);g.length;){var m=g.shift(),y=Ov(m);if(S1t(d,m,function(_,M){return _.get("data")[f]===M.get("data")[f]&&_.get("data")[c]===M.get("data")[c]})){y.set("visible",!1);continue}var x=C1t(d,m),b=!1;if(x&&(y.attr("y",y.attr("y")+2*v),b=C1t(d,m)),b){y.set("visible",!1);continue}d.push(m)}})}}}var kX;function A1t(){return kX||(kX=document.createElement("canvas").getContext("2d")),kX}var s5=jy(function(r,e){e===void 0&&(e={});var t=e.fontSize,i=e.fontFamily,n=e.fontWeight,a=e.fontStyle,o=e.fontVariant,s=A1t();return s.font=[a,o,n,"".concat(t,"px"),i].join(" "),s.measureText(cr(r)?r:"").width},function(r,e){return e===void 0&&(e={}),ne([r],Rt(P1(e)),!1).join("")}),E1t=function(r,e,t){var i=16,n=s5("...",t),a;cr(r)?a=r:a=Cv(r);var o=e,s=[],l,u;if(s5(r,t)<=e)return r;for(;l=a.substr(0,i),u=s5(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(i),!a)return s.join("");for(;l=a.substr(0,1),u=s5(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return"".concat(s.join(""),"...")};function T1t(r,e,t,i,n){if(!(e.length<=0)){var a=(n==null?void 0:n.direction)||["top","right","bottom","left"],o=(n==null?void 0:n.action)||"translate",s=(n==null?void 0:n.margin)||0,l=e[0].get("coordinate");if(!!l){var u=Eyt(l,s),f=u.minX,c=u.minY,h=u.maxX,d=u.maxY;at(e,function(v){var p=v.getCanvasBBox(),g=p.minX,m=p.minY,y=p.maxX,x=p.maxY,b=p.x,_=p.y,M=p.width,A=p.height,I=b,k=_;if(a.indexOf("left")>=0&&(g<f||y<f)&&(I=f),a.indexOf("top")>=0&&(m<c||x<c)&&(k=c),a.indexOf("right")>=0&&(g>h?I=h-M:y>h&&(I=I-(y-h))),a.indexOf("bottom")>=0&&(m>d?k=d-A:x>d&&(k=k-(x-d))),I!==b||k!==_){var E=I-b;if(o==="translate")a0(v,E,k-_);else if(o==="ellipsis"){var O=v.findAll(function(P){return P.get("type")==="text"});O.forEach(function(P){var N=bS(P.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),R=P.getCanvasBBox(),z=E1t(P.attr("text"),R.width-Math.abs(E),N);P.attr("text",z)})}else v.hide()}})}}}function I1t(r,e,t){var i={fillOpacity:Kt(r.attr("fillOpacity"))?1:r.attr("fillOpacity"),strokeOpacity:Kt(r.attr("strokeOpacity"))?1:r.attr("strokeOpacity"),opacity:Kt(r.attr("opacity"))?1:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),r.animate(i,e)}function L1t(r,e,t){var i={fillOpacity:0,strokeOpacity:0,opacity:0},n=e.easing,a=e.duration,o=e.delay;r.animate(i,a,n,function(){r.remove(!0)},o)}function yle(r,e,t){var i,n=Rt(e,2),a=n[0],o=n[1];return r.applyToMatrix([a,o,1]),t==="x"?(r.setMatrix(Ni.transform(r.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),i=Ni.transform(r.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):t==="y"?(r.setMatrix(Ni.transform(r.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),i=Ni.transform(r.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):t==="xy"&&(r.setMatrix(Ni.transform(r.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),i=Ni.transform(r.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),i}function l5(r,e,t,i,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,f;n==="y"?(u=a.x+s/2,f=i.y<a.y?i.y:a.y):n==="x"?(u=i.x>a.x?i.x:a.x,f=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,f=t.getCenter().y):(u=(a.x+o.x)/2,f=(a.y+o.y)/2));var c=yle(r,[u,f],n);r.animate({matrix:c},e)}function O1t(r,e,t){var i=t.coordinate,n=t.minYPoint;l5(r,e,i,n,"x")}function k1t(r,e,t){var i=t.coordinate,n=t.minYPoint;l5(r,e,i,n,"y")}function P1t(r,e,t){var i=t.coordinate,n=t.minYPoint;l5(r,e,i,n,"xy")}function D1t(r,e,t){var i=r.getTotalLength();r.attr("lineDash",[i]),r.animate(function(n){return{lineDashOffset:(1-n)*i}},e)}function F1t(r,e,t){var i=t.toAttrs,n=i.x,a=i.y;delete i.x,delete i.y,r.attr(i),r.animate({x:n,y:a},e)}function N1t(r,e,t){var i=r.getBBox(),n=r.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?i.maxX:i.minX,s=(i.minY+i.maxY)/2;r.applyToMatrix([o,s,1]);var l=Ni.transform(r.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);r.setMatrix(l),r.animate({matrix:Ni.transform(r.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},e)}function B1t(r,e,t){var i=r.getBBox(),n=r.get("origin").mappingData,a=(i.minX+i.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?i.maxY:i.minY;r.applyToMatrix([a,s,1]);var l=Ni.transform(r.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);r.setMatrix(l),r.animate({matrix:Ni.transform(r.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},e)}function R1t(r,e){var t,i=lb(r,e),n=i.startAngle,a=i.endAngle;return!Oa(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!Oa(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),e[5]===0&&(t=Rt([a,n],2),n=t[0],a=t[1]),Oa(n,Math.PI*1.5)&&(n=Math.PI*-.5),Oa(a,Math.PI*-.5)&&!Oa(n,a)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function G1t(r){var e;return r[0]==="M"||r[0]==="L"?e=[r[1],r[2]]:(r[0]==="a"||r[0]==="A"||r[0]==="C")&&(e=[r[r.length-2],r[r.length-1]]),e}function z1t(r){var e,t,i,n=r.filter(function(x){return x[0]==="A"||x[0]==="a"});if(n.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=n[0],o=n.length>1?n[1]:n[0],s=r.indexOf(a),l=r.indexOf(o),u=G1t(r[s-1]),f=G1t(r[l-1]),c=R1t(u,a),h=c.startAngle,d=c.endAngle,v=R1t(f,o),p=v.startAngle,g=v.endAngle;Oa(h,p)&&Oa(d,g)?(t=h,i=d):(t=Math.min(h,p),i=Math.max(d,g));var m=a[1],y=n[n.length-1][1];return m<y?(e=Rt([y,m],2),m=e[0],y=e[1]):m===y&&(y=0),{startAngle:t,endAngle:i,radius:m,innerRadius:y}}function j1t(r,e,t){var i=t.toAttrs,n=t.coordinate,a=i.path||[],o=a.map(function(y){return y[0]});if(!(a.length<1)){var s=z1t(a),l=s.startAngle,u=s.endAngle,f=s.radius,c=s.innerRadius,h=z1t(r.attr("path")),d=h.startAngle,v=h.endAngle,p=n.getCenter(),g=l-d,m=u-v;if(g===0&&m===0){r.attr(i);return}r.animate(function(y){var x=d+y*g,b=v+y*m;return S(S({},i),{path:xn(o,["M","A","A","Z"])?n3(p.x,p.y,f,x,b):ed(p.x,p.y,f,x,b,c)})},S(S({},e),{callback:function(){r.attr("path",a),nr(e.callback)&&e.callback()}}))}}function Y1t(r,e,t){var i=cE(t.coordinate,20),n=i.type,a=i.startState,o=i.endState,s=r.setClip({type:n,attrs:a});t.toAttrs&&r.attr(t.toAttrs),s.animate(o,S(S({},e),{callback:function(){r&&!r.get("destroyed")&&r.set("clipShape",null),s.remove(!0),nr(e.callback)&&e.callback()}}))}function PX(r,e,t){if(r.isGroup())at(r.getChildren(),function(s){PX(s,e,t)});else{var i=r.getBBox(),n=(i.minX+i.maxX)/2,a=(i.minY+i.maxY)/2;if(r.applyToMatrix([n,a,1]),t==="zoomIn"){var o=Ni.transform(r.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);r.setMatrix(o),r.animate({matrix:Ni.transform(r.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},e)}else r.animate({matrix:Ni.transform(r.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},S(S({},e),{callback:function(){r.remove(!0),nr(e.callback)&&e.callback()}}))}}function W1t(r,e,t){PX(r,e,"zoomIn")}function V1t(r,e,t){PX(r,e,"zoomOut")}function Qu(r){return[Ne.TOP,Ne.BOTTOM].includes(r)?{offsetX:0,offsetY:r===Ne.TOP?-8:8,style:{textAlign:"center",textBaseline:r===Ne.TOP?"bottom":"top"}}:[Ne.LEFT,Ne.RIGHT].includes(r)?{offsetX:r===Ne.LEFT?-8:8,offsetY:0,style:{textAlign:r===Ne.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function u5(r,e,t){return{x:r.x+e*Math.cos(t),y:r.y+e*Math.sin(t)}}var xle=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Le({},r.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,i){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*i,l=n/(1+1/Math.sin(o/2)),u=u5(a,n-l,s),f=Math.PI*5/4,c=Math.PI*1/4;return{start:u5(u,l,f),end:u5(u,l,c)}},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.generateFacets=function(t){var i=this,n=this.cfg,a=n.fields,o=n.type,s=Rt(a,1),l=s[0];if(!l)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,l),f=u.length,c=[];return u.forEach(function(h,d){var v=[{field:l,value:h,values:u}],p=ho(t,i.getFacetDataFilter(v)),g={type:o,data:p,region:i.getRegion(f,d),columnValue:h,columnField:l,columnIndex:d,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};c.push(g)}),c},e.prototype.getXAxisOption=function(t,i,n,a){return n},e.prototype.getYAxisOption=function(t,i,n,a){return n},e.prototype.renderTitle=function(){var t=this;at(this.facets,function(i){var n=i.columnValue,a=i.view,o=At(t.cfg.title,"formatter"),s=Le({position:["50%","0%"],content:o?o(n):n},Qu(Ne.TOP),t.cfg.title);a.annotation().text(s)})},e}(Wf),q1t=xle;var ble=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Le({},r.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.generateFacets=function(t){var i=this,n=this.cfg.fields,a=this.cfg.cols,o=Rt(n,1),s=o[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length;a=a||u;var f=this.getPageCount(u,a),c=[];return l.forEach(function(h,d){var v=i.getRowCol(d,a),p=v.row,g=v.col,m=[{field:s,value:h,values:l}],y=ho(t,i.getFacetDataFilter(m)),x={type:i.cfg.type,data:y,region:i.getRegion(f,a,g,p),columnValue:h,rowValue:h,columnField:s,rowField:null,columnIndex:g,rowIndex:p,columnValuesLength:a,rowValuesLength:f,total:u};c.push(x)}),c},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?S(S({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.columnIndex!==0?S(S({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;at(this.facets,function(i){var n=i.columnValue,a=i.view,o=At(t.cfg.title,"formatter"),s=Le({position:["50%","0%"],content:o?o(n):n},Qu(Ne.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.getPageCount=function(t,i){return Math.floor((t+i-1)/i)},e.prototype.getRowCol=function(t,i){var n=Math.floor(t/i),a=t%i;return{row:n,col:a}},e}(Wf),H1t=ble;var wle=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Le({},r.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:S({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:S({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.generateFacets=function(t){for(var i=this.cfg,n=i.fields,a=i.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var f=n[u],c=0;c<o;c++){var h=n[c],d={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:f,rowValue:h,columnField:f,rowField:h,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(d)}return l},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1?S(S({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.columnIndex!==0?S(S({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;at(this.facets,function(i,n){var a=i.columnIndex,o=i.rowIndex,s=i.columnValuesLength,l=i.rowValuesLength,u=i.columnValue,f=i.rowValue,c=i.view;if(o===0){var h=At(t.cfg.columnTitle,"formatter"),d=Le({position:["50%","0%"],content:h?h(u):u},Qu(Ne.TOP),t.cfg.columnTitle);c.annotation().text(d)}if(a===s-1){var h=At(t.cfg.rowTitle,"formatter"),d=Le({position:["100%","50%"],content:h?h(f):f},Qu(Ne.RIGHT),t.cfg.rowTitle);c.annotation().text(d)}})},e}(Wf),U1t=wle;var _le=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return Le({},r.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,i){this.cfg.transpose?i.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():i.rowIndex%2!=0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.generateFacets=function(t){var i=this,n=Rt(this.cfg.fields,1),a=n[0],o=[],s=1,l=1,u=[""],f=[""],c,h;return this.cfg.transpose?(c=a,u=this.getFieldValues(t,c).slice(0,2),s=u.length):(h=a,f=this.getFieldValues(t,h).slice(0,2),l=f.length),u.forEach(function(d,v){f.forEach(function(p,g){var m=[{field:c,value:d,values:u},{field:h,value:p,values:f}],y=ho(t,i.getFacetDataFilter(m)),x={type:i.cfg.type,data:y,region:i.getRegion(l,s,v,g),columnValue:d,rowValue:p,columnField:c,rowField:h,columnIndex:v,rowIndex:g,columnValuesLength:s,rowValuesLength:l};o.push(x)})}),o},e.prototype.getXAxisOption=function(t,i,n,a){return a.columnIndex===1||a.rowIndex===1?S(S({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return n},e.prototype.renderTitle=function(){var t=this;at(this.facets,function(i,n){var a=i.columnValue,o=i.rowValue,s=i.view,l=At(t.cfg.title,"formatter");if(t.cfg.transpose){var u=Le({position:["50%","0%"],content:l?l(a):a},Qu(Ne.TOP),t.cfg.title);s.annotation().text(u)}else{var u=Le({position:["100%","50%"],content:l?l(o):o},Qu(Ne.RIGHT),t.cfg.title);s.annotation().text(u)}})},e}(Wf),X1t=_le;var Sle=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.getDefaultCfg=function(){return Le({},r.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:S({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:S({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var i=this,n=Rt(this.cfg.fields,2),a=n[0],o=n[1],s=[],l=1,u=1,f=[""],c=[""];return a&&(f=this.getFieldValues(t,a),l=f.length),o&&(c=this.getFieldValues(t,o),u=c.length),f.forEach(function(h,d){c.forEach(function(v,p){var g=[{field:a,value:h,values:f},{field:o,value:v,values:c}],m=ho(t,i.getFacetDataFilter(g)),y={type:i.cfg.type,data:m,region:i.getRegion(u,l,d,p),columnValue:h,rowValue:v,columnField:a,rowField:o,columnIndex:d,rowIndex:p,columnValuesLength:l,rowValuesLength:u};s.push(y)})}),s},e.prototype.renderTitle=function(){var t=this;at(this.facets,function(i,n){var a=i.columnIndex,o=i.rowIndex,s=i.columnValuesLength,l=i.columnValue,u=i.rowValue,f=i.view;if(o===0){var c=At(t.cfg.columnTitle,"formatter"),h=Le({position:["50%","0%"],content:c?c(l):l},Qu(Ne.TOP),t.cfg.columnTitle);f.annotation().text(h)}if(a===s-1){var c=At(t.cfg.rowTitle,"formatter"),h=Le({position:["100%","50%"],content:c?c(u):u},Qu(Ne.RIGHT),t.cfg.rowTitle);f.annotation().text(h)}})},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1?S(S({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?S(S({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.columnIndex!==0?S(S({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?S(S({},n),{title:null}):n},e}(Wf),Z1t=Sle;var Cle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.init=function(){r.prototype.init.call(this),this.view.on(Hn.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return Le({},r.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var i=this.cfg.fields;if(!i.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},e.prototype.setRegion=function(t){var i=this;this.forceColIndex(t),t.forEach(function(n){n.region=i.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},e.prototype.getRegion=function(t,i,n,a){var o=1/i,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},e.prototype.forceColIndex=function(t){var i,n,a=this,o=[],s=0;t.forEach(function(v){a.isLeaf(v)&&(o.push(v),v.columnIndex=s,s++)}),o.forEach(function(v){v.columnValuesLength=o.length});for(var l=this.cfg.fields.length,u=l-1;u>=0;u--){var f=this.getFacetsByLevel(t,u);try{for(var c=(i=void 0,er(f)),h=c.next();!h.done;h=c.next()){var d=h.value;this.isLeaf(d)||(d.originColIndex=d.columnIndex,d.columnIndex=this.getRegionIndex(d.children),d.columnValuesLength=o.length)}}catch(v){i={error:v}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}}},e.prototype.getFacetsByLevel=function(t,i){var n=[];return t.forEach(function(a){a.rowIndex===i&&n.push(a)}),n},e.prototype.getRegionIndex=function(t){var i=t[0],n=t[t.length-1];return(n.columnIndex-i.columnIndex)/2+i.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,i,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<i)){var l=[],u=o[i-1],f=this.getFieldValues(t,u);return f.forEach(function(c,h){var d=[{field:u,value:c,values:f}],v=t.filter(a.getFacetDataFilter(d));if(v.length){var p={type:a.cfg.type,data:v,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:h,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:i,children:a.getChildFacets(v,i+1,n)};l.push(p),n.push(p)}}),l}},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;at(this.facets,function(i){var n=i.columnValue,a=i.view,o=At(t.cfg.title,"formatter"),s=Le({position:["50%","0%"],content:o?o(n):n},Qu(Ne.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.drawLines=function(t){var i=this;t.forEach(function(n){if(!i.isLeaf(n)){var a=n.children;i.addFacetLines(n,a)}})},e.prototype.addFacetLines=function(t,i){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};i.forEach(function(l){var u=l.view.coordinateBBox,f={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(f.y-s.y)/2},h={x:f.x,y:c.y};n.drawLine([s,c,h,f])})},e.prototype.getPath=function(t){var i=[],n=this.cfg.line.smooth;return n?(i.push(["M",t[0].x,t[0].y]),i.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?i.push(["M",a.x,a.y]):i.push(["L",a.x,a.y])}),i},e.prototype.drawLine=function(t){var i=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:Vi({path:i},n)})},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1?S(S({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.originColIndex!==0&&a.columnIndex!==0?S(S({},n),{title:null,label:null}):n},e}(Wf),K1t=Cle;function DX(r){var e=ne([],Rt(r),!1);e.sort(function(i,n){return i-n});var t=e.length;return t===0?0:t%2==1?e[(t-1)/2]:(e[t/2]+e[t/2-1])/2}function Q1t(r){var e=BA(r,function(t,i){return t+=isNaN(i)||!qr(i)?0:i},0);return r.length===0?0:e/r.length}function Zk(r,e){if(!e)return null;var t;switch(r){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=e.isCategory?DX(e.values.map(function(i,n){return n})):DX(e.values);break}case"mean":{t=e.isCategory?(e.values.length-1)/2:Q1t(e.values);break}case"min":t=e.isCategory?0:e[r];break;case"max":t=e.isCategory?e.values.length-1:e[r];break;default:t=r;break}return e.scale(t)}var f5=["regionFilter","shape"],Mle=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.cache=new Map,i.foregroundContainer=i.view.getLayer(ha.FORE).addGroup(),i.backgroundContainer=i.view.getLayer(ha.BG).addGroup(),i.option=[],i}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender(function(){var n=new Map;at(t.option,function(a){if(Ff(f5,a.type)){var o=t.updateOrCreate(a);o&&n.set(t.getCacheKey(a),o)}}),t.cache=t.syncCache(n)});var i=new Map;at(this.option,function(n){if(!Ff(f5,n.type)){var a=t.updateOrCreate(n);a&&i.set(t.getCacheKey(n),a)}}),this.cache=this.syncCache(i)},e.prototype.clear=function(t){t===void 0&&(t=!1),r.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(i){t.push(i)}),t},e.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},e.prototype.onAfterRender=function(t){var i=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(n){n.animateOption&&(n.once(Mv.AFTER_DRAW_ANIMATE,function(){t()}),i=!0)}),i||this.view.getRootView().once(Hn.AFTER_RENDER,function(){t()})},e.prototype.createAnnotation=function(t){var i=t.type,n=dk[Nf(i)];if(n){var a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,t,a);if(!o)return null;var s=new n(o);return{component:s,layer:this.isTop(o)?ha.FORE:ha.BG,direction:Ne.NONE,type:vo.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(S({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(S({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(S({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(S({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(S({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(S({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(S({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(S({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation(S({type:"shape"},t))},e.prototype.html=function(t){this.annotation(S({type:"html"},t))},e.prototype.parsePosition=function(t){var i,n,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=nr(t)?t.call(null,a,o):t,l=0,u=0;if($t(s)){var f=Rt(s,2),c=f[0],h=f[1];if(cr(c)&&c.indexOf("%")!==-1&&!isNaN(c.slice(0,-1)))return this.parsePercentPosition(s);l=Zk(c,a),u=Zk(h,Object.values(o)[0])}else if(!Kt(s))try{for(var d=er(_v(s)),v=d.next();!v.done;v=d.next()){var p=v.value,g=s[p];p===a.field&&(l=Zk(g,a)),o[p]&&(u=Zk(g,o[p]))}}catch(m){i={error:m}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}return isNaN(l)||isNaN(u)?null:this.view.getCoordinate().convert({x:l,y:u})},e.prototype.getRegionPoints=function(t,i){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),f=$t(t)?t[0]:t[l],c=$t(i)?i[0]:i[l],h=[],d;return at(u,function(v,p){if(v[l]===f&&(d=p),p>=d){var g=n.parsePosition([v[l],v[s.field]]);g&&h.push(g)}if(v[l]===c)return!1}),h},e.prototype.parsePercentPosition=function(t){var i=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*i+l.x,f=a.getHeight()*n+l.y;return{x:u,y:f}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),i=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(i.x,n.x),y:Math.min(i.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},e.prototype.getAnnotationCfg=function(t,i,n){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if(Kt(i))return null;var u=i.start,f=i.end,c=i.position,h=this.parsePosition(u),d=this.parsePosition(f),v=this.parsePosition(c);if(["arc","image","line","region","regionFilter"].includes(t)&&(!h||!d))return null;if(["text","dataMarker","html"].includes(t)&&!v)return null;if(t==="arc"){var p=i,g=p.start,m=p.end,y=Ze(p,["start","end"]),x=ag(o,h),b=ag(o,d);x>b&&(b=Math.PI*2+b),l=S(S({},y),{center:o.getCenter(),radius:ib(o,h),startAngle:x,endAngle:b})}else if(t==="image"){var _=i,M=_.start,A=_.end,y=Ze(_,["start","end"]);l=S(S({},y),{start:h,end:d,src:i.src})}else if(t==="line"){var I=i,k=I.start,E=I.end,y=Ze(I,["start","end"]);l=S(S({},y),{start:h,end:d,text:At(i,"text",null)})}else if(t==="region"){var O=i,P=O.start,N=O.end,y=Ze(O,["start","end"]);l=S(S({},y),{start:h,end:d})}else if(t==="text"){var R=this.view.getData(),z=i,B=z.position,Y=z.content,y=Ze(z,["position","content"]),q=Y;nr(Y)&&(q=Y(R)),l=S(S(S({},v),y),{content:q})}else if(t==="dataMarker"){var j=i,Z=j.position,tt=j.point,lt=j.line,J=j.text,nt=j.autoAdjust,ut=j.direction,y=Ze(j,["position","point","line","text","autoAdjust","direction"]);l=S(S(S({},y),v),{coordinateBBox:this.getCoordinateBBox(),point:tt,line:lt,text:J,autoAdjust:nt,direction:ut})}else if(t==="dataRegion"){var ft=i,pt=ft.start,_t=ft.end,Et=ft.region,J=ft.text,Ot=ft.lineLength,y=Ze(ft,["start","end","region","text","lineLength"]);l=S(S({},y),{points:this.getRegionPoints(pt,_t),region:Et,text:J,lineLength:Ot})}else if(t==="regionFilter"){var oe=i,se=oe.start,_e=oe.end,le=oe.apply,ar=oe.color,y=Ze(oe,["start","end","apply","color"]),pe=this.view.geometries,ze=[],rr=function(je){!je||(je.isGroup()?je.getChildren().forEach(function(Ae){return rr(Ae)}):ze.push(je))};at(pe,function(je){le?Ff(le,je.type)&&at(je.elements,function(Ae){rr(Ae.shape)}):at(je.elements,function(Ae){rr(Ae.shape)})}),l=S(S({},y),{color:ar,shapes:ze,start:h,end:d})}else if(t==="shape"){var ur=i,_r=ur.render,it=Ze(ur,["render"]),kt=function(Oe){if(nr(i.render))return _r(Oe,a.view,{parsePosition:a.parsePosition.bind(a)})};l=S(S({},it),{render:kt})}else if(t==="html"){var Gt=i,te=Gt.html,we=Gt.position,it=Ze(Gt,["html","position"]),Ht=function(je){return nr(te)?te(je,a.view):te};l=S(S(S({},it),v),{parent:s.get("el").parentNode,html:Ht})}var ce=Le({},n,S(S({},l),{top:i.top,style:i.style,offsetX:i.offsetX,offsetY:i.offsetY}));return t!=="html"&&(ce.container=this.getComponentContainer(ce)),ce.animate=this.view.getOptions().animate&&ce.animate&&At(i,"animate",ce.animate),ce.animateOption=Le({},i0,ce.animateOption,i.animateOption),ce},e.prototype.isTop=function(t){return At(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return At(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var i=this.cache.get(this.getCacheKey(t));if(i){var n=t.type,a=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,a);o&&qs(o,["container"]),i.component.update(S(S({},o||{}),{visible:!!o})),Ff(f5,t.type)&&i.component.render()}else i=this.createAnnotation(t),i&&(i.component.init(),Ff(f5,t.type)&&i.component.render());return i},e.prototype.syncCache=function(t){var i=this,n=new Map(this.cache);return t.forEach(function(a,o){n.set(o,a)}),n.forEach(function(a,o){hu(i.option,function(s){return o===i.getCacheKey(s)})||(a.component.destroy(),n.delete(o))}),n},e.prototype.getCacheKey=function(t){return t},e}(Uc),$1t=Mle;function FX(r,e){var t=Le({},At(r,["components","axis","common"]),At(r,["components","axis",e]));return At(t,["grid"],{})}function Kk(r,e,t,i){var n=[],a=e.getTicks();return r.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(i)n.push({points:[r.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),r.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var f=o.value,c=(f+u)/2;n.push({points:[r.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),r.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function c5(r,e,t,i,n){var a=e.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var f=l?l.value:u.value,c=u.value,h=(f+c)/2;return n==="x"?o.push({points:[r.convert({x:i?c:h,y:0}),r.convert({x:i?c:h,y:1})]}):o.push({points:oo(Array(a+1),function(d,v){return r.convert({x:v/a,y:i?c:h})})}),u},s[0]),o}function NX(r,e){var t=At(e,"grid");if(t===null)return!1;var i=At(r,"grid");return!(t===void 0&&i===null)}var cb=["container"],J1t=S(S({},i0),{appear:null}),Ale=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.cache=new Map,i.gridContainer=i.view.getLayer(ha.BG).addGroup(),i.gridForeContainer=i.view.getLayer(ha.FORE).addGroup(),i.axisContainer=i.view.getLayer(ha.BG).addGroup(),i.axisForeContainer=i.view.getLayer(ha.FORE).addGroup(),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,i=this.view.getCoordinate();at(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,f=l.scale,c=l.alignTick,h;if(s===vo.AXIS)i.isPolar?u==="x"?h=i.isTransposed?Tk(i,o):l3(i):u==="y"&&(h=i.isTransposed?l3(i):Tk(i,o)):h=Tk(i,o);else if(s===vo.GRID)if(i.isPolar){var d=void 0;i.isTransposed?d=u==="x"?c5(i,t.view.getYScales()[0],f,c,u):Kk(i,f,u,c):d=u==="x"?Kk(i,f,u,c):c5(i,t.view.getXScale(),f,c,u),h={items:d,center:t.view.getCoordinate().getCenter()}}else h={items:Kk(i,f,u,c)};a.update(h)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var i=new Map;this.cache.forEach(function(n,a){t.has(a)?i.set(a,n):n.component.destroy()}),this.cache=i},e.prototype.clear=function(){r.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(i){t.push(i)}),t},e.prototype.updateXAxes=function(t){var i=this.view.getXScale();if(!(!i||i.isIdentity)){var n=hE(this.option,i.field);if(n!==!1){var a=WU(n,Ne.BOTTOM),o=ha.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",i.field),f=this.getId("grid",i.field);if(l.isRect){var c=this.cache.get(u);if(c){var h=this.getLineAxisCfg(i,n,a);qs(h,cb),c.component.update(h),t.set(u,c)}else c=this.createLineAxis(i,n,o,a,s),this.cache.set(u,c),t.set(u,c);var d=this.cache.get(f);if(d){var h=this.getLineGridCfg(i,n,a,s);qs(h,cb),d.component.update(h),t.set(f,d)}else d=this.createLineGrid(i,n,o,a,s),d&&(this.cache.set(f,d),t.set(f,d))}else if(l.isPolar){var c=this.cache.get(u);if(c){var h=l.isTransposed?this.getLineAxisCfg(i,n,Ne.RADIUS):this.getCircleAxisCfg(i,n,a);qs(h,cb),c.component.update(h),t.set(u,c)}else{if(l.isTransposed){if(Zp(n))return;c=this.createLineAxis(i,n,o,Ne.RADIUS,s)}else c=this.createCircleAxis(i,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var d=this.cache.get(f);if(d){var h=l.isTransposed?this.getCircleGridCfg(i,n,Ne.RADIUS,s):this.getLineGridCfg(i,n,Ne.CIRCLE,s);qs(h,cb),d.component.update(h),t.set(f,d)}else{if(l.isTransposed){if(Zp(n))return;d=this.createCircleGrid(i,n,o,Ne.RADIUS,s)}else d=this.createLineGrid(i,n,o,Ne.CIRCLE,s);d&&(this.cache.set(f,d),t.set(f,d))}}}}},e.prototype.updateYAxes=function(t){var i=this,n=this.view.getYScales();at(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=hE(i.option,s);if(l!==!1){var u=ha.BG,f="y",c=i.getId("axis",s),h=i.getId("grid",s),d=i.view.getCoordinate();if(d.isRect){var v=WU(l,o===0?Ne.LEFT:Ne.RIGHT),p=i.cache.get(c);if(p){var g=i.getLineAxisCfg(a,l,v);qs(g,cb),p.component.update(g),t.set(c,p)}else p=i.createLineAxis(a,l,u,v,f),i.cache.set(c,p),t.set(c,p);var m=i.cache.get(h);if(m){var g=i.getLineGridCfg(a,l,v,f);qs(g,cb),m.component.update(g),t.set(h,m)}else m=i.createLineGrid(a,l,u,v,f),m&&(i.cache.set(h,m),t.set(h,m))}else if(d.isPolar){var p=i.cache.get(c);if(p){var g=d.isTransposed?i.getCircleAxisCfg(a,l,Ne.CIRCLE):i.getLineAxisCfg(a,l,Ne.RADIUS);qs(g,cb),p.component.update(g),t.set(c,p)}else{if(d.isTransposed){if(Zp(l))return;p=i.createCircleAxis(a,l,u,Ne.CIRCLE,f)}else p=i.createLineAxis(a,l,u,Ne.RADIUS,f);i.cache.set(c,p),t.set(c,p)}var m=i.cache.get(h);if(m){var g=d.isTransposed?i.getLineGridCfg(a,l,Ne.CIRCLE,f):i.getCircleGridCfg(a,l,Ne.RADIUS,f);qs(g,cb),m.component.update(g),t.set(h,m)}else{if(d.isTransposed){if(Zp(l))return;m=i.createLineGrid(a,l,u,Ne.CIRCLE,f)}else m=i.createCircleGrid(a,l,u,Ne.RADIUS,f);m&&(i.cache.set(h,m),t.set(h,m))}}}}})},e.prototype.createLineAxis=function(t,i,n,a,o){var s={component:new pyt(this.getLineAxisCfg(t,i,a)),layer:n,direction:a===Ne.RADIUS?Ne.NONE:a,type:vo.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,i,n,a,o){var s=this.getLineGridCfg(t,i,a,o);if(s){var l={component:new myt(s),layer:n,direction:Ne.NONE,type:vo.GRID,extra:{dim:o,scale:t,alignTick:At(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.createCircleAxis=function(t,i,n,a,o){var s={component:new gyt(this.getCircleAxisCfg(t,i,a)),layer:n,direction:a,type:vo.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,i,n,a,o){var s=this.getCircleGridCfg(t,i,a,o);if(s){var l={component:new yyt(s),layer:n,direction:Ne.NONE,type:vo.GRID,extra:{dim:o,scale:t,alignTick:At(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.getLineAxisCfg=function(t,i,n){var a=At(i,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=Tk(o,n),l=VU(t,i),u=Ik(this.view.getTheme(),n),f=At(i,["title"])?Le({title:{style:{text:l}}},{title:YU(this.view.getTheme(),n,i.title)},i):i,c=Le(S(S({container:a},s),{ticks:t.getTicks().map(function(x){return{id:"".concat(x.tickValue),name:x.text,value:x.value}}),verticalFactor:o.isPolar?jU(s,o.getCenter())*-1:jU(s,o.getCenter()),theme:u}),u,f),h=this.getAnimateCfg(c),d=h.animate,v=h.animateOption;c.animateOption=v,c.animate=d;var p=zU(s),g=At(c,"verticalLimitLength",p?1/3:1/2);if(g<=1){var m=this.view.getCanvas().get("width"),y=this.view.getCanvas().get("height");c.verticalLimitLength=g*(p?m:y)}return c},e.prototype.getLineGridCfg=function(t,i,n,a){if(!!NX(Ik(this.view.getTheme(),n),i)){var o=FX(this.view.getTheme(),n),s=Le({container:At(i,["top"])?this.gridForeContainer:this.gridContainer},o,At(i,"grid"),this.getAnimateCfg(i));return s.items=Kk(this.view.getCoordinate(),t,a,At(s,"alignTick",!0)),s}},e.prototype.getCircleAxisCfg=function(t,i,n){var a=At(i,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(p){return{id:"".concat(p.tickValue),name:p.text,value:p.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.length&&(s[s.length-1].name="");var l=VU(t,i),u=Ik(this.view.getTheme(),Ne.CIRCLE),f=At(i,["title"])?Le({title:{style:{text:l}}},{title:YU(this.view.getTheme(),n,i.title)},i):i,c=Le(S(S({container:a},l3(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,f),h=this.getAnimateCfg(c),d=h.animate,v=h.animateOption;return c.animate=d,c.animateOption=v,c},e.prototype.getCircleGridCfg=function(t,i,n,a){if(!!NX(Ik(this.view.getTheme(),n),i)){var o=FX(this.view.getTheme(),Ne.RADIUS),s=Le({container:At(i,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,At(i,"grid"),this.getAnimateCfg(i)),l=At(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=c5(this.view.getCoordinate(),u,t,l,a),s}},e.prototype.getId=function(t,i){var n=this.view.getCoordinate();return"".concat(t,"-").concat(i,"-").concat(n.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&At(t,"animate"),animateOption:t&&t.animateOption?Le({},J1t,t.animateOption):J1t}},e}(Uc),tbt=Ale;function Pv(r,e,t){return t===Ne.TOP?[r.minX+r.width/2-e.width/2,r.minY]:t===Ne.BOTTOM?[r.minX+r.width/2-e.width/2,r.maxY-e.height]:t===Ne.LEFT?[r.minX,r.minY+r.height/2-e.height/2]:t===Ne.RIGHT?[r.maxX-e.width,r.minY+r.height/2-e.height/2]:t===Ne.TOP_LEFT||t===Ne.LEFT_TOP?[r.tl.x,r.tl.y]:t===Ne.TOP_RIGHT||t===Ne.RIGHT_TOP?[r.tr.x-e.width,r.tr.y]:t===Ne.BOTTOM_LEFT||t===Ne.LEFT_BOTTOM?[r.bl.x,r.bl.y-e.height]:t===Ne.BOTTOM_RIGHT||t===Ne.RIGHT_BOTTOM?[r.br.x-e.width,r.br.y-e.height]:[0,0]}function ebt(r,e){return Xp(r)?r===!1?!1:{}:At(r,[e],r)}function h5(r){return At(r,"position",Ne.BOTTOM)}var Ele=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.container=i.view.getLayer(ha.FORE).addGroup(),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,at(this.components,function(i){var n=i.component,a=i.direction,o=T3(a),s=n.get("maxWidthRatio"),l=n.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,s,l),f=n.get("maxWidth"),c=n.get("maxHeight");n.update({maxWidth:Math.min(u.maxWidth,f||0),maxHeight:Math.min(u.maxHeight,c||0)});var h=n.get("padding"),d=n.getLayoutBBox(),v=new To(d.x,d.y,d.width,d.height).expand(h),p=Rt(Pv(t.view.viewBBox,v,a),2),g=p[0],m=p[1],y=Rt(Pv(t.layoutBBox,v,a),2),x=y[0],b=y[1],_=0,M=0;a.startsWith("top")||a.startsWith("bottom")?(_=g,M=b):(_=x,M=m),n.setLocation({x:_+h[3],y:M+h[0]}),t.layoutBBox=t.layoutBBox.cut(v,a)})},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var i={},n=function(h,d,v){var p=t.getId(v.field),g=t.getComponentById(p);if(g){var m=void 0,y=ebt(t.option,v.field);y!==!1&&(At(y,"custom")?m=t.getCategoryCfg(h,d,v,y,!0):v.isLinear?m=t.getContinuousCfg(h,d,v,y):v.isCategory&&(m=t.getCategoryCfg(h,d,v,y))),m&&(qs(m,["container"]),g.direction=h5(y),g.component.update(m),i[p]=!0)}else{var x=t.createFieldLegend(h,d,v);x&&(x.component.init(),t.components.push(x),i[p]=!0)}};if(At(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);qs(s,["container"]),o.component.update(s),i[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=ha.FORE,f=h5(this.option);this.components.push({id:a,component:l,layer:u,direction:f,type:vo.LEGEND,extra:void 0}),i[a]=!0}}}else this.loopLegends(n);var c=[];at(this.getComponents(),function(h){i[h.id]?c.push(h):h.component.destroy()}),this.components=c},e.prototype.clear=function(){r.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var i=this,n=t.geometries;return at(t.views,function(a){n=n.concat(i.getGeometries(a))}),n},e.prototype.loopLegends=function(t){var i=this.view.getRootView()===this.view;if(!!i){var n=this.getGeometries(this.view),a={};at(n,function(o){var s=o.getGroupAttributes();at(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},e.prototype.createFieldLegend=function(t,i,n){var a,o=ebt(this.option,n.field),s=ha.FORE,l=h5(o);if(o!==!1&&(At(o,"custom")?a=this.createCustomLegend(t,i,n,o):n.isLinear?a=this.createContinuousLegend(t,i,n,o):n.isCategory&&(a=this.createCategoryLegend(t,i,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:vo.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,i,n,a){var o=this.getCategoryCfg(t,i,n,a,!0);return new GU(o)},e.prototype.createContinuousLegend=function(t,i,n,a){var o=this.getContinuousCfg(t,i,n,qs(a,["value"]));return new xyt(o)},e.prototype.createCategoryLegend=function(t,i,n,a){var o=this.getCategoryCfg(t,i,n,a);return new GU(o)},e.prototype.getContinuousCfg=function(t,i,n,a){var o=n.getTicks(),s=hu(o,function(p){return p.value===0}),l=hu(o,function(p){return p.value===1}),u=o.map(function(p){var g=p.value,m=p.tickValue,y=i.mapping(n.invert(g)).join("");return{value:m,attrValue:y,color:y,scaleValue:g}});s||u.push({value:n.min,attrValue:i.mapping(n.invert(0)).join(""),color:i.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:i.mapping(n.invert(1)).join(""),color:i.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(p,g){return p.value-g.value});var f={min:ao(u).value,max:jn(u).value,colors:[],rail:{type:i.type},track:{}};i.type==="size"&&(f.track={style:{fill:i.type==="size"?this.view.getTheme().defaultColor:void 0}}),i.type==="color"&&(f.colors=u.map(function(p){return p.attrValue}));var c=this.container,h=h5(a),d=T3(h),v=At(a,"title");return v&&(v=Le({text:nb(n)},v)),f.container=c,f.layout=d,f.title=v,f.animateOption=i0,this.mergeLegendCfg(f,a,"continuous")},e.prototype.getCategoryCfg=function(t,i,n,a,o){var s=this.container,l=At(a,"position",Ne.BOTTOM),u=fX(this.view.getTheme(),l),f=At(u,["marker"]),c=At(a,"marker"),h=T3(l),d=At(u,["pageNavigator"]),v=At(a,"pageNavigator"),p=o?I0t(f,c,a.items):uX(this.view,t,i,f,c),g=At(a,"title");g&&(g=Le({text:n?nb(n):""},g));var m=At(a,"maxWidthRatio"),y=At(a,"maxHeightRatio"),x=this.getCategoryLegendSizeCfg(h,m,y);x.container=s,x.layout=h,x.items=p,x.title=g,x.animateOption=i0,x.pageNavigator=Le({},d,v);var b=this.mergeLegendCfg(x,a,l);b.reversed&&b.items.reverse();var _=At(b,"maxItemWidth");return _&&_<=1&&(b.maxItemWidth=this.view.viewBBox.width*_),b},e.prototype.mergeLegendCfg=function(t,i,n){var a=n.split("-")[0],o=fX(this.view.getTheme(),a);return Le({},o,t,i)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return hu(this.components,function(i){return i.id===t})},e.prototype.getCategoryLegendSizeCfg=function(t,i,n){i===void 0&&(i=Kq),n===void 0&&(n=Kq);var a=this.view.viewBBox,o=a.width,s=a.height;return t==="vertical"?{maxWidth:o*i,maxHeight:s}:{maxWidth:o,maxHeight:s*n}},e}(Uc),rbt=Ele;var Tle=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.onChangeFn=Bf,i.resetMeasure=function(){i.clear()},i.onValueChange=function(n){var a=Rt(n,2),o=a[0],s=a[1];i.start=o,i.end=s,i.changeViewData(o,s)},i.container=i.view.getLayer(ha.FORE).addGroup(),i.onChangeFn=wS(i.onValueChange,20,{leading:!0}),i.width=0,i.view.on(Hn.BEFORE_CHANGE_DATA,i.resetMeasure),i.view.on(Hn.BEFORE_CHANGE_SIZE,i.resetMeasure),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(Hn.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Hn.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),i=t.start,n=t.end;Kt(this.start)&&(this.start=i,this.end=n);var a=this.view.getOptions().data;this.option&&!Ts(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var i=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),a=Rt(n,4),o=a[0],s=a[1],l=a[2],u=a[3],f=this.slider.component.getLayoutBBox(),c=new To(f.x,f.y,Math.min(f.width,i),f.height).expand(n),h=this.getMinMaxText(this.start,this.end),d=h.minText,v=h.maxText,p=Rt(Pv(this.view.viewBBox,c,Ne.BOTTOM),2),g=p[0],m=p[1],y=Rt(Pv(this.view.coordinateBBox,c,Ne.BOTTOM),2),x=y[0],b=y[1];this.slider.component.update(S(S({},this.getSliderCfg()),{x:x+u,y:m+o,width:this.width,start:this.start,end:this.end,minText:d,maxText:v})),this.view.viewBBox=this.view.viewBBox.cut(c,Ne.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),i=new Ek(S({container:this.container},t));return i.init(),{component:i,layer:ha.FORE,direction:Ne.BOTTOM,type:vo.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var i=this.getMinMaxText(this.start,this.end),n=i.minText,a=i.maxText;t=S(S({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:a})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Gi(this.option)){var i=S({data:this.getData()},At(this.option,"trendCfg",{}));t=Le({},t,this.getThemeOptions(),this.option),t=S(S({},t),{trendCfg:i})}return t.start=Qn(Math.min(Kt(t.start)?0:t.start,Kt(t.end)?1:t.end),0,1),t.end=Qn(Math.max(Kt(t.start)?0:t.start,Kt(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,i=Rt(this.view.getYScales(),1),n=i[0],a=this.view.getGroupScales();if(a.length){var o=a[0],s=o.field,l=o.ticks;return t.reduce(function(u,f){return f[s]===l[0]&&u.push(f[n.field]),u},[])}return t.map(function(u){return u[n.field]||0})},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return At(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,i){var n=this.view.getOptions().data,a=this.view.getXScale(),o=!0,s=Il(n,a.field);a.isLinear&&(s=s.sort());var l=o?s:s.reverse(),u=Mo(n);if(!a||!u)return{};var f=Mo(l),c=Math.round(t*(f-1)),h=Math.round(i*(f-1)),d=At(l,[c]),v=At(l,[h]),p=this.getSliderCfg().formatter;return p&&(d=p(d,n[c],c),v=p(v,n[h],h)),{minText:d,maxText:v}},e.prototype.changeViewData=function(t,i){var n=this.view.getOptions().data,a=this.view.getXScale(),o=Mo(n);if(!(!a||!o)){var s=!0,l=Il(n,a.field),u=this.view.getXScale().isLinear?l.sort(function(v,p){return Number(v)-Number(p)}):l,f=s?u:u.reverse(),c=Mo(f),h=Math.round(t*(c-1)),d=Math.round(i*(c-1));this.view.filter(a.field,function(v,p){var g=f.indexOf(v);return g>-1?$y(g,h,d):!0}),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(Uc),ibt=Tle;var d5=0,nbt=8,Ile=32,Lle=20,Ole=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.onChangeFn=Bf,i.resetMeasure=function(){i.clear()},i.onValueChange=function(n){var a=n.ratio,o=i.getValidScrollbarCfg().animate;i.ratio=Qn(a,0,1);var s=i.view.getOptions().animate;o||i.view.animate(!1),i.changeViewData(i.getScrollRange(),!0),i.view.animate(s)},i.container=i.view.getLayer(ha.FORE).addGroup(),i.onChangeFn=wS(i.onValueChange,20,{leading:!0}),i.trackLen=0,i.thumbLen=0,i.ratio=0,i.view.on(Hn.BEFORE_CHANGE_DATA,i.resetMeasure),i.view.on(Hn.BEFORE_CHANGE_SIZE,i.resetMeasure),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(Hn.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(Hn.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var i=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new To(a.x,a.y,Math.min(a.width,i),a.height).expand(n),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var f=Rt(Pv(this.view.viewBBox,o,Ne.BOTTOM),2),c=f[0],h=f[1],d=Rt(Pv(this.view.coordinateBBox,o,Ne.BOTTOM),2),v=d[0],p=d[1];l=v,u=h}else{var g=Rt(Pv(this.view.viewBBox,o,Ne.RIGHT),2),c=g[0],h=g[1],m=Rt(Pv(this.view.viewBBox,o,Ne.RIGHT),2),v=m[0],p=m[1];l=v,u=h}l+=n[3],u+=n[0],this.trackLen?this.scrollbar.component.update(S(S({},s),{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(S(S({},s),{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?Ne.BOTTOM:Ne.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return At(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var i=At(this.view.getTheme(),["components","scrollbar"]),n=t||{},a=n.thumbHighlightColor,o=Ze(n,["thumbHighlightColor"]);return{default:Le({},At(i,["default","style"],{}),o),hover:Le({},At(i,["hover","style"],{}),{thumbColor:a})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),i=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),a=n.trackLen,o=n.thumbLen;this.trackLen=a,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=i},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*Qn(this.ratio,0,1)),i=Math.min(t+this.step-1,this.cnt-1);return[t,i]},e.prototype.changeViewData=function(t,i){var n=this,a=Rt(t,2),o=a[0],s=a[1],l=this.getValidScrollbarCfg().type,u=l!=="vertical",f=Il(this.data,this.xScaleCfg.field),c=this.view.getXScale().isLinear?f.sort(function(d,v){return Number(d)-Number(v)}):f,h=u?c:c.reverse();this.yScalesCfg.forEach(function(d){n.view.scale(d.field,{formatter:d.formatter,type:d.type,min:d.min,max:d.max,tickMethod:d.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(d){var v=h.indexOf(d);return v>-1?$y(v,o,s):!0}),this.view.render(!0)},e.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,i=t!=="vertical",n=new i3(S(S({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return n.init(),{component:n,layer:ha.FORE,direction:i?Ne.BOTTOM:Ne.RIGHT,type:vo.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),i=this.trackLen?S(S({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):S({},t);return this.scrollbar.component.update(i),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,i=this.getValidScrollbarCfg(),n=i.type,a=i.categorySize,o=n!=="vertical";return Math.floor((o?t.width:t.height)/a)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),i=this.getScrollbarData(),n=Il(i,t.field);return Mo(n)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,i=t.coordinateBBox,n=t.viewBBox,a=this.getValidScrollbarCfg(),o=a.type,s=a.padding,l=a.width,u=a.height,f=a.style,c=o!=="vertical",h=Rt(s,4),d=h[0],v=h[1],p=h[2],g=h[3],m=c?{x:i.minX+g,y:n.maxY-u-p}:{x:n.maxX-l-v,y:i.minY+d},y=this.getStep(),x=this.getCnt(),b=c?i.width-g-v:i.height-d-p,_=Math.max(b*Qn(y/x,0,1),Lle);return S(S({},this.getThemeOptions()),{x:m.x,y:m.y,size:c?u:l,isHorizontal:c,trackLen:b,thumbLen:_,thumbOffset:0,theme:this.getScrollbarTheme(f)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:Ile,width:nbt,height:nbt,padding:[0,0,0,0],animate:!0,style:{}};return Gi(this.option)&&(t=S(S({},t),this.option)),(!Gi(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[d5,0,d5,0]:[0,d5,0,d5]),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),i=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&i.type==="vertical"&&(n=ne([],Rt(n),!1).reverse()),n},e}(Uc),abt=Ole;var kle={fill:"#CCD6EC",opacity:.3};function Ple(r,e,t){var i,n,a,o,s,l,u=f0t(r,e,t);if(u.length){u=Zo(u);try{for(var f=er(u),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var d=(a=void 0,er(h)),v=d.next();!v.done;v=d.next()){var p=v.value,g=p.mappingData,m=g.x,y=g.y;p.x=$t(m)?m[m.length-1]:m,p.y=$t(y)?y[y.length-1]:y}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}}}catch(E){i={error:E}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}var x=t.shared;if(x===!1&&u.length>1){var b=u[0],_=Math.abs(e.y-b[0].y);try{for(var M=er(u),A=M.next();!A.done;A=M.next()){var I=A.value,k=Math.abs(e.y-I[0].y);k<=_&&(b=I,_=k)}}catch(E){s={error:E}}finally{try{A&&!A.done&&(l=M.return)&&l.call(M)}finally{if(s)throw s.error}}u=[b]}return xS(Zo(u))}return[]}var Dle=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(t){var i=this.context.view,n=this.context.event,a=i.getController("tooltip").getTooltipCfg(),o=Ple(i,{x:n.x,y:n.y},a);if(!xn(o,this.items)&&(this.items=o,o.length)){var s=i.getXScale().field,l=o[0].data[s],u=[],f=i.geometries;if(at(f,function(q){if(q.type==="interval"||q.type==="schema"){var j=q.getElementsBy(function(Z){var tt=Z.getData();return tt[s]===l});u=u.concat(j)}}),u.length){var c=i.getCoordinate(),h=u[0].shape.getCanvasBBox(),d=u[0].shape.getCanvasBBox(),v=h;at(u,function(q){var j=q.shape.getCanvasBBox();c.isTransposed?(j.minY<h.minY&&(h=j),j.maxY>d.maxY&&(d=j)):(j.minX<h.minX&&(h=j),j.maxX>d.maxX&&(d=j)),v.x=Math.min(j.minX,v.minX),v.y=Math.min(j.minY,v.minY),v.width=Math.max(j.maxX,v.maxX)-v.x,v.height=Math.max(j.maxY,v.maxY)-v.y});var p=i.backgroundGroup,g=i.coordinateBBox,m=void 0;if(c.isRect){var y=i.getXScale(),x=t||{},b=x.appendRatio,_=x.appendWidth;Kt(_)&&(b=Kt(b)?y.isLinear?0:.25:b,_=c.isTransposed?b*d.height:b*h.width);var M=void 0,A=void 0,I=void 0,k=void 0;c.isTransposed?(M=g.minX,A=Math.min(d.minY,h.minY)-_,I=g.width,k=v.height+_*2):(M=Math.min(h.minX,d.minX)-_,A=g.minY,I=v.width+_*2,k=g.height),m=[["M",M,A],["L",M+I,A],["L",M+I,A+k],["L",M,A+k],["Z"]]}else{var E=ao(u),O=jn(u),P=rb(E.getModel(),c).startAngle,N=rb(O.getModel(),c).endAngle,R=c.getCenter(),z=c.getRadius(),B=c.innerRadius*z;m=ed(R.x,R.y,z,P,N,B)}if(this.regionPath)this.regionPath.attr("path",m),this.regionPath.show();else{var Y=At(t,"style",kle);this.regionPath=p.addShape({type:"path",name:"active-region",capture:!1,attrs:S(S({},Y),{path:m})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),r.prototype.destroy.call(this)},e}(Yi),obt=Dle;var Fle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.context,i=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date,l=At(t.view.getOptions(),"tooltip.showDelay",16);if(s-o>l){var u=this.location,f={x:i.x,y:i.y};(!u||!xn(u,f))&&this.showTooltip(n,f),this.timeStamp=s,this.location=f}}},e.prototype.hide=function(){var t=this.context.view,i=t.getController("tooltip"),n=this.context.event,a=n.clientX,o=n.clientY;i.isCursorEntered({x:a,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,i){t.showTooltip(i)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(Yi),v5=Fle;var Nle=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.showTooltip=function(t,i){var n=Vf(t);at(n,function(a){var o=p3(t,a,i);a.showTooltip(o)})},e.prototype.hideTooltip=function(t){var i=Vf(t);at(i,function(n){n.hideTooltip()})},e}(v5),sbt=Nle;var Ble=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,i=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:i.x,y:i.y};(!o||!xn(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var i=this.context,n=i.event,a=n.target;if(a&&a.get("tip")){if(!this.tooltip)this.renderTooltip();else{var o=i.view,s=o.canvas,l={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}};this.tooltip.set("region",l)}var u=a.get("tip");this.tooltip.update(S({title:u},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,i=this.context.view,n=i.canvas,a={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},o=i.getTheme(),s=At(o,["components","tooltip","domStyles"],{}),l=new eb({parent:n.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:S({},Le({},s,(t={},t[Ko.CONTAINER_CLASS]={"max-width":"50%"},t[Ko.TITLE_CLASS]={"word-break":"break-all"},t)))});l.init(),l.setCapture(!1),this.tooltip=l},e}(Yi),lbt=Ble;var Rle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t}return e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,i){t.setState(this.stateName,i)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var i=this,n=Dk(t,this.stateName);at(n,function(a){i.setElementState(a,!1)})},e}(Yi),OE=Rle;function ubt(r){return At(r.get("delegateObject"),"item")}var Gle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return e.prototype.isItemIgnore=function(t,i){var n=this.ignoreListItemStates,a=n.filter(function(o){return i.hasState(t,o)});return!!a.length},e.prototype.setStateByComponent=function(t,i,n){var a=this.context.view,o=t.get("field"),s=Ua(a);this.setElementsStateByItem(s,o,i,n)},e.prototype.setStateByElement=function(t,i){this.setElementState(t,i)},e.prototype.isMathItem=function(t,i,n){var a=this.context.view,o=og(a,i),s=Pl(t,i);return!Kt(s)&&n.name===o.getText(s)},e.prototype.setElementsStateByItem=function(t,i,n,a){var o=this;at(t,function(s){o.isMathItem(s,i,n)&&s.setState(o.stateName,a)})},e.prototype.setStateEnable=function(t){var i=Vc(this.context);if(i)c3(this.context)&&this.setStateByElement(i,t);else{var n=rd(this.context);if(t0(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&ubt(s.fromShape)===ubt(s.toShape))return;this.setStateByComponent(o,a,t)}}}},e.prototype.toggle=function(){var t=Vc(this.context);if(t){var i=t.hasState(this.stateName);this.setElementState(t,!i)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(OE),kE=Gle;var zle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(kE),fbt=zle;var jle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cache={},t}return e.prototype.getColorScale=function(t,i){var n=i.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},e.prototype.getLinkPath=function(t,i){var n=this.context.view,a=n.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=i.shape.getCanvasBBox(),l=a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return l},e.prototype.addLinkShape=function(t,i,n,a){var o={opacity:.4,fill:i.shape.attr("fill")};t.addShape({type:"path",attrs:S(S({},Le({},o,nr(a)?a(o,i):a)),{path:this.getLinkPath(i,n)})})},e.prototype.linkByElement=function(t,i){var n=this,a=this.context.view,o=this.getColorScale(a,t);if(!!o){var s=Pl(t,o.field);if(!this.cache[s]){var l=Uyt(a,o.field,s),u=this.linkGroup,f=u.addGroup();this.cache[s]=f;var c=l.length;at(l,function(h,d){if(d<c-1){var v=l[d+1];n.addLinkShape(f,h,v,i)}})}}},e.prototype.removeLink=function(t){var i=this.getColorScale(this.context.view,t);if(!!i){var n=Pl(t,i.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var i=this.context;this.linkGroup||(this.linkGroup=i.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=Vc(i);n&&this.linkByElement(n,t==null?void 0:t.style)},e.prototype.unlink=function(){var t=Vc(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(Yi),cbt=jle;var Yle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(e0(this.context))t=dE(this.context,10);else{var i=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!i||!n)return;var a={minX:Math.min(i.x,n.x),minY:Math.min(i.y,n.y),maxX:Math.max(i.x,n.x),maxY:Math.max(i.y,n.y)},o=this.context.view;t=Fk(o,a)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var i=Ua(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,i):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,i){var n=this,a=this.context.view,o=Vf(a),s=t.map(function(f){return f.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;at(o,function(f){var c=Ua(f),h=c.filter(function(d){var v=d.getModel().data;return g3(s,v,l,u)});n.setElementsState(h,i,c)})},e.prototype.setSiblingsState=function(t){var i=this,n=this.context.view,a=Vf(n);e0(this.context)&&at(a,function(o){var s=Ua(o),l=d3(i.context,o,10);l&&l.length?i.setElementsState(l,t,s):i.clearViewState(o)})},e.prototype.setElementsState=function(t,i,n){var a=this;at(n,function(o){t.includes(o)?a.setElementState(o,i):a.setElementState(o,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,i=this.context.view;if(this.effectSiblings){var n=Vf(i);at(n,function(a){t.clearViewState(a)})}else this.clearViewState(i)},e}(OE),PE=Yle;var Wle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(PE),hbt=Wle;var Vle=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateEnable=function(t){var i=Vc(this.context);if(i){if(!c3(this.context))return;t?(this.clear(),this.setElementState(i,!0)):this.hasState(i)&&this.setElementState(i,!1)}},e.prototype.toggle=function(){var t=Vc(this.context);if(t){var i=this.hasState(t);i||this.clear(),this.setElementState(t,!i)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(OE),DE=Vle;var qle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(DE),dbt=qle;var Qk="inactive",$k="active";function FE(r){var e=Ua(r);at(e,function(t){t.hasState($k)&&t.setState($k,!1),t.hasState(Qk)&&t.setState(Qk,!1)})}function p5(r,e,t){at(r,function(i){e(i)?(i.hasState(Qk)&&i.setState(Qk,!1),i.setState($k,t)):(i.hasState($k)&&i.setState($k,!1),i.setState(Qk,t))})}var hb=jO.INACTIVE,fg=jO.ACTIVE,Hle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=fg,t}return e.prototype.setElementsStateByItem=function(t,i,n,a){var o=this,s=function(l){return o.isMathItem(l,i,n)};this.setHighlightBy(t,s,a)},e.prototype.setElementHighlight=function(t,i){i(t)?(t.hasState(hb)&&t.setState(hb,!1),t.setState(fg,!0)):t.hasState(fg)||t.setState(hb,!0)},e.prototype.setHighlightBy=function(t,i,n){var a=this;if(n)at(t,function(l){a.setElementHighlight(l,i)});else{var o=Dk(this.context.view,fg),s=!0;at(o,function(l){if(!i(l))return s=!1,!1}),s?this.clear():at(t,function(l){i(l)&&(l.hasState(fg)&&l.setState(fg,!1),l.setState(hb,!0))})}},e.prototype.setElementState=function(t,i){var n=this.context.view,a=Ua(n);this.setHighlightBy(a,function(o){return t===o},i)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;FE(t)},e}(kE),NE=Hle;var Ule=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateByElement=function(t,i){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Pl(t,o.field),l=Ua(n),u=l.filter(function(f){return Pl(f,o.field)===s});this.setHighlightBy(l,function(f){return u.includes(f)},i)}},e}(NE),vbt=Ule;var Xle=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(t,i){i(t)?(t.hasState(hb)&&t.setState(hb,!1),t.setState(fg,!0)):(t.setState(hb,!0),t.hasState(fg)&&t.setState(fg,!1))},e.prototype.setStateByElement=function(t,i){var n=this.context.view,a=n.getXScale(),o=Pl(t,a.field),s=Ua(n),l=s.filter(function(u){return Pl(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},i)},e.prototype.toggle=function(){var t=Vc(this.context);if(t){var i=t.hasState(this.stateName);this.setStateByElement(t,!i)}},e}(NE),pbt=Xle;var Dv;(function(r){r.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",r.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",r.BEFORE_CLEAR="element-range-highlight:beforeclear",r.AFTER_CLEAR="element-range-highlight:afterclear"})(Dv||(Dv={}));var Zle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.clearViewState=function(t){FE(t)},e.prototype.highlight=function(){var t=this.context,i=t.view,n=t.event,a=this.getIntersectElements(),o={view:i,event:n,highlightElements:a};i.emit(Dv.BEFORE_HIGHLIGHT,Qo.fromData(i,Dv.BEFORE_HIGHLIGHT,o)),this.setState(),i.emit(Dv.AFTER_HIGHLIGHT,Qo.fromData(i,Dv.AFTER_HIGHLIGHT,o))},e.prototype.clear=function(){var t=this.context.view;t.emit(Dv.BEFORE_CLEAR,Qo.fromData(t,Dv.BEFORE_CLEAR,{})),r.prototype.clear.call(this),t.emit(Dv.AFTER_CLEAR,Qo.fromData(t,Dv.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,i,n){p5(n,function(a){return t.indexOf(a)>=0},i)},e}(PE),BX=Zle;var Kle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,i){var n=this.context.view,a=Ua(n);p5(a,function(o){return t===o},i)},e.prototype.clear=function(){var t=this.context.view;FE(t)},e}(DE),gbt=Kle;var Qle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(PE),mbt=Qle;var $le=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(kE),ybt=$le;var Jle=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(DE),xbt=Jle;var tue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return e.prototype.getTriggerListInfo=function(){var t=rd(this.context),i=null;return t0(t)&&(i={item:t.item,list:t.component}),i},e.prototype.getAllowComponents=function(){var t=this,i=this.context.view,n=v3(i),a=[];return at(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},e.prototype.hasState=function(t,i){return t.hasState(i,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,i=this.getAllowComponents();at(i,function(n){n.clearItemsState(t.stateName)})},e.prototype.allowSetStateByElement=function(t){var i=t.get("field");if(!i)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=og(a,i);return o&&o.isCategory},e.prototype.allowSetStateByItem=function(t,i){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return i.hasState(t,o)});return a.length===0}return!0},e.prototype.setStateByElement=function(t,i,n){var a=t.get("field"),o=this.context.view,s=og(o,a),l=Pl(i,a),u=s.getText(l);this.setItemsState(t,u,n)},e.prototype.setStateEnable=function(t){var i=this,n=Vc(this.context);if(n){var a=this.getAllowComponents();at(a,function(u){i.setStateByElement(u,n,t)})}else{var o=rd(this.context);if(t0(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},e.prototype.setItemsState=function(t,i,n){var a=this,o=t.getItems();at(o,function(s){s.name===i&&a.setItemState(t,s,n)})},e.prototype.setItemState=function(t,i,n){t.setItemState(i,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var i=t.list,n=t.item,a=this.hasState(i,n);this.setItemState(i,n,!a)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(Yi),qf=tue;var eue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(qf),bbt=eue;var wbt="inactive",_bt="active";function Sbt(r){var e=r.getItems();at(e,function(t){r.hasState(t,_bt)&&r.setItemState(t,_bt,!1),r.hasState(t,wbt)&&r.setItemState(t,wbt,!1)})}var Jk="inactive",KS="active",rue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=KS,t.ignoreItemStates=["unchecked"],t}return e.prototype.setItemsState=function(t,i,n){this.setHighlightBy(t,function(a){return a.name===i},n)},e.prototype.setItemState=function(t,i,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===i},n)},e.prototype.setHighlightBy=function(t,i,n){var a=t.getItems();if(n)at(a,function(l){i(l)?(t.hasState(l,Jk)&&t.setItemState(l,Jk,!1),t.setItemState(l,KS,!0)):t.hasState(l,KS)||t.setItemState(l,Jk,!0)});else{var o=t.getItemsByState(KS),s=!0;at(o,function(l){if(!i(l))return s=!1,!1}),s?this.clear():at(a,function(l){i(l)&&(t.hasState(l,KS)&&t.setItemState(l,KS,!1),t.setItemState(l,Jk,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)Sbt(t.list);else{var i=this.getAllowComponents();at(i,function(n){n.clearItemsState(KS),n.clearItemsState(Jk)})}},e}(qf),g5=rue;var iue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(qf),Cbt=iue;var nue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="unchecked",t}return e.prototype.unchecked=function(){this.setState()},e}(qf),Mbt=nue;var BE="unchecked",m5="checked",aue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=m5,t}return e.prototype.setItemState=function(t,i,n){this.setCheckedBy(t,function(a){return a===i},n)},e.prototype.setCheckedBy=function(t,i,n){var a=t.getItems();n&&at(a,function(o){i(o)?(t.hasState(o,BE)&&t.setItemState(o,BE,!1),t.setItemState(o,m5,!0)):t.hasState(o,m5)||t.setItemState(o,BE,!0)})},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var i=t.list,n=t.item,a=!zy(i.getItems(),function(o){return i.hasState(o,BE)});a||i.hasState(n,BE)?this.setItemState(i,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();at(t,function(i){i.clearItemsState(m5),i.clearItemsState(BE)})},e}(qf),Abt=aue;var RE="unchecked",oue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggle=function(){var t,i,n,a,o,s,l,u,f=this.getTriggerListInfo();if(f==null?void 0:f.item){var c=f.list,h=f.item,d=c.getItems(),v=d.filter(function(E){return!c.hasState(E,RE)}),p=d.filter(function(E){return c.hasState(E,RE)}),g=v[0];if(d.length===v.length)try{for(var m=er(d),y=m.next();!y.done;y=m.next()){var x=y.value;c.setItemState(x,RE,x.id!==h.id)}}catch(E){t={error:E}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(t)throw t.error}}else if(d.length-p.length==1)if(g.id===h.id)try{for(var b=er(d),_=b.next();!_.done;_=b.next()){var x=_.value;c.setItemState(x,RE,!1)}}catch(E){n={error:E}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}else try{for(var M=er(d),A=M.next();!A.done;A=M.next()){var x=A.value;c.setItemState(x,RE,x.id!==h.id)}}catch(E){o={error:E}}finally{try{A&&!A.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}else try{for(var I=er(d),k=I.next();!k.done;k=I.next()){var x=k.value;c.setItemState(x,RE,x.id!==h.id)}}catch(E){l={error:E}}finally{try{k&&!k.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}}},e}(qf),Ebt=oue;var Tbt="showRadio",RX="legend-radio-tip",sue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var i=t.list,n=t.item;i.setItemState(n,Tbt,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var i=t.list,n=t.item;i.setItemState(n,Tbt,!1)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context,i=t.event,n=this.timeStamp,a=+new Date,o=this.context.event.target;if(a-n>16&&o.get("name")==="legend-item-radio"){var s=this.location,l={x:i.x,y:i.y};this.timeStamp=a,this.location=l,(!s||!xn(s,l))&&this.showTooltip(l)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var i=this.context,n=i.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=i.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,l=o.y;this.tooltip.update(S(S({title:a.get("tip")},t),{x:t.x+s,y:t.y+l})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,i=(t={},t[Ko.CONTAINER_CLASS]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Ko.TITLE_CLASS]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(RX)&&document.body.removeChild(document.getElementById(RX));var n=new eb({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:i,containerId:RX});n.init(),n.setCapture(!1),this.tooltip=n},e}(qf),Ibt=sue;var lue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var i="mask:".concat(t),n=this.context.view,a=this.context.event;n.emit(i,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},e.prototype.createMask=function(){var t=this.context.view,i=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:S({fill:"#C5D4EB",opacity:.3},i)});return n},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),i=this.preMovePoint,n=t.x-i.x,a=t.y-i.y,o=this.points;at(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var i=Le({},this.getMaskAttrs(),t);this.maskShape.attr(i)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,r.prototype.destroy.call(this)},e}(Yi),GE=lue;function GX(r){var e=jn(r),t=0,i=0,n=0;if(r.length){var a=r[0];t=vE(a,e)/2,i=(e.x+a.x)/2,n=(e.y+a.y)/2}return{x:i,y:n,r:t}}var uue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t}return e.prototype.getMaskAttrs=function(){return GX(this.points)},e}(GE),Lbt=uue;function zX(r){return{start:ao(r),end:jn(r)}}function jX(r,e){var t=Math.min(r.x,e.x),i=Math.min(r.y,e.y),n=Math.abs(e.x-r.x),a=Math.abs(e.y-r.y);return{x:t,y:i,width:n,height:a}}var fue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(){return zX(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),i=t.start,n=t.end;return jX(i,n)},e}(GE),y5=fue;function Obt(r){r.x=Qn(r.x,0,1),r.y=Qn(r.y,0,1)}function YX(r,e,t,i){var n=null,a=null,o=i.invert(ao(r)),s=i.invert(jn(r));return t&&(Obt(o),Obt(s)),e==="x"?(n=i.convert({x:o.x,y:0}),a=i.convert({x:s.x,y:1})):(n=i.convert({x:0,y:o.y}),a=i.convert({x:1,y:s.y})),{start:n,end:a}}var cue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return YX(this.points,this.dim,this.inPlot,t)},e}(y5),WX=cue;function x5(r){var e=[];return r.length&&(at(r,function(t,i){i===0?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e.push(["L",r[0].x,r[0].y])),e}function VX(r){return{path:x5(r)}}var hue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return x5(this.points)},e.prototype.getMaskAttrs=function(){return VX(this.points)},e.prototype.addPoint=function(){this.resize()},e}(GE),b5=hue;function w5(r){return Kyt(r,!0)}function qX(r){return{path:w5(r)}}var due=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return w5(this.points)},e.prototype.getMaskAttrs=function(){return qX(this.points)},e}(b5),kbt=due;var vue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var i="".concat(this.maskType,":").concat(t),n=this.context.view,a=this.context.event,o={type:this.shapeType,name:this.maskType,get:function(s){return o.hasOwnProperty(s)?o[s]:void 0}};n.emit(i,{target:o,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:a.x,y:a.y})},e.prototype.createMask=function(t){var i=this.context.view,n=this.recordPoints[t],a=this.getMaskAttrs(n),o=i.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:S({fill:"#C5D4EB",opacity:.3},a)});this.maskShapes.push(o)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var i=this.recordPoints.length-1;this.createMask(i),this.updateShapesCapture(!1),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var t=this.getCurrentPoint(),i=this.preMovePoint,n=t.x-i.x,a=t.y-i.y,o=this.getCurMaskShapeIndex();o>-1&&(this.recordPoints[o].forEach(function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var i=this;this.recordPoints.forEach(function(n,a){var o=Le({},i.getMaskAttrs(n),t);i.maskShapes[a].attr(o)})},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();t===-1?(this.recordPointClear(),this.maskShapes.forEach(function(i){return i.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),r.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return ne([],Rt((t=this.recordPoints)!==null&&t!==void 0?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),i=this.getCurrentPoint();this.recordPoints=ne(ne([],Rt(t),!1),[[i]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),i=this.getCurrentPoint(),n=t.splice(-1,1)[0]||[];n.push(i),this.recordPoints=ne(ne([],Rt(t),!1),[n],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(i){return i.set("capture",t)})},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(i){var n=i.attrs,a=n.width,o=n.height,s=n.r,l=a===0||o===0||s===0;return!l&&i.isHit(t.x,t.y)})},e}(Yi),zE=vue;var pue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(t){return zX(t)},e.prototype.getMaskAttrs=function(t){var i=this.getRegion(t),n=i.start,a=i.end;return jX(n,a)},e}(zE),_5=pue;var gue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(t){var i=this.context.view.getCoordinate();return YX(t,this.dim,this.inPlot,i)},e}(_5),HX=gue;var mue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=GX,t}return e}(zE),Pbt=mue;var yue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=x5,t.getMaskAttrs=VX,t}return e.prototype.addPoint=function(){this.resize()},e}(zE),S5=yue;var xue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=w5,t.getMaskAttrs=qX,t}return e}(S5),Dbt=xue;var bue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setCursor=function(t){var i=this.context.view;i.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(Yi),Fbt=bue;var wue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,i,n){var a=this;t.getScaleByField(i)&&t.filter(i,n),t.views&&t.views.length&&at(t.views,function(o){a.filterView(o,i,n)})},e.prototype.filter=function(){var t=rd(this.context);if(t){var i=this.context.view,n=t.component,a=n.get("field");if(t0(t)){if(a){var o=n.getItemsByState("unchecked"),s=og(i,a),l=o.map(function(d){return d.name});l.length?this.filterView(i,a,function(d){var v=s.getText(d);return!l.includes(v)}):this.filterView(i,a,null),i.render(!0)}}else if(h3(t)){var u=n.getValue(),f=Rt(u,2),c=f[0],h=f[1];this.filterView(i,a,function(d){return d>=c&&d<=h}),i.render(!0)}}},e}(Yi),Nbt=wue;function Bbt(r,e,t,i){var n=Math.min(t[e],i[e]),a=Math.max(t[e],i[e]),o=Rt(r.range,2),s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=r.invert(n),f=r.invert(a);if(r.isCategory){var c=r.values.indexOf(u),h=r.values.indexOf(f),d=r.values.slice(c,h+1);return function(v){return d.includes(v)}}else return function(v){return v>=u&&v<=f}}var Zc;(function(r){r.FILTER="brush-filter-processing",r.RESET="brush-filter-reset",r.BEFORE_FILTER="brush-filter:beforefilter",r.AFTER_FILTER="brush-filter:afterfilter",r.BEFORE_RESET="brush-filter:beforereset",r.AFTER_RESET="brush-filter:afterreset"})(Zc||(Zc={}));var _ue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,i;if(e0(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},i={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,i=this.context.getCurrentPoint()}if(!(Math.abs(t.x-i.x)<5||Math.abs(t.x-i.y)<5)){var o=this.context,s=o.view,l=o.event,u={view:s,event:l,dims:this.dims};s.emit(Zc.BEFORE_FILTER,Qo.fromData(s,Zc.BEFORE_FILTER,u));var f=s.getCoordinate(),c=f.invert(i),h=f.invert(t);if(this.hasDim("x")){var d=s.getXScale(),v=Bbt(d,"x",c,h);this.filterView(s,d.field,v)}if(this.hasDim("y")){var p=s.getYScales()[0],v=Bbt(p,"y",c,h);this.filterView(s,p.field,v)}this.reRender(s,{source:Zc.FILTER}),s.emit(Zc.AFTER_FILTER,Qo.fromData(s,Zc.AFTER_FILTER,u))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(Zc.BEFORE_RESET,Qo.fromData(t,Zc.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var i=t.getXScale();this.filterView(t,i.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:Zc.RESET}),t.emit(Zc.AFTER_RESET,Qo.fromData(t,Zc.AFTER_RESET,{}))},e.prototype.filterView=function(t,i,n){t.filter(i,n)},e.prototype.reRender=function(t,i){t.render(!0,i)},e}(Yi),jE=_ue;var Sue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,i,n){var a=Vf(t);at(a,function(o){o.filter(i,n)})},e.prototype.reRender=function(t){var i=Vf(t);at(i,function(n){n.render(!0)})},e}(jE),C5=Sue;var Cue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(){var t=rd(this.context),i=this.context.view,n=Ua(i);if(e0(this.context)){var a=dE(this.context,10);a&&at(n,function(p){a.includes(p)?p.show():p.hide()})}else if(t){var o=t.component,s=o.get("field");if(t0(t)){if(s){var l=o.getItemsByState("unchecked"),u=og(i,s),f=l.map(function(p){return p.name});at(n,function(p){var g=Pl(p,s),m=u.getText(g);f.indexOf(m)>=0?p.hide():p.show()})}}else if(h3(t)){var c=o.getValue(),h=Rt(c,2),d=h[0],v=h[1];at(n,function(p){var g=Pl(p,s);g>=d&&g<=v?p.show():p.hide()})}}},e.prototype.clear=function(){var t=Ua(this.context.view);at(t,function(i){i.show()})},e.prototype.reset=function(){this.clear()},e}(Yi),Rbt=Cue;var Mue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.byRecord=!1,t}return e.prototype.filter=function(){e0(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,i=dE(this.context,10);if(!!i){var n=t.getXScale().field,a=t.getYScales()[0].field,o=i.map(function(l){return l.getModel().data}),s=Vf(t);at(s,function(l){var u=Ua(l);at(u,function(f){var c=f.getModel().data;g3(o,c,n,a)?f.show():f.hide()})})}},e.prototype.filterByBBox=function(){var t=this,i=this.context.view,n=Vf(i);at(n,function(a){var o=d3(t.context,a,10),s=Ua(a);o&&at(s,function(l){o.includes(l)?l.show():l.hide()})})},e.prototype.reset=function(){var t=Vf(this.context.view);at(t,function(i){var n=Ua(i);at(n,function(a){a.show()})})},e}(Yi),UX=Mue;var Aue=10,Eue=5,Tue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return e.prototype.getButtonCfg=function(){return Le(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),i=this.context.view.foregroundGroup.addGroup({name:t.name}),n=i.addShape({type:"text",name:"button-text",attrs:S({text:t.text},t.textStyle)}),a=n.getBBox(),o=mE(t.padding),s=i.addShape({type:"rect",name:"button-rect",attrs:S({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),i.on("mouseenter",function(){s.attr(t.activeStyle)}),i.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=i},e.prototype.resetPosition=function(){var t=this.context.view,i=t.getCoordinate(),n=i.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Ni.transform(null,[["t",n.x-o.width-Aue,n.y+o.height+Eue]]);a.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),r.prototype.destroy.call(this)},e}(Yi),Gbt=Tue;var Iue=4,Lue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),i=this.context.view,n=this.context.event;this.dragStart?i.emit("drag",{target:n.target,x:n.x,y:n.y}):vE(t,this.startPoint)>Iue&&(i.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,i=this.context.event;t.emit("dragend",{target:i.target,x:i.x,y:i.y})}this.starting=!1,this.dragStart=!1},e}(Yi),zbt=Lue;var Oue=5,kue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(!!this.starting){var t=this.startPoint,i=this.context.getCurrentPoint(),n=vE(t,i);if(n>Oue&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Ni.transform(this.startMatrix,[["t",i.x-t.x,i.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(Yi),jbt=kue;var Ybt="x",Wbt="y",Pue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=[Ybt,Wbt],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var i=this.context.view;return t==="x"?i.getXScale():i.getYScales()[0]},e.prototype.resetDim=function(t){var i=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);i.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(Ybt),this.resetDim(Wbt);var t=this.context.view;t.render(!0)},e}(Yi),M5=Pue;var Due=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var i=this.dims;at(i,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(!!this.starting){var i=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(i),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,f=this.context.view,c=this.dims;at(c,function(h){t.translateDim(h,{x:l*-1,y:u*-1})}),f.render(!0)}},e.prototype.translateDim=function(t,i){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,i)}},e.prototype.translateLinear=function(t,i,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,f=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:i.nice,min:s,max:l}),a.scale(i.field,{nice:!1,min:s+f,max:l+f})},e.prototype.reset=function(){r.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(M5),Vbt=Due;var Fue=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.zoomRatio=.05,t}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var i=this,n=this.dims;at(n,function(a){i.zoomDim(a,t)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,i){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,i)}},e.prototype.zoomLinear=function(t,i,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:i.nice,min:i.min,max:i.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=i.min,u=i.max,f=n*s,c=l-f,h=u+f,d=h-c,v=d/s;h>c&&v<100&&v>.01&&a.scale(i.field,{nice:!1,min:l-f,max:u+f})},e}(M5),qbt=Fue;function Nue(r){var e=r.gEvent.originalEvent;return e.deltaY>0}var Bue=1,Rue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.scroll=function(t){var i=this.context,n=i.view,a=i.event;if(!!n.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||Bue,s=n.getController("scrollbar"),l=n.getXScale(),u=n.getOptions().data,f=Mo(Il(u,l.field)),c=Mo(l.values),h=s.getValue(),d=Math.floor((f-c)*h),v=d+(Nue(a)?o:-o),p=o/(f-c)/1e4,g=Qn(v/(f-c)+p,0,1);s.setValue(g)}},e}(Yi),Hbt=Rue;var Gue="aixs-description-tooltip",zue=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.context,i=rd(t).axis,n=i.cfg.title,a=n.description,o=n.text,s=n.descriptionTooltipStyle,l=t.event,u=l.x,f=l.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(Ko.CONTAINER_CLASS,'" style={').concat(s,`}>
            <div class="`).concat(Ko.TITLE_CLASS,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(a,`
            </div>
          </div>
        `)},x:u,y:f}),this.tooltip.show()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,i=this.context.view,n=i.canvas,a={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},o=new eb({parent:n.get("el").parentNode,region:a,visible:!1,containerId:Gue,domStyles:S({},Le({},(t={},t[Ko.CONTAINER_CLASS]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[Ko.TITLE_CLASS]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(Yi),Ubt=zue;gE("dark",y3(k0t));rR("canvas",MX);rR("svg",TX);Hc("Polygon",jxt);Hc("Interval",Bxt);Hc("Schema",Yxt);Hc("Path",EE);Hc("Point",zxt);Hc("Line",Rxt);Hc("Area",Oxt);Hc("Edge",kxt);Hc("Heatmap",Pxt);Hc("Violin",Wxt);bE("base",US);bE("interval",Uxt);bE("pie",Xxt);bE("polar",n5);pu("overlap",a1t);pu("distribute",Kxt);pu("fixed-overlap",n1t);pu("hide-overlap",v1t);pu("limit-in-shape",r1t);pu("limit-in-canvas",e1t);pu("limit-in-plot",T1t);pu("pie-outer",$xt);pu("adjust-color",m1t);pu("interval-adjust-position",y1t);pu("interval-hide-overlap",x1t);pu("point-adjust-position",_1t);pu("pie-spider",t1t);pu("path-adjust-position",M1t);Ku("fade-in",I1t);Ku("fade-out",L1t);Ku("grow-in-x",O1t);Ku("grow-in-xy",P1t);Ku("grow-in-y",k1t);Ku("scale-in-x",N1t);Ku("scale-in-y",B1t);Ku("wave-in",Y1t);Ku("zoom-in",W1t);Ku("zoom-out",V1t);Ku("position-update",F1t);Ku("sector-path-update",j1t);Ku("path-in",D1t);ab("rect",Z1t);ab("mirror",X1t);ab("list",H1t);ab("matrix",U1t);ab("circle",q1t);ab("tree",K1t);r0("axis",tbt);r0("legend",rbt);r0("tooltip",iX);r0("annotation",$1t);r0("slider",ibt);r0("scrollbar",abt);Jr("tooltip",v5);Jr("sibling-tooltip",sbt);Jr("ellipsis-text",lbt);Jr("element-active",fbt);Jr("element-single-active",dbt);Jr("element-range-active",hbt);Jr("element-highlight",NE);Jr("element-highlight-by-x",pbt);Jr("element-highlight-by-color",vbt);Jr("element-single-highlight",gbt);Jr("element-range-highlight",BX);Jr("element-sibling-highlight",BX,{effectSiblings:!0,effectByRecord:!0});Jr("element-selected",ybt);Jr("element-single-selected",xbt);Jr("element-range-selected",mbt);Jr("element-link-by-color",cbt);Jr("active-region",obt);Jr("list-active",bbt);Jr("list-selected",Cbt);Jr("list-highlight",g5);Jr("list-unchecked",Mbt);Jr("list-checked",Abt);Jr("list-focus",Ebt);Jr("list-radio",Ibt);Jr("legend-item-highlight",g5,{componentNames:["legend"]});Jr("axis-label-highlight",g5,{componentNames:["axis"]});Jr("axis-description",Ubt);Jr("rect-mask",y5);Jr("x-rect-mask",WX,{dim:"x"});Jr("y-rect-mask",WX,{dim:"y"});Jr("circle-mask",Lbt);Jr("path-mask",b5);Jr("smooth-path-mask",kbt);Jr("rect-multi-mask",_5);Jr("x-rect-multi-mask",HX,{dim:"x"});Jr("y-rect-multi-mask",HX,{dim:"y"});Jr("circle-multi-mask",Pbt);Jr("path-multi-mask",S5);Jr("smooth-path-multi-mask",Dbt);Jr("cursor",Fbt);Jr("data-filter",Nbt);Jr("brush",jE);Jr("brush-x",jE,{dims:["x"]});Jr("brush-y",jE,{dims:["y"]});Jr("sibling-filter",C5);Jr("sibling-x-filter",C5,{dims:"x"});Jr("sibling-y-filter",C5,{dims:"y"});Jr("element-filter",Rbt);Jr("element-sibling-filter",UX);Jr("element-sibling-filter-record",UX,{byRecord:!0});Jr("view-drag",zbt);Jr("view-move",jbt);Jr("scale-translate",Vbt);Jr("scale-zoom",qbt);Jr("reset-button",Gbt,{name:"reset-button",text:"reset"});Jr("mousewheel-scroll",Hbt);function f0(r){return r.isInPlot()}da("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});da("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});da("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});da("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});da("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});da("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});da("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});da("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});da("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});da("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});da("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});da("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(r){return!r.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(r){return!r.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});da("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:f0,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:f0,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:f0,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});da("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});da("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:f0,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:f0,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:f0,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});da("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:f0,action:"path-mask:start"},{trigger:"mousedown",isEnable:f0,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});da("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:f0,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(r){return!Pk(r)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]});da("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});da("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(r){return!r.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});da("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});da("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});da("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]});da("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});da("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function Xbt(r){return r.gEvent.preventDefault(),r.gEvent.originalEvent.deltaY>0}da("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(r){return Xbt(r.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(r){return!Xbt(r.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});da("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});da("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var MF={};ai(MF,{Area:()=>Wtt,Bar:()=>Vtt,BidirectionalBar:()=>Cet,Box:()=>Ktt,Bullet:()=>qtt,Chord:()=>aet,CirclePacking:()=>wet,Column:()=>Htt,DualAxes:()=>fet,FUNNEL_CONVERSATION_FIELD:()=>Us,Facet:()=>_et,Funnel:()=>Utt,G2:()=>PD,Gauge:()=>tet,Heatmap:()=>$tt,Histogram:()=>Xtt,Line:()=>Ztt,Liquid:()=>Qtt,Mix:()=>CF,MultiView:()=>CF,Pie:()=>Jtt,Plot:()=>Je,Progress:()=>eet,Radar:()=>ret,RadialBar:()=>get,RingProgress:()=>iet,Rose:()=>net,Sankey:()=>met,Scatter:()=>oet,Stock:()=>pet,Sunburst:()=>vet,TinyArea:()=>set,TinyColumn:()=>uet,TinyLine:()=>cet,Treemap:()=>yet,Venn:()=>bet,Violin:()=>xet,Waterfall:()=>het,WordCloud:()=>det,adaptors:()=>Ftt,default:()=>qDe,flow:()=>or,getCanvasPattern:()=>yT,measureTextWidth:()=>DD});var PD={};ai(PD,{Action:()=>Qr,BRUSH_FILTER_EVENTS:()=>jl,Chart:()=>rD,ComponentController:()=>ac,Coordinate:()=>Mg,DIRECTION:()=>Fe,ELEMENT_RANGE_HIGHLIGHT_EVENTS:()=>yd,Element:()=>k2,Event:()=>wn,Facet:()=>ef,Geometry:()=>dl,GeometryLabel:()=>Bg,Interaction:()=>QP,InteractionAction:()=>Qr,LAYER:()=>ia,Scale:()=>ld,TooltipController:()=>L2,Util:()=>uo,VERSION:()=>YSe,VIEW_LIFE_CIRCLE:()=>ti,View:()=>eD,getActionClass:()=>qv,getAnimation:()=>iD,getEngine:()=>N5,getFacet:()=>nz,getGeometryLabel:()=>yz,getGeometryLabelLayout:()=>xz,getInteraction:()=>BQ,getShapeFactory:()=>nD,getTheme:()=>Dg,registerAction:()=>br,registerAnimation:()=>bu,registerComponentController:()=>dd,registerEngine:()=>rP,registerFacet:()=>E0,registerGeometry:()=>nc,registerGeometryLabel:()=>D0,registerGeometryLabelLayout:()=>zl,registerInteraction:()=>Vr,registerShape:()=>kr,registerShapeFactory:()=>hl,registerTheme:()=>vz});var I2=et(ot());var ia;(function(r){r.FORE="fore",r.MID="mid",r.BG="bg"})(ia||(ia={}));var Fe;(function(r){r.TOP="top",r.TOP_LEFT="top-left",r.TOP_RIGHT="top-right",r.RIGHT="right",r.RIGHT_TOP="right-top",r.RIGHT_BOTTOM="right-bottom",r.LEFT="left",r.LEFT_TOP="left-top",r.LEFT_BOTTOM="left-bottom",r.BOTTOM="bottom",r.BOTTOM_LEFT="bottom-left",r.BOTTOM_RIGHT="bottom-right",r.RADIUS="radius",r.CIRCLE="circle",r.NONE="none"})(Fe||(Fe={}));var po;(function(r){r.AXIS="axis",r.GRID="grid",r.LEGEND="legend",r.TOOLTIP="tooltip",r.ANNOTATION="annotation",r.SLIDER="slider",r.SCROLLBAR="scrollbar",r.OTHER="other"})(po||(po={}));var db={FORE:3,MID:2,BG:1},ti;(function(r){r.BEFORE_RENDER="beforerender",r.AFTER_RENDER="afterrender",r.BEFORE_PAINT="beforepaint",r.AFTER_PAINT="afterpaint",r.BEFORE_CHANGE_DATA="beforechangedata",r.AFTER_CHANGE_DATA="afterchangedata",r.BEFORE_CLEAR="beforeclear",r.AFTER_CLEAR="afterclear",r.BEFORE_DESTROY="beforedestroy",r.BEFORE_CHANGE_SIZE="beforechangesize",r.AFTER_CHANGE_SIZE="afterchangesize"})(ti||(ti={}));var Fv;(function(r){r.BEFORE_DRAW_ANIMATE="beforeanimate",r.AFTER_DRAW_ANIMATE="afteranimate",r.BEFORE_RENDER_LABEL="beforerenderlabel",r.AFTER_RENDER_LABEL="afterrenderlabel"})(Fv||(Fv={}));var $u;(function(r){r.MOUSE_ENTER="plot:mouseenter",r.MOUSE_DOWN="plot:mousedown",r.MOUSE_MOVE="plot:mousemove",r.MOUSE_UP="plot:mouseup",r.MOUSE_LEAVE="plot:mouseleave",r.TOUCH_START="plot:touchstart",r.TOUCH_MOVE="plot:touchmove",r.TOUCH_END="plot:touchend",r.TOUCH_CANCEL="plot:touchcancel",r.CLICK="plot:click",r.DBLCLICK="plot:dblclick",r.CONTEXTMENU="plot:contextmenu",r.LEAVE="plot:leave",r.ENTER="plot:enter"})($u||($u={}));var eP;(function(r){r.ACTIVE="active",r.INACTIVE="inactive",r.SELECTED="selected",r.DEFAULT="default"})(eP||(eP={}));var h0=["color","shape","size"],sn="_origin",mZ=1,yZ=1,xZ=.25;var nSt={};function N5(r){var e=nSt[r];if(!e)throw new Error("G engine '".concat(r,"' is not exist, please register it at first."));return e}function rP(r,e){nSt[r]=e}function Xf(r,e,t){if(r){if(typeof r.addEventListener=="function")return r.addEventListener(e,t,!1),{remove:function(){r.removeEventListener(e,t,!1)}};if(typeof r.attachEvent=="function")return r.attachEvent("on"+e,t),{remove:function(){r.detachEvent("on"+e,t)}}}}var iP,bZ,aSt,wZ;function Ipe(){iP=document.createElement("table"),bZ=document.createElement("tr"),aSt=/^\s*<(\w+|!)[^>]*>/,wZ={tr:document.createElement("tbody"),tbody:iP,thead:iP,tfoot:iP,td:bZ,th:bZ,"*":document.createElement("div")}}function gi(r){iP||Ipe();var e=aSt.test(r)&&RegExp.$1;(!e||!(e in wZ))&&(e="*");var t=wZ[e];r=typeof r=="string"?r.replace(/(^\s*)|(\s*$)/g,""):r,t.innerHTML=""+r;var i=t.childNodes[0];return i&&t.contains(i)&&t.removeChild(i),i}function Os(r,e,t){var i;try{i=window.getComputedStyle?window.getComputedStyle(r,null)[e]:r.style[e]}catch(n){}finally{i=i===void 0?t:i}return i}function B5(r,e){var t=Os(r,"height",e);return t==="auto"&&(t=r.offsetHeight),parseFloat(t)}function R5(r,e){var t=B5(r,e),i=parseFloat(Os(r,"borderTopWidth"))||0,n=parseFloat(Os(r,"paddingTop"))||0,a=parseFloat(Os(r,"paddingBottom"))||0,o=parseFloat(Os(r,"borderBottomWidth"))||0,s=parseFloat(Os(r,"marginTop"))||0,l=parseFloat(Os(r,"marginBottom"))||0;return t+i+o+n+a+s+l}function G5(r,e){var t=Os(r,"width",e);return t==="auto"&&(t=r.offsetWidth),parseFloat(t)}function z5(r,e){var t=G5(r,e),i=parseFloat(Os(r,"borderLeftWidth"))||0,n=parseFloat(Os(r,"paddingLeft"))||0,a=parseFloat(Os(r,"paddingRight"))||0,o=parseFloat(Os(r,"borderRightWidth"))||0,s=parseFloat(Os(r,"marginRight"))||0,l=parseFloat(Os(r,"marginLeft"))||0;return t+i+o+n+a+l+s}function xr(r,e){if(r)for(var t in e)e.hasOwnProperty(t)&&(r.style[t]=e[t]);return r}function Lpe(r){var e=getComputedStyle(r);return{width:(r.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(r.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function oSt(r){return typeof r=="number"&&!isNaN(r)}function _Z(r,e,t,i){var n=t,a=i;if(e){var o=Lpe(r);n=o.width?o.width:n,a=o.height?o.height:a}return{width:Math.max(oSt(n)?n:mZ,mZ),height:Math.max(oSt(a)?a:yZ,yZ)}}function sSt(r){var e=r.parentNode;e&&e.removeChild(r)}var wr=et(ot());var Ope="*",kpe=function(){function r(){this._events={}}return r.prototype.on=function(e,t,i){return this._events[e]||(this._events[e]=[]),this._events[e].push({callback:t,once:!!i}),this},r.prototype.once=function(e,t){return this.on(e,t,!0)},r.prototype.emit=function(e){for(var t=this,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var a=this._events[e]||[],o=this._events[Ope]||[],s=function(l){for(var u=l.length,f=0;f<u;f++)if(!!l[f]){var c=l[f],h=c.callback,d=c.once;d&&(l.splice(f,1),l.length===0&&delete t._events[e],u--,f--),h.apply(t,i)}};s(a),s(o)},r.prototype.off=function(e,t){if(!e)this._events={};else if(!t)delete this._events[e];else{for(var i=this._events[e]||[],n=i.length,a=0;a<n;a++)i[a].callback===t&&(i.splice(a,1),n--,a--);i.length===0&&delete this._events[e]}return this},r.prototype.getEvents=function(){return this._events},r}(),vb=kpe;var Ppe=function(r){G(e,r);function e(t){var i=r.call(this)||this;i.destroyed=!1;var n=t.visible,a=n===void 0?!0:n;return i.visible=a,i}return e.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},e.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},e.prototype.destroy=function(){this.off(),this.destroyed=!0},e.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},e}(vb),VE=Ppe;var OQ=et(ot());var tf=et(ot());var Rl=et(ot());var Bl=et(ot());var qE={};ai(qE,{catmullRomToBezier:()=>SZ,fillPath:()=>Hpe,fillPathByDiff:()=>EZ,formatPath:()=>W5,intersection:()=>Ype,parsePathArray:()=>fSt,parsePathString:()=>JS,pathToAbsolute:()=>CZ,pathToCurve:()=>MZ,rectPath:()=>dSt});var nP=et(ot()),aP=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Dpe=new RegExp("([a-z])["+aP+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+aP+"]*,?["+aP+"]*)+)","ig"),Fpe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+aP+"]*,?["+aP+"]*","ig"),JS=function(r){if(!r)return null;if((0,nP.isArray)(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(Dpe,function(i,n,a){var o=[],s=n.toLowerCase();if(a.replace(Fpe,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return r}),t},SZ=function(r,e){for(var t=[],i=0,n=r.length;n-2*!e>i;i+=2){var a=[{x:+r[i-2],y:+r[i-1]},{x:+r[i],y:+r[i+1]},{x:+r[i+2],y:+r[i+3]},{x:+r[i+4],y:+r[i+5]}];e?i?n-4===i?a[3]={x:+r[0],y:+r[1]}:n-2===i&&(a[2]={x:+r[0],y:+r[1]},a[3]={x:+r[2],y:+r[3]}):a[0]={x:+r[n-2],y:+r[n-1]}:n-4===i?a[3]=a[2]:i||(a[0]={x:+r[i],y:+r[i+1]}),t.push(["C",(-a[0].x+6*a[1].x+a[2].x)/6,(-a[0].y+6*a[1].y+a[2].y)/6,(a[1].x+6*a[2].x-a[3].x)/6,(a[1].y+6*a[2].y-a[3].y)/6,a[2].x,a[2].y])}return t},j5=function(r,e,t,i,n){var a=[];if(n===null&&i===null&&(i=t),r=+r,e=+e,t=+t,i=+i,n!==null){var o=Math.PI/180,s=r+t*Math.cos(-i*o),l=r+t*Math.cos(-n*o),u=e+t*Math.sin(-i*o),f=e+t*Math.sin(-n*o);a=[["M",s,u],["A",t,t,0,+(n-i>180),0,l,f]]}else a=[["M",r,e],["m",0,-i],["a",t,i,0,1,1,0,2*i],["a",t,i,0,1,1,0,-2*i],["z"]];return a},CZ=function(r){if(r=JS(r),!r||!r.length)return[["M",0,0]];var e=[],t=0,i=0,n=0,a=0,o=0,s,l;r[0][0]==="M"&&(t=+r[0][1],i=+r[0][2],n=t,a=i,o++,e[0]=["M",t,i]);for(var u=r.length===3&&r[0][0]==="M"&&r[1][0].toUpperCase()==="R"&&r[2][0].toUpperCase()==="Z",f=void 0,c=void 0,h=o,d=r.length;h<d;h++){if(e.push(f=[]),c=r[h],s=c[0],s!==s.toUpperCase())switch(f[0]=s.toUpperCase(),f[0]){case"A":f[1]=c[1],f[2]=c[2],f[3]=c[3],f[4]=c[4],f[5]=c[5],f[6]=+c[6]+t,f[7]=+c[7]+i;break;case"V":f[1]=+c[1]+i;break;case"H":f[1]=+c[1]+t;break;case"R":l=[t,i].concat(c.slice(1));for(var v=2,p=l.length;v<p;v++)l[v]=+l[v]+t,l[++v]=+l[v]+i;e.pop(),e=e.concat(SZ(l,u));break;case"O":e.pop(),l=j5(t,i,c[1],c[2]),l.push(l[0]),e=e.concat(l);break;case"U":e.pop(),e=e.concat(j5(t,i,c[1],c[2],c[3])),f=["U"].concat(e[e.length-1].slice(-2));break;case"M":n=+c[1]+t,a=+c[2]+i;break;default:for(var v=1,p=c.length;v<p;v++)f[v]=+c[v]+(v%2?t:i)}else if(s==="R")l=[t,i].concat(c.slice(1)),e.pop(),e=e.concat(SZ(l,u)),f=["R"].concat(c.slice(-2));else if(s==="O")e.pop(),l=j5(t,i,c[1],c[2]),l.push(l[0]),e=e.concat(l);else if(s==="U")e.pop(),e=e.concat(j5(t,i,c[1],c[2],c[3])),f=["U"].concat(e[e.length-1].slice(-2));else for(var g=0,m=c.length;g<m;g++)f[g]=c[g];if(s=s.toUpperCase(),s!=="O")switch(f[0]){case"Z":t=+n,i=+a;break;case"H":t=f[1];break;case"V":i=f[1];break;case"M":n=f[f.length-2],a=f[f.length-1];break;default:t=f[f.length-2],i=f[f.length-1]}}return e},Y5=function(r,e,t,i){return[r,e,t,i,t,i]},lSt=function(r,e,t,i,n,a){var o=1/3,s=2/3;return[o*r+s*t,o*e+s*i,o*n+s*t,o*a+s*i,n,a]},uSt=function(r,e,t,i,n,a,o,s,l,u){t===i&&(t+=1);var f=Math.PI*120/180,c=Math.PI/180*(+n||0),h=[],d,v,p,g,m,y=function(pt,_t,Et){var Ot=pt*Math.cos(Et)-_t*Math.sin(Et),oe=pt*Math.sin(Et)+_t*Math.cos(Et);return{x:Ot,y:oe}};if(u)v=u[0],p=u[1],g=u[2],m=u[3];else{d=y(r,e,-c),r=d.x,e=d.y,d=y(s,l,-c),s=d.x,l=d.y,r===s&&e===l&&(s+=1,l+=1);var x=(r-s)/2,b=(e-l)/2,_=x*x/(t*t)+b*b/(i*i);_>1&&(_=Math.sqrt(_),t=_*t,i=_*i);var M=t*t,A=i*i,I=(a===o?-1:1)*Math.sqrt(Math.abs((M*A-M*b*b-A*x*x)/(M*b*b+A*x*x)));g=I*t*b/i+(r+s)/2,m=I*-i*x/t+(e+l)/2,v=Math.asin(((e-m)/i).toFixed(9)),p=Math.asin(((l-m)/i).toFixed(9)),v=r<g?Math.PI-v:v,p=s<g?Math.PI-p:p,v<0&&(v=Math.PI*2+v),p<0&&(p=Math.PI*2+p),o&&v>p&&(v=v-Math.PI*2),!o&&p>v&&(p=p-Math.PI*2)}var k=p-v;if(Math.abs(k)>f){var E=p,O=s,P=l;p=v+f*(o&&p>v?1:-1),s=g+t*Math.cos(p),l=m+i*Math.sin(p),h=uSt(s,l,t,i,n,0,o,O,P,[p,E,g,m])}k=p-v;var N=Math.cos(v),R=Math.sin(v),z=Math.cos(p),B=Math.sin(p),Y=Math.tan(k/4),q=4/3*t*Y,j=4/3*i*Y,Z=[r,e],tt=[r+q*R,e-j*N],lt=[s+q*B,l-j*z],J=[s,l];if(tt[0]=2*Z[0]-tt[0],tt[1]=2*Z[1]-tt[1],u)return[tt,lt,J].concat(h);h=[tt,lt,J].concat(h).join().split(",");for(var nt=[],ut=0,ft=h.length;ut<ft;ut++)nt[ut]=ut%2?y(h[ut-1],h[ut],c).y:y(h[ut],h[ut+1],c).x;return nt},MZ=function(r,e){var t=CZ(r),i=e&&CZ(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},o=[],s=[],l="",u="",f,c=function(x,b,_){var M,A;if(!x)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(x[0]in{T:1,Q:1})&&(b.qx=b.qy=null),x[0]){case"M":b.X=x[1],b.Y=x[2];break;case"A":x=["C"].concat(uSt.apply(0,[b.x,b.y].concat(x.slice(1))));break;case"S":_==="C"||_==="S"?(M=b.x*2-b.bx,A=b.y*2-b.by):(M=b.x,A=b.y),x=["C",M,A].concat(x.slice(1));break;case"T":_==="Q"||_==="T"?(b.qx=b.x*2-b.qx,b.qy=b.y*2-b.qy):(b.qx=b.x,b.qy=b.y),x=["C"].concat(lSt(b.x,b.y,b.qx,b.qy,x[1],x[2]));break;case"Q":b.qx=x[1],b.qy=x[2],x=["C"].concat(lSt(b.x,b.y,x[1],x[2],x[3],x[4]));break;case"L":x=["C"].concat(Y5(b.x,b.y,x[1],x[2]));break;case"H":x=["C"].concat(Y5(b.x,b.y,x[1],b.y));break;case"V":x=["C"].concat(Y5(b.x,b.y,b.x,x[1]));break;case"Z":x=["C"].concat(Y5(b.x,b.y,b.X,b.Y));break;default:break}return x},h=function(x,b){if(x[b].length>7){x[b].shift();for(var _=x[b];_.length;)o[b]="A",i&&(s[b]="A"),x.splice(b++,0,["C"].concat(_.splice(0,6)));x.splice(b,1),f=Math.max(t.length,i&&i.length||0)}},d=function(x,b,_,M,A){x&&b&&x[A][0]==="M"&&b[A][0]!=="M"&&(b.splice(A,0,["M",M.x,M.y]),_.bx=0,_.by=0,_.x=x[A][1],_.y=x[A][2],f=Math.max(t.length,i&&i.length||0))};f=Math.max(t.length,i&&i.length||0);for(var v=0;v<f;v++){t[v]&&(l=t[v][0]),l!=="C"&&(o[v]=l,v&&(u=o[v-1])),t[v]=c(t[v],n,u),o[v]!=="A"&&l==="C"&&(o[v]="C"),h(t,v),i&&(i[v]&&(l=i[v][0]),l!=="C"&&(s[v]=l,v&&(u=s[v-1])),i[v]=c(i[v],a,u),s[v]!=="A"&&l==="C"&&(s[v]="C"),h(i,v)),d(t,i,n,a,v),d(i,t,a,n,v);var p=t[v],g=i&&i[v],m=p.length,y=i&&g.length;n.x=p[m-2],n.y=p[m-1],n.bx=parseFloat(p[m-4])||n.x,n.by=parseFloat(p[m-3])||n.y,a.bx=i&&(parseFloat(g[y-4])||a.x),a.by=i&&(parseFloat(g[y-3])||a.y),a.x=i&&g[y-2],a.y=i&&g[y-1]}return i?[t,i]:t},Npe=/,?([a-z]),?/gi,fSt=function(r){return r.join(",").replace(Npe,"$1")},cSt=function(r,e,t,i,n){var a=-3*e+9*t-9*i+3*n,o=r*a+6*e-12*t+6*i;return r*o-3*e+3*t},hSt=function(r,e,t,i,n,a,o,s,l){l===null&&(l=1),l=l>1?1:l<0?0:l;for(var u=l/2,f=12,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,v=0;v<f;v++){var p=u*c[v]+u,g=cSt(p,r,t,n,o),m=cSt(p,e,i,a,s),y=g*g+m*m;d+=h[v]*Math.sqrt(y)}return u*d},Bpe=function(r,e,t,i,n,a,o,s){for(var l=[],u=[[],[]],f,c,h,d,v=0;v<2;++v){if(v===0?(c=6*r-12*t+6*n,f=-3*r+9*t-9*n+3*o,h=3*t-3*r):(c=6*e-12*i+6*a,f=-3*e+9*i-9*a+3*s,h=3*i-3*e),Math.abs(f)<1e-12){if(Math.abs(c)<1e-12)continue;d=-h/c,d>0&&d<1&&l.push(d);continue}var p=c*c-4*h*f,g=Math.sqrt(p);if(!(p<0)){var m=(-c+g)/(2*f);m>0&&m<1&&l.push(m);var y=(-c-g)/(2*f);y>0&&y<1&&l.push(y)}}for(var x=l.length,b=x,_;x--;)d=l[x],_=1-d,u[0][x]=_*_*_*r+3*_*_*d*t+3*_*d*d*n+d*d*d*o,u[1][x]=_*_*_*e+3*_*_*d*i+3*_*d*d*a+d*d*d*s;return u[0][b]=r,u[1][b]=e,u[0][b+1]=o,u[1][b+1]=s,u[0].length=u[1].length=b+2,{min:{x:Math.min.apply(0,u[0]),y:Math.min.apply(0,u[1])},max:{x:Math.max.apply(0,u[0]),y:Math.max.apply(0,u[1])}}},Rpe=function(r,e,t,i,n,a,o,s){if(!(Math.max(r,t)<Math.min(n,o)||Math.min(r,t)>Math.max(n,o)||Math.max(e,i)<Math.min(a,s)||Math.min(e,i)>Math.max(a,s))){var l=(r*i-e*t)*(n-o)-(r-t)*(n*s-a*o),u=(r*i-e*t)*(a-s)-(e-i)*(n*s-a*o),f=(r-t)*(a-s)-(e-i)*(n-o);if(!!f){var c=l/f,h=u/f,d=+c.toFixed(2),v=+h.toFixed(2);if(!(d<+Math.min(r,t).toFixed(2)||d>+Math.max(r,t).toFixed(2)||d<+Math.min(n,o).toFixed(2)||d>+Math.max(n,o).toFixed(2)||v<+Math.min(e,i).toFixed(2)||v>+Math.max(e,i).toFixed(2)||v<+Math.min(a,s).toFixed(2)||v>+Math.max(a,s).toFixed(2)))return{x:c,y:h}}}},pb=function(r,e,t){return e>=r.x&&e<=r.x+r.width&&t>=r.y&&t<=r.y+r.height},dSt=function(r,e,t,i,n){if(n)return[["M",+r+ +n,e],["l",t-n*2,0],["a",n,n,0,0,1,n,n],["l",0,i-n*2],["a",n,n,0,0,1,-n,n],["l",n*2-t,0],["a",n,n,0,0,1,-n,-n],["l",0,n*2-i],["a",n,n,0,0,1,n,-n],["z"]];var a=[["M",r,e],["l",t,0],["l",0,i],["l",-t,0],["z"]];return a.parsePathArray=fSt,a},AZ=function(r,e,t,i){return r===null&&(r=e=t=i=0),e===null&&(e=r.y,t=r.width,i=r.height,r=r.x),{x:r,y:e,width:t,w:t,height:i,h:i,x2:r+t,y2:e+i,cx:r+t/2,cy:e+i/2,r1:Math.min(t,i)/2,r2:Math.max(t,i)/2,r0:Math.sqrt(t*t+i*i)/2,path:dSt(r,e,t,i),vb:[r,e,t,i].join(" ")}},Gpe=function(r,e){return r=AZ(r),e=AZ(e),pb(e,r.x,r.y)||pb(e,r.x2,r.y)||pb(e,r.x,r.y2)||pb(e,r.x2,r.y2)||pb(r,e.x,e.y)||pb(r,e.x2,e.y)||pb(r,e.x,e.y2)||pb(r,e.x2,e.y2)||(r.x<e.x2&&r.x>e.x||e.x<r.x2&&e.x>r.x)&&(r.y<e.y2&&r.y>e.y||e.y<r.y2&&e.y>r.y)},vSt=function(r,e,t,i,n,a,o,s){(0,nP.isArray)(r)||(r=[r,e,t,i,n,a,o,s]);var l=Bpe.apply(null,r);return AZ(l.min.x,l.min.y,l.max.x-l.min.x,l.max.y-l.min.y)},pSt=function(r,e,t,i,n,a,o,s,l){var u=1-l,f=Math.pow(u,3),c=Math.pow(u,2),h=l*l,d=h*l,v=f*r+c*3*l*t+u*3*l*l*n+d*o,p=f*e+c*3*l*i+u*3*l*l*a+d*s,g=r+2*l*(t-r)+h*(n-2*t+r),m=e+2*l*(i-e)+h*(a-2*i+e),y=t+2*l*(n-t)+h*(o-2*n+t),x=i+2*l*(a-i)+h*(s-2*a+i),b=u*r+l*t,_=u*e+l*i,M=u*n+l*o,A=u*a+l*s,I=90-Math.atan2(g-y,m-x)*180/Math.PI;return{x:v,y:p,m:{x:g,y:m},n:{x:y,y:x},start:{x:b,y:_},end:{x:M,y:A},alpha:I}},zpe=function(r,e,t){var i=vSt(r),n=vSt(e);if(!Gpe(i,n))return t?0:[];for(var a=hSt.apply(0,r),o=hSt.apply(0,e),s=~~(a/8),l=~~(o/8),u=[],f=[],c={},h=t?0:[],d=0;d<s+1;d++){var v=pSt.apply(0,r.concat(d/s));u.push({x:v.x,y:v.y,t:d/s})}for(var d=0;d<l+1;d++){var v=pSt.apply(0,e.concat(d/l));f.push({x:v.x,y:v.y,t:d/l})}for(var d=0;d<s;d++)for(var p=0;p<l;p++){var g=u[d],m=u[d+1],y=f[p],x=f[p+1],b=Math.abs(m.x-g.x)<.001?"y":"x",_=Math.abs(x.x-y.x)<.001?"y":"x",M=Rpe(g.x,g.y,m.x,m.y,y.x,y.y,x.x,x.y);if(M){if(c[M.x.toFixed(4)]===M.y.toFixed(4))continue;c[M.x.toFixed(4)]=M.y.toFixed(4);var A=g.t+Math.abs((M[b]-g[b])/(m[b]-g[b]))*(m.t-g.t),I=y.t+Math.abs((M[_]-y[_])/(x[_]-y[_]))*(x.t-y.t);A>=0&&A<=1&&I>=0&&I<=1&&(t?h+=1:h.push({x:M.x,y:M.y,t1:A,t2:I}))}}return h},jpe=function(r,e,t){r=MZ(r),e=MZ(e);for(var i,n,a,o,s,l,u,f,c,h,d=t?0:[],v=0,p=r.length;v<p;v++){var g=r[v];if(g[0]==="M")i=s=g[1],n=l=g[2];else{g[0]==="C"?(c=[i,n].concat(g.slice(1)),i=c[6],n=c[7]):(c=[i,n,i,n,s,l,s,l],i=s,n=l);for(var m=0,y=e.length;m<y;m++){var x=e[m];if(x[0]==="M")a=u=x[1],o=f=x[2];else{x[0]==="C"?(h=[a,o].concat(x.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,u,f,u,f],a=u,o=f);var b=zpe(c,h,t);if(t)d+=b;else{for(var _=0,M=b.length;_<M;_++)b[_].segment1=v,b[_].segment2=m,b[_].bez1=c,b[_].bez2=h;d=d.concat(b)}}}}}return d},Ype=function(r,e){return jpe(r,e)};function Wpe(r,e){var t=[],i=[];function n(a,o){if(a.length===1)t.push(a[0]),i.push(a[0]);else{for(var s=[],l=0;l<a.length-1;l++)l===0&&t.push(a[0]),l===a.length-2&&i.push(a[l+1]),s[l]=[(1-o)*a[l][0]+o*a[l+1][0],(1-o)*a[l][1]+o*a[l+1][1]];n(s,o)}}return r.length&&n(r,e),{left:t,right:i.reverse()}}function Vpe(r,e,t){var i=[[r[1],r[2]]];t=t||2;var n=[];e[0]==="A"?(i.push(e[6]),i.push(e[7])):e[0]==="C"?(i.push([e[1],e[2]]),i.push([e[3],e[4]]),i.push([e[5],e[6]])):e[0]==="S"||e[0]==="Q"?(i.push([e[1],e[2]]),i.push([e[3],e[4]])):i.push([e[1],e[2]]);for(var a=i,o=1/t,s=0;s<t-1;s++){var l=o/(1-o*s),u=Wpe(a,l);n.push(u.left),a=u.right}n.push(a);var f=n.map(function(c){var h=[];return c.length===4&&(h.push("C"),h=h.concat(c[2])),c.length>=3&&(c.length===3&&h.push("Q"),h=h.concat(c[1])),c.length===2&&h.push("L"),h=h.concat(c[c.length-1]),h});return f}var qpe=function(r,e,t){if(t===1)return[[].concat(r)];var i=[];if(e[0]==="L"||e[0]==="C"||e[0]==="Q")i=i.concat(Vpe(r,e,t));else{var n=[].concat(r);n[0]==="M"&&(n[0]="L");for(var a=0;a<=t-1;a++)i.push(n)}return i},Hpe=function(r,e){if(r.length===1)return r;var t=r.length-1,i=e.length-1,n=t/i,a=[];if(r.length===1&&r[0][0]==="M"){for(var o=0;o<i-t;o++)r.push(r[0]);return r}for(var o=0;o<i;o++){var s=Math.floor(n*o);a[s]=(a[s]||0)+1}var l=a.reduce(function(u,f,c){return c===t?u.concat(r[t]):u.concat(qpe(r[c],r[c+1],f))},[]);return l.unshift(r[0]),(e[i]==="Z"||e[i]==="z")&&l.push("Z"),l},Upe=function(r,e){if(r.length!==e.length)return!1;var t=!0;return(0,nP.each)(r,function(i,n){if(i!==e[n])return t=!1,!1}),t};function Xpe(r,e,t){var i=null,n=t;return e<n&&(n=e,i="add"),r<n&&(n=r,i="del"),{type:i,min:n}}var Zpe=function(r,e){var t=r.length,i=e.length,n,a,o=0;if(t===0||i===0)return null;for(var s=[],l=0;l<=t;l++)s[l]=[],s[l][0]={min:l};for(var u=0;u<=i;u++)s[0][u]={min:u};for(var l=1;l<=t;l++){n=r[l-1];for(var u=1;u<=i;u++){a=e[u-1],Upe(n,a)?o=0:o=1;var f=s[l-1][u].min+1,c=s[l][u-1].min+1,h=s[l-1][u-1].min+o;s[l][u]=Xpe(f,c,h)}}return s},EZ=function(r,e){var t=Zpe(r,e),i=r.length,n=e.length,a=[],o=1,s=1;if(t[i][n].min!==i){for(var l=1;l<=i;l++){var u=t[l][l].min;s=l;for(var f=o;f<=n;f++)t[l][f].min<u&&(u=t[l][f].min,s=f);o=s,t[l][o].type&&a.push({index:l-1,type:t[l][o].type})}for(var l=a.length-1;l>=0;l--)o=a[l].index,a[l].type==="add"?r.splice(o,0,[].concat(r[o])):r.splice(o,1)}i=r.length;var c=n-i;if(i<n)for(var l=0;l<c;l++)r[i-1][0]==="z"||r[i-1][0]==="Z"?r.splice(i-2,0,r[i-2]):r.push(r[i-1]),i+=1;return r};function TZ(r,e,t){for(var i=[].concat(r),n,a=1/(t+1),o=gSt(e)[0],s=1;s<=t;s++)a*=s,n=Math.floor(r.length*a),n===0?i.unshift([o[0]*a+r[n][0]*(1-a),o[1]*a+r[n][1]*(1-a)]):i.splice(n,0,[o[0]*a+r[n][0]*(1-a),o[1]*a+r[n][1]*(1-a)]);return i}function gSt(r){var e=[];switch(r[0]){case"M":e.push([r[1],r[2]]);break;case"L":e.push([r[1],r[2]]);break;case"A":e.push([r[6],r[7]]);break;case"Q":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"T":e.push([r[1],r[2]]);break;case"C":e.push([r[5],r[6]]),e.push([r[1],r[2]]),e.push([r[3],r[4]]);break;case"S":e.push([r[3],r[4]]),e.push([r[1],r[2]]);break;case"H":e.push([r[1],r[1]]);break;case"V":e.push([r[1],r[1]]);break;default:}return e}var W5=function(r,e){if(r.length<=1)return r;for(var t,i=0;i<e.length;i++)if(r[i][0]!==e[i][0])switch(t=gSt(r[i]),e[i][0]){case"M":r[i]=["M"].concat(t[0]);break;case"L":r[i]=["L"].concat(t[0]);break;case"A":r[i]=[].concat(e[i]),r[i][6]=t[0][0],r[i][7]=t[0][1];break;case"Q":if(t.length<2)if(i>0)t=TZ(t,r[i-1],1);else{r[i]=e[i];break}r[i]=["Q"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"T":r[i]=["T"].concat(t[0]);break;case"C":if(t.length<3)if(i>0)t=TZ(t,r[i-1],2);else{r[i]=e[i];break}r[i]=["C"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;case"S":if(t.length<2)if(i>0)t=TZ(t,r[i-1],1);else{r[i]=e[i];break}r[i]=["S"].concat(t.reduce(function(n,a){return n.concat(a)},[]));break;default:r[i]=e[i]}return r};var Kpe=function(){function r(e,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=e,this.name=e,this.originalEvent=t,this.timeStamp=t.timeStamp}return r.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},r.prototype.stopPropagation=function(){this.propagationStopped=!0},r.prototype.toString=function(){var e=this.type;return"[Event (type="+e+")]"},r.prototype.save=function(){},r.prototype.restore=function(){},r}(),ad=Kpe;var bn=et(ot());function V5(r,e){var t=r.indexOf(e);t!==-1&&r.splice(t,1)}var IZ=typeof window!="undefined"&&typeof window.document!="undefined";function q5(r,e){if(r.isCanvas())return!0;for(var t=e.getParent(),i=!1;t;){if(t===r){i=!0;break}t=t.getParent()}return i}function gb(r){return r.cfg.visible&&r.cfg.capture}var Qpe=function(r){G(e,r);function e(t){var i=r.call(this)||this;i.destroyed=!1;var n=i.getDefaultCfg();return i.cfg=(0,bn.mix)(n,t),i}return e.prototype.getDefaultCfg=function(){return{}},e.prototype.get=function(t){return this.cfg[t]},e.prototype.set=function(t,i){this.cfg[t]=i},e.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},e}(vb),tC=Qpe;var mSt=function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))},$pe=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}();var Jpe=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}();var tge=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}();var ege=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}();var rge=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}();var ige=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,nge=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ySt=3,age=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ige]],xSt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function H5(r){return r?bSt(r):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new rge:typeof navigator!="undefined"?bSt(navigator.userAgent):lge()}function oge(r){return r!==""&&age.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var a=n.exec(r);return!!a&&[i,a]},!1)}function bSt(r){var e=oge(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new ege;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<ySt&&(n=mSt(mSt([],n,!0),uge(ySt-n.length),!0)):n=[];var a=n.join("."),o=sge(r),s=nge.exec(r);return s&&s[1]?new tge(t,a,o,s[1]):new $pe(t,a,o)}function sge(r){for(var e=0,t=xSt.length;e<t;e++){var i=xSt[e],n=i[0],a=i[1],o=a.exec(r);if(o)return n}return null}function lge(){var r=typeof process!="undefined"&&process.version;return r?new Jpe(process.version.slice(1)):null}function uge(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var Pn=et(ot());var Pe=et(eC());var Wr={};ai(Wr,{angleTo:()=>u1e,direction:()=>ECt,leftRotate:()=>MCt,leftScale:()=>ACt,leftTranslate:()=>CCt,transform:()=>l1e,vertical:()=>f1e});var vg=et(eC());function CCt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return vg.mat3.fromTranslation(i,t),vg.mat3.multiply(r,i,e)}function MCt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return vg.mat3.fromRotation(i,t),vg.mat3.multiply(r,i,e)}function ACt(r,e,t){var i=[0,0,0,0,0,0,0,0,0];return vg.mat3.fromScaling(i,t),vg.mat3.multiply(r,i,e)}function s1e(r,e,t){return vg.mat3.multiply(r,t,e)}function l1e(r,e){for(var t=r?[].concat(r):[1,0,0,0,1,0,0,0,1],i=0,n=e.length;i<n;i++){var a=e[i];switch(a[0]){case"t":CCt(t,t,[a[1],a[2]]);break;case"s":ACt(t,t,[a[1],a[2]]);break;case"r":MCt(t,t,a[1]);break;case"m":s1e(t,t,a[1]);break;default:break}}return t}function ECt(r,e){return r[0]*e[1]-e[0]*r[1]}function u1e(r,e,t){var i=vg.vec2.angle(r,e),n=ECt(r,e)>=0;return t?n?Math.PI*2-i:i:n?i:Math.PI*2-i}function f1e(r,e,t){return t?(r[0]=e[1],r[1]=-1*e[0]):(r[0]=-1*e[1],r[1]=e[0]),r}function XZ(r,e){var t=[],i=r[0],n=r[1],a=r[2],o=r[3],s=r[4],l=r[5],u=r[6],f=r[7],c=r[8],h=e[0],d=e[1],v=e[2],p=e[3],g=e[4],m=e[5],y=e[6],x=e[7],b=e[8];return t[0]=h*i+d*o+v*u,t[1]=h*n+d*s+v*f,t[2]=h*a+d*l+v*c,t[3]=p*i+g*o+m*u,t[4]=p*n+g*s+m*f,t[5]=p*a+g*l+m*c,t[6]=y*i+x*o+b*u,t[7]=y*n+x*s+b*f,t[8]=y*a+x*l+b*c,t}function $c(r,e){var t=[],i=e[0],n=e[1];return t[0]=r[0]*i+r[3]*n+r[6],t[1]=r[1]*i+r[4]*n+r[7],t}function rC(r){var e=[],t=r[0],i=r[1],n=r[2],a=r[3],o=r[4],s=r[5],l=r[6],u=r[7],f=r[8],c=f*o-s*u,h=-f*a+s*l,d=u*a-o*l,v=t*c+i*h+n*d;return v?(v=1/v,e[0]=c*v,e[1]=(-f*i+n*u)*v,e[2]=(s*i-n*o)*v,e[3]=h*v,e[4]=(f*t-n*l)*v,e[5]=(-s*t+n*a)*v,e[6]=d*v,e[7]=(-u*t+i*l)*v,e[8]=(o*t-i*a)*v,e):null}var sP=Wr.transform,ZZ="matrix",c1e=["zIndex","capture","visible","type"],h1e=["repeat"],d1e=":",v1e="*";function p1e(r){for(var e=[],t=0;t<r.length;t++)(0,Pn.isArray)(r[t])?e.push([].concat(r[t])):e.push(r[t]);return e}function g1e(r,e){var t={},i=e.attrs;for(var n in r)t[n]=i[n];return t}function m1e(r,e){var t={},i=e.attr();return(0,Pn.each)(r,function(n,a){h1e.indexOf(a)===-1&&!(0,Pn.isEqual)(i[a],n)&&(t[a]=n)}),t}function y1e(r,e){if(e.onFrame)return r;var t=e.startTime,i=e.delay,n=e.duration,a=Object.prototype.hasOwnProperty;return(0,Pn.each)(r,function(o){t+i<o.startTime+o.delay+o.duration&&n>o.delay&&(0,Pn.each)(e.toAttrs,function(s,l){a.call(o.toAttrs,l)&&(delete o.toAttrs[l],delete o.fromAttrs[l])})}),r}var x1e=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.attrs={};var n=i.getDefaultAttrs();return(0,Pn.mix)(n,t.attrs),i.attrs=n,i.initAttrs(n),i.initAnimate(),i}return e.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},e.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},e.prototype.onCanvasChange=function(t){},e.prototype.initAttrs=function(t){},e.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},e.prototype.isGroup=function(){return!1},e.prototype.getParent=function(){return this.get("parent")},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.attr=function(){for(var t,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];var a=i[0],o=i[1];if(!a)return this.attrs;if((0,Pn.isObject)(a)){for(var s in a)this.setAttr(s,a[s]);return this.afterAttrsChange(a),this}return i.length===2?(this.setAttr(a,o),this.afterAttrsChange((t={},t[a]=o,t)),this):this.attrs[a]},e.prototype.isClipped=function(t,i){var n=this.getClip();return n&&!n.isHit(t,i)},e.prototype.setAttr=function(t,i){var n=this.attrs[t];n!==i&&(this.attrs[t]=i,this.onAttrChange(t,i,n))},e.prototype.onAttrChange=function(t,i,n){t==="matrix"&&this.set("totalMatrix",null)},e.prototype.afterAttrsChange=function(t){if(this.cfg.isClipShape){var i=this.cfg.applyTo;i&&i.onCanvasChange("clip")}else this.onCanvasChange("attr")},e.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},e.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},e.prototype.setZIndex=function(t){this.set("zIndex",t);var i=this.getParent();return i&&i.sort(),this},e.prototype.toFront=function(){var t=this.getParent();if(!!t){var i=t.getChildren(),n=this.get("el"),a=i.indexOf(this);i.splice(a,1),i.push(this),this.onCanvasChange("zIndex")}},e.prototype.toBack=function(){var t=this.getParent();if(!!t){var i=t.getChildren(),n=this.get("el"),a=i.indexOf(this);i.splice(a,1),i.unshift(this),this.onCanvasChange("zIndex")}},e.prototype.remove=function(t){t===void 0&&(t=!0);var i=this.getParent();i?(V5(i.getChildren(),this),i.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),t&&this.destroy()},e.prototype.resetMatrix=function(){this.attr(ZZ,this.getDefaultMatrix()),this.onCanvasChange("matrix")},e.prototype.getMatrix=function(){return this.attr(ZZ)},e.prototype.setMatrix=function(t){this.attr(ZZ,t),this.onCanvasChange("matrix")},e.prototype.getTotalMatrix=function(){var t=this.cfg.totalMatrix;if(!t){var i=this.attr("matrix"),n=this.cfg.parentMatrix;n&&i?t=XZ(n,i):t=i||n,this.set("totalMatrix",t)}return t},e.prototype.applyMatrix=function(t){var i=this.attr("matrix"),n=null;t&&i?n=XZ(t,i):n=i||t,this.set("totalMatrix",n),this.set("parentMatrix",t)},e.prototype.getDefaultMatrix=function(){return null},e.prototype.applyToMatrix=function(t){var i=this.attr("matrix");return i?$c(i,t):t},e.prototype.invertFromMatrix=function(t){var i=this.attr("matrix");if(i){var n=rC(i);if(n)return $c(n,t)}return t},e.prototype.setClip=function(t){var i=this.getCanvas(),n=null;if(t){var a=this.getShapeBase(),o=(0,Pn.upperFirst)(t.type),s=a[o];s&&(n=new s({type:t.type,isClipShape:!0,applyTo:this,attrs:t.attrs,canvas:i}))}return this.set("clipShape",n),this.onCanvasChange("clip"),n},e.prototype.getClip=function(){var t=this.cfg.clipShape;return t||null},e.prototype.clone=function(){var t=this,i=this.attrs,n={};(0,Pn.each)(i,function(s,l){(0,Pn.isArray)(i[l])?n[l]=p1e(i[l]):n[l]=i[l]});var a=this.constructor,o=new a({attrs:n});return(0,Pn.each)(c1e,function(s){o.set(s,t.get(s))}),o},e.prototype.destroy=function(){var t=this.destroyed;t||(this.attrs={},r.prototype.destroy.call(this))},e.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},e.prototype.animate=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var n=this.get("timeline");n||(n=this.get("canvas").get("timeline"),this.set("timeline",n));var a=this.get("animations")||[];n.timer||n.initTimer();var o=t[0],s=t[1],l=t[2],u=l===void 0?"easeLinear":l,f=t[3],c=f===void 0?Pn.noop:f,h=t[4],d=h===void 0?0:h,v,p,g,m,y;(0,Pn.isFunction)(o)?(v=o,o={}):(0,Pn.isObject)(o)&&o.onFrame&&(v=o.onFrame,p=o.repeat),(0,Pn.isObject)(s)?(y=s,s=y.duration,u=y.easing||"easeLinear",d=y.delay||0,p=y.repeat||p||!1,c=y.callback||Pn.noop,g=y.pauseCallback||Pn.noop,m=y.resumeCallback||Pn.noop):((0,Pn.isNumber)(c)&&(d=c,c=null),(0,Pn.isFunction)(u)?(c=u,u="easeLinear"):u=u||"easeLinear");var x=m1e(o,this),b={fromAttrs:g1e(x,this),toAttrs:x,duration:s,easing:u,repeat:p,callback:c,pauseCallback:g,resumeCallback:m,delay:d,startTime:n.getTime(),id:(0,Pn.uniqueId)(),onFrame:v,pathFormatted:!1};a.length>0?a=y1e(a,b):n.addAnimator(this),a.push(b),this.set("animations",a),this.set("_pause",{isPaused:!1})}},e.prototype.stopAnimate=function(t){var i=this;t===void 0&&(t=!0);var n=this.get("animations");(0,Pn.each)(n,function(a){t&&(a.onFrame?i.attr(a.onFrame(1)):i.attr(a.toAttrs)),a.callback&&a.callback()}),this.set("animating",!1),this.set("animations",[])},e.prototype.pauseAnimate=function(){var t=this.get("timeline"),i=this.get("animations"),n=t.getTime();return(0,Pn.each)(i,function(a){a._paused=!0,a._pauseTime=n,a.pauseCallback&&a.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:n}),this},e.prototype.resumeAnimate=function(){var t=this.get("timeline"),i=t.getTime(),n=this.get("animations"),a=this.get("_pause").pauseTime;return(0,Pn.each)(n,function(o){o.startTime=o.startTime+(i-a),o._paused=!1,o._pauseTime=null,o.resumeCallback&&o.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",n),this},e.prototype.emitDelegation=function(t,i){var n=this,a=i.propagationPath,o=this.getEvents(),s;t==="mouseenter"?s=i.fromShape:t==="mouseleave"&&(s=i.toShape);for(var l=function(h){var d=a[h],v=d.get("name");if(v){if((d.isGroup()||d.isCanvas&&d.isCanvas())&&s&&q5(d,s))return"break";(0,Pn.isArray)(v)?(0,Pn.each)(v,function(p){n.emitDelegateEvent(d,p,i)}):u.emitDelegateEvent(d,v,i)}},u=this,f=0;f<a.length;f++){var c=l(f);if(c==="break")break}},e.prototype.emitDelegateEvent=function(t,i,n){var a=this.getEvents(),o=i+d1e+n.type;(a[o]||a[v1e])&&(n.name=o,n.currentTarget=t,n.delegateTarget=this,n.delegateObject=t.get("delegateObject"),this.emit(o,n))},e.prototype.translate=function(t,i){t===void 0&&(t=0),i===void 0&&(i=0);var n=this.getMatrix(),a=sP(n,[["t",t,i]]);return this.setMatrix(a),this},e.prototype.move=function(t,i){var n=this.attr("x")||0,a=this.attr("y")||0;return this.translate(t-n,i-a),this},e.prototype.moveTo=function(t,i){return this.move(t,i)},e.prototype.scale=function(t,i){var n=this.getMatrix(),a=sP(n,[["s",t,i||t]]);return this.setMatrix(a),this},e.prototype.rotate=function(t){var i=this.getMatrix(),n=sP(i,[["r",t]]);return this.setMatrix(n),this},e.prototype.rotateAtStart=function(t){var i=this.attr(),n=i.x,a=i.y,o=this.getMatrix(),s=sP(o,[["t",-n,-a],["r",t],["t",n,a]]);return this.setMatrix(s),this},e.prototype.rotateAtPoint=function(t,i,n){var a=this.getMatrix(),o=sP(a,[["t",-t,-i],["r",n],["t",t,i]]);return this.setMatrix(o),this},e}(tC),K5=x1e;var TCt={},KZ="_INDEX";function ICt(r,e){if(r.set("canvas",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(i){ICt(i,e)})}}function LCt(r,e){if(r.set("timeline",e),r.isGroup()){var t=r.get("children");t.length&&t.forEach(function(i){LCt(i,e)})}}function b1e(r,e,t){t===void 0&&(t=!0),t?e.destroy():(e.set("parent",null),e.set("canvas",null)),V5(r.getChildren(),e)}function w1e(r){return function(e,t){var i=r(e,t);return i===0?e[KZ]-t[KZ]:i}}var _1e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isCanvas=function(){return!1},e.prototype.getBBox=function(){var t=1/0,i=-1/0,n=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?(0,bn.each)(o,function(l){var u=l.getBBox(),f=u.minX,c=u.maxX,h=u.minY,d=u.maxY;f<t&&(t=f),c>i&&(i=c),h<n&&(n=h),d>a&&(a=d)}):(t=0,i=0,n=0,a=0);var s={x:t,y:n,minX:t,minY:n,maxX:i,maxY:a,width:i-t,height:a-n};return s},e.prototype.getCanvasBBox=function(){var t=1/0,i=-1/0,n=1/0,a=-1/0,o=this.getChildren().filter(function(l){return l.get("visible")&&(!l.isGroup()||l.isGroup()&&l.getChildren().length>0)});o.length>0?(0,bn.each)(o,function(l){var u=l.getCanvasBBox(),f=u.minX,c=u.maxX,h=u.minY,d=u.maxY;f<t&&(t=f),c>i&&(i=c),h<n&&(n=h),d>a&&(a=d)}):(t=0,i=0,n=0,a=0);var s={x:t,y:n,minX:t,minY:n,maxX:i,maxY:a,width:i-t,height:a-n};return s},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.children=[],t},e.prototype.onAttrChange=function(t,i,n){if(r.prototype.onAttrChange.call(this,t,i,n),t==="matrix"){var a=this.getTotalMatrix();this._applyChildrenMarix(a)}},e.prototype.applyMatrix=function(t){var i=this.getTotalMatrix();r.prototype.applyMatrix.call(this,t);var n=this.getTotalMatrix();n!==i&&this._applyChildrenMarix(n)},e.prototype._applyChildrenMarix=function(t){var i=this.getChildren();(0,bn.each)(i,function(n){n.applyMatrix(t)})},e.prototype.addShape=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t[0],a=t[1];(0,bn.isObject)(n)?a=n:a.type=n;var o=TCt[a.type];o||(o=(0,bn.upperFirst)(a.type),TCt[a.type]=o);var s=this.getShapeBase(),l=new s[o](a);return this.add(l),l},e.prototype.addGroup=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t[0],a=t[1],o;if((0,bn.isFunction)(n))a?o=new n(a):o=new n({parent:this});else{var s=n||{},l=this.getGroupBase();o=new l(s)}return this.add(o),o},e.prototype.getCanvas=function(){var t;return this.isCanvas()?t=this:t=this.get("canvas"),t},e.prototype.getShape=function(t,i,n){if(!gb(this))return null;var a=this.getChildren(),o;if(this.isCanvas())o=this._findShape(a,t,i,n);else{var s=[t,i,1];s=this.invertFromMatrix(s),this.isClipped(s[0],s[1])||(o=this._findShape(a,s[0],s[1],n))}return o},e.prototype._findShape=function(t,i,n,a){for(var o=null,s=t.length-1;s>=0;s--){var l=t[s];if(gb(l)&&(l.isGroup()?o=l.getShape(i,n,a):l.isHit(i,n)&&(o=l)),o)break}return o},e.prototype.add=function(t){var i=this.getCanvas(),n=this.getChildren(),a=this.get("timeline"),o=t.getParent();o&&b1e(o,t,!1),t.set("parent",this),i&&ICt(t,i),a&&LCt(t,a),n.push(t),t.onCanvasChange("add"),this._applyElementMatrix(t)},e.prototype._applyElementMatrix=function(t){var i=this.getTotalMatrix();i&&t.applyMatrix(i)},e.prototype.getChildren=function(){return this.get("children")||[]},e.prototype.sort=function(){var t=this.getChildren();(0,bn.each)(t,function(i,n){return i[KZ]=n,i}),t.sort(w1e(function(i,n){return i.get("zIndex")-n.get("zIndex")})),this.onCanvasChange("sort")},e.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var t=this.getChildren(),i=t.length-1;i>=0;i--)t[i].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},e.prototype.destroy=function(){this.get("destroyed")||(this.clear(),r.prototype.destroy.call(this))},e.prototype.getFirst=function(){return this.getChildByIndex(0)},e.prototype.getLast=function(){var t=this.getChildren();return this.getChildByIndex(t.length-1)},e.prototype.getChildByIndex=function(t){var i=this.getChildren();return i[t]},e.prototype.getCount=function(){var t=this.getChildren();return t.length},e.prototype.contain=function(t){var i=this.getChildren();return i.indexOf(t)>-1},e.prototype.removeChild=function(t,i){i===void 0&&(i=!0),this.contain(t)&&t.remove(i)},e.prototype.findAll=function(t){var i=[],n=this.getChildren();return(0,bn.each)(n,function(a){t(a)&&i.push(a),a.isGroup()&&(i=i.concat(a.findAll(t)))}),i},e.prototype.find=function(t){var i=null,n=this.getChildren();return(0,bn.each)(n,function(a){if(t(a)?i=a:a.isGroup()&&(i=a.find(t)),i)return!1}),i},e.prototype.findById=function(t){return this.find(function(i){return i.get("id")===t})},e.prototype.findByClassName=function(t){return this.find(function(i){return i.get("className")===t})},e.prototype.findAllByName=function(t){return this.findAll(function(i){return i.get("name")===t})},e}(K5),Q5=_1e;var oC=et(ot());var HE=0,lP=0,uP=0,OCt=1e3,$5,fP,J5=0,iC=0,tG=0,cP=typeof performance=="object"&&performance.now?performance:Date,kCt=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function QZ(){return iC||(kCt(S1e),iC=cP.now()+tG)}function S1e(){iC=0}function $Z(){this._call=this._time=this._next=null}$Z.prototype=eG.prototype={constructor:$Z,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?QZ():+t)+(e==null?0:+e),!this._next&&fP!==this&&(fP?fP._next=this:$5=this,fP=this),this._call=r,this._time=t,JZ()},stop:function(){this._call&&(this._call=null,this._time=1/0,JZ())}};function eG(r,e,t){var i=new $Z;return i.restart(r,e,t),i}function PCt(){QZ(),++HE;for(var r=$5,e;r;)(e=iC-r._time)>=0&&r._call.call(null,e),r=r._next;--HE}function DCt(){iC=(J5=cP.now())+tG,HE=lP=0;try{PCt()}finally{HE=0,M1e(),iC=0}}function C1e(){var r=cP.now(),e=r-J5;e>OCt&&(tG-=e,J5=r)}function M1e(){for(var r,e=$5,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),r=e,e=e._next):(t=e._next,e._next=null,e=r?r._next=t:$5=t);fP=r,JZ(i)}function JZ(r){if(!HE){lP&&(lP=clearTimeout(lP));var e=r-iC;e>24?(r<1/0&&(lP=setTimeout(DCt,r-cP.now()-tG)),uP&&(uP=clearInterval(uP))):(uP||(J5=cP.now(),uP=setInterval(C1e,OCt)),HE=1,kCt(DCt))}}function rG(r,e,t){r.prototype=e.prototype=t,t.constructor=r}function tK(r,e){var t=Object.create(r.prototype);for(var i in e)t[i]=e[i];return t}function hP(){}var dP=.7,iG=1/dP,UE="\\s*([+-]?\\d+)\\s*",vP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",A1e=/^#([0-9a-f]{3,8})$/,E1e=new RegExp(`^rgb\\(${UE},${UE},${UE}\\)$`),T1e=new RegExp(`^rgb\\(${pg},${pg},${pg}\\)$`),I1e=new RegExp(`^rgba\\(${UE},${UE},${UE},${vP}\\)$`),L1e=new RegExp(`^rgba\\(${pg},${pg},${pg},${vP}\\)$`),O1e=new RegExp(`^hsl\\(${vP},${pg},${pg}\\)$`),k1e=new RegExp(`^hsla\\(${vP},${pg},${pg},${vP}\\)$`),FCt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rG(hP,yb,{copy(r){return Object.assign(new this.constructor,this,r)},displayable(){return this.rgb().displayable()},hex:NCt,formatHex:NCt,formatHex8:P1e,formatHsl:D1e,formatRgb:BCt,toString:BCt});function NCt(){return this.rgb().formatHex()}function P1e(){return this.rgb().formatHex8()}function D1e(){return YCt(this).formatHsl()}function BCt(){return this.rgb().formatRgb()}function yb(r){var e,t;return r=(r+"").trim().toLowerCase(),(e=A1e.exec(r))?(t=e[1].length,e=parseInt(e[1],16),t===6?RCt(e):t===3?new Zf(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?nG(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?nG(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=E1e.exec(r))?new Zf(e[1],e[2],e[3],1):(e=T1e.exec(r))?new Zf(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=I1e.exec(r))?nG(e[1],e[2],e[3],e[4]):(e=L1e.exec(r))?nG(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=O1e.exec(r))?jCt(e[1],e[2]/100,e[3]/100,1):(e=k1e.exec(r))?jCt(e[1],e[2]/100,e[3]/100,e[4]):FCt.hasOwnProperty(r)?RCt(FCt[r]):r==="transparent"?new Zf(NaN,NaN,NaN,0):null}function RCt(r){return new Zf(r>>16&255,r>>8&255,r&255,1)}function nG(r,e,t,i){return i<=0&&(r=e=t=NaN),new Zf(r,e,t,i)}function F1e(r){return r instanceof hP||(r=yb(r)),r?(r=r.rgb(),new Zf(r.r,r.g,r.b,r.opacity)):new Zf}function XE(r,e,t,i){return arguments.length===1?F1e(r):new Zf(r,e,t,i==null?1:i)}function Zf(r,e,t,i){this.r=+r,this.g=+e,this.b=+t,this.opacity=+i}rG(Zf,XE,tK(hP,{brighter(r){return r=r==null?iG:Math.pow(iG,r),new Zf(this.r*r,this.g*r,this.b*r,this.opacity)},darker(r){return r=r==null?dP:Math.pow(dP,r),new Zf(this.r*r,this.g*r,this.b*r,this.opacity)},rgb(){return this},clamp(){return new Zf(nC(this.r),nC(this.g),nC(this.b),aG(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GCt,formatHex:GCt,formatHex8:N1e,formatRgb:zCt,toString:zCt}));function GCt(){return`#${aC(this.r)}${aC(this.g)}${aC(this.b)}`}function N1e(){return`#${aC(this.r)}${aC(this.g)}${aC(this.b)}${aC((isNaN(this.opacity)?1:this.opacity)*255)}`}function zCt(){let r=aG(this.opacity);return`${r===1?"rgb(":"rgba("}${nC(this.r)}, ${nC(this.g)}, ${nC(this.b)}${r===1?")":`, ${r})`}`}function aG(r){return isNaN(r)?1:Math.max(0,Math.min(1,r))}function nC(r){return Math.max(0,Math.min(255,Math.round(r)||0))}function aC(r){return r=nC(r),(r<16?"0":"")+r.toString(16)}function jCt(r,e,t,i){return i<=0?r=e=t=NaN:t<=0||t>=1?r=e=NaN:e<=0&&(r=NaN),new Rv(r,e,t,i)}function YCt(r){if(r instanceof Rv)return new Rv(r.h,r.s,r.l,r.opacity);if(r instanceof hP||(r=yb(r)),!r)return new Rv;if(r instanceof Rv)return r;r=r.rgb();var e=r.r/255,t=r.g/255,i=r.b/255,n=Math.min(e,t,i),a=Math.max(e,t,i),o=NaN,s=a-n,l=(a+n)/2;return s?(e===a?o=(t-i)/s+(t<i)*6:t===a?o=(i-e)/s+2:o=(e-t)/s+4,s/=l<.5?a+n:2-a-n,o*=60):s=l>0&&l<1?0:o,new Rv(o,s,l,r.opacity)}function WCt(r,e,t,i){return arguments.length===1?YCt(r):new Rv(r,e,t,i==null?1:i)}function Rv(r,e,t,i){this.h=+r,this.s=+e,this.l=+t,this.opacity=+i}rG(Rv,WCt,tK(hP,{brighter(r){return r=r==null?iG:Math.pow(iG,r),new Rv(this.h,this.s,this.l*r,this.opacity)},darker(r){return r=r==null?dP:Math.pow(dP,r),new Rv(this.h,this.s,this.l*r,this.opacity)},rgb(){var r=this.h%360+(this.h<0)*360,e=isNaN(r)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,n=2*t-i;return new Zf(eK(r>=240?r-240:r+120,n,i),eK(r,n,i),eK(r<120?r+240:r-120,n,i),this.opacity)},clamp(){return new Rv(VCt(this.h),oG(this.s),oG(this.l),aG(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let r=aG(this.opacity);return`${r===1?"hsl(":"hsla("}${VCt(this.h)}, ${oG(this.s)*100}%, ${oG(this.l)*100}%${r===1?")":`, ${r})`}`}}));function VCt(r){return r=(r||0)%360,r<0?r+360:r}function oG(r){return Math.max(0,Math.min(1,r||0))}function eK(r,e,t){return(r<60?e+(t-e)*r/60:r<180?t:r<240?e+(t-e)*(240-r)/60:e)*255}function rK(r,e,t,i,n){var a=r*r,o=a*r;return((1-3*r+3*a-o)*e+(4-6*a+3*o)*t+(1+3*r+3*a-3*o)*i+o*n)/6}function qCt(r){var e=r.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,e-1):Math.floor(t*e),n=r[i],a=r[i+1],o=i>0?r[i-1]:2*n-a,s=i<e-1?r[i+2]:2*a-n;return rK((t-i/e)*e,o,n,a,s)}}function HCt(r){var e=r.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*e),n=r[(i+e-1)%e],a=r[i%e],o=r[(i+1)%e],s=r[(i+2)%e];return rK((t-i/e)*e,n,a,o,s)}}var pP=r=>()=>r;function B1e(r,e){return function(t){return r+t*e}}function R1e(r,e,t){return r=Math.pow(r,t),e=Math.pow(e,t)-r,t=1/t,function(i){return Math.pow(r+i*e,t)}}function UCt(r){return(r=+r)==1?sG:function(e,t){return t-e?R1e(e,t,r):pP(isNaN(e)?t:e)}}function sG(r,e){var t=e-r;return t?B1e(r,t):pP(isNaN(r)?e:r)}var iK=function r(e){var t=UCt(e);function i(n,a){var o=t((n=XE(n)).r,(a=XE(a)).r),s=t(n.g,a.g),l=t(n.b,a.b),u=sG(n.opacity,a.opacity);return function(f){return n.r=o(f),n.g=s(f),n.b=l(f),n.opacity=u(f),n+""}}return i.gamma=r,i}(1);function XCt(r){return function(e){var t=e.length,i=new Array(t),n=new Array(t),a=new Array(t),o,s;for(o=0;o<t;++o)s=XE(e[o]),i[o]=s.r||0,n[o]=s.g||0,a[o]=s.b||0;return i=r(i),n=r(n),a=r(a),s.opacity=1,function(l){return s.r=i(l),s.g=n(l),s.b=a(l),s+""}}}var I$r=XCt(qCt),L$r=XCt(HCt);function lG(r,e){e||(e=[]);var t=r?Math.min(e.length,r.length):0,i=e.slice(),n;return function(a){for(n=0;n<t;++n)i[n]=r[n]*(1-a)+e[n]*a;return i}}function uG(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function nK(r,e){return(uG(e)?lG:aK)(r,e)}function aK(r,e){var t=e?e.length:0,i=r?Math.min(t,r.length):0,n=new Array(i),a=new Array(t),o;for(o=0;o<i;++o)n[o]=xb(r[o],e[o]);for(;o<t;++o)a[o]=e[o];return function(s){for(o=0;o<i;++o)a[o]=n[o](s);return a}}function ZCt(r,e){var t=new Date;return r=+r,e=+e,function(i){return t.setTime(r*(1-i)+e*i),t}}function gP(r,e){return r=+r,e=+e,function(t){return r*(1-t)+e*t}}function KCt(r,e){var t={},i={},n;(r===null||typeof r!="object")&&(r={}),(e===null||typeof e!="object")&&(e={});for(n in e)n in r?t[n]=xb(r[n],e[n]):i[n]=e[n];return function(a){for(n in t)i[n]=t[n](a);return i}}var oK=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sK=new RegExp(oK.source,"g");function G1e(r){return function(){return r}}function z1e(r){return function(e){return r(e)+""}}function QCt(r,e){var t=oK.lastIndex=sK.lastIndex=0,i,n,a,o=-1,s=[],l=[];for(r=r+"",e=e+"";(i=oK.exec(r))&&(n=sK.exec(e));)(a=n.index)>t&&(a=e.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(i=i[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:gP(i,n)})),t=sK.lastIndex;return t<e.length&&(a=e.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?z1e(l[0].x):G1e(e):(e=l.length,function(u){for(var f=0,c;f<e;++f)s[(c=l[f]).i]=c.x(u);return s.join("")})}function xb(r,e){var t=typeof e,i;return e==null||t==="boolean"?pP(e):(t==="number"?gP:t==="string"?(i=yb(e))?(e=i,iK):QCt:e instanceof yb?iK:e instanceof Date?ZCt:uG(e)?lG:Array.isArray(e)?aK:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?KCt:gP)(r,e)}var wK={};ai(wK,{easeBack:()=>mK,easeBackIn:()=>pMt,easeBackInOut:()=>mK,easeBackOut:()=>gMt,easeBounce:()=>ZE,easeBounceIn:()=>dMt,easeBounceInOut:()=>vMt,easeBounceOut:()=>ZE,easeCircle:()=>vK,easeCircleIn:()=>cMt,easeCircleInOut:()=>vK,easeCircleOut:()=>hMt,easeCubic:()=>uK,easeCubicIn:()=>eMt,easeCubicInOut:()=>uK,easeCubicOut:()=>rMt,easeElastic:()=>bK,easeElasticIn:()=>mMt,easeElasticInOut:()=>yMt,easeElasticOut:()=>bK,easeExp:()=>dK,easeExpIn:()=>uMt,easeExpInOut:()=>dK,easeExpOut:()=>fMt,easeLinear:()=>$Ct,easePoly:()=>cK,easePolyIn:()=>iMt,easePolyInOut:()=>cK,easePolyOut:()=>nMt,easeQuad:()=>lK,easeQuadIn:()=>JCt,easeQuadInOut:()=>lK,easeQuadOut:()=>tMt,easeSin:()=>hK,easeSinIn:()=>sMt,easeSinInOut:()=>hK,easeSinOut:()=>lMt});function $Ct(r){return+r}function JCt(r){return r*r}function tMt(r){return r*(2-r)}function lK(r){return((r*=2)<=1?r*r:--r*(2-r)+1)/2}function eMt(r){return r*r*r}function rMt(r){return--r*r*r+1}function uK(r){return((r*=2)<=1?r*r*r:(r-=2)*r*r+2)/2}var fK=3,iMt=function r(e){e=+e;function t(i){return Math.pow(i,e)}return t.exponent=r,t}(fK),nMt=function r(e){e=+e;function t(i){return 1-Math.pow(1-i,e)}return t.exponent=r,t}(fK),cK=function r(e){e=+e;function t(i){return((i*=2)<=1?Math.pow(i,e):2-Math.pow(2-i,e))/2}return t.exponent=r,t}(fK);var aMt=Math.PI,oMt=aMt/2;function sMt(r){return+r==1?1:1-Math.cos(r*oMt)}function lMt(r){return Math.sin(r*oMt)}function hK(r){return(1-Math.cos(aMt*r))/2}function gg(r){return(Math.pow(2,-10*r)-.0009765625)*1.0009775171065494}function uMt(r){return gg(1-+r)}function fMt(r){return 1-gg(r)}function dK(r){return((r*=2)<=1?gg(1-r):2-gg(r-1))/2}function cMt(r){return 1-Math.sqrt(1-r*r)}function hMt(r){return Math.sqrt(1- --r*r)}function vK(r){return((r*=2)<=1?1-Math.sqrt(1-r*r):Math.sqrt(1-(r-=2)*r)+1)/2}var pK=4/11,j1e=6/11,Y1e=8/11,W1e=3/4,V1e=9/11,q1e=10/11,H1e=15/16,U1e=21/22,X1e=63/64,fG=1/pK/pK;function dMt(r){return 1-ZE(1-r)}function ZE(r){return(r=+r)<pK?fG*r*r:r<Y1e?fG*(r-=j1e)*r+W1e:r<q1e?fG*(r-=V1e)*r+H1e:fG*(r-=U1e)*r+X1e}function vMt(r){return((r*=2)<=1?1-ZE(1-r):ZE(r-1)+1)/2}var gK=1.70158,pMt=function r(e){e=+e;function t(i){return(i=+i)*i*(e*(i-1)+i)}return t.overshoot=r,t}(gK),gMt=function r(e){e=+e;function t(i){return--i*i*((i+1)*e+i)+1}return t.overshoot=r,t}(gK),mK=function r(e){e=+e;function t(i){return((i*=2)<1?i*i*((e+1)*i-e):(i-=2)*i*((e+1)*i+e)+2)/2}return t.overshoot=r,t}(gK);var KE=2*Math.PI,yK=1,xK=.3,mMt=function r(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=KE);function n(a){return e*gg(- --a)*Math.sin((i-a)/t)}return n.amplitude=function(a){return r(a,t*KE)},n.period=function(a){return r(e,a)},n}(yK,xK),bK=function r(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=KE);function n(a){return 1-e*gg(a=+a)*Math.sin((a+i)/t)}return n.amplitude=function(a){return r(a,t*KE)},n.period=function(a){return r(e,a)},n}(yK,xK),yMt=function r(e,t){var i=Math.asin(1/(e=Math.max(1,e)))*(t/=KE);function n(a){return((a=a*2-1)<0?e*gg(-a)*Math.sin((i-a)/t):2-e*gg(a)*Math.sin((i+a)/t))/2}return n.amplitude=function(a){return r(a,t*KE)},n.period=function(a){return r(e,a)},n}(yK,xK);var xMt={};function bMt(r){return xMt[r.toLowerCase()]||wK[r]}function _K(r,e){xMt[r.toLowerCase()]=e}var wMt=function(r){return["fill","stroke","fillStyle","strokeStyle"].includes(r)},_Mt=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)};var SMt=[1,0,0,0,1,0,0,0,1];function Z1e(r,e,t){var i={},n=e.fromAttrs,a=e.toAttrs;if(!r.destroyed){var o;for(var s in a)if(!(0,oC.isEqual)(n[s],a[s]))if(s==="path"){var l=a[s],u=n[s];l.length>u.length?(l=JS(a[s]),u=JS(n[s]),u=EZ(u,l),u=W5(u,l),e.fromAttrs.path=u,e.toAttrs.path=l):e.pathFormatted||(l=JS(a[s]),u=JS(n[s]),u=W5(u,l),e.fromAttrs.path=u,e.toAttrs.path=l,e.pathFormatted=!0),i[s]=[];for(var f=0;f<l.length;f++){for(var c=l[f],h=u[f],d=[],v=0;v<c.length;v++)(0,oC.isNumber)(c[v])&&h&&(0,oC.isNumber)(h[v])?(o=xb(h[v],c[v]),d.push(o(t))):d.push(c[v]);i[s].push(d)}}else if(s==="matrix"){var p=nK(n[s]||SMt,a[s]||SMt),g=p(t);i[s]=g}else wMt(s)&&_Mt(a[s])?i[s]=a[s]:(0,oC.isFunction)(a[s])||(o=xb(n[s],a[s]),i[s]=o(t));r.attr(i)}}function K1e(r,e,t){var i=e.startTime,n=e.delay;if(t<i+n||e._paused)return!1;var a,o=e.duration,s=e.easing,l=bMt(s);if(t=t-i-e.delay,e.repeat)a=t%o/o,a=l(a);else if(a=t/o,a<1)a=l(a);else return e.onFrame?r.attr(e.onFrame(1)):r.attr(e.toAttrs),!0;if(e.onFrame){var u=e.onFrame(a);r.attr(u)}else Z1e(r,e,a);return!1}var Q1e=function(){function r(e){this.animators=[],this.current=0,this.timer=null,this.canvas=e}return r.prototype.initTimer=function(){var e=this,t=!1,i,n,a;this.timer=eG(function(o){if(e.current=o,e.animators.length>0){for(var s=e.animators.length-1;s>=0;s--){if(i=e.animators[s],i.destroyed){e.removeAnimator(s);continue}if(!i.isAnimatePaused()){n=i.get("animations");for(var l=n.length-1;l>=0;l--)a=n[l],t=K1e(i,a,o),t&&(n.splice(l,1),t=!1,a.callback&&a.callback())}n.length===0&&e.removeAnimator(s)}var u=e.canvas.get("autoDraw");u||e.canvas.draw()}})},r.prototype.addAnimator=function(e){this.animators.push(e)},r.prototype.removeAnimator=function(e){this.animators.splice(e,1)},r.prototype.isAnimating=function(){return!!this.animators.length},r.prototype.stop=function(){this.timer&&this.timer.stop()},r.prototype.stopAllAnimations=function(e){e===void 0&&(e=!0),this.animators.forEach(function(t){t.stopAnimate(e)}),this.animators=[],this.canvas.draw()},r.prototype.getTime=function(){return this.current},r}(),CMt=Q1e;var $1e=40,MMt=0;var AMt=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function EMt(r,e,t){t.name=e,t.target=r,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}function J1e(r,e,t){if(t.bubbles){var i=void 0,n=!1;if(e==="mouseenter"?(i=t.fromShape,n=!0):e==="mouseleave"&&(n=!0,i=t.toShape),r.isCanvas()&&n)return;if(i&&q5(r,i)){t.bubbles=!1;return}t.name=e,t.currentTarget=r,t.delegateTarget=r,r.emit(e,t)}}var tbe=function(){function r(e){var t=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(i){var n=i.type;t._triggerEvent(n,i)},this._onDocumentMove=function(i){var n=t.canvas,a=n.get("el");if(a!==i.target&&(t.dragging||t.currentShape)){var o=t._getPointInfo(i);t.dragging&&t._emitEvent("drag",i,o,t.draggingShape)}},this._onDocumentMouseUp=function(i){var n=t.canvas,a=n.get("el");if(a!==i.target&&t.dragging){var o=t._getPointInfo(i);t.draggingShape&&t._emitEvent("drop",i,o,null),t._emitEvent("dragend",i,o,t.draggingShape),t._afterDrag(t.draggingShape,o,i)}},this.canvas=e.canvas}return r.prototype.init=function(){this._bindEvents()},r.prototype._bindEvents=function(){var e=this,t=this.canvas.get("el");(0,bn.each)(AMt,function(i){t.addEventListener(i,e._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._clearEvents=function(){var e=this,t=this.canvas.get("el");(0,bn.each)(AMt,function(i){t.removeEventListener(i,e._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},r.prototype._getEventObj=function(e,t,i,n,a,o){var s=new ad(e,t);return s.fromShape=a,s.toShape=o,s.x=i.x,s.y=i.y,s.clientX=i.clientX,s.clientY=i.clientY,s.propagationPath.push(n),s},r.prototype._getShape=function(e,t){return this.canvas.getShape(e.x,e.y,t)},r.prototype._getPointInfo=function(e){var t=this.canvas,i=t.getClientByEvent(e),n=t.getPointByEvent(e);return{x:n.x,y:n.y,clientX:i.x,clientY:i.y}},r.prototype._triggerEvent=function(e,t){var i=this._getPointInfo(t),n=this._getShape(i,t),a=this["_on"+e],o=!1;if(a)a.call(this,i,n,t);else{var s=this.currentShape;e==="mouseenter"||e==="dragenter"||e==="mouseover"?(this._emitEvent(e,t,i,null,null,n),n&&this._emitEvent(e,t,i,n,null,n),e==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",t,i,null)):e==="mouseleave"||e==="dragleave"||e==="mouseout"?(o=!0,s&&this._emitEvent(e,t,i,s,s,null),this._emitEvent(e,t,i,null,s,null),e==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",t,i,null)):this._emitEvent(e,t,i,n,null,null)}if(o||(this.currentShape=n),n&&!n.get("destroyed")){var l=this.canvas,u=l.get("el");u.style.cursor=n.attr("cursor")||l.get("cursor")}},r.prototype._onmousedown=function(e,t,i){i.button===MMt&&(this.mousedownShape=t,this.mousedownPoint=e,this.mousedownTimeStamp=i.timeStamp),this._emitEvent("mousedown",i,e,t,null,null)},r.prototype._emitMouseoverEvents=function(e,t,i,n){var a=this.canvas.get("el");i!==n&&(i&&(this._emitEvent("mouseout",e,t,i,i,n),this._emitEvent("mouseleave",e,t,i,i,n),(!n||n.get("destroyed"))&&(a.style.cursor=this.canvas.get("cursor"))),n&&(this._emitEvent("mouseover",e,t,n,i,n),this._emitEvent("mouseenter",e,t,n,i,n)))},r.prototype._emitDragoverEvents=function(e,t,i,n,a){n?(n!==i&&(i&&this._emitEvent("dragleave",e,t,i,i,n),this._emitEvent("dragenter",e,t,n,i,n)),a||this._emitEvent("dragover",e,t,n)):i&&this._emitEvent("dragleave",e,t,i,i,n),a&&this._emitEvent("dragover",e,t,n)},r.prototype._afterDrag=function(e,t,i){e&&(e.set("capture",!0),this.draggingShape=null),this.dragging=!1;var n=this._getShape(t,i);n!==e&&this._emitMouseoverEvents(i,t,e,n),this.currentShape=n},r.prototype._onmouseup=function(e,t,i){if(i.button===MMt){var n=this.draggingShape;this.dragging?(n&&this._emitEvent("drop",i,e,t),this._emitEvent("dragend",i,e,n),this._afterDrag(n,e,i)):(this._emitEvent("mouseup",i,e,t),t===this.mousedownShape&&this._emitEvent("click",i,e,t),this.mousedownShape=null,this.mousedownPoint=null)}},r.prototype._ondragover=function(e,t,i){i.preventDefault();var n=this.currentShape;this._emitDragoverEvents(i,e,n,t,!0)},r.prototype._onmousemove=function(e,t,i){var n=this.canvas,a=this.currentShape,o=this.draggingShape;if(this.dragging)o&&this._emitDragoverEvents(i,e,a,t,!1),this._emitEvent("drag",i,e,o);else{var s=this.mousedownPoint;if(s){var l=this.mousedownShape,u=i.timeStamp,f=u-this.mousedownTimeStamp,c=s.clientX-e.clientX,h=s.clientY-e.clientY,d=c*c+h*h;f>120||d>$1e?l&&l.get("draggable")?(o=this.mousedownShape,o.set("capture",!1),this.draggingShape=o,this.dragging=!0,this._emitEvent("dragstart",i,e,o),this.mousedownShape=null,this.mousedownPoint=null):!l&&n.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",i,e,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(i,e,a,t),this._emitEvent("mousemove",i,e,t)):(this._emitMouseoverEvents(i,e,a,t),this._emitEvent("mousemove",i,e,t))}else this._emitMouseoverEvents(i,e,a,t),this._emitEvent("mousemove",i,e,t)}},r.prototype._emitEvent=function(e,t,i,n,a,o){var s=this._getEventObj(e,t,i,n,a,o);if(n){s.shape=n,EMt(n,e,s);for(var l=n.getParent();l;)l.emitDelegation(e,s),s.propagationStopped||J1e(l,e,s),s.propagationPath.push(l),l=l.getParent()}else{var u=this.canvas;EMt(u,e,s)}},r.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},r}(),TMt=tbe;var IMt="px",LMt=H5(),ebe=LMt&&LMt.name==="firefox",rbe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.initContainer(),i.initDom(),i.initEvents(),i.initTimeline(),i}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.cursor="default",t.supportCSSTransform=!1,t},e.prototype.initContainer=function(){var t=this.get("container");(0,bn.isString)(t)&&(t=document.getElementById(t),this.set("container",t))},e.prototype.initDom=function(){var t=this.createDom();this.set("el",t);var i=this.get("container");i.appendChild(t),this.setDOMSize(this.get("width"),this.get("height"))},e.prototype.initEvents=function(){var t=new TMt({canvas:this});t.init(),this.set("eventController",t)},e.prototype.initTimeline=function(){var t=new CMt(this);this.set("timeline",t)},e.prototype.setDOMSize=function(t,i){var n=this.get("el");IZ&&(n.style.width=t+IMt,n.style.height=i+IMt)},e.prototype.changeSize=function(t,i){this.setDOMSize(t,i),this.set("width",t),this.set("height",i),this.onCanvasChange("changeSize")},e.prototype.getRenderer=function(){return this.get("renderer")},e.prototype.getCursor=function(){return this.get("cursor")},e.prototype.setCursor=function(t){this.set("cursor",t);var i=this.get("el");IZ&&i&&(i.style.cursor=t)},e.prototype.getPointByEvent=function(t){var i=this.get("supportCSSTransform");if(i){if(ebe&&!(0,bn.isNil)(t.layerX)&&t.layerX!==t.offsetX)return{x:t.layerX,y:t.layerY};if(!(0,bn.isNil)(t.offsetX))return{x:t.offsetX,y:t.offsetY}}var n=this.getClientByEvent(t),a=n.x,o=n.y;return this.getPointByClient(a,o)},e.prototype.getClientByEvent=function(t){var i=t;return t.touches&&(t.type==="touchend"?i=t.changedTouches[0]:i=t.touches[0]),{x:i.clientX,y:i.clientY}},e.prototype.getPointByClient=function(t,i){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t-a.left,y:i-a.top}},e.prototype.getClientByPoint=function(t,i){var n=this.get("el"),a=n.getBoundingClientRect();return{x:t+a.left,y:i+a.top}},e.prototype.draw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.parentNode.removeChild(t)},e.prototype.clearEvents=function(){var t=this.get("eventController");t.destroy()},e.prototype.isCanvas=function(){return!0},e.prototype.getParent=function(){return null},e.prototype.destroy=function(){var t=this.get("timeline");this.get("destroyed")||(this.clear(),t&&t.stop(),this.clearEvents(),this.removeDom(),r.prototype.destroy.call(this))},e}(Q5),sC=rbe;var ibe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isGroup=function(){return!0},e.prototype.isEntityGroup=function(){return!1},e.prototype.clone=function(){for(var t=r.prototype.clone.call(this),i=this.getChildren(),n=0;n<i.length;n++){var a=i[n];t.add(a.clone())}return t},e}(Q5),bb=ibe;var nbe=function(r){G(e,r);function e(t){return r.call(this,t)||this}return e.prototype._isInBBox=function(t,i){var n=this.getBBox();return n.minX<=t&&n.maxX>=t&&n.minY<=i&&n.maxY>=i},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t),this.clearCacheBBox()},e.prototype.getBBox=function(){var t=this.cfg.bbox;return t||(t=this.calculateBBox(),this.set("bbox",t)),t},e.prototype.getCanvasBBox=function(){var t=this.cfg.canvasBBox;return t||(t=this.calculateCanvasBBox(),this.set("canvasBBox",t)),t},e.prototype.applyMatrix=function(t){r.prototype.applyMatrix.call(this,t),this.set("canvasBBox",null)},e.prototype.calculateCanvasBBox=function(){var t=this.getBBox(),i=this.getTotalMatrix(),n=t.minX,a=t.minY,o=t.maxX,s=t.maxY;if(i){var l=$c(i,[t.minX,t.minY]),u=$c(i,[t.maxX,t.minY]),f=$c(i,[t.minX,t.maxY]),c=$c(i,[t.maxX,t.maxY]);n=Math.min(l[0],u[0],f[0],c[0]),o=Math.max(l[0],u[0],f[0],c[0]),a=Math.min(l[1],u[1],f[1],c[1]),s=Math.max(l[1],u[1],f[1],c[1])}var h=this.attrs;if(h.shadowColor){var d=h.shadowBlur,v=d===void 0?0:d,p=h.shadowOffsetX,g=p===void 0?0:p,m=h.shadowOffsetY,y=m===void 0?0:m,x=n-v+g,b=o+v+g,_=a-v+y,M=s+v+y;n=Math.min(n,x),o=Math.max(o,b),a=Math.min(a,_),s=Math.max(s,M)}return{x:n,y:a,minX:n,minY:a,maxX:o,maxY:s,width:o-n,height:s-a}},e.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},e.prototype.isClipShape=function(){return this.get("isClipShape")},e.prototype.isInShape=function(t,i){return!1},e.prototype.isOnlyHitBox=function(){return!1},e.prototype.isHit=function(t,i){var n=this.get("startArrowShape"),a=this.get("endArrowShape"),o=[t,i,1];o=this.invertFromMatrix(o);var s=o[0],l=o[1],u=this._isInBBox(s,l);return this.isOnlyHitBox()?u:!!(u&&!this.isClipped(s,l)&&(this.isInShape(s,l)||n&&n.isHit(s,l)||a&&a.isHit(s,l)))},e}(K5),wb=nbe;var OMt=new Map;function Kf(r,e){OMt.set(r,e)}function _b(r){return OMt.get(r)}function SK(r){var e=r.attr(),t=e.x,i=e.y,n=e.width,a=e.height;return{x:t,y:i,width:n,height:a}}function CK(r){var e=r.attr(),t=e.x,i=e.y,n=e.r;return{x:t-n,y:i-n,width:n*2,height:n*2}}var QE={};ai(QE,{distance:()=>Lo,getBBoxByArray:()=>m0,getBBoxRange:()=>abe,isNumberEqual:()=>lC,piMod:()=>y0});var mg=et(ot());function Lo(r,e,t,i){var n=r-t,a=e-i;return Math.sqrt(n*n+a*a)}function lC(r,e){return Math.abs(r-e)<.001}function m0(r,e){var t=(0,mg.min)(r),i=(0,mg.min)(e),n=(0,mg.max)(r),a=(0,mg.max)(e);return{x:t,y:i,width:n-t,height:a-i}}function abe(r,e,t,i){return{minX:(0,mg.min)([r,t]),maxX:(0,mg.max)([r,t]),minY:(0,mg.min)([e,i]),maxY:(0,mg.max)([e,i])}}function y0(r){return(r+Math.PI*2)%(Math.PI*2)}var $E=et(HZ()),Za={box:function(r,e,t,i){return m0([r,t],[e,i])},length:function(r,e,t,i){return Lo(r,e,t,i)},pointAt:function(r,e,t,i,n){return{x:(1-n)*r+n*t,y:(1-n)*e+n*i}},pointDistance:function(r,e,t,i,n,a){var o=(t-r)*(n-r)+(i-e)*(a-e);if(o<0)return Lo(r,e,n,a);var s=(t-r)*(t-r)+(i-e)*(i-e);return o>s?Lo(t,i,n,a):this.pointToLine(r,e,t,i,n,a)},pointToLine:function(r,e,t,i,n,a){var o=[t-r,i-e];if($E.exactEquals(o,[0,0]))return Math.sqrt((n-r)*(n-r)+(a-e)*(a-e));var s=[-o[1],o[0]];$E.normalize(s,s);var l=[n-r,a-e];return Math.abs($E.dot(l,s))},tangentAngle:function(r,e,t,i){return Math.atan2(i-e,t-r)}};var obe=1e-4;function cG(r,e,t,i,n,a){var o,s=1/0,l=[t,i],u=20;a&&a>200&&(u=a/10);for(var f=1/u,c=f/10,h=0;h<=u;h++){var d=h*f,v=[n.apply(null,r.concat([d])),n.apply(null,e.concat([d]))],p=Lo(l[0],l[1],v[0],v[1]);p<s&&(o=d,s=p)}if(o===0)return{x:r[0],y:e[0]};if(o===1){var g=r.length;return{x:r[g-1],y:e[g-1]}}s=1/0;for(var h=0;h<32&&!(c<obe);h++){var m=o-c,y=o+c,v=[n.apply(null,r.concat([m])),n.apply(null,e.concat([m]))],p=Lo(l[0],l[1],v[0],v[1]);if(m>=0&&p<s)o=m,s=p;else{var x=[n.apply(null,r.concat([y])),n.apply(null,e.concat([y]))],b=Lo(l[0],l[1],x[0],x[1]);y<=1&&b<s?(o=y,s=b):c*=.5}}return{x:n.apply(null,r.concat([o])),y:n.apply(null,e.concat([o]))}}function kMt(r,e){for(var t=0,i=r.length,n=0;n<i;n++){var a=r[n],o=e[n],s=r[(n+1)%i],l=e[(n+1)%i];t+=Lo(a,o,s,l)}return t/2}function Sb(r,e,t,i){var n=1-i;return n*n*r+2*i*n*e+i*i*t}function PMt(r,e,t){var i=r+t-2*e;if(lC(i,0))return[.5];var n=(r-e)/i;return n<=1&&n>=0?[n]:[]}function DMt(r,e,t,i){return 2*(1-i)*(e-r)+2*i*(t-e)}function FMt(r,e,t,i,n,a,o){var s=Sb(r,t,n,o),l=Sb(e,i,a,o),u=Za.pointAt(r,e,t,i,o),f=Za.pointAt(t,i,n,a,o);return[[r,e,u.x,u.y,s,l],[s,l,f.x,f.y,n,a]]}function MK(r,e,t,i,n,a,o){if(o===0)return(Lo(r,e,t,i)+Lo(t,i,n,a)+Lo(r,e,n,a))/2;var s=FMt(r,e,t,i,n,a,.5),l=s[0],u=s[1];return l.push(o-1),u.push(o-1),MK.apply(null,l)+MK.apply(null,u)}var mP={box:function(r,e,t,i,n,a){var o=PMt(r,t,n)[0],s=PMt(e,i,a)[0],l=[r,n],u=[e,a];return o!==void 0&&l.push(Sb(r,t,n,o)),s!==void 0&&u.push(Sb(e,i,a,s)),m0(l,u)},length:function(r,e,t,i,n,a){return MK(r,e,t,i,n,a,3)},nearestPoint:function(r,e,t,i,n,a,o,s){return cG([r,t,n],[e,i,a],o,s,Sb)},pointDistance:function(r,e,t,i,n,a,o,s){var l=this.nearestPoint(r,e,t,i,n,a,o,s);return Lo(l.x,l.y,o,s)},interpolationAt:Sb,pointAt:function(r,e,t,i,n,a,o){return{x:Sb(r,t,n,o),y:Sb(e,i,a,o)}},divide:function(r,e,t,i,n,a,o){return FMt(r,e,t,i,n,a,o)},tangentAngle:function(r,e,t,i,n,a,o){var s=DMt(r,t,n,o),l=DMt(e,i,a,o),u=Math.atan2(l,s);return y0(u)}};function Cb(r,e,t,i,n){var a=1-n;return a*a*a*r+3*e*n*a*a+3*t*n*n*a+i*n*n*n}function NMt(r,e,t,i,n){var a=1-n;return 3*(a*a*(e-r)+2*a*n*(t-e)+n*n*(i-t))}function AK(r,e,t,i){var n=-3*r+9*e-9*t+3*i,a=6*r-12*e+6*t,o=3*e-3*r,s=[],l,u,f;if(lC(n,0))lC(a,0)||(l=-o/a,l>=0&&l<=1&&s.push(l));else{var c=a*a-4*n*o;lC(c,0)?s.push(-a/(2*n)):c>0&&(f=Math.sqrt(c),l=(-a+f)/(2*n),u=(-a-f)/(2*n),l>=0&&l<=1&&s.push(l),u>=0&&u<=1&&s.push(u))}return s}function BMt(r,e,t,i,n,a,o,s,l){var u=Cb(r,t,n,o,l),f=Cb(e,i,a,s,l),c=Za.pointAt(r,e,t,i,l),h=Za.pointAt(t,i,n,a,l),d=Za.pointAt(n,a,o,s,l),v=Za.pointAt(c.x,c.y,h.x,h.y,l),p=Za.pointAt(h.x,h.y,d.x,d.y,l);return[[r,e,c.x,c.y,v.x,v.y,u,f],[u,f,p.x,p.y,d.x,d.y,o,s]]}function EK(r,e,t,i,n,a,o,s,l){if(l===0)return kMt([r,t,n,o],[e,i,a,s]);var u=BMt(r,e,t,i,n,a,o,s,.5),f=u[0],c=u[1];return f.push(l-1),c.push(l-1),EK.apply(null,f)+EK.apply(null,c)}var x0={extrema:AK,box:function(r,e,t,i,n,a,o,s){for(var l=[r,o],u=[e,s],f=AK(r,t,n,o),c=AK(e,i,a,s),h=0;h<f.length;h++)l.push(Cb(r,t,n,o,f[h]));for(var h=0;h<c.length;h++)u.push(Cb(e,i,a,s,c[h]));return m0(l,u)},length:function(r,e,t,i,n,a,o,s){return EK(r,e,t,i,n,a,o,s,3)},nearestPoint:function(r,e,t,i,n,a,o,s,l,u,f){return cG([r,t,n,o],[e,i,a,s],l,u,Cb,f)},pointDistance:function(r,e,t,i,n,a,o,s,l,u,f){var c=this.nearestPoint(r,e,t,i,n,a,o,s,l,u,f);return Lo(c.x,c.y,l,u)},interpolationAt:Cb,pointAt:function(r,e,t,i,n,a,o,s,l){return{x:Cb(r,t,n,o,l),y:Cb(e,i,a,s,l)}},divide:function(r,e,t,i,n,a,o,s,l){return BMt(r,e,t,i,n,a,o,s,l)},tangentAngle:function(r,e,t,i,n,a,o,s,l){var u=NMt(r,t,n,o,l),f=NMt(e,i,a,s,l);return y0(Math.atan2(f,u))}};function RMt(r,e){var t=Math.abs(r);return e>0?t:t*-1}var GMt={box:function(r,e,t,i){return{x:r-t,y:e-i,width:t*2,height:i*2}},length:function(r,e,t,i){return Math.PI*(3*(t+i)-Math.sqrt((3*t+i)*(t+3*i)))},nearestPoint:function(r,e,t,i,n,a){var o=t,s=i;if(o===0||s===0)return{x:r,y:e};for(var l=n-r,u=a-e,f=Math.abs(l),c=Math.abs(u),h=o*o,d=s*s,v=Math.PI/4,p,g,m=0;m<4;m++){p=o*Math.cos(v),g=s*Math.sin(v);var y=(h-d)*Math.pow(Math.cos(v),3)/o,x=(d-h)*Math.pow(Math.sin(v),3)/s,b=p-y,_=g-x,M=f-y,A=c-x,I=Math.hypot(_,b),k=Math.hypot(A,M),E=I*Math.asin((b*A-_*M)/(I*k)),O=E/Math.sqrt(h+d-p*p-g*g);v+=O,v=Math.min(Math.PI/2,Math.max(0,v))}return{x:r+RMt(p,l),y:e+RMt(g,u)}},pointDistance:function(r,e,t,i,n,a){var o=this.nearestPoint(r,e,t,i,n,a);return Lo(o.x,o.y,n,a)},pointAt:function(r,e,t,i,n){var a=2*Math.PI*n;return{x:r+t*Math.cos(a),y:e+i*Math.sin(a)}},tangentAngle:function(r,e,t,i,n){var a=2*Math.PI*n,o=Math.atan2(i*Math.cos(a),-t*Math.sin(a));return y0(o)}};function sbe(r,e,t,i,n,a,o,s){return-1*t*Math.cos(n)*Math.sin(s)-i*Math.sin(n)*Math.cos(s)}function lbe(r,e,t,i,n,a,o,s){return-1*t*Math.sin(n)*Math.sin(s)+i*Math.cos(n)*Math.cos(s)}function ube(r,e,t){return Math.atan(-e/r*Math.tan(t))}function fbe(r,e,t){return Math.atan(e/(r*Math.tan(t)))}function zMt(r,e,t,i,n,a){return t*Math.cos(n)*Math.cos(a)-i*Math.sin(n)*Math.sin(a)+r}function jMt(r,e,t,i,n,a){return t*Math.sin(n)*Math.cos(a)+i*Math.cos(n)*Math.sin(a)+e}function cbe(r,e,t,i){var n=Math.atan2(i*r,t*e);return(n+Math.PI*2)%(Math.PI*2)}function YMt(r,e,t){return{x:r*Math.cos(t),y:e*Math.sin(t)}}function WMt(r,e,t){var i=Math.cos(t),n=Math.sin(t);return[r*i-e*n,r*n+e*i]}var TK={box:function(r,e,t,i,n,a,o){for(var s=ube(t,i,n),l=1/0,u=-1/0,f=[a,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var h=s+c;a<o?a<h&&h<o&&f.push(h):o<h&&h<a&&f.push(h)}for(var c=0;c<f.length;c++){var d=zMt(r,e,t,i,n,f[c]);d<l&&(l=d),d>u&&(u=d)}for(var v=fbe(t,i,n),p=1/0,g=-1/0,m=[a,o],c=-Math.PI*2;c<=Math.PI*2;c+=Math.PI){var y=v+c;a<o?a<y&&y<o&&m.push(y):o<y&&y<a&&m.push(y)}for(var c=0;c<m.length;c++){var x=jMt(r,e,t,i,n,m[c]);x<p&&(p=x),x>g&&(g=x)}return{x:l,y:p,width:u-l,height:g-p}},length:function(r,e,t,i,n,a,o){},nearestPoint:function(r,e,t,i,n,a,o,s,l){var u=WMt(s-r,l-e,-n),f=u[0],c=u[1],h=GMt.nearestPoint(0,0,t,i,f,c),d=cbe(t,i,h.x,h.y);d<a?h=YMt(t,i,a):d>o&&(h=YMt(t,i,o));var v=WMt(h.x,h.y,n);return{x:v[0]+r,y:v[1]+e}},pointDistance:function(r,e,t,i,n,a,o,s,l){var u=this.nearestPoint(r,e,t,i,s,l);return Lo(u.x,u.y,s,l)},pointAt:function(r,e,t,i,n,a,o,s){var l=(o-a)*s+a;return{x:zMt(r,e,t,i,n,l),y:jMt(r,e,t,i,n,l)}},tangentAngle:function(r,e,t,i,n,a,o,s){var l=(o-a)*s+a,u=sbe(r,e,t,i,n,a,o,l),f=lbe(r,e,t,i,n,a,o,l);return y0(Math.atan2(f,u))}};function VMt(r){for(var e=0,t=[],i=0;i<r.length-1;i++){var n=r[i],a=r[i+1],o=Lo(n[0],n[1],a[0],a[1]),s={from:n,to:a,length:o};t.push(s),e+=o}return{segments:t,totalLength:e}}function IK(r){if(r.length<2)return 0;for(var e=0,t=0;t<r.length-1;t++){var i=r[t],n=r[t+1];e+=Lo(i[0],i[1],n[0],n[1])}return e}function LK(r,e){if(e>1||e<0||r.length<2)return null;var t=VMt(r),i=t.segments,n=t.totalLength;if(n===0)return{x:r[0][0],y:r[0][1]};for(var a=0,o=null,s=0;s<i.length;s++){var l=i[s],u=l.from,f=l.to,c=l.length/n;if(e>=a&&e<=a+c){var h=(e-a)/c;o=Za.pointAt(u[0],u[1],f[0],f[1],h);break}a+=c}return o}function OK(r,e){if(e>1||e<0||r.length<2)return 0;for(var t=VMt(r),i=t.segments,n=t.totalLength,a=0,o=0,s=0;s<i.length;s++){var l=i[s],u=l.from,f=l.to,c=l.length/n;if(e>=a&&e<=a+c){o=Math.atan2(f[1]-u[1],f[0]-u[0]);break}a+=c}return o}function kK(r,e,t){for(var i=1/0,n=0;n<r.length-1;n++){var a=r[n],o=r[n+1],s=Za.pointDistance(a[0],a[1],o[0],o[1],e,t);s<i&&(i=s)}return i}var JE={box:function(r){for(var e=[],t=[],i=0;i<r.length;i++){var n=r[i];e.push(n[0]),t.push(n[1])}return m0(e,t)},length:function(r){return IK(r)},pointAt:function(r,e){return LK(r,e)},pointDistance:function(r,e,t){return kK(r,e,t)},tangentAngle:function(r,e){return OK(r,e)}};function qMt(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function t2(r,e){var t=r.get("startArrowShape"),i=r.get("endArrowShape"),n=null,a=null;return t&&(n=t.getCanvasBBox(),e=qMt(e,n)),i&&(a=i.getCanvasBBox(),e=qMt(e,a)),e}function HMt(r){for(var e=r.attr(),t=e.points,i=[],n=[],a=0;a<t.length;a++){var o=t[a];i.push(o[0]),n.push(o[1])}var s=QE.getBBoxByArray(i,n),l=s.x,u=s.y,f=s.width,c=s.height,h={minX:l,minY:u,maxX:l+f,maxY:u+c};return h=t2(r,h),{x:h.minX,y:h.minY,width:h.maxX-h.minX,height:h.maxY-h.minY}}function UMt(r){for(var e=r.attr(),t=e.points,i=[],n=[],a=0;a<t.length;a++){var o=t[a];i.push(o[0]),n.push(o[1])}return QE.getBBoxByArray(i,n)}var PK=null;function uC(){if(!PK){var r=document.createElement("canvas");r.width=1,r.height=1,PK=r.getContext("2d")}return PK}function fC(r,e,t){var i=1;if((0,bn.isString)(r)&&(i=r.split(`
`).length),i>1){var n=hbe(e,t);return e*i+n*(i-1)}return e}function hbe(r,e){return e?e-r:r*.14}function XMt(r,e){var t=uC(),i=0;if((0,bn.isNil)(r)||r==="")return i;if(t.save(),t.font=e,(0,bn.isString)(r)&&r.includes(`
`)){var n=r.split(`
`);(0,bn.each)(n,function(a){var o=t.measureText(a).width;i<o&&(i=o)})}else i=t.measureText(r).width;return t.restore(),i}function cC(r){var e=r.fontSize,t=r.fontFamily,i=r.fontWeight,n=r.fontStyle,a=r.fontVariant;return[n,a,i,e+"px",t].join(" ").trim()}function ZMt(r){var e=r.attr(),t=e.x,i=e.y,n=e.text,a=e.fontSize,o=e.lineHeight,s=e.font;s||(s=cC(e));var l=XMt(n,s),u;if(!l)u={x:t,y:i,width:0,height:0};else{var f=e.textAlign,c=e.textBaseline,h=fC(n,a,o),d={x:t,y:i-h};f&&(f==="end"||f==="right"?d.x-=l:f==="center"&&(d.x-=l/2)),c&&(c==="top"?d.y+=h:c==="middle"&&(d.y+=h/2)),u={x:d.x,y:d.y,width:l,height:h}}return u}var hC=et(ot()),dbe=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,vbe=/[^\s\,]+/ig;function pbe(r){var e=r||[];if((0,hC.isArray)(e))return e;if((0,hC.isString)(e))return e=e.match(dbe),(0,hC.each)(e,function(t,i){if(t=t.match(vbe),t[0].length>1){var n=t[0].charAt(0);t.splice(1,0,t[0].substr(1)),t[0]=n}(0,hC.each)(t,function(a,o){isNaN(a)||(t[o]=+a)}),e[i]=t}),e}var DK=pbe;var na=et(eC());function mbe(r,e,t,i){var n=[],a=!!i,o,s,l,u,f,c,h;if(a){l=i[0],u=i[1];for(var d=0,v=r.length;d<v;d+=1){var p=r[d];l=na.vec2.min([0,0],l,p),u=na.vec2.max([0,0],u,p)}}for(var d=0,g=r.length;d<g;d+=1){var p=r[d];if(d===0&&!t)h=p;else if(d===g-1&&!t)c=p,n.push(h),n.push(c);else{var m=[d?d-1:g-1,d-1][t?0:1];o=r[m],s=r[t?(d+1)%g:d+1];var y=[0,0];y=na.vec2.sub(y,s,o),y=na.vec2.scale(y,y,e);var x=na.vec2.distance(p,o),b=na.vec2.distance(p,s),_=x+b;_!==0&&(x/=_,b/=_);var M=na.vec2.scale([0,0],y,-x),A=na.vec2.scale([0,0],y,b);c=na.vec2.add([0,0],p,M),f=na.vec2.add([0,0],p,A),f=na.vec2.min([0,0],f,na.vec2.max([0,0],s,p)),f=na.vec2.max([0,0],f,na.vec2.min([0,0],s,p)),M=na.vec2.sub([0,0],f,p),M=na.vec2.scale([0,0],M,-x/b),c=na.vec2.add([0,0],p,M),c=na.vec2.min([0,0],c,na.vec2.max([0,0],o,p)),c=na.vec2.max([0,0],c,na.vec2.min([0,0],o,p)),A=na.vec2.sub([0,0],p,c),A=na.vec2.scale([0,0],A,b/x),f=na.vec2.add([0,0],p,A),a&&(c=na.vec2.max([0,0],c,l),c=na.vec2.min([0,0],c,u),f=na.vec2.max([0,0],f,l),f=na.vec2.min([0,0],f,u)),n.push(h),n.push(c),h=f}}return t&&n.push(n.shift()),n}function ybe(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=[[0,0],[1,1]]);for(var i=!!e,n=[],a=0,o=r.length;a<o;a+=2)n.push([r[a],r[a+1]]);for(var s=mbe(n,.4,i,t),l=n.length,u=[],f,c,h,a=0;a<l-1;a+=1)f=s[a*2],c=s[a*2+1],h=n[a+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return i&&(f=s[l],c=s[l+1],h=n[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}var dC=ybe;var xbe=et(ot());var Mbe=et(ot());var KMt=et(ot()),yP=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,bbe=new RegExp("([a-z])["+yP+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+yP+"]*,?["+yP+"]*)+)","ig"),wbe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+yP+"]*,?["+yP+"]*","ig");function b0(r){if(!r)return null;if((0,KMt.isArray)(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(bbe,function(i,n,a){var o=[],s=n.toLowerCase();if(a.replace(wbe,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var _be=/[a-z]/;function QMt(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function vC(r){var e=b0(r);if(!e||!e.length)return[["M",0,0]];for(var t=!1,i=0;i<e.length;i++){var n=e[i][0];if(_be.test(n)||["V","H","T","S"].indexOf(n)>=0){t=!0;break}}if(!t)return e;var a=[],o=0,s=0,l=0,u=0,f=0,c,h,d=e[0];(d[0]==="M"||d[0]==="m")&&(o=+d[1],s=+d[2],l=o,u=s,f++,a[0]=["M",o,s]);for(var i=f,v=e.length;i<v;i++){var p=e[i],g=a[i-1],m=[],n=p[0],y=n.toUpperCase();if(n!==y)switch(m[0]=y,y){case"A":m[1]=p[1],m[2]=p[2],m[3]=p[3],m[4]=p[4],m[5]=p[5],m[6]=+p[6]+o,m[7]=+p[7]+s;break;case"V":m[1]=+p[1]+s;break;case"H":m[1]=+p[1]+o;break;case"M":l=+p[1]+o,u=+p[2]+s,m[1]=l,m[2]=u;break;default:for(var x=1,b=p.length;x<b;x++)m[x]=+p[x]+(x%2?o:s)}else m=e[i];switch(y){case"Z":o=+l,s=+u;break;case"H":o=m[1],m=["L",o,s];break;case"V":s=m[1],m=["L",o,s];break;case"T":o=m[1],s=m[2];var _=QMt([g[1],g[2]],[g[3],g[4]]);m=["Q",_[0],_[1],o,s];break;case"S":o=m[m.length-2],s=m[m.length-1];var M=g.length,A=QMt([g[M-4],g[M-3]],[g[M-2],g[M-1]]);m=["C",A[0],A[1],m[1],m[2],o,s];break;case"M":l=m[m.length-2],u=m[m.length-1];break;default:o=m[m.length-2],s=m[m.length-1]}a.push(m)}return a}var eei=Math.PI*2;var hG=et(ot());function dG(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function FK(r,e){return dG(r)*dG(e)?(r[0]*e[0]+r[1]*e[1])/(dG(r)*dG(e)):1}function $Mt(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(FK(r,e))}function vG(r,e){return r[0]===e[0]&&r[1]===e[1]}function pG(r,e){var t=e[1],i=e[2],n=(0,hG.mod)((0,hG.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=r[0],l=r[1],u=e[6],f=e[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-f)/2,h=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-f)/2,d=c*c/(t*t)+h*h/(i*i);d>1&&(t*=Math.sqrt(d),i*=Math.sqrt(d));var v=t*t*(h*h)+i*i*(c*c),p=v?Math.sqrt((t*t*(i*i)-v)/v):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=i?p*t*h/i:0,m=t?p*-i*c/t:0,y=(s+u)/2+Math.cos(n)*g-Math.sin(n)*m,x=(l+f)/2+Math.sin(n)*g+Math.cos(n)*m,b=[(c-g)/t,(h-m)/i],_=[(-1*c-g)/t,(-1*h-m)/i],M=$Mt([1,0],b),A=$Mt(b,_);return FK(b,_)<=-1&&(A=Math.PI),FK(b,_)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:y,cy:x,rx:vG(r,[u,f])?0:t,ry:vG(r,[u,f])?0:i,startAngle:M,endAngle:M+A,xRotation:n,arcFlag:a,sweepFlag:o}}function JMt(r,e){return[e[0]+(e[0]-r[0]),e[1]+(e[1]-r[1])]}function e2(r){r=DK(r);for(var e=[],t=null,i=null,n=null,a=0,o=r.length,s=0;s<o;s++){var l=r[s];i=r[s+1];var u=l[0],f={command:u,prePoint:t,params:l,startTangent:null,endTangent:null};switch(u){case"M":n=[l[1],l[2]],a=s;break;case"A":var c=pG(t,l);f.arcParams=c;break;default:break}if(u==="Z")t=n,i=r[a+1];else{var h=l.length;t=[l[h-2],l[h-1]]}i&&i[0]==="Z"&&(i=r[a],e[a]&&(e[a].prePoint=t)),f.currentPoint=t,e[a]&&vG(t,e[a].currentPoint)&&(e[a].prePoint=f.prePoint);var d=i?[i[i.length-2],i[i.length-1]]:null;f.nextPoint=d;var v=f.prePoint;if(["L","H","V"].includes(u))f.startTangent=[v[0]-t[0],v[1]-t[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]];else if(u==="Q"){var p=[l[1],l[2]];f.startTangent=[v[0]-p[0],v[1]-p[1]],f.endTangent=[t[0]-p[0],t[1]-p[1]]}else if(u==="T"){var g=e[s-1],p=JMt(g.currentPoint,v);g.command==="Q"?(f.command="Q",f.startTangent=[v[0]-p[0],v[1]-p[1]],f.endTangent=[t[0]-p[0],t[1]-p[1]]):(f.command="TL",f.startTangent=[v[0]-t[0],v[1]-t[1]],f.endTangent=[t[0]-v[0],t[1]-v[1]])}else if(u==="C"){var m=[l[1],l[2]],y=[l[3],l[4]];f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]],f.startTangent[0]===0&&f.startTangent[1]===0&&(f.startTangent=[m[0]-y[0],m[1]-y[1]]),f.endTangent[0]===0&&f.endTangent[1]===0&&(f.endTangent=[y[0]-m[0],y[1]-m[1]])}else if(u==="S"){var g=e[s-1],m=JMt(g.currentPoint,v),y=[l[1],l[2]];g.command==="C"?(f.command="C",f.startTangent=[v[0]-m[0],v[1]-m[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]]):(f.command="SQ",f.startTangent=[v[0]-y[0],v[1]-y[1]],f.endTangent=[t[0]-y[0],t[1]-y[1]])}else if(u==="A"){var x=.001,b=f.arcParams||{},_=b.cx,M=_===void 0?0:_,A=b.cy,I=A===void 0?0:A,k=b.rx,E=k===void 0?0:k,O=b.ry,P=O===void 0?0:O,N=b.sweepFlag,R=N===void 0?0:N,z=b.startAngle,B=z===void 0?0:z,Y=b.endAngle,q=Y===void 0?0:Y;R===0&&(x*=-1);var j=E*Math.cos(B-x)+M,Z=P*Math.sin(B-x)+I;f.startTangent=[j-n[0],Z-n[1]];var tt=E*Math.cos(B+q+x)+M,lt=P*Math.sin(B+q-x)+I;f.endTangent=[v[0]-tt,v[1]-lt]}e.push(f)}return e}var tAt=function(r,e,t){return r>=e&&r<=t};function gG(r,e,t,i){var n=.001,a={x:t.x-r.x,y:t.y-r.y},o={x:e.x-r.x,y:e.y-r.y},s={x:i.x-t.x,y:i.y-t.y},l=o.x*s.y-o.y*s.x,u=l*l,f=o.x*o.x+o.y*o.y,c=s.x*s.x+s.y*s.y,h=null;if(u>n*f*c){var d=(a.x*s.y-a.y*s.x)/l,v=(a.x*o.y-a.y*o.x)/l;tAt(d,0,1)&&tAt(v,0,1)&&(h={x:r.x+d*o.x,y:r.y+d*o.y})}return h}var Abe=1e-6;function NK(r){return Math.abs(r)<Abe?0:r<0?-1:1}function Ebe(r,e,t){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function xP(r,e,t){var i=!1,n=r.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=r[a],s=r[(a+1)%n];if(Ebe(o,s,[e,t]))return!0;NK(o[1]-t)>0!=NK(s[1]-t)>0&&NK(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(i=!i)}return i}var bP=et(ot());function eAt(r){for(var e=[],t=r.length,i=0;i<t-1;i++){var n=r[i],a=r[i+1];e.push({from:{x:n[0],y:n[1]},to:{x:a[0],y:a[1]}})}if(e.length>1){var o=r[0],s=r[t-1];e.push({from:{x:s[0],y:s[1]},to:{x:o[0],y:o[1]}})}return e}function Tbe(r,e){var t=!1;return(0,bP.each)(r,function(i){if(gG(i.from,i.to,e.from,e.to))return t=!0,!1}),t}function rAt(r){var e=r.map(function(i){return i[0]}),t=r.map(function(i){return i[1]});return{minX:Math.min.apply(null,e),maxX:Math.max.apply(null,e),minY:Math.min.apply(null,t),maxY:Math.max.apply(null,t)}}function Ibe(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function mG(r,e){if(r.length<2||e.length<2)return!1;var t=rAt(r),i=rAt(e);if(!Ibe(t,i))return!1;var n=!1;if((0,bP.each)(e,function(l){if(xP(r,l[0],l[1]))return n=!0,!1}),n||((0,bP.each)(r,function(l){if(xP(e,l[0],l[1]))return n=!0,!1}),n))return!0;var a=eAt(r),o=eAt(e),s=!1;return(0,bP.each)(o,function(l){if(Tbe(a,l))return s=!0,!1}),s}var Mb=et(ot());function Lbe(r,e){for(var t=[],i=[],n=[],a=0;a<r.length;a++){var o=r[a],s=o.currentPoint,l=o.params,u=o.prePoint,f=void 0;switch(o.command){case"Q":f=mP.box(u[0],u[1],l[1],l[2],l[3],l[4]);break;case"C":f=x0.box(u[0],u[1],l[1],l[2],l[3],l[4],l[5],l[6]);break;case"A":var c=o.arcParams;f=TK.box(c.cx,c.cy,c.rx,c.ry,c.xRotation,c.startAngle,c.endAngle);break;default:t.push(s[0]),i.push(s[1]);break}f&&(o.box=f,t.push(f.x,f.x+f.width),i.push(f.y,f.y+f.height)),e&&(o.command==="L"||o.command==="M")&&o.prePoint&&o.nextPoint&&n.push(o)}t=t.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0}),i=i.filter(function(m){return!Number.isNaN(m)&&m!==1/0&&m!==-1/0});var h=(0,Mb.min)(t),d=(0,Mb.min)(i),v=(0,Mb.max)(t),p=(0,Mb.max)(i);if(n.length===0)return{x:h,y:d,width:v-h,height:p-d};for(var a=0;a<n.length;a++){var o=n[a],s=o.currentPoint,g=void 0;s[0]===h?(g=yG(o,e),h=h-g.xExtra):s[0]===v&&(g=yG(o,e),v=v+g.xExtra),s[1]===d?(g=yG(o,e),d=d-g.yExtra):s[1]===p&&(g=yG(o,e),p=p+g.yExtra)}return{x:h,y:d,width:v-h,height:p-d}}function yG(r,e){var t=r.prePoint,i=r.currentPoint,n=r.nextPoint,a=Math.pow(i[0]-t[0],2)+Math.pow(i[1]-t[1],2),o=Math.pow(i[0]-n[0],2)+Math.pow(i[1]-n[1],2),s=Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2),l=Math.acos((a+o-s)/(2*Math.sqrt(a)*Math.sqrt(o)));if(!l||Math.sin(l)===0||(0,Mb.isNumberEqual)(l,0))return{xExtra:0,yExtra:0};var u=Math.abs(Math.atan2(n[1]-i[1],n[0]-i[0])),f=Math.abs(Math.atan2(n[0]-i[0],n[1]-i[1]));u=u>Math.PI/2?Math.PI-u:u,f=f>Math.PI/2?Math.PI-f:f;var c={xExtra:Math.cos(l/2-u)*(e/2*(1/Math.sin(l/2)))-e/2||0,yExtra:Math.cos(f-l/2)*(e/2*(1/Math.sin(l/2)))-e/2||0};return c}function iAt(r){var e=r.attr(),t=e.path,i=e.stroke,n=i?e.lineWidth:0,a=r.get("segments")||e2(t),o=Lbe(a,n),s=o.x,l=o.y,u=o.width,f=o.height,c={minX:s,minY:l,maxX:s+u,maxY:l+f};return c=t2(r,c),{x:c.minX,y:c.minY,width:c.maxX-c.minX,height:c.maxY-c.minY}}function nAt(r){var e=r.attr(),t=e.x1,i=e.y1,n=e.x2,a=e.y2,o=Math.min(t,n),s=Math.max(t,n),l=Math.min(i,a),u=Math.max(i,a),f={minX:o,maxX:s,minY:l,maxY:u};return f=t2(r,f),{x:f.minX,y:f.minY,width:f.maxX-f.minX,height:f.maxY-f.minY}}function aAt(r){var e=r.attr(),t=e.x,i=e.y,n=e.rx,a=e.ry;return{x:t-n,y:i-a,width:n*2,height:a*2}}Kf("rect",SK);Kf("image",SK);Kf("circle",CK);Kf("marker",CK);Kf("polyline",HMt);Kf("polygon",UMt);Kf("text",ZMt);Kf("path",iAt);Kf("line",nAt);Kf("ellipse",aAt);var yg=et(ot());var BK=0,oAt=1/2,sAt=1/2,lAt=.05;var Obe=function(){function r(e){var t=e.xField,i=e.yField,n=e.adjustNames,a=n===void 0?["x","y"]:n,o=e.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=i,this.dimValuesMap=o}return r.prototype.isAdjust=function(e){return this.adjustNames.indexOf(e)>=0},r.prototype.getAdjustRange=function(e,t,i){var n=this.yField,a=i.indexOf(t),o=i.length,s,l;return!n&&this.isAdjust("y")?(s=0,l=1):o>1?(s=i[a===0?0:a-1],l=i[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(l-t)/2,a!==o-1?l-=(l-t)/2:l+=(t-i[o-2])/2):(s=t===0?0:t-.5,l=t===0?1:t+.5),{pre:s,next:l}},r.prototype.adjustData=function(e,t){var i=this,n=this.getDimValues(t);yg.each(e,function(a,o){yg.each(n,function(s,l){i.adjustDim(l,s,a,o)})})},r.prototype.groupData=function(e,t){return yg.each(e,function(i){i[t]===void 0&&(i[t]=BK)}),yg.groupBy(e,t)},r.prototype.adjustDim=function(e,t,i,n){},r.prototype.getDimValues=function(e){var t=this,i=t.xField,n=t.yField,a=yg.assign({},this.dimValuesMap),o=[];if(i&&this.isAdjust("x")&&o.push(i),n&&this.isAdjust("y")&&o.push(n),o.forEach(function(l){a&&a[l]||(a[l]=yg.valuesOfKey(e,l).sort(function(u,f){return u-f}))}),!n&&this.isAdjust("y")){var s="y";a[s]=[BK,1]}return a},r}(),Gv=Obe;var uAt={},wP=function(r){return uAt[r.toLowerCase()]},r2=function(r,e){if(wP(r))throw new Error("Adjust type '"+r+"' existed.");uAt[r.toLowerCase()]=e};var OAt=et(LAt()),{__extends:Ab,__assign:xg,__rest:Nri,__decorate:Bri,__param:Rri,__metadata:Gri,__awaiter:zri,__generator:jri,__exportStar:Yri,__createBinding:Wri,__values:Vri,__read:qri,__spread:Hri,__spreadArrays:Uri,__await:Xri,__asyncGenerator:Zri,__asyncDelegator:Kri,__asyncValues:Qri,__makeTemplateObject:$ri,__importStar:Jri,__importDefault:tii,__classPrivateFieldGet:eii,__classPrivateFieldSet:rii}=OAt.default;var Ba=et(ot());var kbe=function(r){Ab(e,r);function e(t){var i=r.call(this,t)||this;i.cacheMap={},i.adjustDataArray=[],i.mergeData=[];var n=t.marginRatio,a=n===void 0?oAt:n,o=t.dodgeRatio,s=o===void 0?sAt:o,l=t.dodgeBy,u=t.intervalPadding,f=t.dodgePadding,c=t.xDimensionLength,h=t.groupNum,d=t.defaultSize,v=t.maxColumnWidth,p=t.minColumnWidth,g=t.columnWidthRatio,m=t.customOffset;return i.marginRatio=a,i.dodgeRatio=s,i.dodgeBy=l,i.intervalPadding=u,i.dodgePadding=f,i.xDimensionLegenth=c,i.groupNum=h,i.defaultSize=d,i.maxColumnWidth=v,i.minColumnWidth=p,i.columnWidthRatio=g,i.customOffset=m,i}return e.prototype.process=function(t){var i=Ba.clone(t),n=Ba.flatten(i),a=this.dodgeBy,o=a?Ba.group(n,a):i;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjustDataArray=[],this.mergeData=[],i},e.prototype.adjustDim=function(t,i,n,a){var o=this,s=this.customOffset,l=this.getDistribution(t),u=this.groupData(n,t);return Ba.each(u,function(f,c){var h;i.length===1?h={pre:i[0]-1,next:i[0]+1}:h=o.getAdjustRange(t,parseFloat(c),i),Ba.each(f,function(d){var v=d[t],p=l[v],g=p.indexOf(a);if(Ba.isNil(s))d[t]=o.getDodgeOffset(h,g,p.length);else{var m=h.pre,y=h.next;d[t]=Ba.isFunction(s)?s(d,h):(m+y)/2+s}})}),[]},e.prototype.getDodgeOffset=function(t,i,n){var a=this,o=a.dodgeRatio,s=a.marginRatio,l=a.intervalPadding,u=a.dodgePadding,f=t.pre,c=t.next,h=c-f,d;if(!Ba.isNil(l)&&Ba.isNil(u)&&l>=0){var v=this.getIntervalOnlyOffset(n,i);d=f+v}else if(!Ba.isNil(u)&&Ba.isNil(l)&&u>=0){var v=this.getDodgeOnlyOffset(n,i);d=f+v}else if(!Ba.isNil(l)&&!Ba.isNil(u)&&l>=0&&u>=0){var v=this.getIntervalAndDodgeOffset(n,i);d=f+v}else{var p=h*o/n,g=s*p,v=1/2*(h-n*p-(n-1)*g)+((i+1)*p+i*g)-1/2*p-1/2*h;d=(f+c)/2+v}return d},e.prototype.getIntervalOnlyOffset=function(t,i){var n=this,a=n.defaultSize,o=n.intervalPadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.dodgeRatio,f=n.maxColumnWidth,c=n.minColumnWidth,h=n.columnWidthRatio,d=o/s,v=(1-(l-1)*d)/l*u/(t-1),p=((1-d*(l-1))/l-v*(t-1))/t;if(p=Ba.isNil(h)?p:1/l/t*h,!Ba.isNil(f)){var g=f/s;p=Math.min(p,g)}if(!Ba.isNil(c)){var m=c/s;p=Math.max(p,m)}p=a?a/s:p,v=((1-(l-1)*d)/l-t*p)/(t-1);var y=((1/2+i)*p+i*v+1/2*d)*l-d/2;return y},e.prototype.getDodgeOnlyOffset=function(t,i){var n=this,a=n.defaultSize,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=n.marginRatio,f=n.maxColumnWidth,c=n.minColumnWidth,h=n.columnWidthRatio,d=o/s,v=1*u/(l-1),p=((1-v*(l-1))/l-d*(t-1))/t;if(p=h?1/l/t*h:p,!Ba.isNil(f)){var g=f/s;p=Math.min(p,g)}if(!Ba.isNil(c)){var m=c/s;p=Math.max(p,m)}p=a?a/s:p,v=(1-(p*t+d*(t-1))*l)/(l-1);var y=((1/2+i)*p+i*d+1/2*v)*l-v/2;return y},e.prototype.getIntervalAndDodgeOffset=function(t,i){var n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.xDimensionLegenth,l=n.groupNum,u=a/s,f=o/s,c=((1-u*(l-1))/l-f*(t-1))/t,h=((1/2+i)*c+i*f+1/2*u)*l-u/2;return h},e.prototype.getDistribution=function(t){var i=this.adjustDataArray,n=this.cacheMap,a=n[t];return a||(a={},Ba.each(i,function(o,s){var l=Ba.valuesOfKey(o,t);l.length||l.push(0),Ba.each(l,function(u){a[u]||(a[u]=[]),a[u].push(s)})}),n[t]=a),a},e}(Gv),kAt=kbe;var pC=et(ot());function Pbe(r,e){return(e-r)*Math.random()+r}var Dbe=function(r){Ab(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var i=pC.clone(t),n=pC.flatten(i);return this.adjustData(i,n),i},e.prototype.adjustDim=function(t,i,n){var a=this,o=this.groupData(n,t);return pC.each(o,function(s,l){return a.adjustGroup(s,t,parseFloat(l),i)})},e.prototype.getAdjustOffset=function(t){var i=t.pre,n=t.next,a=(n-i)*lAt;return Pbe(i+a,n-a)},e.prototype.adjustGroup=function(t,i,n,a){var o=this,s=this.getAdjustRange(i,n,a);return pC.each(t,function(l){l[i]=o.getAdjustOffset(s)}),t},e}(Gv),PAt=Dbe;var w0=et(ot());var GK=w0.Cache,Fbe=function(r){Ab(e,r);function e(t){var i=r.call(this,t)||this,n=t.adjustNames,a=n===void 0?["y"]:n,o=t.height,s=o===void 0?NaN:o,l=t.size,u=l===void 0?10:l,f=t.reverseOrder,c=f===void 0?!1:f;return i.adjustNames=a,i.height=s,i.size=u,i.reverseOrder=c,i}return e.prototype.process=function(t){var i=this,n=i.yField,a=i.reverseOrder,o=n?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},e.prototype.reverse=function(t){return t.slice(0).reverse()},e.prototype.processStack=function(t){var i=this,n=i.xField,a=i.yField,o=i.reverseOrder,s=o?this.reverse(t):t,l=new GK,u=new GK;return s.map(function(f){return f.map(function(c){var h,d=w0.get(c,n,0),v=w0.get(c,[a]),p=d.toString();if(v=w0.isArray(v)?v[1]:v,!w0.isNil(v)){var g=v>=0?l:u;g.has(p)||g.set(p,0);var m=g.get(p),y=v+m;return g.set(p,y),xg(xg({},c),(h={},h[a]=[m,y],h))}return c})})},e.prototype.processOneDimStack=function(t){var i=this,n=this,a=n.xField,o=n.height,s=n.reverseOrder,l="y",u=s?this.reverse(t):t,f=new GK;return u.map(function(c){return c.map(function(h){var d,v=i.size,p=h[a],g=v*2/o;f.has(p)||f.set(p,g/2);var m=f.get(p);return f.set(p,m+g),xg(xg({},h),(d={},d[l]=m,d))})})},e}(Gv),DAt=Fbe;var yu=et(ot());var Nbe=function(r){Ab(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.process=function(t){var i=yu.flatten(t),n=this,a=n.xField,o=n.yField,s=this.getXValuesMaxMap(i),l=Math.max.apply(Math,Object.keys(s).map(function(u){return s[u]}));return yu.map(t,function(u){return yu.map(u,function(f){var c,h,d=f[o],v=f[a];if(yu.isArray(d)){var p=(l-s[v])/2;return xg(xg({},f),(c={},c[o]=yu.map(d,function(m){return p+m}),c))}var g=(l-d)/2;return xg(xg({},f),(h={},h[o]=[g,d+g],h))})})},e.prototype.getXValuesMaxMap=function(t){var i=this,n=this,a=n.xField,o=n.yField,s=yu.groupBy(t,function(l){return l[a]});return yu.mapValues(s,function(l){return i.getDimMaxValue(l,o)})},e.prototype.getDimMaxValue=function(t,i){var n=yu.map(t,function(o){return yu.get(o,i,[])}),a=yu.flatten(n);return Math.max.apply(Math,a)},e}(Gv),FAt=Nbe;r2("Dodge",kAt);r2("Jitter",PAt);r2("Stack",DAt);r2("Symmetric",FAt);var n2=et(ot()),NAt=function(r,e){return(0,n2.isString)(e)?e:r.invert(r.scale(e))},Bbe=function(){function r(e){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(e)}return r.prototype.mapping=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n=t.map(function(a,o){return e._toOriginParam(a,e.scales[o])});return this.callback.apply(this,n)},r.prototype.getLinearValue=function(e){var t=this.values.length-1,i=Math.floor(t*e),n=t*e-i,a=this.values[i],o=i===t?a:this.values[i+1];return a+(o-a)*n},r.prototype.getNames=function(){for(var e=this.scales,t=this.names,i=Math.min(e.length,t.length),n=[],a=0;a<i;a+=1)n.push(t[a]);return n},r.prototype.getFields=function(){return this.scales.map(function(e){return e.field})},r.prototype.getScale=function(e){return this.scales[this.names.indexOf(e)]},r.prototype.defaultCallback=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t.length===0?this.values:t.map(function(n,a){var o=e.scales[a];return o.type==="identity"?o.values[0]:e._getAttributeValue(o,n)})},r.prototype._parseCfg=function(e){var t=this,i=e.type,n=i===void 0?"base":i,a=e.names,o=a===void 0?[]:a,s=e.scales,l=s===void 0?[]:s,u=e.values,f=u===void 0?[]:u,c=e.callback;this.type=n,this.scales=l,this.values=f,this.names=o,this.callback=function(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];if(c){var v=c.apply(void 0,h);if(!(0,n2.isNil)(v))return[v]}return t.defaultCallback.apply(t,h)}},r.prototype._getAttributeValue=function(e,t){if(e.isCategory&&!this.linear){var i=e.translate(t);return this.values[i%this.values.length]}var n=e.scale(t);return this.getLinearValue(n)},r.prototype._toOriginParam=function(e,t){return t.isLinear?e:(0,n2.isArray)(e)?e.map(function(i){return NAt(t,i)}):NAt(t,e)},r}(),Jc=Bbe;var Eb=et(ot()),Rbe=/rgba?\(([\s.,0-9]+)\)/,Gbe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,zbe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,jbe=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Ybe=function(r){return/^[r,R,L,l]{1}[\s]*\(/.test(r)},Wbe=function(){var r=document.createElement("i");return r.title="Web Colour Picker",r.style.display="none",document.body.appendChild(r),r},zK=function(r,e,t,i){return r[i]+(e[i]-r[i])*t};function BAt(r){return"#"+jK(r[0])+jK(r[1])+jK(r[2])}var RAt=function(r){return[parseInt(r.substr(1,2),16),parseInt(r.substr(3,2),16),parseInt(r.substr(5,2),16)]},jK=function(r){var e=Math.round(r).toString(16);return e.length===1?"0"+e:e},Vbe=function(r,e){var t=isNaN(Number(e))||e<0?0:e>1?1:Number(e),i=r.length-1,n=Math.floor(i*t),a=i*t-n,o=r[n],s=n===i?o:r[n+1];return BAt([zK(o,s,a,0),zK(o,s,a,1),zK(o,s,a,2)])},wG,GAt=function(r){if(r[0]==="#"&&r.length===7)return r;wG||(wG=Wbe()),wG.style.color=r;var e=document.defaultView.getComputedStyle(wG,"").getPropertyValue("color"),t=Rbe.exec(e),i=t[1].split(/\s*,\s*/).map(function(n){return Number(n)});return e=BAt(i),e},qbe=function(r){var e=(0,Eb.isString)(r)?r.split("-"):r,t=(0,Eb.map)(e,function(i){return RAt(i.indexOf("#")===-1?GAt(i):i)});return function(i){return Vbe(t,i)}},Hbe=function(r){if(Ybe(r)){var e,t=void 0;if(r[0]==="l"){var i=Gbe.exec(r),n=+i[1]+90;t=i[2],e="linear-gradient("+n+"deg, "}else if(r[0]==="r"){e="radial-gradient(";var i=zbe.exec(r);t=i[4]}var a=t.match(jbe);return(0,Eb.each)(a,function(o,s){var l=o.split(":");e+=l[1]+" "+l[0]*100+"%",s!==a.length-1&&(e+=", ")}),e+=")",e}return r},th={rgb2arr:RAt,gradient:qbe,toRGB:(0,Eb.memoize)(GAt),toCSSGradient:Hbe};var zAt=et(ot());var Ube=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="color",i.names=["color"],(0,zAt.isString)(i.values)&&(i.linear=!0),i.gradient=th.gradient(i.values),i}return e.prototype.getLinearValue=function(t){return this.gradient(t)},e}(Jc),YK=Ube;var Xbe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="opacity",i.names=["opacity"],i}return e}(Jc),jAt=Xbe;var a2=et(ot());var Zbe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.names=["x","y"],i.type="position",i}return e.prototype.mapping=function(t,i){var n=this.scales,a=n[0],o=n[1];return(0,a2.isNil)(t)||(0,a2.isNil)(i)?[]:[(0,a2.isArray)(t)?t.map(function(s){return a.scale(s)}):a.scale(t),(0,a2.isArray)(i)?i.map(function(s){return o.scale(s)}):o.scale(i)]},e}(Jc),YAt=Zbe;var Kbe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="shape",i.names=["shape"],i}return e.prototype.getLinearValue=function(t){var i=Math.round((this.values.length-1)*t);return this.values[i]},e}(Jc),WAt=Kbe;var Qbe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.type="size",i.names=["size"],i}return e}(Jc),VAt=Qbe;var cl=et(ot());var qAt={};function _G(r){return qAt[r]}function sd(r,e){qAt[r]=e}var $be=function(){function r(e){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=e,this.initCfg(),this.init()}return r.prototype.translate=function(e){return e},r.prototype.change=function(e){(0,cl.assign)(this.__cfg__,e),this.init()},r.prototype.clone=function(){return this.constructor(this.__cfg__)},r.prototype.getTicks=function(){var e=this;return(0,cl.map)(this.ticks,function(t,i){return(0,cl.isObject)(t)?t:{text:e.getText(t,i),tickValue:t,value:e.scale(t)}})},r.prototype.getText=function(e,t){var i=this.formatter,n=i?i(e,t):e;return(0,cl.isNil)(n)||!(0,cl.isFunction)(n.toString)?"":n.toString()},r.prototype.getConfig=function(e){return this.__cfg__[e]},r.prototype.init=function(){(0,cl.assign)(this,this.__cfg__),this.setDomain(),(0,cl.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},r.prototype.initCfg=function(){},r.prototype.setDomain=function(){},r.prototype.calculateTicks=function(){var e=this.tickMethod,t=[];if((0,cl.isString)(e)){var i=_G(e);if(!i)throw new Error("There is no method to to calculate ticks!");t=i(this)}else(0,cl.isFunction)(e)&&(t=e(this));return t},r.prototype.rangeMin=function(){return this.range[0]},r.prototype.rangeMax=function(){return this.range[1]},r.prototype.calcPercent=function(e,t,i){return(0,cl.isNumber)(e)?(e-t)/(i-t):NaN},r.prototype.calcValue=function(e,t,i){return t+e*(i-t)},r}(),ld=$be;var o2=et(ot());var Jbe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return e.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},e.prototype.translate=function(t){this.buildIndexMap();var i=this.translateIndexMap.get(t);return i===void 0&&(i=(0,o2.isNumber)(t)?t:NaN),i},e.prototype.scale=function(t){var i=this.translate(t),n=this.calcPercent(i,this.min,this.max);return this.calcValue(n,this.rangeMin(),this.rangeMax())},e.prototype.invert=function(t){var i=this.max-this.min,n=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(i*n)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},e.prototype.getText=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];var a=t;return(0,o2.isNumber)(t)&&!this.values.includes(t)&&(a=this.values[a]),r.prototype.getText.apply(this,cu([a],i))},e.prototype.initCfg=function(){this.tickMethod="cat"},e.prototype.setDomain=function(){if((0,o2.isNil)(this.getConfig("min"))&&(this.min=0),(0,o2.isNil)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},e}(ld),bg=Jbe;var AG=et(ot());var s2=et(ot());var qK={};ai(qK,{assign:()=>Lb,default:()=>VK,defaultI18n:()=>WK,format:()=>oEt,parse:()=>sEt,setGlobalDateI18n:()=>$At,setGlobalDateMasks:()=>aEt});var HAt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Tb="\\d\\d?",Ib="\\d\\d",twe="\\d{3}",ewe="\\d{4}",_P="[^\\s]+",UAt=/\[([^]*?)\]/gm;function XAt(r,e){for(var t=[],i=0,n=r.length;i<n;i++)t.push(r[i].substr(0,e));return t}var ZAt=function(r){return function(e,t){var i=t[r].map(function(a){return a.toLowerCase()}),n=i.indexOf(e.toLowerCase());return n>-1?n:null}};function Lb(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0,n=e;i<n.length;i++){var a=n[i];for(var o in a)r[o]=a[o]}return r}var KAt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],QAt=["January","February","March","April","May","June","July","August","September","October","November","December"],rwe=XAt(QAt,3),iwe=XAt(KAt,3),WK={dayNamesShort:iwe,dayNames:KAt,monthNamesShort:rwe,monthNames:QAt,amPm:["am","pm"],DoFn:function(r){return r+["th","st","nd","rd"][r%10>3?0:(r-r%10!=10?1:0)*r%10]}},SG=Lb({},WK),$At=function(r){return SG=Lb(SG,r)},JAt=function(r){return r.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Qf=function(r,e){for(e===void 0&&(e=2),r=String(r);r.length<e;)r="0"+r;return r},nwe={D:function(r){return String(r.getDate())},DD:function(r){return Qf(r.getDate())},Do:function(r,e){return e.DoFn(r.getDate())},d:function(r){return String(r.getDay())},dd:function(r){return Qf(r.getDay())},ddd:function(r,e){return e.dayNamesShort[r.getDay()]},dddd:function(r,e){return e.dayNames[r.getDay()]},M:function(r){return String(r.getMonth()+1)},MM:function(r){return Qf(r.getMonth()+1)},MMM:function(r,e){return e.monthNamesShort[r.getMonth()]},MMMM:function(r,e){return e.monthNames[r.getMonth()]},YY:function(r){return Qf(String(r.getFullYear()),4).substr(2)},YYYY:function(r){return Qf(r.getFullYear(),4)},h:function(r){return String(r.getHours()%12||12)},hh:function(r){return Qf(r.getHours()%12||12)},H:function(r){return String(r.getHours())},HH:function(r){return Qf(r.getHours())},m:function(r){return String(r.getMinutes())},mm:function(r){return Qf(r.getMinutes())},s:function(r){return String(r.getSeconds())},ss:function(r){return Qf(r.getSeconds())},S:function(r){return String(Math.round(r.getMilliseconds()/100))},SS:function(r){return Qf(Math.round(r.getMilliseconds()/10),2)},SSS:function(r){return Qf(r.getMilliseconds(),3)},a:function(r,e){return r.getHours()<12?e.amPm[0]:e.amPm[1]},A:function(r,e){return r.getHours()<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},ZZ:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+Qf(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)},Z:function(r){var e=r.getTimezoneOffset();return(e>0?"-":"+")+Qf(Math.floor(Math.abs(e)/60),2)+":"+Qf(Math.abs(e)%60,2)}},tEt=function(r){return+r-1},eEt=[null,Tb],rEt=[null,_P],iEt=["isPm",_P,function(r,e){var t=r.toLowerCase();return t===e.amPm[0]?0:t===e.amPm[1]?1:null}],nEt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(r){var e=(r+"").match(/([+-]|\d\d)/gi);if(e){var t=+e[1]*60+parseInt(e[2],10);return e[0]==="+"?t:-t}return 0}],awe={D:["day",Tb],DD:["day",Ib],Do:["day",Tb+_P,function(r){return parseInt(r,10)}],M:["month",Tb,tEt],MM:["month",Ib,tEt],YY:["year",Ib,function(r){var e=new Date,t=+(""+e.getFullYear()).substr(0,2);return+(""+(+r>68?t-1:t)+r)}],h:["hour",Tb,void 0,"isPm"],hh:["hour",Ib,void 0,"isPm"],H:["hour",Tb],HH:["hour",Ib],m:["minute",Tb],mm:["minute",Ib],s:["second",Tb],ss:["second",Ib],YYYY:["year",ewe],S:["millisecond","\\d",function(r){return+r*100}],SS:["millisecond",Ib,function(r){return+r*10}],SSS:["millisecond",twe],d:eEt,dd:eEt,ddd:rEt,dddd:rEt,MMM:["month",_P,ZAt("monthNamesShort")],MMMM:["month",_P,ZAt("monthNames")],a:iEt,A:iEt,ZZ:nEt,Z:nEt},CG={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},aEt=function(r){return Lb(CG,r)},oEt=function(r,e,t){if(e===void 0&&(e=CG.default),t===void 0&&(t={}),typeof r=="number"&&(r=new Date(r)),Object.prototype.toString.call(r)!=="[object Date]"||isNaN(r.getTime()))throw new Error("Invalid Date pass to format");e=CG[e]||e;var i=[];e=e.replace(UAt,function(a,o){return i.push(o),"@@@"});var n=Lb(Lb({},SG),t);return e=e.replace(HAt,function(a){return nwe[a](r,n)}),e.replace(/@@@/g,function(){return i.shift()})};function sEt(r,e,t){if(t===void 0&&(t={}),typeof e!="string")throw new Error("Invalid format in fecha parse");if(e=CG[e]||e,r.length>1e3)return null;var i=new Date,n={year:i.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=e.replace(UAt,function(b,_){return o.push(JAt(_)),"@@@"}),l={},u={};s=JAt(s).replace(HAt,function(b){var _=awe[b],M=_[0],A=_[1],I=_[3];if(l[M])throw new Error("Invalid format. "+M+" specified twice in format");return l[M]=!0,I&&(u[I]=!0),a.push(_),"("+A+")"}),Object.keys(u).forEach(function(b){if(!l[b])throw new Error("Invalid format. "+b+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=r.match(new RegExp(s,"i"));if(!f)return null;for(var c=Lb(Lb({},SG),t),h=1;h<f.length;h++){var d=a[h-1],v=d[0],p=d[2],g=p?p(f[h],c):+f[h];if(g==null)return null;n[v]=g}n.isPm===1&&n.hour!=null&&+n.hour!=12?n.hour=+n.hour+12:n.isPm===0&&+n.hour==12&&(n.hour=0);var m;if(n.timezoneOffset==null){m=new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond);for(var y=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,x=y.length;h<x;h++)if(l[y[h][0]]&&n[y[h][0]]!==m[y[h][1]]())return null}else if(m=new Date(Date.UTC(n.year,n.month,n.day,n.hour,n.minute-n.timezoneOffset,n.second,n.millisecond)),n.month>11||n.month<0||n.day>31||n.day<1||n.hour>23||n.hour<0||n.minute>59||n.minute<0||n.second>59||n.second<0)return null;return m}var owe={format:oEt,parse:sEt,defaultI18n:WK,setGlobalDateI18n:$At,setGlobalDateMasks:aEt},VK=owe;var HK=et(ot());function lEt(r){return function(e,t,i,n){for(var a=(0,HK.isNil)(i)?0:i,o=(0,HK.isNil)(n)?e.length:n;a<o;){var s=a+o>>>1;r(e[s])>t?o=s:a=s+1}return a}}var uEt="format";function MG(r,e){var t=qK[uEt]||VK[uEt];return t(r,e)}function l2(r){return(0,s2.isString)(r)&&(r.indexOf("T")>0?r=new Date(r).getTime():r=new Date(r.replace(/-/gi,"/")).getTime()),(0,s2.isDate)(r)&&(r=r.getTime()),r}var ud=1e3,Ob=60*ud,kb=60*Ob,wg=24*kb,u2=wg*31,UK=wg*365;var SP=[["HH:mm:ss",ud],["HH:mm:ss",ud*10],["HH:mm:ss",ud*30],["HH:mm",Ob],["HH:mm",Ob*10],["HH:mm",Ob*30],["HH",kb],["HH",kb*6],["HH",kb*12],["YYYY-MM-DD",wg],["YYYY-MM-DD",wg*4],["YYYY-WW",wg*7],["YYYY-MM",u2],["YYYY-MM",u2*4],["YYYY-MM",u2*6],["YYYY",wg*380]];function fEt(r,e,t){var i=(e-r)/t,n=lEt(function(o){return o[1]})(SP,i)-1,a=SP[n];return n<0?a=SP[0]:n>=SP.length&&(a=(0,s2.last)(SP)),a}var swe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="timeCat",t}return e.prototype.translate=function(t){t=l2(t);var i=this.values.indexOf(t);return i===-1&&((0,AG.isNumber)(t)&&t<this.values.length?i=t:i=NaN),i},e.prototype.getText=function(t,i){var n=this.translate(t);if(n>-1){var a=this.values[n],o=this.formatter;return a=o?o(a,i):MG(a,this.mask),a}return t},e.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},e.prototype.setDomain=function(){var t=this.values;(0,AG.each)(t,function(i,n){t[n]=l2(i)}),t.sort(function(i,n){return i-n}),r.prototype.setDomain.call(this)},e}(bg),cEt=swe;var $f=et(ot());var lwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isContinuous=!0,t}return e.prototype.scale=function(t){if((0,$f.isNil)(t))return NaN;var i=this.rangeMin(),n=this.rangeMax(),a=this.max,o=this.min;if(a===o)return i;var s=this.getScalePercent(t);return i+s*(n-i)},e.prototype.init=function(){r.prototype.init.call(this);var t=this.ticks,i=(0,$f.head)(t),n=(0,$f.last)(t);i<this.min&&(this.min=i),n>this.max&&(this.max=n),(0,$f.isNil)(this.minLimit)||(this.min=i),(0,$f.isNil)(this.maxLimit)||(this.max=n)},e.prototype.setDomain=function(){var t=(0,$f.getRange)(this.values),i=t.min,n=t.max;(0,$f.isNil)(this.min)&&(this.min=i),(0,$f.isNil)(this.max)&&(this.max=n),this.min>this.max&&(this.min=i,this.max=n)},e.prototype.calculateTicks=function(){var t=this,i=r.prototype.calculateTicks.call(this);return this.nice||(i=(0,$f.filter)(i,function(n){return n>=t.min&&n<=t.max})),i},e.prototype.getScalePercent=function(t){var i=this.max,n=this.min;return(t-n)/(i-n)},e.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},e}(ld),Pb=lwe;var uwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return e.prototype.invert=function(t){var i=this.getInvertPercent(t);return this.min+i*(this.max-this.min)},e.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},e}(Pb),zv=uwe;var EG=et(ot());function _g(r,e){var t=Math.E,i;return e>=0?i=Math.pow(t,Math.log(e)/r):i=Math.pow(t,Math.log(-e)/r)*-1,i}function Jf(r,e){return r===1?1:Math.log(e)/Math.log(r)}function TG(r,e,t){(0,EG.isNil)(t)&&(t=Math.max.apply(null,r));var i=t;return(0,EG.each)(r,function(n){n>0&&n<i&&(i=n)}),i===t&&(i=t/e),i>1&&(i=1),i}var fwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="log",t}return e.prototype.invert=function(t){var i=this.base,n=Jf(i,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,l=this.positiveMin;if(l){if(t===0)return 0;s=Jf(i,l/i);var u=1/(n-s)*o;if(t<u)return t/u*l}else s=Jf(i,this.min);var f=(t-a)/o,c=f*(n-s)+s;return Math.pow(i,c)},e.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},e.prototype.setDomain=function(){r.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=TG(this.values,this.base,this.max))},e.prototype.getScalePercent=function(t){var i=this.max,n=this.min;if(i===n||t<=0)return 0;var a=this.base,o=this.positiveMin;o&&(n=o*1/a);var s;return t<o?s=t/o/(Jf(a,i)-Jf(a,n)):s=(Jf(a,t)-Jf(a,n))/(Jf(a,i)-Jf(a,n)),s},e}(Pb),hEt=fwe;var cwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="pow",t}return e.prototype.invert=function(t){var i=this.getInvertPercent(t),n=this.exponent,a=_g(n,this.max),o=_g(n,this.min),s=i*(a-o)+o,l=s>=0?1:-1;return Math.pow(s,n)*l},e.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},e.prototype.getScalePercent=function(t){var i=this.max,n=this.min;if(i===n)return 0;var a=this.exponent,o=(_g(a,t)-_g(a,n))/(_g(a,i)-_g(a,n));return o},e}(Pb),dEt=cwe;var tc=et(ot());var hwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="time",t}return e.prototype.getText=function(t,i){var n=this.translate(t),a=this.formatter;return a?a(n,i):MG(n,this.mask)},e.prototype.scale=function(t){var i=t;return((0,tc.isString)(i)||(0,tc.isDate)(i))&&(i=this.translate(i)),r.prototype.scale.call(this,i)},e.prototype.translate=function(t){return l2(t)},e.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},e.prototype.setDomain=function(){var t=this.values,i=this.getConfig("min"),n=this.getConfig("max");if((!(0,tc.isNil)(i)||!(0,tc.isNumber)(i))&&(this.min=this.translate(this.min)),(!(0,tc.isNil)(n)||!(0,tc.isNumber)(n))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,l=0;(0,tc.each)(t,function(u){var f=l2(u);if(isNaN(f))throw new TypeError("Invalid Time: "+u+" in time scale!");o>f?(s=o,o=f):s>f&&(s=f),l<f&&(l=f),a.push(f)}),t.length>1&&(this.minTickInterval=s-o),(0,tc.isNil)(i)&&(this.min=o),(0,tc.isNil)(n)&&(this.max=l)}},e}(zv),vEt=hwe;var Sg=et(ot());var dwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantize",t}return e.prototype.invert=function(t){var i=this.ticks,n=i.length,a=this.getInvertPercent(t),o=Math.floor(a*(n-1));if(o>=n-1)return(0,Sg.last)(i);if(o<0)return(0,Sg.head)(i);var s=i[o],l=i[o+1],u=o/(n-1),f=(o+1)/(n-1);return s+(a-u)/(f-u)*(l-s)},e.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},e.prototype.calculateTicks=function(){var t=r.prototype.calculateTicks.call(this);return this.nice||((0,Sg.last)(t)!==this.max&&t.push(this.max),(0,Sg.head)(t)!==this.min&&t.unshift(this.min)),t},e.prototype.getScalePercent=function(t){var i=this.ticks;if(t<(0,Sg.head)(i))return 0;if(t>(0,Sg.last)(i))return 1;var n=0;return(0,Sg.each)(i,function(a,o){if(t>=a)n=o;else return!1}),n/(i.length-1)},e}(Pb),IG=dwe;var vwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="quantile",t}return e.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},e}(IG),pEt=vwe;var gEt={};function f2(r){return gEt[r]}function fd(r,e){if(f2(r))throw new Error("type '"+r+"' existed.");gEt[r]=e}var mEt=et(ot());var pwe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return e.prototype.calculateTicks=function(){return this.values},e.prototype.scale=function(t){return this.values[0]!==t&&(0,mEt.isNumber)(t)?t:this.range[0]},e.prototype.invert=function(t){var i=this.range;return t<i[0]||t>i[1]?NaN:this.values[0]},e}(ld),yEt=pwe;var jv=et(ot());function CP(r){var e=r.values,t=r.tickInterval,i=r.tickCount,n=r.showLast;if((0,jv.isNumber)(t)){var a=(0,jv.filter)(e,function(v,p){return p%t==0}),o=(0,jv.last)(e);return n&&(0,jv.last)(a)!==o&&a.push(o),a}var s=e.length,l=r.min,u=r.max;if((0,jv.isNil)(l)&&(l=0),(0,jv.isNil)(u)&&(u=e.length-1),!(0,jv.isNumber)(i)||i>=s)return e.slice(l,u+1);if(i<=0||u<=0)return[];for(var f=i===1?s:Math.floor(s/(i-1)),c=[],h=l,d=0;d<i&&!(h>=u);d++)h=Math.min(l+d*f,u),d===i-1&&n?c.push(e[u]):c.push(e[h]);return c}var yC=et(ot());function XK(r){var e=r.min,t=r.max,i=r.nice,n=r.tickCount,a=new gwe;return a.domain([e,t]),i&&a.nice(n),a.ticks(n)}var ZK=5,xEt=Math.sqrt(50),bEt=Math.sqrt(10),wEt=Math.sqrt(2),gwe=function(){function r(){this._domain=[0,1]}return r.prototype.domain=function(e){return e?(this._domain=Array.from(e,Number),this):this._domain.slice()},r.prototype.nice=function(e){var t,i;e===void 0&&(e=ZK);var n=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],l=this._domain[o],u;return l<s&&(t=[l,s],s=t[0],l=t[1],i=[o,a],a=i[0],o=i[1]),u=LG(s,l,e),u>0?(s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u,u=LG(s,l,e)):u<0&&(s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u,u=LG(s,l,e)),u>0?(n[a]=Math.floor(s/u)*u,n[o]=Math.ceil(l/u)*u,this.domain(n)):u<0&&(n[a]=Math.ceil(s*u)/u,n[o]=Math.floor(l*u)/u,this.domain(n)),this},r.prototype.ticks=function(e){return e===void 0&&(e=ZK),mwe(this._domain[0],this._domain[this._domain.length-1],e||ZK)},r}();function mwe(r,e,t){var i,n=-1,a,o,s;if(e=+e,r=+r,t=+t,r===e&&t>0)return[r];if((i=e<r)&&(a=r,r=e,e=a),(s=LG(r,e,t))===0||!isFinite(s))return[];if(s>0)for(r=Math.ceil(r/s),e=Math.floor(e/s),o=new Array(a=Math.ceil(e-r+1));++n<a;)o[n]=(r+n)*s;else for(r=Math.floor(r*s),e=Math.ceil(e*s),o=new Array(a=Math.ceil(r-e+1));++n<a;)o[n]=(r-n)/s;return i&&o.reverse(),o}function LG(r,e,t){var i=(e-r)/Math.max(0,t),n=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,n);return n>=0?(a>=xEt?10:a>=bEt?5:a>=wEt?2:1)*Math.pow(10,n):-Math.pow(10,-n)/(a>=xEt?10:a>=bEt?5:a>=wEt?2:1)}var OG=et(ot());function _Et(r,e,t){var i;return t==="ceil"?i=Math.ceil(r/e):t==="floor"?i=Math.floor(r/e):i=Math.round(r/e),i*e}function gC(r,e,t){var i=_Et(r,t,"floor"),n=_Et(e,t,"ceil");i=(0,OG.fixedBase)(i,t),n=(0,OG.fixedBase)(n,t);for(var a=[],o=Math.max((n-i)/(Math.pow(2,12)-1),t),s=i;s<=n;s=s+o){var l=(0,OG.fixedBase)(s,o);a.push(l)}return{min:i,max:n,ticks:a}}var MP=et(ot());function mC(r,e,t){var i,n=r.minLimit,a=r.maxLimit,o=r.min,s=r.max,l=r.tickCount,u=l===void 0?5:l,f=(0,MP.isNil)(n)?(0,MP.isNil)(e)?o:e:n,c=(0,MP.isNil)(a)?(0,MP.isNil)(t)?s:t:a;if(f>c&&(i=[f,c],c=i[0],f=i[1]),u<=2)return[f,c];for(var h=(c-f)/(u-1),d=[],v=0;v<u;v++)d.push(f+h*v);return d}function KK(r){var e=r.min,t=r.max,i=r.tickInterval,n=r.minLimit,a=r.maxLimit,o=XK(r);return!(0,yC.isNil)(n)||!(0,yC.isNil)(a)?mC(r,(0,yC.head)(o),(0,yC.last)(o)):i?gC(e,t,i).ticks:o}var xC=et(ot());var Cg=et(ot());function _0(r){return Math.abs(r)<1e-15?r:parseFloat(r.toFixed(15))}var ywe=[1,5,2,2.5,4,3];var SEt=Number.EPSILON*100;function xwe(r,e){return(r%e+e)%e}function bwe(r){return Math.round(r*1e12)/1e12}function wwe(r,e,t,i,n,a){var o=(0,Cg.size)(e),s=(0,Cg.indexOf)(e,r),l=0,u=xwe(i,a);return(u<SEt||a-u<SEt)&&i<=0&&n>=0&&(l=1),1-s/(o-1)-t+l}function _we(r,e,t){var i=(0,Cg.size)(e),n=(0,Cg.indexOf)(e,r),a=1;return 1-n/(i-1)-t+a}function Swe(r,e,t,i,n,a){var o=(r-1)/(a-n),s=(e-1)/(Math.max(a,i)-Math.min(t,n));return 2-Math.max(o/s,s/o)}function Cwe(r,e){return r>=e?2-(r-1)/(e-1):1}function Mwe(r,e,t,i){var n=e-r;return 1-.5*(Math.pow(e-i,2)+Math.pow(r-t,2))/Math.pow(.1*n,2)}function Awe(r,e,t){var i=e-r;if(t>i){var n=(t-i)/2;return 1-Math.pow(n,2)/Math.pow(.1*i,2)}return 1}function Ewe(){return 1}function QK(r,e,t,i,n,a){t===void 0&&(t=5),i===void 0&&(i=!0),n===void 0&&(n=ywe),a===void 0&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(r)||Number.isNaN(e)||typeof r!="number"||typeof e!="number"||!o)return{min:0,max:0,ticks:[]};if(e-r<1e-15||o===1)return{min:r,max:e,ticks:[r]};if(e-r>1e148){var s=t||5,l=(e-r)/s;return{min:r,max:e,ticks:Array(s).fill(null).map(function(tt,lt){return _0(r+l*lt)})}}for(var u={score:-2,lmin:0,lmax:0,lstep:0},f=1;f<1/0;){for(var c=0;c<n.length;c+=1){var h=n[c],d=_we(h,n,f);if(a[0]*d+a[1]+a[2]+a[3]<u.score){f=1/0;break}for(var v=2;v<1/0;){var p=Cwe(v,o);if(a[0]*d+a[1]+a[2]*p+a[3]<u.score)break;for(var g=(e-r)/(v+1)/f/h,m=Math.ceil(Math.log10(g));m<1/0;){var y=f*h*Math.pow(10,m),x=Awe(r,e,y*(v-1));if(a[0]*d+a[1]*x+a[2]*p+a[3]<u.score)break;var b=Math.floor(e/y)*f-(v-1)*f,_=Math.ceil(r/y)*f;if(b<=_)for(var s=_-b,M=0;M<=s;M+=1){var A=b+M,I=A*(y/f),k=I+y*(v-1),E=y,O=wwe(h,n,f,I,k,E),P=Mwe(r,e,I,k),N=Swe(v,o,r,e,I,k),R=Ewe(),z=a[0]*O+a[1]*P+a[2]*N+a[3]*R;z>u.score&&(!i||I<=r&&k>=e)&&(u.lmin=I,u.lmax=k,u.lstep=E,u.score=z)}m+=1}v+=1}}f+=1}var B=_0(u.lmax),Y=_0(u.lmin),q=_0(u.lstep),j=Math.floor(bwe((B-Y)/q))+1,Z=new Array(j);Z[0]=_0(Y);for(var c=1;c<j;c++)Z[c]=_0(Z[c-1]+q);return{min:Math.min(r,(0,Cg.head)(Z)),max:Math.max(e,(0,Cg.last)(Z)),ticks:Z}}function $K(r){var e=r.min,t=r.max,i=r.tickCount,n=r.nice,a=r.tickInterval,o=r.minLimit,s=r.maxLimit,l=QK(e,t,i,n).ticks;return!(0,xC.isNil)(o)||!(0,xC.isNil)(s)?mC(r,(0,xC.head)(l),(0,xC.last)(l)):a?gC(e,t,a).ticks:l}function JK(r){var e=r.base,t=r.tickCount,i=r.min,n=r.max,a=r.values,o,s=Jf(e,n);if(i>0)o=Math.floor(Jf(e,i));else{var l=TG(a,e,n);o=Math.floor(Jf(e,l))}for(var u=s-o,f=Math.ceil(u/t),c=[],h=o;h<s+f;h=h+f)c.push(Math.pow(e,h));return i<=0&&c.unshift(0),c}function AP(r,e,t){if(t===void 0&&(t=5),r===e)return{max:e,min:r,ticks:[r]};var i=t<0?0:Math.round(t);if(i===0)return{max:e,min:r,ticks:[]};var n=1.5,a=.5+1.5*n,o=e-r,s=o/i,l=Math.pow(10,Math.floor(Math.log10(s))),u=l;2*l-s<n*(s-u)&&(u=2*l,5*l-s<a*(s-u)&&(u=5*l,10*l-s<n*(s-u)&&(u=10*l)));for(var f=Math.ceil(e/u),c=Math.floor(r/u),h=Math.max(f*u,e),d=Math.min(c*u,r),v=Math.floor((h-d)/u)+1,p=new Array(v),g=0;g<v;g++)p[g]=_0(d+g*u);return{min:d,max:h,ticks:p}}function tQ(r){var e=r.exponent,t=r.tickCount,i=Math.ceil(_g(e,r.max)),n=Math.floor(_g(e,r.min)),a=AP(n,i,t).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,e)*s})}function Twe(r,e){var t=r.length*e;return e===1?r[r.length-1]:e===0?r[0]:t%1!=0?r[Math.ceil(t)-1]:r.length%2==0?(r[t-1]+r[t])/2:r[t]}function eQ(r){var e=r.tickCount,t=r.values;if(!t||!t.length)return[];for(var i=t.slice().sort(function(s,l){return s-l}),n=[],a=0;a<e;a++){var o=a/(e-1);n.push(Twe(i,o))}return n}var bC=et(ot());function rQ(r){var e=r.min,t=r.max,i=r.tickCount,n=r.tickInterval,a=r.minLimit,o=r.maxLimit,s=AP(e,t,i).ticks;return!(0,bC.isNil)(a)||!(0,bC.isNil)(o)?mC(r,(0,bC.head)(s),(0,bC.last)(s)):n?gC(e,t,n).ticks:s}function iQ(r){var e=r.min,t=r.max,i=r.minTickInterval,n=r.tickInterval,a=r.tickCount;if(n)a=Math.ceil((t-e)/n);else{n=fEt(e,t,a)[1];var o=(t-e)/n,s=o/a;s>1&&(n=n*Math.ceil(s)),i&&n<i&&(n=i)}n=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),n);for(var l=[],u=e;u<t+n;u+=n)l.push(u);return l}function nQ(r){var e=CP(S({showLast:!0},r));return e}function kG(r){return new Date(r).getFullYear()}function Iwe(r){return new Date(r,0,1).getTime()}function aQ(r){return new Date(r).getMonth()}function Lwe(r,e){var t=kG(r),i=kG(e),n=aQ(r),a=aQ(e);return(i-t)*12+(a-n)%12}function Owe(r,e){return new Date(r,e,1).getTime()}function kwe(r,e){return Math.ceil((e-r)/wg)}function Pwe(r,e){return Math.ceil((e-r)/kb)}function Dwe(r,e){return Math.ceil((e-r)/(60*1e3))}function oQ(r){var e=r.min,t=r.max,i=r.minTickInterval,n=r.tickCount,a=r.tickInterval,o=[];a||(a=(t-e)/n,i&&a<i&&(a=i)),a=Math.max(Math.floor((t-e)/(Math.pow(2,12)-1)),a);var s=kG(e);if(a>UK)for(var l=kG(t),u=Math.ceil(a/UK),f=s;f<=l+u;f=f+u)o.push(Iwe(f));else if(a>u2)for(var c=Math.ceil(a/u2),h=aQ(e),d=Lwe(e,t),f=0;f<=d+c;f=f+c)o.push(Owe(s,f+h));else if(a>wg)for(var v=new Date(e),p=v.getFullYear(),g=v.getMonth(),m=v.getDate(),y=Math.ceil(a/wg),x=kwe(e,t),f=0;f<x+y;f=f+y)o.push(new Date(p,g,m+f).getTime());else if(a>kb)for(var v=new Date(e),p=v.getFullYear(),g=v.getMonth(),y=v.getDate(),b=v.getHours(),_=Math.ceil(a/kb),M=Pwe(e,t),f=0;f<=M+_;f=f+_)o.push(new Date(p,g,y,b+f).getTime());else if(a>Ob)for(var A=Dwe(e,t),I=Math.ceil(a/Ob),f=0;f<=A+I;f=f+I)o.push(e+f*Ob);else{var k=a;k<ud&&(k=ud);for(var E=Math.floor(e/ud)*ud,O=Math.ceil((t-e)/ud),P=Math.ceil(k/ud),f=0;f<O+P;f=f+P)o.push(E+f*ud)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}sd("cat",CP);sd("time-cat",nQ);sd("wilkinson-extended",$K);sd("r-pretty",rQ);sd("time",iQ);sd("time-pretty",oQ);sd("log",JK);sd("pow",tQ);sd("quantile",eQ);sd("d3-linear",KK);fd("cat",bg);fd("category",bg);fd("identity",yEt);fd("linear",zv);fd("log",hEt);fd("pow",dEt);fd("time",vEt);fd("timeCat",cEt);fd("quantize",IG);fd("quantile",pEt);var CEt={},EP=function(r){return CEt[r.toLowerCase()]},c2=function(r,e){if(EP(r))throw new Error("Attribute type '".concat(r,"' existed."));CEt[r.toLowerCase()]=e};c2("Color",YK);c2("Opacity",jAt);c2("Position",YAt);c2("Shape",WAt);c2("Size",VAt);var MEt=et(ot()),Fwe=function(){function r(e){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=e.start,i=e.end,n=e.matrix,a=n===void 0?[1,0,0,0,1,0,0,0,1]:n,o=e.isTransposed,s=o===void 0?!1:o;this.start=t,this.end=i,this.matrix=a,this.originalMatrix=ne([],a),this.isTransposed=s}return r.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},r.prototype.update=function(e){(0,MEt.assign)(this,e),this.initial()},r.prototype.convertDim=function(e,t){var i,n=this[t],a=n.start,o=n.end;return this.isReflect(t)&&(i=[o,a],a=i[0],o=i[1]),a+e*(o-a)},r.prototype.invertDim=function(e,t){var i,n=this[t],a=n.start,o=n.end;return this.isReflect(t)&&(i=[o,a],a=i[0],o=i[1]),(e-a)/(o-a)},r.prototype.applyMatrix=function(e,t,i){i===void 0&&(i=0);var n=this.matrix,a=[e,t,i];return Pe.vec3.transformMat3(a,a,n),a},r.prototype.invertMatrix=function(e,t,i){i===void 0&&(i=0);var n=this.matrix,a=Pe.mat3.invert([0,0,0,0,0,0,0,0,0],n),o=[e,t,i];return a&&Pe.vec3.transformMat3(o,o,a),o},r.prototype.convert=function(e){var t=this.convertPoint(e),i=t.x,n=t.y,a=this.applyMatrix(i,n,1);return{x:a[0],y:a[1]}},r.prototype.invert=function(e){var t=this.invertMatrix(e.x,e.y,1);return this.invertPoint({x:t[0],y:t[1]})},r.prototype.rotate=function(e){var t=this.matrix,i=this.center;return Wr.leftTranslate(t,t,[-i.x,-i.y]),Wr.leftRotate(t,t,e),Wr.leftTranslate(t,t,[i.x,i.y]),this},r.prototype.reflect=function(e){return e==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},r.prototype.scale=function(e,t){var i=this.matrix,n=this.center;return Wr.leftTranslate(i,i,[-n.x,-n.y]),Wr.leftScale(i,i,[e,t]),Wr.leftTranslate(i,i,[n.x,n.y]),this},r.prototype.translate=function(e,t){var i=this.matrix;return Wr.leftTranslate(i,i,[e,t]),this},r.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},r.prototype.getCenter=function(){return this.center},r.prototype.getWidth=function(){return this.width},r.prototype.getHeight=function(){return this.height},r.prototype.getRadius=function(){return this.radius},r.prototype.isReflect=function(e){return e==="x"?this.isReflectX:this.isReflectY},r.prototype.resetMatrix=function(e){this.matrix=e||ne([],this.originalMatrix)},r}(),Mg=Fwe;var Nwe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.isRect=!0,i.type="cartesian",i.initial(),i}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=this.start,i=this.end;this.x={start:t.x,end:i.x},this.y={start:t.y,end:i.y}},e.prototype.convertPoint=function(t){var i,n=t.x,a=t.y;return this.isTransposed&&(i=[a,n],n=i[0],a=i[1]),{x:this.convertDim(n,"x"),y:this.convertDim(a,"y")}},e.prototype.invertPoint=function(t){var i,n=this.invertDim(t.x,"x"),a=this.invertDim(t.y,"y");return this.isTransposed&&(i=[a,n],n=i[0],a=i[1]),{x:n,y:a}},e}(Mg),sQ=Nwe;var PG=et(ot());var Bwe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.isHelix=!0,i.type="helix";var n=t.startAngle,a=n===void 0?1.25*Math.PI:n,o=t.endAngle,s=o===void 0?7.25*Math.PI:o,l=t.innerRadius,u=l===void 0?0:l,f=t.radius;return i.startAngle=a,i.endAngle=s,i.innerRadius=u,i.radius=f,i.initial(),i}return e.prototype.initial=function(){r.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,i=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(i=i*this.radius),this.d=Math.floor(i*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*i,end:this.innerRadius*i+this.d*.99}},e.prototype.convertPoint=function(t){var i,n=t.x,a=t.y;this.isTransposed&&(i=[a,n],n=i[0],a=i[1]);var o=this.convertDim(n,"x"),s=this.a*o,l=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+l),y:this.center.y+Math.sin(o)*(s+l)}},e.prototype.invertPoint=function(t){var i,n=this.d+this.y.start,a=Pe.vec2.subtract([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=Wr.angleTo(a,[1,0],!0),s=o*this.a;Pe.vec2.length(a)<s&&(s=Pe.vec2.length(a));var l=Math.floor((Pe.vec2.length(a)-s)/n);o=2*l*Math.PI+o;var u=this.a*o,f=Pe.vec2.length(a)-u;f=(0,PG.isNumberEqual)(f,0)?0:f;var c=this.invertDim(o,"x"),h=this.invertDim(f,"y");return c=(0,PG.isNumberEqual)(c,0)?0:c,h=(0,PG.isNumberEqual)(h,0)?0:h,this.isTransposed&&(i=[h,c],c=i[0],h=i[1]),{x:c,y:h}},e}(Mg),AEt=Bwe;var EEt=et(ot());var Rwe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.isPolar=!0,i.type="polar";var n=t.startAngle,a=n===void 0?-Math.PI/2:n,o=t.endAngle,s=o===void 0?Math.PI*3/2:o,l=t.innerRadius,u=l===void 0?0:l,f=t.radius;return i.startAngle=a,i.endAngle=s,i.innerRadius=u,i.radius=f,i.initial(),i}return e.prototype.initial=function(){for(r.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),i=t.maxX-t.minX,n=t.maxY-t.minY,a=Math.abs(t.minX)/i,o=Math.abs(t.minY)/n,s;this.height/n>this.width/i?(s=this.width/i,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*s*n}):(s=this.height/n,this.circleCenter={x:this.center.x-(.5-a)*s*i,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},e.prototype.getRadius=function(){return this.polarRadius},e.prototype.convertPoint=function(t){var i,n=this.getCenter(),a=t.x,o=t.y;return this.isTransposed&&(i=[o,a],a=i[0],o=i[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:n.x+Math.cos(a)*o,y:n.y+Math.sin(a)*o}},e.prototype.invertPoint=function(t){var i,n=this.getCenter(),a=[t.x-n.x,t.y-n.y],o=this,s=o.startAngle,l=o.endAngle;this.isReflect("x")&&(i=[l,s],s=i[0],l=i[1]);var u=[1,0,0,0,1,0,0,0,1];Wr.leftRotate(u,u,s);var f=[1,0,0];Pe.vec3.transformMat3(f,f,u);var c=[f[0],f[1]],h=Wr.angleTo(c,a,l<s);(0,EEt.isNumberEqual)(h,Math.PI*2)&&(h=0);var d=Pe.vec2.length(a),v=h/(l-s);v=l-s>0?v:-v;var p=this.invertDim(d,"y"),g={x:0,y:0};return g.x=this.isTransposed?p:v,g.y=this.isTransposed?v:p,g},e.prototype.getCenter=function(){return this.circleCenter},e.prototype.getOneBox=function(){var t=this.startAngle,i=this.endAngle;if(Math.abs(i-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var n=[0,Math.cos(t),Math.cos(i)],a=[0,Math.sin(t),Math.sin(i)],o=Math.min(t,i);o<Math.max(t,i);o+=Math.PI/18)n.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,n),maxX:Math.max.apply(Math,n),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},e}(Mg),TEt=Rwe;var IEt={},DG=function(r){return IEt[r.toLowerCase()]},h2=function(r,e){IEt[r.toLowerCase()]=e};h2("rect",sQ);h2("cartesian",sQ);h2("polar",TEt);h2("helix",AEt);var kP={};ai(kP,{Arc:()=>zEt,DataMarker:()=>WEt,DataRegion:()=>VEt,Html:()=>UEt,Image:()=>YEt,Line:()=>REt,Region:()=>jEt,RegionFilter:()=>qEt,Shape:()=>HEt,Text:()=>GEt});var RG=et(ot());var ks=et(ot());function TP(r,e,t){var i=new ad(e,t);i.target=r,i.propagationPath.push(r),r.emitDelegation(e,i);for(var n=r.getParent();n;)n.emitDelegation(e,i),i.propagationPath.push(n),n=n.getParent()}var LEt=[1,0,0,0,1,0,0,0,1];function Yv(r,e,t){if(t===void 0&&(t=LEt),!e)return null;var i=Wr.transform(t,[["t",-r.x,-r.y],["r",e],["t",r.x,r.y]]);return i}function IP(r,e){return!r.x&&!r.y?null:Wr.transform(e||LEt,[["t",r.x,r.y]])}function OEt(r){var e=[1,0,0],t=[0,0,0];return Pe.vec3.transformMat3(t,e,r),Math.atan2(t[1],t[0])}function FG(r,e){var t=[0,0];return Pe.vec2.transformMat3(t,e,r),t}function kEt(r,e){var t=FG(r,[e.minX,e.minY]),i=FG(r,[e.maxX,e.minY]),n=FG(r,[e.minX,e.maxY]),a=FG(r,[e.maxX,e.maxY]),o=Math.min(t[0],i[0],n[0],a[0]),s=Math.max(t[0],i[0],n[0],a[0]),l=Math.min(t[1],i[1],n[1],a[1]),u=Math.max(t[1],i[1],n[1],a[1]);return{x:o,y:l,minX:o,minY:l,maxX:s,maxY:u,width:s-o,height:u-l}}function NG(r,e,t,i){if(e){var n=Yv({x:t,y:i},e,r.getMatrix());r.setMatrix(n)}}function d2(r,e,t){var i=IP({x:e,y:t});r.attr("matrix",i)}var Ag=et(ot());function wC(r){var e=0,t=0,i=0,n=0;return(0,Ag.isNumber)(r)?e=t=i=n=r:(0,Ag.isArray)(r)&&(e=r[0],i=(0,Ag.isNil)(r[1])?r[0]:r[1],n=(0,Ag.isNil)(r[2])?r[0]:r[2],t=(0,Ag.isNil)(r[3])?i:r[3]),[e,i,n,t]}function v2(r){for(var e=r.childNodes,t=e.length,i=t-1;i>=0;i--)r.removeChild(e[i])}function PEt(r,e){return!!r.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function S0(r){var e=r.start,t=r.end,i=Math.min(e.x,t.x),n=Math.min(e.y,t.y),a=Math.max(e.x,t.x),o=Math.max(e.y,t.y);return{x:i,y:n,minX:i,minY:n,maxX:a,maxY:o,width:a-i,height:o-n}}function DEt(r){var e=r.map(function(s){return s.x}),t=r.map(function(s){return s.y}),i=Math.min.apply(Math,e),n=Math.min.apply(Math,t),a=Math.max.apply(Math,e),o=Math.max.apply(Math,t);return{x:i,y:n,minX:i,minY:n,maxX:a,maxY:o,width:a-i,height:o-n}}function p2(r,e,t,i){var n=r+t,a=e+i;return{x:r,y:e,width:t,height:i,minX:r,minY:e,maxX:isNaN(n)?0:n,maxY:isNaN(a)?0:a}}function C0(r,e,t){return(1-t)*r+e*t}function Db(r,e,t){return{x:r.x+Math.cos(t)*e,y:r.y+Math.sin(t)*e}}function Gwe(r,e){var t=e.x-r.x,i=e.y-r.y;return Math.sqrt(t*t+i*i)}var LP=function(r,e,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[r,e].includes(1/0)?Math.abs(r)===Math.abs(e):Math.abs(r-e)<t};function zwe(r,e){var t=Math.max(r.minX,e.minX),i=Math.max(r.minY,e.minY),n=Math.min(r.maxX,e.maxX),a=Math.min(r.maxY,e.maxY);return p2(t,i,n-t,a-i)}function lQ(r){var e=r.getClip(),t=e&&e.getBBox(),i;if(!r.isGroup())i=r.getBBox();else{var n=1/0,a=-1/0,o=1/0,s=-1/0,l=r.getChildren();l.length>0?(0,Ag.each)(l,function(u){if(u.get("visible")){if(u.isGroup()&&u.get("children").length===0)return!0;var f=lQ(u),c=u.applyToMatrix([f.minX,f.minY,1]),h=u.applyToMatrix([f.minX,f.maxY,1]),d=u.applyToMatrix([f.maxX,f.minY,1]),v=u.applyToMatrix([f.maxX,f.maxY,1]),p=Math.min(c[0],h[0],d[0],v[0]),g=Math.max(c[0],h[0],d[0],v[0]),m=Math.min(c[1],h[1],d[1],v[1]),y=Math.max(c[1],h[1],d[1],v[1]);p<n&&(n=p),g>a&&(a=g),m<o&&(o=m),y>s&&(s=y)}}):(n=0,a=0,o=0,s=0),i=p2(n,o,a-n,s-o)}return t?zwe(i,t):i}function FEt(r,e){if(!(!r.getClip()&&!e.getClip())){var t=e.getClip();if(!t){r.setClip(null);return}var i={type:t.get("type"),attrs:t.attr()};r.setClip(i)}}function xu(r){return r+"px"}function BG(r,e,t,i){var n=Gwe(r,e),a=i/n,o=0;return t==="start"?o=0-a:t==="end"&&(o=1+a),{x:C0(r.x,e.x,o),y:C0(r.y,e.y,o)}}var eh=et(ot()),jwe={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},Ywe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.initCfg(),i}return e.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},e.prototype.clear=function(){},e.prototype.update=function(t){var i=this,n=this.get("defaultCfg")||{};(0,eh.each)(t,function(a,o){var s=i.get(o),l=a;s!==a&&((0,eh.isObject)(a)&&n[o]&&(l=(0,eh.deepMix)({},n[o],a)),i.set(o,l))}),this.updateInner(t),this.afterUpdate(t)},e.prototype.updateInner=function(t){},e.prototype.afterUpdate=function(t){(0,eh.hasKey)(t,"visible")&&(t.visible?this.show():this.hide()),(0,eh.hasKey)(t,"capture")&&this.setCapture(t.capture)},e.prototype.getLayoutBBox=function(){return this.getBBox()},e.prototype.getLocationType=function(){return this.get("locationType")},e.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},e.prototype.setOffset=function(t,i){this.update({offsetX:t,offsetY:i})},e.prototype.setLocation=function(t){var i=S({},t);this.update(i)},e.prototype.getLocation=function(){var t=this,i={},n=this.get("locationType"),a=jwe[n];return(0,eh.each)(a,function(o){i[o]=t.get(o)}),i},e.prototype.isList=function(){return!1},e.prototype.isSlider=function(){return!1},e.prototype.init=function(){},e.prototype.initCfg=function(){var t=this,i=this.get("defaultCfg");(0,eh.each)(i,function(n,a){var o=t.get(a);if((0,eh.isObject)(o)){var s=(0,eh.deepMix)({},n,o);t.set(a,s)}})},e}(tC),g2=Ywe;var _C="update_status",Wwe=["visible","tip","delegateObject"],Vwe=["container","group","shapesMap","isRegister","isUpdating","destroyed"],qwe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},e.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},e.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},e.prototype.getChildComponentById=function(t){var i=this.getElementById(t),n=i&&i.get("component");return n},e.prototype.getElementById=function(t){return this.get("shapesMap")[t]},e.prototype.getElementByLocalId=function(t){var i=this.getElementId(t);return this.getElementById(i)},e.prototype.getElementsByName=function(t){var i=[];return(0,ks.each)(this.get("shapesMap"),function(n){n.get("name")===t&&i.push(n)}),i},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},e.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var i=this.get("group");this.updateElements(t,i),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},e.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},e.prototype.setCapture=function(t){var i=this.get("group");i.set("capture",t),this.set("capture",t)},e.prototype.destroy=function(){this.removeEvent(),this.remove(),r.prototype.destroy.call(this)},e.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},e.prototype.getLayoutBBox=function(){var t=this.get("group"),i=this.getInnerLayoutBBox(),n=t.getTotalMatrix();return n&&(i=kEt(n,i)),i},e.prototype.on=function(t,i,n){var a=this.get("group");return a.on(t,i,n),this},e.prototype.off=function(t,i){var n=this.get("group");return n&&n.off(t,i),this},e.prototype.emit=function(t,i){var n=this.get("group");n.emit(t,i)},e.prototype.init=function(){r.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},e.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},e.prototype.delegateEmit=function(t,i){var n=this.get("group");i.target=n,n.emit(t,i),TP(n,t,i)},e.prototype.createOffScreenGroup=function(){var t=this.get("group"),i=t.getGroupBase(),n=new i({delegateObject:this.getDelegateObject()});return n},e.prototype.applyOffset=function(){var t=this.get("offsetX"),i=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:i})},e.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},e.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",lQ(t)),t},e.prototype.addGroup=function(t,i){this.appendDelegateObject(t,i);var n=t.addGroup(i);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addShape=function(t,i){this.appendDelegateObject(t,i);var n=t.addShape(i);return this.get("isRegister")&&this.registerElement(n),n},e.prototype.addComponent=function(t,i){var n=i.id,a=i.component,o=Ze(i,["id","component"]),s=new a(S(S({},o),{id:n,container:t,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},e.prototype.initEvent=function(){},e.prototype.removeEvent=function(){var t=this.get("group");t.off()},e.prototype.getElementId=function(t){var i=this.get("id"),n=this.get("name");return i+"-"+n+"-"+t},e.prototype.registerElement=function(t){var i=t.get("id");this.get("shapesMap")[i]=t},e.prototype.unregisterElement=function(t){var i=t.get("id");delete this.get("shapesMap")[i]},e.prototype.moveElementTo=function(t,i){var n=IP(i);t.attr("matrix",n)},e.prototype.addAnimation=function(t,i,n){var a=i.attr("opacity");(0,ks.isNil)(a)&&(a=1),i.attr("opacity",0),i.animate({opacity:a},n)},e.prototype.removeAnimation=function(t,i,n){i.animate({opacity:0},n)},e.prototype.updateAnimation=function(t,i,n,a){i.animate(n,a)},e.prototype.updateElements=function(t,i){var n=this,a=this.get("animate"),o=this.get("animateOption"),s=t.getChildren().slice(0),l;(0,ks.each)(s,function(u){var f=u.get("id"),c=n.getElementById(f),h=u.get("name");if(c)if(u.get("isComponent")){var d=u.get("component"),v=c.get("component"),p=(0,ks.pick)(d.cfg,(0,ks.difference)((0,ks.keys)(d.cfg),Vwe));v.update(p),c.set(_C,"update")}else{var g=n.getReplaceAttrs(c,u);a&&o.update?n.updateAnimation(h,c,g,o.update):c.attr(g),u.isGroup()&&n.updateElements(u,c),(0,ks.each)(Wwe,function(b){c.set(b,u.get(b))}),FEt(c,u),l=c,c.set(_C,"update")}else{i.add(u);var m=i.getChildren();if(m.splice(m.length-1,1),l){var y=m.indexOf(l);m.splice(y+1,0,u)}else m.unshift(u);if(n.registerElement(u),u.set(_C,"add"),u.get("isComponent")){var d=u.get("component");d.set("container",i)}else u.isGroup()&&n.registerNewGroup(u);if(l=u,a){var x=n.get("isInit")?o.appear:o.enter;x&&n.addAnimation(h,u,x)}}})},e.prototype.clearUpdateStatus=function(t){var i=t.getChildren();(0,ks.each)(i,function(n){n.set(_C,null)})},e.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},e.prototype.getDelegateObject=function(){var t,i=this.get("name"),n=(t={},t[i]=this,t.component=this,t);return n},e.prototype.appendDelegateObject=function(t,i){var n=t.get("delegateObject");i.delegateObject||(i.delegateObject={}),(0,ks.mix)(i.delegateObject,n)},e.prototype.getReplaceAttrs=function(t,i){var n=t.attr(),a=i.attr();return(0,ks.each)(n,function(o,s){a[s]===void 0&&(a[s]=void 0)}),a},e.prototype.registerNewGroup=function(t){var i=this,n=t.getChildren();(0,ks.each)(n,function(a){i.registerElement(a),a.set(_C,"add"),a.isGroup()&&i.registerNewGroup(a)})},e.prototype.deleteElements=function(){var t=this,i=this.get("shapesMap"),n=[];(0,ks.each)(i,function(s,l){!s.get(_C)||s.destroyed?n.push([l,s]):s.set(_C,null)});var a=this.get("animate"),o=this.get("animateOption");(0,ks.each)(n,function(s){var l=s[0],u=s[1];if(!u.destroyed){var f=u.get("name");if(a&&o.leave){var c=(0,ks.mix)({callback:function(){t.removeElement(u)}},o.leave);t.removeAnimation(f,u,c)}else t.removeElement(u)}delete i[l]})},e.prototype.removeElement=function(t){if(t.get("isGroup")){var i=t.get("component");i&&i.destroy()}t.remove()},e}(g2),Dn=qwe;var fQ=et(ot());var Fb=et(ot());var uQ="\u2026";function NEt(r){for(var e=0,t=0;t<r.length;t++)e+=SC(r,t);return e}function SC(r,e){return r.charCodeAt(e)>0&&r.charCodeAt(e)<128?1:2}function BEt(r,e,t){t===void 0&&(t="tail");var i=r.length,n="";if(t==="tail"){for(var a=0,o=0;a<e;){var s=SC(r,o);if(a+s<=e)n+=r[o],a+=SC(r,o),o++;else break}n+=uQ}else if(t==="head"){for(var a=0,o=i-1;a<e;){var s=SC(r,o);if(a+s<=e)n+=r[o],a+=SC(r,o),o--;else break}n=uQ+n}else{for(var l="",u="",a=0,f=0,c=i-1;a<e;){var h=SC(r,f),d=!1;h+a<=e&&(l+=r[f],f++,a+=h,d=!0);var v=SC(r,c);if(v+a<=e&&(u=r[c]+u,a+=v,c--,d=!0),!d)break}n=l+uQ+u}return n}var Hwe="\u2026",Uwe=2,Xwe=400;function Zwe(r){for(var e=r.map(function(l){var u=l.attr("text");return(0,Fb.isNil)(u)?"":""+u}),t=0,i=0,n=0;n<e.length;n+=1){for(var a=0,o=0;o<=e[n].length;o+=1){var s=e[n].charCodeAt(o);s>=19968&&s<=40869?a+=2:a+=1}a>t&&(t=a,i=n)}return r[i].getBBox().width}function OP(r){if(r.length>Xwe)return Zwe(r);var e=0;return(0,Fb.each)(r,function(t){var i=t.getBBox(),n=i.width;e<n&&(e=n)}),e}function Kwe(r,e){var t=e.getCanvasBBox();return r?t.width:t.height}function Nb(r,e,t,i){var n;i===void 0&&(i="tail");var a=(n=e.attr("text"))!==null&&n!==void 0?n:"";if(i==="tail"){var o=(0,Fb.pick)(e.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=(0,Fb.getEllipsisText)(a,t,o,"\u2026");return a!==s?(e.attr("text",s),e.set("tip",a),!0):(e.set("tip",null),!1)}var l=Kwe(r,e),u=NEt(a),f=!1;if(t<l){var c=Math.floor(t/l*u)-Uwe,h=void 0;c>=0?h=BEt(a,c,i):h=Hwe,h&&(e.attr("text",h),f=!0)}return f?e.set("tip",a):e.set("tip",null),f}function Bb(r,e){var t=e.x,i=e.y,n=e.content,a=e.style,o=e.id,s=e.name,l=e.rotate,u=e.maxLength,f=e.autoEllipsis,c=e.isVertical,h=e.ellipsisPosition,d=e.background,v=r.addGroup({id:o+"-group",name:s+"-group",attrs:{x:t,y:i}}),p=v.addShape({type:"text",id:o,name:s,attrs:S({x:0,y:0,text:n},a)}),g=wC((0,fQ.get)(d,"padding",0));if(u&&f){var m=u-(g[1]+g[3]);Nb(!c,p,m,h)}if(d){var y=(0,fQ.get)(d,"style",{}),x=p.getCanvasBBox(),b=x.minX,_=x.minY,M=x.width,A=x.height,I=v.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:S({x:b-g[3],y:_-g[0],width:M+g[1]+g[3],height:A+g[0]+g[2]},y)});I.toBack()}d2(v,t,i),NG(v,l,t,i)}var di={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"};var Qwe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:di.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:di.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:di.lineColor,lineWidth:1}}}})},e.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},e.prototype.renderLine=function(t){var i=this.get("start"),n=this.get("end"),a=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:S({x1:i.x,y1:i.y,x2:n.x,y2:n.y},a)})},e.prototype.getLabelPoint=function(t,i,n){var a;return n==="start"?a=0:n==="center"?a=.5:(0,RG.isString)(n)&&n.indexOf("%")!==-1?a=parseInt(n,10)/100:(0,RG.isNumber)(n)?a=n:a=1,(a>1||a<0)&&(a=1),{x:C0(t.x,i.x,a),y:C0(t.y,i.y,a)}},e.prototype.renderLabel=function(t){var i=this.get("text"),n=this.get("start"),a=this.get("end"),o=i.position,s=i.content,l=i.style,u=i.offsetX,f=i.offsetY,c=i.autoRotate,h=i.maxLength,d=i.autoEllipsis,v=i.ellipsisPosition,p=i.background,g=i.isVertical,m=g===void 0?!1:g,y=this.getLabelPoint(n,a,o),x=y.x+u,b=y.y+f,_={id:this.getElementId("line-text"),name:"annotation-line-text",x,y:b,content:s,style:l,maxLength:h,autoEllipsis:d,ellipsisPosition:v,background:p,isVertical:m};if(c){var M=[a.x-n.x,a.y-n.y];_.rotate=Math.atan2(M[1],M[0])}Bb(t,_)},e}(Dn),REt=Qwe;var $we=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:di.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:di.fontFamily}}})},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.renderInner=function(t){var i=this.getLocation(),n=i.x,a=i.y,o=this.get("content"),s=this.get("style"),l=this.getElementId("text"),u=this.get("name")+"-text",f=this.get("maxLength"),c=this.get("autoEllipsis"),h=this.get("isVertical"),d=this.get("ellipsisPosition"),v=this.get("background"),p=this.get("rotate"),g={id:l,name:u,x:n,y:a,content:o,style:s,maxLength:f,autoEllipsis:c,isVertical:h,ellipsisPosition:d,background:v,rotate:p};Bb(t,g)},e.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var i=this.getLocation(),n=i.x,a=i.y,o=this.get("rotate");d2(t,n,a),NG(t,o,n,a)}},e}(Dn),GEt=$we;var Jwe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},e.prototype.renderInner=function(t){this.renderArc(t)},e.prototype.getArcPath=function(){var t=this.getLocation(),i=t.center,n=t.radius,a=t.startAngle,o=t.endAngle,s=Db(i,n,a),l=Db(i,n,o),u=o-a>Math.PI?1:0,f=[["M",s.x,s.y]];if(o-a==Math.PI*2){var c=Db(i,n,a+Math.PI);f.push(["A",n,n,0,u,1,c.x,c.y]),f.push(["A",n,n,0,u,1,l.x,l.y])}else f.push(["A",n,n,0,u,1,l.x,l.y]);return f},e.prototype.renderArc=function(t){var i=this.getArcPath(),n=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:S({path:i},n)})},e}(Dn),zEt=Jwe;var t_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:di.regionColor,opacity:.4}}})},e.prototype.renderInner=function(t){this.renderRegion(t)},e.prototype.renderRegion=function(t){var i=this.get("start"),n=this.get("end"),a=this.get("style"),o=S0({start:i,end:n});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:S({x:o.x,y:o.y,width:o.width,height:o.height},a)})},e}(Dn),jEt=t_e;var e_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},e.prototype.renderInner=function(t){this.renderImage(t)},e.prototype.getImageAttrs=function(){var t=this.get("start"),i=this.get("end"),n=this.get("style"),a=S0({start:t,end:i}),o=this.get("src");return S({x:a.x,y:a.y,img:o,width:a.width,height:a.height},n)},e.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},e}(Dn),YEt=e_e;var Wv=et(ot());var r_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:di.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:di.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:di.fontFamily}}}})},e.prototype.renderInner=function(t){(0,Wv.get)(this.get("line"),"display")&&this.renderLine(t),(0,Wv.get)(this.get("text"),"display")&&this.renderText(t),(0,Wv.get)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},e.prototype.renderPoint=function(t){var i=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:i})},e.prototype.renderLine=function(t){var i=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:i})},e.prototype.renderText=function(t){var i=this.getShapeAttrs().text,n=i.x,a=i.y,o=i.text,s=Ze(i,["x","y","text"]),l=this.get("text"),u=l.background,f=l.maxLength,c=l.autoEllipsis,h=l.isVertival,d=l.ellipsisPosition,v={x:n,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:u,maxLength:f,autoEllipsis:c,isVertival:h,ellipsisPosition:d};Bb(t,v)},e.prototype.autoAdjust=function(t){var i=this.get("direction"),n=this.get("x"),a=this.get("y"),o=(0,Wv.get)(this.get("line"),"length",0),s=this.get("coordinateBBox"),l=t.getBBox(),u=l.minX,f=l.maxX,c=l.minY,h=l.maxY,d=t.findById(this.getElementId("text-group")),v=t.findById(this.getElementId("text")),p=t.findById(this.getElementId("line"));if(!!s&&d){var g=d.attr("x"),m=d.attr("y"),y=v.getCanvasBBox(),x=y.width,b=y.height,_=0,M=0;if(n+u<=s.minX)if(i==="leftward")_=1;else{var A=s.minX-(n+u);g=d.attr("x")+A}else if(n+f>=s.maxX)if(i==="rightward")_=-1;else{var A=n+f-s.maxX;g=d.attr("x")-A}if(_&&(p&&p.attr("path",[["M",0,0],["L",o*_,0]]),g=(o+2+x)*_),a+c<=s.minY)if(i==="upward")M=1;else{var A=s.minY-(a+c);m=d.attr("y")+A}else if(a+h>=s.maxY)if(i==="downward")M=-1;else{var A=a+h-s.maxY;m=d.attr("y")-A}M&&(p&&p.attr("path",[["M",0,0],["L",0,o*M]]),m=(o+2+b)*M),(g!==d.attr("x")||m!==d.attr("y"))&&d2(d,g,m)}},e.prototype.getShapeAttrs=function(){var t=(0,Wv.get)(this.get("line"),"display"),i=(0,Wv.get)(this.get("point"),"style",{}),n=(0,Wv.get)(this.get("line"),"style",{}),a=(0,Wv.get)(this.get("text"),"style",{}),o=this.get("direction"),s=t?(0,Wv.get)(this.get("line"),"length",0):0,l=0,u=0,f="top",c="start";switch(o){case"upward":u=-1,f="bottom";break;case"downward":u=1,f="top";break;case"leftward":l=-1,c="end";break;case"rightward":l=1,c="start";break}return{point:S({x:0,y:0},i),line:S({path:[["M",0,0],["L",s*l,s*u]]},n),text:S({x:(s+2)*l,y:(s+2)*u,text:(0,Wv.get)(this.get("text"),"content",""),textBaseline:f,textAlign:c},a)}},e}(Dn),WEt=r_e;var cQ=et(ot());var i_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:di.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:di.textColor,fontFamily:di.fontFamily}}}})},e.prototype.renderInner=function(t){var i=(0,cQ.get)(this.get("region"),"style",{}),n=(0,cQ.get)(this.get("text"),"style",{}),a=this.get("lineLength")||0,o=this.get("points");if(!!o.length){var s=DEt(o),l=[];l.push(["M",o[0].x,s.minY-a]),o.forEach(function(f){l.push(["L",f.x,f.y])}),l.push(["L",o[o.length-1].x,o[o.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:S({path:l},i)});var u=S({id:this.getElementId("text"),name:"annotation-text",x:(s.minX+s.maxX)/2,y:s.minY-a},this.get("text"));Bb(t,u)}},e}(Dn),VEt=i_e;var GG=et(ot());var n_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},e.prototype.renderInner=function(t){var i=this,n=this.get("start"),a=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,GG.each)(this.get("shapes"),function(l,u){var f=l.get("type"),c=(0,GG.clone)(l.attr());i.adjustShapeAttrs(c),i.addShape(o,{id:i.getElementId("shape-"+f+"-"+u),capture:!1,type:f,attrs:c})});var s=S0({start:n,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},e.prototype.adjustShapeAttrs=function(t){var i=this.get("color");t.fill&&(t.fill=t.fillStyle=i),t.stroke=t.strokeStyle=i},e}(Dn),qEt=n_e;var zG=et(ot());var a_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"shape",draw:zG.noop})},e.prototype.renderInner=function(t){var i=this.get("render");(0,zG.isFunction)(i)&&i(t)},e}(Dn),HEt=a_e;var Gb=et(ot());var cd=et(ot());var o_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},e.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},e.prototype.setCapture=function(t){var i=this.getContainer(),n=t?"auto":"none";i.style.pointerEvents=n,this.set("capture",t)},e.prototype.getBBox=function(){var t=this.getContainer(),i=parseFloat(t.style.left)||0,n=parseFloat(t.style.top)||0;return p2(i,n,t.clientWidth,t.clientHeight)},e.prototype.clear=function(){var t=this.get("container");v2(t)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),r.prototype.destroy.call(this)},e.prototype.init=function(){r.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},e.prototype.initCapture=function(){this.setCapture(this.get("capture"))},e.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},e.prototype.initDom=function(){},e.prototype.initContainer=function(){var t=this.get("container");if((0,cd.isNil)(t)){t=this.createDom();var i=this.get("parent");(0,cd.isString)(i)&&(i=document.getElementById(i),this.set("parent",i)),i.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,cd.isString)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},e.prototype.resetStyles=function(){var t=this.get("domStyles"),i=this.get("defaultStyles");t?t=(0,cd.deepMix)({},i,t):t=i,this.set("domStyles",t)},e.prototype.applyStyles=function(){var t=this.get("domStyles");if(!!t){var i=this.getContainer();this.applyChildrenStyles(i,t);var n=this.get("containerClassName");if(n&&PEt(i,n)){var a=t[n];xr(i,a)}}},e.prototype.applyChildrenStyles=function(t,i){(0,cd.each)(i,function(n,a){var o=t.getElementsByClassName(a);(0,cd.each)(o,function(s){xr(s,n)})})},e.prototype.applyStyle=function(t,i){var n=this.get("domStyles");xr(i,n[t])},e.prototype.createDom=function(){var t=this.get("containerTpl");return gi(t)},e.prototype.initEvent=function(){},e.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},e.prototype.removeEvent=function(){},e.prototype.updateInner=function(t){(0,cd.hasKey)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},e.prototype.resetPosition=function(){},e}(g2),Rb=o_e;var s_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},e.prototype.render=function(){var t=this.getContainer(),i=this.get("html");v2(t);var n=(0,Gb.isFunction)(i)?i(t):i;if((0,Gb.isElement)(n))t.appendChild(n);else if((0,Gb.isString)(n)||(0,Gb.isNumber)(n)){var a=gi(""+n);a&&t.appendChild(a)}this.resetPosition()},e.prototype.resetPosition=function(){var t=this.getContainer(),i=this.getLocation(),n=i.x,a=i.y,o=this.get("alignX"),s=this.get("alignY"),l=this.get("offsetX"),u=this.get("offsetY"),f=z5(t),c=R5(t),h={x:n,y:a};o==="middle"?h.x-=Math.round(f/2):o==="right"&&(h.x-=Math.round(f)),s==="middle"?h.y-=Math.round(c/2):s==="bottom"&&(h.y-=Math.round(c)),l&&(h.x+=l),u&&(h.y+=u),xr(t,{position:"absolute",left:h.x+"px",top:h.y+"px",zIndex:this.get("zIndex")})},e}(Rb),UEt=s_e;var FP={};ai(FP,{Base:()=>m2,Circle:()=>r2t,Line:()=>e2t});var ec=et(ot());var Fn=et(ot());var jG=et(ot());function CC(r,e,t){var i=e+"Style",n=null;return(0,jG.each)(t,function(a,o){r[o]&&a[i]&&(n||(n={}),(0,jG.mix)(n,a[i]))}),n}var l_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:di.lineColor}},tickLine:{style:{lineWidth:1,stroke:di.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:di.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:di.textColor,fontFamily:di.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:di.textColor,textBaseline:"middle",fontFamily:di.fontFamily,textAlign:"center"},iconStyle:{fill:di.descriptionIconFill,stroke:di.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:di.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},e.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("ticks")},e.prototype.setItems=function(t){this.update({ticks:t})},e.prototype.updateItem=function(t,i){(0,Fn.mix)(t,i),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},e.prototype.setItemState=function(t,i,n){t[i]=n,this.updateTickStates(t)},e.prototype.hasState=function(t,i){return!!t[i]},e.prototype.getItemStates=function(t){var i=this.get("tickStates"),n=[];return(0,Fn.each)(i,function(a,o){t[o]&&n.push(o)}),n},e.prototype.clearItemsState=function(t){var i=this,n=this.getItemsByState(t);(0,Fn.each)(n,function(a){i.setItemState(a,t,!1)})},e.prototype.getItemsByState=function(t){var i=this,n=this.getItems();return(0,Fn.filter)(n,function(a){return i.hasState(a,t)})},e.prototype.getSidePoint=function(t,i){var n=this,a=n.getSideVector(i,t);return{x:t.x+a[0],y:t.y+a[1]}},e.prototype.getTextAnchor=function(t){var i;return(0,Fn.isNumberEqual)(t[0],0)?i="center":t[0]>0?i="start":t[0]<0&&(i="end"),i},e.prototype.getTextBaseline=function(t){var i;return(0,Fn.isNumberEqual)(t[1],0)?i="middle":t[1]>0?i="top":t[1]<0&&(i="bottom"),i},e.prototype.processOverlap=function(t){},e.prototype.drawLine=function(t){var i=this.getLinePath(),n=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,Fn.mix)({path:i},n.style)})},e.prototype.getTickLineItems=function(t){var i=this,n=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,l=1,u=t.length;return u>=2&&(l=t[1].value-t[0].value),(0,Fn.each)(t,function(f){var c=f.point;o||(c=i.getTickPoint(f.value-l/2));var h=i.getSidePoint(c,s);n.push({startPoint:c,tickValue:f.value,endPoint:h,tickId:f.id,id:"tickline-"+f.id})}),n},e.prototype.getSubTickLineItems=function(t){var i=[],n=this.get("subTickLine"),a=n.count,o=t.length;if(o>=2)for(var s=0;s<o-1;s++)for(var l=t[s],u=t[s+1],f=0;f<a;f++){var c=(f+1)/(a+1),h=(1-c)*l.tickValue+c*u.tickValue,d=this.getTickPoint(h),v=this.getSidePoint(d,n.length);i.push({startPoint:d,endPoint:v,tickValue:h,id:"sub-"+l.id+"-"+f})}return i},e.prototype.getTickLineAttrs=function(t,i,n,a){var o=this.get(i).style,s={points:[t.startPoint,t.endPoint]},l=(0,Fn.get)(this.get("theme"),["tickLine","style"],{});o=(0,Fn.isFunction)(o)?(0,Fn.mix)({},l,o(s,n,a)):o;var u=t.startPoint,f=t.endPoint;return S({x1:u.x,y1:u.y,x2:f.x,y2:f.y},o)},e.prototype.drawTick=function(t,i,n,a,o){this.addShape(i,{type:"line",id:this.getElementId(t.id),name:"axis-"+n,attrs:this.getTickLineAttrs(t,n,a,o)})},e.prototype.drawTickLines=function(t){var i=this,n=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(n),s=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),l=this.get("tickLine");if((0,Fn.each)(o,function(f,c){if(l.displayWithLabel){var h=i.getElementId("label-"+f.tickId);t.findById(h)&&i.drawTick(f,s,"tickLine",c,o)}else i.drawTick(f,s,"tickLine",c,o)}),a){var u=this.getSubTickLineItems(o);(0,Fn.each)(u,function(f,c){i.drawTick(f,s,"subTickLine",c,u)})}},e.prototype.processTicks=function(){var t=this,i=this.get("ticks");(0,Fn.each)(i,function(n){n.point=t.getTickPoint(n.value),(0,Fn.isNil)(n.id)&&(n.id=n.name)})},e.prototype.drawTicks=function(t){var i=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var n=this.get("ticks");(0,Fn.each)(n,function(a){i.applyTickStates(a,t)})},e.prototype.optimizeTicks=function(){var t=this.get("optimize"),i=this.get("ticks");if(t&&t.enable&&t.threshold>0){var n=(0,Fn.size)(i);if(n>t.threshold){var a=Math.ceil(n/t.threshold),o=i.filter(function(s,l){return l%a==0});this.set("ticks",o),this.set("originalTicks",i)}}},e.prototype.getLabelAttrs=function(t,i,n){var a=this.get("label"),o=a.offset,s=a.offsetX,l=a.offsetY,u=a.rotate,f=a.formatter,c=this.getSidePoint(t.point,o),h=this.getSideVector(o,c),d=f?f(t.name,t,i):t.name,v=a.style;v=(0,Fn.isFunction)(v)?(0,Fn.get)(this.get("theme"),["label","style"],{}):v;var p=(0,Fn.mix)({x:c.x+s,y:c.y+l,text:d,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},v);return u&&(p.matrix=Yv(c,u)),p},e.prototype.drawLabels=function(t){var i=this,n=this.get("ticks"),a=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,Fn.each)(n,function(h,d){i.addShape(a,{type:"text",name:"axis-label",id:i.getElementId("label-"+h.id),attrs:i.getLabelAttrs(h,d,n),delegateObject:{tick:h,item:h,index:d}})}),this.processOverlap(a);var o=a.getChildren(),s=(0,Fn.get)(this.get("theme"),["label","style"],{}),l=this.get("label"),u=l.style,f=l.formatter;if((0,Fn.isFunction)(u)){var c=o.map(function(h){return(0,Fn.get)(h.get("delegateObject"),"tick")});(0,Fn.each)(o,function(h,d){var v=h.get("delegateObject").tick,p=f?f(v.name,v,d):v.name,g=(0,Fn.mix)({},s,u(p,d,c));h.attr(g)})}},e.prototype.getTitleAttrs=function(){var t=this.get("title"),i=t.style,n=t.position,a=t.offset,o=t.spacing,s=o===void 0?0:o,l=t.autoRotate,u=i.fontSize,f=.5;n==="start"?f=0:n==="end"&&(f=1);var c=this.getTickPoint(f),h=this.getSidePoint(c,a||s+u/2),d=(0,Fn.mix)({x:h.x,y:h.y,text:t.text},i),v=t.rotate,p=v;if((0,Fn.isNil)(v)&&l){var g=this.getAxisVector(c),m=[1,0];p=Wr.angleTo(g,m,!0)}if(p){var y=Yv(h,p);d.matrix=y}return d},e.prototype.drawTitle=function(t){var i,n=this.getTitleAttrs(),a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:n});((i=this.get("title"))===null||i===void 0?void 0:i.description)&&this.drawDescriptionIcon(t,a,n.matrix)},e.prototype.drawDescriptionIcon=function(t,i,n){var a=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),o=i.getBBox(),s=o.maxX,l=o.maxY,u=o.height,f=this.get("title").iconStyle,c=4,h=u/2,d=h/6,v=s+c,p=l-u/2,g=[v+h,p-h],m=g[0],y=g[1],x=[m+h,y+h],b=x[0],_=x[1],M=[m,_+h],A=M[0],I=M[1],k=[v,y+h],E=k[0],O=k[1],P=[v+h,p-u/4],N=P[0],R=P[1],z=[N,R+d],B=z[0],Y=z[1],q=[B,Y+d],j=q[0],Z=q[1],tt=[j,Z+h*3/4],lt=tt[0],J=tt[1];this.addShape(a,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:S({path:[["M",m,y],["A",h,h,0,0,1,b,_],["A",h,h,0,0,1,A,I],["A",h,h,0,0,1,E,O],["A",h,h,0,0,1,m,y],["M",N,R],["L",B,Y],["M",j,Z],["L",lt,J]],lineWidth:d,matrix:n},f)}),this.addShape(a,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:v,y:p-u/2,width:u,height:u,stroke:"#000",fill:"#000",opacity:0,matrix:n,cursor:"pointer"}})},e.prototype.applyTickStates=function(t,i){var n=this.getItemStates(t);if(n.length){var a=this.get("tickStates"),o=this.getElementId("label-"+t.id),s=i.findById(o);if(s){var l=CC(t,"label",a);l&&s.attr(l)}var u=this.getElementId("tickline-"+t.id),f=i.findById(u);if(f){var c=CC(t,"tickLine",a);c&&f.attr(c)}}},e.prototype.updateTickStates=function(t){var i=this.getItemStates(t),n=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),l=this.getElementByLocalId("tickline-"+t.id);if(i.length){if(o){var u=CC(t,"label",n);u&&o.attr(u)}if(l){var f=CC(t,"tickLine",n);f&&l.attr(f)}}else o&&o.attr(a.style),l&&l.attr(s.style)},e}(Dn),m2=l_e;var DP={};ai(DP,{autoEllipsis:()=>dQ,autoHide:()=>pQ,autoRotate:()=>gQ});var dQ={};ai(dQ,{ellipsisHead:()=>f_e,ellipsisMiddle:()=>c_e,ellipsisTail:()=>ZEt,getDefault:()=>u_e});var XEt=et(ot());function hQ(r,e,t,i){var n=e.getChildren(),a=!1;return(0,XEt.each)(n,function(o){var s=Nb(r,o,t,i);a=a||s}),a}function u_e(){return ZEt}function f_e(r,e,t){return hQ(r,e,t,"head")}function ZEt(r,e,t){return hQ(r,e,t,"tail")}function c_e(r,e,t){return hQ(r,e,t,"middle")}var pQ={};ai(pQ,{equidistance:()=>$Et,equidistanceWithReverseBoth:()=>m_e,getDefault:()=>d_e,reserveBoth:()=>g_e,reserveFirst:()=>v_e,reserveLast:()=>p_e});function h_e(r){var e=r.attr("matrix");return e&&e[0]!==1}function KEt(r){var e=h_e(r)?OEt(r.attr("matrix")):0;return e%360}function vQ(r,e,t,i){var n=!1,a=KEt(e),o=Math.abs(r?t.attr("y")-e.attr("y"):t.attr("x")-e.attr("x")),s=(r?t.attr("y")>e.attr("y"):t.attr("x")>e.attr("x"))?e.getBBox():t.getBBox();if(r){var l=Math.abs(Math.cos(a));LP(l,0,Math.PI/180)?n=s.width+i>o:n=s.height/l+i>o}else{var l=Math.abs(Math.sin(a));LP(l,0,Math.PI/180)?n=s.width+i>o:n=s.height/l+i>o}return n}function PP(r,e,t,i){var n=(i==null?void 0:i.minGap)||0,a=e.getChildren().slice().filter(function(v){return v.get("visible")});if(!a.length)return!1;var o=!1;t&&a.reverse();for(var s=a.length,l=a[0],u=l,f=1;f<s;f++){var c=a[f],h=c.getBBox(),d=vQ(r,u,c,n);d?(c.hide(),o=!0):u=c}return o}function QEt(r,e,t){var i=(t==null?void 0:t.minGap)||0,n=e.getChildren().slice();if(n.length<2)return!1;var a=!1,o=n[0],s=o.getBBox(),l=n[1],u=n.length,f=KEt(o),c=Math.abs(r?l.attr("y")-o.attr("y"):l.attr("x")-o.attr("x")),h=0;if(r){var d=Math.abs(Math.cos(f));if(LP(d,0,Math.PI/180)){var v=OP(n);h=(v+i)/c}else h=(s.height/d+i)/c}else{var d=Math.abs(Math.sin(f));if(LP(d,0,Math.PI/180)){var v=OP(n);h=(v+i)/c}else h=(s.height/d+i)/c}if(h>1){h=Math.ceil(h);for(var p=0;p<u;p++)p%h!=0&&(n[p].hide(),a=!0)}return a}function d_e(){return $Et}function v_e(r,e,t,i){return PP(r,e,!1,i)}function p_e(r,e,t,i){return PP(r,e,!0,i)}function g_e(r,e,t,i){var n=(i==null?void 0:i.minGap)||0,a=e.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,l=a[0],u=a[s-1],f=l,c=1;c<s-1;c++){var h=a[c],d=h.getBBox(),v=vQ(r,f,h,n);v?(h.hide(),o=!0):f=h}var p=vQ(r,f,u,n);return p&&(f.hide(),o=!0),o}function $Et(r,e,t,i){var n=QEt(r,e,i);return PP(r,e,!1)&&(n=!0),n}function m_e(r,e,t,i){var n=e.getChildren().slice(),a=QEt(r,e,i);if(n.length>2){var o=n[0],s=n[n.length-1];o.get("visible")||(o.show(),PP(r,e,!1,i)&&(a=!0)),s.get("visible")||(s.show(),PP(r,e,!0,i)&&(a=!0))}return a}var gQ={};ai(gQ,{fixedAngle:()=>t2t,getDefault:()=>x_e,unfixedAngle:()=>b_e});var YG=et(ot());function y_e(r,e){(0,YG.each)(r,function(t){var i=t.attr("x"),n=t.attr("y"),a=Yv({x:i,y:n},e);t.attr("matrix",a)})}function JEt(r,e,t,i){var n=e.getChildren();if(!n.length||!r&&n.length<2)return!1;var a=OP(n),o=!1;if(r)o=!!t&&a>t;else{var s=Math.abs(n[1].attr("x")-n[0].attr("x"));o=a>s}if(o){var l=i(t,a);y_e(n,l)}return o}function x_e(){return t2t}function t2t(r,e,t,i){return JEt(r,e,t,function(){return(0,YG.isNumber)(i)?i:r?di.verticalAxisRotate:di.horizontalAxisRotate})}function b_e(r,e,t){return JEt(r,e,t,function(i,n){if(!i)return r?di.verticalAxisRotate:di.horizontalAxisRotate;if(r)return-Math.acos(i/n);var a=0;return i>n?a=Math.PI/4:(a=Math.asin(i/n),a>Math.PI/4&&(a=Math.PI/4)),a})}var w_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getLinePath=function(){var t=this.get("start"),i=this.get("end"),n=[];return n.push(["M",t.x,t.y]),n.push(["L",i.x,i.y]),n},e.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),i=this.get("end"),n=r.prototype.getInnerLayoutBBox.call(this),a=Math.min(t.x,i.x,n.x),o=Math.min(t.y,i.y,n.y),s=Math.max(t.x,i.x,n.maxX),l=Math.max(t.y,i.y,n.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:l,width:s-a,height:l-o}},e.prototype.isVertical=function(){var t=this.get("start"),i=this.get("end");return(0,ec.isNumberEqual)(t.x,i.x)},e.prototype.isHorizontal=function(){var t=this.get("start"),i=this.get("end");return(0,ec.isNumberEqual)(t.y,i.y)},e.prototype.getTickPoint=function(t){var i=this,n=i.get("start"),a=i.get("end"),o=a.x-n.x,s=a.y-n.y;return{x:n.x+o*t,y:n.y+s*t}},e.prototype.getSideVector=function(t){var i=this.getAxisVector(),n=Pe.vec2.normalize([0,0],i),a=this.get("verticalFactor"),o=[n[1],n[0]*-1];return Pe.vec2.scale([0,0],o,t*a)},e.prototype.getAxisVector=function(){var t=this.get("start"),i=this.get("end");return[i.x-t.x,i.y-t.y]},e.prototype.processOverlap=function(t){var i=this,n=this.isVertical(),a=this.isHorizontal();if(!(!n&&!a)){var o=this.get("label"),s=this.get("title"),l=this.get("verticalLimitLength"),u=o.offset,f=l,c=0,h=0;s&&(c=s.style.fontSize,h=s.spacing),f&&(f=f-u-h-c);var d=this.get("overlapOrder");if((0,ec.each)(d,function(g){o[g]&&i.canProcessOverlap(g)&&i.autoProcessOverlap(g,o[g],t,f)}),s&&(0,ec.isNil)(s.offset)){var v=t.getCanvasBBox(),p=n?v.width:v.height;s.offset=u+p+h+c/2}}},e.prototype.canProcessOverlap=function(t){var i=this.get("label");return t==="autoRotate"?(0,ec.isNil)(i.rotate):!0},e.prototype.autoProcessOverlap=function(t,i,n,a){var o=this,s=this.isVertical(),l=!1,u=DP[t];if(i===!0){var f=this.get("label");l=u.getDefault()(s,n,a)}else if((0,ec.isFunction)(i))l=i(s,n,a);else if((0,ec.isObject)(i)){var c=i;u[c.type]&&(l=u[c.type](s,n,a,c.cfg))}else u[i]&&(l=u[i](s,n,a));if(t==="autoRotate"){if(l){var h=n.getChildren(),d=this.get("verticalFactor");(0,ec.each)(h,function(p){var g=p.attr("textAlign");if(g==="center"){var m=d>0?"end":"start";p.attr("textAlign",m)}})}}else if(t==="autoHide"){var v=n.getChildren().slice(0);(0,ec.each)(v,function(p){p.get("visible")||(o.get("isRegister")&&o.unregisterElement(p),p.remove())})}},e}(m2),e2t=w_e;var Vv=et(ot());var __e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getLinePath=function(){var t=this.get("center"),i=t.x,n=t.y,a=this.get("radius"),o=a,s=this.get("startAngle"),l=this.get("endAngle"),u=[];if(Math.abs(l-s)===Math.PI*2)u=[["M",i,n-o],["A",a,o,0,1,1,i,n+o],["A",a,o,0,1,1,i,n-o],["Z"]];else{var f=this.getCirclePoint(s),c=this.getCirclePoint(l),h=Math.abs(l-s)>Math.PI?1:0,d=s>l?0:1;u=[["M",i,n],["L",f.x,f.y],["A",a,o,0,h,d,c.x,c.y],["L",i,n]]}return u},e.prototype.getTickPoint=function(t){var i=this.get("startAngle"),n=this.get("endAngle"),a=i+(n-i)*t;return this.getCirclePoint(a)},e.prototype.getSideVector=function(t,i){var n=this.get("center"),a=[i.x-n.x,i.y-n.y],o=this.get("verticalFactor"),s=Pe.vec2.length(a);return Pe.vec2.scale(a,a,o*t/s),a},e.prototype.getAxisVector=function(t){var i=this.get("center"),n=[t.x-i.x,t.y-i.y];return[n[1],-1*n[0]]},e.prototype.getCirclePoint=function(t,i){var n=this.get("center");return i=i||this.get("radius"),{x:n.x+Math.cos(t)*i,y:n.y+Math.sin(t)*i}},e.prototype.canProcessOverlap=function(t){var i=this.get("label");return t==="autoRotate"?(0,Vv.isNil)(i.rotate):!0},e.prototype.processOverlap=function(t){var i=this,n=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=n.offset,l=o,u=0,f=0;a&&(u=a.style.fontSize,f=a.spacing),l&&(l=l-s-f-u);var c=this.get("overlapOrder");if((0,Vv.each)(c,function(d){n[d]&&i.canProcessOverlap(d)&&i.autoProcessOverlap(d,n[d],t,l)}),a&&(0,Vv.isNil)(a.offset)){var h=t.getCanvasBBox().height;a.offset=s+h+f+u/2}},e.prototype.autoProcessOverlap=function(t,i,n,a){var o=this,s=!1,l=DP[t];if(a>0)if(i===!0)s=l.getDefault()(!1,n,a);else if((0,Vv.isFunction)(i))s=i(!1,n,a);else if((0,Vv.isObject)(i)){var u=i;l[u.type]&&(s=l[u.type](!1,n,a,u.cfg))}else l[i]&&(s=l[i](!1,n,a));if(t==="autoRotate"){if(s){var f=n.getChildren(),c=this.get("verticalFactor");(0,Vv.each)(f,function(d){var v=d.attr("textAlign");if(v==="center"){var p=c>0?"end":"start";d.attr("textAlign",p)}})}}else if(t==="autoHide"){var h=n.getChildren().slice(0);(0,Vv.each)(h,function(d){d.get("visible")||(o.get("isRegister")&&o.unregisterElement(d),d.remove())})}},e}(m2),r2t=__e;var AC={};ai(AC,{Base:()=>y2,Circle:()=>a2t,Html:()=>s2t,Line:()=>n2t});var i2t=et(ot());var S_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:di.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:di.textColor,textAlign:"center",textBaseline:"middle",fontFamily:di.fontFamily}},textBackground:{padding:5,style:{stroke:di.lineColor}}}})},e.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},e.prototype.renderText=function(t){var i=this.get("text"),n=i.style,a=i.autoRotate,o=i.content;if(!(0,i2t.isNil)(o)){var s=this.getTextPoint(),l=null;if(a){var u=this.getRotateAngle();l=Yv(s,u)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:S(S(S({},s),{text:o,matrix:l}),n)})}},e.prototype.renderLine=function(t){var i=this.getLinePath(),n=this.get("line"),a=n.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:S({path:i},a)})},e.prototype.renderBackground=function(t){var i=this.getElementId("text"),n=t.findById(i),a=this.get("textBackground");if(a&&n){var o=n.getBBox(),s=wC(a.padding),l=a.style,u=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:S({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:n.attr("matrix")},l)});u.toBack()}},e}(Dn),y2=S_e;var C_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"line",locationType:"region",start:null,end:null})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),i=t.start,n=t.end,a=this.get("text").position,o=Math.atan2(n.y-i.y,n.x-i.x),s=a==="start"?o-Math.PI/2:o+Math.PI/2;return s},e.prototype.getTextPoint=function(){var t=this.getLocation(),i=t.start,n=t.end,a=this.get("text"),o=a.position,s=a.offset;return BG(i,n,o,s)},e.prototype.getLinePath=function(){var t=this.getLocation(),i=t.start,n=t.end;return[["M",i.x,i.y],["L",n.x,n.y]]},e}(y2),n2t=C_e;var M_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},e.prototype.getRotateAngle=function(){var t=this.getLocation(),i=t.startAngle,n=t.endAngle,a=this.get("text").position,o=a==="start"?i+Math.PI/2:n-Math.PI/2;return o},e.prototype.getTextPoint=function(){var t=this.get("text"),i=t.position,n=t.offset,a=this.getLocation(),o=a.center,s=a.radius,l=a.startAngle,u=a.endAngle,f=i==="start"?l:u,c=this.getRotateAngle()-Math.PI,h=Db(o,s,f),d=Math.cos(c)*n,v=Math.sin(c)*n;return{x:h.x+d,y:h.y+v}},e.prototype.getLinePath=function(){var t=this.getLocation(),i=t.center,n=t.radius,a=t.startAngle,o=t.endAngle,s=null;if(o-a==Math.PI*2){var l=i.x,u=i.y;s=[["M",l,u-n],["A",n,n,0,1,1,l,u+n],["A",n,n,0,1,1,l,u-n],["Z"]]}else{var f=Db(i,n,a),c=Db(i,n,o),h=Math.abs(o-a)>Math.PI?1:0,d=a>o?0:1;s=[["M",f.x,f.y],["A",n,n,0,h,d,c.x,c.y]]}return s},e}(y2),a2t=M_e;var WG=et(ot());var MC="g2-crosshair",NP=MC+"-line",BP=MC+"-text";var RP,o2t=(RP={},RP[""+MC]={position:"relative"},RP[""+NP]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},RP[""+BP]={position:"absolute",color:di.textColor,fontFamily:di.fontFamily},RP);var A_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+MC+'"></div>',crosshairTpl:'<div class="'+NP+'"></div>',textTpl:'<span class="'+BP+'">{content}</span>',domStyles:null,containerClassName:MC,defaultStyles:o2t,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},e.prototype.render=function(){this.resetText(),this.resetPosition()},e.prototype.initCrossHair=function(){var t=this.getContainer(),i=this.get("crosshairTpl"),n=gi(i);t.appendChild(n),this.applyStyle(NP,n),this.set("crosshairEl",n)},e.prototype.getTextPoint=function(){var t=this.getLocation(),i=t.start,n=t.end,a=this.get("text"),o=a.position,s=a.offset;return BG(i,n,o,s)},e.prototype.resetText=function(){var t=this.get("text"),i=this.get("textEl");if(t){var n=t.content;if(!i){var a=this.getContainer(),o=(0,WG.substitute)(this.get("textTpl"),t);i=gi(o),a.appendChild(i),this.applyStyle(BP,i),this.set("textEl",i)}i.innerHTML=n}else i&&i.remove()},e.prototype.isVertical=function(t,i){return t.x===i.x},e.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var i=this.get("start"),n=this.get("end"),a=Math.min(i.x,n.x),o=Math.min(i.y,n.y);this.isVertical(i,n)?xr(t,{width:"1px",height:xu(Math.abs(n.y-i.y))}):xr(t,{height:"1px",width:xu(Math.abs(n.x-i.x))}),xr(t,{top:xu(o),left:xu(a)}),this.alignText()},e.prototype.alignText=function(){var t=this.get("textEl");if(t){var i=this.get("text").align,n=t.clientWidth,a=this.getTextPoint();switch(i){case"center":a.x=a.x-n/2;break;case"right":a.x=a.x-n;case"left":break}xr(t,{top:xu(a.y),left:xu(a.x)})}},e.prototype.updateInner=function(t){(0,WG.hasKey)(t,"text")&&this.resetText(),r.prototype.updateInner.call(this,t)},e}(Rb),s2t=A_e;var GP={};ai(GP,{Base:()=>x2,Circle:()=>l2t,Line:()=>f2t});var zb=et(ot());var E_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:di.lineColor}}}})},e.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},e.prototype.renderInner=function(t){this.drawGrid(t)},e.prototype.getAlternatePath=function(t,i){var n=this.getGridPath(t),a=i.slice(0).reverse(),o=this.getGridPath(a,!0),s=this.get("closed");return s?n=n.concat(o):(o[0][0]="L",n=n.concat(o),n.push(["Z"])),n},e.prototype.getPathStyle=function(){return this.get("line").style},e.prototype.drawGrid=function(t){var i=this,n=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;(0,zb.each)(a,function(l,u){var f=l.id||u;if(n){var c=i.getPathStyle();c=(0,zb.isFunction)(c)?c(l,u,a):c;var h=i.getElementId("line-"+f),d=i.getGridPath(l.points);i.addShape(t,{type:"path",name:"grid-line",id:h,attrs:(0,zb.mix)({path:d},c)})}if(o&&u>0){var v=i.getElementId("region-"+f),p=u%2==0;if((0,zb.isString)(o))p&&i.drawAlternateRegion(v,t,s.points,l.points,o);else{var g=p?o[1]:o[0];i.drawAlternateRegion(v,t,s.points,l.points,g)}}s=l})},e.prototype.drawAlternateRegion=function(t,i,n,a,o){var s=this.getAlternatePath(n,a);this.addShape(i,{type:"path",id:t,name:"grid-region",attrs:{path:s,fill:o}})},e}(Dn),x2=E_e;var mQ=et(ot());function T_e(r,e,t,i){var n=t-r,a=i-e;return Math.sqrt(n*n+a*a)}var I_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"circle",center:null,closed:!0})},e.prototype.getGridPath=function(t,i){var n=this.getLineType(),a=this.get("closed"),o=[];if(t.length)if(n==="circle"){var s=this.get("center"),l=t[0],u=T_e(s.x,s.y,l.x,l.y),f=i?0:1;a?(o.push(["M",s.x,s.y-u]),o.push(["A",u,u,0,0,f,s.x,s.y+u]),o.push(["A",u,u,0,0,f,s.x,s.y-u]),o.push(["Z"])):(0,mQ.each)(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["A",u,u,0,0,f,c.x,c.y])})}else(0,mQ.each)(t,function(c,h){h===0?o.push(["M",c.x,c.y]):o.push(["L",c.x,c.y])}),a&&o.push(["Z"]);return o},e}(x2),l2t=I_e;var u2t=et(ot());var L_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"line"})},e.prototype.getGridPath=function(t){var i=[];return(0,u2t.each)(t,function(n,a){a===0?i.push(["M",n.x,n.y]):i.push(["L",n.x,n.y])}),i},e}(x2),f2t=L_e;var zP={};ai(zP,{Base:()=>b2,Category:()=>h2t,Continuous:()=>v2t});var va=et(ot());var O_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},e.prototype.getLayoutBBox=function(){var t=r.prototype.getLayoutBBox.call(this),i=this.get("maxWidth"),n=this.get("maxHeight"),a=t.width,o=t.height;return i&&(a=Math.min(a,i)),n&&(o=Math.min(o,n)),p2(t.minX,t.minY,a,o)},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},e.prototype.resetLocation=function(){var t=this.get("x"),i=this.get("y"),n=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+n,y:i+a})},e.prototype.applyOffset=function(){this.resetLocation()},e.prototype.getDrawPoint=function(){return this.get("currentPoint")},e.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},e.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},e.prototype.drawBackground=function(t){var i=this.get("background"),n=t.getBBox(),a=wC(i.padding),o=S({x:0,y:0,width:n.width+a[1]+a[3],height:n.height+a[0]+a[2]},i.style),s=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});s.toBack()},e.prototype.drawTitle=function(t){var i=this.get("currentPoint"),n=this.get("title"),a=n.spacing,o=n.style,s=n.text,l=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:S({text:s,x:i.x,y:i.y},o)}),u=l.getBBox();this.set("currentPoint",{x:i.x,y:u.maxY+a})},e.prototype.resetDraw=function(){var t=this.get("background"),i={x:0,y:0};if(t){var n=wC(t.padding);i.x=n[3],i.y=n[0]}this.set("currentPoint",i)},e}(Dn),b2=O_e;var yQ={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},VG={fill:di.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:di.fontFamily,fontWeight:"normal",lineHeight:12},xQ="navigation-arrow-right",bQ="navigation-arrow-left",c2t={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},k_e=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var i=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var n=t.getCurrentNavigationMatrix();t.get("animate")?i.animate({matrix:n},100):i.attr({matrix:n})}},t.onNavigationAfter=function(){var i=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var n=t.getCurrentNavigationMatrix();t.get("animate")?i.animate({matrix:n},100):i.attr({matrix:n})}},t}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:di.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:di.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:yQ,itemName:{spacing:16,style:VG},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:VG,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:di.uncheckedColor},markerStyle:{fill:di.uncheckedColor,stroke:di.uncheckedColor}},inactive:{nameStyle:{fill:di.uncheckedColor},markerStyle:{opacity:.2}}}}})},e.prototype.isList=function(){return!0},e.prototype.getItems=function(){return this.get("items")},e.prototype.setItems=function(t){this.update({items:t})},e.prototype.updateItem=function(t,i){(0,va.mix)(t,i),this.clear(),this.render()},e.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},e.prototype.setItemState=function(t,i,n){t[i]=n;var a=this.getElementByLocalId("item-"+t.id);if(a){var o=this.getItems(),s=o.indexOf(t),l=this.createOffScreenGroup(),u=this.drawItem(t,s,this.getItemHeight(),l);this.updateElements(u,a),this.clearUpdateStatus(a)}},e.prototype.hasState=function(t,i){return!!t[i]},e.prototype.getItemStates=function(t){var i=this.get("itemStates"),n=[];return(0,va.each)(i,function(a,o){t[o]&&n.push(o)}),n},e.prototype.clearItemsState=function(t){var i=this,n=this.getItemsByState(t);(0,va.each)(n,function(a){i.setItemState(a,t,!1)})},e.prototype.getItemsByState=function(t){var i=this,n=this.getItems();return(0,va.filter)(n,function(a){return i.hasState(a,t)})},e.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},e.prototype.processItems=function(){var t=this.get("items");(0,va.each)(t,function(i){i.id||(i.id=i.name)})},e.prototype.drawItems=function(t){var i=this,n=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(n,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),l=this.get("itemSpacing"),u=this.get("itemMarginBottom"),f=this.get("currentPoint"),c=f.x,h=f.y,d=this.get("layout"),v=this.get("items"),p=!1,g=0,m=this.get("maxWidth"),y=this.get("maxHeight");(0,va.each)(v,function(x,b){var _=i.drawItem(x,b,o,a),M=_.getBBox(),A=s||M.width;A>g&&(g=A),d==="horizontal"?(m&&m<f.x+A-c&&(p=!0,f.x=c,f.y+=o+u),i.moveElementTo(_,f),f.x+=A+l):(y&&y<f.y+o+u-h&&(p=!0,f.x+=g+l,f.y=h,g=0),i.moveElementTo(_,f),f.y+=o+u)}),p&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=c,this.startY=h,this.adjustNavigation(t,a))},e.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var i=(this.get("itemName")||{}).style;if((0,va.isFunction)(i)){var n=this.getItems();n.forEach(function(a,o){var s=S(S({},VG),i(a,o,n)).fontSize;t<s&&(t=s)})}else i&&(t=i.fontSize)}return t},e.prototype.drawMarker=function(t,i,n,a){var o=S(S(S({x:0,y:a/2},i.style),{symbol:(0,va.get)(n.marker,"symbol","circle")}),(0,va.get)(n.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+n.id+"-marker"),name:"legend-item-marker",attrs:o}),l=s.getBBox();s.attr("x",l.width/2);var u=s.attr(),f=u.stroke,c=u.fill;return f&&s.set("isStroke",!0),c&&s.set("isFill",!0),s},e.prototype.drawItemText=function(t,i,n,a,o,s,l){var u=n.formatter,f=n.style,c=S(S({x:s,y:o/2,text:u?u(a[i],a,l):a[i]},VG),(0,va.isFunction)(f)?f(a,l,this.getItems()):f);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+i),name:"legend-item-"+i,attrs:c})},e.prototype.drawRadio=function(t,i,n,a,o){var s,l,u=i.style||{},f=(s=u.r)!==null&&s!==void 0?s:a/2,c=f*3.6/8,h=[o+f,a/2-f],d=h[0],v=h[1],p=[d+f,v+f],g=p[0],m=p[1],y=[d,m+f],x=y[0],b=y[1],_=[o,v+f],M=_[0],A=_[1],I=n.showRadio,k=S(S({path:[["M",d,v],["A",f,f,0,0,1,g,m],["L",g-c,m],["L",g,m],["A",f,f,0,0,1,x,b],["L",x,b-c],["L",x,b],["A",f,f,0,0,1,M,A],["L",M+c,A],["L",M,A],["A",f,f,0,0,1,d,v],["L",d,v+c]],stroke:"#000000",fill:"#ffffff"},u),{opacity:I?(l=u==null?void 0:u.opacity)!==null&&l!==void 0?l:.45:0}),E=this.addShape(t,{type:"path",id:this.getElementId("item-"+n.id+"-radio"),name:"legend-item-radio",attrs:k});return E.set("tip",i.tip),E},e.prototype.drawItem=function(t,i,n,a){var o="item-"+t.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:i}}),l=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:i}}),u=this.get("marker"),f=this.get("itemName"),c=this.get("itemValue"),h=this.get("itemBackground"),d=this.get("radio"),v=this.getLimitItemWidth(),p=0;if(u){var g=this.drawMarker(l,u,t,n),m=u.spacing,y=(0,va.get)(t,["marker","spacing"]);(0,va.isNumber)(y)&&(m=y),p=g.getBBox().maxX+m}if(f){var x=this.drawItemText(l,"name",f,t,n,p,i);v&&Nb(!0,x,(0,va.clamp)(v-p,0,v)),p=x.getBBox().maxX+f.spacing}if(c){var b=this.drawItemText(l,"value",c,t,n,p,i);v&&(c.alignRight?(b.attr({textAlign:"right",x:v}),Nb(!0,b,(0,va.clamp)(v-p,0,v),"head")):Nb(!0,b,(0,va.clamp)(v-p,0,v))),p=b.getBBox().maxX+c.spacing}if(d&&this.drawRadio(l,d,t,n,p),h){var _=l.getBBox(),M=this.addShape(l,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:S({x:0,y:0,width:_.width,height:n},h.style)});M.toBack()}return this.applyItemStates(t,l),l},e.prototype.adjustNavigation=function(t,i){var n=this,a=this.startX,o=this.startY,s=this.get("layout"),l=i.findAll(function(P){return P.get("name")==="legend-item"}),u=this.get("maxWidth"),f=this.get("maxHeight"),c=this.get("itemWidth"),h=this.get("itemSpacing"),d=this.getItemHeight(),v=(0,va.deepMix)({},yQ,this.get("pageNavigator")),p=this.drawNavigation(t,s,"00/00",v),g=p.getBBox(),m={x:a,y:o},y=1,x=0,b=0,_=0,M=this.get("itemMarginBottom");function A(P,N){var R=P.getBBox(),z=c||R.width,B=N.x+z+h+g.width;return B>u}if(s==="horizontal"){var I=this.get("maxRow")||1,k=d+(I===1?0:M),E=u-h-g.width-g.minX;this.pageHeight=k*I,this.pageWidth=E,(0,va.each)(l,function(P){var N=P.getBBox(),R=c||N.width;(x&&x<m.x+R+h||A(P,m))&&(y===1&&(x=m.x+h,n.moveElementTo(p,{x:E,y:m.y+d/2-g.height/2-g.minY})),y+=1,m.x=a,m.y+=k),n.moveElementTo(P,m),P.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:R+h,height:d}}),m.x+=R+h})}else{(0,va.each)(l,function(P){var N=P.getBBox();N.width>b&&(b=N.width)}),_=b,b+=h,u&&(b=Math.min(u,b),_=Math.min(u,_)),this.pageWidth=b,this.pageHeight=f-Math.max(g.height,d+M);var O=Math.floor(this.pageHeight/(d+M));(0,va.each)(l,function(P,N){N!==0&&N%O==0&&(y+=1,m.x+=b,m.y=o),n.moveElementTo(P,m),P.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:b,height:d}}),m.y+=d+M}),this.totalPagesCnt=y,this.moveElementTo(p,{x:a+_/2-g.width/2-g.minX,y:f-g.height-g.minY})}this.pageHeight&&this.pageWidth&&i.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),s==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(y/this.get("maxRow")):this.totalPagesCnt=y,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(p),i.attr("matrix",this.getCurrentNavigationMatrix())},e.prototype.drawNavigation=function(t,i,n,a){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),l=(0,va.get)(a.marker,"style",{}),u=l.size,f=u===void 0?12:u,c=Ze(l,["size"]),h=this.drawArrow(s,o,bQ,i==="horizontal"?"up":"left",f,c);h.on("click",this.onNavigationBack);var d=h.getBBox();o.x+=d.width+2;var v=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:S({x:o.x,y:o.y+f/2,text:n,textBaseline:"middle"},(0,va.get)(a.text,"style"))}),p=v.getBBox();o.x+=p.width+2;var g=this.drawArrow(s,o,xQ,i==="horizontal"?"down":"right",f,c);return g.on("click",this.onNavigationAfter),s},e.prototype.updateNavigation=function(t){var i=(0,va.deepMix)({},yQ,this.get("pageNavigator")),n=i.marker.style,a=n.fill,o=n.opacity,s=n.inactiveFill,l=n.inactiveOpacity,u=this.currentPageIndex+"/"+this.totalPagesCnt,f=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),c=t?t.findById(this.getElementId(bQ)):this.getElementByLocalId(bQ),h=t?t.findById(this.getElementId(xQ)):this.getElementByLocalId(xQ);f.attr("text",u),c.attr("opacity",this.currentPageIndex===1?l:o),c.attr("fill",this.currentPageIndex===1?s:a),c.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?l:o),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var d=c.getBBox().maxX+2;f.attr("x",d),d+=f.getBBox().width+2,this.updateArrowPath(h,{x:d,y:0})},e.prototype.drawArrow=function(t,i,n,a,o,s){var l=i.x,u=i.y,f=this.addShape(t,{type:"path",id:this.getElementId(n),name:n,attrs:S({size:o,direction:a,path:[["M",l+o/2,u],["L",l,u+o],["L",l+o,u+o],["Z"]],cursor:"pointer"},s)});return f.attr("matrix",Yv({x:l+o/2,y:u+o/2},c2t[a])),f},e.prototype.updateArrowPath=function(t,i){var n=i.x,a=i.y,o=t.attr(),s=o.size,l=o.direction,u=Yv({x:n+s/2,y:a+s/2},c2t[l]);t.attr("path",[["M",n+s/2,a],["L",n,a+s],["L",n+s,a+s],["Z"]]),t.attr("matrix",u)},e.prototype.getCurrentNavigationMatrix=function(){var t=this,i=t.currentPageIndex,n=t.pageWidth,a=t.pageHeight,o=this.get("layout"),s=o==="horizontal"?{x:0,y:a*(1-i)}:{x:n*(1-i),y:0};return IP(s)},e.prototype.applyItemStates=function(t,i){var n=this.getItemStates(t),a=n.length>0;if(a){var o=i.getChildren(),s=this.get("itemStates");(0,va.each)(o,function(l){var u=l.get("name"),f=u.split("-")[2],c=CC(t,f,s);c&&(l.attr(c),f==="marker"&&!(l.get("isStroke")&&l.get("isFill"))&&(l.get("isStroke")&&l.attr("fill",null),l.get("isFill")&&l.attr("stroke",null)))})}},e.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),i=this.get("maxItemWidth");return i?t&&(i=t<=i?t:i):t&&(i=t),i},e}(b2),h2t=k_e;var jb=et(ot());var P_e=1.4,d2t=.4,D_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:di.textColor,textBaseline:"middle",fontFamily:di.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:di.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},e.prototype.isSlider=function(){return!0},e.prototype.getValue=function(){return this.getCurrentValue()},e.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},e.prototype.setRange=function(t,i){this.update({min:t,max:i})},e.prototype.setValue=function(t){var i=this.getValue();this.set("value",t);var n=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(n),this.delegateEmit("valuechanged",{originValue:i,value:t})},e.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},e.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},e.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},e.prototype.bindHandlersEvent=function(t){var i=this;t.on("legend-handler-min:drag",function(n){var a=i.getValueByCanvasPoint(n.x,n.y),o=i.getCurrentValue(),s=o[1];s<a&&(s=a),i.setValue([a,s])}),t.on("legend-handler-max:drag",function(n){var a=i.getValueByCanvasPoint(n.x,n.y),o=i.getCurrentValue(),s=o[0];s>a&&(s=a),i.setValue([s,a])})},e.prototype.bindRailEvent=function(t){},e.prototype.bindTrackEvent=function(t){var i=this,n=null;t.on("legend-track:dragstart",function(a){n={x:a.x,y:a.y}}),t.on("legend-track:drag",function(a){if(!!n){var o=i.getValueByCanvasPoint(n.x,n.y),s=i.getValueByCanvasPoint(a.x,a.y),l=i.getCurrentValue(),u=l[1]-l[0],f=i.getRange(),c=s-o;c<0?l[0]+c>f.min?i.setValue([l[0]+c,l[1]+c]):i.setValue([f.min,f.min+u]):c>0&&(c>0&&l[1]+c<f.max?i.setValue([l[0]+c,l[1]+c]):i.setValue([f.max-u,f.max])),n={x:a.x,y:a.y}}}),t.on("legend-track:dragend",function(a){n=null})},e.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},e.prototype.drawLabel=function(t,i){var n=this.get("label"),a=n.style,o=n.align,s=n.formatter,l=this.get(t),u=this.getLabelAlignAttrs(t,o),f="label-"+t;this.addShape(i,{type:"text",id:this.getElementId(f),name:"legend-label-"+t,attrs:S(S({x:0,y:0,text:(0,jb.isFunction)(s)?s(l):l},a),u)})},e.prototype.getLabelAlignAttrs=function(t,i){var n=this.isVertical(),a="center",o="middle";return n?(a="start",i!=="rail"?t==="min"?o="top":o="bottom":o="top"):i!=="rail"?(o="top",t==="min"?a="start":a="end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},e.prototype.getRailPath=function(t,i,n,a){var o=this.get("rail"),s=o.size,l=o.defaultLength,u=o.type,f=this.isVertical(),c=l,h=n,d=a;h||(h=f?s:c),d||(d=f?c:s);var v=[];return u==="color"?(v.push(["M",t,i]),v.push(["L",t+h,i]),v.push(["L",t+h,i+d]),v.push(["L",t,i+d]),v.push(["Z"])):(v.push(["M",t+h,i]),v.push(["L",t+h,i+d]),v.push(["L",t,i+d]),v.push(["Z"])),v},e.prototype.drawRail=function(t){var i=this.get("rail"),n=i.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:S({path:this.getRailPath(0,0)},n)})},e.prototype.getTrackColor=function(t){var i=t.length;if(!i)return null;if(i===1)return t[0];var n;this.isVertical()?n="l(90)":n="l(0)";for(var a=0;a<i;a++){var o=a/(i-1);n+=" "+o+":"+t[a]}return n},e.prototype.getTrackPath=function(t){var i=this.getRailShape(t),n=i.attr("path");return(0,jb.clone)(n)},e.prototype.getClipTrackAttrs=function(t){var i=this.getCurrentValue(),n=i[0],a=i[1],o=this.getRailBBox(t),s=this.getPointByValue(n,t),l=this.getPointByValue(a,t),u=this.isVertical(),f,c,h,d;return u?(f=o.minX,c=s.y,h=o.width,d=l.y-s.y):(f=s.x,c=o.minY,h=l.x-s.x,d=o.height),{x:f,y:c,width:h,height:d}},e.prototype.getTrackAttrs=function(t){var i=this.get("track"),n=this.get("colors"),a=this.getTrackPath(t);return(0,jb.mix)({path:a,fill:this.getTrackColor(n)},i.style)},e.prototype.resetTrackClip=function(t){var i=t||this.get("group"),n=this.getElementId("track"),a=i.findById(n),o=a.getClip(),s=this.getClipTrackAttrs(t);o?o.attr(s):a.setClip({type:"rect",attrs:s})},e.prototype.resetTrack=function(t){var i=this.getElementId("track"),n=t.findById(i),a=this.getTrackAttrs(t);n?n.attr(a):this.addShape(t,{type:"path",id:i,draggable:this.get("slidable"),name:"legend-track",attrs:a})},e.prototype.getPointByValue=function(t,i){var n=this.getRange(),a=n.min,o=n.max,s=(t-a)/(o-a),l=this.getRailBBox(i),u=this.isVertical(),f={x:0,y:0};return u?(f.x=l.minX+l.width/2,f.y=C0(l.minY,l.maxY,s)):(f.x=C0(l.minX,l.maxX,s),f.y=l.minY+l.height/2),f},e.prototype.getRailShape=function(t){var i=t||this.get("group");return i.findById(this.getElementId("rail"))},e.prototype.getRailBBox=function(t){var i=this.getRailShape(t),n=i.getBBox();return n},e.prototype.getRailCanvasBBox=function(){var t=this.get("group"),i=t.findById(this.getElementId("rail")),n=i.getCanvasBBox();return n},e.prototype.isVertical=function(){return this.get("layout")==="vertical"},e.prototype.getValueByCanvasPoint=function(t,i){var n=this.getRange(),a=n.min,o=n.max,s=this.getRailCanvasBBox(),l=this.isVertical(),u=this.get("step"),f;l?f=(i-s.minY)/s.height:f=(t-s.minX)/s.width;var c=C0(a,o,f);if(u){var h=Math.round((c-a)/u);c=a+h*u}return c>o&&(c=o),c<a&&(c=a),c},e.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var i=this.get("values");return i?[Math.max(Math.min.apply(Math,cu(i,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,cu(i,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},e.prototype.resetHandlers=function(t){var i=this.getCurrentValue(),n=i[0],a=i[1];this.resetHandler(t,"min",n),this.resetHandler(t,"max",a)},e.prototype.getHandlerPath=function(t,i){var n=this.isVertical(),a=[],o=t.size,s=i.x,l=i.y,u=o*P_e,f=o/2,c=o/6;if(n){var h=s+u*d2t;a.push(["M",s,l]),a.push(["L",h,l+f]),a.push(["L",s+u,l+f]),a.push(["L",s+u,l-f]),a.push(["L",h,l-f]),a.push(["Z"]),a.push(["M",h,l+c]),a.push(["L",s+u-2,l+c]),a.push(["M",h,l-c]),a.push(["L",s+u-2,l-c])}else{var d=l+u*d2t;a.push(["M",s,l]),a.push(["L",s-f,d]),a.push(["L",s-f,l+u]),a.push(["L",s+f,l+u]),a.push(["L",s+f,d]),a.push(["Z"]),a.push(["M",s-c,d]),a.push(["L",s-c,l+u-2]),a.push(["M",s+c,d]),a.push(["L",s+c,l+u-2])}return a},e.prototype.resetHandler=function(t,i,n){var a=this.getPointByValue(n,t),o=this.get("handler"),s=this.getHandlerPath(o,a),l=this.getElementId("handler-"+i),u=t.findById(l),f=this.isVertical();u?u.attr("path",s):this.addShape(t,{type:"path",name:"legend-handler-"+i,draggable:!0,id:l,attrs:S(S({path:s},o.style),{cursor:f?"ns-resize":"ew-resize"})})},e.prototype.fixedElements=function(t){var i=t.findById(this.getElementId("rail")),n=t.findById(this.getElementId("label-min")),a=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(n,a,i,o):this.fixedHorizontal(n,a,i,o)},e.prototype.fitRailLength=function(t,i,n,a){var o=this.isVertical(),s=o?"height":"width",l=this.get("label"),u=l.align,f=l.spacing,c=this.get("max"+(0,jb.upperFirst)(s));if(c){var h=u==="rail"?n[s]+t[s]+i[s]+f*2:n[s],d=h-c;d>0&&this.changeRailLength(a,s,n[s]-d)}},e.prototype.changeRailLength=function(t,i,n){var a=t.getBBox(),o;i==="height"?o=this.getRailPath(a.x,a.y,a.width,n):o=this.getRailPath(a.x,a.y,n,a.height),t.attr("path",o)},e.prototype.changeRailPosition=function(t,i,n){var a=t.getBBox(),o=this.getRailPath(i,n,a.width,a.height);t.attr("path",o)},e.prototype.fixedHorizontal=function(t,i,n,a){var o=this.get("label"),s=o.align,l=o.spacing,u=n.getBBox(),f=t.getBBox(),c=i.getBBox(),h=u.height;this.fitRailLength(f,c,u,n),u=n.getBBox(),s==="rail"?(t.attr({x:a.x,y:a.y+h/2}),this.changeRailPosition(n,a.x+f.width+l,a.y),i.attr({x:a.x+f.width+u.width+l*2,y:a.y+h/2})):s==="top"?(t.attr({x:a.x,y:a.y}),i.attr({x:a.x+u.width,y:a.y}),this.changeRailPosition(n,a.x,a.y+f.height+l)):(this.changeRailPosition(n,a.x,a.y),t.attr({x:a.x,y:a.y+u.height+l}),i.attr({x:a.x+u.width,y:a.y+u.height+l}))},e.prototype.fixedVertail=function(t,i,n,a){var o=this.get("label"),s=o.align,l=o.spacing,u=n.getBBox(),f=t.getBBox(),c=i.getBBox();if(this.fitRailLength(f,c,u,n),u=n.getBBox(),s==="rail")t.attr({x:a.x,y:a.y}),this.changeRailPosition(n,a.x,a.y+f.height+l),i.attr({x:a.x,y:a.y+f.height+u.height+l*2});else if(s==="right")t.attr({x:a.x+u.width+l,y:a.y}),this.changeRailPosition(n,a.x,a.y),i.attr({x:a.x+u.width+l,y:a.y+u.height});else{var h=Math.max(f.width,c.width);t.attr({x:a.x,y:a.y}),this.changeRailPosition(n,a.x+h+l,a.y),i.attr({x:a.x,y:a.y+u.height})}},e}(b2),v2t=D_e;var KG={};ai(KG,{Html:()=>y2t});var Tg=et(ot());var es={};ai(es,{CONTAINER_CLASS:()=>jP,CROSSHAIR_X:()=>XG,CROSSHAIR_Y:()=>ZG,LIST_CLASS:()=>WP,LIST_ITEM_CLASS:()=>qG,MARKER_CLASS:()=>HG,NAME_CLASS:()=>p2t,TITLE_CLASS:()=>YP,VALUE_CLASS:()=>UG});var jP="g2-tooltip",YP="g2-tooltip-title",WP="g2-tooltip-list",qG="g2-tooltip-list-item",HG="g2-tooltip-marker",UG="g2-tooltip-value",p2t="g2-tooltip-name",XG="g2-tooltip-crosshair-x",ZG="g2-tooltip-crosshair-y";var Eg,g2t=(Eg={},Eg[""+jP]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:di.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Eg[""+YP]={marginBottom:"4px"},Eg[""+WP]={margin:"0px",listStyleType:"none",padding:"0px"},Eg[""+qG]={listStyleType:"none",marginBottom:"4px"},Eg[""+HG]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Eg[""+UG]={display:"inline-block",float:"right",marginLeft:"30px"},Eg[""+XG]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Eg[""+ZG]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Eg);function F_e(r,e,t,i,n){var a={left:r<n.x,right:r+t>n.x+n.width,top:e<n.y,bottom:e+i>n.y+n.height};return a}function N_e(r,e,t,i,n,a){var o=r,s=e;switch(a){case"left":o=r-i-t,s=e-n/2;break;case"right":o=r+t,s=e-n/2;break;case"top":o=r-i/2,s=e-n-t;break;case"bottom":o=r-i/2,s=e+t;break;default:o=r+t,s=e-n-t;break}return{x:o,y:s}}function m2t(r,e,t,i,n,a,o){var s=N_e(r,e,t,i,n,a);if(o){var l=F_e(s.x,s.y,i,n,o);a==="auto"?(l.right&&(s.x=Math.max(0,r-i-t)),l.top&&(s.y=Math.max(0,e-n-t))):a==="top"||a==="bottom"?(l.left&&(s.x=o.x),l.right&&(s.x=o.x+o.width-i),a==="top"&&l.top&&(s.y=e+t),a==="bottom"&&l.bottom&&(s.y=e-n-t)):(l.top&&(s.y=o.y),l.bottom&&(s.y=o.y+o.height-n),a==="left"&&l.left&&(s.x=r+t),a==="right"&&l.right&&(s.x=r-i-t))}return s}function B_e(r,e){var t=!1;return(0,Tg.each)(e,function(i){if((0,Tg.hasKey)(r,i))return t=!0,!1}),t}var R_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+jP+'"><div class="'+YP+'"></div><ul class="'+WP+'"></ul></div>',itemTpl:'<li class="'+qG+`" data-index={index}>
          <span class="`+HG+`" style="background:{color}"></span>
          <span class="`+p2t+`">{name}</span>:
          <span class="`+UG+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+XG+'"></div>',yCrosshairTpl:'<div class="'+ZG+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:jP,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:g2t})},e.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},e.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},e.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),xr(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},e.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),xr(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},e.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},e.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},e.prototype.setCrossHairsVisible=function(t){var i=t?"":"none",n=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");n&&xr(n,{display:i}),a&&xr(a,{display:i})},e.prototype.initContainer=function(){if(r.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},e.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(B_e(t,["title","showTitle"])&&this.resetTitle(),(0,Tg.hasKey)(t,"items")&&this.renderItems()),r.prototype.updateInner.call(this,t)},e.prototype.initDom=function(){this.cacheDoms()},e.prototype.removeDom=function(){r.prototype.removeDom.call(this),this.clearCrosshairs()},e.prototype.resetPosition=function(){var t=this.get("x"),i=this.get("y"),n=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,l=this.get("position"),u=this.get("region"),f=this.getContainer(),c=this.getBBox(),h=c.width,d=c.height,v;u&&(v=S0(u));var p=m2t(t,i,n,h,d,l,v);xr(f,{left:xu(p.x+o),top:xu(p.y+s)}),this.resetCrosshairs()},e.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),i=this.get("parent"),n=this.get("container");n&&n.parentNode===i?i.replaceChild(t,n):i.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},e.prototype.getHtmlContentNode=function(){var t,i=this.get("customContent");if(i){var n=i(this.get("title"),this.get("items"));(0,Tg.isElement)(n)?t=n:t=gi(n)}return t},e.prototype.cacheDoms=function(){var t=this.getContainer(),i=t.getElementsByClassName(YP)[0],n=t.getElementsByClassName(WP)[0];this.set("titleDom",i),this.set("listDom",n)},e.prototype.resetTitle=function(){var t=this.get("title"),i=this.get("showTitle");i&&t?this.setTitle(t):this.setTitle("")},e.prototype.setTitle=function(t){var i=this.get("titleDom");i&&(i.innerText=t)},e.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),i=this.get("crosshairs");if(!t||!i)this.clearCrosshairs();else{var n=S0(t),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");i==="x"?(this.resetCrosshair("x",n),o&&(o.remove(),this.set("yCrosshairDom",null))):i==="y"?(this.resetCrosshair("y",n),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",n),this.resetCrosshair("y",n)),this.setCrossHairsVisible(this.get("visible"))}},e.prototype.resetCrosshair=function(t,i){var n=this.checkCrosshair(t),a=this.get(t);t==="x"?xr(n,{left:xu(a),top:xu(i.y),height:xu(i.height)}):xr(n,{top:xu(a),left:xu(i.x),width:xu(i.width)})},e.prototype.checkCrosshair=function(t){var i=t+"CrosshairDom",n=t+"CrosshairTpl",a="CROSSHAIR_"+t.toUpperCase(),o=es[a],s=this.get(i),l=this.get("parent");return s||(s=gi(this.get(n)),this.applyStyle(o,s),l.appendChild(s),this.set(i,s)),s},e.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),i=this.get("itemTpl"),n=this.get("listDom");n&&((0,Tg.each)(t,function(a){var o=th.toCSSGradient(a.color),s=S(S({},a),{color:o}),l=(0,Tg.substitute)(i,s),u=gi(l);n.appendChild(u)}),this.applyChildrenStyles(n,this.get("domStyles")))},e.prototype.clearItemDoms=function(){this.get("listDom")&&v2(this.get("listDom"))},e.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),i=this.get("yCrosshairDom");t&&t.remove(),i&&i.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},e}(Rb),y2t=R_e;var pa=et(ot());var x2t={opacity:0},b2t={stroke:"#C5C5C5",strokeOpacity:.85},w2t={fill:"#CACED4",opacity:.85};var Ig=et(ot());function G_e(r){return(0,Ig.map)(r,function(e,t){var i=t===0?"M":"L",n=e[0],a=e[1];return[i,n,a]})}function _2t(r){return G_e(r)}function z_e(r){if(r.length<=2)return _2t(r);var e=[];(0,Ig.each)(r,function(o){(0,Ig.isEqual)(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=dC(e,!1),i=(0,Ig.head)(r),n=i[0],a=i[1];return t.unshift(["M",n,a]),t}function S2t(r,e,t,i){i===void 0&&(i=!0);var n=new zv({values:r}),a=new bg({values:(0,Ig.map)(r,function(s,l){return l})}),o=(0,Ig.map)(r,function(s,l){return[a.scale(l)*e,t-n.scale(s)*t]});return i?z_e(o):_2t(o)}function j_e(r,e){var t=new zv({values:r}),i=t.max<0?t.max:Math.max(0,t.min);return e-t.scale(i)*e}function C2t(r,e,t,i){var n=cu(r),a=j_e(i,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}var M2t=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:x2t,lineStyle:b2t,areaStyle:w2t})},e.prototype.renderInner=function(t){var i=this.cfg,n=i.width,a=i.height,o=i.data,s=i.smooth,l=i.isArea,u=i.backgroundStyle,f=i.lineStyle,c=i.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:S({x:0,y:0,width:n,height:a},u)});var h=S2t(o,n,a,s);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:S({path:h},f)}),l){var d=C2t(h,n,a,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:S({path:d},c)})}},e.prototype.applyOffset=function(){var t=this.cfg,i=t.x,n=t.y;this.moveElementTo(this.get("group"),{x:i,y:n})},e}(Dn);var wQ={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},_Q=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"handler",x:0,y:0,width:10,height:24,style:wQ})},e.prototype.renderInner=function(t){var i=this.cfg,n=i.width,a=i.height,o=i.style,s=o.fill,l=o.stroke,u=o.radius,f=o.opacity,c=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:n,height:a,fill:s,stroke:l,radius:u,opacity:f,cursor:c}});var h=1/3*n,d=2/3*n,v=1/4*a,p=3/4*a;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:v,x2:h,y2:p,stroke:l,cursor:c}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:d,y1:v,x2:d,y2:p,stroke:l,cursor:c}})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var i=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",i),t.draw()}),this.get("group").on("mouseleave",function(){var i=t.get("style").fill;t.getElementByLocalId("background").attr("fill",i),t.draw()})},e.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},e}(Dn);var A2t={fill:"#416180",opacity:.05},E2t={fill:"#5B8FF9",opacity:.15,cursor:"move"},VP=10,T2t={width:VP,height:24},I2t={textBaseline:"middle",fill:"#000",opacity:.45},L2t="sliderchange";var qP=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.onMouseDown=function(i){return function(n){t.currentTarget=i;var a=n.originalEvent;a.stopPropagation(),a.preventDefault(),t.prevX=(0,pa.get)(a,"touches.0.pageX",a.pageX),t.prevY=(0,pa.get)(a,"touches.0.pageY",a.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(i){var n=t.cfg.width,a=[t.get("start"),t.get("end")];i.stopPropagation(),i.preventDefault();var o=(0,pa.get)(i,"touches.0.pageX",i.pageX),s=(0,pa.get)(i,"touches.0.pageY",i.pageY),l=o-t.prevX,u=t.adjustOffsetRange(l/n);t.updateStartEnd(u),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=s,t.draw(),t.emit(L2t,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:a,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var i=t.getContainerDOM();i&&(i.removeEventListener("mousemove",t.onMouseMove),i.removeEventListener("mouseup",t.onMouseUp),i.removeEventListener("mouseleave",t.onMouseUp),i.removeEventListener("touchmove",t.onMouseMove),i.removeEventListener("touchend",t.onMouseUp),i.removeEventListener("touchcancel",t.onMouseUp))},t}return e.prototype.setRange=function(t,i){this.set("minLimit",t),this.set("maxLimit",i);var n=this.get("start"),a=this.get("end"),o=(0,pa.clamp)(n,t,i),s=(0,pa.clamp)(a,t,i);!this.get("isInit")&&(n!==o||a!==s)&&this.setValue([o,s])},e.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},e.prototype.setValue=function(t){var i=this.getRange();if((0,pa.isArray)(t)&&t.length===2){var n=[this.get("start"),this.get("end")];this.update({start:(0,pa.clamp)(t[0],i.min,i.max),end:(0,pa.clamp)(t[1],i.min,i.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:n,value:t})}},e.prototype.getValue=function(){return[this.get("start"),this.get("end")]},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:A2t,foregroundStyle:E2t,handlerStyle:T2t,textStyle:I2t}})},e.prototype.update=function(t){var i=t.start,n=t.end,a=S({},t);(0,pa.isNil)(i)||(a.start=(0,pa.clamp)(i,0,1)),(0,pa.isNil)(n)||(a.end=(0,pa.clamp)(n,0,1)),r.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},e.prototype.init=function(){this.set("start",(0,pa.clamp)(this.get("start"),0,1)),this.set("end",(0,pa.clamp)(this.get("end"),0,1)),r.prototype.init.call(this)},e.prototype.render=function(){r.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},e.prototype.renderInner=function(t){var i=this.cfg,n=i.start,a=i.end,o=i.width,s=i.height,l=i.trendCfg,u=l===void 0?{}:l,f=i.minText,c=i.maxText,h=i.backgroundStyle,d=h===void 0?{}:h,v=i.foregroundStyle,p=v===void 0?{}:v,g=i.textStyle,m=g===void 0?{}:g,y=(0,pa.deepMix)({},wQ,this.cfg.handlerStyle),x=n*o,b=a*o;(0,pa.size)((0,pa.get)(u,"data"))&&(this.trend=this.addComponent(t,S({component:M2t,id:this.getElementId("trend"),x:0,y:0,width:o,height:s},u))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:S({x:0,y:0,width:o,height:s},d)});var _=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:S({y:s/2,textAlign:"right",text:f,silent:!1},m)}),M=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:S({y:s/2,textAlign:"left",text:c,silent:!1},m)}),A=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:S({y:0,height:s},p)}),I=(0,pa.get)(y,"width",VP),k=(0,pa.get)(y,"height",24);this.minHandler=this.addComponent(t,{component:_Q,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(s-k)/2,width:I,height:k,cursor:"ew-resize",style:y}),this.maxHandler=this.addComponent(t,{component:_Q,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(s-k)/2,width:I,height:k,cursor:"ew-resize",style:y})},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.updateUI=function(t,i,n){var a=this.cfg,o=a.start,s=a.end,l=a.width,u=a.minText,f=a.maxText,c=a.handlerStyle,h=a.height,d=o*l,v=s*l;this.trend&&(this.trend.update({width:l,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",d),t.attr("width",v-d);var p=(0,pa.get)(c,"width",VP);i.attr("text",u),n.attr("text",f);var g=this._dodgeText([d,v],i,n),m=g[0],y=g[1];this.minHandler&&(this.minHandler.update({x:d-p/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,pa.each)(m,function(x,b){return i.attr(b,x)}),this.maxHandler&&(this.maxHandler.update({x:v-p/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,pa.each)(y,function(x,b){return n.attr(b,x)})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var i=t.findById(this.getElementId("foreground"));i.on("mousedown",this.onMouseDown("foreground")),i.on("touchstart",this.onMouseDown("foreground"))},e.prototype.adjustOffsetRange=function(t){var i=this.cfg,n=i.start,a=i.end;switch(this.currentTarget){case"minHandler":{var o=0-n,s=1-n;return Math.min(s,Math.max(o,t))}case"maxHandler":{var o=0-a,s=1-a;return Math.min(s,Math.max(o,t))}case"foreground":{var o=0-n,s=1-a;return Math.min(s,Math.max(o,t))}}},e.prototype.updateStartEnd=function(t){var i=this.cfg,n=i.start,a=i.end;switch(this.currentTarget){case"minHandler":n+=t;break;case"maxHandler":a+=t;break;case"foreground":n+=t,a+=t;break}this.set("start",n),this.set("end",a)},e.prototype._dodgeText=function(t,i,n){var a,o,s=this.cfg,l=s.handlerStyle,u=s.width,f=2,c=(0,pa.get)(l,"width",VP),h=t[0],d=t[1],v=!1;h>d&&(a=[d,h],h=a[0],d=a[1],o=[n,i],i=o[0],n=o[1],v=!0);var p=i.getBBox(),g=n.getBBox(),m=p.width>h-f?{x:h+c/2+f,textAlign:"left"}:{x:h-c/2-f,textAlign:"right"},y=g.width>u-d-f?{x:d-c/2-f,textAlign:"right"}:{x:d+c/2+f,textAlign:"left"};return v?[y,m]:[m,y]},e.prototype.draw=function(){var t=this.get("container"),i=t&&t.get("canvas");i&&i.draw()},e.prototype.getContainerDOM=function(){var t=this.get("container"),i=t&&t.get("canvas");return i&&i.get("container")},e}(Dn);var Nl=et(ot());var Y_e={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},SQ={default:Y_e,hover:{thumbColor:"rgba(0,0,0,0.2)"}},QG=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.clearEvents=Nl.noop,t.onStartEvent=function(i){return function(n){t.isMobile=i,n.originalEvent.preventDefault();var a=i?(0,Nl.get)(n.originalEvent,"touches.0.clientX"):n.clientX,o=i?(0,Nl.get)(n.originalEvent,"touches.0.clientY"):n.clientY;t.startPos=t.cfg.isHorizontal?a:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var i=t.getContainerDOM(),n=[];t.isMobile?n=[Xf(i,"touchmove",t.onMouseMove),Xf(i,"touchend",t.onMouseUp),Xf(i,"touchcancel",t.onMouseUp)]:n=[Xf(i,"mousemove",t.onMouseMove),Xf(i,"mouseup",t.onMouseUp),Xf(i,"mouseleave",t.onMouseUp)],t.clearEvents=function(){n.forEach(function(a){a.remove()})}},t.onMouseMove=function(i){var n=t.cfg,a=n.isHorizontal,o=n.thumbOffset;i.preventDefault();var s=t.isMobile?(0,Nl.get)(i,"touches.0.clientX"):i.clientX,l=t.isMobile?(0,Nl.get)(i,"touches.0.clientY"):i.clientY,u=a?s:l,f=u-t.startPos;t.startPos=u,t.updateThumbOffset(o+f)},t.onMouseUp=function(i){i.preventDefault(),t.clearEvents()},t.onTrackClick=function(i){var n=t.cfg,a=n.isHorizontal,o=n.x,s=n.y,l=n.thumbLen,u=t.getContainerDOM(),f=u.getBoundingClientRect(),c=i.clientX,h=i.clientY,d=a?c-f.left-o-l/2:h-f.top-s-l/2,v=t.validateRange(d);t.updateThumbOffset(v)},t.onThumbMouseOver=function(){var i=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",i),t.draw()},t.onThumbMouseOut=function(){var i=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",i),t.draw()},t}return e.prototype.setRange=function(t,i){this.set("minLimit",t),this.set("maxLimit",i);var n=this.getValue(),a=(0,Nl.clamp)(n,t,i);n!==a&&!this.get("isInit")&&this.setValue(a)},e.prototype.getRange=function(){var t=this.get("minLimit")||0,i=this.get("maxLimit")||1;return{min:t,max:i}},e.prototype.setValue=function(t){var i=this.getRange(),n=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,Nl.clamp)(t,i.min,i.max)}),this.delegateEmit("valuechange",{originalValue:n,value:this.getValue()})},e.prototype.getValue=function(){return(0,Nl.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return S(S({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:SQ})},e.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},e.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},e.prototype.initEvent=function(){this.bindEvents()},e.prototype.renderTrackShape=function(t){var i=this.cfg,n=i.trackLen,a=i.theme,o=a===void 0?{default:{}}:a,s=(0,Nl.deepMix)({},SQ,o).default,l=s.lineCap,u=s.trackColor,f=s.size,c=(0,Nl.get)(this.cfg,"size",f),h=this.get("isHorizontal")?{x1:0+c/2,y1:c/2,x2:n-c/2,y2:c/2,lineWidth:c,stroke:u,lineCap:l}:{x1:c/2,y1:0+c/2,x2:c/2,y2:n-c/2,lineWidth:c,stroke:u,lineCap:l};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:h})},e.prototype.renderThumbShape=function(t){var i=this.cfg,n=i.thumbOffset,a=i.thumbLen,o=i.theme,s=(0,Nl.deepMix)({},SQ,o).default,l=s.size,u=s.lineCap,f=s.thumbColor,c=(0,Nl.get)(this.cfg,"size",l),h=this.get("isHorizontal")?{x1:n+c/2,y1:c/2,x2:n+a-c/2,y2:c/2,lineWidth:c,stroke:f,lineCap:u,cursor:"default"}:{x1:c/2,y1:n+c/2,x2:c/2,y2:n+a-c/2,lineWidth:c,stroke:f,lineCap:u,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:h})},e.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var i=t.findById(this.getElementId("track"));i.on("click",this.onTrackClick);var n=t.findById(this.getElementId("thumb"));n.on("mouseover",this.onThumbMouseOver),n.on("mouseout",this.onThumbMouseOut)},e.prototype.getContainerDOM=function(){var t=this.get("container"),i=t&&t.get("canvas");return i&&i.get("container")},e.prototype.validateRange=function(t){var i=this.cfg,n=i.thumbLen,a=i.trackLen,o=t;return t+n>a?o=a-n:t+n<n&&(o=0),o},e.prototype.draw=function(){var t=this.get("container"),i=t&&t.get("canvas");i&&i.draw()},e.prototype.updateThumbOffset=function(t){var i=this.cfg,n=i.thumbOffset,a=i.isHorizontal,o=i.thumbLen,s=i.size,l=this.validateRange(t);if(l!==n){var u=this.getElementByLocalId("thumb");a?u.attr({x1:l+s/2,x2:l+o-s/2}):u.attr({y1:l+s/2,y2:l+o-s/2}),this.emitOffsetChange(l)}},e.prototype.emitOffsetChange=function(t){var i=this.cfg,n=i.thumbOffset,a=i.trackLen,o=i.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,Nl.clamp)(t/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:n,value:t})},e}(Dn);var O2t=FP.Line,k2t=FP.Circle;var P2t=GP.Line,D2t=GP.Circle;var CQ=zP.Category,F2t=zP.Continuous;var Yb=KG.Html;var rc=et(ot());function W_e(r){if((0,rc.isEmpty)(r))return null;var e=r[0].x,t=r[0].x,i=r[0].y,n=r[0].y;return(0,rc.each)(r,function(a){e=e>a.x?a.x:e,t=t<a.x?a.x:t,i=i>a.y?a.y:i,n=n<a.y?a.y:n}),{minX:e,maxX:t,minY:i,maxY:n,centerX:(e+t)/2,centerY:(i+n)/2}}function N2t(r){return Array.from(new Set(r)).length===1}function B2t(r){return((0,rc.min)(r)+(0,rc.max)(r))/2}function Pa(r,e,t,i){return{x:r+t*Math.cos(i),y:e+t*Math.sin(i)}}function rh(r,e,t,i,n,a){a===void 0&&(a=0);var o=Pa(r,e,t,i),s=Pa(r,e,t,n),l=Pa(r,e,a,i),u=Pa(r,e,a,n);if(n-i==Math.PI*2){var f=Pa(r,e,t,i+Math.PI),c=Pa(r,e,a,i+Math.PI),h=[["M",o.x,o.y],["A",t,t,0,1,1,f.x,f.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(h.push(["A",a,a,0,1,0,c.x,c.y]),h.push(["A",a,a,0,1,0,u.x,u.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var d=n-i<=Math.PI?0:1,v=[["M",o.x,o.y],["A",t,t,0,d,1,s.x,s.y],["L",u.x,u.y]];return a&&v.push(["A",a,a,0,d,0,l.x,l.y]),v.push(["L",o.x,o.y]),v.push(["Z"]),v}function $G(r,e,t,i,n){var a=Pa(r,e,t,i),o=Pa(r,e,t,n);if((0,rc.isNumberEqual)(n-i,Math.PI*2)){var s=Pa(r,e,t,i+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=n-i<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function M0(r,e){var t=r.points,i=W_e(t),n,a,o=e.startAngle,s=e.endAngle,l=s-o;return e.isTransposed?(n=i.maxY*l,a=i.minY*l):(n=i.maxX*l,a=i.minX*l),n+=o,a+=o,{startAngle:a,endAngle:n}}function R2t(r,e){if((0,rc.isNumber)(r)&&(0,rc.isNumber)(e))return[r,e];if(r=r,e=e,N2t(r)||N2t(e))return[B2t(r),B2t(e)];for(var t=-1,i=0,n=0,a,o=r.length-1,s,l=0;++t<r.length;)a=o,o=t,l+=s=r[a]*e[o]-r[o]*e[a],i+=(r[a]+r[o])*s,n+=(e[a]+e[o])*s;return l*=3,[i/l,n/l]}function JG(r,e){var t=r.attr(),i=e.attr();return(0,rc.each)(t,function(n,a){i[a]===void 0&&(i[a]=void 0)}),i}var tz=et(ot());function A0(r,e,t){var i=Math.min(e,t),n=Math.max(e,t);return r>=i&&r<=n}function G2t(r,e,t){if((0,tz.isString)(r))return r.padEnd(e,t);if((0,tz.isArray)(r)){var i=r.length;if(i<e)for(var n=e-i,a=0;a<n;a++)r.push(t)}return r}function Hs(r,e){return typeof r=="object"&&e.forEach(function(t){delete r[t]}),r}function Lg(r,e,t){var i,n;e===void 0&&(e=[]),t===void 0&&(t=new Map);try{for(var a=er(r),o=a.next();!o.done;o=a.next()){var s=o.value;t.has(s)||(e.push(s),t.set(s,!0))}}catch(l){i={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return e}var MQ=et(ot());var Oo=function(){function r(e,t,i,n){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.x=e,this.y=t,this.height=n,this.width=i}return r.fromRange=function(e,t,i,n){return new r(e,t,i-e,n-t)},r.fromObject=function(e){return new r(e.minX,e.minY,e.width,e.height)},Object.defineProperty(r.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),r.prototype.isEqual=function(e){return this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height},r.prototype.contains=function(e){return e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.add=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.clone();return(0,MQ.each)(e,function(n){i.x=Math.min(n.x,i.x),i.y=Math.min(n.y,i.y),i.width=Math.max(n.maxX,i.maxX)-i.x,i.height=Math.max(n.maxY,i.maxY)-i.y}),i},r.prototype.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=this.clone();return(0,MQ.each)(e,function(n){i.x=Math.max(n.x,i.x),i.y=Math.max(n.y,i.y),i.width=Math.min(n.maxX,i.maxX)-i.x,i.height=Math.min(n.maxY,i.maxY)-i.y}),i},r.prototype.cut=function(e,t){var i=e.width,n=e.height;switch(t){case Fe.TOP:case Fe.TOP_LEFT:case Fe.TOP_RIGHT:return r.fromRange(this.minX,this.minY+n,this.maxX,this.maxY);case Fe.RIGHT:case Fe.RIGHT_TOP:case Fe.RIGHT_BOTTOM:return r.fromRange(this.minX,this.minY,this.maxX-i,this.maxY);case Fe.BOTTOM:case Fe.BOTTOM_LEFT:case Fe.BOTTOM_RIGHT:return r.fromRange(this.minX,this.minY,this.maxX,this.maxY-n);case Fe.LEFT:case Fe.LEFT_TOP:case Fe.LEFT_BOTTOM:return r.fromRange(this.minX+i,this.minY,this.maxX,this.maxY);default:return this}},r.prototype.shrink=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return new r(this.x+o,this.y+i,this.width-o-n,this.height-i-a)},r.prototype.expand=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return new r(this.x-o,this.y-i,this.width+o+n,this.height+i+a)},r.prototype.exceed=function(e){return[Math.max(-this.minY+e.minY,0),Math.max(this.maxX-e.maxX,0),Math.max(this.maxY-e.maxY,0),Math.max(-this.minX+e.minX,0)]},r.prototype.collide=function(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY},r.prototype.size=function(){return this.width*this.height},r.prototype.isPointIn=function(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY},r}();function z2t(r){return[[r.minX,r.minY],[r.maxX,r.minY],[r.maxX,r.maxY],[r.minX,r.maxY]]}function Og(r){if(r.isPolar&&!r.isTransposed)return(r.endAngle-r.startAngle)*r.getRadius();var e=r.convert({x:0,y:0}),t=r.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function j2t(r){if(r.isPolar){var e=r.startAngle,t=r.endAngle;return t-e==Math.PI*2}return!1}function Wb(r,e){var t=r.getCenter();return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Y2t(r,e){var t=!1;if(r)if(r.type==="theta"){var i=r.start,n=r.end;t=A0(e.x,i.x,n.x)&&A0(e.y,i.y,n.y)}else{var a=r.invert(e);t=A0(a.x,0,1)&&A0(a.y,0,1)}return t}function kg(r,e){var t=r.getCenter();return Math.atan2(e.y-t.y,e.x-t.x)}function w2(r,e){e===void 0&&(e=0);var t=r.start,i=r.end,n=r.getWidth(),a=r.getHeight();if(r.isPolar){var o=r.startAngle,s=r.endAngle,l=r.getCenter(),u=r.getRadius();return{type:"path",startState:{path:rh(l.x,l.y,u+e,o,o)},endState:function(c){var h=(s-o)*c+o,d=rh(l.x,l.y,u+e,o,h);return{path:d}},attrs:{path:rh(l.x,l.y,u+e,o,s)}}}var f;return r.isTransposed?f={height:a+e*2}:f={width:n+e*2},{type:"rect",startState:{x:t.x-e,y:i.y-e,width:r.isTransposed?n+e*2:0,height:r.isTransposed?0:a+e*2},endState:f,attrs:{x:t.x-e,y:i.y-e,width:n+e*2,height:a+e*2}}}function W2t(r,e){e===void 0&&(e=0);var t=r.start,i=r.end,n=r.getWidth(),a=r.getHeight(),o=Math.min(t.x,i.x),s=Math.min(t.y,i.y);return Oo.fromRange(o-e,s-e,o+n+e,s+a+e)}var V_e=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function q_e(r){var e="linear";return V_e.test(r)?e="timeCat":(0,Bl.isString)(r)&&(e="cat"),e}function ez(r,e,t,i){return e===void 0&&(e={}),e.type?e.type:r.type!=="identity"&&h0.includes(t)&&["interval"].includes(i)||r.isCategory?"cat":r.type}function V2t(r,e,t){var i=e||[];if((0,Bl.isNumber)(r)||(0,Bl.isNil)((0,Bl.firstValue)(i,r))&&(0,Bl.isEmpty)(t)){var n=f2("identity");return new n({field:r.toString(),values:[r]})}var a=(0,Bl.valuesOfKey)(i,r),o=(0,Bl.get)(t,"type",q_e(a[0])),s=f2(o);return new s(S({field:r,values:a},t))}function q2t(r,e){if(r.type!=="identity"&&e.type!=="identity"){var t={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);r.change(t)}}function Vb(r){return r.alias||r.field}function rz(r,e,t){var i=r.values,n=i.length,a;if(n===1)a=[.5,1];else{var o=1,s=0;j2t(e)?e.isTransposed?(o=(0,Bl.get)(t,"widthRatio.multiplePie",1/1.3),s=1/n*o,a=[s/2,1-s/2]):a=[0,1-1/n]:(s=1/n/2,a=[s,1-s])}return a}function H2t(r){var e=r.values.filter(function(t){return!(0,Bl.isNil)(t)&&!isNaN(t)});return Math.max.apply(Math,ne(ne([],Rt(e),!1),[(0,Bl.isNil)(r.max)?-1/0:r.max],!1))}function H_e(r){var e,t;switch(r){case Fe.TOP:e={x:0,y:1},t={x:1,y:1};break;case Fe.RIGHT:e={x:1,y:0},t={x:1,y:1};break;case Fe.BOTTOM:e={x:0,y:0},t={x:1,y:0};break;case Fe.LEFT:e={x:0,y:0},t={x:0,y:1};break;default:e=t={x:0,y:0}}return{start:e,end:t}}function U_e(r){var e,t;return r.isTransposed?(e={x:0,y:0},t={x:1,y:0}):(e={x:0,y:0},t={x:0,y:1}),{start:e,end:t}}function HP(r,e){var t={start:{x:0,y:0},end:{x:0,y:0}};r.isRect?t=H_e(e):r.isPolar&&(t=U_e(r));var i=t.start,n=t.end;return{start:r.convert(i),end:r.convert(n)}}function AQ(r){var e=r.start,t=r.end;return e.x===t.x}function EQ(r,e){var t=r.start,i=r.end,n=AQ(r);return n?(t.y-i.y)*(e.x-t.x)>0?1:-1:(i.x-t.x)*(t.y-e.y)>0?-1:1}function UP(r,e){var t=(0,Rl.get)(r,["components","axis"],{});return(0,Rl.deepMix)({},(0,Rl.get)(t,["common"],{}),(0,Rl.deepMix)({},(0,Rl.get)(t,[e],{})))}function TQ(r,e,t){var i=(0,Rl.get)(r,["components","axis"],{});return(0,Rl.deepMix)({},(0,Rl.get)(i,["common","title"],{}),(0,Rl.deepMix)({},(0,Rl.get)(i,[e,"title"],{})),t)}function iz(r){var e=r.x,t=r.y,i=r.circleCenter,n=t.start>t.end,a=r.isTransposed?r.convert({x:n?0:1,y:0}):r.convert({x:0,y:n?0:1}),o=[a.x-i.x,a.y-i.y],s=[1,0],l=a.y>i.y?Pe.vec2.angle(o,s):Pe.vec2.angle(o,s)*-1,u=l+(e.end-e.start),f=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2));return{center:i,radius:f,startAngle:l,endAngle:u}}function _2(r,e){return(0,Rl.isBoolean)(r)?r===!1?!1:{}:(0,Rl.get)(r,[e])}function IQ(r,e){return(0,Rl.get)(r,"position",e)}function LQ(r,e){return(0,Rl.get)(e,["title","text"],Vb(r))}var ef=function(){function r(e,t){this.destroyed=!1,this.facets=[],this.view=e,this.cfg=(0,tf.deepMix)({},this.getDefaultCfg(),t)}return r.prototype.init=function(){this.container||(this.container=this.createContainer());var e=this.view.getData();this.facets=this.generateFacets(e)},r.prototype.render=function(){this.renderViews()},r.prototype.update=function(){},r.prototype.clear=function(){this.clearFacetViews()},r.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},r.prototype.facetToView=function(e){var t=e.region,i=e.data,n=e.padding,a=n===void 0?this.cfg.padding:n,o=this.view.createView({region:t,padding:a});o.data(i||[]),e.view=o,this.beforeEachView(o,e);var s=this.cfg.eachView;return s&&s(o,e),this.afterEachView(o,e),o},r.prototype.createContainer=function(){var e=this.view.getLayer(ia.FORE);return e.addGroup()},r.prototype.renderViews=function(){this.createFacetViews()},r.prototype.createFacetViews=function(){var e=this;return this.facets.map(function(t){return e.facetToView(t)})},r.prototype.clearFacetViews=function(){var e=this;(0,tf.each)(this.facets,function(t){t.view&&(e.view.removeView(t.view),t.view=void 0)})},r.prototype.parseSpacing=function(){var e=this.view.viewBBox,t=e.width,i=e.height,n=this.cfg.spacing;return n.map(function(a,o){return(0,tf.isNumber)(a)?a/(o===0?t:i):parseFloat(a)/100})},r.prototype.getFieldValues=function(e,t){var i=[],n={};return(0,tf.each)(e,function(a){var o=a[t];!(0,tf.isNil)(o)&&!n[o]&&(i.push(o),n[o]=!0)}),i},r.prototype.getRegion=function(e,t,i,n){var a=Rt(this.parseSpacing(),2),o=a[0],s=a[1],l=(1+o)/(t===0?1:t)-o,u=(1+s)/(e===0?1:e)-s,f={x:(l+o)*i,y:(u+s)*n},c={x:f.x+l,y:f.y+u};return{start:f,end:c}},r.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},r.prototype.getDefaultTitleCfg=function(){var e=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:e}}},r.prototype.processAxis=function(e,t){var i=e.getOptions(),n=i.coordinate,a=e.geometries,o=(0,tf.get)(n,"type","rect");if(o==="rect"&&a.length){(0,tf.isNil)(i.axes)&&(i.axes={});var s=i.axes,l=Rt(a[0].getXYFields(),2),u=l[0],f=l[1],c=_2(s,u),h=_2(s,f);c!==!1&&(i.axes[u]=this.getXAxisOption(u,s,c,t)),h!==!1&&(i.axes[f]=this.getYAxisOption(f,s,h,t))}},r.prototype.getFacetDataFilter=function(e){return function(t){return(0,tf.every)(e,function(i){var n=i.field,a=i.value;return!(0,tf.isNil)(a)&&n?t[n]===a:!0})}},r}();var U2t={},nz=function(r){return U2t[(0,OQ.lowerCase)(r)]},E0=function(r,e){U2t[(0,OQ.lowerCase)(r)]=e};var O0=et(ot());var ys=et(ot());var X2t=et(ot()),X_e=function(){function r(e,t){this.context=e,this.cfg=t,e.addAction(this)}return r.prototype.applyCfg=function(e){(0,X2t.assign)(this,e)},r.prototype.init=function(){this.applyCfg(this.cfg)},r.prototype.destroy=function(){this.context.removeAction(this),this.context=null},r}(),Qr=X_e;var Z_e=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.execute=function(){this.callback&&this.callback(this.context)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.callback=null},e}(Qr),Z2t=Z_e;var K2t=et(ot()),kQ={};function PQ(r,e){var t=kQ[r],i=null;if(t){var n=t.ActionClass,a=t.cfg;i=new n(e,a),i.name=r,i.init()}return i}function qv(r){var e=kQ[r];return(0,K2t.get)(e,"ActionClass")}function br(r,e,t){kQ[r]={ActionClass:e,cfg:t}}function Q2t(r,e){var t=new Z2t(e);return t.callback=r,t.name="callback",t}var hz=et(ot());var hd=et(ot());var az=et(ot());function K_e(r,e){var t=[];if(r.length){t.push(["M",r[0].x,r[0].y]);for(var i=1,n=r.length;i<n;i+=1){var a=r[i];t.push(["L",a.x,a.y])}e&&t.push(["Z"])}return t}function DQ(r,e){for(var t=[r[0]],i=1,n=r.length;i<n;i=i+2){var a=e.convert({x:r[i],y:r[i+1]});t.push(a.x,a.y)}return t}function $2t(r,e){var t=e.isTransposed,i=r[1],n=r[6],a=r[7],o=e.convert({x:n,y:a}),s=t?0:1;return["A",i,i,0,0,s,o.x,o.y]}function Q_e(r,e,t){var i=t.isTransposed,n=t.startAngle,a=t.endAngle,o=r[0].toLowerCase()==="a"?{x:r[6],y:r[7]}:{x:r[1],y:r[2]},s={x:e[1],y:e[2]},l=[],u=i?"y":"x",f=Math.abs(s[u]-o[u])*(a-n),c=s[u]>=o[u]?1:0,h=f>Math.PI?1:0,d=t.convert(s),v=Wb(t,d);if(v>=.5)if(f===Math.PI*2){var p={x:(s.x+o.x)/2,y:(s.y+o.y)/2},g=t.convert(p);l.push(["A",v,v,0,h,c,g.x,g.y]),l.push(["A",v,v,0,h,c,d.x,d.y])}else l.push(["A",v,v,0,h,c,d.x,d.y]);return l}function $_e(r){(0,az.each)(r,function(e,t){var i=e;if(i[0].toLowerCase()==="a"){var n=r[t-1],a=r[t+1];a&&a[0].toLowerCase()==="a"?n&&n[0].toLowerCase()==="l"&&(n[0]="M"):n&&n[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var J_e=function(r,e,t,i){var n,a=[],o=!!i,s,l,u,f,c,h,d;if(o){n=Rt(i,2),u=n[0],f=n[1];for(var v=0,p=r.length;v<p;v++){var g=r[v];u=Pe.vec2.min([0,0],u,g),f=Pe.vec2.max([0,0],f,g)}}for(var v=0,m=r.length;v<m;v++){var g=r[v];if(v===0&&!t)d=g;else if(v===m-1&&!t)h=g,a.push(d),a.push(h);else{s=r[t?v?v-1:m-1:v-1],l=r[t?(v+1)%m:v+1];var y=[0,0];y=Pe.vec2.sub(y,l,s),y=Pe.vec2.scale(y,y,e);var x=Pe.vec2.distance(g,s),b=Pe.vec2.distance(g,l),_=x+b;_!==0&&(x/=_,b/=_);var M=Pe.vec2.scale([0,0],y,-x),A=Pe.vec2.scale([0,0],y,b);h=Pe.vec2.add([0,0],g,M),c=Pe.vec2.add([0,0],g,A),c=Pe.vec2.min([0,0],c,Pe.vec2.max([0,0],l,g)),c=Pe.vec2.max([0,0],c,Pe.vec2.min([0,0],l,g)),M=Pe.vec2.sub([0,0],c,g),M=Pe.vec2.scale([0,0],M,-x/b),h=Pe.vec2.add([0,0],g,M),h=Pe.vec2.min([0,0],h,Pe.vec2.max([0,0],s,g)),h=Pe.vec2.max([0,0],h,Pe.vec2.min([0,0],s,g)),A=Pe.vec2.sub([0,0],g,h),A=Pe.vec2.scale([0,0],A,b/x),c=Pe.vec2.add([0,0],g,A),o&&(h=Pe.vec2.max([0,0],h,u),h=Pe.vec2.min([0,0],h,f),c=Pe.vec2.max([0,0],c,u),c=Pe.vec2.min([0,0],c,f)),a.push(d),a.push(h),d=c}}return t&&a.push(a.shift()),a};function FQ(r,e,t){for(var i=!!e,n=[],a=0,o=r.length;a<o;a+=2)n.push([r[a],r[a+1]]);for(var s=J_e(n,.4,i,t),l=n.length,u=[],f,c,h,a=0;a<l-1;a++)f=s[a*2],c=s[a*2+1],h=n[a+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return i&&(f=s[l],c=s[l+1],h=n[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}function T0(r,e){return K_e(r,e)}function EC(r,e,t){var i=[],n=r[0],a=null;if(r.length<=2)return T0(r,e);for(var o=0,s=r.length;o<s;o++){var l=r[o];(!a||!(a.x===l.x&&a.y===l.y))&&(i.push(l.x),i.push(l.y),a=l)}var u=t||[[0,0],[1,1]],f=FQ(i,e,u);return f.unshift(["M",n.x,n.y]),f}function J2t(r,e){var t=[];return(0,az.each)(e,function(i){var n=i[0];switch(n.toLowerCase()){case"m":case"l":case"c":t.push(DQ(i,r));break;case"a":t.push($2t(i,r));break;case"z":default:t.push(i);break}}),t}function tTt(r,e){var t=[],i,n,a,o;return(0,az.each)(e,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(DQ(s,r));break;case"l":i=e[l-1],n=s,a=r.isTransposed,o=a?i[i.length-2]===n[1]:i[i.length-1]===n[2],o?t=t.concat(Q_e(i,n,r)):t.push(DQ(s,r));break;case"a":t.push($2t(s,r));break;case"z":default:t.push(s);break}}),$_e(t),t}function eTt(r,e){var t=r.event,i=t.target;return iTt(i,e)}function rTt(r,e){var t=r.getCanvasBBox(),i=t.width,n=t.height;return i>0&&n>0&&(i>=e||n>=e)}function iTt(r,e){var t=r.getCanvasBBox();return rTt(r,e)?t:null}function nTt(r,e){var t=r.event.maskShapes;return t.map(function(i){return iTt(i,e)}).filter(function(i){return!!i})}function tSe(r,e){var t=r.event,i=t.target;return aTt(i,e)}function aTt(r,e){return rTt(r,e)?r.attr("path"):null}function eSe(r,e){var t=r.event.maskShapes;return t.map(function(i){return aTt(i,e)})}function ih(r){var e=r.event,t,i=e.target;return i&&(t=i.get("element")),t}function nh(r){var e=r.event,t=e.target,i;return t&&(i=t.get("delegateObject")),i}function oz(r){var e=r.event.gEvent;return!(e&&e.fromShape&&e.toShape&&e.fromShape.get("element")===e.toShape.get("element"))}function I0(r){return r&&r.component&&r.component.isList()}function sz(r){return r&&r.component&&r.component.isSlider()}function L0(r){var e=r.event,t=e.target;return t&&(t==null?void 0:t.get("name"))==="mask"||XP(r)}function XP(r){var e;return((e=r.event.target)===null||e===void 0?void 0:e.get("name"))==="multi-mask"}function S2(r,e){var t=r.event.target;if(XP(r))return rSe(r,e);if(t.get("type")==="path"){var i=tSe(r,e);return i?uTt(r.view,i):void 0}var n=eTt(r,e);return n?KP(r.view,n):null}function rSe(r,e){var t=r.event.target;if(t.get("type")==="path"){var i=eSe(r,e);return i.length>0?i.flatMap(function(a){return uTt(r.view,a)}):null}var n=nTt(r,e);return n.length>0?n.flatMap(function(a){return KP(r.view,a)}):null}function lz(r,e,t){if(XP(r))return iSe(r,e,t);var i=eTt(r,t);return i?oTt(i,r,e):null}function oTt(r,e,t){var i=e.view,n=fz(i,t,{x:r.x,y:r.y}),a=fz(i,t,{x:r.maxX,y:r.maxY}),o={minX:n.x,minY:n.y,maxX:a.x,maxY:a.y};return KP(t,o)}function iSe(r,e,t){var i=nTt(r,t);return i.length>0?i.flatMap(function(n){return oTt(n,r,e)}):null}function Ka(r){var e=r.geometries,t=[];return(0,hd.each)(e,function(i){var n=i.elements;t=t.concat(n)}),r.views&&r.views.length&&(0,hd.each)(r.views,function(i){t=t.concat(Ka(i))}),t}function sTt(r,e,t){var i=Ka(r);return i.filter(function(n){return Gl(n,e)===t})}function ZP(r,e){var t=r.geometries,i=[];return(0,hd.each)(t,function(n){var a=n.getElementsBy(function(o){return o.hasState(e)});i=i.concat(a)}),r.views&&r.views.length&&(0,hd.each)(r.views,function(n){i.push.apply(i,ne([],Rt(ZP(n,e)),!1))}),i}function Gl(r,e){var t=r.getModel(),i=t.data,n;return(0,hd.isArray)(i)?n=i[0][e]:n=i[e],n}function nSe(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function KP(r,e){var t=Ka(r),i=[];return(0,hd.each)(t,function(n){var a=n.shape,o=a.getCanvasBBox();nSe(e,o)&&i.push(n)}),i}function lTt(r){var e=[];return(0,hd.each)(r,function(t){var i=t[0];if(i!=="A")for(var n=1;n<t.length;n=n+2)e.push([t[n],t[n+1]]);else{var a=t.length;e.push([t[a-2],t[a-1]])}}),e}function uTt(r,e){var t=Ka(r),i=lTt(e),n=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=lTt(o.attr("path"));else{var l=o.getCanvasBBox();s=z2t(l)}return mG(i,s)});return n}function uz(r){return r.getComponents().map(function(e){return e.component})}function C2(r,e){var t=e.x-r.x,i=e.y-r.y;return Math.sqrt(t*t+i*i)}function fTt(r,e){if(r.length<=2)return T0(r,!1);var t=r[0],i=[];(0,hd.each)(r,function(a){i.push(a.x),i.push(a.y)});var n=FQ(i,e,null);return n.unshift(["M",t.x,t.y]),n}function NQ(r,e){return r.x<=e.x&&r.maxX>=e.x&&r.y<=e.y&&r.maxY>e.y}function ic(r){var e=r.parent,t=null;return e&&(t=e.views.filter(function(i){return i!==r})),t}function aSe(r,e){var t=r.getCoordinate();return t.invert(e)}function fz(r,e,t){var i=aSe(r,t);return e.getCoordinate().convert(i)}function cz(r,e,t,i){var n=!1;return(0,hd.each)(r,function(a){if(a[t]===e[t]&&a[i]===e[i])return n=!0,!1}),n}function Pg(r,e){var t=r.getScaleByField(e);return!t&&r.views&&(0,hd.each)(r.views,function(i){if(t=Pg(i,e),t)return!1}),t}var oSe=function(){function r(e){this.actions=[],this.event=null,this.cacheMap={},this.view=e}return r.prototype.cache=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length===1)return this.cacheMap[e[0]];e.length===2&&(this.cacheMap[e[0]]=e[1])},r.prototype.getAction=function(e){return this.actions.find(function(t){return t.name===e})},r.prototype.addAction=function(e){this.actions.push(e)},r.prototype.removeAction=function(e){var t=this.actions,i=this.actions.indexOf(e);i>=0&&t.splice(i,1)},r.prototype.getCurrentPoint=function(){var e=this.event;if(e)if(e.target instanceof HTMLElement){var t=this.view.getCanvas(),i=t.getPointByClient(e.clientX,e.clientY);return i}else return{x:e.x,y:e.y};return null},r.prototype.getCurrentShape=function(){return(0,hz.get)(this.event,["gEvent","shape"])},r.prototype.isInPlot=function(){var e=this.getCurrentPoint();return e?this.view.isPointInPlot(e):!1},r.prototype.isInShape=function(e){var t=this.getCurrentShape();return t?t.get("name")===e:!1},r.prototype.isInComponent=function(e){var t=uz(this.view),i=this.getCurrentPoint();return i?!!t.find(function(n){var a=n.getBBox();return e?n.get("name")===e&&NQ(a,i):NQ(a,i)}):!1},r.prototype.destroy=function(){(0,hz.each)(this.actions.slice(),function(e){e.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},r}(),cTt=oSe;var sSe=function(){function r(e,t){this.view=e,this.cfg=t}return r.prototype.init=function(){this.initEvents()},r.prototype.initEvents=function(){},r.prototype.clearEvents=function(){},r.prototype.destroy=function(){this.clearEvents()},r}(),QP=sSe;function hTt(r,e,t){var i=r.split(":"),n=i[0],a=e.getAction(n)||PQ(n,e);if(!a)throw new Error("There is no action named ".concat(n));var o=i[1];return{action:a,methodName:o,arg:t}}function dTt(r){var e=r.action,t=r.methodName,i=r.arg;if(e[t])e[t](i);else throw new Error("Action(".concat(e.name,") doesn't have a method called ").concat(t))}var ah={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},lSe=function(r){G(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.callbackCaches={},n.emitCaches={},n.steps=i,n}return e.prototype.init=function(){this.initContext(),r.prototype.init.call(this)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},e.prototype.initEvents=function(){var t=this;(0,ys.each)(this.steps,function(i,n){(0,ys.each)(i,function(a){var o=t.getActionCallback(n,a);o&&t.bindEvent(a.trigger,o)})})},e.prototype.clearEvents=function(){var t=this;(0,ys.each)(this.steps,function(i,n){(0,ys.each)(i,function(a){var o=t.getActionCallback(n,a);o&&t.offEvent(a.trigger,o)})})},e.prototype.initContext=function(){var t=this.view,i=new cTt(t);this.context=i;var n=this.steps;(0,ys.each)(n,function(a){(0,ys.each)(a,function(o){if((0,ys.isFunction)(o.action))o.actionObject={action:Q2t(o.action,i),methodName:"execute"};else if((0,ys.isString)(o.action))o.actionObject=hTt(o.action,i,o.arg);else if((0,ys.isArray)(o.action)){var s=o.action,l=(0,ys.isArray)(o.arg)?o.arg:[o.arg];o.actionObject=[],(0,ys.each)(s,function(u,f){o.actionObject.push(hTt(u,i,l[f]))})}})})},e.prototype.isAllowStep=function(t){var i=this.currentStepName,n=this.steps;if(i===t||t===ah.SHOW_ENABLE)return!0;if(t===ah.PROCESSING)return i===ah.START;if(t===ah.START)return i!==ah.PROCESSING;if(t===ah.END)return i===ah.PROCESSING||i===ah.START;if(t===ah.ROLLBACK){if(n[ah.END])return i===ah.END;if(i===ah.START)return!0}return!1},e.prototype.isAllowExecute=function(t,i){if(this.isAllowStep(t)){var n=this.getKey(t,i);return i.once&&this.emitCaches[n]?!1:i.isEnable?i.isEnable(this.context):!0}return!1},e.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},e.prototype.afterExecute=function(t,i){t!==ah.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var n=this.getKey(t,i);this.emitCaches[n]=!0},e.prototype.getKey=function(t,i){return t+i.trigger+i.action},e.prototype.getActionCallback=function(t,i){var n=this,a=this.context,o=this.callbackCaches,s=i.actionObject;if(i.action&&s){var l=this.getKey(t,i);if(!o[l]){var u=function(f){a.event=f,n.isAllowExecute(t,i)?((0,ys.isArray)(s)?(0,ys.each)(s,function(c){a.event=f,dTt(c)}):(a.event=f,dTt(s)),n.afterExecute(t,i),i.callback&&(a.event=f,i.callback(a))):a.event=null};i.debounce?o[l]=(0,ys.debounce)(u,i.debounce.wait,i.debounce.immediate):i.throttle?o[l]=(0,ys.throttle)(u,i.throttle.wait,{leading:i.throttle.leading,trailing:i.throttle.trailing}):o[l]=u}return o[l]}return null},e.prototype.bindEvent=function(t,i){var n=t.split(":");n[0]==="window"?window.addEventListener(n[1],i):n[0]==="document"?document.addEventListener(n[1],i):this.view.on(t,i)},e.prototype.offEvent=function(t,i){var n=t.split(":");n[0]==="window"?window.removeEventListener(n[1],i):n[0]==="document"?document.removeEventListener(n[1],i):this.view.off(t,i)},e}(QP),vTt=lSe;var pTt={};function BQ(r){return pTt[(0,O0.lowerCase)(r)]}function Vr(r,e){pTt[(0,O0.lowerCase)(r)]=e}function gTt(r,e,t){var i=BQ(r);if(!i)return null;if((0,O0.isPlainObject)(i)){var n=(0,O0.mix)((0,O0.clone)(i),t);return new vTt(e,n)}else{var a=i;return new a(e,t)}}var $P=et(ot());var mTt=et(ot());var RQ=et(ot());function uSe(r){return{title:{autoRotate:!0,position:"center",spacing:r.axisTitleSpacing,style:{fill:r.axisTitleTextFillColor,fontSize:r.axisTitleTextFontSize,lineHeight:r.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily},iconStyle:{fill:r.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:r.axisLabelOffset,style:{fill:r.axisLabelFillColor,fontSize:r.axisLabelFontSize,lineHeight:r.axisLabelLineHeight,fontFamily:r.fontFamily}},line:{style:{lineWidth:r.axisLineBorder,stroke:r.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:r.axisGridBorderColor,lineWidth:r.axisGridBorder,lineDash:r.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:r.axisTickLineBorder,stroke:r.axisTickLineBorderColor},alignTick:!0,length:r.axisTickLineLength},subTickLine:null,animate:!0}}function fSe(r){return{title:null,marker:{symbol:"circle",spacing:r.legendMarkerSpacing,style:{r:r.legendCircleMarkerSize,fill:r.legendMarkerColor}},itemName:{spacing:5,style:{fill:r.legendItemNameFillColor,fontFamily:r.fontFamily,fontSize:r.legendItemNameFontSize,lineHeight:r.legendItemNameLineHeight,fontWeight:r.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:r.legendPageNavigatorMarkerSize,inactiveFill:r.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:r.legendPageNavigatorMarkerInactiveFillOpacity,fill:r.legendPageNavigatorMarkerFillColor,opacity:r.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:r.legendPageNavigatorTextFillColor,fontSize:r.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:r.legendItemSpacing,itemMarginBottom:r.legendItemMarginBottom,padding:r.legendPadding}}function dz(r){var e,t={point:{default:{fill:r.pointFillColor,r:r.pointSize,stroke:r.pointBorderColor,lineWidth:r.pointBorder,fillOpacity:r.pointFillOpacity},active:{stroke:r.pointActiveBorderColor,lineWidth:r.pointActiveBorder},selected:{stroke:r.pointSelectedBorderColor,lineWidth:r.pointSelectedBorder},inactive:{fillOpacity:r.pointInactiveFillOpacity,strokeOpacity:r.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:r.hollowPointFillColor,lineWidth:r.hollowPointBorder,stroke:r.hollowPointBorderColor,strokeOpacity:r.hollowPointBorderOpacity,r:r.hollowPointSize},active:{stroke:r.hollowPointActiveBorderColor,strokeOpacity:r.hollowPointActiveBorderOpacity},selected:{lineWidth:r.hollowPointSelectedBorder,stroke:r.hollowPointSelectedBorderColor,strokeOpacity:r.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:r.hollowPointInactiveBorderOpacity}},area:{default:{fill:r.areaFillColor,fillOpacity:r.areaFillOpacity,stroke:null},active:{fillOpacity:r.areaActiveFillOpacity},selected:{fillOpacity:r.areaSelectedFillOpacity},inactive:{fillOpacity:r.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:r.hollowAreaBorderColor,lineWidth:r.hollowAreaBorder,strokeOpacity:r.hollowAreaBorderOpacity},active:{fill:null,lineWidth:r.hollowAreaActiveBorder},selected:{fill:null,lineWidth:r.hollowAreaSelectedBorder},inactive:{strokeOpacity:r.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:r.intervalFillColor,fillOpacity:r.intervalFillOpacity},active:{stroke:r.intervalActiveBorderColor,lineWidth:r.intervalActiveBorder},selected:{stroke:r.intervalSelectedBorderColor,lineWidth:r.intervalSelectedBorder},inactive:{fillOpacity:r.intervalInactiveFillOpacity,strokeOpacity:r.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:r.hollowIntervalFillColor,stroke:r.hollowIntervalBorderColor,lineWidth:r.hollowIntervalBorder,strokeOpacity:r.hollowIntervalBorderOpacity},active:{stroke:r.hollowIntervalActiveBorderColor,lineWidth:r.hollowIntervalActiveBorder,strokeOpacity:r.hollowIntervalActiveBorderOpacity},selected:{stroke:r.hollowIntervalSelectedBorderColor,lineWidth:r.hollowIntervalSelectedBorder,strokeOpacity:r.hollowIntervalSelectedBorderOpacity},inactive:{stroke:r.hollowIntervalInactiveBorderColor,lineWidth:r.hollowIntervalInactiveBorder,strokeOpacity:r.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:r.lineBorderColor,lineWidth:r.lineBorder,strokeOpacity:r.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:r.lineActiveBorder},selected:{lineWidth:r.lineSelectedBorder},inactive:{strokeOpacity:r.lineInactiveBorderOpacity}}},i=uSe(r),n=fSe(r);return{background:r.backgroundColor,defaultColor:r.brandColor,subColor:r.subColor,semanticRed:r.paletteSemanticRed,semanticGreen:r.paletteSemanticGreen,padding:"auto",fontFamily:r.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:r.paletteQualitative10,colors20:r.paletteQualitative20,sequenceColors:r.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=M0(a.getModel(),o),l=s.startAngle,u=s.endAngle,f=(l+u)/2,c=7.5,h=c*Math.cos(f),d=c*Math.sin(f);return{matrix:Wr.transform(null,[["t",h,d]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:S(S({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:S(S({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:S(S({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:S(S({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:S(S({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:S(S({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:S(S({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:S(S({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:i,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,RQ.deepMix)({},i.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,RQ.deepMix)({},i.grid,{line:{type:"circle"}})}},legend:{common:n,right:{layout:"vertical",padding:r.legendVerticalPadding},left:{layout:"vertical",padding:r.legendVerticalPadding},top:{layout:"horizontal",padding:r.legendHorizontalPadding},bottom:{layout:"horizontal",padding:r.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:r.sliderRailHeight,defaultLength:r.sliderRailWidth,style:{fill:r.sliderRailFillColor,stroke:r.sliderRailBorderColor,lineWidth:r.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:r.sliderLabelTextFillColor,fontSize:r.sliderLabelTextFontSize,lineHeight:r.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:r.fontFamily}},handler:{size:r.sliderHandlerWidth,style:{fill:r.sliderHandlerFillColor,stroke:r.sliderHandlerBorderColor}},slidable:!0,padding:n.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:r.tooltipCrosshairsBorderColor,lineWidth:r.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(e={},e["".concat(es.CONTAINER_CLASS)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:r.tooltipContainerFillColor,opacity:r.tooltipContainerFillOpacity,boxShadow:r.tooltipContainerShadow,borderRadius:"".concat(r.tooltipContainerBorderRadius,"px"),color:r.tooltipTextFillColor,fontSize:"".concat(r.tooltipTextFontSize,"px"),fontFamily:r.fontFamily,lineHeight:"".concat(r.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},e["".concat(es.TITLE_CLASS)]={marginBottom:"12px",marginTop:"12px"},e["".concat(es.LIST_CLASS)]={margin:0,listStyleType:"none",padding:0},e["".concat(es.LIST_ITEM_CLASS)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},e["".concat(es.MARKER_CLASS)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},e["".concat(es.VALUE_CLASS)]={display:"inline-block",float:"right",marginLeft:"30px"},e)},annotation:{arc:{style:{stroke:r.annotationArcBorderColor,lineWidth:r.annotationArcBorder},animate:!0},line:{style:{stroke:r.annotationLineBorderColor,lineDash:r.annotationLineDash,lineWidth:r.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textAlign:"start",fontFamily:r.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:r.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:r.annotationRegionBorder,stroke:r.annotationRegionBorderColor,fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:r.brandColor,lineWidth:2}},line:{style:{stroke:r.annotationLineBorderColor,lineWidth:r.annotationLineBorder},length:r.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:r.annotationRegionFillColor,fillOpacity:r.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:r.annotationTextFillColor,stroke:r.annotationTextBorderColor,lineWidth:r.annotationTextBorder,fontSize:r.annotationTextFontSize,fontFamily:r.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:r.cSliderBackgroundFillColor,opacity:r.cSliderBackgroundFillOpacity},foregroundStyle:{fill:r.cSliderForegroundFillColor,opacity:r.cSliderForegroundFillOpacity},handlerStyle:{width:r.cSliderHandlerWidth,height:r.cSliderHandlerHeight,fill:r.cSliderHandlerFillColor,opacity:r.cSliderHandlerFillOpacity,stroke:r.cSliderHandlerBorderColor,lineWidth:r.cSliderHandlerBorder,radius:r.cSliderHandlerBorderRadius,highLightFill:r.cSliderHandlerHighlightFillColor},textStyle:{fill:r.cSliderTextFillColor,opacity:r.cSliderTextFillOpacity,fontSize:r.cSliderTextFontSize,lineHeight:r.cSliderTextLineHeight,fontWeight:r.cSliderTextFontWeight,stroke:r.cSliderTextBorderColor,lineWidth:r.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:r.scrollbarTrackFillColor,thumbColor:r.scrollbarThumbFillColor}},hover:{style:{thumbColor:r.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:r.labelFillColor,fontSize:r.labelFontSize,fontFamily:r.fontFamily,stroke:r.labelBorderColor,lineWidth:r.labelBorder},fillColorDark:r.labelFillColorDark,fillColorLight:r.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:r.innerLabelFillColor,fontSize:r.innerLabelFontSize,fontFamily:r.fontFamily,stroke:r.innerLabelBorderColor,lineWidth:r.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:r.overflowLabelFillColor,fontSize:r.overflowLabelFontSize,fontFamily:r.fontFamily,stroke:r.overflowLabelBorderColor,lineWidth:r.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:r.labelLineBorder}},autoRotate:!0}}}var Xn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},M2={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},cSe=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],hSe=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],dSe=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],GQ=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?cSe:e,i=r.paletteQualitative20,n=i===void 0?hSe:i,a=r.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:dSe,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Xn[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Xn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:M2[85],axisTickLineBorderColor:Xn[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Xn[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Xn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Xn[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Xn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Xn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Xn[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Xn[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Xn[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Xn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Xn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Xn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Xn[25],annotationArcBorderColor:Xn[15],annotationArcBorder:1,annotationLineBorderColor:Xn[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Xn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Xn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Xn[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Xn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Xn[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:M2[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Xn[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:M2[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Xn[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:M2[100],pointBorderOpacity:1,pointActiveBorderColor:Xn[100],pointSelectedBorder:2,pointSelectedBorderColor:Xn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:M2[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Xn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Xn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Xn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Xn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Xn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Xn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:M2[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Xn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Xn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return S(S({},s),r)},qci=GQ();function TC(r){var e=r.styleSheet,t=e===void 0?{}:e,i=Ze(r,["styleSheet"]),n=GQ(t);return(0,mTt.deepMix)({},dz(n),i)}var vSe=TC({}),zQ={default:vSe};function Dg(r){return(0,$P.get)(zQ,(0,$P.lowerCase)(r),zQ.default)}function vz(r,e){zQ[(0,$P.lowerCase)(r)]=TC(e)}var aa=et(ot());function yTt(r,e,t){var i=t.translate(r),n=t.translate(e);return(0,aa.isNumberEqual)(i,n)}function pSe(r,e){var t=e.coordinate,i=e.getXScale(),n=i.range,a=n[n.length-1],o=n[0],s=t.invert(r),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),i.translate(i.invert(l))}function xTt(r,e,t){var i=t.coordinate,n=t.getYScale(),a=n.field,o=i.invert(e),s=n.invert(o.y),l=(0,aa.find)(r,function(u){var f=u[sn];return f[a][0]<=s&&f[a][1]>=s});return l||r[r.length-1]}var gSe=(0,aa.memoize)(function(r){if(r.isCategory)return 1;for(var e=r.values,t=e.length,i=r.translate(e[0]),n=i,a=0;a<t;a++){var o=e[a],s=r.translate(o);s<i&&(i=s),s>n&&(n=s)}return(n-i)/(t-1)});function mSe(r,e,t){var i=e.getAttribute("position"),n=i.getFields(),a=e.scales,o=(0,aa.isFunction)(t)||!t?n[0]:t,s=a[o],l=s?s.getText(r[o]):r[o]||o;return(0,aa.isFunction)(t)?t(l,r):l}function ySe(r){var e=(0,aa.values)(r.attributes);return(0,aa.filter)(e,function(t){return(0,aa.contains)(h0,t.type)})}function bTt(r){var e,t,i=ySe(r),n;try{for(var a=er(i),o=a.next();!o.done;o=a.next()){var s=o.value,l=s.getScale(s.type);if(l&&l.isLinear){var u=(0,aa.get)(r.scaleDefs,l.field),f=ez(l,u,s.type,r.type);if(f!=="cat"){n=l;break}}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}var c=r.getXScale(),h=r.getYScale();return n||h||c}function xSe(r,e){var t=e.field,i=r[t];if((0,aa.isArray)(i)){var n=i.map(function(a){return e.getText(a)});return n.join("-")}return e.getText(i)}function bSe(r,e){var t,i=e.getGroupScales();if(i.length&&(t=i[0]),t){var n=t.field;return t.getText(r[n])}var a=bTt(e);return Vb(a)}function jQ(r,e,t){if(e.length===0)return null;var i=t.type,n=t.getXScale(),a=t.getYScale(),o=n.field,s=a.field,l=null;if(i==="heatmap"||i==="point"){for(var u=t.coordinate,f=u.invert(r),c=n.invert(f.x),h=a.invert(f.y),d=1/0,v=0;v<e.length;v++){var p=e[v],g=p[sn],m=Math.pow(g[o]-c,2)+Math.pow(g[s]-h,2);m<d&&(d=m,l=p)}return l}var y=e[0],x=e[e.length-1],b=pSe(r,t),_=y[sn][o],M=y[sn][s],A=x[sn][o],I=a.isLinear&&(0,aa.isArray)(M);if((0,aa.isArray)(_)){for(var v=0;v<e.length;v++){var k=e[v],g=k[sn];if(n.translate(g[o][0])<=b&&n.translate(g[o][1])>=b)if(I)(0,aa.isArray)(l)||(l=[]),l.push(k);else{l=k;break}}(0,aa.isArray)(l)&&(l=xTt(l,r,t))}else{var E=void 0;if(!n.isLinear&&n.type!=="timeCat"){for(var v=0;v<e.length;v++){var k=e[v],g=k[sn];if(yTt(g[o],b,n))if(I)(0,aa.isArray)(l)||(l=[]),l.push(k);else{l=k;break}else n.translate(g[o])<=b&&(x=k,E=e[v+1])}(0,aa.isArray)(l)&&(l=xTt(l,r,t))}else{if((b>n.translate(A)||b<n.translate(_))&&(b>n.max||b<n.min))return null;for(var O=0,P=e.length-1,N=void 0;O<=P;){N=Math.floor((O+P)/2);var R=e[N][sn][o];if(yTt(R,b,n))return e[N];n.translate(R)<=n.translate(b)?(O=N+1,x=e[N],E=e[N+1]):(P===0&&(x=e[0]),P=N-1)}}x&&E&&Math.abs(n.translate(x[sn][o])-b)>Math.abs(n.translate(E[sn][o])-b)&&(x=E)}var z=gSe(t.getXScale());return!l&&Math.abs(n.translate(x[sn][o])-b)<=z/2&&(l=x),l}function pz(r,e,t,i){var n,a;t===void 0&&(t=""),i===void 0&&(i=!1);var o=r[sn],s=mSe(o,e,t),l=e.tooltipOption,u=e.theme.defaultColor,f=[],c,h;function d(k,E){if(i||!(0,aa.isNil)(E)&&E!==""){var O={title:s,data:o,mappingData:r,name:k,value:E,color:r.color||u,marker:!0};f.push(O)}}if((0,aa.isObject)(l)){var v=l.fields,p=l.callback;if(p){var g=v.map(function(k){return r[sn][k]}),m=p.apply(void 0,ne([],Rt(g),!1)),y=S({data:r[sn],mappingData:r,title:s,color:r.color||u,marker:!0},m);f.push(y)}else{var x=e.scales;try{for(var b=er(v),_=b.next();!_.done;_=b.next()){var M=_.value;if(!(0,aa.isNil)(o[M])){var A=x[M];c=Vb(A),h=A.getText(o[M]),d(c,h)}}}catch(k){n={error:k}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}}}else{var I=bTt(e);h=xSe(o,I),c=bSe(o,e),d(c,h)}return f}function wTt(r,e,t,i){var n,a,o=i.showNil,s=[],l=r.dataArray;if(!(0,aa.isEmpty)(l)){r.sort(l);try{for(var u=er(l),f=u.next();!f.done;f=u.next()){var c=f.value,h=jQ(e,c,r);if(h){var d=r.getElementId(h),v=r.elementsMap[d];if(r.type==="heatmap"||v.visible){var p=pz(h,r,t,o);p.length&&s.push(p)}}}}catch(g){n={error:g}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}}return s}function _Tt(r,e,t,i){var n=i.showNil,a=[],o=r.container,s=o.getShape(e.x,e.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=pz(l,r,t,n);u.length&&a.push(u)}return a}function gz(r,e,t){var i,n,a=[],o=r.geometries,s=t.shared,l=t.title,u=t.reversed;try{for(var f=er(o),c=f.next();!c.done;c=f.next()){var h=c.value;if(h.visible&&h.tooltipOption!==!1){var d=h.type,v=void 0;["point","edge","polygon"].includes(d)?v=_Tt(h,e,l,t):["area","line","path","heatmap"].includes(d)||s!==!1?v=wTt(h,e,l,t):v=_Tt(h,e,l,t),v.length&&(u&&v.reverse(),a.push(v))}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}return a}function STt(r,e,t){var i,n,a=gz(r,e,t);try{for(var o=er(r.views),s=o.next();!s.done;s=o.next()){var l=s.value;a=a.concat(gz(l,e,t))}}catch(u){i={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var JP=et(ot());function CTt(r){return!(0,JP.isNumber)(r)&&!(0,JP.isArray)(r)}function A2(r){r===void 0&&(r=0);var e=(0,JP.isArray)(r)?r:[r];switch(e.length){case 0:e=[0,0,0,0];break;case 1:e=new Array(4).fill(e[0]);break;case 2:e=ne(ne([],Rt(e),!1),Rt(e),!1);break;case 3:e=ne(ne([],Rt(e),!1),[e[1]],!1);break;default:e=e.slice(0,4);break}return e}var YQ={};function dd(r,e){YQ[r]=e}function MTt(){return Object.keys(YQ)}function ATt(r){return YQ[r]}var E2=et(ot());var wSe=function(){function r(e){this.option=this.wrapperOption(e)}return r.prototype.update=function(e){return this.option=this.wrapperOption(e),this},r.prototype.hasAction=function(e){var t=this.option.actions;return(0,E2.some)(t,function(i){return i[0]===e})},r.prototype.create=function(e,t){var i=this.option,n=i.type,a=i.cfg,o=n==="theta",s=S({start:e,end:t},a),l=DG(o?"polar":n);return this.coordinate=new l(s),this.coordinate.type=n,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},r.prototype.adjust=function(e,t){return this.coordinate.update({start:e,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},r.prototype.rotate=function(e){return this.option.actions.push(["rotate",e]),this},r.prototype.reflect=function(e){return this.option.actions.push(["reflect",e]),this},r.prototype.scale=function(e,t){return this.option.actions.push(["scale",e,t]),this},r.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},r.prototype.getOption=function(){return this.option},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.wrapperOption=function(e){return S({type:"rect",actions:[],cfg:{}},e)},r.prototype.execActions=function(e){var t=this,i=this.option.actions;(0,E2.each)(i,function(n){var a,o=Rt(n),s=o[0],l=o.slice(1),u=(0,E2.isNil)(e)?!0:e.includes(s);u&&(a=t.coordinate)[s].apply(a,ne([],Rt(l),!1))})},r}(),ETt=wSe;var _Se=function(){function r(e,t,i){this.view=e,this.gEvent=t,this.data=i,this.type=t.type}return r.fromData=function(e,t,i){return new r(e,new ad(t,{}),i)},Object.defineProperty(r.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),r.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},r.prototype.clone=function(){return new r(this.view,this.gEvent,this.data)},r}(),wn=_Se;function WQ(r){var e=r.getController("axis"),t=r.getController("legend"),i=r.getController("annotation"),n=r.getController("slider"),a=r.getController("scrollbar");[e,n,a,t,i].forEach(function(o){o&&o.layout()})}var rf=et(ot());var TTt=function(){function r(){this.scales=new Map,this.syncScales=new Map}return r.prototype.createScale=function(e,t,i,n){var a=i,o=this.getScaleMeta(n);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,rf.deepMix)(l,o.scaleDef,i)}var u=V2t(e,t,a);return this.cacheScale(u,i,n),u},r.prototype.sync=function(e,t){var i=this;this.syncScales.forEach(function(n,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];(0,rf.each)(n,function(u){var f=i.getScale(u);s=(0,rf.isNumber)(f.max)?Math.max(s,f.max):s,o=(0,rf.isNumber)(f.min)?Math.min(o,f.min):o,(0,rf.each)(f.values,function(c){l.includes(c)||l.push(c)})}),(0,rf.each)(n,function(u){var f=i.getScale(u);if(f.isContinuous)f.change({min:o,max:s,values:l});else if(f.isCategory){var c=f.range,h=i.getScaleMeta(u);l&&!(0,rf.get)(h,["scaleDef","range"])&&(c=rz((0,rf.deepMix)({},f,{values:l}),e,t)),f.change({values:l,range:c})}})})},r.prototype.cacheScale=function(e,t,i){var n=this.getScaleMeta(i);n&&n.scale.type===e.type?(q2t(n.scale,e),n.scaleDef=t):(n={key:i,scale:e,scaleDef:t},this.scales.set(i,n));var a=this.getSyncKey(n);if(n.syncKey=a,this.removeFromSyncScales(i),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(i)}},r.prototype.getScale=function(e){var t=this.getScaleMeta(e);if(!t){var i=(0,rf.last)(e.split("-")),n=this.syncScales.get(i);n&&n.length&&(t=this.getScaleMeta(n[0]))}return t&&t.scale},r.prototype.deleteScale=function(e){var t=this.getScaleMeta(e);if(t){var i=t.syncKey,n=this.syncScales.get(i);if(n&&n.length){var a=n.indexOf(e);a!==-1&&n.splice(a,1)}}this.scales.delete(e)},r.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},r.prototype.removeFromSyncScales=function(e){var t=this;this.syncScales.forEach(function(i,n){var a=i.indexOf(e);if(a!==-1)return i.splice(a,1),i.length===0&&t.syncScales.delete(n),!1})},r.prototype.getSyncKey=function(e){var t=e.scale,i=e.scaleDef,n=t.field,a=(0,rf.get)(i,["sync"]);return a===!0?n:a===!1?void 0:a},r.prototype.getScaleMeta=function(e){return this.scales.get(e)},r}();var T2=function(){function r(e,t,i,n){e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),this.top=e,this.right=t,this.bottom=i,this.left=n}return r.instance=function(e,t,i,n){return e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=0),n===void 0&&(n=0),new r(e,t,i,n)},r.prototype.max=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return this.top=Math.max(this.top,i),this.right=Math.max(this.right,n),this.bottom=Math.max(this.bottom,a),this.left=Math.max(this.left,o),this},r.prototype.shrink=function(e){var t=Rt(e,4),i=t[0],n=t[1],a=t[2],o=t[3];return this.top+=i,this.right+=n,this.bottom+=a,this.left+=o,this},r.prototype.inc=function(e,t){var i=e.width,n=e.height;switch(t){case Fe.TOP:case Fe.TOP_LEFT:case Fe.TOP_RIGHT:this.top+=n;break;case Fe.RIGHT:case Fe.RIGHT_TOP:case Fe.RIGHT_BOTTOM:this.right+=i;break;case Fe.BOTTOM:case Fe.BOTTOM_LEFT:case Fe.BOTTOM_RIGHT:this.bottom+=n;break;case Fe.LEFT:case Fe.LEFT_TOP:case Fe.LEFT_BOTTOM:this.left+=i;break;default:break}return this},r.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},r.prototype.clone=function(){return new(r.bind.apply(r,ne([void 0],Rt(this.getPadding()),!1)))},r}();var tD=et(ot());function ITt(r){var e=r.padding;if(!CTt(e))return new(T2.bind.apply(T2,ne([void 0],Rt(A2(e)),!1)));var t=r.viewBBox,i=new T2,n=[],a=[],o=[];return(0,tD.each)(r.getComponents(),function(s){var l=s.type;l===po.AXIS?n.push(s):[po.LEGEND,po.SLIDER,po.SCROLLBAR].includes(l)?a.push(s):l!==po.GRID&&l!==po.TOOLTIP&&o.push(s)}),(0,tD.each)(n,function(s){var l=s.component,u=l.getLayoutBBox(),f=new Oo(u.x,u.y,u.width,u.height),c=f.exceed(t);i.max(c)}),(0,tD.each)(a,function(s){var l=s.component,u=s.direction,f=l.getLayoutBBox(),c=l.get("padding"),h=new Oo(f.x,f.y,f.width,f.height).expand(c);i.inc(h,u)}),(0,tD.each)(o,function(s){var l=s.component,u=s.direction,f=l.getLayoutBBox(),c=new Oo(f.x,f.y,f.width,f.height);i.inc(c,u)}),i}function LTt(r,e,t){var i=t.instance();e.forEach(function(n){n.autoPadding=i.max(n.autoPadding.getPadding())})}var OTt=function(r){G(e,r);function e(t){var i=r.call(this,{visible:t.visible})||this;i.views=[],i.geometries=[],i.controllers=[],i.interactions={},i.limitInPlot=!1,i.options={data:[],animate:!0},i.usedControllers=MTt(),i.scalePool=new TTt,i.layoutFunc=WQ,i.isPreMouseInPlot=!1,i.isDataChanged=!1,i.isCoordinateChanged=!1,i.createdScaleKeys=new Map,i.onCanvasEvent=function(x){var b=x.name;if(!b.includes(":")){var _=i.createViewEvent(x);i.doPlotEvent(_),i.emit(b,_)}},i.onDelegateEvents=function(x){var b=x.name;if(!!b.includes(":")){var _=i.createViewEvent(x);i.emit(b,_)}};var n=t.id,a=n===void 0?(0,wr.uniqueId)("view"):n,o=t.parent,s=t.canvas,l=t.backgroundGroup,u=t.middleGroup,f=t.foregroundGroup,c=t.region,h=c===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:c,d=t.padding,v=t.appendPadding,p=t.theme,g=t.options,m=t.limitInPlot,y=t.syncViewPadding;return i.parent=o,i.canvas=s,i.backgroundGroup=l,i.middleGroup=u,i.foregroundGroup=f,i.region=h,i.padding=d,i.appendPadding=v,i.options=S(S({},i.options),g),i.limitInPlot=m,i.id=a,i.syncViewPadding=y,i.themeObject=(0,wr.isObject)(p)?(0,wr.deepMix)({},Dg("default"),TC(p)):Dg(p),i.init(),i}return e.prototype.setLayout=function(t){this.layoutFunc=t},e.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},e.prototype.render=function(t,i){t===void 0&&(t=!1),this.emit(ti.BEFORE_RENDER,wn.fromData(this,ti.BEFORE_RENDER,i)),this.paint(t),this.emit(ti.AFTER_RENDER,wn.fromData(this,ti.AFTER_RENDER,i)),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this;this.emit(ti.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var i=this.geometries,n=0;n<i.length;n++)i[n].clear(),i[n].container.remove(!0),i[n].labelsContainer.remove(!0);this.geometries=[];for(var a=this.controllers,n=0;n<a.length;n++)a[n].name==="annotation"?a[n].clear(!0):a[n].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,n=0;n<o.length;n++)o[n].clear();this.emit(ti.AFTER_CLEAR)},e.prototype.destroy=function(){this.emit(ti.BEFORE_DESTROY);var t=this.interactions;(0,wr.each)(t,function(s){s&&s.destroy()}),this.clear();for(var i=this.controllers,n=0,a=i.length;n<a;n++){var o=i[n];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var i=this.geometries,n=0,a=i.length;n<a;n++){var o=i[n];o.changeVisible(t)}for(var s=this.controllers,n=0,a=s.length;n<a;n++){var l=s[n];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},e.prototype.data=function(t){return(0,wr.set)(this.options,"data",t),this.isDataChanged=!0,this},e.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},e.prototype.filter=function(t,i){return(0,wr.isFunction)(i)?((0,wr.set)(this.options,["filters",t],i),this):(!i&&(0,wr.get)(this.options,["filters",t])&&delete this.options.filters[t],this)},e.prototype.axis=function(t,i){return(0,wr.isBoolean)(t)?(0,wr.set)(this.options,["axes"],t):(0,wr.set)(this.options,["axes",t],i),this},e.prototype.legend=function(t,i){return(0,wr.isBoolean)(t)?(0,wr.set)(this.options,["legends"],t):(0,wr.isString)(t)?((0,wr.set)(this.options,["legends",t],i),(0,wr.isPlainObject)(i)&&(i==null?void 0:i.selected)&&(0,wr.set)(this.options,["filters",t],function(n){var a;return(a=i==null?void 0:i.selected[n])!==null&&a!==void 0?a:!0})):(0,wr.set)(this.options,["legends"],t),this},e.prototype.scale=function(t,i){var n=this;return(0,wr.isString)(t)?(0,wr.set)(this.options,["scales",t],i):(0,wr.isObject)(t)&&(0,wr.each)(t,function(a,o){(0,wr.set)(n.options,["scales",o],a)}),this},e.prototype.tooltip=function(t){return(0,wr.set)(this.options,"tooltip",t),this},e.prototype.annotation=function(){return this.getController("annotation")},e.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},e.prototype.coordinate=function(t,i){return(0,wr.isString)(t)?(0,wr.set)(this.options,"coordinate",{type:t,cfg:i}):(0,wr.set)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},e.prototype.coord=function(t,i){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,i)},e.prototype.facet=function(t,i){this.facetInstance&&this.facetInstance.destroy();var n=nz(t);if(!n)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new n(this,S(S({},i),{type:t})),this},e.prototype.animate=function(t){return(0,wr.set)(this.options,"animate",t),this},e.prototype.updateOptions=function(t){return this.clear(),(0,wr.mix)(this.options,t),this.views.forEach(function(i){return i.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},e.prototype.option=function(t,i){if(e.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return(0,wr.set)(this.options,t,i),this},e.prototype.theme=function(t){return this.themeObject=(0,wr.isObject)(t)?(0,wr.deepMix)({},this.themeObject,TC(t)):Dg(t),this},e.prototype.interaction=function(t,i){var n=this.interactions[t];n&&n.destroy();var a=gTt(t,this,i);return a&&(a.init(),this.interactions[t]=a),this},e.prototype.removeInteraction=function(t){var i=this.interactions[t];i&&(i.destroy(),this.interactions[t]=void 0)},e.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(ti.BEFORE_CHANGE_DATA,wn.fromData(this,ti.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var i=this.views,n=0,a=i.length;n<a;n++){var o=i[n];o.changeData(t)}this.emit(ti.AFTER_CHANGE_DATA,wn.fromData(this,ti.AFTER_CHANGE_DATA,null))},e.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var i={data:this.options.data,scales:(0,wr.clone)(this.options.scales),axes:(0,wr.clone)(this.options.axes),coordinate:(0,wr.clone)(this.coordinateController.getOption()),tooltip:(0,wr.clone)(this.options.tooltip),legends:(0,wr.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},n=new e(S(S({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:db.BG}),middleGroup:this.middleGroup.addGroup({zIndex:db.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:db.FORE}),theme:this.themeObject,padding:this.padding},t),{options:S(S({},i),(0,wr.get)(t,"options",{}))}));return this.views.push(n),n},e.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},e.prototype.removeView=function(t){var i=(0,wr.remove)(this.views,function(n){return n===t})[0];return i&&i.destroy(),i},e.prototype.getCoordinate=function(){return this.coordinateInstance},e.prototype.getTheme=function(){return this.themeObject},e.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},e.prototype.getYScales=function(){var t={},i=[];return this.geometries.forEach(function(n){var a=n.getYScale(),o=a.field;t[o]||(t[o]=!0,i.push(a))}),i},e.prototype.getScalesByDim=function(t){for(var i=this.geometries,n={},a=0,o=i.length;a<o;a++){var s=i[a],l=t==="x"?s.getXScale():s.getYScale();l&&!n[l.field]&&(n[l.field]=l)}return n},e.prototype.getScale=function(t,i){var n=i||this.getScaleKey(t);return this.getRootView().scalePool.getScale(n)},e.prototype.getScaleByField=function(t,i){return this.getScale(t,i)},e.prototype.getOptions=function(){return this.options},e.prototype.getData=function(){return this.filteredData},e.prototype.getOriginalData=function(){return this.options.data},e.prototype.getPadding=function(){return this.autoPadding.getPadding()},e.prototype.getGeometries=function(){return this.geometries},e.prototype.getElements=function(){return(0,wr.reduce)(this.geometries,function(t,i){return t.concat(i.getElements())},[])},e.prototype.getElementsBy=function(t){return this.getElements().filter(function(i){return t(i)})},e.prototype.getLayer=function(t){return t===ia.BG?this.backgroundGroup:t===ia.MID?this.middleGroup:t===ia.FORE?this.foregroundGroup:this.foregroundGroup},e.prototype.isPointInPlot=function(t){return Y2t(this.getCoordinate(),t)},e.prototype.getLegendAttributes=function(){return(0,wr.flatten)(this.geometries.map(function(t){return t.getGroupAttributes()}))},e.prototype.getGroupScales=function(){var t=this.geometries.map(function(i){return i.getGroupScales()});return Lg((0,wr.flatten)(t))},e.prototype.getCanvas=function(){return this.getRootView().canvas},e.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},e.prototype.getXY=function(t){var i=this.getCoordinate(),n=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,wr.each)(t,function(l,u){n[u]&&(o=n[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,wr.isNil)(o)&&!(0,wr.isNil)(s))return i.convert({x:o,y:s})},e.prototype.getController=function(t){return(0,wr.find)(this.controllers,function(i){return i.name===t})},e.prototype.showTooltip=function(t){var i=this.getController("tooltip");return i&&i.showTooltip(t),this},e.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},e.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},e.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},e.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},e.prototype.getTooltipItems=function(t){var i=this.getController("tooltip");return i?i.getTooltipItems(t):[]},e.prototype.getSnapRecords=function(t){for(var i=this.geometries,n=[],a=0,o=i.length;a<o;a++){var s=i[a],l=s.dataArray;s.sort(l);for(var u=void 0,f=0,c=l.length;f<c;f++){var h=l[f];u=jQ(t,h,s),u&&n.push(u)}}for(var d=this.views,a=0,o=d.length;a<o;a++){var v=d[a],p=v.getSnapRecords(t);n=n.concat(p)}return n},e.prototype.getComponents=function(){for(var t=[],i=this.controllers,n=0,a=i.length;n<a;n++){var o=i[n];t=t.concat(o.getComponents())}return t},e.prototype.filterData=function(t){var i=this.options.filters;return(0,wr.size)(i)===0?t:(0,wr.filter)(t,function(n,a){var o=Object.keys(i);return o.every(function(s){var l=i[s];return l(n[s],n,a)})})},e.prototype.filterFieldData=function(t,i){var n=this.options.filters,a=(0,wr.get)(n,t);return(0,wr.isUndefined)(a)?i:i.filter(function(o,s){return a(o[t],o,s)})},e.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),i=t.start,n=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,wr.isEqual)(i,a)&&(0,wr.isEqual)(n,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},e.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(ti.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(ti.AFTER_PAINT),this.isDataChanged=!1},e.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,wr.get)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var i=this.viewBBox,n=i.x,a=i.y,o=i.width,s=i.height;this.backgroundStyleRectShape.attr({fill:t,x:n,y:a,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},e.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=ITt(this).shrink(A2(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var i=this.controllers.find(function(l){return l.name==="tooltip"});i.update();for(var n=this.views,a=0,o=n.length;a<o;a++){var s=n[a];s.renderPaddingRecursive(t)}},e.prototype.renderLayoutRecursive=function(t){var i=this.syncViewPadding===!0?LTt:(0,wr.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;i&&(i(this,this.views,T2),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var n=this.views,a=0,o=n.length;a<o;a++){var s=n[a];s.renderLayoutRecursive(t)}},e.prototype.renderPaintRecursive=function(t){var i=this.middleGroup;if(this.limitInPlot){var n=w2(this.coordinateInstance),a=n.type,o=n.attrs;i.setClip({type:a,attrs:o})}else i.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var f=s[l];f.renderPaintRecursive(t)}},e.prototype.createScale=function(t,i,n,a){var o=(0,wr.get)(this.options.scales,[t]),s=S(S({},o),n);return this.parent?this.parent.createScale(t,i,s,a):this.scalePool.createScale(t,i,s,a)},e.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var i=this.views,n=0,a=i.length;n<a;n++){var o=i[n];o.renderDataRecursive(t)}},e.prototype.calculateViewBBox=function(){var t,i,n,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,i=o.y,n=o.width,a=o.height}else t=0,i=0,n=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,f=new Oo(t+n*l.x,i+a*l.y,n*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(f))&&(this.viewBBox=new Oo(t+n*l.x,i+a*l.y,n*(u.x-l.x),a*(u.y-l.y))),this.coordinateBBox=this.viewBBox},e.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},e.prototype.initComponentController=function(){for(var t=this.usedControllers,i=0,n=t.length;i<n;i++){var a=t[i],o=ATt(a);o&&this.controllers.push(new o(this))}},e.prototype.createViewEvent=function(t){var i=t.shape,n=t.name,a=i?i.get("origin"):null,o=new wn(this,t,a);return o.type=n,o},e.prototype.doPlotEvent=function(t){var i=t.type,n=t.x,a=t.y,o={x:n,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(i)){var l=this.isPointInPlot(o),u=t.clone();if(l){var f="plot:".concat(i);u.type=f,this.emit(f,u),(i==="mouseleave"||i==="touchend")&&(this.isPreMouseInPlot=!1)}i==="mousemove"||i==="touchmove"?(this.isPreMouseInPlot&&!l?(i==="mousemove"&&(u.type=$u.MOUSE_LEAVE,this.emit($u.MOUSE_LEAVE,u)),u.type=$u.LEAVE,this.emit($u.LEAVE,u)):!this.isPreMouseInPlot&&l&&(i==="mousemove"&&(u.type=$u.MOUSE_ENTER,this.emit($u.MOUSE_ENTER,u)),u.type=$u.ENTER,this.emit($u.ENTER,u)),this.isPreMouseInPlot=l):(i==="mouseleave"||i==="touchend")&&this.isPreMouseInPlot&&(i==="mouseleave"&&(u.type=$u.MOUSE_LEAVE,this.emit($u.MOUSE_LEAVE,u)),u.type=$u.LEAVE,this.emit($u.LEAVE,u),this.isPreMouseInPlot=!1)}},e.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},e.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var i=this.getCoordinate(),n=(0,wr.get)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:i,scaleDefs:n,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},e.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),i=this.getGroupedFields(),n=this.getOptions(),a=n.data,o=n.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,f=t.length;u<f;u++){var c=t[u],h=s[c],d=this.getScaleKey(c);this.createScale(c,i.includes(c)?a:l,h,d),this.createdScaleKeys.set(d,!0)}},e.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},e.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),i={},n=0;n<t.length;n++){var a=t[n];i[a]=this.getScaleByField(a)}return i},e.prototype.getScaleFields=function(){for(var t=[],i=new Map,n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getScaleFields();Lg(s,t,i)}return t},e.prototype.getGroupedFields=function(){for(var t=[],i=new Map,n=this.geometries,a=0;a<n.length;a++){var o=n[a],s=o.getGroupFields();Lg(s,t,i)}return t},e.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},e.prototype.adjustCategoryScaleRange=function(){var t=this,i=ne([this.getXScale()],Rt(this.getYScales()),!1).filter(function(o){return!!o}),n=this.getCoordinate(),a=this.options.scales;(0,wr.each)(i,function(o){var s=o.field,l=o.values,u=o.isCategory,f=o.isIdentity;(u||f)&&l&&!(0,wr.get)(a,[s,"range"])&&(o.range=rz(o,n,t.theme))})},e.prototype.initComponents=function(t){for(var i=this.controllers,n=0;n<i.length;n++){var a=i[n];t?a.update():(a.clear(),a.render())}},e.prototype.doLayout=function(){this.layoutFunc(this)},e.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,i=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,i)},e.prototype.paintGeometries=function(t){for(var i=this.options.animate,n=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=n,l.canvasRegion=a,i||l.animate(!1),l.paint(t)}},e.prototype.renderComponents=function(t){for(var i=this.getComponents(),n=0;n<i.length;n++){var a=i[n];a.component.render()}},e.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},e.prototype.initOptions=function(){var t=this,i=this.options,n=i.geometries,a=n===void 0?[]:n,o=i.interactions,s=o===void 0?[]:o,l=i.views,u=l===void 0?[]:l,f=i.annotations,c=f===void 0?[]:f,h=i.coordinate,d=i.events,v=i.facets;this.coordinateController?h&&this.coordinateController.update(h):this.coordinateController=new ETt(h);for(var p=0;p<a.length;p++){var g=a[p];this.createGeometry(g)}for(var m=0;m<s.length;m++){var y=s[m],x=y.type,b=y.cfg;this.interaction(x,b)}for(var _=0;_<u.length;_++){var M=u[_];this.createView(M)}for(var A=this.getController("annotation"),I=0;I<c.length;I++){var k=c[I];A.annotation(k)}d&&(0,wr.each)(d,function(E,O){t.on(O,E)}),v&&(0,wr.each)(v,function(E){var O=E.type,P=Ze(E,["type"]);t.facet(O,P)})},e.prototype.createGeometry=function(t){var i=t.type,n=t.cfg,a=n===void 0?{}:n;if(this[i]){var o=this[i](a);(0,wr.each)(t,function(s,l){(0,wr.isFunction)(o[l])&&o[l](s)})}},e.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},e}(VE);function nc(r,e){OTt.prototype[r.toLowerCase()]=function(t){t===void 0&&(t={});var i=S({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),n=new e(i);return this.geometries.push(n),n}}var eD=OTt;var SSe=function(r){G(e,r);function e(t){var i=this,n=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,f=t.appendPadding,c=t.renderer,h=c===void 0?"canvas":c,d=t.pixelRatio,v=t.localRefresh,p=v===void 0?!0:v,g=t.visible,m=g===void 0?!0:g,y=t.supportCSSTransform,x=y===void 0?!1:y,b=t.defaultInteractions,_=b===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:b,M=t.options,A=t.limitInPlot,I=t.theme,k=t.syncViewPadding,E=(0,I2.isString)(n)?document.getElementById(n):n,O=gi('<div style="position:relative;"></div>');E.appendChild(O);var P=_Z(E,l,a,o),N=N5(h),R=new N.Canvas(S({container:O,pixelRatio:d,localRefresh:p,supportCSSTransform:x},P));return i=r.call(this,{parent:null,canvas:R,backgroundGroup:R.addGroup({zIndex:db.BG}),middleGroup:R.addGroup({zIndex:db.MID}),foregroundGroup:R.addGroup({zIndex:db.FORE}),padding:u,appendPadding:f,visible:m,options:M,limitInPlot:A,theme:I,syncViewPadding:k})||this,i.onResize=(0,I2.debounce)(function(){i.forceFit()},300),i.ele=E,i.canvas=R,i.width=P.width,i.height=P.height,i.autoFit=l,i.localRefresh=p,i.renderer=h,i.wrapperElement=O,i.updateCanvasStyle(),i.bindAutoFit(),i.initDefaultInteractions(_),i}return e.prototype.initDefaultInteractions=function(t){var i=this;(0,I2.each)(t,function(n){i.interaction(n)})},e.prototype.aria=function(t){var i="aria-label";t===!1?this.ele.removeAttribute(i):this.ele.setAttribute(i,t.label)},e.prototype.changeSize=function(t,i){return this.width===t&&this.height===i?this:(this.emit(ti.BEFORE_CHANGE_SIZE),this.width=t,this.height=i,this.canvas.changeSize(t,i),this.render(!0),this.emit(ti.AFTER_CHANGE_SIZE),this)},e.prototype.clear=function(){r.prototype.clear.call(this),this.aria(!1)},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),sSt(this.wrapperElement),this.wrapperElement=null},e.prototype.changeVisible=function(t){return r.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},e.prototype.forceFit=function(){if(!this.destroyed){var t=_Z(this.ele,!0,this.width,this.height),i=t.width,n=t.height;this.changeSize(i,n)}},e.prototype.updateCanvasStyle=function(){xr(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},e.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},e.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},e}(eD),rD=SSe;var kTt=et(ot()),ac=function(){function r(e){this.visible=!0,this.components=[],this.view=e}return r.prototype.clear=function(e){(0,kTt.each)(this.components,function(t){t.component.destroy()}),this.components=[]},r.prototype.destroy=function(){this.clear()},r.prototype.getComponents=function(){return this.components},r.prototype.changeVisible=function(e){this.visible!==e&&(this.components.forEach(function(t){e?t.component.show():t.component.hide()}),this.visible=e)},r}();var Tn=et(ot());function CSe(r){for(var e=[],t=function(n){var a=r[n],o=(0,Tn.find)(e,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||e.push(a)},i=0;i<r.length;i++)t(i);return e}var MSe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(e.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},e.prototype.render=function(){},e.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var i=this.view,n=this.getTooltipItems(t);if(!n.length){this.hideTooltip();return}var a=this.getTitle(n),o={x:n[0].x,y:n[0].y};i.emit("tooltip:show",wn.fromData(i,"tooltip:show",S({items:n,title:a},t)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,f=s.showCrosshairs,c=s.showContent,h=s.marker,d=this.items,v=this.title;if(!(0,Tn.isEqual)(v,a)||!(0,Tn.isEqual)(d,n)?(i.emit("tooltip:change",wn.fromData(i,"tooltip:change",S({items:n,title:a},t))),((0,Tn.isFunction)(c)?c(n):c)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,Tn.mix)({},s,{items:this.getItemsAfterProcess(n),title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(n,h)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=n,this.title=a,f){var p=(0,Tn.get)(s,["crosshairs","follow"],!1);this.renderCrosshairs(p?t:o,s)}}},e.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var i=this.tooltipMarkersGroup;i&&i.hide();var n=this.xCrosshair,a=this.yCrosshair;n&&n.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",wn.fromData(this.view,"tooltip:hide",{})),this.point=null},e.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},e.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},e.prototype.isTooltipLocked=function(){return this.isLocked},e.prototype.clear=function(){var t=this,i=t.tooltip,n=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;i&&(i.hide(),i.clear()),n&&n.clear(),a&&a.clear(),o&&o.clear(),(i==null?void 0:i.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},e.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},e.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},e.prototype.changeVisible=function(t){if(this.visible!==t){var i=this,n=i.tooltip,a=i.tooltipMarkersGroup,o=i.xCrosshair,s=i.yCrosshair;t?(n&&n.show(),a&&a.show(),o&&o.show(),s&&s.show()):(n&&n.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},e.prototype.getTooltipItems=function(t){var i,n,a,o,s,l,u=this.findItemsFromView(this.view,t);if(u.length){u=(0,Tn.flatten)(u);try{for(var f=er(u),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var d=(a=void 0,er(h)),v=d.next();!v.done;v=d.next()){var p=v.value,g=p.mappingData,m=g.x,y=g.y;p.x=(0,Tn.isArray)(m)?m[m.length-1]:m,p.y=(0,Tn.isArray)(y)?y[y.length-1]:y}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}}}catch(E){i={error:E}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}var x=this.getTooltipCfg().shared;if(x===!1&&u.length>1){var b=u[0],_=Math.abs(t.y-b[0].y);try{for(var M=er(u),A=M.next();!A.done;A=M.next()){var I=A.value,k=Math.abs(t.y-I[0].y);k<=_&&(b=I,_=k)}}catch(E){s={error:E}}finally{try{A&&!A.done&&(l=M.return)&&l.call(M)}finally{if(s)throw s.error}}u=[b]}return CSe((0,Tn.flatten)(u))}return[]},e.prototype.layout=function(){},e.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},e.prototype.isCursorEntered=function(t){if(this.tooltip){var i=this.tooltip.getContainer(),n=this.tooltip.get("capture");if(i&&n){var a=i.getBoundingClientRect(),o=a.x,s=a.y,l=a.width,u=a.height;return new Oo(o,s,l,u).isPointIn(t)}}return!1},e.prototype.getTooltipCfg=function(){var t=this.view,i=t.getOptions().tooltip,n=this.processCustomContent(i),a=t.getTheme(),o=(0,Tn.get)(a,["components","tooltip"],{}),s=(0,Tn.get)(n,"enterable",o.enterable);return(0,Tn.deepMix)({},o,n,{capture:!!(s||this.isLocked)})},e.prototype.processCustomContent=function(t){if((0,Tn.isBoolean)(t)||!(0,Tn.get)(t,"customContent"))return t;var i=t.customContent,n=function(a,o){var s=i(a,o)||"";return(0,Tn.isString)(s)?'<div class="g2-tooltip">'+s+"</div>":s};return S(S({},t),{customContent:n})},e.prototype.getTitle=function(t){var i=t[0].title||t[0].name;return this.title=i,i},e.prototype.renderTooltip=function(){var t=this.view.getCanvas(),i={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},n=this.getTooltipCfg(),a=new Yb(S(S({parent:t.get("el").parentNode,region:i},n),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},e.prototype.renderTooltipMarkers=function(t,i){var n,a,o=this.getTooltipMarkersGroup(),s=this.view.getRootView(),l=s.limitInPlot;try{for(var u=er(t),f=u.next();!f.done;f=u.next()){var c=f.value,h=c.x,d=c.y;if(l||(o==null?void 0:o.getClip())){var v=w2(s.getCoordinate()),p=v.type,g=v.attrs;o==null||o.setClip({type:p,attrs:g})}else o==null||o.setClip(void 0);var m=this.view.getTheme(),y=(0,Tn.get)(m,["components","tooltip","marker"],{}),x=S(S({fill:c.color,symbol:"circle",shadowColor:c.color},(0,Tn.isFunction)(i)?S(S({},y),i(c)):i),{x:h,y:d});o.addShape("marker",{attrs:x})}}catch(b){n={error:b}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(n)throw n.error}}},e.prototype.renderCrosshairs=function(t,i){var n=(0,Tn.get)(i,["crosshairs","type"],"x");n==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,i)):n==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,i)):n==="xy"&&(this.renderXCrosshairs(t,i),this.renderYCrosshairs(t,i))},e.prototype.renderXCrosshairs=function(t,i){var n=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(n.isRect)n.isTransposed?(a={x:n.start.x,y:t.y},o={x:n.end.x,y:t.y}):(a={x:t.x,y:n.end.y},o={x:t.x,y:n.start.y});else{var s=kg(n,t),l=n.getCenter(),u=n.getRadius();o=Pa(l.x,l.y,u,s),a=l}var f=(0,Tn.deepMix)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,Tn.get)(i,"crosshairs",{}),this.getCrosshairsText("x",t,i));delete f.type;var c=this.xCrosshair;c?c.update(f):(c=new AC.Line(f),c.init()),c.render(),c.show(),this.xCrosshair=c},e.prototype.renderYCrosshairs=function(t,i){var n=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(n.isRect){var s=void 0,l=void 0;n.isTransposed?(s={x:t.x,y:n.end.y},l={x:t.x,y:n.start.y}):(s={x:n.start.x,y:t.y},l={x:n.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:n.getCenter(),radius:Wb(n,t),startAngle:n.startAngle,endAngle:n.endAngle},o="Circle";a=(0,Tn.deepMix)({container:this.getTooltipCrosshairsGroup()},a,(0,Tn.get)(i,"crosshairs",{}),this.getCrosshairsText("y",t,i)),delete a.type;var u=this.yCrosshair;u?n.isRect&&u.get("type")==="circle"||!n.isRect&&u.get("type")==="line"?(u=new AC[o](a),u.init()):u.update(a):(u=new AC[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u},e.prototype.getCrosshairsText=function(t,i,n){var a=(0,Tn.get)(n,["crosshairs","text"]),o=(0,Tn.get)(n,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],f=l.getXScale(),c=l.getYScales()[0],h=void 0,d=void 0;if(o){var v=this.view.getCoordinate().invert(i);h=f.invert(v.x),d=c.invert(v.y)}else h=u.data[f.field],d=u.data[c.field];var p=t==="x"?h:d;return(0,Tn.isFunction)(a)?a=a(t,p,s,i):a.content=p,{text:a}}},e.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},e.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},e.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},e.prototype.findItemsFromView=function(t,i){var n,a;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),s=gz(t,i,o);try{for(var l=er(t.views),u=l.next();!u.done;u=l.next()){var f=u.value;s=s.concat(this.findItemsFromView(f,i))}}catch(c){n={error:c}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return s},e.prototype.getViewWithGeometry=function(t){var i=this;return t.geometries.length?t:(0,Tn.find)(t.views,function(n){return i.getViewWithGeometry(n)})},e.prototype.getItemsAfterProcess=function(t){var i=this.getTooltipCfg().customItems,n=i||function(a){return a};return n(t)},e}(ac),L2=MSe;var Nr=et(ot());var Fg=et(ot());var PTt={};function iD(r){return PTt[r.toLowerCase()]}function bu(r,e){PTt[r.toLowerCase()]=e}var k0={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},ASe={interval:function(r){return{enter:{animation:r.isRect?r.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:r.isPolar&&r.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},DTt={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",r.isPolar&&r.isTransposed&&(e="wave-in")),{animation:e}},schema:function(r){var e;return r.isRect?e=r.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function ESe(r,e){return{delay:(0,Fg.isFunction)(r.delay)?r.delay(e):r.delay,easing:(0,Fg.isFunction)(r.easing)?r.easing(e):r.easing,duration:(0,Fg.isFunction)(r.duration)?r.duration(e):r.duration,callback:r.callback,repeat:r.repeat}}function mz(r,e,t){var i=ASe[r];return i&&((0,Fg.isFunction)(i)&&(i=i(e)),i=(0,Fg.deepMix)({},k0,i),t)?i[t]:i}function P0(r,e,t){var i=(0,Fg.get)(r.get("origin"),"data",sn),n=e.animation,a=ESe(e,i);if(n){var o=iD(n);o&&o(r,a,t)}else r.animate(t.toAttrs,a)}function FTt(r,e,t,i,n){if(DTt[t]){var a=DTt[t](i),o=iD((0,Fg.get)(a,"animation",""));if(o){var s=S(S(S({},k0.appear),a),e);r.stopAnimate(),o(r,s,{coordinate:i,minYPoint:n,toAttrs:null})}}}var xs=et(ot());var O2="element-background";var TSe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.labelShape=[],i.states=[];var n=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.elementIndex,l=t.visible,u=l===void 0?!0:l;return i.shapeFactory=n,i.container=a,i.offscreenGroup=o,i.visible=u,i.elementIndex=s,i}return e.prototype.draw=function(t,i){i===void 0&&(i=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,i),this.visible===!1&&this.changeVisible(!1)},e.prototype.update=function(t){var i=this,n=i.shapeFactory,a=i.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=n.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},e.prototype.destroy=function(){var t=this,i=t.shapeFactory,n=t.shape;if(n){var a=this.getAnimateCfg("leave");a?P0(n,a,{coordinate:i.coordinate,toAttrs:S({},n.attr())}):n.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,r.prototype.destroy.call(this)},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(i){i.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(i){i.hide()}))},e.prototype.setState=function(t,i){var n=this,a=n.states,o=n.shapeFactory,s=n.model,l=n.shape,u=n.shapeType,f=a.indexOf(t);if(i){if(f>-1)return;a.push(t),(t==="active"||t==="selected")&&(l==null||l.toFront())}else{if(f===-1)return;if(a.splice(f,1),t==="active"||t==="selected"){var c=this.geometry,h=c.sortZIndex,d=c.zIndexReversed,v=d?this.geometry.elements.length-this.elementIndex:this.elementIndex;h?l.setZIndex(v):l.set("zIndex",v)}}var p=o.drawShape(u,s,this.getOffscreenGroup());a.length?this.syncShapeStyle(l,p,a,null):this.syncShapeStyle(l,p,["reset"],null),p.remove(!0);var g={state:t,stateStatus:i,element:this,target:this.container};this.container.emit("statechange",g),TP(this.shape,"statechange",g)},e.prototype.clearStates=function(){var t=this,i=this.states;(0,xs.each)(i,function(n){t.setState(n,!1)}),this.states=[]},e.prototype.hasState=function(t){return this.states.includes(t)},e.prototype.getStates=function(){return this.states},e.prototype.getData=function(){return this.data},e.prototype.getModel=function(){return this.model},e.prototype.getBBox=function(){var t=this,i=t.shape,n=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return i&&(a=i.getCanvasBBox()),n&&n.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},e.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,i=t.shapeType,n=t.geometry,a=t.shapeFactory,o=n.stateOption,s=a.defaultShapeType,l=a.theme[i]||a.theme[s];this.statesStyle=(0,xs.deepMix)({},l,o)}return this.statesStyle},e.prototype.getStateStyle=function(t,i){var n=this.getStatesStyle(),a=(0,xs.get)(n,[t,"style"],{}),o=a[i]||a;return(0,xs.isFunction)(o)?o(this):o},e.prototype.getAnimateCfg=function(t){var i=this,n=this.animate;if(n){var a=n[t];return a&&S(S({},a),{callback:function(){var o;(0,xs.isFunction)(a.callback)&&a.callback(),(o=i.geometry)===null||o===void 0||o.emit(Fv.AFTER_DRAW_ANIMATE)}})}return null},e.prototype.drawShape=function(t,i){var n;i===void 0&&(i=!1);var a=this,o=a.shapeFactory,s=a.container,l=a.shapeType;if(this.shape=o.drawShape(l,t,s),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?(0,xs.isString)(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var f=i?"enter":"appear",c=this.getAnimateCfg(f);c&&((n=this.geometry)===null||n===void 0||n.emit(Fv.BEFORE_DRAW_ANIMATE),P0(this.shape,c,{coordinate:o.coordinate,toAttrs:S({},this.shape.attr())}))}},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.setShapeInfo=function(t,i){var n=this;if(t.cfg.origin=i,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){n.setShapeInfo(o,i)})}},e.prototype.syncShapeStyle=function(t,i,n,a,o){var s=this,l;if(n===void 0&&(n=[]),o===void 0&&(o=0),!(!t||!i)){var u=t.get("clipShape"),f=i.get("clipShape");if(this.syncShapeStyle(u,f,n,a),t.isGroup())for(var c=t.get("children"),h=i.get("children"),d=0;d<c.length;d++)this.syncShapeStyle(c[d],h[d],n,a,o+d);else{if(!(0,xs.isEmpty)(n)&&!(0,xs.isEqual)(n,["reset"])){var v=t.get("name");(0,xs.isArray)(v)&&(v=v[1]),(0,xs.each)(n,function(g){if(i.get("name")!==O2){var m=s.getStateStyle(g,v||o);i.attr(m)}})}var p=JG(t,i);this.animate?a?((l=this.geometry)===null||l===void 0||l.emit(Fv.BEFORE_DRAW_ANIMATE),P0(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:p,shapeModel:this.model})):(0,xs.isEmpty)(n)?t.attr(p):(t.stopAnimate(),t.animate(p,{duration:300})):t.attr(p)}}},e.prototype.getShapeType=function(t){var i=(0,xs.get)(t,"shape");return(0,xs.isArray)(i)?i[0]:i},e}(VE),k2=TSe;var NTt={},BTt={};function yz(r){return NTt[r.toLowerCase()]}function D0(r,e){NTt[r.toLowerCase()]=e}function xz(r){return BTt[r.toLowerCase()]}function zl(r,e){BTt[r.toLowerCase()]=e}var F0=et(ot());var ISe={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(r,e){var t=this.getShape(r);return t.getPoints?t.getPoints(e):this.getDefaultPoints(e)},getShape:function(r){var e=this[r]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(r){return(0,F0.get)(r,[this.defaultShapeType,"default","style"],{})},getMarker:function(r,e){var t=this.getShape(r);if(!t.getMarker){var i=this.defaultShapeType;t=this.getShape(i)}var n=this.theme,a=(0,F0.get)(n,[r,"default"],{}),o=t.getMarker(e);return(0,F0.deepMix)({},a,o)},drawShape:function(r,e,t){var i=this.getShape(r);return i.draw(e,t)}},LSe={coordinate:null,parsePath:function(r){var e=this.coordinate,t=b0(r);return e.isPolar?t=tTt(e,t):t=J2t(e,t),t},parsePoint:function(r){var e=this.coordinate;return e.convert(r)},parsePoints:function(r){var e=this.coordinate;return r.map(function(t){return e.convert(t)})},draw:function(r,e){}},VQ={};function hl(r,e){var t=(0,F0.upperFirst)(r),i=S(S(S({},ISe),e),{geometryType:r});return VQ[t]=i,i}function kr(r,e,t){var i=(0,F0.upperFirst)(r),n=VQ[i],a=S(S({},LSe),t);return n[e]=a,a}function nD(r){var e=(0,F0.upperFirst)(r);return VQ[e]}var RTt=et(ot());function GTt(r,e,t){var i,n;if(t===void 0&&(t={}),!e)return[r];var a=(0,RTt.groupToMap)(r,e),o=[];if(e.length===1&&t[e[0]]){var s=t[e[0]];try{for(var l=er(s),u=l.next();!u.done;u=l.next()){var f=u.value,c=a["_".concat(f)];c&&o.push(c)}}catch(v){i={error:v}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}}else for(var h in a)if(a.hasOwnProperty(h)){var d=a[h];o.push(d)}return o}var bz=et(ot());function wz(r,e){return(0,bz.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,bz.isEqual)(r[t],e[t])})}var zTt=et(ot());function P2(r){return(0,zTt.isArray)(r)?r:r.split("*")}function _z(r,e){for(var t=[],i=[],n=[],a=new Map,o=0;o<e.length;o++){var s=e[o];r[s]?i.push(s):t.push(s),a.set(s,!0)}return Object.keys(r).forEach(function(l){a.has(l)||n.push(l)}),{added:t,updated:i,removed:n}}var OSe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="base",i.attributes={},i.elements=[],i.elementsMap={},i.animateOption=!0,i.attributeOption={},i.lastElementsMap={},i.generatePoints=!1,i.beforeMappingData=null,i.adjusts={},i.idFields=[],i.hasSorted=!1,i.isCoordinateChanged=!1;var n=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,f=t.visible,c=f===void 0?!0:f,h=t.theme,d=t.scales,v=d===void 0?{}:d,p=t.scaleDefs,g=p===void 0?{}:p,m=t.intervalPadding,y=t.dodgePadding,x=t.maxColumnWidth,b=t.minColumnWidth,_=t.columnWidthRatio,M=t.roseWidthRatio,A=t.multiplePieWidthRatio,I=t.zIndexReversed,k=t.sortZIndex,E=t.useDeferredLabel;return i.container=n,i.labelsContainer=a,i.coordinate=o,i.data=s,i.sortable=u,i.visible=c,i.userTheme=h,i.scales=v,i.scaleDefs=g,i.intervalPadding=m,i.dodgePadding=y,i.maxColumnWidth=x,i.minColumnWidth=b,i.columnWidthRatio=_,i.roseWidthRatio=M,i.multiplePieWidthRatio=A,i.zIndexReversed=I,i.sortZIndex=k,i.useDeferredLabel=E?typeof E=="number"?E:1/0:null,i}return e.prototype.position=function(t){var i=t;(0,Nr.isPlainObject)(t)||(i={fields:P2(t)});var n=(0,Nr.get)(i,"fields");return n.length===1&&(n.unshift("1"),(0,Nr.set)(i,"fields",n)),(0,Nr.set)(this.attributeOption,"position",i),this},e.prototype.color=function(t,i){return this.createAttrOption("color",t,i),this},e.prototype.shape=function(t,i){return this.createAttrOption("shape",t,i),this},e.prototype.size=function(t,i){return this.createAttrOption("size",t,i),this},e.prototype.adjust=function(t){var i=t;return((0,Nr.isString)(t)||(0,Nr.isPlainObject)(t))&&(i=[t]),(0,Nr.each)(i,function(n,a){(0,Nr.isObject)(n)||(i[a]={type:n})}),this.adjustOption=i,this},e.prototype.style=function(t,i){if((0,Nr.isString)(t)){var n=P2(t);this.styleOption={fields:n,callback:i}}else{var a=t,n=a.fields,o=a.callback,s=a.cfg;n||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},e.prototype.tooltip=function(t,i){if((0,Nr.isString)(t)){var n=P2(t);this.tooltipOption={fields:n,callback:i}}else this.tooltipOption=t;return this},e.prototype.animate=function(t){return this.animateOption=t,this},e.prototype.label=function(t,i,n){if((0,Nr.isString)(t)){var a={},o=P2(t);a.fields=o,(0,Nr.isFunction)(i)?a.callback=i:(0,Nr.isPlainObject)(i)&&(a.cfg=i),n&&(a.cfg=n),this.labelOption=a}else this.labelOption=t;return this},e.prototype.state=function(t){return this.stateOption=t,this},e.prototype.customInfo=function(t){return this.customOption=t,this},e.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},e.prototype.update=function(t){t===void 0&&(t={});var i=t.data,n=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,Nr.isEqual)(s,l)?i&&(n||!(0,Nr.isEqual)(i,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(i)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},e.prototype.paint=function(t){var i=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,Nr.deepMix)({},mz(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var n=this.getOffscreenGroup();n.clear();var a=this.beforeMappingData,o=this.beforeMapping(a);this.dataArray=new Array(o.length);for(var s=0;s<o.length;s++){var l=o[s];this.dataArray[s]=this.mapping(l)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var u=this.container,f=this.type,c=this.coordinate,h=(0,Nr.get)(this.animateOption,"appear"),d=this.getYScale(),v=c.convert({x:0,y:d.scale(this.getYMinValue())});FTt(u,h,f,c,v)}if(this.labelOption){var p=this.useDeferredLabel,g=function(){return i.renderLabels((0,Nr.flatten)(i.dataArray),t)}.bind(this);if(typeof p=="number"){var m=typeof p=="number"&&p!==1/0?p:0;if(!window.requestIdleCallback)setTimeout(g,m);else{var y=m&&m!==1/0?{timeout:m}:void 0;window.requestIdleCallback(g,y)}}else g()}this.lastAttributeOption=S({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},e.prototype.clear=function(){var t=this,i=t.container,n=t.geometryLabel,a=t.offscreenGroup;i&&i.clear(),n&&n.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},e.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,r.prototype.destroy.call(this)},e.prototype.getGroupScales=function(){return this.groupScales},e.prototype.getAttribute=function(t){return this.attributes[t]},e.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},e.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},e.prototype.getGroupAttributes=function(){var t=[];return(0,Nr.each)(this.attributes,function(i){h0.includes(i.type)&&t.push(i)}),t},e.prototype.getDefaultValue=function(t){var i,n=this.getAttribute(t);return n&&(0,Nr.isEmpty)(n.scales)&&(i=n.values[0]),i},e.prototype.getAttributeValues=function(t,i){for(var n=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?n.push(l.values):n.push(i[u])}return t.mapping.apply(t,ne([],Rt(n),!1))},e.prototype.getAdjust=function(t){return this.adjusts[t]},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.getData=function(){return this.data},e.prototype.getShapeMarker=function(t,i){var n=this.getShapeFactory();return n.getMarker(t,i)},e.prototype.getElementsBy=function(t){return this.elements.filter(function(i){return t(i)})},e.prototype.getElements=function(){return this.elements},e.prototype.getElementId=function(t){t=(0,Nr.isArray)(t)?t[0]:t;var i=t[sn];if(this.idFields.length){for(var n=i[this.idFields[0]],a=1;a<this.idFields.length;a++)n+="-"+i[this.idFields[a]];return n}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",f=l.field||"y",c=i[f],h;s.type==="identity"?h=s.values[0]:h=i[u];var d;o==="interval"||o==="schema"?d="".concat(h):o==="line"||o==="area"||o==="path"?d=o:d="".concat(h,"-").concat(c);for(var v=this.groupScales,a=0,p=v.length;a<p;a++){var g=v[a],m=g.field;d="".concat(d,"-").concat(i[m])}var y=this.getAdjust("dodge");if(y){var x=y.dodgeBy;x&&(d="".concat(d,"-").concat(i[x]))}return this.getAdjust("jitter")&&(d="".concat(d,"-").concat(t.x,"-").concat(t.y)),d},e.prototype.getScaleFields=function(){var t=[],i=new Map,n=this,a=n.attributeOption,o=n.labelOption,s=n.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?Lg(u.fields,t,i):u.values&&Lg(u.values,t,i)}return o&&o.fields&&Lg(o.fields,t,i),(0,Nr.isObject)(s)&&s.fields&&Lg(s.fields,t,i),t},e.prototype.changeVisible=function(t){r.prototype.changeVisible.call(this,t);for(var i=this.elements,n=0,a=i.length;n<a;n++){var o=i[n];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},e.prototype.getFields=function(){var t=new Map,i=[];return Object.values(this.attributeOption).forEach(function(n){var a=(n==null?void 0:n.fields)||[];a.forEach(function(o){t.has(o)||i.push(o),t.set(o,!0)})},[]),i},e.prototype.getGroupFields=function(){for(var t=[],i=new Map,n=0,a=h0.length;n<a;n++){var o=h0[n],s=this.attributeOption[o];s&&s.fields&&Lg(s.fields,t,i)}return t},e.prototype.getXYFields=function(){var t=Rt(this.attributeOption.position.fields,2),i=t[0],n=t[1];return[i,n]},e.prototype.getXField=function(){return(0,Nr.get)(this.getXYFields(),[0])},e.prototype.getYField=function(){return(0,Nr.get)(this.getXYFields(),[1])},e.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},e.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},e.prototype.sort=function(t){if(!this.hasSorted)for(var i=this.getXScale(),n=i.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return i.translate(s[sn][n])-i.translate(l[sn][n])})}this.hasSorted=!0},e.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},e.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!nD(t))return this.shapeFactory||(this.shapeFactory=(0,Nr.clone)(nD(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},e.prototype.createShapePointsCfg=function(t){var i=this.getXScale(),n=this.getYScale(),a=this.normalizeValues(t[i.field],i),o;return n?o=this.normalizeValues(t[n.field],n):o=t.y?t.y:.1,{x:a,y:o,y0:n?n.scale(this.getYMinValue()):void 0}},e.prototype.createElement=function(t,i,n){n===void 0&&(n=!1);var a=this.container,o=this.getDrawCfg(t),s=this.getShapeFactory(),l=new k2({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:i});return l.animate=this.animateOption,l.geometry=this,l.draw(o,n),l},e.prototype.getDrawCfg=function(t){var i=t[sn],n={mappingData:t,data:i,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),n.shape=a;var o=this.theme.geometries[this.shapeType];n.defaultStyle=(0,Nr.get)(o,[a,"default"],{}).style,!n.defaultStyle&&this.getShapeFactory()&&(n.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(n.style=this.getStyleCfg(s,i)),this.generatePoints&&(n.points=t.points,n.nextPoints=t.nextPoints),n},e.prototype.updateElements=function(t,i){var n,a,o,s,l,u;i===void 0&&(i=!1);for(var f=new Map,c=[],h=new Map,d=0,v=0;v<t.length;v++)for(var p=t[v],g=0;g<p.length;g++){var m=p[g],y=this.getElementId(m),x=f.has(y)?"".concat(y,"-").concat(v,"-").concat(g):y;c.push(x),f.set(x,m),h.set(x,d),d++}this.elements=new Array(d);var b=_z(this.lastElementsMap,c),_=b.added,M=b.updated,A=b.removed;try{for(var I=er(_),k=I.next();!k.done;k=I.next()){var y=k.value,m=f.get(y),v=h.get(y),E=this.createElement(m,v,i);this.elements[v]=E,this.elementsMap[y]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-v:v)}}catch(Y){n={error:Y}}finally{try{k&&!k.done&&(a=I.return)&&a.call(I)}finally{if(n)throw n.error}}try{for(var O=er(M),P=O.next();!P.done;P=O.next()){var y=P.value,E=this.lastElementsMap[y],m=f.get(y),N=this.getDrawCfg(m),R=E.getModel(),v=h.get(y);(this.isCoordinateChanged||wz(N,R))&&(E.animate=this.animateOption,E.update(N)),this.elements[v]=E,this.elementsMap[y]=E,E.shape&&E.shape.set("zIndex",this.zIndexReversed?this.elements.length-v:v)}}catch(Y){o={error:Y}}finally{try{P&&!P.done&&(s=O.return)&&s.call(O)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var z=er(A),B=z.next();!B.done;B=z.next()){var y=B.value,E=this.lastElementsMap[y];E.animate=this.animateOption,E.destroy()}}catch(Y){l={error:Y}}finally{try{B&&!B.done&&(u=z.return)&&u.call(z)}finally{if(l)throw l.error}}},e.prototype.getLabelType=function(){var t=this,i=t.labelOption,n=t.coordinate,a=t.type,o=n.type,s=n.isTransposed,l=(0,Nr.get)(i,["cfg","type"]);return l||(o==="polar"?l=s?"pie":"polar":o==="theta"?l="pie":a==="interval"||a==="polygon"?l="interval":l="base"),l},e.prototype.getYMinValue=function(){var t=this.getYScale(),i=t.min,n=t.max,a;return i>=0?a=i:n<=0?a=n:a=0,a},e.prototype.createAttrOption=function(t,i,n){if((0,Nr.isNil)(i)||(0,Nr.isObject)(i))(0,Nr.isObject)(i)&&(0,Nr.isEqual)(Object.keys(i),["values"])?(0,Nr.set)(this.attributeOption,t,{fields:i.values}):(0,Nr.set)(this.attributeOption,t,i);else{var a={};(0,Nr.isNumber)(i)?a.values=[i]:a.fields=P2(i),n&&((0,Nr.isFunction)(n)?a.callback=n:a.values=n),(0,Nr.set)(this.attributeOption,t,a)}},e.prototype.initAttributes=function(){var t=this,i=this,n=i.attributes,a=i.attributeOption,o=i.theme,s=i.shapeType;this.groupScales=[];var l={},u=function(h){if(a.hasOwnProperty(h)){var d=a[h];if(!d)return{value:void 0};var v=S({},d),p=v.callback,g=v.values,m=v.fields,y=m===void 0?[]:m,x=y.map(function(_){var M=t.scales[_];if(!l[_]&&h0.includes(h)){var A=ez(M,(0,Nr.get)(t.scaleDefs,_),h,t.type);A==="cat"&&(t.groupScales.push(M),l[_]=!0)}return M});v.scales=x,h!=="position"&&x.length===1&&x[0].type==="identity"?v.values=x[0].values:!p&&!g&&(h==="size"?v.values=o.sizes:h==="shape"?v.values=o.shapes[s]||[]:h==="color"&&(x.length?v.values=x[0].values.length<=10?o.colors10:o.colors20:v.values=o.colors10));var b=EP(h);n[h]=new b(v)}};for(var f in a){var c=u(f);if(typeof c=="object")return c.value}},e.prototype.processData=function(t){var i,n;this.hasSorted=!1;for(var a=this.getAttribute("position").scales,o=a.filter(function(A){return A.isCategory}),s=this.groupData(t),l=[],u=0,f=s.length;u<f;u++){for(var c=s[u],h=[],d=0,v=c.length;d<v;d++){var p=c[d],g={};for(var m in p)g[m]=p[m];g[sn]=p;try{for(var y=(i=void 0,er(o)),x=y.next();!x.done;x=y.next()){var b=x.value,_=b.field;g[_]=b.translate(g[_])}}catch(A){i={error:A}}finally{try{x&&!x.done&&(n=y.return)&&n.call(y)}finally{if(i)throw i.error}}h.push(g)}l.push(h)}var M=this.adjustData(l);return this.beforeMappingData=M,M},e.prototype.adjustData=function(t){var i=this.adjustOption,n=this,a=n.intervalPadding,o=n.dodgePadding,s=n.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,f=this.columnWidthRatio||s.columnWidthRatio,c=t;if(i){var h=this.getXScale(),d=this.getYScale(),v=h.field,p=d?d.field:null,g=Og(this.coordinate),m=h.values.length,y=this.getAttribute("size"),x=void 0;y&&(x=y.values[0]);for(var b=0,_=i.length;b<_;b++){var M=i[b],A=S({xField:v,yField:p,intervalPadding:a,dodgePadding:o,xDimensionLength:g,groupNum:m,defaultSize:x,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:f},M),I=M.type;if(I==="dodge"){var k=[];if(h.isCategory||h.type==="identity")k.push("x");else if(!d)k.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");A.adjustNames=k,A.dodgeRatio=f}else if(I==="stack"){var E=this.coordinate;if(!d){A.height=E.getHeight();var O=this.getDefaultValue("size")||3;A.size=O}!E.isTransposed&&(0,Nr.isNil)(A.reverseOrder)&&(A.reverseOrder=!0)}var P=wP(I);A.dimValuesMap={},h&&h.values&&(A.dimValuesMap[h.field]=h.values.map(function(R){return h.translate(R)}));var N=new P(A);c=N.process(c),this.adjusts[I]=N}}return c},e.prototype.groupData=function(t){for(var i=this.getGroupScales(),n=this.scaleDefs,a={},o=[],s=0;s<i.length;s++){var l=i[s],u=l.field;o.push(u),(0,Nr.get)(n,[u,"values"])&&(a[u]=n[u].values)}return GTt(t,o,a)},e.prototype.updateStackRange=function(t,i){for(var n=(0,Nr.flatten)(i),a=t.field,o=t.min,s=t.max,l=0;l<n.length;l++){var u=n[l],f=Math.min.apply(null,u[a]),c=Math.max.apply(null,u[a]);f<o&&(o=f),c>s&&(s=c)}var h=this.scaleDefs,d={};o<t.min&&!(0,Nr.get)(h,[a,"min"])&&(d.min=o),s>t.max&&!(0,Nr.get)(h,[a,"max"])&&(d.max=s),t.change(d)},e.prototype.beforeMapping=function(t){var i=t;if(this.sortable&&this.sort(i),this.generatePoints)for(var n=0,a=i.length;n<a;n++){var o=i[n];this.generateShapePoints(o);var s=i[n+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return i},e.prototype.generateShapePoints=function(t){for(var i=this.getShapeFactory(),n=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=n?this.getAttributeValues(n,o):null,u=i.getShapePoints(l,s);o.points=u}},e.prototype.normalizeValues=function(t,i){var n=[];if((0,Nr.isArray)(t))for(var a=0;a<t.length;a++){var o=t[a];n.push(i.scale(o))}else n=i.scale(t);return n},e.prototype.mapping=function(t){for(var i=this.attributes,n=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[sn],points:o.points,nextPoints:o.nextPoints};for(var l in i)if(i.hasOwnProperty(l)){var u=i[l],f=u.names,c=this.getAttributeValues(u,o);if(f.length>1)for(var h=0;h<c.length;h+=1){var d=c[h],v=f[h];s[v]=(0,Nr.isArray)(d)&&d.length===1?d[0]:d}else s[f[0]]=c.length===1?c[0]:c}this.convertPoint(s),n.push(s)}return n},e.prototype.convertPoint=function(t){var i=t.x,n=t.y,a,o,s,l=this.coordinate;if((0,Nr.isArray)(i)&&(0,Nr.isArray)(n)){a=[],o=[];for(var u=0,f=0,c=i.length,h=n.length;u<c&&f<h;u+=1,f+=1)s=l.convert({x:i[u],y:n[f]}),a.push(s.x),o.push(s.y)}else if((0,Nr.isArray)(n)){o=[];for(var d=0;d<n.length;d++){var v=n[d];s=l.convert({x:i,y:v}),a&&a!==s.x?((0,Nr.isArray)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,Nr.isArray)(i)){a=[];for(var d=0;d<i.length;d++){var p=i[d];s=l.convert({x:p,y:n}),o&&o!==s.y?((0,Nr.isArray)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var g=l.convert({x:i,y:n});a=g.x,o=g.y}t.x=a,t.y=o},e.prototype.getStyleCfg=function(t,i){var n=t.fields,a=n===void 0?[]:n,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return i[u]});return o.apply(void 0,ne([],Rt(l),!1))},e.prototype.setCfg=function(t){var i=this,n=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;n&&(this.coordinate=n),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,Nr.each)(s,function(l,u){l&&l.key&&i.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,Nr.deepMix)({},o,this.userTheme):o)},e.prototype.renderLabels=function(t,i){return i===void 0&&(i=!1),ta(this,void 0,void 0,function(){var n,a,o,s,l,u,f,c,h,d,v,p,g=this;return ea(this,function(m){switch(m.label){case 0:return n=this.geometryLabel,this.emit(Fv.BEFORE_RENDER_LABEL),n||(a=this.getLabelType(),o=yz(a),n=new o(this),this.geometryLabel=n),[4,n.render(t,i)];case 1:m.sent(),s=n.labelsRenderer.shapesMap,l=new Map,(0,Nr.each)(s,function(y,x){for(var b=y.getChildren()||[],_=0;_<b.length;_++){var M=b[_],A=g.elementsMap[M.get("elementId")||x.split(" ")[0]];if(A){M.cfg.name=["element","label"],M.cfg.element=A;var I=l.get(A)||new Set;I.add(y),l.set(A,I)}}});try{for(u=er(l.entries()),f=u.next();!f.done;f=u.next())c=Rt(f.value,2),h=c[0],d=c[1],h.labelShape=ne([],Rt(d),!1)}catch(y){v={error:y}}finally{try{f&&!f.done&&(p=u.return)&&p.call(u)}finally{if(v)throw v.error}}return this.emit(Fv.AFTER_RENDER_LABEL),[2]}})})},e.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,Nr.get)(this.animateOption,"appear")===void 0||(0,Nr.get)(this.animateOption,"appear")&&(0,Nr.get)(this.animateOption,["appear","animation"])===void 0)},e}(VE),dl=OSe;var Nn=et(ot());var so=et(ot());var F2=et(ot());var aD=Wr.transform;function Ng(r,e,t){var i=aD(r.getMatrix(),[["t",e,t]]);r.setMatrix(i)}function kSe(r,e){var t=r.attr(),i=t.x,n=t.y,a=aD(r.getMatrix(),[["t",-i,-n],["r",e],["t",i,n]]);return a}function D2(r,e){var t=kSe(r,e);r.setMatrix(t)}function jTt(r,e){var t=r.getBBox(),i=(t.minX+t.maxX)/2,n=(t.minY+t.maxY)/2;r.applyToMatrix([i,n,1]);var a=aD(r.getMatrix(),[["t",-i,-n],["s",e,e],["t",i,n]]);r.setMatrix(a)}function Hv(r){return r.find(function(e){return e.get("type")==="text"})}function Sz(r,e,t){t===void 0&&(t=[0,0,0,0]);var i=r&&r.getChildren()[0];if(i){var n=i.clone();(e==null?void 0:e.rotate)&&D2(n,-e.rotate);var a=n.getCanvasBBox(),o=a.x,s=a.y,l=a.width,u=a.height;n.destroy();var f=t;return(0,F2.isNil)(f)?f=[2,2,2,2]:(0,F2.isNumber)(f)&&(f=new Array(4).fill(f)),{x:o-f[3],y:s-f[0],width:l+f[1]+f[3],height:u+f[0]+f[2],rotation:(e==null?void 0:e.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function PSe(r,e,t){t===void 0&&(t=0);var i=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return i*n}function YTt(r,e){var t=r.getBBox();return(0,F2.some)(e,function(i){var n=i.getBBox();return PSe(t,n,2)>0})}var N2=et(ot());function qQ(r,e,t){var i=t.data,n=t.origin,a=t.animateCfg,o=t.coordinate,s=(0,N2.get)(a,"update");r.set("data",i),r.set("origin",n),r.set("animateCfg",a),r.set("coordinate",o),r.set("visible",e.get("visible")),(r.getChildren()||[]).forEach(function(l,u){var f=e.getChildByIndex(u);if(!f)r.removeChild(l),l.remove(!0);else{l.set("data",i),l.set("origin",n),l.set("animateCfg",a),l.set("coordinate",o);var c=JG(l,f);s?P0(l,s,{toAttrs:c,coordinate:o}):l.attr(c),f.isGroup()&&qQ(l,f,t)}}),(0,N2.each)(e.getChildren(),function(l,u){(0,N2.isArray)(r.getChildren())&&u>=r.getCount()&&(l.destroyed||r.add(l))})}var DSe=function(){function r(e){this.shapesMap={};var t=e.layout,i=e.container;this.layout=t,this.container=i}return r.prototype.render=function(e,t,i){return i===void 0&&(i=!1),ta(this,void 0,void 0,function(){var n,a,o,s,l,u,f,c,h=this;return ea(this,function(d){switch(d.label){case 0:if(n={},a=this.createOffscreenGroup(),!e.length)return[3,2];try{for(o=er(e),s=o.next();!s.done;s=o.next())l=s.value,l&&(n[l.id]=this.renderLabel(l,a))}catch(v){f={error:v}}finally{try{s&&!s.done&&(c=o.return)&&c.call(o)}finally{if(f)throw f.error}}return[4,this.doLayout(e,t,n)];case 1:d.sent(),this.renderLabelLine(e,n),this.renderLabelBackground(e,n),this.adjustLabel(e,n),d.label=2;case 2:return u=this.shapesMap,(0,so.each)(n,function(v,p){if(v.destroyed)delete n[p];else{if(u[p]){var g=v.get("data"),m=v.get("origin"),y=v.get("coordinate"),x=v.get("animateCfg"),b=u[p];qQ(b,n[p],{data:g,origin:m,animateCfg:x,coordinate:y}),n[p]=b}else{if(h.container.destroyed)return;h.container.add(v);var _=(0,so.get)(v.get("animateCfg"),i?"enter":"appear");_&&P0(v,_,{toAttrs:S({},v.attr()),coordinate:v.get("coordinate")})}delete u[p]}}),(0,so.each)(u,function(v){var p=(0,so.get)(v.get("animateCfg"),"leave");p?P0(v,p,{toAttrs:null,coordinate:v.get("coordinate")}):v.remove(!0)}),this.shapesMap=n,a.destroy(),[2]}})})},r.prototype.clear=function(){this.container.clear(),this.shapesMap={}},r.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},r.prototype.renderLabel=function(e,t){var i=e.id,n=e.elementId,a=e.data,o=e.mappingData,s=e.coordinate,l=e.animate,u=e.content,f=e.capture,c={id:i,elementId:n,capture:f,data:a,origin:S(S({},o),{data:o[sn]}),coordinate:s},h=t.addGroup(S({name:"label",animateCfg:this.animate===!1||l===null||l===!1?!1:(0,so.deepMix)({},this.animate,l)},c)),d;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var v=u.getCanvasBBox(),p=v.width,g=v.height,m=(0,so.get)(e,"textAlign","left"),y=e.x,x=e.y-g/2;m==="center"?y=y-p/2:(m==="right"||m==="end")&&(y=y-p),Ng(u,y,x),d=u,h.add(u)}else{var b=(0,so.get)(e,["style","fill"]);d=h.addShape("text",S({attrs:S(S({x:e.x,y:e.y,textAlign:e.textAlign,textBaseline:(0,so.get)(e,"textBaseline","middle"),text:e.content},e.style),{fill:(0,so.isNull)(b)?e.color:b})},c))}return e.rotate&&D2(d,e.rotate),h},r.prototype.doLayout=function(e,t,i){return ta(this,void 0,void 0,function(){var n,a=this;return ea(this,function(o){switch(o.label){case 0:return this.layout?(n=(0,so.isArray)(this.layout)?this.layout:[this.layout],[4,Promise.all(n.map(function(s){var l=xz((0,so.get)(s,"type",""));if(!!l){var u=[],f=[];return(0,so.each)(i,function(c,h){u.push(c),f.push(t[c.get("elementId")])}),l(e,u,f,a.region,s.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},r.prototype.renderLabelLine=function(e,t){(0,so.each)(e,function(i){var n=(0,so.get)(i,"coordinate");if(!(!i||!n)){var a=n.getCenter(),o=n.getRadius();if(!!i.labelLine){var s=(0,so.get)(i,"labelLine",{}),l=i.id,u=s.path;if(!u){var f=Pa(a.x,a.y,o,i.angle);u=[["M",f.x,f.y],["L",i.x,i.y]]}var c=t[l];c.destroyed||c.addShape("path",{capture:!1,attrs:S({path:u,stroke:i.color?i.color:(0,so.get)(i,["style","fill"],"#000"),fill:null},s.style),id:l,origin:i.mappingData,data:i.data,coordinate:i.coordinate})}}})},r.prototype.renderLabelBackground=function(e,t){(0,so.each)(e,function(i){var n=(0,so.get)(i,"coordinate"),a=(0,so.get)(i,"background");if(!(!a||!n)){var o=i.id,s=t[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=Sz(s,i,a.padding),f=u.rotation,c=Ze(u,["rotation"]),h=s.addShape("rect",{attrs:S(S({},c),a.style||{}),id:o,origin:i.mappingData,data:i.data,coordinate:i.coordinate});if(h.setZIndex(-1),f){var d=l.getMatrix();h.setMatrix(d)}}}}})},r.prototype.createOffscreenGroup=function(){var e=this.container,t=e.getGroupBase(),i=new t({});return i},r.prototype.adjustLabel=function(e,t){(0,so.each)(e,function(i){if(i){var n=i.id,a=t[n];if(!a.destroyed){var o=a.findAll(function(s){return s.get("type")!=="path"});(0,so.each)(o,function(s){s&&(i.offsetX&&s.attr("x",s.attr("x")+i.offsetX),i.offsetY&&s.attr("y",s.attr("y")+i.offsetY))})}}})},r}(),WTt=DSe;function VTt(r){var e=0;return(0,Nn.each)(r,function(t){e+=t}),e/r.length}var FSe=function(){function r(e){this.geometry=e}return r.prototype.getLabelItems=function(e){var t=this,i=[],n=this.getLabelCfgs(e);return(0,Nn.each)(e,function(a,o){var s=n[o];if(!s||(0,Nn.isNil)(a.x)||(0,Nn.isNil)(a.y)){i.push(null);return}var l=(0,Nn.isArray)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,Nn.each)(l,function(f,c){if((0,Nn.isNil)(f)||f===""){i.push(null);return}var h=S(S({},s),t.getLabelPoint(s,a,c));h.textAlign||(h.textAlign=t.getLabelAlign(h,c,u)),h.offset<=0&&(h.labelLine=null),i.push(h)})}),i},r.prototype.render=function(e,t){return t===void 0&&(t=!1),ta(this,void 0,void 0,function(){var i,n,a;return ea(this,function(o){switch(o.label){case 0:return i=this.getLabelItems(e),n=this.getLabelsRenderer(),a=this.getGeometryShapes(),[4,n.render(i,a,t)];case 1:return o.sent(),[2]}})})},r.prototype.clear=function(){var e=this.labelsRenderer;e&&e.clear()},r.prototype.destroy=function(){var e=this.labelsRenderer;e&&e.destroy(),this.labelsRenderer=null},r.prototype.getCoordinate=function(){return this.geometry.coordinate},r.prototype.getDefaultLabelCfg=function(e,t){var i=this.geometry,n=i.type,a=i.theme;return n==="polygon"||n==="interval"&&t==="middle"||e<0&&!["line","point","path"].includes(n)?(0,Nn.get)(a,"innerLabels",{}):(0,Nn.get)(a,"labels",{})},r.prototype.getThemedLabelCfg=function(e){var t=this.geometry,i=this.getDefaultLabelCfg(),n=t.type,a=t.theme,o;return n==="polygon"||e.offset<0&&!["line","point","path"].includes(n)?o=(0,Nn.deepMix)({},i,a.innerLabels,e):o=(0,Nn.deepMix)({},i,a.labels,e),o},r.prototype.setLabelPosition=function(e,t,i,n){},r.prototype.getLabelOffset=function(e){var t=this.getCoordinate(),i=this.getOffsetVector(e);return t.isTransposed?i[0]:i[1]},r.prototype.getLabelOffsetPoint=function(e,t,i){var n=e.offset,a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||i===1?u[s]=n*l:u[s]=n*l*-1,u},r.prototype.getLabelPoint=function(e,t,i){var n=this.getCoordinate(),a=e.content.length;function o(g,m,y){y===void 0&&(y=!1);var x=g;return(0,Nn.isArray)(x)&&(e.content.length===1?y?x=VTt(x):x.length<=2?x=x[g.length-1]:x=VTt(x):x=x[m]),x}var s={content:e.content[i],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=(0,Nn.isArray)(t.shape)?t.shape[0]:t.shape,u=l==="funnel"||l==="pyramid";if(this.geometry.type==="polygon"){var f=R2t(t.x,t.y);s.x=f[0],s.y=f[1]}else this.geometry.type==="interval"&&!u?(s.x=o(t.x,i,!0),s.y=o(t.y,i)):(s.x=o(t.x,i),s.y=o(t.y,i));if(u){var c=(0,Nn.get)(t,"nextPoints"),h=(0,Nn.get)(t,"points");if(c){var d=n.convert(h[1]),v=n.convert(c[1]);s.x=(d.x+v.x)/2,s.y=(d.y+v.y)/2}else if(l==="pyramid"){var d=n.convert(h[1]),v=n.convert(h[2]);s.x=(d.x+v.x)/2,s.y=(d.y+v.y)/2}}e.position&&this.setLabelPosition(s,t,i,e.position);var p=this.getLabelOffsetPoint(e,i,a);return s.start={x:s.x,y:s.y},s.x+=p.x,s.y+=p.y,s.color=t.color,s},r.prototype.getLabelAlign=function(e,t,i){var n="center",a=this.getCoordinate();if(a.isTransposed){var o=e.offset;o<0?n="right":o===0?n="center":n="left",i>1&&t===0&&(n==="right"?n="left":n==="left"&&(n="right"))}return n},r.prototype.getLabelId=function(e){var t=this.geometry,i=t.type,n=t.getXScale(),a=t.getYScale(),o=e[sn],s=t.getElementId(e);return i==="line"||i==="area"?s+=" ".concat(o[n.field]):i==="path"&&(s+=" ".concat(o[n.field],"-").concat(o[a.field])),s},r.prototype.getLabelsRenderer=function(){var e=this.geometry,t=e.labelsContainer,i=e.labelOption,n=e.canvasRegion,a=e.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new WTt({container:t,layout:(0,Nn.get)(i,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=n,s.animate=a?mz("label",o):!1,s},r.prototype.getLabelCfgs=function(e){var t=this,i=this.geometry,n=i.labelOption,a=i.scales,o=i.coordinate,s=n,l=s.fields,u=s.callback,f=s.cfg,c=l.map(function(d){return a[d]}),h=[];return(0,Nn.each)(e,function(d,v){var p=d[sn],g=t.getLabelText(p,c),m;if(u){var y=l.map(function(A){return p[A]});if(m=u.apply(void 0,ne([],Rt(y),!1)),(0,Nn.isNil)(m)){h.push(null);return}}var x=S(S({id:t.getLabelId(d),elementId:t.geometry.getElementId(d),data:p,mappingData:d,coordinate:o},f),m);(0,Nn.isFunction)(x.position)&&(x.position=x.position(p,d,v));var b=t.getLabelOffset(x.offset||0),_=t.getDefaultLabelCfg(b,x.position);x=(0,Nn.deepMix)({},_,x),x.offset=t.getLabelOffset(x.offset||0);var M=x.content;(0,Nn.isFunction)(M)?x.content=M(p,d,v):(0,Nn.isUndefined)(M)&&(x.content=g[0]),h.push(x)}),h},r.prototype.getLabelText=function(e,t){var i=[];return(0,Nn.each)(t,function(n){var a=e[n.field];(0,Nn.isArray)(a)?a=a.map(function(o){return n.getText(o)}):a=n.getText(a),(0,Nn.isNil)(a)||a===""?i.push(null):i.push(a)}),i},r.prototype.getOffsetVector=function(e){e===void 0&&(e=0);var t=this.getCoordinate(),i=0;return(0,Nn.isNumber)(e)&&(i=e),t.isTransposed?t.applyMatrix(i,0):t.applyMatrix(0,i)},r.prototype.getGeometryShapes=function(){var e=this.geometry,t={};return(0,Nn.each)(e.elementsMap,function(i,n){t[n]=i.shape}),(0,Nn.each)(e.getOffscreenGroup().getChildren(),function(i){var n=e.getElementId(i.get("origin").mappingData);t[n]=i}),t},r}(),Bg=FSe;function oD(r,e,t){if(!r)return t;var i;if(r.callback&&r.callback.length>1){var n=Array(r.callback.length-1).fill("");i=r.mapping.apply(r,ne([e],Rt(n),!1)).join("")}else i=r.mapping(e).join("");return i||t}var lo=et(ot());var vd={hexagon:function(r,e,t){var i=t/2*Math.sqrt(3);return[["M",r,e-t],["L",r+i,e-t/2],["L",r+i,e+t/2],["L",r,e+t],["L",r-i,e+t/2],["L",r-i,e-t/2],["Z"]]},bowtie:function(r,e,t){var i=t-1.5;return[["M",r-t,e-i],["L",r+t,e+i],["L",r+t,e-i],["L",r-t,e+i],["Z"]]},cross:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e+t],["M",r+t,e-t],["L",r-t,e+t]]},tick:function(r,e,t){return[["M",r-t/2,e-t],["L",r+t/2,e-t],["M",r,e-t],["L",r,e+t],["M",r-t/2,e+t],["L",r+t/2,e+t]]},plus:function(r,e,t){return[["M",r-t,e],["L",r+t,e],["M",r,e-t],["L",r,e+t]]},hyphen:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},line:function(r,e,t){return[["M",r,e-t],["L",r,e+t]]}};var NSe=["line","cross","tick","plus","hyphen"];function BSe(r,e){return(0,lo.isFunction)(e)?e(r):(0,lo.deepMix)({},r,e)}function RSe(r,e){var t=r.symbol;if((0,lo.isString)(t)&&NSe.indexOf(t)!==-1){var i=(0,lo.get)(r,"style",{}),n=(0,lo.get)(i,"lineWidth",1),a=i.stroke||i.fill||e;r.style=(0,lo.deepMix)({},r.style,{lineWidth:n,stroke:a,fill:null})}}function qTt(r){var e=r.symbol;(0,lo.isString)(e)&&vd[e]&&(r.symbol=vd[e])}function Cz(r){return r.startsWith(Fe.LEFT)||r.startsWith(Fe.RIGHT)?"vertical":"horizontal"}function Mz(r,e,t,i,n){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=e.getAttribute("color"),l=e.getAttribute("shape"),u=r.getTheme().defaultColor,f=e.coordinate.isPolar;return a.getTicks().map(function(c,h){var d,v=c.text,p=c.value,g=v,m=a.invert(p),y=r.filterFieldData(o,[(d={},d[o]=m,d)]).length===0;(0,lo.each)(r.views,function(A){var I;A.filterFieldData(o,[(I={},I[o]=m,I)]).length||(y=!0)});var x=oD(s,m,u),b=oD(l,m,"point"),_=e.getShapeMarker(b,{color:x,isInPolar:f}),M=n;return(0,lo.isFunction)(M)&&(M=M(g,h,S({name:g,value:m},(0,lo.deepMix)({},i,_)))),_=(0,lo.deepMix)({},i,_,Hs(S({},M),["style"])),RSe(_,x),M&&M.style&&(_.style=BSe(_.style,M.style)),qTt(_),{id:m,name:g,value:m,marker:_,unchecked:y}})}return[]}function HTt(r,e,t){return t.map(function(i,n){var a=e;(0,lo.isFunction)(a)&&(a=a(i.name,n,(0,lo.deepMix)({},r,i)));var o=(0,lo.isFunction)(i.marker)?i.marker(i.name,n,(0,lo.deepMix)({},r,i)):i.marker,s=(0,lo.deepMix)({},r,a,o);return qTt(s),i.marker=s,i})}function HQ(r,e){var t=(0,lo.get)(r,["components","legend"],{});return(0,lo.deepMix)({},(0,lo.get)(t,["common"],{}),(0,lo.deepMix)({},(0,lo.get)(t,[e],{})))}var UQ=et(ot());function XQ(r){return r?!1:r==null||isNaN(r)}function UTt(r){if((0,UQ.isArray)(r))return XQ(r[1].y);var e=r.y;return(0,UQ.isArray)(e)?XQ(e[0]):XQ(e)}function qb(r,e,t){if(e===void 0&&(e=!1),t===void 0&&(t=!0),!r.length||r.length===1&&!t)return[];if(e){for(var i=[],n=0,a=r.length;n<a;n++){var o=r[n];UTt(o)||i.push(o)}return[i]}for(var s=[],l=[],n=0,a=r.length;n<a;n++){var o=r[n];UTt(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Az(r){for(var e=[],t=0;t<r.length;t++){var i=r[t];if(i){var n=t===0?"M":"L";e.push([n,i.x,i.y])}}var a=r[0];return a&&(e.push(["L",a.x,a.y]),e.push(["z"])),e}function Ez(r){for(var e=r.length/2,t=[],i=[],n=0;n<r.length;n++)n<e?t.push(r[n]):i.push(r[n]);var a=EC(t,!1),o=EC(i,!1);i.length&&a.push(["L",i[0].x,i[0].y]),o.shift();var s=a.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}var sD=et(ot());var IC=et(ot());function Hi(r,e,t,i){i===void 0&&(i="");var n=r.style,a=n===void 0?{}:n,o=r.defaultStyle,s=r.color,l=r.size,u=S(S({},o),a);return s&&(e&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),i&&(0,IC.isNil)(a[i])&&!(0,IC.isNil)(l)&&(u[i]=l),u}function Tz(r){return(0,IC.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},(0,IC.get)(r,["background","style"]))}var ZQ=et(ot());function B2(r){var e=r.x,t=(0,ZQ.isArray)(r.y)?r.y:[r.y];return t.map(function(i,n){return{x:(0,ZQ.isArray)(e)?e[n]:e,y:i}})}var GSe={line:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dot:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},dash:function(r,e,t){return[["M",r-t,e],["L",r+t,e]]},smooth:function(r,e,t){return[["M",r-t,e],["A",t/2,t/2,0,1,1,r,e],["A",t/2,t/2,0,1,0,r+t,e]]},hv:function(r,e,t){return[["M",r-t-1,e-2.5],["L",r,e-2.5],["L",r,e+2.5],["L",r+t+1,e+2.5]]},vh:function(r,e,t){return[["M",r-t-1,e+2.5],["L",r,e+2.5],["L",r,e-2.5],["L",r+t+1,e-2.5]]},hvh:function(r,e,t){return[["M",r-(t+1),e+2.5],["L",r-t/2,e+2.5],["L",r-t/2,e-2.5],["L",r+t/2,e-2.5],["L",r+t/2,e+2.5],["L",r+t+1,e+2.5]]},vhv:function(r,e){return[["M",r-5,e+2.5],["L",r-5,e],["L",r,e],["L",r,e-3],["L",r,e+3],["L",r+6.5,e+3]]}};function Iz(r,e){var t=r.color;return{symbol:GSe[e],style:{lineWidth:2,r:6,stroke:t}}}function zSe(r,e,t){for(var i=r.isStack,n=r.connectNulls,a=r.isInCircle,o=r.showSinglePoint,s=Hi(r,!0,!1,"lineWidth"),l=qb(r.points,n,o),u=[],f=0,c=l.length;f<c;f++){var h=l[f];u=u.concat(QQ(h,a,i,e,t,s))}return s.path=u,s}function KQ(r,e,t,i,n){if(r.length===1)return[["M",r[0].x,r[0].y-n.lineWidth/2],["L",r[0].x,r[0].y],["L",r[0].x,r[0].y+n.lineWidth/2]];var a;return t?(e&&r.length&&r.push({x:r[0].x,y:r[0].y}),a=EC(r,!1,i)):(a=T0(r,!1),e&&a.push(["Z"])),a}function jSe(r,e,t,i,n,a){var o=[],s=[];(0,sD.each)(r,function(f){var c=B2(f);o.push(c[1]),s.push(c[0])});var l=KQ(o,e,i,n,a),u=KQ(s,e,i,n,a);return t?l:l.concat(u)}function QQ(r,e,t,i,n,a){if(r.length){var o=r[0];return(0,sD.isArray)(o.y)?jSe(r,e,t,i,n,a):KQ(r,e,i,n,a)}return[]}var qvi=hl("line",{defaultShapeType:"line"});(0,sD.each)(["line","dot","dash","smooth"],function(r){kr("line",r,{draw:function(e,t){var i=r==="smooth",n;if(i){var a=this.coordinate,o=a.start,s=a.end;n=[[o.x,s.y],[s.x,o.y]]}var l=zSe(e,i,n),u=t.addShape({type:"path",attrs:l,name:"line",capture:!i});return u},getMarker:function(e){return Iz(e,r)}})});var YSe="4.2.12",uo={getLegendItems:Mz,translate:Ng,rotate:D2,zoom:jTt,transform:aD,getAngle:M0,getSectorPath:rh,polarToCartesian:Pa,getDelegationObject:nh,getTooltipItems:pz,getMappingValue:oD,getPath:QQ,getPathPoints:qb};var Hb={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},oa={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Uv=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],WSe=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],VSe=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],qSe=function(r){r===void 0&&(r={});var e=r.paletteQualitative10,t=e===void 0?Uv:e,i=r.paletteQualitative20,n=i===void 0?WSe:i,a=r.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:n,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:VSe,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:oa[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:oa[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Hb[85],axisTickLineBorderColor:oa[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:oa[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:oa[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:oa[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:oa[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Uv[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:oa[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:oa[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:oa[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:oa[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:oa[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:oa[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Hb[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Hb[25],annotationArcBorderColor:oa[15],annotationArcBorder:1,annotationLineBorderColor:oa[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:oa[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:oa[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:oa[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:oa[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:oa[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Hb[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:oa[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Hb[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:oa[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Uv[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Hb[100],pointBorderOpacity:1,pointActiveBorderColor:oa[100],pointSelectedBorder:2,pointSelectedBorderColor:oa[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Uv[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Hb[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:oa[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:oa[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Uv[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Uv[0],areaFillOpacity:.25,areaActiveFillColor:Uv[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Uv[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Uv[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:oa[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:oa[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Uv[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:oa[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:oa[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Uv[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Hb[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:oa[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:oa[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return S(S({},s),r)},XTt=qSe();var l$={};ai(l$,{AbstractCanvas:()=>sC,AbstractGroup:()=>bb,AbstractShape:()=>wb,Base:()=>tC,Canvas:()=>wu,Event:()=>ad,Group:()=>z2,PathUtil:()=>qE,Shape:()=>B0,assembleFont:()=>cC,getArcParams:()=>Xb,getBBoxMethod:()=>_b,getOffScreenContext:()=>uC,getTextHeight:()=>fC,invert:()=>rC,isAllowCapture:()=>gb,multiplyVec2:()=>$c,registerBBox:()=>Kf,registerEasing:()=>_K,version:()=>wCe});var B0={};ai(B0,{Base:()=>rs,Circle:()=>lIt,Ellipse:()=>uIt,Image:()=>cIt,Line:()=>hIt,Marker:()=>vIt,Path:()=>lD,Polygon:()=>mIt,Polyline:()=>yIt,Rect:()=>xIt,Text:()=>bIt});var Bi=et(ot());function ZTt(){return window?window.devicePixelRatio:1}function Lz(r,e,t,i){var n=r-t,a=e-i;return Math.sqrt(n*n+a*a)}function Rg(r,e,t,i,n,a){return n>=r&&n<=r+t&&a>=e&&a<=e+i}function Ub(r,e){return!(e.minX>r.maxX||e.maxX<r.minX||e.minY>r.maxY||e.maxY<r.minY)}function KTt(r,e){return!r||!e?r||e:{minX:Math.min(r.minX,e.minX),minY:Math.min(r.minY,e.minY),maxX:Math.max(r.maxX,e.maxX),maxY:Math.max(r.maxY,e.maxY)}}function $Q(r,e){return r[0]===e[0]&&r[1]===e[1]}var Xv=et(ot());var HSe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,USe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,XSe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,QTt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function $Tt(r,e){var t=r.match(QTt);(0,Bi.each)(t,function(i){var n=i.split(":");e.addColorStop(n[0],n[1])})}function ZSe(r,e,t){var i=HSe.exec(t),n=parseFloat(i[1])%360*(Math.PI/180),a=i[2],o=e.getBBox(),s,l;n>=0&&n<1/2*Math.PI?(s={x:o.minX,y:o.minY},l={x:o.maxX,y:o.maxY}):1/2*Math.PI<=n&&n<Math.PI?(s={x:o.maxX,y:o.minY},l={x:o.minX,y:o.maxY}):Math.PI<=n&&n<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},l={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},l={x:o.maxX,y:o.minY});var u=Math.tan(n),f=u*u,c=(l.x-s.x+u*(l.y-s.y))/(f+1)+s.x,h=u*(l.x-s.x+u*(l.y-s.y))/(f+1)+s.y,d=r.createLinearGradient(s.x,s.y,c,h);return $Tt(a,d),d}function KSe(r,e,t){var i=USe.exec(t),n=parseFloat(i[1]),a=parseFloat(i[2]),o=parseFloat(i[3]),s=i[4];if(o===0){var l=s.match(QTt);return l[l.length-1].split(":")[1]}var u=e.getBBox(),f=u.maxX-u.minX,c=u.maxY-u.minY,h=Math.sqrt(f*f+c*c)/2,d=r.createRadialGradient(u.minX+f*n,u.minY+c*a,0,u.minX+f/2,u.minY+c/2,o*h);return $Tt(s,d),d}function QSe(r,e,t){if(e.get("patternSource")&&e.get("patternSource")===t)return e.get("pattern");var i,n,a=XSe.exec(t),o=a[1],s=a[2];function l(){i=r.createPattern(n,o),e.set("pattern",i),e.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return n=new Image,s.match(/^data:/i)||(n.crossOrigin="Anonymous"),n.src=s,n.complete?l():(n.onload=l,n.src=n.src),i}function JTt(r,e,t){var i=e.getBBox();if(isNaN(i.x)||isNaN(i.y)||isNaN(i.width)||isNaN(i.height))return t;if((0,Bi.isString)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return ZSe(r,e,t);if(t[0]==="r")return KSe(r,e,t);if(t[0]==="p")return QSe(r,e,t)}return t}if(t instanceof CanvasPattern)return t}function tIt(r){var e=0,t=0,i=0,n=0;return(0,Bi.isArray)(r)?r.length===1?e=t=i=n=r[0]:r.length===2?(e=i=r[0],t=n=r[1]):r.length===3?(e=r[0],t=n=r[1],i=r[2]):(e=r[0],t=r[1],i=r[2],n=r[3]):e=t=i=n=r,[e,t,i,n]}function Oz(r){return Math.sqrt(r[0]*r[0]+r[1]*r[1])}function JQ(r,e){return Oz(r)*Oz(e)?(r[0]*e[0]+r[1]*e[1])/(Oz(r)*Oz(e)):1}function eIt(r,e){return(r[0]*e[1]<r[1]*e[0]?-1:1)*Math.acos(JQ(r,e))}function Xb(r,e){var t=e[1],i=e[2],n=(0,Bi.mod)((0,Bi.toRadian)(e[3]),Math.PI*2),a=e[4],o=e[5],s=r[0],l=r[1],u=e[6],f=e[7],c=Math.cos(n)*(s-u)/2+Math.sin(n)*(l-f)/2,h=-1*Math.sin(n)*(s-u)/2+Math.cos(n)*(l-f)/2,d=c*c/(t*t)+h*h/(i*i);d>1&&(t*=Math.sqrt(d),i*=Math.sqrt(d));var v=t*t*(h*h)+i*i*(c*c),p=v?Math.sqrt((t*t*(i*i)-v)/v):1;a===o&&(p*=-1),isNaN(p)&&(p=0);var g=i?p*t*h/i:0,m=t?p*-i*c/t:0,y=(s+u)/2+Math.cos(n)*g-Math.sin(n)*m,x=(l+f)/2+Math.sin(n)*g+Math.cos(n)*m,b=[(c-g)/t,(h-m)/i],_=[(-1*c-g)/t,(-1*h-m)/i],M=eIt([1,0],b),A=eIt(b,_);return JQ(b,_)<=-1&&(A=Math.PI),JQ(b,_)>=1&&(A=0),o===0&&A>0&&(A=A-2*Math.PI),o===1&&A<0&&(A=A+2*Math.PI),{cx:y,cy:x,rx:$Q(r,[u,f])?0:t,ry:$Q(r,[u,f])?0:i,startAngle:M,endAngle:M+A,xRotation:n,arcFlag:a,sweepFlag:o}}var kz=Math.sin,Pz=Math.cos,t$=Math.atan2,Dz=Math.PI;function rIt(r,e,t,i,n,a,o){var s=e.stroke,l=e.lineWidth,u=t-n,f=i-a,c=t$(f,u),h=new lD({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*Pz(Dz/6)+","+10*kz(Dz/6)+" L0,0 L"+10*Pz(Dz/6)+",-"+10*kz(Dz/6),stroke:s,lineWidth:l}});h.translate(n,a),h.rotateAtPoint(n,a,c),r.set(o?"startArrowShape":"endArrowShape",h)}function iIt(r,e,t,i,n,a,o){var s=e.startArrow,l=e.endArrow,u=e.stroke,f=e.lineWidth,c=o?s:l,h=c.d,d=c.fill,v=c.stroke,p=c.lineWidth,g=Ze(c,["d","fill","stroke","lineWidth"]),m=t-n,y=i-a,x=t$(y,m);h&&(n=n-Pz(x)*h,a=a-kz(x)*h);var b=new lD({type:"path",canvas:r.get("canvas"),isArrowShape:!0,attrs:S(S({},g),{stroke:v||u,lineWidth:p||f,fill:d})});b.translate(n,a),b.rotateAtPoint(n,a,x),r.set(o?"startArrowShape":"endArrowShape",b)}function Gg(r,e,t,i,n){var a=t$(i-e,t-r);return{dx:Pz(a)*n,dy:kz(a)*n}}function R2(r,e,t,i,n,a){typeof e.startArrow=="object"?iIt(r,e,t,i,n,a,!0):e.startArrow?rIt(r,e,t,i,n,a,!0):r.set("startArrowShape",null)}function G2(r,e,t,i,n,a){typeof e.endArrow=="object"?iIt(r,e,t,i,n,a,!1):e.endArrow?rIt(r,e,t,i,n,a,!1):r.set("startArrowShape",null)}var nIt={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function N0(r,e){var t=e.attr();for(var i in t){var n=t[i],a=nIt[i]?nIt[i]:i;a==="matrix"&&n?r.transform(n[0],n[1],n[3],n[4],n[6],n[7]):a==="lineDash"&&r.setLineDash?(0,Xv.isArray)(n)&&r.setLineDash(n):(a==="strokeStyle"||a==="fillStyle"?n=JTt(r,e,n):a==="globalAlpha"&&(n=n*r.globalAlpha),r[a]=n)}}function uD(r,e,t){for(var i=0;i<e.length;i++){var n=e[i];n.cfg.visible?n.draw(r,t):n.skipDraw()}}function aIt(r,e,t){var i=r.get("refreshElements");(0,Xv.each)(i,function(n){if(n!==r)for(var a=n.cfg.parent;a&&a!==r&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),i[0]===r?i$(e,t):e$(e,t)}function e$(r,e){for(var t=0;t<r.length;t++){var i=r[t];if(i.cfg.visible)if(i.cfg.hasChanged)i.cfg.refresh=!0,i.isGroup()&&i$(i.cfg.children,e);else if(i.cfg.refresh)i.isGroup()&&e$(i.cfg.children,e);else{var n=$Se(i,e);i.cfg.refresh=n,n&&i.isGroup()&&e$(i.cfg.children,e)}}}function r$(r){for(var e=0;e<r.length;e++){var t=r[e];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&r$(t.cfg.children)}}function i$(r,e){for(var t=0;t<r.length;t++){var i=r[t];!i.cfg.visible||(i.cfg.refresh=!0,i.isGroup()&&i$(i.get("children"),e))}}function $Se(r,e){var t=r.cfg.cacheCanvasBBox,i=r.cfg.isInView&&t&&Ub(t,e);return i}function Fz(r,e,t,i){var n=t.path,a=t.startArrow,o=t.endArrow;if(!!n){var s=[0,0],l=[0,0],u={dx:0,dy:0};e.beginPath();for(var f=0;f<n.length;f++){var c=n[f],h=c[0];if(f===0&&a&&a.d){var d=r.getStartTangent();u=Gg(d[0][0],d[0][1],d[1][0],d[1][1],a.d)}else if(f===n.length-2&&n[f+1][0]==="Z"&&o&&o.d){var v=n[f+1];if(v[0]==="Z"){var d=r.getEndTangent();u=Gg(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}}else if(f===n.length-1&&o&&o.d&&n[0]!=="Z"){var d=r.getEndTangent();u=Gg(d[0][0],d[0][1],d[1][0],d[1][1],o.d)}var p=u.dx,g=u.dy;switch(h){case"M":e.moveTo(c[1]-p,c[2]-g),l=[c[1],c[2]];break;case"L":e.lineTo(c[1]-p,c[2]-g);break;case"Q":e.quadraticCurveTo(c[1],c[2],c[3]-p,c[4]-g);break;case"C":e.bezierCurveTo(c[1],c[2],c[3],c[4],c[5]-p,c[6]-g);break;case"A":{var m=void 0;i?(m=i[f],m||(m=Xb(s,c),i[f]=m)):m=Xb(s,c);var y=m.cx,x=m.cy,b=m.rx,_=m.ry,M=m.startAngle,A=m.endAngle,I=m.xRotation,k=m.sweepFlag;if(e.ellipse)e.ellipse(y,x,b,_,I,M,A,1-k);else{var E=b>_?b:_,O=b>_?1:b/_,P=b>_?_/b:1;e.translate(y,x),e.rotate(I),e.scale(O,P),e.arc(0,0,E,M,A,1-k),e.scale(1/O,1/P),e.rotate(-I),e.translate(-y,-x)}break}case"Z":e.closePath();break;default:break}if(h==="Z")s=l;else{var N=c.length;s=[c[N-2],c[N-1]]}}}}function Nz(r,e){var t=r.get("canvas");t&&(e==="remove"&&(r._cacheCanvasBBox=r.get("cacheCanvasBBox")),r.get("hasChanged")||(r.set("hasChanged",!0),r.cfg.parent&&r.cfg.parent.get("hasChanged")||(t.refreshElement(r,e,t),t.get("autoDraw")&&t.draw())))}function JSe(r){var e;if(r.destroyed)e=r._cacheCanvasBBox;else{var t=r.get("cacheCanvasBBox"),i=t&&!!(t.width&&t.height),n=r.getCanvasBBox(),a=n&&!!(n.width&&n.height);i&&a?e=KTt(t,n):i?e=t:a&&(e=n)}return e}function oIt(r){if(!r.length)return null;var e=[],t=[],i=[],n=[];return(0,Xv.each)(r,function(a){var o=JSe(a);o&&(e.push(o.minX),t.push(o.minY),i.push(o.maxX),n.push(o.maxY))}),{minX:(0,Xv.min)(e),minY:(0,Xv.min)(t),maxX:(0,Xv.max)(i),maxY:(0,Xv.max)(n)}}function sIt(r,e){return!r||!e||!Ub(r,e)?null:{minX:Math.max(r.minX,e.minX),minY:Math.max(r.minY,e.minY),maxX:Math.min(r.maxX,e.maxX),maxY:Math.min(r.maxY,e.maxY)}}var Zb=et(ot());var tCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.onCanvasChange=function(t){Nz(this,t)},e.prototype.getShapeBase=function(){return B0},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,i){i&&(t.save(),N0(t,i),i.createPath(t),t.restore(),t.clip(),i._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,i=[],n=[];(0,Zb.each)(t,function(h){var d=h.cfg.cacheCanvasBBox;d&&h.cfg.isInView&&(i.push(d.minX,d.maxX),n.push(d.minY,d.maxY))});var a=null;if(i.length){var o=(0,Zb.min)(i),s=(0,Zb.max)(i),l=(0,Zb.min)(n),u=(0,Zb.max)(n);a={minX:o,minY:l,x:o,y:l,maxX:s,maxY:u,width:s-o,height:u-l};var f=this.cfg.canvas;if(f){var c=f.getViewRange();this.set("isInView",Ub(a,c))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},e.prototype.draw=function(t,i){var n=this.cfg.children,a=i?this.cfg.refresh:!0;n.length&&a&&(t.save(),N0(t,this),this._applyClip(t,this.getClip()),uD(t,n,i),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(bb),z2=tCe;var eCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return B0},e.prototype.getGroupBase=function(){return z2},e.prototype.onCanvasChange=function(t){Nz(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),i=this.getHitLineWidth(),n=_b(t),a=n(this),o=i/2,s=a.x-o,l=a.y-o,u=a.x+a.width+o,f=a.y+a.height+o;return{x:s,minX:s,y:l,minY:l,width:a.width+i,height:a.height+i,maxX:u,maxY:f}},e.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs.stroke},e.prototype._applyClip=function(t,i){i&&(t.save(),N0(t,i),i.createPath(t),t.restore(),t.clip(),i._afterDraw())},e.prototype.draw=function(t,i){var n=this.cfg.clipShape;if(i){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!Ub(i,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),N0(t,this),this._applyClip(t,n),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var i=this.getCanvasBBox(),n=Ub(i,t);this.set("isInView",n),n?this.set("cacheCanvasBBox",i):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var i=this.attrs,n=i.lineWidth,a=i.opacity,o=i.strokeOpacity,s=i.fillOpacity;this.isFill()&&(!(0,Bi.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&n>0&&(!(0,Bi.isNil)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,i){var n=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,i,n,a,o)},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},e}(wb),rs=eCe;var rCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr(),l=s.x,u=s.y,f=s.r,c=o/2,h=Lz(l,u,t,i);return a&&n?h<=f+c:a?h<=f:n?h>=f-c&&h<=f+c:!1},e.prototype.createPath=function(t){var i=this.attr(),n=i.x,a=i.y,o=i.r;t.beginPath(),t.arc(n,a,o,0,Math.PI*2,!1),t.closePath()},e}(rs),lIt=rCe;function Bz(r,e,t,i){return r/(t*t)+e/(i*i)}var iCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr(),l=o/2,u=s.x,f=s.y,c=s.rx,h=s.ry,d=(t-u)*(t-u),v=(i-f)*(i-f);return a&&n?Bz(d,v,c+l,h+l)<=1:a?Bz(d,v,c,h)<=1:n?Bz(d,v,c-l,h-l)>=1&&Bz(d,v,c+l,h+l)<=1:!1},e.prototype.createPath=function(t){var i=this.attr(),n=i.x,a=i.y,o=i.rx,s=i.ry;if(t.beginPath(),t.ellipse)t.ellipse(n,a,o,s,0,0,Math.PI*2,!1);else{var l=o>s?o:s,u=o>s?1:o/s,f=o>s?s/o:1;t.save(),t.translate(n,a),t.scale(u,f),t.arc(0,0,l,0,Math.PI*2),t.restore(),t.closePath()}},e}(rs),uIt=iCe;function fIt(r){return r instanceof HTMLElement&&(0,Bi.isString)(r.nodeName)&&r.nodeName.toUpperCase()==="CANVAS"}var nCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var i=this,n=this.attrs;if((0,Bi.isString)(t)){var a=new Image;a.onload=function(){if(i.destroyed)return!1;i.attr("img",a),i.set("loading",!1),i._afterLoading();var o=i.get("callback");o&&o.call(i)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(n.width||(n.width=t.width),n.height||(n.height=t.height)):fIt(t)&&(n.width||(n.width=Number(t.getAttribute("width"))),n.height||(n.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),t==="img"&&this._setImage(i)},e.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var i=this.attr(),n=i.x,a=i.y,o=i.width,s=i.height,l=i.sx,u=i.sy,f=i.swidth,c=i.sheight,h=i.img;(h instanceof Image||fIt(h))&&(!(0,Bi.isNil)(l)&&!(0,Bi.isNil)(u)&&!(0,Bi.isNil)(f)&&!(0,Bi.isNil)(c)?t.drawImage(h,l,u,f,c,n,a,o,s):t.drawImage(h,n,a,o,s))},e}(rs),cIt=nCe;function oh(r,e,t,i,n,a,o){var s=Math.min(r,t),l=Math.max(r,t),u=Math.min(e,i),f=Math.max(e,i),c=n/2;return a>=s-c&&a<=l+c&&o>=u-c&&o<=f+c?Za.pointToLine(r,e,t,i,a,o)<=n/2:!1}var aCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),i=t.x1,n=t.y1,a=t.x2,o=t.y2,s=t.startArrow,l=t.endArrow;s&&R2(this,t,a,o,i,n),l&&G2(this,t,i,n,a,o)},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){if(!n||!o)return!1;var s=this.attr(),l=s.x1,u=s.y1,f=s.x2,c=s.y2;return oh(l,u,f,c,o,t,i)},e.prototype.createPath=function(t){var i=this.attr(),n=i.x1,a=i.y1,o=i.x2,s=i.y2,l=i.startArrow,u=i.endArrow,f={dx:0,dy:0},c={dx:0,dy:0};l&&l.d&&(f=Gg(n,a,o,s,i.startArrow.d)),u&&u.d&&(c=Gg(n,a,o,s,i.endArrow.d)),t.beginPath(),t.moveTo(n+f.dx,a+f.dy),t.lineTo(o-c.dx,s-c.dy)},e.prototype.afterDrawPath=function(t){var i=this.get("startArrowShape"),n=this.get("endArrowShape");i&&i.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),i=t.x1,n=t.y1,a=t.x2,o=t.y2;return Za.length(i,n,a,o)},e.prototype.getPoint=function(t){var i=this.attr(),n=i.x1,a=i.y1,o=i.x2,s=i.y2;return Za.pointAt(n,a,o,s,t)},e}(rs),hIt=aCe;var dIt=et(ot());var oCe={circle:function(r,e,t){return[["M",r-t,e],["A",t,t,0,1,0,r+t,e],["A",t,t,0,1,0,r-t,e]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e+i],["L",r,e-i],["L",r+t,e+i],["Z"]]},"triangle-down":function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e-i],["L",r+t,e-i],["L",r,e+i],["Z"]]}},sCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return(0,dIt.isNil)(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t=this.attr(),i=t.x,n=t.y,a=t.symbol||"circle",o=this._getR(t),s,l;if((0,Bi.isFunction)(a))s=a,l=s(i,n,o),l=vC(l);else{if(s=e.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;l=s(i,n,o)}return l},e.prototype.createPath=function(t){var i=this._getPath(),n=this.get("paramsCache");Fz(this,t,{path:i},n)},e.Symbols=oCe,e}(rs),vIt=sCe;var Qb=et(ot());function fD(r,e,t){var i=uC();return r.createPath(i),i.isPointInPath(e,t)}var lCe=1e-6;function n$(r){return Math.abs(r)<lCe?0:r<0?-1:1}function uCe(r,e,t){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}function cD(r,e,t){var i=!1,n=r.length;if(n<=2)return!1;for(var a=0;a<n;a++){var o=r[a],s=r[(a+1)%n];if(uCe(o,s,[e,t]))return!0;n$(o[1]-t)>0!=n$(s[1]-t)>0&&n$(e-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(i=!i)}return i}var pIt=et(U5());function Kb(r,e,t,i,n,a,o,s){var l=(Math.atan2(s-e,o-r)+Math.PI*2)%(Math.PI*2);if(l<i||l>n)return!1;var u={x:r+t*Math.cos(l),y:e+t*Math.sin(l)};return Lz(u.x,u.y,o,s)<=a/2}var fCe=Wr.transform;function cCe(r){for(var e=!1,t=r.length,i=0;i<t;i++){var n=r[i],a=n[0];if(a==="C"||a==="A"||a==="Q"){e=!0;break}}return e}function hCe(r,e,t,i,n){for(var a=!1,o=e/2,s=0;s<r.length;s++){var l=r[s],u=l.currentPoint,f=l.params,c=l.prePoint,h=l.box;if(!(h&&!Rg(h.x-o,h.y-o,h.width+e,h.height+e,t,i))){switch(l.command){case"L":case"Z":a=oh(c[0],c[1],u[0],u[1],e,t,i);break;case"Q":var d=mP.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],t,i);a=d<=e/2;break;case"C":var v=x0.pointDistance(c[0],c[1],f[1],f[2],f[3],f[4],f[5],f[6],t,i,n);a=v<=e/2;break;case"A":var p=l.arcParams,g=p.cx,m=p.cy,y=p.rx,x=p.ry,b=p.startAngle,_=p.endAngle,M=p.xRotation,A=[t,i,1],I=y>x?y:x,k=y>x?1:y/x,E=y>x?x/y:1,O=fCe(null,[["t",-g,-m],["r",-M],["s",1/k,1/E]]);pIt.transformMat3(A,A,O),a=Kb(0,0,I,b,_,e,A[0],A[1]);break;default:break}if(a)break}}return a}function dCe(r){for(var e=r.length,t=[],i=[],n=[],a=0;a<e;a++){var o=r[a],s=o[0];s==="M"?(n.length&&(i.push(n),n=[]),n.push([o[1],o[2]])):s==="Z"?n.length&&(t.push(n),n=[]):n.push([o[1],o[2]])}return n.length>0&&i.push(n),{polygons:t,polylines:i}}var hD=S({hasArc:cCe,extractPolygons:dCe,isPointInStroke:hCe},qE);function gIt(r,e,t){for(var i=!1,n=0;n<r.length;n++){var a=r[n];if(i=cD(a,e,t),i)break}return i}var vCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),t==="path"&&this._setPathArr(i),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=vC(t);var i=hD.hasArc(t);this.set("hasArc",i),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=e2(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),i=t.startArrow,n=t.endArrow;if(i){var a=this.getStartTangent();R2(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(n){var a=this.getEndTangent();G2(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.getSegments(),l=this.get("hasArc"),u=!1;if(n){var f=this.getTotalLength();u=hD.isPointInStroke(s,o,t,i,f)}if(!u&&a)if(l)u=fD(this,t,i);else{var c=this.attr("path"),h=hD.extractPolygons(c);u=gIt(h.polygons,t,i)||gIt(h.polylines,t,i)}return u},e.prototype.createPath=function(t){var i=this.attr(),n=this.get("paramsCache");Fz(this,t,i,n)},e.prototype.afterDrawPath=function(t){var i=this.get("startArrowShape"),n=this.get("endArrowShape");i&&i.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,Qb.isNil)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var i=this.get("tCache");i||(this._calculateCurve(),this._setTcache(),i=this.get("tCache"));var n,a,o=this.get("curve");if(!i||i.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,Qb.each)(i,function(f,c){t>=f[0]&&t<=f[1]&&(n=(t-f[0])/(f[1]-f[0]),a=c)});var s=o[a];if((0,Qb.isNil)(s)||(0,Qb.isNil)(a))return null;var l=s.length,u=o[a+1];return x0.pointAt(s[l-2],s[l-1],u[1],u[2],u[3],u[4],u[5],u[6],n)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",hD.pathToCurve(t))},e.prototype._setTcache=function(){var t=0,i=0,n=[],a,o,s,l,u=this.get("curve");if(!!u){if((0,Qb.each)(u,function(f,c){s=u[c+1],l=f.length,s&&(t+=x0.length(f[l-2],f[l-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,Qb.each)(u,function(f,c){s=u[c+1],l=f.length,s&&(a=[],a[0]=i/t,o=x0.length(f[l-2],f[l-1],s[1],s[2],s[3],s[4],s[5],s[6]),i+=o||0,a[1]=i/t,n.push(a))}),this.set("tCache",n)}},e.prototype.getStartTangent=function(){var t=this.getSegments(),i;if(t.length>1){var n=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;i=[],o?(i.push([n[0]-o[0],n[1]-o[1]]),i.push([n[0],n[1]])):(i.push([a[0],a[1]]),i.push([n[0],n[1]]))}return i},e.prototype.getEndTangent=function(){var t=this.getSegments(),i=t.length,n;if(i>1){var a=t[i-2].currentPoint,o=t[i-1].currentPoint,s=t[i-1].endTangent;n=[],s?(n.push([o[0]-s[0],o[1]-s[1]]),n.push([o[0],o[1]])):(n.push([a[0],a[1]]),n.push([o[0],o[1]]))}return n},e}(rs),lD=vCe;function dD(r,e,t,i,n){var a=r.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=r[o][0],l=r[o][1],u=r[o+1][0],f=r[o+1][1];if(oh(s,l,u,f,e,t,i))return!0}if(n){var c=r[0],h=r[a-1];if(oh(c[0],c[1],h[0],h[1],e,t,i))return!0}return!1}var pCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr().points,l=!1;return n&&(l=dD(s,o,t,i,!0)),!l&&a&&(l=cD(s,t,i)),l},e.prototype.createPath=function(t){var i=this.attr(),n=i.points;if(!(n.length<2)){t.beginPath();for(var a=0;a<n.length;a++){var o=n[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},e}(rs),mIt=pCe;var vD=et(ot());var gCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),i=this.attrs,n=i.points,a=i.startArrow,o=i.endArrow,s=n.length,l=n[0][0],u=n[0][1],f=n[s-1][0],c=n[s-1][1];a&&R2(this,t,n[1][0],n[1][1],l,u),o&&G2(this,t,n[s-2][0],n[s-2][1],f,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){if(!n||!o)return!1;var s=this.attr().points;return dD(s,o,t,i,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var i=this.attr(),n=i.points,a=i.startArrow,o=i.endArrow,s=n.length;if(!(n.length<2)){var l=n[0][0],u=n[0][1],f=n[s-1][0],c=n[s-1][1];if(a&&a.d){var h=Gg(l,u,n[1][0],n[1][1],a.d);l+=h.dx,u+=h.dy}if(o&&o.d){var h=Gg(n[s-2][0],n[s-2][1],f,c,o.d);f-=h.dx,c-=h.dy}t.beginPath(),t.moveTo(l,u);for(var d=0;d<s-1;d++){var v=n[d];t.lineTo(v[0],v[1])}t.lineTo(f,c)}},e.prototype.afterDrawPath=function(t){var i=this.get("startArrowShape"),n=this.get("endArrowShape");i&&i.draw(t),n&&n.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,i=this.get("totalLength");return(0,vD.isNil)(i)?(this.set("totalLength",JE.length(t)),this.get("totalLength")):i},e.prototype.getPoint=function(t){var i=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,vD.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Za.pointAt(i[o][0],i[o][1],i[o+1][0],i[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var i=this.getTotalLength();if(!(i<=0)){var n=0,a=[],o,s;(0,vD.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/i,s=Za.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/i,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i},e.prototype.getEndTangent=function(){var t=this.attr().points,i=t.length-1,n=[];return n.push([t[i-1][0],t[i-1][1]]),n.push([t[i][0],t[i][1]]),n},e}(rs),yIt=gCe;function a$(r,e,t,i,n,a,o){var s=n/2;return Rg(r-s,e-s,t,n,a,o)||Rg(r+t-s,e-s,n,i,a,o)||Rg(r+s,e+i-s,t,n,a,o)||Rg(r-s,e+s,n,i,a,o)}function o$(r,e,t,i,n,a,o,s){var l=a/2;return oh(r+n,e,r+t-n,e,a,o,s)||oh(r+t,e+n,r+t,e+i-n,a,o,s)||oh(r+t-n,e+i,r+n,e+i,a,o,s)||oh(r,e+i-n,r,e+n,a,o,s)||Kb(r+t-n,e+n,n,1.5*Math.PI,2*Math.PI,a,o,s)||Kb(r+t-n,e+i-n,n,0,.5*Math.PI,a,o,s)||Kb(r+n,e+i-n,n,.5*Math.PI,Math.PI,a,o,s)||Kb(r+n,e+n,n,Math.PI,1.5*Math.PI,a,o,s)}var mCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,i,n,a,o){var s=this.attr(),l=s.x,u=s.y,f=s.width,c=s.height,h=s.radius;if(h){var v=!1;return n&&(v=o$(l,u,f,c,h,o,t,i)),!v&&a&&(v=fD(this,t,i)),v}else{var d=o/2;if(a&&n)return Rg(l-d,u-d,f+d,c+d,t,i);if(a)return Rg(l,u,f,c,t,i);if(n)return a$(l,u,f,c,o,t,i)}},e.prototype.createPath=function(t){var i=this.attr(),n=i.x,a=i.y,o=i.width,s=i.height,l=i.radius;if(t.beginPath(),l===0)t.rect(n,a,o,s);else{var u=tIt(l),f=u[0],c=u[1],h=u[2],d=u[3];t.moveTo(n+f,a),t.lineTo(n+o-c,a),c!==0&&t.arc(n+o-c,a+c,c,-Math.PI/2,0),t.lineTo(n+o,a+s-h),h!==0&&t.arc(n+o-h,a+s-h,h,0,Math.PI/2),t.lineTo(n+d,a+s),d!==0&&t.arc(n+d,a+s-d,d,Math.PI/2,Math.PI),t.lineTo(n,a+f),f!==0&&t.arc(n+f,a+f,f,Math.PI,Math.PI*1.5),t.closePath()}},e}(rs),xIt=mCe;var yCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=cC(t)},e.prototype._setText=function(t){var i=null;(0,Bi.isString)(t)&&t.indexOf(`
`)!==-1&&(i=t.split(`
`)),this.set("textArr",i)},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(i)},e.prototype._getSpaceingY=function(){var t=this.attrs,i=t.lineHeight,n=t.fontSize*1;return i?i-n:n*.14},e.prototype._drawTextArr=function(t,i,n){var a=this.attrs,o=a.textBaseline,s=a.x,l=a.y,u=a.fontSize*1,f=this._getSpaceingY(),c=fC(a.text,a.fontSize,a.lineHeight),h;(0,Bi.each)(i,function(d,v){h=l+v*(f+u)-c+u,o==="middle"&&(h+=c-u-(c-u)/2),o==="top"&&(h+=c-u),(0,Bi.isNil)(d)||(n?t.fillText(d,s,h):t.strokeText(d,s,h))})},e.prototype._drawText=function(t,i){var n=this.attr(),a=n.x,o=n.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,i);else{var l=n.text;(0,Bi.isNil)(l)||(i?t.fillText(l,a,o):t.strokeText(l,a,o))}},e.prototype.strokeAndFill=function(t){var i=this.attrs,n=i.lineWidth,a=i.opacity,o=i.strokeOpacity,s=i.fillOpacity;this.isStroke()&&n>0&&(!(0,Bi.isNil)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,Bi.isNil)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(rs),bIt=yCe;function xCe(r,e){if(e){var t=rC(e);return $c(t,r)}return r}function wIt(r,e,t){var i=r.getTotalMatrix();if(i){var n=xCe([e,t,1],i),a=n[0],o=n[1];return[a,o]}return[e,t]}function _It(r,e,t){if(r.isCanvas&&r.isCanvas())return!0;if(!gb(r)||r.cfg.isInView===!1)return!1;if(r.cfg.clipShape){var i=wIt(r,e,t),n=i[0],a=i[1];if(r.isClipped(n,a))return!1}var o=r.cfg.cacheCanvasBBox||r.getCanvasBBox();return e>=o.minX&&e<=o.maxX&&t>=o.minY&&t<=o.maxY}function s$(r,e,t){if(!_It(r,e,t))return null;for(var i=null,n=r.getChildren(),a=n.length,o=a-1;o>=0;o--){var s=n[o];if(s.isGroup())i=s$(s,e,t);else if(_It(s,e,t)){var l=s,u=wIt(s,e,t),f=u[0],c=u[1];l.isInShape(f,c)&&(i=s)}if(i)break}return i}var bCe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},e.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return B0},e.prototype.getGroupBase=function(){return z2},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||ZTt();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),i=t.getContext("2d");return this.set("context",i),t},e.prototype.setDOMSize=function(t,i){r.prototype.setDOMSize.call(this,t,i);var n=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*i,o>1&&n.scale(o,o)},e.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),i=this.get("el");t.clearRect(0,0,i.width,i.height)},e.prototype.getShape=function(t,i){var n;return this.get("quickHit")?n=s$(this,t,i):n=r.prototype.getShape.call(this,t,i,null),n},e.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),i=this.getViewRange(),n;if(t.length&&t[0]===this)n=i;else if(n=oIt(t),n){n.minX=Math.floor(n.minX),n.minY=Math.floor(n.minY),n.maxX=Math.ceil(n.maxX),n.maxY=Math.ceil(n.maxY),n.maxY+=1;var a=this.get("clipView");a&&(n=sIt(n,i))}return n},e.prototype.refreshElement=function(t){var i=this.get("refreshElements");i.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,Bi.clearAnimationFrame)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),i=this.get("el"),n=this.getChildren();t.clearRect(0,0,i.width,i.height),N0(t,this),uD(t,n),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),i=this.get("refreshElements"),n=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),N0(t,this),aIt(this,n,a),uD(t,n,a),t.restore()):i.length&&r$(i),(0,Bi.each)(i,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,i=this.get("drawFrame"),n=this.get("drawFrameCallback");i||(i=(0,Bi.requestAnimationFrame)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null),n&&n()}),this.set("drawFrame",i))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(sC),wu=bCe;var wCe="0.5.12";var h$={};ai(h$,{AbstractCanvas:()=>sC,AbstractGroup:()=>bb,AbstractShape:()=>wb,Base:()=>tC,Canvas:()=>jg,Event:()=>ad,Group:()=>j2,PathUtil:()=>qE,Shape:()=>G0,assembleFont:()=>cC,getBBoxMethod:()=>_b,getOffScreenContext:()=>uC,getTextHeight:()=>fC,invert:()=>rC,isAllowCapture:()=>gb,multiplyVec2:()=>$c,registerBBox:()=>Kf,registerEasing:()=>_K,version:()=>JCe});var G0={};ai(G0,{Base:()=>ko,Circle:()=>TIt,Dom:()=>LIt,Ellipse:()=>kIt,Image:()=>PIt,Line:()=>DIt,Marker:()=>FIt,Path:()=>NIt,Polygon:()=>BIt,Polyline:()=>RIt,Rect:()=>zIt,Text:()=>YIt});var SIt=et(ot());var pD={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Oi={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"};function Ps(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Rz(r){var e=pD[r.type],t=r.getParent();if(!e)throw new Error("the type "+r.type+" is not supported by svg");var i=Ps(e);if(r.get("id")&&(i.id=r.get("id")),r.set("el",i),r.set("attrs",{}),t){var n=t.get("el");n||(n=t.createDom(),t.set("el",n)),n.appendChild(i)}return i}function Gz(r,e){var t=r.get("el"),i=(0,SIt.toArray)(t.children).sort(e),n=document.createDocumentFragment();i.forEach(function(a){n.appendChild(a)}),t.appendChild(n)}function CIt(r,e){var t=r.parentNode,i=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),n=i[e],a=i.indexOf(r);if(n){if(a>e)t.insertBefore(r,n);else if(a<e){var o=i[e+1];o?t.insertBefore(r,o):t.appendChild(r)}}else t.appendChild(r)}function MIt(r,e){var t=r.cfg.el,i=r.attr(),n={dx:i.shadowOffsetX,dy:i.shadowOffsetY,blur:i.shadowBlur,color:i.shadowColor};if(!n.dx&&!n.dy&&!n.blur&&!n.color)t.removeAttribute("filter");else{var a=e.find("filter",n);a||(a=e.addShadow(n)),t.setAttribute("filter","url(#"+a+")")}}function zg(r){var e=r.attr().matrix;if(e){for(var t=r.cfg.el,i=[],n=0;n<9;n+=3)i.push(e[n]+","+e[n+1]);i=i.join(","),i.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+i+")"):console.warn("invalid matrix:",e)}}function R0(r,e){var t=r.getClip(),i=r.get("el");if(!t)i.removeAttribute("clip-path");else if(t&&!i.hasAttribute("clip-path")){Rz(t),t.createPath(e);var n=e.addClip(t);i.setAttribute("clip-path","url(#"+n+")")}}function zz(r,e){e.forEach(function(t){t.draw(r)})}function jz(r,e){var t=r.get("canvas");if(t&&t.get("autoDraw")){var i=t.get("context"),n=r.getParent(),a=n?n.getChildren():[t],o=r.get("el");if(e==="remove"){var s=r.get("isClipShape");if(s){var l=o&&o.parentNode,u=l&&l.parentNode;l&&u&&u.removeChild(l)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(e==="show")o.setAttribute("visibility","visible");else if(e==="hide")o.setAttribute("visibility","hidden");else if(e==="zIndex")CIt(o,a.indexOf(r));else if(e==="sort"){var f=r.get("children");f&&f.length&&Gz(r,function(c,h){return f.indexOf(c)-f.indexOf(h)?1:0})}else e==="clear"?o&&(o.innerHTML=""):e==="matrix"?zg(r):e==="clip"?R0(r,i):e==="attr"||e==="add"&&r.draw(i)}}var AIt=et(ot());var _Ce=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Ps("g");this.set("el",t);var i=this.getParent();if(i){var n=i.get("el");n||(n=i.createDom(),i.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var i=this.get("canvas");if(i&&i.get("autoDraw")){var n=i.get("context");this.createPath(n,t)}},e.prototype.onCanvasChange=function(t){jz(this,t)},e.prototype.getShapeBase=function(){return G0},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var i=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),R0(this,t),this.createPath(t),i.length&&zz(t,i))},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");(0,AIt.each)(i||n,function(o,s){Oi[s]&&a.setAttribute(Oi[s],o)}),zg(this)},e}(bb),j2=_Ce;var SCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(t){r.prototype.afterAttrsChange.call(this,t);var i=this.get("canvas");if(i&&i.get("autoDraw")){var n=i.get("context");this.draw(n,t)}},e.prototype.getShapeBase=function(){return G0},e.prototype.getGroupBase=function(){return j2},e.prototype.onCanvasChange=function(t){jz(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),i=null;if(t)i=t.getBBox();else{var n=_b(this.get("type"));n&&(i=n(this))}if(i){var a=i.x,o=i.y,s=i.width,l=i.height,u=this.getHitLineWidth(),f=u/2,c=a-f,h=o-f,d=a+s+f,v=o+l+f;return{x:c,y:h,minX:c,minY:h,maxX:d,maxY:v,width:s+u,height:l+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),i=t.fill,n=t.fillStyle;return(i||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),i=t.stroke,n=t.strokeStyle;return(i||n)&&this.canStroke},e.prototype.draw=function(t,i){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Rz(this),R0(this,t),this.createPath(t,i),this.shadow(t,i),this.strokeAndFill(t,i),this.transform(i))},e.prototype.createPath=function(t,i){},e.prototype.strokeAndFill=function(t,i){var n=i||this.attr(),a=n.fill,o=n.fillStyle,s=n.stroke,l=n.strokeStyle,u=n.fillOpacity,f=n.strokeOpacity,c=n.lineWidth,h=this.get("el");this.canFill&&(i?"fill"in n?this._setColor(t,"fill",a):"fillStyle"in n&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),u&&h.setAttribute(Oi.fillOpacity,u)),this.canStroke&&c>0&&(i?"stroke"in n?this._setColor(t,"stroke",s):"strokeStyle"in n&&this._setColor(t,"stroke",l):this._setColor(t,"stroke",s||l),f&&h.setAttribute(Oi.strokeOpacity,f),c&&h.setAttribute(Oi.lineWidth,c))},e.prototype._setColor=function(t,i,n){var a=this.get("el");if(!n){a.setAttribute(Oi[i],"none");return}if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var o=t.find("gradient",n);o||(o=t.addGradient(n)),a.setAttribute(Oi[i],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){var o=t.find("pattern",n);o||(o=t.addPattern(n)),a.setAttribute(Oi[i],"url(#"+o+")")}else a.setAttribute(Oi[i],n)},e.prototype.shadow=function(t,i){var n=this.attr(),a=i||n,o=a.shadowOffsetX,s=a.shadowOffsetY,l=a.shadowBlur,u=a.shadowColor;(o||s||l||u)&&MIt(this,t)},e.prototype.transform=function(t){var i=this.attr(),n=(t||i).matrix;n&&zg(this)},e.prototype.isInShape=function(t,i){return this.isPointInPath(t,i)},e.prototype.isPointInPath=function(t,i){var n=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,l=i+o.top,u=document.elementFromPoint(s,l);return!!(u&&u.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,i=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?i+n:0},e}(wb),ko=SCe;var EIt=et(ot());var CCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,r:0})},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");(0,EIt.each)(i||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Oi[s]&&a.setAttribute(Oi[s],o)})},e}(ko),TIt=CCe;var IIt=et(ot());var MCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");if((0,IIt.each)(i||n,function(u,f){Oi[f]&&a.setAttribute(Oi[f],u)}),typeof n.html=="function"){var o=n.html.call(this,n);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,l=s.length-1;l>=0;l--)a.removeChild(s[l]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=n.html},e}(ko),LIt=MCe;var OIt=et(ot());var ACe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");(0,OIt.each)(i||n,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Oi[s]&&a.setAttribute(Oi[s],o)})},e}(ko),kIt=ACe;var gD=et(ot());var ECe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el");(0,gD.each)(i||a,function(s,l){l==="img"?n._setImage(a.img):Oi[l]&&o.setAttribute(Oi[l],s)})},e.prototype.setAttr=function(t,i){this.attrs[t]=i,t==="img"&&this._setImage(i)},e.prototype._setImage=function(t){var i=this.attr(),n=this.get("el");if((0,gD.isString)(t))n.setAttribute("href",t);else if(t instanceof window.Image)i.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,gD.isString)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),i.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),i.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",a.toDataURL())}},e}(ko),PIt=ECe;var Yz=et(ot());var TCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");(0,Yz.each)(i||n,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var l=(0,Yz.isObject)(o)?t.addArrow(n,Oi[s]):t.getDefaultArrow(n,Oi[s]);a.setAttribute(Oi[s],"url(#"+l+")")}else a.removeAttribute(Oi[s]);else Oi[s]&&a.setAttribute(Oi[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr(),i=t.x1,n=t.y1,a=t.x2,o=t.y2;return Za.length(i,n,a,o)},e.prototype.getPoint=function(t){var i=this.attr(),n=i.x1,a=i.y1,o=i.x2,s=i.y2;return Za.pointAt(n,a,o,s,t)},e}(ko),DIt=TCe;var Vz=et(ot());var Wz={circle:function(r,e,t){return[["M",r,e],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(r,e,t){return[["M",r-t,e-t],["L",r+t,e-t],["L",r+t,e+t],["L",r-t,e+t],["Z"]]},diamond:function(r,e,t){return[["M",r-t,e],["L",r,e-t],["L",r+t,e],["L",r,e+t],["Z"]]},triangle:function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e+i],["L",r,e-i],["L",r+t,e+i],["z"]]},triangleDown:function(r,e,t){var i=t*Math.sin(1/3*Math.PI);return[["M",r-t,e-i],["L",r+t,e-i],["L",r,e+i],["Z"]]}},u$={get:function(r){return Wz[r]},register:function(r,e){Wz[r]=e},remove:function(r){delete Wz[r]},getAll:function(){return Wz}};var ICe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t){var i=this.get("el");i.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return(0,Vz.isArray)(t)?t.map(function(i){return i.join(" ")}).join(""):t},e.prototype._getPath=function(){var t=this.attr(),i=t.x,n=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,Vz.isFunction)(o)?s=o:s=u$.get(o),s?s(i,n,a):(console.warn(s+" symbol is not exist."),null)},e.symbolsFactory=u$,e}(ko),FIt=ICe;var Y2=et(ot());var LCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el");(0,Y2.each)(i||a,function(s,l){if(l==="path"&&(0,Y2.isArray)(s))o.setAttribute("d",n._formatPath(s));else if(l==="startArrow"||l==="endArrow")if(s){var u=(0,Y2.isObject)(s)?t.addArrow(a,Oi[l]):t.getDefaultArrow(a,Oi[l]);o.setAttribute(Oi[l],"url(#"+u+")")}else o.removeAttribute(Oi[l]);else Oi[l]&&o.setAttribute(Oi[l],s)})},e.prototype._formatPath=function(t){var i=t.map(function(n){return n.join(" ")}).join("");return~i.indexOf("NaN")?"":i},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var i=this.get("el"),n=this.getTotalLength();if(n===0)return null;var a=i?i.getPointAtLength(t*n):null;return a?{x:a.x,y:a.y}:null},e}(ko),NIt=LCe;var qz=et(ot());var OCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");(0,qz.each)(i||n,function(o,s){s==="points"&&(0,qz.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Oi[s]&&a.setAttribute(Oi[s],o)})},e}(ko),BIt=OCe;var $b=et(ot());var kCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(t,i,n){r.prototype.onAttrChange.call(this,t,i,n),["points"].indexOf(t)!==-1&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,i){var n=this.attr(),a=this.get("el");(0,$b.each)(i||n,function(o,s){s==="points"&&(0,$b.isArray)(o)&&o.length>=2?a.setAttribute("points",o.map(function(l){return l[0]+","+l[1]}).join(" ")):Oi[s]&&a.setAttribute(Oi[s],o)})},e.prototype.getTotalLength=function(){var t=this.attr().points,i=this.get("totalLength");return(0,$b.isNil)(i)?(this.set("totalLength",JE.length(t)),this.get("totalLength")):i},e.prototype.getPoint=function(t){var i=this.attr().points,n=this.get("tCache");n||(this._setTcache(),n=this.get("tCache"));var a,o;return(0,$b.each)(n,function(s,l){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=l)}),Za.pointAt(i[o][0],i[o][1],i[o+1][0],i[o+1][1],a)},e.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var i=this.getTotalLength();if(!(i<=0)){var n=0,a=[],o,s;(0,$b.each)(t,function(l,u){t[u+1]&&(o=[],o[0]=n/i,s=Za.length(l[0],l[1],t[u+1][0],t[u+1][1]),n+=s,o[1]=n/i,a.push(o))}),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,i=[];return i.push([t[1][0],t[1][1]]),i.push([t[0][0],t[0][1]]),i},e.prototype.getEndTangent=function(){var t=this.attr().points,i=t.length-1,n=[];return n.push([t[i-1][0],t[i-1][1]]),n.push([t[i][0],t[i][1]]),n},e}(ko),RIt=kCe;var Uz=et(ot());var Hz=et(ot());function GIt(r){var e=0,t=0,i=0,n=0;return(0,Hz.isArray)(r)?r.length===1?e=t=i=n=r[0]:r.length===2?(e=i=r[0],t=n=r[1]):r.length===3?(e=r[0],t=n=r[1],i=r[2]):(e=r[0],t=r[1],i=r[2],n=r[3]):e=t=i=n=r,{r1:e,r2:t,r3:i,r4:n}}var PCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el"),s=!1,l=["x","y","width","height","radius"];(0,Uz.each)(i||a,function(u,f){l.indexOf(f)!==-1&&!s?(o.setAttribute("d",n._assembleRect(a)),s=!0):l.indexOf(f)===-1&&Oi[f]&&o.setAttribute(Oi[f],u)})},e.prototype._assembleRect=function(t){var i=t.x,n=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+i+","+n+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var l=GIt(s);(0,Uz.isArray)(s)?s.length===1?l.r1=l.r2=l.r3=l.r4=s[0]:s.length===2?(l.r1=l.r3=s[0],l.r2=l.r4=s[1]):s.length===3?(l.r1=s[0],l.r2=l.r4=s[1],l.r3=s[2]):(l.r1=s[0],l.r2=s[1],l.r3=s[2],l.r4=s[3]):l.r1=l.r2=l.r3=l.r4=s;var u=[["M "+(i+l.r1)+","+n],["l "+(a-l.r1-l.r2)+",0"],["a "+l.r2+","+l.r2+",0,0,1,"+l.r2+","+l.r2],["l 0,"+(o-l.r2-l.r3)],["a "+l.r3+","+l.r3+",0,0,1,"+-l.r3+","+l.r3],["l "+(l.r3+l.r4-a)+",0"],["a "+l.r4+","+l.r4+",0,0,1,"+-l.r4+","+-l.r4],["l 0,"+(l.r4+l.r1-o)],["a "+l.r1+","+l.r1+",0,0,1,"+l.r1+","+-l.r1],["z"]];return u.join(" ")},e}(ko),zIt=PCe;var f$=et(ot());var jIt=.3,DCe={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},FCe={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},NCe={left:"left",start:"left",center:"middle",right:"end",end:"end"},BCe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return e.prototype.getDefaultAttrs=function(){var t=r.prototype.getDefaultAttrs.call(this);return S(S({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,i){var n=this,a=this.attr(),o=this.get("el");this._setFont(),(0,f$.each)(i||a,function(s,l){l==="text"?n._setText(""+s):l==="matrix"&&s?zg(n):Oi[l]&&o.setAttribute(Oi[l],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),i=this.attr(),n=i.textBaseline,a=i.textAlign,o=H5();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",FCe[n]||"alphabetic"):t.setAttribute("alignment-baseline",DCe[n]||"baseline"),t.setAttribute("text-anchor",NCe[a]||"left")},e.prototype._setText=function(t){var i=this.get("el"),n=this.attr(),a=n.x,o=n.textBaseline,s=o===void 0?"bottom":o;if(!t)i.innerHTML="";else if(~t.indexOf(`
`)){var l=t.split(`
`),u=l.length-1,f="";(0,f$.each)(l,function(c,h){h===0?s==="alphabetic"?f+='<tspan x="'+a+'" dy="'+-u+'em">'+c+"</tspan>":s==="top"?f+='<tspan x="'+a+'" dy="0.9em">'+c+"</tspan>":s==="middle"?f+='<tspan x="'+a+'" dy="'+-(u-1)/2+'em">'+c+"</tspan>":s==="bottom"?f+='<tspan x="'+a+'" dy="-'+(u+jIt)+'em">'+c+"</tspan>":s==="hanging"&&(f+='<tspan x="'+a+'" dy="'+(-(u-1)-jIt)+'em">'+c+"</tspan>"):f+='<tspan x="'+a+'" dy="1em">'+c+"</tspan>"}),i.innerHTML=f}else i.innerHTML=t},e}(ko),YIt=BCe;var KIt=et(ot());var Jb=et(ot());var RCe=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,GCe=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,zCe=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function WIt(r){var e=r.match(zCe);if(!e)return"";var t="";return e.sort(function(i,n){return i=i.split(":"),n=n.split(":"),Number(i[0])-Number(n[0])}),(0,Jb.each)(e,function(i){i=i.split(":"),t+='<stop offset="'+i[0]+'" stop-color="'+i[1]+'"></stop>'}),t}function jCe(r,e){var t=RCe.exec(r),i=(0,Jb.mod)((0,Jb.toRadian)(parseFloat(t[1])),Math.PI*2),n=t[2],a,o;i>=0&&i<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=i&&i<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=i&&i<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(i),l=s*s,u=(o.x-a.x+s*(o.y-a.y))/(l+1)+a.x,f=s*(o.x-a.x+s*(o.y-a.y))/(l+1)+a.y;e.setAttribute("x1",a.x),e.setAttribute("y1",a.y),e.setAttribute("x2",u),e.setAttribute("y2",f),e.innerHTML=WIt(n)}function YCe(r,e){var t=GCe.exec(r),i=parseFloat(t[1]),n=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];e.setAttribute("cx",i),e.setAttribute("cy",n),e.setAttribute("r",a),e.innerHTML=WIt(o)}var WCe=function(){function r(e){this.cfg={};var t=null,i=(0,Jb.uniqueId)("gradient_");return e.toLowerCase()[0]==="l"?(t=Ps("linearGradient"),jCe(e,t)):(t=Ps("radialGradient"),YCe(e,t)),t.setAttribute("id",i),this.el=t,this.id=i,this.cfg=e,this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),VIt=WCe;var mD=et(ot());var VCe={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},qCe={x:"-40%",y:"-40%",width:"200%",height:"200%"},HCe=function(){function r(e){this.type="filter",this.cfg={},this.type="filter";var t=Ps("filter");return(0,mD.each)(qCe,function(i,n){t.setAttribute(n,i)}),this.el=t,this.id=(0,mD.uniqueId)("filter_"),this.el.id=this.id,this.cfg=e,this._parseShadow(e,t),this}return r.prototype.match=function(e,t){if(this.type!==e)return!1;var i=!0,n=this.cfg;return(0,mD.each)(Object.keys(n),function(a){if(n[a]!==t[a])return i=!1,!1}),i},r.prototype.update=function(e,t){var i=this.cfg;return i[VCe[e]]=t,this._parseShadow(i,this.el),this},r.prototype._parseShadow=function(e,t){var i=`<feDropShadow
      dx="`+(e.dx||0)+`"
      dy="`+(e.dy||0)+`"
      stdDeviation="`+(e.blur?e.blur/10:0)+`"
      flood-color="`+(e.color?e.color:"#000")+`"
      flood-opacity="`+(e.opacity?e.opacity:1)+`"
      />`;t.innerHTML=i},r}(),qIt=HCe;var Xz=et(ot());var UCe=function(){function r(e,t){this.cfg={};var i=Ps("marker"),n=(0,Xz.uniqueId)("marker_");i.setAttribute("id",n);var a=Ps("path");a.setAttribute("stroke",e.stroke||"none"),a.setAttribute("fill",e.fill||"none"),i.appendChild(a),i.setAttribute("overflow","visible"),i.setAttribute("orient","auto-start-reverse"),this.el=i,this.child=a,this.id=n;var o=e[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=e.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(e.lineWidth,a)),this}return r.prototype.match=function(){return!1},r.prototype._setDefaultPath=function(e,t){var i=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),i.setAttribute("refX",""+10*Math.cos(Math.PI/6)),i.setAttribute("refY",""+5)},r.prototype._setMarker=function(e,t){var i=this.el,n=this.cfg.path,a=this.cfg.d;(0,Xz.isArray)(n)&&(n=n.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",n),i.appendChild(t),a&&i.setAttribute("refX",""+a/e)},r.prototype.update=function(e){var t=this.child;t.attr?t.attr("fill",e):t.setAttribute("fill",e)},r}(),c$=UCe;var HIt=et(ot());var XCe=function(){function r(e){this.type="clip",this.cfg={};var t=Ps("clipPath");this.el=t,this.id=(0,HIt.uniqueId)("clip_"),t.id=this.id;var i=e.cfg.el;return t.appendChild(i),this.cfg=e,this}return r.prototype.match=function(){return!1},r.prototype.remove=function(){var e=this.el;e.parentNode.removeChild(e)},r}(),UIt=XCe;var XIt=et(ot());var ZCe=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,KCe=function(){function r(e){this.cfg={};var t=Ps("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var i=Ps("image");t.appendChild(i);var n=(0,XIt.uniqueId)("pattern_");t.id=n,this.el=t,this.id=n,this.cfg=e;var a=ZCe.exec(e),o=a[2];i.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function l(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?l():(s.onload=l,s.src=s.src),this}return r.prototype.match=function(e,t){return this.cfg===t},r}(),ZIt=KCe;var QCe=function(){function r(e){var t=Ps("defs"),i=(0,KIt.uniqueId)("defs_");t.id=i,e.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=e}return r.prototype.find=function(e,t){for(var i=this.children,n=null,a=0;a<i.length;a++)if(i[a].match(e,t)){n=i[a].id;break}return n},r.prototype.findById=function(e){for(var t=this.children,i=null,n=0;n<t.length;n++)if(t[n].id===e){i=t[n];break}return i},r.prototype.add=function(e){this.children.push(e),e.canvas=this.canvas,e.parent=this},r.prototype.getDefaultArrow=function(e,t){var i=e.stroke||e.strokeStyle;if(this.defaultArrow[i])return this.defaultArrow[i].id;var n=new c$(e,t);return this.defaultArrow[i]=n,this.el.appendChild(n.el),this.add(n),n.id},r.prototype.addGradient=function(e){var t=new VIt(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addArrow=function(e,t){var i=new c$(e,t);return this.el.appendChild(i.el),this.add(i),i.id},r.prototype.addShadow=function(e){var t=new qIt(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addPattern=function(e){var t=new ZIt(e);return this.el.appendChild(t.el),this.add(t),t.id},r.prototype.addClip=function(e){var t=new UIt(e);return this.el.appendChild(t.el),this.add(t),t.id},r}(),QIt=QCe;var $Ce=function(r){G(e,r);function e(t){return r.call(this,S(S({},t),{autoDraw:!0,renderer:"svg"}))||this}return e.prototype.getShapeBase=function(){return G0},e.prototype.getGroupBase=function(){return j2},e.prototype.getShape=function(t,i,n){var a=n.target||n.srcElement;if(!pD[a.tagName]){for(var o=a.parentNode;o&&!pD[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},e.prototype.createDom=function(){var t=Ps("svg"),i=new QIt(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",i),t},e.prototype.onCanvasChange=function(t){var i=this.get("context"),n=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Gz(this,function(s,l){return a.indexOf(s)-a.indexOf(l)?1:0})}else if(t==="clear"){if(n){n.innerHTML="";var o=i.el;o.innerHTML="",n.appendChild(o)}}else t==="matrix"?zg(this):t==="clip"?R0(this,i):t==="changeSize"&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),i=this.getChildren();R0(this,t),i.length&&zz(t,i)},e}(sC),jg=$Ce;var JCe="0.5.6";var tMe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="path",i.shapeType="line";var n=t.connectNulls,a=n===void 0?!1:n,o=t.showSinglePoint,s=o===void 0?!0:o;return i.connectNulls=a,i.showSinglePoint=s,i}return e.prototype.updateElements=function(t,i){var n,a,o,s,l,u;i===void 0&&(i=!1);for(var f=new Map,c=new Map,h=[],d=0,v=0;v<t.length;v++){var p=t[v],g=this.getElementId(p);h.push(g),f.set(g,p),c.set(g,d),d++}this.elements=new Array(d);var m=_z(this.lastElementsMap,h),y=m.added,x=m.updated,b=m.removed;try{for(var _=er(y),M=_.next();!M.done;M=_.next()){var g=M.value,p=f.get(g),A=this.getShapeFactory(),I=this.getShapeInfo(p),v=c.get(g),k=new k2({shapeFactory:A,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:v});k.geometry=this,k.animate=this.animateOption,k.draw(I,i),this.elementsMap[g]=k,this.elements[v]=k}}catch(z){n={error:z}}finally{try{M&&!M.done&&(a=_.return)&&a.call(_)}finally{if(n)throw n.error}}try{for(var E=er(x),O=E.next();!O.done;O=E.next()){var g=O.value,p=f.get(g),k=this.lastElementsMap[g],v=c.get(g),I=this.getShapeInfo(p),P=k.getModel();(this.isCoordinateChanged||wz(P,I))&&(k.animate=this.animateOption,k.update(I)),this.elementsMap[g]=k,this.elements[v]=k}}catch(z){o={error:z}}finally{try{O&&!O.done&&(s=E.return)&&s.call(E)}finally{if(o)throw o.error}}try{for(var N=er(b),R=N.next();!R.done;R=N.next()){var g=R.value,k=this.lastElementsMap[g];k.animate=this.animateOption,k.destroy()}}catch(z){l={error:z}}finally{try{R&&!R.done&&(u=N.return)&&u.call(N)}finally{if(l)throw l.error}}},e.prototype.getPointsAndData=function(t){for(var i=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];i.push({x:s.x,y:s.y}),n.push(s[sn])}return{points:i,data:n}},e.prototype.getShapeInfo=function(t){var i=this.getDrawCfg(t[0]),n=this.getPointsAndData(t),a=n.points,o=n.data;return i.mappingData=t,i.data=o,i.isStack=!!this.getAdjust("stack"),i.points=a,i.connectNulls=this.connectNulls,i.showSinglePoint=this.showSinglePoint,i},e}(dl),W2=tMe;var JIt=et(ot());var $It=et(ot());function eMe(r,e,t,i,n){var a=[];if(r.length){for(var o=[],s=[],l=0,u=r.length;l<u;l++){var f=r[l];o.push(f[1]),s.push(f[0])}s=s.reverse(),(0,$It.each)([o,s],function(c,h){var d=[],v=i.parsePoints(c),p=v[0];o.length===1&&s.length===1?d=h===0?[["M",p.x-.5,p.y],["L",p.x+.5,p.y]]:[["L",p.x+.5,p.y],["L",p.x-.5,p.y]]:(e&&v.push({x:p.x,y:p.y}),t?d=EC(v,!1,n):d=T0(v,!1),h>0&&(d[0][0]="L")),a=a.concat(d)}),a.push(["Z"])}return a}function tw(r,e,t,i,n){for(var a=Hi(r,e,!e,"lineWidth"),o=r.connectNulls,s=r.isInCircle,l=r.points,u=r.showSinglePoint,f=qb(l,o,u),c=[],h=0,d=f.length;h<d;h++){var v=f[h];c=c.concat(eMe(v,s,t,i,n))}return a.path=c,a}function Zz(r){var e=r.start,t=r.end;return[[e.x,t.y],[t.x,e.y]]}var pxi=hl("area",{defaultShapeType:"area",getDefaultPoints:function(r){var e=r.x,t=r.y0,i=(0,JIt.isArray)(r.y)?r.y:[t,r.y];return i.map(function(n){return{x:e,y:n}})}});kr("area","area",{draw:function(r,e){var t=tw(r,!1,!1,this),i=e.addShape({type:"path",attrs:t,name:"area"});return i},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});var rMe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="area",i.shapeType="area",i.generatePoints=!0,i.startOnZero=!0;var n=t.startOnZero,a=n===void 0?!0:n,o=t.sortable,s=o===void 0?!1:o,l=t.showSinglePoint,u=l===void 0?!1:l;return i.startOnZero=a,i.sortable=s,i.showSinglePoint=u,i}return e.prototype.getPointsAndData=function(t){for(var i=[],n=[],a=0,o=t.length;a<o;a++){var s=t[a];i.push(s.points),n.push(s[sn])}return{points:i,data:n}},e.prototype.getYMinValue=function(){if(this.startOnZero)return r.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},e}(W2),tLt=rMe;var Exi=hl("edge",{defaultShapeType:"line",getDefaultPoints:function(r){return B2(r)}});kr("edge","line",{draw:function(r,e){var t=Hi(r,!0,!1,"lineWidth"),i=T0(this.parsePoints(r.points),this.coordinate.isPolar);return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var iMe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return e}(dl),eLt=iMe;var V2=et(ot());var nMe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return e.prototype.updateElements=function(t,i){i===void 0&&(i=!1);for(var n=0;n<t.length;n++){var a=t[n],o=this.prepareRange(a),s=this.prepareSize(),l=(0,V2.get)(this.styleOption,["cfg","shadowBlur"]);(0,V2.isNumber)(l)||(l=s/2),this.prepareGreyScaleBlurredCircle(s,l),this.drawWithRange(a,o,s,l)}},e.prototype.color=function(t,i){return this.createAttrOption("color",t,typeof i!="function"?i:""),this},e.prototype.clear=function(){r.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},e.prototype.prepareRange=function(t){var i=this.getAttribute("color"),n=i.getFields()[0],a=1/0,o=-1/0;return t.forEach(function(s){var l=s[sn][n];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},e.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,V2.isNumber)(t)||(t=this.getDefaultSize()),t},e.prototype.prepareGreyScaleBlurredCircle=function(t,i){var n=this.getGrayScaleBlurredCanvas(),a=t+i,o=n.getContext("2d");n.width=n.height=a*2,o.clearRect(0,0,n.width,n.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=i,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},e.prototype.drawWithRange=function(t,i,n,a){var o,s,l=this.coordinate,u=l.start,f=l.end,c=this.coordinate.getWidth(),h=this.coordinate.getHeight(),d=this.getAttribute("color"),v=d.getFields()[0];this.clearShadowCanvasCtx();var p=this.getShadowCanvasCtx();i&&(t=t.filter(function(E){return E[sn][v]<=i[1]&&E[sn][v]>=i[0]}));var g=this.scales[v];try{for(var m=er(t),y=m.next();!y.done;y=m.next()){var x=y.value,b=this.getDrawCfg(x),_=b.x,M=b.y,A=g.scale(x[sn][v]);this.drawGrayScaleBlurredCircle(_-u.x,M-f.y,n+a,A,p)}}catch(E){o={error:E}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}var I=p.getImageData(0,0,c,h);this.clearShadowCanvasCtx(),this.colorize(I),p.putImageData(I,0,0);var k=this.getImageShape();k.attr("x",u.x),k.attr("y",f.y),k.attr("width",c),k.attr("height",h),k.attr("img",p.canvas),k.set("origin",this.getShapeInfo(t))},e.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),i=this.coordinate;return Math.min(i.getWidth()/(t.scales[0].ticks.length*4),i.getHeight()/(t.scales[1].ticks.length*4))},e.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},e.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},e.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},e.prototype.drawGrayScaleBlurredCircle=function(t,i,n,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-n,i-n)},e.prototype.colorize=function(t){for(var i=this.getAttribute("color"),n=t.data,a=this.paletteCache,o=3;o<n.length;o+=4){var s=n[o];if((0,V2.isNumber)(s)){var l=a[s]?a[s]:th.rgb2arr(i.gradient(s/256));n[o-3]=l[0],n[o-2]=l[1],n[o-1]=l[2],n[o]=s}}},e.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var i=this.container;return t=i.addShape({type:"image",attrs:{}}),this.imageShape=t,t},e.prototype.getShapeInfo=function(t){var i=this.getDrawCfg(t[0]),n=t.map(function(a){return a[sn]});return S(S({},i),{mappingData:t,data:n})},e}(dl),rLt=nMe;var d$=et(ot());var ew=et(ot());function q2(r){var e,t,i=r.x,n=r.y,a=r.y0,o=r.size,s,l;(0,ew.isArray)(n)?(e=Rt(n,2),s=e[0],l=e[1]):(s=a,l=n);var u,f;(0,ew.isArray)(i)?(t=Rt(i,2),u=t[0],f=t[1]):(u=i-o/2,f=i+o/2);var c=[{x:u,y:s},{x:u,y:l}];return c.push({x:f,y:l},{x:f,y:s}),c}function yD(r,e){e===void 0&&(e=!0);var t=[],i=r[0];t.push(["M",i.x,i.y]);for(var n=1,a=r.length;n<a;n++)t.push(["L",r[n].x,r[n].y]);return e&&(t.push(["L",i.x,i.y]),t.push(["z"])),t}function iLt(r,e){var t=0,i=0,n=0,a=0;return(0,ew.isArray)(r)?r.length===1?t=i=n=a=r[0]:r.length===2?(t=n=r[0],i=a=r[1]):r.length===3?(t=r[0],i=a=r[1],n=r[2]):(t=r[0],i=r[1],n=r[2],a=r[3]):t=i=n=a=r,t+i>e&&(t=t?e/(1+i/t):0,i=e-t),n+a>e&&(n=n?e/(1+a/n):0,a=e-n),[t||0,i||0,n||0,a||0]}function Kz(r,e,t){var i=[];if(t.isRect){var n=t.isTransposed?{x:t.start.x,y:e[0].y}:{x:e[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:e[2].y}:{x:e[3].x,y:t.end.y},o=(0,ew.get)(r,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(e[0].y-e[2].y):e[2].x-e[1].x,l=t.isTransposed?t.getWidth():t.getHeight(),u=Rt(iLt(o,Math.min(s,l)),4),f=u[0],c=u[1],h=u[2],d=u[3],v=t.isTransposed&&t.isReflect("y"),p=v?0:1,g=function(M){return v?-M:M};i.push(["M",n.x,a.y+g(f)]),f!==0&&i.push(["A",f,f,0,0,p,n.x+f,a.y]),i.push(["L",a.x-c,a.y]),c!==0&&i.push(["A",c,c,0,0,p,a.x,a.y+g(c)]),i.push(["L",a.x,n.y-g(h)]),h!==0&&i.push(["A",h,h,0,0,p,a.x-h,n.y]),i.push(["L",n.x+d,n.y]),d!==0&&i.push(["A",d,d,0,0,p,n.x,n.y-g(d)])}else i.push(["M",n.x,n.y]),i.push(["L",a.x,n.y]),i.push(["L",a.x,a.y]),i.push(["L",n.x,a.y]),i.push(["L",n.x,n.y]);i.push(["z"])}if(t.isPolar){var m=t.getCenter(),y=M0(r,t),x=y.startAngle,b=y.endAngle;if(t.type!=="theta"&&!t.isTransposed)i=rh(m.x,m.y,t.getRadius(),x,b);else{var _=function(I){return Math.pow(I,2)},f=Math.sqrt(_(m.x-e[0].x)+_(m.y-e[0].y)),c=Math.sqrt(_(m.x-e[2].x)+_(m.y-e[2].y));i=rh(m.x,m.y,f,t.startAngle,t.endAngle,c)}}return i}function nLt(r,e,t){var i=t.getWidth(),n=t.getHeight(),a=t.type==="rect",o=[],s=(r[2].x-r[1].x)/2,l=t.isTransposed?s*n/i:s*i/n;return e==="round"?(a?(o.push(["M",r[0].x,r[0].y+l]),o.push(["L",r[1].x,r[1].y-l]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y-l]),o.push(["L",r[3].x,r[3].y+l]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y+l])):(o.push(["M",r[0].x,r[0].y]),o.push(["L",r[1].x,r[1].y]),o.push(["A",s,s,0,0,1,r[2].x,r[2].y]),o.push(["L",r[3].x,r[3].y]),o.push(["A",s,s,0,0,1,r[0].x,r[0].y])),o.push(["z"])):o=yD(r),o}function Qz(r,e,t){var i=[];return(0,ew.isNil)(e)?t?i.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",(r[2].x+r[3].x)/2,(r[2].y+r[3].y)/2],["Z"]):i.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",r[2].x,r[2].y],["L",r[3].x,r[3].y],["Z"]):i.push(["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["L",e[1].x,e[1].y],["L",e[0].x,e[0].y],["Z"]),i}function xD(r,e){return[e,r]}function aLt(r,e,t){var i,n,a,o,s,l,u,f=Rt(ne([],Rt(r),!1),4),c=f[0],h=f[1],d=f[2],v=f[3],p=Rt(typeof t=="number"?Array(4).fill(t):t,4),g=p[0],m=p[1],y=p[2],x=p[3];e.isTransposed&&(i=Rt(xD(h,v),2),h=i[0],v=i[1]),e.isReflect("y")&&(n=Rt(xD(c,h),2),c=n[0],h=n[1],a=Rt(xD(d,v),2),d=a[0],v=a[1]),e.isReflect("x")&&(o=Rt(xD(c,v),2),c=o[0],v=o[1],s=Rt(xD(h,d),2),h=s[0],d=s[1]);var b=[],_=function(M){return Math.abs(M)};return l=Rt(iLt([g,m,y,x],Math.min(_(v.x-c.x),_(h.y-c.y))).map(function(M){return _(M)}),4),g=l[0],m=l[1],y=l[2],x=l[3],e.isTransposed&&(u=Rt([x,g,m,y],4),g=u[0],m=u[1],y=u[2],x=u[3]),c.y<h.y?(b.push(["M",v.x,v.y+y]),y!==0&&b.push(["A",y,y,0,0,0,v.x-y,v.y]),b.push(["L",c.x+x,c.y]),x!==0&&b.push(["A",x,x,0,0,0,c.x,c.y+x]),b.push(["L",h.x,h.y-g]),g!==0&&b.push(["A",g,g,0,0,0,h.x+g,h.y]),b.push(["L",d.x-m,d.y]),m!==0&&b.push(["A",m,m,0,0,0,d.x,d.y-m]),b.push(["L",v.x,v.y+y]),b.push(["z"])):v.x<c.x?(b.push(["M",d.x+m,d.y]),m!==0&&b.push(["A",m,m,0,0,0,d.x,d.y+m]),b.push(["L",v.x,v.y-y]),y!==0&&b.push(["A",y,y,0,0,0,v.x+y,v.y]),b.push(["L",c.x-x,c.y]),x!==0&&b.push(["A",x,x,0,0,0,c.x,c.y-x]),b.push(["L",h.x,h.y+g]),g!==0&&b.push(["A",g,g,0,0,0,h.x-g,h.y]),b.push(["L",d.x+m,d.y]),b.push(["z"])):(b.push(["M",h.x,h.y+g]),g!==0&&b.push(["A",g,g,0,0,1,h.x+g,h.y]),b.push(["L",d.x-m,d.y]),m!==0&&b.push(["A",m,m,0,0,1,d.x,d.y+m]),b.push(["L",v.x,v.y-y]),y!==0&&b.push(["A",y,y,0,0,1,v.x-y,v.y]),b.push(["L",c.x+x,c.y]),x!==0&&b.push(["A",x,x,0,0,1,c.x,c.y-x]),b.push(["L",h.x,h.y+g]),b.push(["z"])),b}var Hxi=hl("interval",{defaultShapeType:"rect",getDefaultPoints:function(r){return q2(r)}});kr("interval","rect",{draw:function(r,e){var t=Hi(r,!1,!0),i=e,n=r==null?void 0:r.background;if(n){i=e.addGroup({name:"interval-group"});var a=Tz(r),o=Kz(r,this.parsePoints(r.points),this.coordinate);i.addShape("path",{attrs:S(S({},a),{path:o}),capture:!1,zIndex:-1,name:O2})}var s;t.radius&&this.coordinate.isRect?s=aLt(this.parsePoints(r.points),this.coordinate,t.radius):s=this.parsePath(nLt(r.points,t.lineCap,this.coordinate));var l=i.addShape("path",{attrs:S(S({},t),{path:s}),name:"interval"});return n?i:l},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var pd=et(ot());function aMe(r,e){var t=r.length,i=r;(0,pd.isString)(i[0])&&(i=r.map(function(s){return e.translate(s)}));for(var n=i[1]-i[0],a=2;a<t;a++){var o=i[a]-i[a-1];n>o&&(n=o)}return n}function oMe(r,e){if(e){var t=(0,pd.flatten)(r),i=(0,pd.valuesOfKey)(t,e);return i.length}return r.length}function H2(r){var e=r.theme,t=r.coordinate,i=r.getXScale(),n=i.values,a=r.beforeMappingData,o=n.length,s=Og(r.coordinate),l=r.intervalPadding,u=r.dodgePadding,f=r.maxColumnWidth||e.maxColumnWidth,c=r.minColumnWidth||e.minColumnWidth,h=r.columnWidthRatio||e.columnWidthRatio,d=r.multiplePieWidthRatio||e.multiplePieWidthRatio,v=r.roseWidthRatio||e.roseWidthRatio;if(i.isLinear&&n.length>1){n.sort();var p=aMe(n,i);o=(i.max-i.min)/p,n.length>o&&(o=n.length)}var g=i.range,m=1/o,y=1;if(t.isPolar?t.isTransposed&&o>1?y=d:y=v:(i.isLinear&&(m*=g[1]-g[0]),y=h),!(0,pd.isNil)(l)&&l>=0){var x=l/s;m=(1-(o-1)*x)/o}else m*=y;if(r.getAdjust("dodge")){var b=r.getAdjust("dodge"),_=b.dodgeBy,M=oMe(a,_);if(!(0,pd.isNil)(u)&&u>=0){var A=u/s;m=(m-A*(M-1))/M}else!(0,pd.isNil)(l)&&l>=0&&(m*=y),m=m/M;m=m>=0?m:0}if(!(0,pd.isNil)(f)&&f>=0){var I=f/s;m>I&&(m=I)}if(!(0,pd.isNil)(c)&&c>=0){var k=c/s;m<k&&(m=k)}return m}var sMe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="interval",i.shapeType="interval",i.generatePoints=!0;var n=t.background;return i.background=n,i}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Og(o);n=n/s}else this.defaultSize||(this.defaultSize=H2(this)),n=this.defaultSize;return i.size=n,i},e.prototype.adjustScale=function(){r.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:H2t(t)});else{var i=this.scaleDefs,n=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,d$.get)(i,[n,"min"])&&t.change({min:0}),o<=0&&!(0,d$.get)(i,[n,"max"])&&t.change({max:0}))}},e.prototype.getDrawCfg=function(t){var i=r.prototype.getDrawCfg.call(this,t);return i.background=this.background,i},e}(dl),oLt=sMe;var lMe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;i.type="line";var n=t.sortable,a=n===void 0?!1:n;return i.sortable=a,i}return e}(W2),sLt=lMe;var uLt=et(ot());var $z=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],lLt=["cross","tick","plus","hyphen","line"];function U2(r,e,t,i,n){var a,o,s=Hi(e,n,!n,"r"),l=r.parsePoints(e.points),u=l[0];if(e.isStack)u=l[1];else if(l.length>1){var f=t.addGroup();try{for(var c=er(l),h=c.next();!h.done;h=c.next()){var d=h.value;f.addShape({type:"marker",attrs:S(S(S({},s),{symbol:vd[i]||i}),d)})}}catch(v){a={error:v}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}return f}return t.addShape({type:"marker",attrs:S(S(S({},s),{symbol:vd[i]||i}),u)})}var p1i=hl("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(r){return B2(r)}});(0,uLt.each)($z,function(r){kr("point","hollow-".concat(r),{draw:function(e,t){return U2(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:vd[r]||r,style:{r:4.5,stroke:t,fill:null}}}})});var uMe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return e.prototype.getDrawCfg=function(t){var i=r.prototype.getDrawCfg.call(this,t);return S(S({},i),{isStack:!!this.getAdjust("stack")})},e}(dl),fLt=uMe;var bD=et(ot());var rw=et(ot());function fMe(r){for(var e=r[0],t=1,i=[["M",e.x,e.y]];t<r.length;){var n=r[t];(n.x!==r[t-1].x||n.y!==r[t-1].y)&&(i.push(["L",n.x,n.y]),n.x===e.x&&n.y===e.y&&t<r.length-1&&(e=r[t+1],i.push(["Z"]),i.push(["M",e.x,e.y]),t++)),t++}return(0,rw.isEqual)((0,rw.last)(i),e)||i.push(["L",e.x,e.y]),i.push(["Z"]),i}var C1i=hl("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(r){var e=[];return(0,rw.each)(r.x,function(t,i){var n=r.y[i];e.push({x:t,y:n})}),e}});kr("polygon","polygon",{draw:function(r,e){if(!(0,rw.isEmpty)(r.points)){var t=Hi(r,!0,!0),i=this.parsePath(fMe(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i}),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});var cMe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n=i.x,a=i.y,o;if(!((0,bD.isArray)(n)&&(0,bD.isArray)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,f=l.values.length,c=.5*1/u,h=.5*1/f;s.isCategory&&l.isCategory?(n=[n-c,n-c,n+c,n+c],a=[a-h,a+h,a+h,a-h]):(0,bD.isArray)(n)?(o=n,n=[o[0],o[0],o[1],o[1]],a=[a-h/2,a+h/2,a+h/2,a-h/2]):(0,bD.isArray)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],n=[n-c/2,n-c/2,n+c/2,n+c/2]),i.x=n,i.y=a}return i},e}(dl),cLt=cMe;var O1i=hl("schema",{defaultShapeType:""});var hMe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Og(o);n=n/s}else this.defaultSize||(this.defaultSize=H2(this)),n=this.defaultSize;return i.size=n,i},e}(dl),hLt=hMe;var dLt=et(ot());var iw=et(ot());function dMe(r){if(!(0,iw.isArray)(r))return[];var e=(0,iw.max)(r);return(0,iw.map)(r,function(t){return t/e})}var W1i=hl("violin",{defaultShapeType:"violin",getDefaultPoints:function(r){var e=r.size/2,t=[],i=dMe(r._size);return(0,iw.each)(r.y,function(n,a){var o=i[a]*e,s=a===0,l=a===r.y.length-1;t.push({isMin:s,isMax:l,x:r.x-o,y:n}),t.unshift({isMin:s,isMax:l,x:r.x+o,y:n})}),t}});kr("violin","violin",{draw:function(r,e){var t=Hi(r,!0,!0),i=this.parsePath(Az(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i}),name:"violin"})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:e}}}});var vMe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return e.prototype.createShapePointsCfg=function(t){var i=r.prototype.createShapePointsCfg.call(this,t),n,a=this.getAttribute("size");if(a){n=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Og(o);n=n/s}else this.defaultSize||(this.defaultSize=H2(this)),n=this.defaultSize;return i.size=n,i._size=(0,dLt.get)(t[sn],[this._sizeField]),i},e.prototype.initAttributes=function(){var t=this.attributeOption,i=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=i,delete t.size,r.prototype.initAttributes.call(this)},e}(dl),vLt=vMe;kr("area","line",{draw:function(r,e){var t=tw(r,!0,!1,this),i=e.addShape({type:"path",attrs:t,name:"area"});return i},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});kr("area","smooth",{draw:function(r,e){var t=this.coordinate,i=tw(r,!1,!0,this,Zz(t)),n=e.addShape({type:"path",attrs:i,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,fill:e,fillOpacity:1}}}});kr("area","smooth-line",{draw:function(r,e){var t=this.coordinate,i=tw(r,!0,!0,this,Zz(t)),n=e.addShape({type:"path",attrs:i,name:"area"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return n===void 0&&(n=5.5),[["M",t-n,i-4],["L",t+n,i-4],["L",t+n,i+4],["L",t-n,i+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});var pLt=et(ot());function wD(r,e){return["C",r.x*1/2+e.x*1/2,r.y,r.x*1/2+e.x*1/2,e.y,e.x,e.y]}function Jz(r,e){var t=[];t.push({x:e.x,y:e.y}),t.push(r);var i=["Q"];return(0,pLt.each)(t,function(n){i.push(n.x,n.y)}),i}function pMe(r,e,t){var i=Jz(e,t),n=[["M",r.x,r.y]];return n.push(i),n}function gMe(r,e){var t=Jz(r[1],e),i=Jz(r[3],e),n=[["M",r[0].x,r[0].y]];return n.push(i),n.push(["L",r[3].x,r[3].y]),n.push(["L",r[2].x,r[2].y]),n.push(t),n.push(["L",r[1].x,r[1].y]),n.push(["L",r[0].x,r[0].y]),n.push(["Z"]),n}kr("edge","arc",{draw:function(r,e){var t=Hi(r,!0,!1,"lineWidth"),i=r.points,n=i.length>2?"weight":"normal",a;if(r.isInCircle){var o={x:0,y:1};return n==="normal"?a=pMe(i[0],i[1],o):(t.fill=t.stroke,a=gMe(i,o)),a=this.parsePath(a),e.addShape("path",{attrs:S(S({},t),{path:a})})}else{if(n==="normal")return i=this.parsePoints(i),a=$G((i[1].x+i[0].x)/2,i[0].y,Math.abs(i[1].x-i[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:S(S({},t),{path:a})});var s=wD(i[1],i[3]),l=wD(i[2],i[0]);return a=[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],s,["L",i[3].x,i[3].y],["L",i[2].x,i[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,e.addShape("path",{attrs:S(S({},t),{path:a})})}},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});function mMe(r,e){var t=wD(r,e),i=[["M",r.x,r.y]];return i.push(t),i}kr("edge","smooth",{draw:function(r,e){var t=Hi(r,!0,!1,"lineWidth"),i=r.points,n=this.parsePath(mMe(i[0],i[1]));return e.addShape("path",{attrs:S(S({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});var gLt=et(ot());var tj=1/3;function yMe(r,e){var t=[];t.push({x:r.x,y:r.y*(1-tj)+e.y*tj}),t.push({x:e.x,y:r.y*(1-tj)+e.y*tj}),t.push(e);var i=[["M",r.x,r.y]];return(0,gLt.each)(t,function(n){i.push(["L",n.x,n.y])}),i}kr("edge","vhv",{draw:function(r,e){var t=Hi(r,!0,!1,"lineWidth"),i=r.points,n=this.parsePath(yMe(i[0],i[1]));return e.addShape("path",{attrs:S(S({},t),{path:n})})},getMarker:function(r){return{symbol:"circle",style:{r:4.5,fill:r.color}}}});kr("interval","funnel",{getPoints:function(r){return r.size=r.size*2,q2(r)},draw:function(r,e){var t=Hi(r,!1,!0),i=this.parsePath(Qz(r.points,r.nextPoints,!1)),n=e.addShape("path",{attrs:S(S({},t),{path:i}),name:"interval"});return n},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});kr("interval","hollow-rect",{draw:function(r,e){var t=Hi(r,!0,!1),i=e,n=r==null?void 0:r.background;if(n){i=e.addGroup();var a=Tz(r),o=Kz(r,this.parsePoints(r.points),this.coordinate);i.addShape("path",{attrs:S(S({},a),{path:o}),capture:!1,zIndex:-1,name:O2})}var s=this.parsePath(yD(r.points)),l=i.addShape("path",{attrs:S(S({},t),{path:s}),name:"interval"});return n?i:l},getMarker:function(r){var e=r.color,t=r.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});var v$=et(ot());function xMe(r){var e=r.x,t=r.y,i=r.y0;return(0,v$.isArray)(t)?t.map(function(n,a){return{x:(0,v$.isArray)(e)?e[a]:e,y:n}}):[{x:e,y:i},{x:e,y:t}]}kr("interval","line",{getPoints:function(r){return xMe(r)},draw:function(r,e){var t=Hi(r,!0,!1,"lineWidth"),i=Hs(S({},t),["fill"]),n=this.parsePath(yD(r.points,!1)),a=e.addShape("path",{attrs:S(S({},i),{path:n}),name:"interval"});return a},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return[["M",t,i-n],["L",t,i+n]]},style:{r:5,stroke:e}}}});kr("interval","pyramid",{getPoints:function(r){return r.size=r.size*2,q2(r)},draw:function(r,e){var t=Hi(r,!1,!0),i=this.parsePath(Qz(r.points,r.nextPoints,!0)),n=e.addShape("path",{attrs:S(S({},t),{path:i}),name:"interval"});return n},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});var mLt=et(ot());function bMe(r){var e,t=r.x,i=r.y,n=r.y0,a=r.size,o,s;(0,mLt.isArray)(i)?(e=Rt(i,2),o=e[0],s=e[1]):(o=n,s=i);var l=t+a/2,u=t-a/2;return[{x:t,y:o},{x:t,y:s},{x:u,y:o},{x:l,y:o},{x:u,y:s},{x:l,y:s}]}function wMe(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y]]}kr("interval","tick",{getPoints:function(r){return bMe(r)},draw:function(r,e){var t=Hi(r,!0,!1),i=this.parsePath(wMe(r.points)),n=e.addShape("path",{attrs:S(S({},t),{path:i}),name:"interval"});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){return[["M",t-n/2,i-n],["L",t+n/2,i-n],["M",t,i-n],["L",t,i+n],["M",t-n/2,i+n],["L",t+n/2,i+n]]},style:{r:5,stroke:e}}}});var ej=et(ot());var _Me=function(r,e,t){var i=r.x,n=r.y,a=e.x,o=e.y,s;switch(t){case"hv":s=[{x:a,y:n}];break;case"vh":s=[{x:i,y:o}];break;case"hvh":var l=(a+i)/2;s=[{x:l,y:n},{x:l,y:o}];break;case"vhv":var u=(n+o)/2;s=[{x:i,y:u},{x:a,y:u}];break;default:break}return s};function SMe(r,e){var t=[];return(0,ej.each)(r,function(i,n){var a=r[n+1];if(t.push(i),a){var o=_Me(i,a,e);t=t.concat(o)}}),t}function CMe(r){return r.map(function(e,t){return t===0?["M",e.x,e.y]:["L",e.x,e.y]})}function MMe(r,e){var t=qb(r.points,r.connectNulls,r.showSinglePoint),i=[];return(0,ej.each)(t,function(n){var a=SMe(n,e);i=i.concat(CMe(a))}),S(S({},Hi(r,!0,!1,"lineWidth")),{path:i})}(0,ej.each)(["hv","vh","hvh","vhv"],function(r){kr("line",r,{draw:function(e,t){var i=MMe(e,r),n=t.addShape({type:"path",attrs:i,name:"line"});return n},getMarker:function(e){return Iz(e,r)}})});var yLt=et(ot());(0,yLt.each)(lLt,function(r){kr("point",r,{draw:function(e,t){return U2(this,e,t,r,!0)},getMarker:function(e){var t=e.color;return{symbol:vd[r],style:{r:4.5,stroke:t,fill:null}}}})});kr("point","image",{draw:function(r,e){var t,i,n=Hi(r,!1,!1,"r").r,a=this.parsePoints(r.points),o=a[0];if(r.isStack)o=a[1];else if(a.length>1){var s=e.addGroup();try{for(var l=er(a),u=l.next();!u.done;u=l.next()){var f=u.value;s.addShape("image",{attrs:{x:f.x-n/2,y:f.y-n,width:n,height:n,img:r.shape[1]}})}}catch(c){t={error:c}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}return s}return e.addShape("image",{attrs:{x:o.x-n/2,y:o.y-n,width:n,height:n,img:r.shape[1]}})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4.5,fill:e}}}});var xLt=et(ot());(0,xLt.each)($z,function(r){kr("point",r,{draw:function(e,t){return U2(this,e,t,r,!1)},getMarker:function(e){var t=e.color;return{symbol:vd[r]||r,style:{r:4.5,fill:t}}}})});var _D=et(ot());function bLt(r){var e=(0,_D.isArray)(r)?r:[r],t=e[0],i=e[e.length-1],n=e.length>1?e[1]:t,a=e.length>3?e[3]:i,o=e.length>2?e[2]:n;return{min:t,max:i,min1:n,max1:a,median:o}}function wLt(r,e,t){var i=t/2,n;if((0,_D.isArray)(e)){var a=bLt(e),o=a.min,s=a.max,l=a.median,u=a.min1,f=a.max1,c=r-i,h=r+i;n=[[c,s],[h,s],[r,s],[r,f],[c,u],[c,f],[h,f],[h,u],[r,u],[r,o],[c,o],[h,o],[c,l],[h,l]]}else{e=(0,_D.isNil)(e)?.5:e;var d=bLt(r),o=d.min,s=d.max,l=d.median,u=d.min1,f=d.max1,v=e-i,p=e+i;n=[[o,v],[o,p],[o,e],[u,e],[u,v],[u,p],[f,p],[f,v],[f,e],[s,e],[s,v],[s,p],[l,v],[l,p]]}return n.map(function(g){return{x:g[0],y:g[1]}})}function AMe(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["M",r[4].x,r[4].y],["L",r[5].x,r[5].y],["L",r[6].x,r[6].y],["L",r[7].x,r[7].y],["L",r[4].x,r[4].y],["Z"],["M",r[8].x,r[8].y],["L",r[9].x,r[9].y],["M",r[10].x,r[10].y],["L",r[11].x,r[11].y],["M",r[12].x,r[12].y],["L",r[13].x,r[13].y]]}kr("schema","box",{getPoints:function(r){var e=r.x,t=r.y,i=r.size;return wLt(e,t,i)},draw:function(r,e){var t=Hi(r,!0,!1),i=this.parsePath(AMe(r.points)),n=e.addShape("path",{attrs:S(S({},t),{path:i,name:"schema"})});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){var a=[i-6,i-3,i,i+3,i+6],o=wLt(t,a,n);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});var _Lt=et(ot());function EMe(r){var e=(0,_Lt.isArray)(r)?r:[r],t=e.sort(function(i,n){return n-i});return G2t(t,4,t[t.length-1])}function SLt(r,e,t){var i=EMe(e);return[{x:r,y:i[0]},{x:r,y:i[1]},{x:r-t/2,y:i[2]},{x:r-t/2,y:i[1]},{x:r+t/2,y:i[1]},{x:r+t/2,y:i[2]},{x:r,y:i[2]},{x:r,y:i[3]}]}function TMe(r){return[["M",r[0].x,r[0].y],["L",r[1].x,r[1].y],["M",r[2].x,r[2].y],["L",r[3].x,r[3].y],["L",r[4].x,r[4].y],["L",r[5].x,r[5].y],["Z"],["M",r[6].x,r[6].y],["L",r[7].x,r[7].y]]}kr("schema","candle",{getPoints:function(r){var e=r.x,t=r.y,i=r.size;return SLt(e,t,i)},draw:function(r,e){var t=Hi(r,!0,!0),i=this.parsePath(TMe(r.points)),n=e.addShape("path",{attrs:S(S({},t),{path:i,name:"schema"})});return n},getMarker:function(r){var e=r.color;return{symbol:function(t,i,n){var a=[i+7.5,i+3,i-3,i-7.5],o=SLt(t,a,n);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});var rj=et(ot());function IMe(r,e){var t=Math.abs(r[0].x-r[2].x),i=Math.abs(r[0].y-r[2].y),n=Math.min(t,i);e&&(n=(0,rj.clamp)(e,0,Math.min(t,i))),n=n/2;var a=(r[0].x+r[2].x)/2,o=(r[0].y+r[2].y)/2;return{x:a-n,y:o-n,width:n*2,height:n*2}}kr("polygon","square",{draw:function(r,e){if(!(0,rj.isEmpty)(r.points)){var t=Hi(r,!0,!0),i=this.parsePoints(r.points);return e.addShape("rect",{attrs:S(S({},t),IMe(i,r.size)),name:"polygon"})}},getMarker:function(r){var e=r.color;return{symbol:"square",style:{r:4,fill:e}}}});kr("violin","smooth",{draw:function(r,e){var t=Hi(r,!0,!0),i=this.parsePath(Ez(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{stroke:null,r:4,fill:e}}}});kr("violin","hollow",{draw:function(r,e){var t=Hi(r,!0,!1),i=this.parsePath(Az(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});kr("violin","hollow-smooth",{draw:function(r,e){var t=Hi(r,!0,!1),i=this.parsePath(Ez(r.points));return e.addShape("path",{attrs:S(S({},t),{path:i})})},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{r:4,fill:null,stroke:e}}}});var nf=et(ot());var LMe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelValueDir=function(t){var i="y",n=t.points;return n[0][i]<=n[2][i]?1:-1},e.prototype.getLabelOffsetPoint=function(t,i,n,a){var o,s=r.prototype.getLabelOffsetPoint.call(this,t,i,n),l=this.getCoordinate(),u=l.isTransposed,f=u?"x":"y",c=this.getLabelValueDir(t.mappingData);return s=S(S({},s),(o={},o[f]=s[f]*c,o)),l.isReflect("x")&&(s=S(S({},s),{x:s.x*-1})),l.isReflect("y")&&(s=S(S({},s),{y:s.y*-1})),s},e.prototype.getThemedLabelCfg=function(t){var i=this.geometry,n=this.getDefaultLabelCfg(),a=i.theme;return(0,nf.deepMix)({},n,a.labels,t.position==="middle"?{offset:0}:{},t)},e.prototype.setLabelPosition=function(t,i,n,a){var o=this.getCoordinate(),s=o.isTransposed,l=i.points,u=o.convert(l[0]),f=o.convert(l[2]),c=this.getLabelValueDir(i),h,d,v,p,g=(0,nf.isArray)(i.shape)?i.shape[0]:i.shape;if(g==="funnel"||g==="pyramid"){var m=(0,nf.get)(i,"nextPoints"),y=(0,nf.get)(i,"points");if(m){var x=o.convert(y[0]),b=o.convert(y[1]),_=o.convert(m[0]),M=o.convert(m[1]);s?(h=Math.min(_.y,x.y),v=Math.max(_.y,x.y),d=(b.x+M.x)/2,p=(x.x+_.x)/2):(h=Math.min((b.y+M.y)/2,(x.y+_.y)/2),v=Math.max((b.y+M.y)/2,(x.y+_.y)/2),d=M.x,p=x.x)}else h=Math.min(f.y,u.y),v=Math.max(f.y,u.y),d=f.x,p=u.x}else h=Math.min(f.y,u.y),v=Math.max(f.y,u.y),d=f.x,p=u.x;switch(a){case"right":t.x=d,t.y=(h+v)/2,t.textAlign=(0,nf.get)(t,"textAlign",c>0?"left":"right");break;case"left":t.x=p,t.y=(h+v)/2,t.textAlign=(0,nf.get)(t,"textAlign",c>0?"left":"right");break;case"bottom":s&&(t.x=(d+p)/2),t.y=v,t.textAlign=(0,nf.get)(t,"textAlign","center"),t.textBaseline=(0,nf.get)(t,"textBaseline",c>0?"bottom":"top");break;case"middle":s&&(t.x=(d+p)/2),t.y=(h+v)/2,t.textAlign=(0,nf.get)(t,"textAlign","center"),t.textBaseline=(0,nf.get)(t,"textBaseline","middle");break;case"top":s&&(t.x=(d+p)/2),t.y=h,t.textAlign=(0,nf.get)(t,"textAlign","center"),t.textBaseline=(0,nf.get)(t,"textBaseline",c>0?"bottom":"top");break;default:break}},e}(Bg),CLt=LMe;var LC=et(ot());var af=et(ot());var ij=Math.PI/2,OMe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelOffset=function(t){var i=this.getCoordinate(),n=0;if((0,af.isNumber)(t))n=t;else if((0,af.isString)(t)&&t.indexOf("%")!==-1){var a=i.getRadius();i.innerRadius>0&&(a=a*(1-i.innerRadius)),n=parseFloat(t)*.01*a}return n},e.prototype.getLabelItems=function(t){var i=r.prototype.getLabelItems.call(this,t),n=this.geometry.getYScale();return(0,af.map)(i,function(a){if(a&&n){var o=n.scale((0,af.get)(a.data,n.field));return S(S({},a),{percent:o})}return a})},e.prototype.getLabelAlign=function(t){var i=this.getCoordinate(),n;if(t.labelEmit)n=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!i.isTransposed)n="center";else{var a=i.getCenter(),o=t.offset;Math.abs(t.x-a.x)<1?n="center":t.angle>Math.PI||t.angle<=0?n=o>0?"left":"right":n=o>0?"right":"left"}return n},e.prototype.getLabelPoint=function(t,i,n){var a=1,o,s=t.content[n];this.isToMiddle(i)?o=this.getMiddlePoint(i.points):(t.content.length===1&&n===0?n=1:n===0&&(a=-1),o=this.getArcPoint(i,n));var l=t.offset*a,u=this.getPointAngle(o),f=t.labelEmit,c=this.getCirclePoint(u,l,o,f);return c.r===0?c.content="":(c.content=s,c.angle=u,c.color=i.color),c.rotate=t.autoRotate?this.getLabelRotate(u,l,f):t.rotate,c.start={x:o.x,y:o.y},c},e.prototype.getArcPoint=function(t,i){return i===void 0&&(i=0),!(0,af.isArray)(t.x)&&!(0,af.isArray)(t.y)?{x:t.x,y:t.y}:{x:(0,af.isArray)(t.x)?t.x[i]:t.x,y:(0,af.isArray)(t.y)?t.y[i]:t.y}},e.prototype.getPointAngle=function(t){return kg(this.getCoordinate(),t)},e.prototype.getCirclePoint=function(t,i,n,a){var o=this.getCoordinate(),s=o.getCenter(),l=Wb(o,n);if(l===0)return S(S({},s),{r:l});var u=t;if(o.isTransposed&&l>i&&!a){var f=Math.asin(i/(2*l));u=t+f*2}else l=l+i;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},e.prototype.getLabelRotate=function(t,i,n){var a=t+ij;return n&&(a-=ij),a&&(a>ij?a=a-Math.PI:a<-ij&&(a=a+Math.PI)),a},e.prototype.getMiddlePoint=function(t){var i=this.getCoordinate(),n=t.length,a={x:0,y:0};return(0,af.each)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=n,a.y/=n,a=i.convert(a),a},e.prototype.isToMiddle=function(t){return t.x.length>2},e}(Bg),nj=OMe;var kMe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return e.prototype.getDefaultLabelCfg=function(t,i){var n=r.prototype.getDefaultLabelCfg.call(this,t,i);return(0,LC.deepMix)({},n,(0,LC.get)(this.geometry.theme,"pieLabels",{}))},e.prototype.getLabelOffset=function(t){return r.prototype.getLabelOffset.call(this,t)||0},e.prototype.getLabelRotate=function(t,i,n){var a;return i<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},e.prototype.getLabelAlign=function(t){var i=this.getCoordinate(),n=i.getCenter(),a;return t.angle<=Math.PI/2&&t.x>=n.x?a="left":a="right",t.offset<=0&&(a==="right"?a="left":a="right"),a},e.prototype.getArcPoint=function(t){return t},e.prototype.getPointAngle=function(t){var i=this.getCoordinate(),n={x:(0,LC.isArray)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,LC.isArray)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=kg(i,n);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=kg(i,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},e.prototype.getCirclePoint=function(t,i){var n=this.getCoordinate(),a=n.getCenter(),o=n.getRadius()+i;return S(S({},Pa(a.x,a.y,o,t)),{angle:t,r:o})},e}(nj),MLt=kMe;var z0=et(ot());var ALt=4;function PMe(r,e,t,i,n,a){var o,s,l=!0,u=i.start,f=i.end,c=Math.min(u.y,f.y),h=Math.abs(u.y-f.y),d,v=0,p=Number.MIN_VALUE,g=e.map(function(A){return A.y>v&&(v=A.y),A.y<p&&(p=A.y),{size:t,targets:[A.y-c]}});for(p-=c,v-c>h&&(h=v-c);l;)for(g.forEach(function(A){var I=(Math.min.apply(p,A.targets)+Math.max.apply(p,A.targets))/2;A.pos=Math.min(Math.max(p,I-A.size/2),h-A.size)}),l=!1,d=g.length;d--;)if(d>0){var m=g[d-1],y=g[d];m.pos+m.size>y.pos&&(m.size+=y.size,m.targets=m.targets.concat(y.targets),m.pos+m.size>h&&(m.pos=h-m.size),g.splice(d,1),l=!0)}d=0,g.forEach(function(A){var I=c+t/2;A.targets.forEach(function(){e[d].y=A.pos+I,I+=t,d++})});var x={};try{for(var b=er(r),_=b.next();!_.done;_=b.next()){var M=_.value;x[M.get("id")]=M}}catch(A){o={error:A}}finally{try{_&&!_.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}e.forEach(function(A){var I=A.r*A.r,k=Math.pow(Math.abs(A.y-n.y),2);if(I<k)A.x=n.x;else{var E=Math.sqrt(I-k);a?A.x=n.x+E:A.x=n.x-E}var O=x[A.id];O.attr("x",A.x),O.attr("y",A.y);var P=(0,z0.find)(O.getChildren(),function(N){return N.get("type")==="text"});P&&(P.attr("y",A.y),P.attr("x",A.x))})}function ELt(r,e,t,i){if(!(!r.length||!e.length)){var n=r[0]?r[0].offset:0,a=e[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(n>0){var l=14,u=o+n,f=u*2+l*2,c={start:a.start,end:a.end},h=[[],[]];r.forEach(function(d){!d||(d.textAlign==="right"?h[0].push(d):h[1].push(d))}),h.forEach(function(d,v){var p=f/l;d.length>p&&(d.sort(function(g,m){return m["..percent"]-g["..percent"]}),d.splice(p,d.length-p)),d.sort(function(g,m){return g.y-m.y}),PMe(e,d,l,c,s,v)})}(0,z0.each)(r,function(d){if(d&&d.labelLine){var v=d.offset,p=d.angle,g=Pa(s.x,s.y,o,p),m=Pa(s.x,s.y,o+v/2,p),y=d.x+(0,z0.get)(d,"offsetX",0),x=d.y+(0,z0.get)(d,"offsetY",0),b={x:y-Math.cos(p)*ALt,y:x-Math.sin(p)*ALt};(0,z0.isObject)(d.labelLine)||(d.labelLine={}),d.labelLine.path=["M ".concat(g.x),"".concat(g.y," Q").concat(m.x),"".concat(m.y," ").concat(b.x),b.y].join(",")}})}}var vl=et(ot());function aj(r,e,t){var i=r.filter(function(v){return!v.invisible});i.sort(function(v,p){return v.y-p.y});var n=!0,a=t.minY,o=t.maxY,s=Math.abs(a-o),l,u=0,f=Number.MIN_VALUE,c=i.map(function(v){return v.y>u&&(u=v.y),v.y<f&&(f=v.y),{content:v.content,size:e,targets:[v.y-a],pos:null}});for(f-=a,u-a>s&&(s=u-a);n;)for(c.forEach(function(v){var p=(Math.min.apply(f,v.targets)+Math.max.apply(f,v.targets))/2;v.pos=Math.min(Math.max(f,p-v.size/2),s-v.size),v.pos=Math.max(0,v.pos)}),n=!1,l=c.length;l--;)if(l>0){var h=c[l-1],d=c[l];h.pos+h.size>d.pos&&(h.size+=d.size,h.targets=h.targets.concat(d.targets),h.pos+h.size>s&&(h.pos=s-h.size),c.splice(l,1),n=!0)}l=0,c.forEach(function(v){var p=a+e/2;v.targets.forEach(function(){i[l].y=v.pos+p,p+=e,l++})})}var TLt=4;function DMe(r,e){var t=e.getCenter(),i=e.getRadius();if(r&&r.labelLine){var n=r.angle,a=r.offset,o=Pa(t.x,t.y,i,n),s=r.x+(0,vl.get)(r,"offsetX",0)*(Math.cos(n)>0?1:-1),l=r.y+(0,vl.get)(r,"offsetY",0)*(Math.sin(n)>0?1:-1),u={x:s-Math.cos(n)*TLt,y:l-Math.sin(n)*TLt},f=r.labelLine.smooth,c=[],h=u.x-t.x,d=u.y-t.y,v=Math.atan(d/h);if(h<0&&(v+=Math.PI),f===!1){(0,vl.isObject)(r.labelLine)||(r.labelLine={});var p=0;(n<0&&n>-Math.PI/2||n>Math.PI*1.5)&&u.y>o.y&&(p=1),n>=0&&n<Math.PI/2&&u.y>o.y&&(p=1),n>=Math.PI/2&&n<Math.PI&&o.y>u.y&&(p=1),(n<-Math.PI/2||n>=Math.PI&&n<Math.PI*1.5)&&o.y>u.y&&(p=1);var g=a/2>4?4:Math.max(a/2-1,0),m=Pa(t.x,t.y,i+g,n),y=Pa(t.x,t.y,i+a/2,v),x=0;c.push("M ".concat(o.x," ").concat(o.y)),c.push("L ".concat(m.x," ").concat(m.y)),c.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(x," ").concat(p," ").concat(y.x," ").concat(y.y)),c.push("L ".concat(u.x," ").concat(u.y))}else{var m=Pa(t.x,t.y,i+(a/2>4?4:Math.max(a/2-1,0)),n),b=o.x<t.x?1:-1;c.push("M ".concat(u.x," ").concat(u.y));var _=(o.y-t.y)/(o.x-t.x),M=(u.y-t.y)/(u.x-t.x);Math.abs(_-M)>Math.pow(Math.E,-16)&&c.push.apply(c,["C",u.x+b*4,u.y,2*m.x-o.x,2*m.y-o.y,o.x,o.y]),c.push("L ".concat(o.x," ").concat(o.y))}r.labelLine.path=c.join(" ")}}function ILt(r,e,t,i){var n,a,o=(0,vl.filter)(r,function(I){return!(0,vl.isNil)(I)}),s=e[0]&&e[0].get("coordinate");if(!!s){var l=s.getCenter(),u=s.getRadius(),f={};try{for(var c=er(e),h=c.next();!h.done;h=c.next()){var d=h.value;f[d.get("id")]=d}}catch(I){n={error:I}}finally{try{h&&!h.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}var v=(0,vl.get)(o[0],"labelHeight",14),p=(0,vl.get)(o[0],"offset",0);if(!(p<=0)){var g="left",m="right",y=(0,vl.groupBy)(o,function(I){return I.x<l.x?g:m}),x=s.start,b=s.end,_=Math.min((u+p+v)*2,s.getHeight()),M=_/2,A={minX:x.x,maxX:b.x,minY:l.y-M,maxY:l.y+M};(0,vl.each)(y,function(I,k){var E=Math.floor(_/v);I.length>E&&(I.sort(function(O,P){return P.percent-O.percent}),(0,vl.each)(I,function(O,P){P+1>E&&(f[O.id].set("visible",!1),O.invisible=!0)})),aj(I,v,A)}),(0,vl.each)(y,function(I,k){(0,vl.each)(I,function(E){var O=k===m,P=f[E.id],N=P.getChildByIndex(0);if(N){var R=u+p,z=E.y-l.y,B=Math.pow(R,2),Y=Math.pow(z,2),q=B-Y>0?B-Y:0,j=Math.sqrt(q),Z=Math.abs(Math.cos(E.angle)*R);O?E.x=l.x+Math.max(j,Z):E.x=l.x-Math.max(j,Z)}N&&(N.attr("y",E.y),N.attr("x",E.x)),DMe(E,s)})})}}}var pl=et(ot());var p$=4,FMe=4,LLt=4;function NMe(r,e,t){var i=e.getCenter(),n=e.getRadius(),a={x:r.x-(t?LLt:-LLt),y:r.y},o=Pa(i.x,i.y,n+p$,r.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},u=Pa(i.x,i.y,n,r.angle),f="";if(a.y!==o.y){var c=t?4:-4;s.y=a.y,r.angle<0&&r.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-c),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-c))),r.angle>0&&r.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-c),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-c))),r.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-c),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-c))),r.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-c),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-c)))}f=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),r.labelLine=(0,pl.deepMix)({},r.labelLine,{path:f})}function OLt(r,e,t,i){var n,a,o=e[0]&&e[0].get("coordinate");if(!!o){var s=o.getCenter(),l=o.getRadius(),u={};try{for(var f=er(e),c=f.next();!c.done;c=f.next()){var h=c.value;u[h.get("id")]=h}}catch(I){n={error:I}}finally{try{c&&!c.done&&(a=f.return)&&a.call(f)}finally{if(n)throw n.error}}var d=(0,pl.get)(r[0],"labelHeight",14),v=Math.max((0,pl.get)(r[0],"offset",0),p$);(0,pl.each)(r,function(I){if(!!I){var k=(0,pl.get)(u,[I.id]);if(!!k){var E=I.x>s.x||I.x===s.x&&I.y>s.y,O=(0,pl.isNil)(I.offsetX)?FMe:I.offsetX,P=Pa(s.x,s.y,l+p$,I.angle),N=v+O;I.x=s.x+(E?1:-1)*(l+N),I.y=P.y}}});var p=o.start,g=o.end,m="left",y="right",x=(0,pl.groupBy)(r,function(I){return I.x<s.x?m:y}),b=(l+v)*2+d;(0,pl.each)(x,function(I){var k=I.length*d;k>b&&(b=Math.min(k,Math.abs(p.y-g.y)))});var _={minX:p.x,maxX:g.x,minY:s.y-b/2,maxY:s.y+b/2};(0,pl.each)(x,function(I,k){var E=b/d;I.length>E&&(I.sort(function(O,P){return P.percent-O.percent}),(0,pl.each)(I,function(O,P){P>E&&(u[O.id].set("visible",!1),O.invisible=!0)})),aj(I,d,_)});var M=_.minY,A=_.maxY;(0,pl.each)(x,function(I,k){var E=k===y;(0,pl.each)(I,function(O){var P=(0,pl.get)(u,O&&[O.id]);if(!!P){if(O.y<M||O.y>A){P.set("visible",!1);return}var N=P.getChildByIndex(0),R=N.getCanvasBBox(),z={x:E?R.x:R.maxX,y:R.y+R.height/2};Ng(N,O.x-z.x,O.y-z.y),O.labelLine&&NMe(O,o,E)}})})}}var kLt=et(ot());function PLt(r,e,t,i){(0,kLt.each)(e,function(n){var a=i.minX,o=i.minY,s=i.maxX,l=i.maxY,u=n.getCanvasBBox(),f=u.minX,c=u.minY,h=u.maxX,d=u.maxY,v=u.x,p=u.y,g=u.width,m=u.height,y=v,x=p;(f<a||h<a)&&(y=a),(c<o||d<o)&&(x=o),f>s?y=s-g:h>s&&(y=y-(h-s)),c>l?x=l-m:d>l&&(x=x-(d-l)),(y!==v||x!==p)&&Ng(n,y-v,x-p)})}var DLt=et(ot());function FLt(r,e,t,i){(0,DLt.each)(e,function(n,a){var o=n.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&n.remove(!0)})}var g$=et(ot()),BMe=100,NLt=function(){function r(e){e===void 0&&(e={}),this.bitmap={};var t=e.xGap,i=t===void 0?1:t,n=e.yGap,a=n===void 0?8:n;this.xGap=i,this.yGap=a}return r.prototype.hasGap=function(e){for(var t=!0,i=this.bitmap,n=Math.round(e.minX),a=Math.round(e.maxX),o=Math.round(e.minY),s=Math.round(e.maxY),l=n;l<=a;l+=1){if(!i[l]){i[l]={};continue}if(l===n||l===a){for(var u=o;u<=s;u++)if(i[l][u]){t=!1;break}}else if(i[l][o]||i[l][s]){t=!1;break}}return t},r.prototype.fillGap=function(e){for(var t=this.bitmap,i=Math.round(e.minX),n=Math.round(e.maxX),a=Math.round(e.minY),o=Math.round(e.maxY),s=i;s<=n;s+=1)t[s]||(t[s]={});for(var s=i;s<=n;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[i][s]=!0,t[n][s]=!0;if(this.xGap!==1)for(var s=i;s<=n;s+=1)t[s][a]=!0,t[s][o]=!0},r.prototype.destroy=function(){this.bitmap={}},r}();function RMe(r,e,t){t===void 0&&(t=BMe);var i=-1,n=r.attr(),a=n.x,o=n.y,s=r.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,f=-i,c=0,h=0,d=function(m){var y=m*.1;return[y*Math.cos(y),y*Math.sin(y)]};if(e.hasGap(s))return e.fillGap(s),!0;for(var v=!1,p=0,g={};Math.min(Math.abs(c),Math.abs(h))<l&&p<t;)if(u=d(f+=i),c=~~u[0],h=~~u[1],!(!c&&!h||g["".concat(c,"-").concat(h)])&&(r.attr({x:a+c,y:o+h}),c+h<0&&r.attr("textAlign","right"),p++,e.hasGap(r.getCanvasBBox()))){e.fillGap(r.getCanvasBBox()),v=!0,g["".concat(c,"-").concat(h)]=!0;break}return v}function GMe(r,e,t,i){var n=r.getCanvasBBox(),a=n.width,o=n.height,s={x:e,y:t,textAlign:"center"};switch(i){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return r.attr(s),r.getCanvasBBox()}function BLt(r,e,t,i){var n=new NLt;(0,g$.each)(e,function(a){var o=a.find(function(s){return s.get("type")==="text"});RMe(o,n)||a.remove(!0)}),n.destroy()}function RLt(r,e,t,i){var n=new NLt;(0,g$.each)(e,function(a){for(var o=a.find(function(d){return d.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,f=!1,c=0;c<=8;c++){var h=GMe(o,l,u,c);if(n.hasGap(h)){n.fillGap(h),f=!0;break}}f||a.remove(!0)}),n.destroy()}var sj=et(ot());function zMe(r,e){return(r[0]||0)*(e[0]||0)+(r[1]||0)*(e[1]||0)+(r[2]||0)*(e[2]||0)}function GLt(r){if(r.length>4)return[];var e=function(n,a){return[a.x-n.x,a.y-n.y]},t=e(r[0],r[1]),i=e(r[1],r[2]);return[t,i]}function oj(r,e,t){e===void 0&&(e=0),t===void 0&&(t={x:0,y:0});var i=r.x,n=r.y;return{x:(i-t.x)*Math.cos(-e)+(n-t.y)*Math.sin(-e)+t.x,y:(t.x-i)*Math.sin(-e)+(n-t.y)*Math.cos(-e)+t.y}}function zLt(r){var e=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],t=r.rotation;return t?[oj(e[0],t,e[0]),oj(e[1],t,e[0]),oj(e[2],t,e[0]),oj(e[3],t,e[0])]:e}function jLt(r,e){if(r.length>4)return{min:0,max:0};var t=[];return r.forEach(function(i){t.push(zMe([i.x,i.y],e))}),{min:Math.min.apply(Math,ne([],Rt(t),!1)),max:Math.max.apply(Math,ne([],Rt(t),!1))}}function jMe(r,e){return r.max>e.min&&r.min<e.max}function YMe(r){return typeof r=="number"&&!Number.isNaN(r)&&r!==1/0&&r!==-1/0}function YLt(r){return["x","y","width","height"].every(function(e){return YMe(r[e])})}function WMe(r,e,t){return t===void 0&&(t=0),!(e.x>r.x+r.width+t||e.x+e.width<r.x-t||e.y>r.y+r.height+t||e.y+e.height<r.y-t)}function WLt(r,e,t){if(t===void 0&&(t=0),!YLt(r)||!YLt(e))return!1;if(!r.rotation&&!e.rotation)return WMe(r,e,t);for(var i=zLt(r),n=zLt(e),a=GLt(i).concat(GLt(n)),o=0;o<a.length;o++){var s=a[o],l=jLt(i,s),u=jLt(n,s);if(!jMe(l,u))return!1}return!0}var VLt=et(ot()),VMe=function(){function r(e){var t=this;this.queue=[],this.worker=new Worker(e),this.worker.onmessage=function(i){var n;(n=t.queue.shift())===null||n===void 0||n.resolve(i)},this.worker.onmessageerror=function(i){var n;console.warn("[AntV G2] Web worker is not available"),(n=t.queue.shift())===null||n===void 0||n.reject(i)}}return r.prototype.post=function(e,t){var i=this;return new Promise(function(n,a){i.queue.push({resolve:n,reject:a});try{i.worker.postMessage(e)}catch(o){console.warn("[AntV G2] Web worker is not available"),(0,VLt.isFunction)(t)&&t()}})},r.prototype.destroy=function(){this.worker.terminate()},r}();function qLt(r){if(typeof window!="undefined"){var e;try{e=new Blob([r.toString()],{type:"application/javascript"})}catch(t){e=new window.BlobBuilder,e.append(r.toString()),e=e.getBlob()}return new VMe(URL.createObjectURL(e))}}var qMe=function(r){function e(){function u(x,b){return(x[0]||0)*(b[0]||0)+(x[1]||0)*(b[1]||0)+(x[2]||0)*(b[2]||0)}function f(x){if(x.length>4)return[];var b=function(A,I){return[I.x-A.x,I.y-A.y]},_=b(x[0],x[1]),M=b(x[1],x[2]);return[_,M]}function c(x,b,_){b===void 0&&(b=0),_===void 0&&(_={x:0,y:0});var M=x.x,A=x.y;return{x:(M-_.x)*Math.cos(-b)+(A-_.y)*Math.sin(-b)+_.x,y:(_.x-M)*Math.sin(-b)+(A-_.y)*Math.cos(-b)+_.y}}function h(x){var b=[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}],_=x.rotation;return _?[c(b[0],_,b[0]),c(b[1],_,b[0]),c(b[2],_,b[0]),c(b[3],_,b[0])]:b}function d(x,b){if(x.length>4)return{min:0,max:0};var _=[];return x.forEach(function(M){_.push(u([M.x,M.y],b))}),{min:Math.min.apply(null,_),max:Math.max.apply(null,_)}}function v(x,b){return x.max>b.min&&x.min<b.max}function p(x){return typeof x=="number"&&!Number.isNaN(x)&&x!==1/0&&x!==-1/0}function g(x){return["x","y","width","height"].every(function(b){return p(x[b])})}function m(x,b,_){return _===void 0&&(_=0),!(b.x>x.x+x.width+_||b.x+b.width<x.x-_||b.y>x.y+x.height+_||b.y+b.height<x.y-_)}function y(x,b,_){if(_===void 0&&(_=0),!g(x)||!g(b))return!1;if(!x.rotation&&!b.rotation)return m(x,b,_);for(var M=h(x),A=h(b),I=f(M).concat(f(A)),k=0;k<I.length;k++){var E=I[k],O=d(M,E),P=d(A,E);if(!v(O,P))return!1}return!0}return{intersect:y}}var t=e().intersect;function i(u){for(var f=u.slice(),c=0;c<f.length;c++){var h=f[c];if(h.visible)for(var d=c+1;d<f.length;d++){var v=f[d];h!==v&&v.visible&&t(h,v)&&(v.visible=!1)}}return f}var n={"hide-overlap":i};try{var a=JSON.parse(r.data);if(!a||!a.type||!n[a.type])return;var o=a.type,s=a.items,l=n[o](s);self.postMessage(l)}catch(u){throw u}},HLt=`
   self.onmessage = `.concat(qMe.toString(),`
`);var m$=function(r){for(var e=r.slice(),t=0;t<e.length;t++){var i=e[t];if(i.visible)for(var n=t+1;n<e.length;n++){var a=e[n];i!==a&&a.visible&&WLt(i,a)&&(a.visible=!1)}}return e},y$=new Map,ULt=qLt(HLt);function XLt(r,e,t,i){return ta(this,void 0,void 0,function(){var n,a,o,s,l,u;return ea(this,function(f){switch(f.label){case 0:return n=e.map(function(c,h){return S(S({},Sz(c,r[h],(0,sj.get)(r[h],"background.padding"))),{visible:!0})}),a=JSON.stringify(n),o=function(c){return y$.set(a,c),(0,sj.each)(c,function(h,d){var v=h.visible,p=e[d];v?p==null||p.show():p==null||p.hide()}),c},y$.get(a)?(o(y$.get(a)),[3,7]):[3,1];case 1:if(!ULt)return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),s=JSON.stringify({type:"hide-overlap",items:n}),[4,ULt.post(s,function(){return o(m$(n))})];case 3:return l=f.sent(),o(Array.isArray(l.data)?l.data:[]),[3,5];case 4:return u=f.sent(),console.error(u),o(m$(n)),[3,5];case 5:return[3,7];case 6:o(m$(n)),f.label=7;case 7:return[2]}})})}var ZLt={"#5B8FF9":!0},KLt=function(r){var e=th.toRGB(r).toUpperCase();if(ZLt[e])return ZLt[e];var t=Rt(th.rgb2arr(e),3),i=t[0],n=t[1],a=t[2],o=(i*299+n*587+a*114)/1e3<128;return o};function QLt(r,e,t){if(t.length!==0){var i=t[0].get("element"),n=i.geometry.theme,a=n.labels||{},o=a.fillColorLight,s=a.fillColorDark;t.forEach(function(l,u){var f=e[u],c=f.find(function(m){return m.get("type")==="text"}),h=Oo.fromObject(l.getBBox()),d=Oo.fromObject(c.getCanvasBBox()),v=!h.contains(d),p=l.attr("fill"),g=KLt(p);v?c.attr(n.overflowLabels.style):g?o&&c.attr("fill",o):s&&c.attr("fill",s)})}}function HMe(r,e,t){var i=r.coordinate,n=Hv(e),a=Oo.fromObject(n.getCanvasBBox()),o=Oo.fromObject(t.getBBox());return i.isTransposed?o.height>=a.height:o.width>=a.width}function UMe(r,e,t){var i=!!r.getAdjust("stack");return i||e.every(function(n,a){var o=t[a];return HMe(r,n,o)})}function XMe(r,e,t){var i=r.coordinate,n=Oo.fromObject(t.getBBox()),a=Hv(e);i.isTransposed?a.attr({x:n.minX+n.width/2,textAlign:"center"}):a.attr({y:n.minY+n.height/2,textBaseline:"middle"})}function $Lt(r,e,t){var i;if(t.length!==0){var n=(i=t[0])===null||i===void 0?void 0:i.get("element"),a=n==null?void 0:n.geometry;if(!(!a||a.type!=="interval")){var o=UMe(a,e,t);o&&t.forEach(function(s,l){var u=e[l];XMe(a,u,s)})}}}var gd=et(ot());function ZMe(r){var e=500,t=[],i=Math.max(Math.floor(r.length/e),1);return(0,gd.each)(r,function(n,a){a%i==0?t.push(n):n.set("visible",!1)}),t}function JLt(r,e,t){var i;if(t.length!==0){var n=(i=t[0])===null||i===void 0?void 0:i.get("element"),a=n==null?void 0:n.geometry;if(!(!a||a.type!=="interval")){var o=ZMe(e),s=Rt(a.getXYFields(),1),l=s[0],u=[],f=[],c=(0,gd.groupBy)(o,function(g){return g.get("data")[l]}),h=(0,gd.uniq)((0,gd.map)(o,function(g){return g.get("data")[l]})),d;o.forEach(function(g){g.set("visible",!0)});var v=function(g){g&&(g.length&&f.push(g.pop()),f.push.apply(f,ne([],Rt(g),!1)))};for((0,gd.size)(h)>0&&(d=h.shift(),v(c[d])),(0,gd.size)(h)>0&&(d=h.pop(),v(c[d])),(0,gd.each)(h.reverse(),function(g){v(c[g])});f.length>0;){var p=f.shift();p.get("visible")&&(YTt(p,u)?p.set("visible",!1):u.push(p))}}}}var X2=et(ot());function KMe(r,e){var t=r.getXYFields()[1],i=[],n=e.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return n.length>0&&i.push(n.shift()),n.length>0&&i.push(n.pop()),i.push.apply(i,ne([],Rt(n),!1)),i}function tOt(r,e,t){return r.some(function(i){return t(i,e)})}function QMe(r,e,t){t===void 0&&(t=0);var i=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return i*n}function eOt(r,e){return tOt(r,e,function(t,i){var n=Hv(t),a=Hv(i);return QMe(n.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function rOt(r,e,t,i,n){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||l.type!=="point")){var u=Rt(l.getXYFields(),2),f=u[0],c=u[1],h=(0,X2.groupBy)(e,function(p){return p.get("data")[f]}),d=[],v=n&&n.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;(0,X2.map)((0,X2.keys)(h).reverse(),function(p){for(var g=KMe(l,h[p]);g.length;){var m=g.shift(),y=Hv(m);if(tOt(d,m,function(_,M){return _.get("data")[f]===M.get("data")[f]&&_.get("data")[c]===M.get("data")[c]})){y.set("visible",!1);continue}var x=eOt(d,m),b=!1;if(x&&(y.attr("y",y.attr("y")+2*v),b=eOt(d,m)),b){y.set("visible",!1);continue}d.push(m)}})}}}var Z2=et(ot());function $Me(r,e){var t=r.getXYFields()[1],i=[],n=e.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return n.length>0&&i.push(n.shift()),n.length>0&&i.push(n.pop()),i.push.apply(i,ne([],Rt(n),!1)),i}function iOt(r,e,t){return r.some(function(i){return t(i,e)})}function JMe(r,e,t){t===void 0&&(t=0);var i=Math.max(0,Math.min(r.x+r.width+t,e.x+e.width+t)-Math.max(r.x-t,e.x-t)),n=Math.max(0,Math.min(r.y+r.height+t,e.y+e.height+t)-Math.max(r.y-t,e.y-t));return i*n}function nOt(r,e){return iOt(r,e,function(t,i){var n=Hv(t),a=Hv(i);return JMe(n.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function aOt(r,e,t,i,n){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||["path","line","area"].indexOf(l.type)<0)){var u=Rt(l.getXYFields(),2),f=u[0],c=u[1],h=(0,Z2.groupBy)(e,function(p){return p.get("data")[f]}),d=[],v=n&&n.offset||((o=r[0])===null||o===void 0?void 0:o.offset)||12;(0,Z2.map)((0,Z2.keys)(h).reverse(),function(p){for(var g=$Me(l,h[p]);g.length;){var m=g.shift(),y=Hv(m);if(iOt(d,m,function(_,M){return _.get("data")[f]===M.get("data")[f]&&_.get("data")[c]===M.get("data")[c]})){y.set("visible",!1);continue}var x=nOt(d,m),b=!1;if(x&&(y.attr("y",y.attr("y")+2*v),b=nOt(d,m)),b){y.set("visible",!1);continue}d.push(m)}})}}}var uj=et(ot());var j0=et(ot());var x$;function oOt(){return x$||(x$=document.createElement("canvas").getContext("2d")),x$}var lj=(0,j0.memoize)(function(r,e){e===void 0&&(e={});var t=e.fontSize,i=e.fontFamily,n=e.fontWeight,a=e.fontStyle,o=e.fontVariant,s=oOt();return s.font=[a,o,n,"".concat(t,"px"),i].join(" "),s.measureText((0,j0.isString)(r)?r:"").width},function(r,e){return e===void 0&&(e={}),ne([r],Rt((0,j0.values)(e)),!1).join("")}),sOt=function(r,e,t){var i=16,n=lj("...",t),a;(0,j0.isString)(r)?a=r:a=(0,j0.toString)(r);var o=e,s=[],l,u;if(lj(r,t)<=e)return r;for(;l=a.substr(0,i),u=lj(l,t),!(u+n>o&&u>o);)if(s.push(l),o-=u,a=a.substr(i),!a)return s.join("");for(;l=a.substr(0,1),u=lj(l,t),!(u+n>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return"".concat(s.join(""),"...")};function lOt(r,e,t,i,n){if(!(e.length<=0)){var a=(n==null?void 0:n.direction)||["top","right","bottom","left"],o=(n==null?void 0:n.action)||"translate",s=(n==null?void 0:n.margin)||0,l=e[0].get("coordinate");if(!!l){var u=W2t(l,s),f=u.minX,c=u.minY,h=u.maxX,d=u.maxY;(0,uj.each)(e,function(v){var p=v.getCanvasBBox(),g=p.minX,m=p.minY,y=p.maxX,x=p.maxY,b=p.x,_=p.y,M=p.width,A=p.height,I=b,k=_;if(a.indexOf("left")>=0&&(g<f||y<f)&&(I=f),a.indexOf("top")>=0&&(m<c||x<c)&&(k=c),a.indexOf("right")>=0&&(g>h?I=h-M:y>h&&(I=I-(y-h))),a.indexOf("bottom")>=0&&(m>d?k=d-A:x>d&&(k=k-(x-d))),I!==b||k!==_){var E=I-b;if(o==="translate")Ng(v,E,k-_);else if(o==="ellipsis"){var O=v.findAll(function(P){return P.get("type")==="text"});O.forEach(function(P){var N=(0,uj.pick)(P.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),R=P.getCanvasBBox(),z=sOt(P.attr("text"),R.width-Math.abs(E),N);P.attr("text",z)})}else v.hide()}})}}}var fj=et(ot());function uOt(r,e,t){var i={fillOpacity:(0,fj.isNil)(r.attr("fillOpacity"))?1:r.attr("fillOpacity"),strokeOpacity:(0,fj.isNil)(r.attr("strokeOpacity"))?1:r.attr("strokeOpacity"),opacity:(0,fj.isNil)(r.attr("opacity"))?1:r.attr("opacity")};r.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),r.animate(i,e)}function fOt(r,e,t){var i={fillOpacity:0,strokeOpacity:0,opacity:0},n=e.easing,a=e.duration,o=e.delay;r.animate(i,a,n,function(){r.remove(!0)},o)}function tAe(r,e,t){var i,n=Rt(e,2),a=n[0],o=n[1];return r.applyToMatrix([a,o,1]),t==="x"?(r.setMatrix(Wr.transform(r.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),i=Wr.transform(r.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):t==="y"?(r.setMatrix(Wr.transform(r.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),i=Wr.transform(r.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):t==="xy"&&(r.setMatrix(Wr.transform(r.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),i=Wr.transform(r.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),i}function cj(r,e,t,i,n){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,f;n==="y"?(u=a.x+s/2,f=i.y<a.y?i.y:a.y):n==="x"?(u=i.x>a.x?i.x:a.x,f=a.y+l/2):n==="xy"&&(t.isPolar?(u=t.getCenter().x,f=t.getCenter().y):(u=(a.x+o.x)/2,f=(a.y+o.y)/2));var c=tAe(r,[u,f],n);r.animate({matrix:c},e)}function cOt(r,e,t){var i=t.coordinate,n=t.minYPoint;cj(r,e,i,n,"x")}function hOt(r,e,t){var i=t.coordinate,n=t.minYPoint;cj(r,e,i,n,"y")}function dOt(r,e,t){var i=t.coordinate,n=t.minYPoint;cj(r,e,i,n,"xy")}function vOt(r,e,t){var i=r.getTotalLength();r.attr("lineDash",[i]),r.animate(function(n){return{lineDashOffset:(1-n)*i}},e)}function pOt(r,e,t){var i=t.toAttrs,n=i.x,a=i.y;delete i.x,delete i.y,r.attr(i),r.animate({x:n,y:a},e)}function gOt(r,e,t){var i=r.getBBox(),n=r.get("origin").mappingData,a=n.points,o=a[0].y-a[1].y>0?i.maxX:i.minX,s=(i.minY+i.maxY)/2;r.applyToMatrix([o,s,1]);var l=Wr.transform(r.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);r.setMatrix(l),r.animate({matrix:Wr.transform(r.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},e)}function mOt(r,e,t){var i=r.getBBox(),n=r.get("origin").mappingData,a=(i.minX+i.maxX)/2,o=n.points,s=o[0].y-o[1].y<=0?i.maxY:i.minY;r.applyToMatrix([a,s,1]);var l=Wr.transform(r.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);r.setMatrix(l),r.animate({matrix:Wr.transform(r.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},e)}var md=et(ot());function yOt(r,e){var t,i=Xb(r,e),n=i.startAngle,a=i.endAngle;return!(0,md.isNumberEqual)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),!(0,md.isNumberEqual)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),e[5]===0&&(t=Rt([a,n],2),n=t[0],a=t[1]),(0,md.isNumberEqual)(n,Math.PI*1.5)&&(n=Math.PI*-.5),(0,md.isNumberEqual)(a,Math.PI*-.5)&&!(0,md.isNumberEqual)(n,a)&&(a=Math.PI*1.5),{startAngle:n,endAngle:a}}function xOt(r){var e;return r[0]==="M"||r[0]==="L"?e=[r[1],r[2]]:(r[0]==="a"||r[0]==="A"||r[0]==="C")&&(e=[r[r.length-2],r[r.length-1]]),e}function bOt(r){var e,t,i,n=r.filter(function(x){return x[0]==="A"||x[0]==="a"});if(n.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=n[0],o=n.length>1?n[1]:n[0],s=r.indexOf(a),l=r.indexOf(o),u=xOt(r[s-1]),f=xOt(r[l-1]),c=yOt(u,a),h=c.startAngle,d=c.endAngle,v=yOt(f,o),p=v.startAngle,g=v.endAngle;(0,md.isNumberEqual)(h,p)&&(0,md.isNumberEqual)(d,g)?(t=h,i=d):(t=Math.min(h,p),i=Math.max(d,g));var m=a[1],y=n[n.length-1][1];return m<y?(e=Rt([y,m],2),m=e[0],y=e[1]):m===y&&(y=0),{startAngle:t,endAngle:i,radius:m,innerRadius:y}}function wOt(r,e,t){var i=t.toAttrs,n=t.coordinate,a=i.path||[],o=a.map(function(y){return y[0]});if(!(a.length<1)){var s=bOt(a),l=s.startAngle,u=s.endAngle,f=s.radius,c=s.innerRadius,h=bOt(r.attr("path")),d=h.startAngle,v=h.endAngle,p=n.getCenter(),g=l-d,m=u-v;if(g===0&&m===0){r.attr(i);return}r.animate(function(y){var x=d+y*g,b=v+y*m;return S(S({},i),{path:(0,md.isEqual)(o,["M","A","A","Z"])?$G(p.x,p.y,f,x,b):rh(p.x,p.y,f,x,b,c)})},S(S({},e),{callback:function(){r.attr("path",a),(0,md.isFunction)(e.callback)&&e.callback()}}))}}var _Ot=et(ot());function SOt(r,e,t){var i=w2(t.coordinate,20),n=i.type,a=i.startState,o=i.endState,s=r.setClip({type:n,attrs:a});t.toAttrs&&r.attr(t.toAttrs),s.animate(o,S(S({},e),{callback:function(){r&&!r.get("destroyed")&&r.set("clipShape",null),s.remove(!0),(0,_Ot.isFunction)(e.callback)&&e.callback()}}))}var hj=et(ot());function b$(r,e,t){if(r.isGroup())(0,hj.each)(r.getChildren(),function(s){b$(s,e,t)});else{var i=r.getBBox(),n=(i.minX+i.maxX)/2,a=(i.minY+i.maxY)/2;if(r.applyToMatrix([n,a,1]),t==="zoomIn"){var o=Wr.transform(r.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]]);r.setMatrix(o),r.animate({matrix:Wr.transform(r.getMatrix(),[["t",-n,-a],["s",100,100],["t",n,a]])},e)}else r.animate({matrix:Wr.transform(r.getMatrix(),[["t",-n,-a],["s",.01,.01],["t",n,a]])},S(S({},e),{callback:function(){r.remove(!0),(0,hj.isFunction)(e.callback)&&e.callback()}}))}}function COt(r,e,t){b$(r,e,"zoomIn")}function MOt(r,e,t){b$(r,e,"zoomOut")}var Y0=et(ot());function of(r){return[Fe.TOP,Fe.BOTTOM].includes(r)?{offsetX:0,offsetY:r===Fe.TOP?-8:8,style:{textAlign:"center",textBaseline:r===Fe.TOP?"bottom":"top"}}:[Fe.LEFT,Fe.RIGHT].includes(r)?{offsetX:r===Fe.LEFT?-8:8,offsetY:0,style:{textAlign:r===Fe.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function dj(r,e,t){return{x:r.x+e*Math.cos(t),y:r.y+e*Math.sin(t)}}var eAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,Y0.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.getRegion=function(t,i){var n=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*i,l=n/(1+1/Math.sin(o/2)),u=dj(a,n-l,s),f=Math.PI*5/4,c=Math.PI*1/4;return{start:dj(u,l,f),end:dj(u,l,c)}},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.generateFacets=function(t){var i=this,n=this.cfg,a=n.fields,o=n.type,s=Rt(a,1),l=s[0];if(!l)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,l),f=u.length,c=[];return u.forEach(function(h,d){var v=[{field:l,value:h,values:u}],p=(0,Y0.filter)(t,i.getFacetDataFilter(v)),g={type:o,data:p,region:i.getRegion(f,d),columnValue:h,columnField:l,columnIndex:d,columnValuesLength:f,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};c.push(g)}),c},e.prototype.getXAxisOption=function(t,i,n,a){return n},e.prototype.getYAxisOption=function(t,i,n,a){return n},e.prototype.renderTitle=function(){var t=this;(0,Y0.each)(this.facets,function(i){var n=i.columnValue,a=i.view,o=(0,Y0.get)(t.cfg.title,"formatter"),s=(0,Y0.deepMix)({position:["50%","0%"],content:o?o(n):n},of(Fe.TOP),t.cfg.title);a.annotation().text(s)})},e}(ef),AOt=eAe;var W0=et(ot());var rAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,W0.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.generateFacets=function(t){var i=this,n=this.cfg.fields,a=this.cfg.cols,o=Rt(n,1),s=o[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length;a=a||u;var f=this.getPageCount(u,a),c=[];return l.forEach(function(h,d){var v=i.getRowCol(d,a),p=v.row,g=v.col,m=[{field:s,value:h,values:l}],y=(0,W0.filter)(t,i.getFacetDataFilter(m)),x={type:i.cfg.type,data:y,region:i.getRegion(f,a,g,p),columnValue:h,rowValue:h,columnField:s,rowField:null,columnIndex:g,rowIndex:p,columnValuesLength:a,rowValuesLength:f,total:u};c.push(x)}),c},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?S(S({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.columnIndex!==0?S(S({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,W0.each)(this.facets,function(i){var n=i.columnValue,a=i.view,o=(0,W0.get)(t.cfg.title,"formatter"),s=(0,W0.deepMix)({position:["50%","0%"],content:o?o(n):n},of(Fe.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.getPageCount=function(t,i){return Math.floor((t+i-1)/i)},e.prototype.getRowCol=function(t,i){var n=Math.floor(t/i),a=t%i;return{row:n,col:a}},e}(ef),EOt=rAe;var V0=et(ot());var iAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,V0.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:S({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:S({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.generateFacets=function(t){for(var i=this.cfg,n=i.fields,a=i.type,o=n.length,s=o,l=[],u=0;u<s;u++)for(var f=n[u],c=0;c<o;c++){var h=n[c],d={type:a,data:t,region:this.getRegion(o,s,u,c),columnValue:f,rowValue:h,columnField:f,rowField:h,columnIndex:u,rowIndex:c,columnValuesLength:s,rowValuesLength:o};l.push(d)}return l},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1?S(S({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.columnIndex!==0?S(S({},n),{title:null,label:null}):n},e.prototype.renderTitle=function(){var t=this;(0,V0.each)(this.facets,function(i,n){var a=i.columnIndex,o=i.rowIndex,s=i.columnValuesLength,l=i.rowValuesLength,u=i.columnValue,f=i.rowValue,c=i.view;if(o===0){var h=(0,V0.get)(t.cfg.columnTitle,"formatter"),d=(0,V0.deepMix)({position:["50%","0%"],content:h?h(u):u},of(Fe.TOP),t.cfg.columnTitle);c.annotation().text(d)}if(a===s-1){var h=(0,V0.get)(t.cfg.rowTitle,"formatter"),d=(0,V0.deepMix)({position:["100%","50%"],content:h?h(f):f},of(Fe.RIGHT),t.cfg.rowTitle);c.annotation().text(d)}})},e}(ef),TOt=iAe;var Yg=et(ot());var nAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return(0,Yg.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this),transpose:!1})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.beforeEachView=function(t,i){this.cfg.transpose?i.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():i.rowIndex%2!=0&&t.coordinate().reflect("y")},e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.generateFacets=function(t){var i=this,n=Rt(this.cfg.fields,1),a=n[0],o=[],s=1,l=1,u=[""],f=[""],c,h;return this.cfg.transpose?(c=a,u=this.getFieldValues(t,c).slice(0,2),s=u.length):(h=a,f=this.getFieldValues(t,h).slice(0,2),l=f.length),u.forEach(function(d,v){f.forEach(function(p,g){var m=[{field:c,value:d,values:u},{field:h,value:p,values:f}],y=(0,Yg.filter)(t,i.getFacetDataFilter(m)),x={type:i.cfg.type,data:y,region:i.getRegion(l,s,v,g),columnValue:d,rowValue:p,columnField:c,rowField:h,columnIndex:v,rowIndex:g,columnValuesLength:s,rowValuesLength:l};o.push(x)})}),o},e.prototype.getXAxisOption=function(t,i,n,a){return a.columnIndex===1||a.rowIndex===1?S(S({},n),{label:null,title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return n},e.prototype.renderTitle=function(){var t=this;(0,Yg.each)(this.facets,function(i,n){var a=i.columnValue,o=i.rowValue,s=i.view,l=(0,Yg.get)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,Yg.deepMix)({position:["50%","0%"],content:l?l(a):a},of(Fe.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,Yg.deepMix)({position:["100%","50%"],content:l?l(o):o},of(Fe.RIGHT),t.cfg.title);s.annotation().text(u)}})},e}(ef),IOt=nAe;var Zv=et(ot());var aAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.getDefaultCfg=function(){return(0,Zv.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:S({},r.prototype.getDefaultTitleCfg.call(this)),rowTitle:S({},r.prototype.getDefaultTitleCfg.call(this))})},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.generateFacets=function(t){var i=this,n=Rt(this.cfg.fields,2),a=n[0],o=n[1],s=[],l=1,u=1,f=[""],c=[""];return a&&(f=this.getFieldValues(t,a),l=f.length),o&&(c=this.getFieldValues(t,o),u=c.length),f.forEach(function(h,d){c.forEach(function(v,p){var g=[{field:a,value:h,values:f},{field:o,value:v,values:c}],m=(0,Zv.filter)(t,i.getFacetDataFilter(g)),y={type:i.cfg.type,data:m,region:i.getRegion(u,l,d,p),columnValue:h,rowValue:v,columnField:a,rowField:o,columnIndex:d,rowIndex:p,columnValuesLength:l,rowValuesLength:u};s.push(y)})}),s},e.prototype.renderTitle=function(){var t=this;(0,Zv.each)(this.facets,function(i,n){var a=i.columnIndex,o=i.rowIndex,s=i.columnValuesLength,l=i.columnValue,u=i.rowValue,f=i.view;if(o===0){var c=(0,Zv.get)(t.cfg.columnTitle,"formatter"),h=(0,Zv.deepMix)({position:["50%","0%"],content:c?c(l):l},of(Fe.TOP),t.cfg.columnTitle);f.annotation().text(h)}if(a===s-1){var c=(0,Zv.get)(t.cfg.rowTitle,"formatter"),h=(0,Zv.deepMix)({position:["100%","50%"],content:c?c(u):u},of(Fe.RIGHT),t.cfg.rowTitle);f.annotation().text(h)}})},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1?S(S({},n),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?S(S({},n),{title:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.columnIndex!==0?S(S({},n),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?S(S({},n),{title:null}):n},e}(ef),LOt=aAe;var q0=et(ot());var oAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return e.prototype.afterEachView=function(t,i){this.processAxis(t,i)},e.prototype.beforeEachView=function(t,i){},e.prototype.init=function(){r.prototype.init.call(this),this.view.on(ti.AFTER_RENDER,this.afterChartRender)},e.prototype.getDefaultCfg=function(){return(0,q0.deepMix)({},r.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:r.prototype.getDefaultTitleCfg.call(this)})},e.prototype.generateFacets=function(t){var i=this.cfg.fields;if(!i.length)throw new Error("Please specify for the fields for rootFacet!");var n=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return n.push(a),a.children=this.getChildFacets(t,1,n),this.setRegion(n),n},e.prototype.setRegion=function(t){var i=this;this.forceColIndex(t),t.forEach(function(n){n.region=i.getRegion(n.rowValuesLength,n.columnValuesLength,n.columnIndex,n.rowIndex)})},e.prototype.getRegion=function(t,i,n,a){var o=1/i,s=1/t,l={x:o*n,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},e.prototype.forceColIndex=function(t){var i,n,a=this,o=[],s=0;t.forEach(function(v){a.isLeaf(v)&&(o.push(v),v.columnIndex=s,s++)}),o.forEach(function(v){v.columnValuesLength=o.length});for(var l=this.cfg.fields.length,u=l-1;u>=0;u--){var f=this.getFacetsByLevel(t,u);try{for(var c=(i=void 0,er(f)),h=c.next();!h.done;h=c.next()){var d=h.value;this.isLeaf(d)||(d.originColIndex=d.columnIndex,d.columnIndex=this.getRegionIndex(d.children),d.columnValuesLength=o.length)}}catch(v){i={error:v}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(i)throw i.error}}}},e.prototype.getFacetsByLevel=function(t,i){var n=[];return t.forEach(function(a){a.rowIndex===i&&n.push(a)}),n},e.prototype.getRegionIndex=function(t){var i=t[0],n=t[t.length-1];return(n.columnIndex-i.columnIndex)/2+i.columnIndex},e.prototype.isLeaf=function(t){return!t.children||!t.children.length},e.prototype.getRows=function(){return this.cfg.fields.length+1},e.prototype.getChildFacets=function(t,i,n){var a=this,o=this.cfg.fields,s=o.length;if(!(s<i)){var l=[],u=o[i-1],f=this.getFieldValues(t,u);return f.forEach(function(c,h){var d=[{field:u,value:c,values:f}],v=t.filter(a.getFacetDataFilter(d));if(v.length){var p={type:a.cfg.type,data:v,region:null,columnValue:c,rowValue:"",columnField:u,rowField:"",columnIndex:h,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:i,children:a.getChildFacets(v,i+1,n)};l.push(p),n.push(p)}}),l}},e.prototype.render=function(){r.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},e.prototype.renderTitle=function(){var t=this;(0,q0.each)(this.facets,function(i){var n=i.columnValue,a=i.view,o=(0,q0.get)(t.cfg.title,"formatter"),s=(0,q0.deepMix)({position:["50%","0%"],content:o?o(n):n},of(Fe.TOP),t.cfg.title);a.annotation().text(s)})},e.prototype.drawLines=function(t){var i=this;t.forEach(function(n){if(!i.isLeaf(n)){var a=n.children;i.addFacetLines(n,a)}})},e.prototype.addFacetLines=function(t,i){var n=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};i.forEach(function(l){var u=l.view.coordinateBBox,f={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},c={x:s.x,y:s.y+(f.y-s.y)/2},h={x:f.x,y:c.y};n.drawLine([s,c,h,f])})},e.prototype.getPath=function(t){var i=[],n=this.cfg.line.smooth;return n?(i.push(["M",t[0].x,t[0].y]),i.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?i.push(["M",a.x,a.y]):i.push(["L",a.x,a.y])}),i},e.prototype.drawLine=function(t){var i=this.getPath(t),n=this.cfg.line.style;this.container.addShape("path",{attrs:(0,q0.assign)({path:i},n)})},e.prototype.getXAxisOption=function(t,i,n,a){return a.rowIndex!==a.rowValuesLength-1?S(S({},n),{title:null,label:null}):n},e.prototype.getYAxisOption=function(t,i,n,a){return a.originColIndex!==0&&a.columnIndex!==0?S(S({},n),{title:null,label:null}):n},e}(ef),OOt=oAe;var Ji=et(ot());var vj=et(ot());function w$(r){var e=ne([],Rt(r),!1);e.sort(function(i,n){return i-n});var t=e.length;return t===0?0:t%2==1?e[(t-1)/2]:(e[t/2]+e[t/2-1])/2}function kOt(r){var e=(0,vj.reduce)(r,function(t,i){return t+=isNaN(i)||!(0,vj.isNumber)(i)?0:i},0);return r.length===0?0:e/r.length}function SD(r,e){if(!e)return null;var t;switch(r){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=e.isCategory?w$(e.values.map(function(i,n){return n})):w$(e.values);break}case"mean":{t=e.isCategory?(e.values.length-1)/2:kOt(e.values);break}case"min":t=e.isCategory?0:e[r];break;case"max":t=e.isCategory?e.values.length-1:e[r];break;default:t=r;break}return e.scale(t)}var pj=["regionFilter","shape"],sAe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.cache=new Map,i.foregroundContainer=i.view.getLayer(ia.FORE).addGroup(),i.backgroundContainer=i.view.getLayer(ia.BG).addGroup(),i.option=[],i}return Object.defineProperty(e.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.layout=function(){this.update()},e.prototype.render=function(){},e.prototype.update=function(){var t=this;this.onAfterRender(function(){var n=new Map;(0,Ji.each)(t.option,function(a){if((0,Ji.includes)(pj,a.type)){var o=t.updateOrCreate(a);o&&n.set(t.getCacheKey(a),o)}}),t.cache=t.syncCache(n)});var i=new Map;(0,Ji.each)(this.option,function(n){if(!(0,Ji.includes)(pj,n.type)){var a=t.updateOrCreate(n);a&&i.set(t.getCacheKey(n),a)}}),this.cache=this.syncCache(i)},e.prototype.clear=function(t){t===void 0&&(t=!1),r.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},e.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(i){t.push(i)}),t},e.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},e.prototype.onAfterRender=function(t){var i=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(n){n.animateOption&&(n.once(Fv.AFTER_DRAW_ANIMATE,function(){t()}),i=!0)}),i||this.view.getRootView().once(ti.AFTER_RENDER,function(){t()})},e.prototype.createAnnotation=function(t){var i=t.type,n=kP[(0,Ji.upperFirst)(i)];if(n){var a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,t,a);if(!o)return null;var s=new n(o);return{component:s,layer:this.isTop(o)?ia.FORE:ia.BG,direction:Fe.NONE,type:po.ANNOTATION,extra:t}}},e.prototype.annotation=function(t){this.option.push(t)},e.prototype.arc=function(t){return this.annotation(S({type:"arc"},t)),this},e.prototype.image=function(t){return this.annotation(S({type:"image"},t)),this},e.prototype.line=function(t){return this.annotation(S({type:"line"},t)),this},e.prototype.region=function(t){return this.annotation(S({type:"region"},t)),this},e.prototype.text=function(t){return this.annotation(S({type:"text"},t)),this},e.prototype.dataMarker=function(t){return this.annotation(S({type:"dataMarker"},t)),this},e.prototype.dataRegion=function(t){this.annotation(S({type:"dataRegion"},t))},e.prototype.regionFilter=function(t){this.annotation(S({type:"regionFilter"},t))},e.prototype.shape=function(t){this.annotation(S({type:"shape"},t))},e.prototype.html=function(t){this.annotation(S({type:"html"},t))},e.prototype.parsePosition=function(t){var i,n,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=(0,Ji.isFunction)(t)?t.call(null,a,o):t,l=0,u=0;if((0,Ji.isArray)(s)){var f=Rt(s,2),c=f[0],h=f[1];if((0,Ji.isString)(c)&&c.indexOf("%")!==-1&&!isNaN(c.slice(0,-1)))return this.parsePercentPosition(s);l=SD(c,a),u=SD(h,Object.values(o)[0])}else if(!(0,Ji.isNil)(s))try{for(var d=er((0,Ji.keys)(s)),v=d.next();!v.done;v=d.next()){var p=v.value,g=s[p];p===a.field&&(l=SD(g,a)),o[p]&&(u=SD(g,o[p]))}}catch(m){i={error:m}}finally{try{v&&!v.done&&(n=d.return)&&n.call(d)}finally{if(i)throw i.error}}return isNaN(l)||isNaN(u)?null:this.view.getCoordinate().convert({x:l,y:u})},e.prototype.getRegionPoints=function(t,i){var n=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),f=(0,Ji.isArray)(t)?t[0]:t[l],c=(0,Ji.isArray)(i)?i[0]:i[l],h=[],d;return(0,Ji.each)(u,function(v,p){if(v[l]===f&&(d=p),p>=d){var g=n.parsePosition([v[l],v[s.field]]);g&&h.push(g)}if(v[l]===c)return!1}),h},e.prototype.parsePercentPosition=function(t){var i=parseFloat(t[0])/100,n=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*i+l.x,f=a.getHeight()*n+l.y;return{x:u,y:f}},e.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),i=t.start,n=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(i.x,n.x),y:Math.min(i.y,n.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},e.prototype.getAnnotationCfg=function(t,i,n){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if((0,Ji.isNil)(i))return null;var u=i.start,f=i.end,c=i.position,h=this.parsePosition(u),d=this.parsePosition(f),v=this.parsePosition(c);if(["arc","image","line","region","regionFilter"].includes(t)&&(!h||!d))return null;if(["text","dataMarker","html"].includes(t)&&!v)return null;if(t==="arc"){var p=i,g=p.start,m=p.end,y=Ze(p,["start","end"]),x=kg(o,h),b=kg(o,d);x>b&&(b=Math.PI*2+b),l=S(S({},y),{center:o.getCenter(),radius:Wb(o,h),startAngle:x,endAngle:b})}else if(t==="image"){var _=i,M=_.start,A=_.end,y=Ze(_,["start","end"]);l=S(S({},y),{start:h,end:d,src:i.src})}else if(t==="line"){var I=i,k=I.start,E=I.end,y=Ze(I,["start","end"]);l=S(S({},y),{start:h,end:d,text:(0,Ji.get)(i,"text",null)})}else if(t==="region"){var O=i,P=O.start,N=O.end,y=Ze(O,["start","end"]);l=S(S({},y),{start:h,end:d})}else if(t==="text"){var R=this.view.getData(),z=i,B=z.position,Y=z.content,y=Ze(z,["position","content"]),q=Y;(0,Ji.isFunction)(Y)&&(q=Y(R)),l=S(S(S({},v),y),{content:q})}else if(t==="dataMarker"){var j=i,Z=j.position,tt=j.point,lt=j.line,J=j.text,nt=j.autoAdjust,ut=j.direction,y=Ze(j,["position","point","line","text","autoAdjust","direction"]);l=S(S(S({},y),v),{coordinateBBox:this.getCoordinateBBox(),point:tt,line:lt,text:J,autoAdjust:nt,direction:ut})}else if(t==="dataRegion"){var ft=i,pt=ft.start,_t=ft.end,Et=ft.region,J=ft.text,Ot=ft.lineLength,y=Ze(ft,["start","end","region","text","lineLength"]);l=S(S({},y),{points:this.getRegionPoints(pt,_t),region:Et,text:J,lineLength:Ot})}else if(t==="regionFilter"){var oe=i,se=oe.start,_e=oe.end,le=oe.apply,ar=oe.color,y=Ze(oe,["start","end","apply","color"]),pe=this.view.geometries,ze=[],rr=function(je){!je||(je.isGroup()?je.getChildren().forEach(function(Ae){return rr(Ae)}):ze.push(je))};(0,Ji.each)(pe,function(je){le?(0,Ji.contains)(le,je.type)&&(0,Ji.each)(je.elements,function(Ae){rr(Ae.shape)}):(0,Ji.each)(je.elements,function(Ae){rr(Ae.shape)})}),l=S(S({},y),{color:ar,shapes:ze,start:h,end:d})}else if(t==="shape"){var ur=i,_r=ur.render,it=Ze(ur,["render"]),kt=function(Oe){if((0,Ji.isFunction)(i.render))return _r(Oe,a.view,{parsePosition:a.parsePosition.bind(a)})};l=S(S({},it),{render:kt})}else if(t==="html"){var Gt=i,te=Gt.html,we=Gt.position,it=Ze(Gt,["html","position"]),Ht=function(je){return(0,Ji.isFunction)(te)?te(je,a.view):te};l=S(S(S({},it),v),{parent:s.get("el").parentNode,html:Ht})}var ce=(0,Ji.deepMix)({},n,S(S({},l),{top:i.top,style:i.style,offsetX:i.offsetX,offsetY:i.offsetY}));return t!=="html"&&(ce.container=this.getComponentContainer(ce)),ce.animate=this.view.getOptions().animate&&ce.animate&&(0,Ji.get)(i,"animate",ce.animate),ce.animateOption=(0,Ji.deepMix)({},k0,ce.animateOption,i.animateOption),ce},e.prototype.isTop=function(t){return(0,Ji.get)(t,"top",!0)},e.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},e.prototype.getAnnotationTheme=function(t){return(0,Ji.get)(this.view.getTheme(),["components","annotation",t],{})},e.prototype.updateOrCreate=function(t){var i=this.cache.get(this.getCacheKey(t));if(i){var n=t.type,a=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,a);o&&Hs(o,["container"]),i.component.update(S(S({},o||{}),{visible:!!o})),(0,Ji.includes)(pj,t.type)&&i.component.render()}else i=this.createAnnotation(t),i&&(i.component.init(),(0,Ji.includes)(pj,t.type)&&i.component.render());return i},e.prototype.syncCache=function(t){var i=this,n=new Map(this.cache);return t.forEach(function(a,o){n.set(o,a)}),n.forEach(function(a,o){(0,Ji.find)(i.option,function(s){return o===i.getCacheKey(s)})||(a.component.destroy(),n.delete(o))}),n},e.prototype.getCacheKey=function(t){return t},e}(ac),POt=sAe;var ga=et(ot());var Wg=et(ot());function _$(r,e){var t=(0,Wg.deepMix)({},(0,Wg.get)(r,["components","axis","common"]),(0,Wg.get)(r,["components","axis",e]));return(0,Wg.get)(t,["grid"],{})}function CD(r,e,t,i){var n=[],a=e.getTicks();return r.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(i)n.push({points:[r.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),r.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var f=o.value,c=(f+u)/2;n.push({points:[r.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),r.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]})}return s},a[0]),n}function gj(r,e,t,i,n){var a=e.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var f=l?l.value:u.value,c=u.value,h=(f+c)/2;return n==="x"?o.push({points:[r.convert({x:i?c:h,y:0}),r.convert({x:i?c:h,y:1})]}):o.push({points:(0,Wg.map)(Array(a+1),function(d,v){return r.convert({x:v/a,y:i?c:h})})}),u},s[0]),o}function S$(r,e){var t=(0,Wg.get)(e,"grid");if(t===null)return!1;var i=(0,Wg.get)(r,"grid");return!(t===void 0&&i===null)}var nw=["container"],DOt=S(S({},k0),{appear:null}),lAe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.cache=new Map,i.gridContainer=i.view.getLayer(ia.BG).addGroup(),i.gridForeContainer=i.view.getLayer(ia.FORE).addGroup(),i.axisContainer=i.view.getLayer(ia.BG).addGroup(),i.axisForeContainer=i.view.getLayer(ia.FORE).addGroup(),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this,i=this.view.getCoordinate();(0,ga.each)(this.getComponents(),function(n){var a=n.component,o=n.direction,s=n.type,l=n.extra,u=l.dim,f=l.scale,c=l.alignTick,h;if(s===po.AXIS)i.isPolar?u==="x"?h=i.isTransposed?HP(i,o):iz(i):u==="y"&&(h=i.isTransposed?iz(i):HP(i,o)):h=HP(i,o);else if(s===po.GRID)if(i.isPolar){var d=void 0;i.isTransposed?d=u==="x"?gj(i,t.view.getYScales()[0],f,c,u):CD(i,f,u,c):d=u==="x"?CD(i,f,u,c):gj(i,t.view.getXScale(),f,c,u),h={items:d,center:t.view.getCoordinate().getCenter()}}else h={items:CD(i,f,u,c)};a.update(h)})},e.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var i=new Map;this.cache.forEach(function(n,a){t.has(a)?i.set(a,n):n.component.destroy()}),this.cache=i},e.prototype.clear=function(){r.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},e.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(i){t.push(i)}),t},e.prototype.updateXAxes=function(t){var i=this.view.getXScale();if(!(!i||i.isIdentity)){var n=_2(this.option,i.field);if(n!==!1){var a=IQ(n,Fe.BOTTOM),o=ia.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",i.field),f=this.getId("grid",i.field);if(l.isRect){var c=this.cache.get(u);if(c){var h=this.getLineAxisCfg(i,n,a);Hs(h,nw),c.component.update(h),t.set(u,c)}else c=this.createLineAxis(i,n,o,a,s),this.cache.set(u,c),t.set(u,c);var d=this.cache.get(f);if(d){var h=this.getLineGridCfg(i,n,a,s);Hs(h,nw),d.component.update(h),t.set(f,d)}else d=this.createLineGrid(i,n,o,a,s),d&&(this.cache.set(f,d),t.set(f,d))}else if(l.isPolar){var c=this.cache.get(u);if(c){var h=l.isTransposed?this.getLineAxisCfg(i,n,Fe.RADIUS):this.getCircleAxisCfg(i,n,a);Hs(h,nw),c.component.update(h),t.set(u,c)}else{if(l.isTransposed){if((0,ga.isUndefined)(n))return;c=this.createLineAxis(i,n,o,Fe.RADIUS,s)}else c=this.createCircleAxis(i,n,o,a,s);this.cache.set(u,c),t.set(u,c)}var d=this.cache.get(f);if(d){var h=l.isTransposed?this.getCircleGridCfg(i,n,Fe.RADIUS,s):this.getLineGridCfg(i,n,Fe.CIRCLE,s);Hs(h,nw),d.component.update(h),t.set(f,d)}else{if(l.isTransposed){if((0,ga.isUndefined)(n))return;d=this.createCircleGrid(i,n,o,Fe.RADIUS,s)}else d=this.createLineGrid(i,n,o,Fe.CIRCLE,s);d&&(this.cache.set(f,d),t.set(f,d))}}}}},e.prototype.updateYAxes=function(t){var i=this,n=this.view.getYScales();(0,ga.each)(n,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=_2(i.option,s);if(l!==!1){var u=ia.BG,f="y",c=i.getId("axis",s),h=i.getId("grid",s),d=i.view.getCoordinate();if(d.isRect){var v=IQ(l,o===0?Fe.LEFT:Fe.RIGHT),p=i.cache.get(c);if(p){var g=i.getLineAxisCfg(a,l,v);Hs(g,nw),p.component.update(g),t.set(c,p)}else p=i.createLineAxis(a,l,u,v,f),i.cache.set(c,p),t.set(c,p);var m=i.cache.get(h);if(m){var g=i.getLineGridCfg(a,l,v,f);Hs(g,nw),m.component.update(g),t.set(h,m)}else m=i.createLineGrid(a,l,u,v,f),m&&(i.cache.set(h,m),t.set(h,m))}else if(d.isPolar){var p=i.cache.get(c);if(p){var g=d.isTransposed?i.getCircleAxisCfg(a,l,Fe.CIRCLE):i.getLineAxisCfg(a,l,Fe.RADIUS);Hs(g,nw),p.component.update(g),t.set(c,p)}else{if(d.isTransposed){if((0,ga.isUndefined)(l))return;p=i.createCircleAxis(a,l,u,Fe.CIRCLE,f)}else p=i.createLineAxis(a,l,u,Fe.RADIUS,f);i.cache.set(c,p),t.set(c,p)}var m=i.cache.get(h);if(m){var g=d.isTransposed?i.getLineGridCfg(a,l,Fe.CIRCLE,f):i.getCircleGridCfg(a,l,Fe.RADIUS,f);Hs(g,nw),m.component.update(g),t.set(h,m)}else{if(d.isTransposed){if((0,ga.isUndefined)(l))return;m=i.createLineGrid(a,l,u,Fe.CIRCLE,f)}else m=i.createCircleGrid(a,l,u,Fe.RADIUS,f);m&&(i.cache.set(h,m),t.set(h,m))}}}}})},e.prototype.createLineAxis=function(t,i,n,a,o){var s={component:new O2t(this.getLineAxisCfg(t,i,a)),layer:n,direction:a===Fe.RADIUS?Fe.NONE:a,type:po.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createLineGrid=function(t,i,n,a,o){var s=this.getLineGridCfg(t,i,a,o);if(s){var l={component:new P2t(s),layer:n,direction:Fe.NONE,type:po.GRID,extra:{dim:o,scale:t,alignTick:(0,ga.get)(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.createCircleAxis=function(t,i,n,a,o){var s={component:new k2t(this.getCircleAxisCfg(t,i,a)),layer:n,direction:a,type:po.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},e.prototype.createCircleGrid=function(t,i,n,a,o){var s=this.getCircleGridCfg(t,i,a,o);if(s){var l={component:new D2t(s),layer:n,direction:Fe.NONE,type:po.GRID,extra:{dim:o,scale:t,alignTick:(0,ga.get)(s,"alignTick",!0)}};return l.component.init(),l}},e.prototype.getLineAxisCfg=function(t,i,n){var a=(0,ga.get)(i,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=HP(o,n),l=LQ(t,i),u=UP(this.view.getTheme(),n),f=(0,ga.get)(i,["title"])?(0,ga.deepMix)({title:{style:{text:l}}},{title:TQ(this.view.getTheme(),n,i.title)},i):i,c=(0,ga.deepMix)(S(S({container:a},s),{ticks:t.getTicks().map(function(x){return{id:"".concat(x.tickValue),name:x.text,value:x.value}}),verticalFactor:o.isPolar?EQ(s,o.getCenter())*-1:EQ(s,o.getCenter()),theme:u}),u,f),h=this.getAnimateCfg(c),d=h.animate,v=h.animateOption;c.animateOption=v,c.animate=d;var p=AQ(s),g=(0,ga.get)(c,"verticalLimitLength",p?1/3:1/2);if(g<=1){var m=this.view.getCanvas().get("width"),y=this.view.getCanvas().get("height");c.verticalLimitLength=g*(p?m:y)}return c},e.prototype.getLineGridCfg=function(t,i,n,a){if(!!S$(UP(this.view.getTheme(),n),i)){var o=_$(this.view.getTheme(),n),s=(0,ga.deepMix)({container:(0,ga.get)(i,["top"])?this.gridForeContainer:this.gridContainer},o,(0,ga.get)(i,"grid"),this.getAnimateCfg(i));return s.items=CD(this.view.getCoordinate(),t,a,(0,ga.get)(s,"alignTick",!0)),s}},e.prototype.getCircleAxisCfg=function(t,i,n){var a=(0,ga.get)(i,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(p){return{id:"".concat(p.tickValue),name:p.text,value:p.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.length&&(s[s.length-1].name="");var l=LQ(t,i),u=UP(this.view.getTheme(),Fe.CIRCLE),f=(0,ga.get)(i,["title"])?(0,ga.deepMix)({title:{style:{text:l}}},{title:TQ(this.view.getTheme(),n,i.title)},i):i,c=(0,ga.deepMix)(S(S({container:a},iz(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,f),h=this.getAnimateCfg(c),d=h.animate,v=h.animateOption;return c.animate=d,c.animateOption=v,c},e.prototype.getCircleGridCfg=function(t,i,n,a){if(!!S$(UP(this.view.getTheme(),n),i)){var o=_$(this.view.getTheme(),Fe.RADIUS),s=(0,ga.deepMix)({container:(0,ga.get)(i,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,ga.get)(i,"grid"),this.getAnimateCfg(i)),l=(0,ga.get)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=gj(this.view.getCoordinate(),u,t,l,a),s}},e.prototype.getId=function(t,i){var n=this.view.getCoordinate();return"".concat(t,"-").concat(i,"-").concat(n.type)},e.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,ga.get)(t,"animate"),animateOption:t&&t.animateOption?(0,ga.deepMix)({},DOt,t.animateOption):DOt}},e}(ac),FOt=lAe;var In=et(ot());function Kv(r,e,t){return t===Fe.TOP?[r.minX+r.width/2-e.width/2,r.minY]:t===Fe.BOTTOM?[r.minX+r.width/2-e.width/2,r.maxY-e.height]:t===Fe.LEFT?[r.minX,r.minY+r.height/2-e.height/2]:t===Fe.RIGHT?[r.maxX-e.width,r.minY+r.height/2-e.height/2]:t===Fe.TOP_LEFT||t===Fe.LEFT_TOP?[r.tl.x,r.tl.y]:t===Fe.TOP_RIGHT||t===Fe.RIGHT_TOP?[r.tr.x-e.width,r.tr.y]:t===Fe.BOTTOM_LEFT||t===Fe.LEFT_BOTTOM?[r.bl.x,r.bl.y-e.height]:t===Fe.BOTTOM_RIGHT||t===Fe.RIGHT_BOTTOM?[r.br.x-e.width,r.br.y-e.height]:[0,0]}function NOt(r,e){return(0,In.isBoolean)(r)?r===!1?!1:{}:(0,In.get)(r,[e],r)}function mj(r){return(0,In.get)(r,"position",Fe.BOTTOM)}var uAe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.container=i.view.getLayer(ia.FORE).addGroup(),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.render=function(){this.update()},e.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,In.each)(this.components,function(i){var n=i.component,a=i.direction,o=Cz(a),s=n.get("maxWidthRatio"),l=n.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,s,l),f=n.get("maxWidth"),c=n.get("maxHeight");n.update({maxWidth:Math.min(u.maxWidth,f||0),maxHeight:Math.min(u.maxHeight,c||0)});var h=n.get("padding"),d=n.getLayoutBBox(),v=new Oo(d.x,d.y,d.width,d.height).expand(h),p=Rt(Kv(t.view.viewBBox,v,a),2),g=p[0],m=p[1],y=Rt(Kv(t.layoutBBox,v,a),2),x=y[0],b=y[1],_=0,M=0;a.startsWith("top")||a.startsWith("bottom")?(_=g,M=b):(_=x,M=m),n.setLocation({x:_+h[3],y:M+h[0]}),t.layoutBBox=t.layoutBBox.cut(v,a)})},e.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var i={},n=function(h,d,v){var p=t.getId(v.field),g=t.getComponentById(p);if(g){var m=void 0,y=NOt(t.option,v.field);y!==!1&&((0,In.get)(y,"custom")?m=t.getCategoryCfg(h,d,v,y,!0):v.isLinear?m=t.getContinuousCfg(h,d,v,y):v.isCategory&&(m=t.getCategoryCfg(h,d,v,y))),m&&(Hs(m,["container"]),g.direction=mj(y),g.component.update(m),i[p]=!0)}else{var x=t.createFieldLegend(h,d,v);x&&(x.component.init(),t.components.push(x),i[p]=!0)}};if((0,In.get)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);Hs(s,["container"]),o.component.update(s),i[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=ia.FORE,f=mj(this.option);this.components.push({id:a,component:l,layer:u,direction:f,type:po.LEGEND,extra:void 0}),i[a]=!0}}}else this.loopLegends(n);var c=[];(0,In.each)(this.getComponents(),function(h){i[h.id]?c.push(h):h.component.destroy()}),this.components=c},e.prototype.clear=function(){r.prototype.clear.call(this),this.container.clear()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.container.remove(!0)},e.prototype.getGeometries=function(t){var i=this,n=t.geometries;return(0,In.each)(t.views,function(a){n=n.concat(i.getGeometries(a))}),n},e.prototype.loopLegends=function(t){var i=this.view.getRootView()===this.view;if(!!i){var n=this.getGeometries(this.view),a={};(0,In.each)(n,function(o){var s=o.getGroupAttributes();(0,In.each)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},e.prototype.createFieldLegend=function(t,i,n){var a,o=NOt(this.option,n.field),s=ia.FORE,l=mj(o);if(o!==!1&&((0,In.get)(o,"custom")?a=this.createCustomLegend(t,i,n,o):n.isLinear?a=this.createContinuousLegend(t,i,n,o):n.isCategory&&(a=this.createCategoryLegend(t,i,n,o))),a)return a.set("field",n.field),{id:this.getId(n.field),component:a,layer:s,direction:l,type:po.LEGEND,extra:{scale:n}}},e.prototype.createCustomLegend=function(t,i,n,a){var o=this.getCategoryCfg(t,i,n,a,!0);return new CQ(o)},e.prototype.createContinuousLegend=function(t,i,n,a){var o=this.getContinuousCfg(t,i,n,Hs(a,["value"]));return new F2t(o)},e.prototype.createCategoryLegend=function(t,i,n,a){var o=this.getCategoryCfg(t,i,n,a);return new CQ(o)},e.prototype.getContinuousCfg=function(t,i,n,a){var o=n.getTicks(),s=(0,In.find)(o,function(p){return p.value===0}),l=(0,In.find)(o,function(p){return p.value===1}),u=o.map(function(p){var g=p.value,m=p.tickValue,y=i.mapping(n.invert(g)).join("");return{value:m,attrValue:y,color:y,scaleValue:g}});s||u.push({value:n.min,attrValue:i.mapping(n.invert(0)).join(""),color:i.mapping(n.invert(0)).join(""),scaleValue:0}),l||u.push({value:n.max,attrValue:i.mapping(n.invert(1)).join(""),color:i.mapping(n.invert(1)).join(""),scaleValue:1}),u.sort(function(p,g){return p.value-g.value});var f={min:(0,In.head)(u).value,max:(0,In.last)(u).value,colors:[],rail:{type:i.type},track:{}};i.type==="size"&&(f.track={style:{fill:i.type==="size"?this.view.getTheme().defaultColor:void 0}}),i.type==="color"&&(f.colors=u.map(function(p){return p.attrValue}));var c=this.container,h=mj(a),d=Cz(h),v=(0,In.get)(a,"title");return v&&(v=(0,In.deepMix)({text:Vb(n)},v)),f.container=c,f.layout=d,f.title=v,f.animateOption=k0,this.mergeLegendCfg(f,a,"continuous")},e.prototype.getCategoryCfg=function(t,i,n,a,o){var s=this.container,l=(0,In.get)(a,"position",Fe.BOTTOM),u=HQ(this.view.getTheme(),l),f=(0,In.get)(u,["marker"]),c=(0,In.get)(a,"marker"),h=Cz(l),d=(0,In.get)(u,["pageNavigator"]),v=(0,In.get)(a,"pageNavigator"),p=o?HTt(f,c,a.items):Mz(this.view,t,i,f,c),g=(0,In.get)(a,"title");g&&(g=(0,In.deepMix)({text:n?Vb(n):""},g));var m=(0,In.get)(a,"maxWidthRatio"),y=(0,In.get)(a,"maxHeightRatio"),x=this.getCategoryLegendSizeCfg(h,m,y);x.container=s,x.layout=h,x.items=p,x.title=g,x.animateOption=k0,x.pageNavigator=(0,In.deepMix)({},d,v);var b=this.mergeLegendCfg(x,a,l);b.reversed&&b.items.reverse();var _=(0,In.get)(b,"maxItemWidth");return _&&_<=1&&(b.maxItemWidth=this.view.viewBBox.width*_),b},e.prototype.mergeLegendCfg=function(t,i,n){var a=n.split("-")[0],o=HQ(this.view.getTheme(),a);return(0,In.deepMix)({},o,t,i)},e.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},e.prototype.getComponentById=function(t){return(0,In.find)(this.components,function(i){return i.id===t})},e.prototype.getCategoryLegendSizeCfg=function(t,i,n){i===void 0&&(i=xZ),n===void 0&&(n=xZ);var a=this.view.viewBBox,o=a.width,s=a.height;return t==="vertical"?{maxWidth:o*i,maxHeight:s}:{maxWidth:o,maxHeight:s*n}},e}(ac),BOt=uAe;var sa=et(ot());var fAe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.onChangeFn=sa.noop,i.resetMeasure=function(){i.clear()},i.onValueChange=function(n){var a=Rt(n,2),o=a[0],s=a[1];i.start=o,i.end=s,i.changeViewData(o,s)},i.container=i.view.getLayer(ia.FORE).addGroup(),i.onChangeFn=(0,sa.throttle)(i.onValueChange,20,{leading:!0}),i.width=0,i.view.on(ti.BEFORE_CHANGE_DATA,i.resetMeasure),i.view.on(ti.BEFORE_CHANGE_SIZE,i.resetMeasure),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(ti.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(ti.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),i=t.start,n=t.end;(0,sa.isNil)(this.start)&&(this.start=i,this.end=n);var a=this.view.getOptions().data;this.option&&!(0,sa.isEmpty)(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var i=this.view.coordinateBBox.width,n=this.slider.component.get("padding"),a=Rt(n,4),o=a[0],s=a[1],l=a[2],u=a[3],f=this.slider.component.getLayoutBBox(),c=new Oo(f.x,f.y,Math.min(f.width,i),f.height).expand(n),h=this.getMinMaxText(this.start,this.end),d=h.minText,v=h.maxText,p=Rt(Kv(this.view.viewBBox,c,Fe.BOTTOM),2),g=p[0],m=p[1],y=Rt(Kv(this.view.coordinateBBox,c,Fe.BOTTOM),2),x=y[0],b=y[1];this.slider.component.update(S(S({},this.getSliderCfg()),{x:x+u,y:m+o,width:this.width,start:this.start,end:this.end,minText:d,maxText:v})),this.view.viewBBox=this.view.viewBBox.cut(c,Fe.BOTTOM)}},e.prototype.update=function(){this.render()},e.prototype.createSlider=function(){var t=this.getSliderCfg(),i=new qP(S({container:this.container},t));return i.init(),{component:i,layer:ia.FORE,direction:Fe.BOTTOM,type:po.SLIDER}},e.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var i=this.getMinMaxText(this.start,this.end),n=i.minText,a=i.maxText;t=S(S({},t),{width:this.width,start:this.start,end:this.end,minText:n,maxText:a})}return this.slider.component.update(t),this.slider},e.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},e.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,sa.isObject)(this.option)){var i=S({data:this.getData()},(0,sa.get)(this.option,"trendCfg",{}));t=(0,sa.deepMix)({},t,this.getThemeOptions(),this.option),t=S(S({},t),{trendCfg:i})}return t.start=(0,sa.clamp)(Math.min((0,sa.isNil)(t.start)?0:t.start,(0,sa.isNil)(t.end)?1:t.end),0,1),t.end=(0,sa.clamp)(Math.max((0,sa.isNil)(t.start)?0:t.start,(0,sa.isNil)(t.end)?1:t.end),0,1),t},e.prototype.getData=function(){var t=this.view.getOptions().data,i=Rt(this.view.getYScales(),1),n=i[0],a=this.view.getGroupScales();if(a.length){var o=a[0],s=o.field,l=o.ticks;return t.reduce(function(u,f){return f[s]===l[0]&&u.push(f[n.field]),u},[])}return t.map(function(u){return u[n.field]||0})},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,sa.get)(t,["components","slider","common"],{})},e.prototype.getMinMaxText=function(t,i){var n=this.view.getOptions().data,a=this.view.getXScale(),o=!0,s=(0,sa.valuesOfKey)(n,a.field);a.isLinear&&(s=s.sort());var l=o?s:s.reverse(),u=(0,sa.size)(n);if(!a||!u)return{};var f=(0,sa.size)(l),c=Math.round(t*(f-1)),h=Math.round(i*(f-1)),d=(0,sa.get)(l,[c]),v=(0,sa.get)(l,[h]),p=this.getSliderCfg().formatter;return p&&(d=p(d,n[c],c),v=p(v,n[h],h)),{minText:d,maxText:v}},e.prototype.changeViewData=function(t,i){var n=this.view.getOptions().data,a=this.view.getXScale(),o=(0,sa.size)(n);if(!(!a||!o)){var s=!0,l=(0,sa.valuesOfKey)(n,a.field),u=this.view.getXScale().isLinear?l.sort(function(v,p){return Number(v)-Number(p)}):l,f=s?u:u.reverse(),c=(0,sa.size)(f),h=Math.round(t*(c-1)),d=Math.round(i*(c-1));this.view.filter(a.field,function(v,p){var g=f.indexOf(v);return g>-1?A0(g,h,d):!0}),this.view.render(!0)}},e.prototype.getComponents=function(){return this.slider?[this.slider]:[]},e.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},e}(ac),ROt=fAe;var Po=et(ot());var yj=0,GOt=8,cAe=32,hAe=20,dAe=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.onChangeFn=Po.noop,i.resetMeasure=function(){i.clear()},i.onValueChange=function(n){var a=n.ratio,o=i.getValidScrollbarCfg().animate;i.ratio=(0,Po.clamp)(a,0,1);var s=i.view.getOptions().animate;o||i.view.animate(!1),i.changeViewData(i.getScrollRange(),!0),i.view.animate(s)},i.container=i.view.getLayer(ia.FORE).addGroup(),i.onChangeFn=(0,Po.throttle)(i.onValueChange,20,{leading:!0}),i.trackLen=0,i.thumbLen=0,i.ratio=0,i.view.on(ti.BEFORE_CHANGE_DATA,i.resetMeasure),i.view.on(ti.BEFORE_CHANGE_SIZE,i.resetMeasure),i}return Object.defineProperty(e.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){r.prototype.destroy.call(this),this.view.off(ti.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(ti.BEFORE_CHANGE_SIZE,this.resetMeasure)},e.prototype.init=function(){},e.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},e.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var i=this.view.coordinateBBox.width,n=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new Oo(a.x,a.y,Math.min(a.width,i),a.height).expand(n),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var f=Rt(Kv(this.view.viewBBox,o,Fe.BOTTOM),2),c=f[0],h=f[1],d=Rt(Kv(this.view.coordinateBBox,o,Fe.BOTTOM),2),v=d[0],p=d[1];l=v,u=h}else{var g=Rt(Kv(this.view.viewBBox,o,Fe.RIGHT),2),c=g[0],h=g[1],m=Rt(Kv(this.view.viewBBox,o,Fe.RIGHT),2),v=m[0],p=m[1];l=v,u=h}l+=n[3],u+=n[0],this.trackLen?this.scrollbar.component.update(S(S({},s),{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(S(S({},s),{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?Fe.BOTTOM:Fe.RIGHT)}},e.prototype.update=function(){this.render()},e.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},e.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},e.prototype.setValue=function(t){this.onValueChange({ratio:t})},e.prototype.getValue=function(){return this.ratio},e.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,Po.get)(t,["components","scrollbar","common"],{})},e.prototype.getScrollbarTheme=function(t){var i=(0,Po.get)(this.view.getTheme(),["components","scrollbar"]),n=t||{},a=n.thumbHighlightColor,o=Ze(n,["thumbHighlightColor"]);return{default:(0,Po.deepMix)({},(0,Po.get)(i,["default","style"],{}),o),hover:(0,Po.deepMix)({},(0,Po.get)(i,["hover","style"],{}),{thumbColor:a})}},e.prototype.measureScrollbar=function(){var t=this.view.getXScale(),i=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var n=this.getScrollbarComponentCfg(),a=n.trackLen,o=n.thumbLen;this.trackLen=a,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=i},e.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,Po.clamp)(this.ratio,0,1)),i=Math.min(t+this.step-1,this.cnt-1);return[t,i]},e.prototype.changeViewData=function(t,i){var n=this,a=Rt(t,2),o=a[0],s=a[1],l=this.getValidScrollbarCfg().type,u=l!=="vertical",f=(0,Po.valuesOfKey)(this.data,this.xScaleCfg.field),c=this.view.getXScale().isLinear?f.sort(function(d,v){return Number(d)-Number(v)}):f,h=u?c:c.reverse();this.yScalesCfg.forEach(function(d){n.view.scale(d.field,{formatter:d.formatter,type:d.type,min:d.min,max:d.max,tickMethod:d.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(d){var v=h.indexOf(d);return v>-1?A0(v,o,s):!0}),this.view.render(!0)},e.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,i=t!=="vertical",n=new QG(S(S({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return n.init(),{component:n,layer:ia.FORE,direction:i?Fe.BOTTOM:Fe.RIGHT,type:po.SCROLLBAR}},e.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),i=this.trackLen?S(S({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):S({},t);return this.scrollbar.component.update(i),this.scrollbar},e.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,i=this.getValidScrollbarCfg(),n=i.type,a=i.categorySize,o=n!=="vertical";return Math.floor((o?t.width:t.height)/a)},e.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),i=this.getScrollbarData(),n=(0,Po.valuesOfKey)(i,t.field);return(0,Po.size)(n)},e.prototype.getScrollbarComponentCfg=function(){var t=this.view,i=t.coordinateBBox,n=t.viewBBox,a=this.getValidScrollbarCfg(),o=a.type,s=a.padding,l=a.width,u=a.height,f=a.style,c=o!=="vertical",h=Rt(s,4),d=h[0],v=h[1],p=h[2],g=h[3],m=c?{x:i.minX+g,y:n.maxY-u-p}:{x:n.maxX-l-v,y:i.minY+d},y=this.getStep(),x=this.getCnt(),b=c?i.width-g-v:i.height-d-p,_=Math.max(b*(0,Po.clamp)(y/x,0,1),hAe);return S(S({},this.getThemeOptions()),{x:m.x,y:m.y,size:c?u:l,isHorizontal:c,trackLen:b,thumbLen:_,thumbOffset:0,theme:this.getScrollbarTheme(f)})},e.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:cAe,width:GOt,height:GOt,padding:[0,0,0,0],animate:!0,style:{}};return(0,Po.isObject)(this.option)&&(t=S(S({},t),this.option)),(!(0,Po.isObject)(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[yj,0,yj,0]:[0,yj,0,yj]),t},e.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),i=this.getValidScrollbarCfg(),n=this.view.getOptions().data||[];return t.isReflect("y")&&i.type==="vertical"&&(n=ne([],Rt(n),!1).reverse()),n},e}(ac),zOt=dAe;var is=et(ot());var vAe={fill:"#CCD6EC",opacity:.3};function pAe(r,e,t){var i,n,a,o,s,l,u=STt(r,e,t);if(u.length){u=(0,is.flatten)(u);try{for(var f=er(u),c=f.next();!c.done;c=f.next()){var h=c.value;try{for(var d=(a=void 0,er(h)),v=d.next();!v.done;v=d.next()){var p=v.value,g=p.mappingData,m=g.x,y=g.y;p.x=(0,is.isArray)(m)?m[m.length-1]:m,p.y=(0,is.isArray)(y)?y[y.length-1]:y}}catch(E){a={error:E}}finally{try{v&&!v.done&&(o=d.return)&&o.call(d)}finally{if(a)throw a.error}}}}catch(E){i={error:E}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(i)throw i.error}}var x=t.shared;if(x===!1&&u.length>1){var b=u[0],_=Math.abs(e.y-b[0].y);try{for(var M=er(u),A=M.next();!A.done;A=M.next()){var I=A.value,k=Math.abs(e.y-I[0].y);k<=_&&(b=I,_=k)}}catch(E){s={error:E}}finally{try{A&&!A.done&&(l=M.return)&&l.call(M)}finally{if(s)throw s.error}}u=[b]}return(0,is.uniq)((0,is.flatten)(u))}return[]}var gAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(t){var i=this.context.view,n=this.context.event,a=i.getController("tooltip").getTooltipCfg(),o=pAe(i,{x:n.x,y:n.y},a);if(!(0,is.isEqual)(o,this.items)&&(this.items=o,o.length)){var s=i.getXScale().field,l=o[0].data[s],u=[],f=i.geometries;if((0,is.each)(f,function(q){if(q.type==="interval"||q.type==="schema"){var j=q.getElementsBy(function(Z){var tt=Z.getData();return tt[s]===l});u=u.concat(j)}}),u.length){var c=i.getCoordinate(),h=u[0].shape.getCanvasBBox(),d=u[0].shape.getCanvasBBox(),v=h;(0,is.each)(u,function(q){var j=q.shape.getCanvasBBox();c.isTransposed?(j.minY<h.minY&&(h=j),j.maxY>d.maxY&&(d=j)):(j.minX<h.minX&&(h=j),j.maxX>d.maxX&&(d=j)),v.x=Math.min(j.minX,v.minX),v.y=Math.min(j.minY,v.minY),v.width=Math.max(j.maxX,v.maxX)-v.x,v.height=Math.max(j.maxY,v.maxY)-v.y});var p=i.backgroundGroup,g=i.coordinateBBox,m=void 0;if(c.isRect){var y=i.getXScale(),x=t||{},b=x.appendRatio,_=x.appendWidth;(0,is.isNil)(_)&&(b=(0,is.isNil)(b)?y.isLinear?0:.25:b,_=c.isTransposed?b*d.height:b*h.width);var M=void 0,A=void 0,I=void 0,k=void 0;c.isTransposed?(M=g.minX,A=Math.min(d.minY,h.minY)-_,I=g.width,k=v.height+_*2):(M=Math.min(h.minX,d.minX)-_,A=g.minY,I=v.width+_*2,k=g.height),m=[["M",M,A],["L",M+I,A],["L",M+I,A+k],["L",M,A+k],["Z"]]}else{var E=(0,is.head)(u),O=(0,is.last)(u),P=M0(E.getModel(),c).startAngle,N=M0(O.getModel(),c).endAngle,R=c.getCenter(),z=c.getRadius(),B=c.innerRadius*z;m=rh(R.x,R.y,z,P,N,B)}if(this.regionPath)this.regionPath.attr("path",m),this.regionPath.show();else{var Y=(0,is.get)(t,"style",vAe);this.regionPath=p.addShape({type:"path",name:"active-region",capture:!1,attrs:S(S({},Y),{path:m})})}}}},e.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},e.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),r.prototype.destroy.call(this)},e}(Qr),jOt=gAe;var C$=et(ot());var xj=et(ot());var mAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.context,i=t.event,n=t.view,a=n.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date,l=(0,xj.get)(t.view.getOptions(),"tooltip.showDelay",16);if(s-o>l){var u=this.location,f={x:i.x,y:i.y};(!u||!(0,xj.isEqual)(u,f))&&this.showTooltip(n,f),this.timeStamp=s,this.location=f}}},e.prototype.hide=function(){var t=this.context.view,i=t.getController("tooltip"),n=this.context.event,a=n.clientX,o=n.clientY;i.isCursorEntered({x:a,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},e.prototype.showTooltip=function(t,i){t.showTooltip(i)},e.prototype.hideTooltip=function(t){t.hideTooltip()},e}(Qr),bj=mAe;var yAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.showTooltip=function(t,i){var n=ic(t);(0,C$.each)(n,function(a){var o=fz(t,a,i);a.showTooltip(o)})},e.prototype.hideTooltip=function(t){var i=ic(t);(0,C$.each)(i,function(n){n.hideTooltip()})},e}(bj),YOt=yAe;var K2=et(ot());var xAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.show=function(){var t=this.context,i=t.event,n=this.timeStamp,a=+new Date;if(a-n>16){var o=this.location,s={x:i.x,y:i.y};(!o||!(0,K2.isEqual)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},e.prototype.hide=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var i=this.context,n=i.event,a=n.target;if(a&&a.get("tip")){if(!this.tooltip)this.renderTooltip();else{var o=i.view,s=o.canvas,l={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}};this.tooltip.set("region",l)}var u=a.get("tip");this.tooltip.update(S({title:u},t)),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,i=this.context.view,n=i.canvas,a={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},o=i.getTheme(),s=(0,K2.get)(o,["components","tooltip","domStyles"],{}),l=new Yb({parent:n.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:S({},(0,K2.deepMix)({},s,(t={},t[es.CONTAINER_CLASS]={"max-width":"50%"},t[es.TITLE_CLASS]={"word-break":"break-all"},t)))});l.init(),l.setCapture(!1),this.tooltip=l},e}(Qr),WOt=xAe;var $2=et(ot());var VOt=et(ot());var bAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t}return e.prototype.hasState=function(t){return t.hasState(this.stateName)},e.prototype.setElementState=function(t,i){t.setState(this.stateName,i)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},e.prototype.clearViewState=function(t){var i=this,n=ZP(t,this.stateName);(0,VOt.each)(n,function(a){i.setElementState(a,!1)})},e}(Qr),Q2=bAe;function qOt(r){return(0,$2.get)(r.get("delegateObject"),"item")}var wAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return e.prototype.isItemIgnore=function(t,i){var n=this.ignoreListItemStates,a=n.filter(function(o){return i.hasState(t,o)});return!!a.length},e.prototype.setStateByComponent=function(t,i,n){var a=this.context.view,o=t.get("field"),s=Ka(a);this.setElementsStateByItem(s,o,i,n)},e.prototype.setStateByElement=function(t,i){this.setElementState(t,i)},e.prototype.isMathItem=function(t,i,n){var a=this.context.view,o=Pg(a,i),s=Gl(t,i);return!(0,$2.isNil)(s)&&n.name===o.getText(s)},e.prototype.setElementsStateByItem=function(t,i,n,a){var o=this;(0,$2.each)(t,function(s){o.isMathItem(s,i,n)&&s.setState(o.stateName,a)})},e.prototype.setStateEnable=function(t){var i=ih(this.context);if(i)oz(this.context)&&this.setStateByElement(i,t);else{var n=nh(this.context);if(I0(n)){var a=n.item,o=n.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&qOt(s.fromShape)===qOt(s.toShape))return;this.setStateByComponent(o,a,t)}}}},e.prototype.toggle=function(){var t=ih(this.context);if(t){var i=t.hasState(this.stateName);this.setElementState(t,!i)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Q2),J2=wAe;var _Ae=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(J2),HOt=_Ae;var tT=et(ot()),SAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.cache={},t}return e.prototype.getColorScale=function(t,i){var n=i.geometry.getAttribute("color");if(!n)return null;var a=t.getScaleByField(n.getFields()[0]);return a},e.prototype.getLinkPath=function(t,i){var n=this.context.view,a=n.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=i.shape.getCanvasBBox(),l=a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return l},e.prototype.addLinkShape=function(t,i,n,a){var o={opacity:.4,fill:i.shape.attr("fill")};t.addShape({type:"path",attrs:S(S({},(0,tT.deepMix)({},o,(0,tT.isFunction)(a)?a(o,i):a)),{path:this.getLinkPath(i,n)})})},e.prototype.linkByElement=function(t,i){var n=this,a=this.context.view,o=this.getColorScale(a,t);if(!!o){var s=Gl(t,o.field);if(!this.cache[s]){var l=sTt(a,o.field,s),u=this.linkGroup,f=u.addGroup();this.cache[s]=f;var c=l.length;(0,tT.each)(l,function(h,d){if(d<c-1){var v=l[d+1];n.addLinkShape(f,h,v,i)}})}}},e.prototype.removeLink=function(t){var i=this.getColorScale(this.context.view,t);if(!!i){var n=Gl(t,i.field);this.cache[n]&&(this.cache[n].remove(),this.cache[n]=null)}},e.prototype.link=function(t){var i=this.context;this.linkGroup||(this.linkGroup=i.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var n=ih(i);n&&this.linkByElement(n,t==null?void 0:t.style)},e.prototype.unlink=function(){var t=ih(this.context);t&&this.removeLink(t)},e.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},e}(Qr),UOt=SAe;var MD=et(ot());var CAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},e.prototype.getIntersectElements=function(){var t=null;if(L0(this.context))t=S2(this.context,10);else{var i=this.startPoint,n=this.isStarted?this.getCurrentPoint():this.endPoint;if(!i||!n)return;var a={minX:Math.min(i.x,n.x),minY:Math.min(i.y,n.y),maxX:Math.max(i.x,n.x),maxY:Math.max(i.y,n.y)},o=this.context.view;t=KP(o,a)}return t},e.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var i=Ka(this.context.view),n=this.getIntersectElements();n&&n.length?this.effectByRecord?this.setSiblingsStateByRecord(n,t):this.setElementsState(n,t,i):this.clear()}},e.prototype.setSiblingsStateByRecord=function(t,i){var n=this,a=this.context.view,o=ic(a),s=t.map(function(f){return f.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,MD.each)(o,function(f){var c=Ka(f),h=c.filter(function(d){var v=d.getModel().data;return cz(s,v,l,u)});n.setElementsState(h,i,c)})},e.prototype.setSiblingsState=function(t){var i=this,n=this.context.view,a=ic(n);L0(this.context)&&(0,MD.each)(a,function(o){var s=Ka(o),l=lz(i.context,o,10);l&&l.length?i.setElementsState(l,t,s):i.clearViewState(o)})},e.prototype.setElementsState=function(t,i,n){var a=this;(0,MD.each)(n,function(o){t.includes(o)?a.setElementState(o,i):a.setElementState(o,!1)})},e.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},e.prototype.clear=function(){var t=this,i=this.context.view;if(this.effectSiblings){var n=ic(i);(0,MD.each)(n,function(a){t.clearViewState(a)})}else this.clearViewState(i)},e}(Q2),eT=CAe;var MAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(eT),XOt=MAe;var AAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateEnable=function(t){var i=ih(this.context);if(i){if(!oz(this.context))return;t?(this.clear(),this.setElementState(i,!0)):this.hasState(i)&&this.setElementState(i,!1)}},e.prototype.toggle=function(){var t=ih(this.context);if(t){var i=this.hasState(t);i||this.clear(),this.setElementState(t,!i)}},e.prototype.reset=function(){this.setStateEnable(!1)},e}(Q2),rT=AAe;var EAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(rT),ZOt=EAe;var _j=et(ot());var M$=et(ot());var AD="inactive",ED="active";function iT(r){var e=Ka(r);(0,M$.each)(e,function(t){t.hasState(ED)&&t.setState(ED,!1),t.hasState(AD)&&t.setState(AD,!1)})}function wj(r,e,t){(0,M$.each)(r,function(i){e(i)?(i.hasState(AD)&&i.setState(AD,!1),i.setState(ED,t)):(i.hasState(ED)&&i.setState(ED,!1),i.setState(AD,t))})}var aw=eP.INACTIVE,Vg=eP.ACTIVE,TAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Vg,t}return e.prototype.setElementsStateByItem=function(t,i,n,a){var o=this,s=function(l){return o.isMathItem(l,i,n)};this.setHighlightBy(t,s,a)},e.prototype.setElementHighlight=function(t,i){i(t)?(t.hasState(aw)&&t.setState(aw,!1),t.setState(Vg,!0)):t.hasState(Vg)||t.setState(aw,!0)},e.prototype.setHighlightBy=function(t,i,n){var a=this;if(n)(0,_j.each)(t,function(l){a.setElementHighlight(l,i)});else{var o=ZP(this.context.view,Vg),s=!0;(0,_j.each)(o,function(l){if(!i(l))return s=!1,!1}),s?this.clear():(0,_j.each)(t,function(l){i(l)&&(l.hasState(Vg)&&l.setState(Vg,!1),l.setState(aw,!0))})}},e.prototype.setElementState=function(t,i){var n=this.context.view,a=Ka(n);this.setHighlightBy(a,function(o){return t===o},i)},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.context.view;iT(t)},e}(J2),nT=TAe;var IAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setStateByElement=function(t,i){var n=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=n.getScaleByField(a.getFields()[0]),s=Gl(t,o.field),l=Ka(n),u=l.filter(function(f){return Gl(f,o.field)===s});this.setHighlightBy(l,function(f){return u.includes(f)},i)}},e}(nT),KOt=IAe;var LAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setElementHighlight=function(t,i){i(t)?(t.hasState(aw)&&t.setState(aw,!1),t.setState(Vg,!0)):(t.setState(aw,!0),t.hasState(Vg)&&t.setState(Vg,!1))},e.prototype.setStateByElement=function(t,i){var n=this.context.view,a=n.getXScale(),o=Gl(t,a.field),s=Ka(n),l=s.filter(function(u){return Gl(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},i)},e.prototype.toggle=function(){var t=ih(this.context);if(t){var i=t.hasState(this.stateName);this.setStateByElement(t,!i)}},e}(nT),QOt=LAe;var yd;(function(r){r.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",r.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",r.BEFORE_CLEAR="element-range-highlight:beforeclear",r.AFTER_CLEAR="element-range-highlight:afterclear"})(yd||(yd={}));var OAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.clearViewState=function(t){iT(t)},e.prototype.highlight=function(){var t=this.context,i=t.view,n=t.event,a=this.getIntersectElements(),o={view:i,event:n,highlightElements:a};i.emit(yd.BEFORE_HIGHLIGHT,wn.fromData(i,yd.BEFORE_HIGHLIGHT,o)),this.setState(),i.emit(yd.AFTER_HIGHLIGHT,wn.fromData(i,yd.AFTER_HIGHLIGHT,o))},e.prototype.clear=function(){var t=this.context.view;t.emit(yd.BEFORE_CLEAR,wn.fromData(t,yd.BEFORE_CLEAR,{})),r.prototype.clear.call(this),t.emit(yd.AFTER_CLEAR,wn.fromData(t,yd.AFTER_CLEAR,{}))},e.prototype.setElementsState=function(t,i,n){wj(n,function(a){return t.indexOf(a)>=0},i)},e}(eT),A$=OAe;var kAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.highlight=function(){this.setState()},e.prototype.setElementState=function(t,i){var n=this.context.view,a=Ka(n);wj(a,function(o){return t===o},i)},e.prototype.clear=function(){var t=this.context.view;iT(t)},e}(rT),$Ot=kAe;var PAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(eT),JOt=PAe;var DAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(J2),tkt=DAe;var FAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(rT),ekt=FAe;var TD=et(ot());var NAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return e.prototype.getTriggerListInfo=function(){var t=nh(this.context),i=null;return I0(t)&&(i={item:t.item,list:t.component}),i},e.prototype.getAllowComponents=function(){var t=this,i=this.context.view,n=uz(i),a=[];return(0,TD.each)(n,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},e.prototype.hasState=function(t,i){return t.hasState(i,this.stateName)},e.prototype.clearAllComponentsState=function(){var t=this,i=this.getAllowComponents();(0,TD.each)(i,function(n){n.clearItemsState(t.stateName)})},e.prototype.allowSetStateByElement=function(t){var i=t.get("field");if(!i)return!1;if(this.cfg&&this.cfg.componentNames){var n=t.get("name");if(this.cfg.componentNames.indexOf(n)===-1)return!1}var a=this.context.view,o=Pg(a,i);return o&&o.isCategory},e.prototype.allowSetStateByItem=function(t,i){var n=this.ignoreItemStates;if(n.length){var a=n.filter(function(o){return i.hasState(t,o)});return a.length===0}return!0},e.prototype.setStateByElement=function(t,i,n){var a=t.get("field"),o=this.context.view,s=Pg(o,a),l=Gl(i,a),u=s.getText(l);this.setItemsState(t,u,n)},e.prototype.setStateEnable=function(t){var i=this,n=ih(this.context);if(n){var a=this.getAllowComponents();(0,TD.each)(a,function(u){i.setStateByElement(u,n,t)})}else{var o=nh(this.context);if(I0(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},e.prototype.setItemsState=function(t,i,n){var a=this,o=t.getItems();(0,TD.each)(o,function(s){s.name===i&&a.setItemState(t,s,n)})},e.prototype.setItemState=function(t,i,n){t.setItemState(i,this.stateName,n)},e.prototype.setState=function(){this.setStateEnable(!0)},e.prototype.reset=function(){this.setStateEnable(!1)},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var i=t.list,n=t.item,a=this.hasState(i,n);this.setItemState(i,n,!a)}},e.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},e}(Qr),oc=NAe;var BAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="active",t}return e.prototype.active=function(){this.setState()},e}(oc),rkt=BAe;var ID=et(ot());var ikt=et(ot()),nkt="inactive",akt="active";function okt(r){var e=r.getItems();(0,ikt.each)(e,function(t){r.hasState(t,akt)&&r.setItemState(t,akt,!1),r.hasState(t,nkt)&&r.setItemState(t,nkt,!1)})}var LD="inactive",OC="active",RAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=OC,t.ignoreItemStates=["unchecked"],t}return e.prototype.setItemsState=function(t,i,n){this.setHighlightBy(t,function(a){return a.name===i},n)},e.prototype.setItemState=function(t,i,n){var a=t.getItems();this.setHighlightBy(t,function(o){return o===i},n)},e.prototype.setHighlightBy=function(t,i,n){var a=t.getItems();if(n)(0,ID.each)(a,function(l){i(l)?(t.hasState(l,LD)&&t.setItemState(l,LD,!1),t.setItemState(l,OC,!0)):t.hasState(l,OC)||t.setItemState(l,LD,!0)});else{var o=t.getItemsByState(OC),s=!0;(0,ID.each)(o,function(l){if(!i(l))return s=!1,!1}),s?this.clear():(0,ID.each)(a,function(l){i(l)&&(t.hasState(l,OC)&&t.setItemState(l,OC,!1),t.setItemState(l,LD,!0))})}},e.prototype.highlight=function(){this.setState()},e.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)okt(t.list);else{var i=this.getAllowComponents();(0,ID.each)(i,function(n){n.clearItemsState(OC),n.clearItemsState(LD)})}},e}(oc),Sj=RAe;var GAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="selected",t}return e.prototype.selected=function(){this.setState()},e}(oc),skt=GAe;var zAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName="unchecked",t}return e.prototype.unchecked=function(){this.setState()},e}(oc),lkt=zAe;var OD=et(ot());var aT="unchecked",Cj="checked",jAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.stateName=Cj,t}return e.prototype.setItemState=function(t,i,n){this.setCheckedBy(t,function(a){return a===i},n)},e.prototype.setCheckedBy=function(t,i,n){var a=t.getItems();n&&(0,OD.each)(a,function(o){i(o)?(t.hasState(o,aT)&&t.setItemState(o,aT,!1),t.setItemState(o,Cj,!0)):t.hasState(o,Cj)||t.setItemState(o,aT,!0)})},e.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var i=t.list,n=t.item,a=!(0,OD.some)(i.getItems(),function(o){return i.hasState(o,aT)});a||i.hasState(n,aT)?this.setItemState(i,n,!0):this.reset()}},e.prototype.checked=function(){this.setState()},e.prototype.reset=function(){var t=this.getAllowComponents();(0,OD.each)(t,function(i){i.clearItemsState(Cj),i.clearItemsState(aT)})},e}(oc),ukt=jAe;var oT="unchecked",YAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.toggle=function(){var t,i,n,a,o,s,l,u,f=this.getTriggerListInfo();if(f==null?void 0:f.item){var c=f.list,h=f.item,d=c.getItems(),v=d.filter(function(E){return!c.hasState(E,oT)}),p=d.filter(function(E){return c.hasState(E,oT)}),g=v[0];if(d.length===v.length)try{for(var m=er(d),y=m.next();!y.done;y=m.next()){var x=y.value;c.setItemState(x,oT,x.id!==h.id)}}catch(E){t={error:E}}finally{try{y&&!y.done&&(i=m.return)&&i.call(m)}finally{if(t)throw t.error}}else if(d.length-p.length==1)if(g.id===h.id)try{for(var b=er(d),_=b.next();!_.done;_=b.next()){var x=_.value;c.setItemState(x,oT,!1)}}catch(E){n={error:E}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(n)throw n.error}}else try{for(var M=er(d),A=M.next();!A.done;A=M.next()){var x=A.value;c.setItemState(x,oT,x.id!==h.id)}}catch(E){o={error:E}}finally{try{A&&!A.done&&(s=M.return)&&s.call(M)}finally{if(o)throw o.error}}else try{for(var I=er(d),k=I.next();!k.done;k=I.next()){var x=k.value;c.setItemState(x,oT,x.id!==h.id)}}catch(E){l={error:E}}finally{try{k&&!k.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}}},e}(oc),fkt=YAe;var ckt=et(ot());var hkt="showRadio",E$="legend-radio-tip",WAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.timeStamp=0,t}return e.prototype.show=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var i=t.list,n=t.item;i.setItemState(n,hkt,!0)}},e.prototype.hide=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var i=t.list,n=t.item;i.setItemState(n,hkt,!1)}},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.showTip=function(){var t=this.context,i=t.event,n=this.timeStamp,a=+new Date,o=this.context.event.target;if(a-n>16&&o.get("name")==="legend-item-radio"){var s=this.location,l={x:i.x,y:i.y};this.timeStamp=a,this.location=l,(!s||!(0,ckt.isEqual)(s,l))&&this.showTooltip(l)}},e.prototype.hideTip=function(){this.hideTooltip(),this.location=null},e.prototype.showTooltip=function(t){var i=this.context,n=i.event,a=n.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=i.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,l=o.y;this.tooltip.update(S(S({title:a.get("tip")},t),{x:t.x+s,y:t.y+l})),this.tooltip.show()}},e.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,i=(t={},t[es.CONTAINER_CLASS]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[es.TITLE_CLASS]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(E$)&&document.body.removeChild(document.getElementById(E$));var n=new Yb({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:i,containerId:E$});n.init(),n.setCapture(!1),this.tooltip=n},e}(oc),dkt=WAe;var vkt=et(ot());var Mj=et(ot());var VAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var i="mask:".concat(t),n=this.context.view,a=this.context.event;n.emit(i,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},e.prototype.createMask=function(){var t=this.context.view,i=this.getMaskAttrs(),n=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:S({fill:"#C5D4EB",opacity:.3},i)});return n},e.prototype.getMaskPath=function(){return[]},e.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},e.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},e.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),i=this.preMovePoint,n=t.x-i.x,a=t.y-i.y,o=this.points;(0,Mj.each)(o,function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},e.prototype.updateMask=function(t){var i=(0,Mj.deepMix)({},this.getMaskAttrs(),t);this.maskShape.attr(i)},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},e.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},e.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},e.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,r.prototype.destroy.call(this)},e}(Qr),sT=VAe;function T$(r){var e=(0,vkt.last)(r),t=0,i=0,n=0;if(r.length){var a=r[0];t=C2(a,e)/2,i=(e.x+a.x)/2,n=(e.y+a.y)/2}return{x:i,y:n,r:t}}var qAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t}return e.prototype.getMaskAttrs=function(){return T$(this.points)},e}(sT),pkt=qAe;var kC=et(ot());var Aj=et(ot());function I$(r){return{start:(0,Aj.head)(r),end:(0,Aj.last)(r)}}function L$(r,e){var t=Math.min(r.x,e.x),i=Math.min(r.y,e.y),n=Math.abs(e.x-r.x),a=Math.abs(e.y-r.y);return{x:t,y:i,width:n,height:a}}var HAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(){return I$(this.points)},e.prototype.getMaskAttrs=function(){var t=this.getRegion(),i=t.start,n=t.end;return L$(i,n)},e}(sT),Ej=HAe;function gkt(r){r.x=(0,kC.clamp)(r.x,0,1),r.y=(0,kC.clamp)(r.y,0,1)}function O$(r,e,t,i){var n=null,a=null,o=i.invert((0,kC.head)(r)),s=i.invert((0,kC.last)(r));return t&&(gkt(o),gkt(s)),e==="x"?(n=i.convert({x:o.x,y:0}),a=i.convert({x:s.x,y:1})):(n=i.convert({x:0,y:o.y}),a=i.convert({x:1,y:s.y})),{start:n,end:a}}var UAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return O$(this.points,this.dim,this.inPlot,t)},e}(Ej),k$=UAe;var mkt=et(ot());function Tj(r){var e=[];return r.length&&((0,mkt.each)(r,function(t,i){i===0?e.push(["M",t.x,t.y]):e.push(["L",t.x,t.y])}),e.push(["L",r[0].x,r[0].y])),e}function P$(r){return{path:Tj(r)}}var XAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return Tj(this.points)},e.prototype.getMaskAttrs=function(){return P$(this.points)},e.prototype.addPoint=function(){this.resize()},e}(sT),Ij=XAe;function Lj(r){return fTt(r,!0)}function D$(r){return{path:Lj(r)}}var ZAe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getMaskPath=function(){return Lj(this.points)},e.prototype.getMaskAttrs=function(){return D$(this.points)},e}(Ij),ykt=ZAe;var xkt=et(ot());var KAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return e.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},e.prototype.emitEvent=function(t){var i="".concat(this.maskType,":").concat(t),n=this.context.view,a=this.context.event,o={type:this.shapeType,name:this.maskType,get:function(s){return o.hasOwnProperty(s)?o[s]:void 0}};n.emit(i,{target:o,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:a.x,y:a.y})},e.prototype.createMask=function(t){var i=this.context.view,n=this.recordPoints[t],a=this.getMaskAttrs(n),o=i.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:S({fill:"#C5D4EB",opacity:.3},a)});this.maskShapes.push(o)},e.prototype.getMaskPath=function(t){return[]},e.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},e.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var i=this.recordPoints.length-1;this.createMask(i),this.updateShapesCapture(!1),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},e.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},e.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var t=this.getCurrentPoint(),i=this.preMovePoint,n=t.x-i.x,a=t.y-i.y,o=this.getCurMaskShapeIndex();o>-1&&(this.recordPoints[o].forEach(function(s){s.x+=n,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},e.prototype.updateMask=function(t){var i=this;this.recordPoints.forEach(function(n,a){var o=(0,xkt.deepMix)({},i.getMaskAttrs(n),t);i.maskShapes[a].attr(o)})},e.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},e.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},e.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},e.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},e.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},e.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},e.prototype.clear=function(){var t=this.getCurMaskShapeIndex();t===-1?(this.recordPointClear(),this.maskShapes.forEach(function(i){return i.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},e.prototype.destroy=function(){this.clear(),r.prototype.destroy.call(this)},e.prototype.getRecordPoints=function(){var t;return ne([],Rt((t=this.recordPoints)!==null&&t!==void 0?t:[]),!1)},e.prototype.recordPointStart=function(){var t=this.getRecordPoints(),i=this.getCurrentPoint();this.recordPoints=ne(ne([],Rt(t),!1),[[i]],!1)},e.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),i=this.getCurrentPoint(),n=t.splice(-1,1)[0]||[];n.push(i),this.recordPoints=ne(ne([],Rt(t),!1),[n],!1)},e.prototype.recordPointClear=function(){this.recordPoints=[]},e.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(i){return i.set("capture",t)})},e.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(i){var n=i.attrs,a=n.width,o=n.height,s=n.r,l=a===0||o===0||s===0;return!l&&i.isHit(t.x,t.y)})},e}(Qr),lT=KAe;var QAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="rect",t}return e.prototype.getRegion=function(t){return I$(t)},e.prototype.getMaskAttrs=function(t){var i=this.getRegion(t),n=i.start,a=i.end;return L$(n,a)},e}(lT),Oj=QAe;var $Ae=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return e.prototype.getRegion=function(t){var i=this.context.view.getCoordinate();return O$(t,this.dim,this.inPlot,i)},e}(Oj),F$=$Ae;var JAe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=T$,t}return e}(lT),bkt=JAe;var tEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=Tj,t.getMaskAttrs=P$,t}return e.prototype.addPoint=function(){this.resize()},e}(lT),kj=tEe;var eEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.getMaskPath=Lj,t.getMaskAttrs=D$,t}return e}(kj),wkt=eEe;var rEe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.setCursor=function(t){var i=this.context.view;i.getCanvas().setCursor(t)},e.prototype.default=function(){this.setCursor("default")},e.prototype.pointer=function(){this.setCursor("pointer")},e.prototype.move=function(){this.setCursor("move")},e.prototype.crosshair=function(){this.setCursor("crosshair")},e.prototype.wait=function(){this.setCursor("wait")},e.prototype.help=function(){this.setCursor("help")},e.prototype.text=function(){this.setCursor("text")},e.prototype.eResize=function(){this.setCursor("e-resize")},e.prototype.wResize=function(){this.setCursor("w-resize")},e.prototype.nResize=function(){this.setCursor("n-resize")},e.prototype.sResize=function(){this.setCursor("s-resize")},e.prototype.neResize=function(){this.setCursor("ne-resize")},e.prototype.nwResize=function(){this.setCursor("nw-resize")},e.prototype.seResize=function(){this.setCursor("se-resize")},e.prototype.swResize=function(){this.setCursor("sw-resize")},e.prototype.nsResize=function(){this.setCursor("ns-resize")},e.prototype.ewResize=function(){this.setCursor("ew-resize")},e.prototype.zoomIn=function(){this.setCursor("zoom-in")},e.prototype.zoomOut=function(){this.setCursor("zoom-out")},e}(Qr),_kt=rEe;var Skt=et(ot());var iEe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,i,n){var a=this;t.getScaleByField(i)&&t.filter(i,n),t.views&&t.views.length&&(0,Skt.each)(t.views,function(o){a.filterView(o,i,n)})},e.prototype.filter=function(){var t=nh(this.context);if(t){var i=this.context.view,n=t.component,a=n.get("field");if(I0(t)){if(a){var o=n.getItemsByState("unchecked"),s=Pg(i,a),l=o.map(function(d){return d.name});l.length?this.filterView(i,a,function(d){var v=s.getText(d);return!l.includes(v)}):this.filterView(i,a,null),i.render(!0)}}else if(sz(t)){var u=n.getValue(),f=Rt(u,2),c=f[0],h=f[1];this.filterView(i,a,function(d){return d>=c&&d<=h}),i.render(!0)}}},e}(Qr),Ckt=iEe;function Mkt(r,e,t,i){var n=Math.min(t[e],i[e]),a=Math.max(t[e],i[e]),o=Rt(r.range,2),s=o[0],l=o[1];if(n<s&&(n=s),a>l&&(a=l),n===l&&a===l)return null;var u=r.invert(n),f=r.invert(a);if(r.isCategory){var c=r.values.indexOf(u),h=r.values.indexOf(f),d=r.values.slice(c,h+1);return function(v){return d.includes(v)}}else return function(v){return v>=u&&v<=f}}var jl;(function(r){r.FILTER="brush-filter-processing",r.RESET="brush-filter-reset",r.BEFORE_FILTER="brush-filter:beforefilter",r.AFTER_FILTER="brush-filter:afterfilter",r.BEFORE_RESET="brush-filter:beforereset",r.AFTER_RESET="brush-filter:afterreset"})(jl||(jl={}));var nEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},e.prototype.filter=function(){var t,i;if(L0(this.context)){var n=this.context.event.target,a=n.getCanvasBBox();t={x:a.x,y:a.y},i={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,i=this.context.getCurrentPoint()}if(!(Math.abs(t.x-i.x)<5||Math.abs(t.x-i.y)<5)){var o=this.context,s=o.view,l=o.event,u={view:s,event:l,dims:this.dims};s.emit(jl.BEFORE_FILTER,wn.fromData(s,jl.BEFORE_FILTER,u));var f=s.getCoordinate(),c=f.invert(i),h=f.invert(t);if(this.hasDim("x")){var d=s.getXScale(),v=Mkt(d,"x",c,h);this.filterView(s,d.field,v)}if(this.hasDim("y")){var p=s.getYScales()[0],v=Mkt(p,"y",c,h);this.filterView(s,p.field,v)}this.reRender(s,{source:jl.FILTER}),s.emit(jl.AFTER_FILTER,wn.fromData(s,jl.AFTER_FILTER,u))}},e.prototype.end=function(){this.isStarted=!1},e.prototype.reset=function(){var t=this.context.view;if(t.emit(jl.BEFORE_RESET,wn.fromData(t,jl.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var i=t.getXScale();this.filterView(t,i.field,null)}if(this.hasDim("y")){var n=t.getYScales()[0];this.filterView(t,n.field,null)}this.reRender(t,{source:jl.RESET}),t.emit(jl.AFTER_RESET,wn.fromData(t,jl.AFTER_RESET,{}))},e.prototype.filterView=function(t,i,n){t.filter(i,n)},e.prototype.reRender=function(t,i){t.render(!0,i)},e}(Qr),uT=nEe;var N$=et(ot());var aEe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filterView=function(t,i,n){var a=ic(t);(0,N$.each)(a,function(o){o.filter(i,n)})},e.prototype.reRender=function(t){var i=ic(t);(0,N$.each)(i,function(n){n.render(!0)})},e}(uT),Pj=aEe;var kD=et(ot());var oEe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.filter=function(){var t=nh(this.context),i=this.context.view,n=Ka(i);if(L0(this.context)){var a=S2(this.context,10);a&&(0,kD.each)(n,function(p){a.includes(p)?p.show():p.hide()})}else if(t){var o=t.component,s=o.get("field");if(I0(t)){if(s){var l=o.getItemsByState("unchecked"),u=Pg(i,s),f=l.map(function(p){return p.name});(0,kD.each)(n,function(p){var g=Gl(p,s),m=u.getText(g);f.indexOf(m)>=0?p.hide():p.show()})}}else if(sz(t)){var c=o.getValue(),h=Rt(c,2),d=h[0],v=h[1];(0,kD.each)(n,function(p){var g=Gl(p,s);g>=d&&g<=v?p.show():p.hide()})}}},e.prototype.clear=function(){var t=Ka(this.context.view);(0,kD.each)(t,function(i){i.show()})},e.prototype.reset=function(){this.clear()},e}(Qr),Akt=oEe;var PC=et(ot());var sEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.byRecord=!1,t}return e.prototype.filter=function(){L0(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},e.prototype.filterByRecord=function(){var t=this.context.view,i=S2(this.context,10);if(!!i){var n=t.getXScale().field,a=t.getYScales()[0].field,o=i.map(function(l){return l.getModel().data}),s=ic(t);(0,PC.each)(s,function(l){var u=Ka(l);(0,PC.each)(u,function(f){var c=f.getModel().data;cz(o,c,n,a)?f.show():f.hide()})})}},e.prototype.filterByBBox=function(){var t=this,i=this.context.view,n=ic(i);(0,PC.each)(n,function(a){var o=lz(t.context,a,10),s=Ka(a);o&&(0,PC.each)(s,function(l){o.includes(l)?l.show():l.hide()})})},e.prototype.reset=function(){var t=ic(this.context.view);(0,PC.each)(t,function(i){var n=Ka(i);(0,PC.each)(n,function(a){a.show()})})},e}(Qr),B$=sEe;var Ekt=et(ot());var lEe=10,uEe=5,fEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return e.prototype.getButtonCfg=function(){return(0,Ekt.deepMix)(this.buttonCfg,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),i=this.context.view.foregroundGroup.addGroup({name:t.name}),n=i.addShape({type:"text",name:"button-text",attrs:S({text:t.text},t.textStyle)}),a=n.getBBox(),o=A2(t.padding),s=i.addShape({type:"rect",name:"button-rect",attrs:S({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),i.on("mouseenter",function(){s.attr(t.activeStyle)}),i.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=i},e.prototype.resetPosition=function(){var t=this.context.view,i=t.getCoordinate(),n=i.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Wr.transform(null,[["t",n.x-o.width-lEe,n.y+o.height+uEe]]);a.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),r.prototype.destroy.call(this)},e}(Qr),Tkt=fEe;var cEe=4,hEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},e.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),i=this.context.view,n=this.context.event;this.dragStart?i.emit("drag",{target:n.target,x:n.x,y:n.y}):C2(t,this.startPoint)>cEe&&(i.emit("dragstart",{target:n.target,x:n.x,y:n.y}),this.dragStart=!0)}},e.prototype.end=function(){if(this.dragStart){var t=this.context.view,i=this.context.event;t.emit("dragend",{target:i.target,x:i.x,y:i.y})}this.starting=!1,this.dragStart=!1},e}(Qr),Ikt=hEe;var dEe=5,vEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return e.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},e.prototype.move=function(){if(!!this.starting){var t=this.startPoint,i=this.context.getCurrentPoint(),n=C2(t,i);if(n>dEe&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Wr.transform(this.startMatrix,[["t",i.x-t.x,i.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},e.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},e.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},e}(Qr),Lkt=vEe;var R$=et(ot());var Okt="x",kkt="y",pEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.dims=[Okt,kkt],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return e.prototype.hasDim=function(t){return this.dims.includes(t)},e.prototype.getScale=function(t){var i=this.context.view;return t==="x"?i.getXScale():i.getYScales()[0]},e.prototype.resetDim=function(t){var i=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var n=this.getScale(t);i.scale(n.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},e.prototype.reset=function(){this.resetDim(Okt),this.resetDim(kkt);var t=this.context.view;t.render(!0)},e}(Qr),Dj=pEe;var gEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return e.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var i=this.dims;(0,R$.each)(i,function(n){var a=t.getScale(n),o=a.min,s=a.max,l=a.values;t.startCache[n]={min:o,max:s,values:l}})},e.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},e.prototype.translate=function(){var t=this;if(!!this.starting){var i=this.startPoint,n=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=n.invert(i),s=n.invert(a),l=s.x-o.x,u=s.y-o.y,f=this.context.view,c=this.dims;(0,R$.each)(c,function(h){t.translateDim(h,{x:l*-1,y:u*-1})}),f.render(!0)}},e.prototype.translateDim=function(t,i){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.translateLinear(t,n,i)}},e.prototype.translateLinear=function(t,i,n){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,f=n[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:i.nice,min:s,max:l}),a.scale(i.field,{nice:!1,min:s+f,max:l+f})},e.prototype.reset=function(){r.prototype.reset.call(this),this.startPoint=null,this.starting=!1},e}(Dj),Pkt=gEe;var Dkt=et(ot());var mEe=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.zoomRatio=.05,t}return e.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},e.prototype.zoom=function(t){var i=this,n=this.dims;(0,Dkt.each)(n,function(a){i.zoomDim(a,t)}),this.context.view.render(!0)},e.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},e.prototype.zoomDim=function(t,i){if(this.hasDim(t)){var n=this.getScale(t);n.isLinear&&this.zoomLinear(t,n,i)}},e.prototype.zoomLinear=function(t,i,n){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:i.nice,min:i.min,max:i.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=i.min,u=i.max,f=n*s,c=l-f,h=u+f,d=h-c,v=d/s;h>c&&v<100&&v>.01&&a.scale(i.field,{nice:!1,min:l-f,max:u+f})},e}(Dj),Fkt=mEe;var DC=et(ot());function yEe(r){var e=r.gEvent.originalEvent;return e.deltaY>0}var xEe=1,bEe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.scroll=function(t){var i=this.context,n=i.view,a=i.event;if(!!n.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||xEe,s=n.getController("scrollbar"),l=n.getXScale(),u=n.getOptions().data,f=(0,DC.size)((0,DC.valuesOfKey)(u,l.field)),c=(0,DC.size)(l.values),h=s.getValue(),d=Math.floor((f-c)*h),v=d+(yEe(a)?o:-o),p=o/(f-c)/1e4,g=(0,DC.clamp)(v/(f-c)+p,0,1);s.setValue(g)}},e}(Qr),Nkt=bEe;var Bkt=et(ot());var wEe="aixs-description-tooltip",_Ee=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.show=function(){var t=this.context,i=nh(t).axis,n=i.cfg.title,a=n.description,o=n.text,s=n.descriptionTooltipStyle,l=t.event,u=l.x,f=l.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(es.CONTAINER_CLASS,'" style={').concat(s,`}>
            <div class="`).concat(es.TITLE_CLASS,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(a,`
            </div>
          </div>
        `)},x:u,y:f}),this.tooltip.show()},e.prototype.destroy=function(){r.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},e.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},e.prototype.renderTooltip=function(){var t,i=this.context.view,n=i.canvas,a={start:{x:0,y:0},end:{x:n.get("width"),y:n.get("height")}},o=new Yb({parent:n.get("el").parentNode,region:a,visible:!1,containerId:wEe,domStyles:S({},(0,Bkt.deepMix)({},(t={},t[es.CONTAINER_CLASS]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[es.TITLE_CLASS]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},e}(Qr),Rkt=_Ee;vz("dark",dz(XTt));rP("canvas",l$);rP("svg",h$);nc("Polygon",cLt);nc("Interval",oLt);nc("Schema",hLt);nc("Path",W2);nc("Point",fLt);nc("Line",sLt);nc("Area",tLt);nc("Edge",eLt);nc("Heatmap",rLt);nc("Violin",vLt);D0("base",Bg);D0("interval",CLt);D0("pie",MLt);D0("polar",nj);zl("overlap",RLt);zl("distribute",ELt);zl("fixed-overlap",BLt);zl("hide-overlap",XLt);zl("limit-in-shape",FLt);zl("limit-in-canvas",PLt);zl("limit-in-plot",lOt);zl("pie-outer",ILt);zl("adjust-color",QLt);zl("interval-adjust-position",$Lt);zl("interval-hide-overlap",JLt);zl("point-adjust-position",rOt);zl("pie-spider",OLt);zl("path-adjust-position",aOt);bu("fade-in",uOt);bu("fade-out",fOt);bu("grow-in-x",cOt);bu("grow-in-xy",dOt);bu("grow-in-y",hOt);bu("scale-in-x",gOt);bu("scale-in-y",mOt);bu("wave-in",SOt);bu("zoom-in",COt);bu("zoom-out",MOt);bu("position-update",pOt);bu("sector-path-update",wOt);bu("path-in",vOt);E0("rect",LOt);E0("mirror",IOt);E0("list",EOt);E0("matrix",TOt);E0("circle",AOt);E0("tree",OOt);dd("axis",FOt);dd("legend",BOt);dd("tooltip",L2);dd("annotation",POt);dd("slider",ROt);dd("scrollbar",zOt);br("tooltip",bj);br("sibling-tooltip",YOt);br("ellipsis-text",WOt);br("element-active",HOt);br("element-single-active",ZOt);br("element-range-active",XOt);br("element-highlight",nT);br("element-highlight-by-x",QOt);br("element-highlight-by-color",KOt);br("element-single-highlight",$Ot);br("element-range-highlight",A$);br("element-sibling-highlight",A$,{effectSiblings:!0,effectByRecord:!0});br("element-selected",tkt);br("element-single-selected",ekt);br("element-range-selected",JOt);br("element-link-by-color",UOt);br("active-region",jOt);br("list-active",rkt);br("list-selected",skt);br("list-highlight",Sj);br("list-unchecked",lkt);br("list-checked",ukt);br("list-focus",fkt);br("list-radio",dkt);br("legend-item-highlight",Sj,{componentNames:["legend"]});br("axis-label-highlight",Sj,{componentNames:["axis"]});br("axis-description",Rkt);br("rect-mask",Ej);br("x-rect-mask",k$,{dim:"x"});br("y-rect-mask",k$,{dim:"y"});br("circle-mask",pkt);br("path-mask",Ij);br("smooth-path-mask",ykt);br("rect-multi-mask",Oj);br("x-rect-multi-mask",F$,{dim:"x"});br("y-rect-multi-mask",F$,{dim:"y"});br("circle-multi-mask",bkt);br("path-multi-mask",kj);br("smooth-path-multi-mask",wkt);br("cursor",_kt);br("data-filter",Ckt);br("brush",uT);br("brush-x",uT,{dims:["x"]});br("brush-y",uT,{dims:["y"]});br("sibling-filter",Pj);br("sibling-x-filter",Pj,{dims:"x"});br("sibling-y-filter",Pj,{dims:"y"});br("element-filter",Akt);br("element-sibling-filter",B$);br("element-sibling-filter-record",B$,{byRecord:!0});br("view-drag",Ikt);br("view-move",Lkt);br("scale-translate",Pkt);br("scale-zoom",Fkt);br("reset-button",Tkt,{name:"reset-button",text:"reset"});br("mousewheel-scroll",Nkt);function H0(r){return r.isInPlot()}Vr("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]});Vr("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]});Vr("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]});Vr("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]});Vr("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]});Vr("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]});Vr("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]});Vr("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]});Vr("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]});Vr("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]});Vr("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]});Vr("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(r){return!r.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(r){return!r.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]});Vr("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:H0,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:H0,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:H0,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]});Vr("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]});Vr("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:H0,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:H0,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:H0,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]});Vr("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:H0,action:"path-mask:start"},{trigger:"mousedown",isEnable:H0,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]});Vr("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:H0,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(r){return!XP(r)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]});Vr("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]});Vr("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(r){return!r.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]});Vr("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]});Vr("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]});Vr("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]});Vr("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});Vr("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function Gkt(r){return r.gEvent.preventDefault(),r.gEvent.originalEvent.deltaY>0}Vr("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(r){return Gkt(r.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(r){return!Gkt(r.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]});Vr("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]});Vr("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var Hg=et(ot());var ns=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];var ow=et(ot());var gl;(function(r){r.ERROR="error",r.WARN="warn",r.INFO="log"})(gl||(gl={}));var SEe="AntV/G2Plot";function CEe(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=0;return"".concat(SEe,": ").concat(r.replace(/%s/g,function(){return"".concat(e[i++])}))}function _u(r,e,t){for(var i=[],n=3;n<arguments.length;n++)i[n-3]=arguments[n];e||console[r](CEe.apply(void 0,ne([t],i,!1)))}function wi(r,e){var t={};return r!==null&&typeof r=="object"&&e.forEach(function(i){var n=r[i];n!==void 0&&(t[i]=n)}),t}function fT(r,e){if(!r)return{};var t=r.filter(function(a){var o=(0,ow.get)(a,[e]);return(0,ow.isNumber)(o)&&!isNaN(o)}),i=t.every(function(a){return(0,ow.get)(a,[e])>=0}),n=t.every(function(a){return(0,ow.get)(a,[e])<=0});return i?{min:0}:n?{max:0}:{}}function Fj(r,e,t,i,n){if(n===void 0&&(n=[]),!Array.isArray(r))return{nodes:[],links:[]};var a=[],o={},s=-1;return r.forEach(function(l){var u=l[e],f=l[t],c=l[i],h=wi(l,n);o[u]||(o[u]=S({id:++s,name:u},h)),o[f]||(o[f]=S({id:++s,name:f},h)),a.push(S({source:o[u].id,target:o[f].id,value:c},h))}),{nodes:Object.values(o).sort(function(l,u){return l.id-u.id}),links:a}}function qg(r,e){var t=(0,ow.filter)(r,function(i){var n=i[e];return n===null||typeof n=="number"&&!isNaN(n)});return _u(gl.WARN,t.length===r.length,"illegal data existed in chart data."),t}var MEe=5,AEe={}.toString,zkt=function(r,e){return AEe.call(r)==="[object "+e+"]"},EEe=function(r){return zkt(r,"Array")},TEe=function(r){return typeof r=="object"&&r!==null},jkt=function(r){if(!TEe(r)||!zkt(r,"Object"))return!1;for(var e=r;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e},Ykt=function(r,e,t,i){t=t||0,i=i||MEe;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=e[n];a?jkt(a)?(jkt(r[n])||(r[n]={}),t<i?Ykt(r[n],a,t+1,i):r[n]=e[n]):EEe(a)?(r[n]=[],r[n]=r[n].concat(a)):r[n]=a:r[n]=a}},Tt=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var i=0;i<e.length;i+=1)Ykt(r,e[i]);return r};function cT(r){if(!r)return{width:0,height:0};var e=getComputedStyle(r);return{width:(r.clientWidth||parseInt(e.width,10))-parseInt(e.paddingLeft,10)-parseInt(e.paddingRight,10),height:(r.clientHeight||parseInt(e.height,10))-parseInt(e.paddingTop,10)-parseInt(e.paddingBottom,10)}}function or(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return function(t){return r.reduce(function(i,n){return n(i)},t)}}var FC=et(ot());function la(r,e){return r.geometries.find(function(t){return t.type===e})}function hT(r){return(0,FC.reduce)(r.geometries,function(e,t){return e.concat(t.elements)},[])}function NC(r){return(0,FC.get)(r,["views","length"],0)<=0?hT(r):(0,FC.reduce)(r.views,function(e,t){return e.concat(NC(t))},hT(r))}function Wkt(r){return(0,FC.get)(r,["views","length"],0)<=0?r.geometries:(0,FC.reduce)(r.views,function(e,t){return e.concat(t.geometries)},r.geometries)}function Nj(r){if(!r)return r;var e=r.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return e.map(function(t){return t.toLowerCase()}).join("-")}var Vkt=et(ot());function Bn(r){if(!(0,Vkt.isType)(r,"Object"))return r;var e=S({},r);return e.formatter&&!e.content&&(e.content=e.formatter),e}var dT=et(ot());var G$;function qkt(){return G$||(G$=document.createElement("canvas").getContext("2d")),G$}var DD=(0,dT.memoize)(function(r,e){e===void 0&&(e={});var t=e.fontSize,i=e.fontFamily,n=i===void 0?"sans-serif":i,a=e.fontWeight,o=e.fontStyle,s=e.fontVariant,l=qkt();l.font=[o,a,s,"".concat(t,"px"),n].join(" ");var u=l.measureText((0,dT.isString)(r)?r:"");return u.width},function(r,e){return e===void 0&&(e={}),ne([r],(0,dT.values)(e),!0).join("")});function Qv(r){return typeof r=="number"&&!isNaN(r)}function z$(r,e,t){var i=Math.min(e,t),n=Math.max(e,t);return r>=i&&r<=n}var Bj=et(ot());function $v(r){if((0,Bj.isNumber)(r))return[r,r,r,r];if((0,Bj.isArray)(r)){var e=r.length;if(e===1)return[r[0],r[0],r[0],r[0]];if(e===2)return[r[0],r[1],r[0],r[1]];if(e===3)return[r[0],r[1],r[2],r[1]];if(e===4)return r}return[0,0,0,0]}function sw(r,e,t){e===void 0&&(e="bottom"),t===void 0&&(t=25);var i=$v(r),n=[e.startsWith("top")?t:0,e.startsWith("right")?t:0,e.startsWith("bottom")?t:0,e.startsWith("left")?t:0];return[i[0]+n[0],i[1]+n[1],i[2]+n[2],i[3]+n[3]]}function vT(r){var e=r.map(function(i){return $v(i)}),t=[0,0,0,0];return e.length>0&&(t=t.map(function(i,n){return e.forEach(function(a,o){i+=e[o][n]}),i})),t}function IEe(r,e){var t=[];if(r.length){t.push(["M",r[0].x,r[0].y]);for(var i=1,n=r.length;i<n;i+=1){var a=r[i];t.push(["L",a.x,a.y])}e&&t.push(["Z"])}return t}var LEe=function(r,e,t,i){var n=[],a,o,s=!!i,l,u;if(s){l=[1/0,1/0],u=[-1/0,-1/0];for(var f=0,c=r.length;f<c;f++){var h=r[f];l=Pe.vec2.min([0,0],l,h),u=Pe.vec2.max([0,0],u,h)}l=Pe.vec2.min([0,0],l,i[0]),u=Pe.vec2.max([0,0],u,i[1])}for(var f=0,d=r.length;f<d;f++){var h=r[f];if(t)a=r[f?f-1:d-1],o=r[(f+1)%d];else if(f===0||f===d-1){n.push(h);continue}else a=r[f-1],o=r[f+1];var v=[0,0];v=Pe.vec2.sub(v,o,a),v=Pe.vec2.scale(v,v,e);var p=Pe.vec2.distance(h,a),g=Pe.vec2.distance(h,o),m=p+g;m!==0&&(p/=m,g/=m);var y=Pe.vec2.scale([0,0],v,-p),x=Pe.vec2.scale([0,0],v,g),b=Pe.vec2.add([0,0],h,y),_=Pe.vec2.add([0,0],h,x);s&&(b=Pe.vec2.max([0,0],b,l),b=Pe.vec2.min([0,0],b,u),_=Pe.vec2.max([0,0],_,l),_=Pe.vec2.min([0,0],_,u)),n.push(b),n.push(_)}return t&&n.push(n.shift()),n};function OEe(r,e,t){for(var i=!!e,n=[],a=0,o=r.length;a<o;a+=2)n.push([r[a],r[a+1]]);for(var s=LEe(n,.4,i,t),l=n.length,u=[],f,c,h,a=0;a<l-1;a++)f=s[a*2],c=s[a*2+1],h=n[a+1],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]]);return i&&(f=s[l],c=s[l+1],h=n[0],u.push(["C",f[0],f[1],c[0],c[1],h[0],h[1]])),u}function j$(r,e,t){var i=[],n=r[0],a=null;if(r.length<=2)return IEe(r,e);for(var o=0,s=r.length;o<s;o++){var l=r[o];(!a||!(a.x===l.x&&a.y===l.y))&&(i.push(l.x),i.push(l.y),a=l)}var u=t||[[0,0],[1,1]],f=OEe(i,e,u);return f.unshift(["M",n.x,n.y]),f}var sf=et(ot());function Hkt(r){var e={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,sf.get)(r,"fill")&&(e.color=r.fill);var i=wi(r,t),n=i.shadowColor,a=i.shadowBlur,o=a===void 0?0:a,s=i.shadowOffsetX,l=s===void 0?0:s,u=i.shadowOffsetY,f=u===void 0?0:u;e["text-shadow"]="".concat([n,"".concat(l,"px"),"".concat(f,"px"),"".concat(o,"px")].join(" "));var c=wi(r,t),h=c.stroke,d=c.lineWidth,v=d===void 0?0:d;return e["-webkit-text-stroke"]="".concat(["".concat(v,"px"),h].join(" ")),(0,sf.each)(r,function(p,g){["fontSize"].includes(g)&&(0,sf.isNumber)(p)?e[Nj(g)]="".concat(p,"px"):g&&!t.includes(g)&&(e[Nj(g)]="".concat(p))}),e}function Ukt(r,e){r.style["pointer-events"]="none",(0,sf.each)(e,function(t,i){i&&t&&(r.style[i]=t)})}var U0=function(r,e,t){var i=e.statistic,n=e.plotType,a=i.title,o=i.content;[a,o].forEach(function(s,l){if(!!s){var u="";l===0?u=o?"translate(-50%, -100%)":"translate(-50%, -50%)":u=a?"translate(-50%, 0)":"translate(-50%, -50%)";var f=(0,sf.isFunction)(s.style)?s.style(t):s.style;r.annotation().html(S({position:["50%","50%"],html:function(c,h){var d=h.getCoordinate(),v=0;if(n==="pie"||n==="ring-progress")v=d.getRadius()*d.innerRadius*2;else if(n==="liquid"){var p=(0,sf.get)(h.geometries,[0,"elements",0,"shape"]);if(p){var g=p.find(function(b){return b.get("name")==="wrap"}),m=g.getCanvasBBox().width;v=m}}else v||(v=d.getWidth());Ukt(c,S({width:"".concat(v,"px"),transform:u},Hkt(f)));var y=h.getData();if(s.customHtml)return s.customHtml(c,h,t,y);var x=s.content;return s.formatter&&(x=s.formatter(t,y)),x?(0,sf.isString)(x)?x:"".concat(x):"<div></div>"},key:"".concat(l===0?"top":"bottom","-statistic")},wi(s,["offsetX","offsetY","rotate","style","formatter"])))}})},Y$=function(r,e,t){var i=e.statistic,n=i.title,a=i.content;[n,a].forEach(function(o){if(!!o){var s=(0,sf.isFunction)(o.style)?o.style(t):o.style;r.annotation().html(S({position:["50%","100%"],html:function(l,u){var f=u.getCoordinate(),c=u.views[0].getCoordinate(),h=c.getCenter(),d=c.getRadius(),v=Math.max(Math.sin(c.startAngle),Math.sin(c.endAngle))*d,p=h.y+v-f.y.start-parseFloat((0,sf.get)(s,"fontSize",0)),g=f.getRadius()*f.innerRadius*2;Ukt(l,S({width:"".concat(g,"px"),transform:"translate(-50%, ".concat(p,"px)")},Hkt(s)));var m=u.getData();if(o.customHtml)return o.customHtml(l,u,t,m);var y=o.content;return o.formatter&&(y=o.formatter(t,m)),y?(0,sf.isString)(y)?y:"".concat(y):"<div></div>"}},wi(o,["offsetX","offsetY","rotate","style","formatter"])))}})};var Xkt=et(ot());function FD(r,e){return e?(0,Xkt.reduce)(e,function(t,i,n){return t.replace(new RegExp("{\\s*".concat(n,"\\s*}"),"g"),i)},r):r}var Rj=et(ot());function xi(r,e){return r.views.find(function(t){return t.id===e})}function BC(r){var e=r.parent;return e?e.views:[]}function Gj(r){return BC(r).filter(function(e){return e!==r})}function Jv(r,e,t){t===void 0&&(t=r.geometries),typeof e=="boolean"?r.animate(e):r.animate(!0),(0,Rj.each)(t,function(i){var n;(0,Rj.isFunction)(e)?n=e(i.type||i.shapeType,i)||!0:n=e,i.animate(n)})}var $kt=et(ot());function RC(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function pT(r,e){e===void 0&&(e=r);var t=document.createElement("canvas"),i=RC();t.width=r*i,t.height=e*i,t.style.width="".concat(r,"px"),t.style.height="".concat(e,"px");var n=t.getContext("2d");return n.scale(i,i),t}function gT(r,e,t,i){i===void 0&&(i=t);var n=e.backgroundColor,a=e.opacity;r.globalAlpha=a,r.fillStyle=n,r.beginPath(),r.fillRect(0,0,t,i),r.closePath()}function zj(r,e,t){var i=r+e;return t?i*2:i}function jj(r,e){var t=e?[[r*(1/4),r*(1/4)],[r*(3/4),r*(3/4)]]:[[r*(1/2),r*(1/2)]];return t}function mT(r,e){var t=e*Math.PI/180,i={a:Math.cos(t)*(1/r),b:Math.sin(t)*(1/r),c:-Math.sin(t)*(1/r),d:Math.cos(t)*(1/r),e:0,f:0};return i}var kEe={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function PEe(r,e,t,i){var n=e.size,a=e.fill,o=e.lineWidth,s=e.stroke,l=e.fillOpacity;r.beginPath(),r.globalAlpha=l,r.fillStyle=a,r.strokeStyle=s,r.lineWidth=o,r.arc(t,i,n/2,0,2*Math.PI,!1),r.fill(),o&&r.stroke(),r.closePath()}function Zkt(r){var e=Tt({},kEe,r),t=e.size,i=e.padding,n=e.isStagger,a=e.rotation,o=zj(t,i,n),s=jj(o,n),l=pT(o,o),u=l.getContext("2d");gT(u,e,o);for(var f=0,c=s;f<c.length;f++){var h=c[f],d=h[0],v=h[1];PEe(u,e,d,v)}var p=u.createPattern(l,"repeat");if(p){var g=RC(),m=mT(g,a);p.setTransform(m)}return p}var DEe={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function FEe(r,e,t){var i=e.stroke,n=e.lineWidth,a=e.strokeOpacity,o=new Path2D(t);r.globalAlpha=a,r.lineCap="square",r.strokeStyle=n?i:"transparent",r.lineWidth=n,r.stroke(o)}function Kkt(r){var e=Tt({},DEe,r),t=e.spacing,i=e.rotation,n=e.lineWidth,a=t+n||1,o=t+n||1,s=`
            M 0 0 L `.concat(a,` 0
            M 0 `).concat(o," L ").concat(a," ").concat(o,`
            `),l=pT(a,o),u=l.getContext("2d");gT(u,e,a,o),FEe(u,e,s);var f=u.createPattern(l,"repeat");if(f){var c=RC(),h=mT(c,i);f.setTransform(h)}return f}var NEe={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function BEe(r,e,t,i){var n=e.stroke,a=e.size,o=e.fill,s=e.lineWidth,l=e.fillOpacity;r.globalAlpha=l,r.strokeStyle=n,r.lineWidth=s,r.fillStyle=o,r.strokeRect(t-a/2,i-a/2,a,a),r.fillRect(t-a/2,i-a/2,a,a)}function Qkt(r){var e=Tt({},NEe,r),t=e.size,i=e.padding,n=e.isStagger,a=e.rotation,o=zj(t,i,n),s=jj(o,n),l=pT(o,o),u=l.getContext("2d");gT(u,e,o);for(var f=0,c=s;f<c.length;f++){var h=c[f],d=h[0],v=h[1];BEe(u,e,d,v)}var p=u.createPattern(l,"repeat");if(p){var g=RC(),m=mT(g,a);p.setTransform(m)}return p}function yT(r){var e=r.type,t=r.cfg,i;switch(e){case"dot":i=Zkt(t);break;case"line":i=Kkt(t);break;case"square":i=Qkt(t);break;default:break}return i}function Qa(r){var e=this;return function(t){var i,n=t.options,a=t.chart,o=n.pattern;if(!o)return t;var s=function(l){for(var u,f,c,h=[],d=1;d<arguments.length;d++)h[d-1]=arguments[d];var v=a.getTheme().defaultColor,p=v,g=(f=(u=a.geometries)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.getAttribute("color");if(g){var m=g.getFields()[0],y=(0,$kt.get)(l,m);p=uo.getMappingValue(g,y,((c=g.values)===null||c===void 0?void 0:c[0])||v)}var x=o;typeof o=="function"&&(x=o.call(e,l,p)),x instanceof CanvasPattern||(x=yT(Tt({},{cfg:{backgroundColor:p}},x)));var b=n[r];return S(S({},typeof b=="function"?b.call.apply(b,ne([e,l],h,!1)):b||{}),{fill:x||p})};return Tt({},t,{options:(i={},i[r]=s,i)})}}function sc(r){var e=r.chart,t=r.options,i=t.legend,n=t.colorField,a=t.seriesField;return i===!1?e.legend(!1):(n||a)&&e.legend(n||a,i),r}function tn(r){var e=r.chart,t=r.options,i=t.tooltip;return i!==void 0&&e.tooltip(i),r}function bi(r){var e=r.chart,t=r.options,i=t.interactions;return(0,Hg.each)(i,function(n){n.enable===!1?e.removeInteraction(n.type):e.interaction(n.type,n.cfg||{})}),r}function Hr(r){var e=r.chart,t=r.options,i=t.animation;return Jv(e,i),r}function Lr(r){var e=r.chart,t=r.options,i=t.theme;return i&&e.theme(i),r}function Su(r){var e=r.chart,t=r.options,i=t.state;return i&&(0,Hg.each)(e.geometries,function(n){n.state(i)}),r}function Ug(r){var e=r.chart,t=r.options,i=t.slider;return e.option("slider",i),r}function xT(r){var e=r.chart,t=r.options,i=t.scrollbar;return e.option("scrollbar",i),r}function Ri(r,e){return function(t){var i=t.chart,n=t.options,a={};return(0,Hg.each)(r,function(o,s){a[s]=wi(o,ns)}),a=Tt({},e,n.meta,a),i.scale(a),t}}function _i(r){return function(e){var t=e.chart,i=e.options,n=t.getController("annotation");return(0,Hg.each)(ne(ne([],i.annotations||[],!0),r||[],!0),function(a){n.annotation(a)}),e}}function xd(r){var e=r.chart,t=r.options,i=t.yAxis,n=t.limitInPlot,a=n;return(0,Hg.isObject)(i)&&(0,Hg.isNil)(n)&&(Object.values(wi(i,["min","max","minLimit","maxLimit"])).some(function(o){return!(0,Hg.isNil)(o)})?a=!0:a=!1),e.limitInPlot=a,r}function Yj(r){return r===void 0&&(r="rect"),function(e){var t=e.chart,i=e.options,n=i.coordinate,a=Array.from(n||[]).map(function(o){return o.type==="reflectX"?["reflect","x"]:o.type==="reflectY"?["reflect","y"]:o.type==="transpose"?["transpose"]:null}).filter(function(o){return!!o});return a.length!==0&&t.coordinate({type:r,actions:a}),e}}var Wj=et(ot());var REe=et(ot()),Jkt={locale:"en-US"};var Vj={};function W$(r,e){Vj[r]=e}function GC(r){return{get:function(e,t){return FD((0,Wj.get)(Vj[r],e)||(0,Wj.get)(Vj[Jkt.locale],e)||(0,Wj.get)(Vj["en-US"],e)||e,t)}}}var tPt={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}};var ePt={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}};var rPt=et(ot());var V$=et(ot());function Do(r,e){if(r===!1)return{fields:!1};var t=(0,V$.get)(r,"fields"),i=(0,V$.get)(r,"formatter");return i&&!t&&(t=e),{fields:t,formatter:i}}var Yl=et(ot());function qj(r,e){var t=r.type,i=r.xField,n=r.yField,a=r.colorField,o=r.shapeField,s=r.sizeField,l=r.styleField,u=r.rawFields,f=[];if(u=((0,Yl.isFunction)(u)?u(t,e):u)||[],e==="color")f=ne([a||i],u,!0);else if(e==="shape")f=ne([o||i],u,!0);else if(e==="size")f=ne([s||i],u,!0);else{f=ne([i,n,a,o,s,l],u,!0);var c=["x","y","color","shape","size","style"].indexOf(e),h=f[c];f.splice(c,1),f.unshift(h)}var d=(0,Yl.uniq)(f.filter(function(p){return!!p})),v=t==="line"&&[i,n].includes(d.join("*"))?"":d.join("*");return{mappingFields:d,tileMappingField:v}}function zC(r,e){if(!!e)return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var n={};return r.forEach(function(a,o){n[a]=t[o]}),delete n.undefined,e(n)}}function Ra(r){var e=r.chart,t=r.options,i=t.type,n=t.args,a=t.mapping,o=t.xField,s=t.yField,l=t.colorField,u=t.shapeField,f=t.sizeField,c=t.tooltipFields,h=t.label,d=t.state,v=t.customInfo,p=t.customMappingField;if(!a)return r;var g=a.color,m=a.shape,y=a.size,x=a.style,b=a.tooltip,_=e[i](n).position("".concat(o,"*").concat(s));if((0,Yl.isString)(g))l?_.color(l,g):_.color(g);else if((0,Yl.isFunction)(g)){var M=qj(t,"color"),A=M.mappingFields,I=M.tileMappingField;_.color(p||I,zC(A,g))}else l&&_.color(l,g);if((0,Yl.isString)(m))u?_.shape(u,[m]):_.shape(m);else if((0,Yl.isFunction)(m)){var k=qj(t,"shape"),A=k.mappingFields,I=k.tileMappingField;_.shape(I,zC(A,m))}else u&&_.shape(u,m);if((0,Yl.isNumber)(y))f?_.size(f,y):_.size(y);else if((0,Yl.isFunction)(y)){var E=qj(t,"size"),A=E.mappingFields,I=E.tileMappingField;_.size(I,zC(A,y))}else f&&_.size(f,y);if((0,Yl.isFunction)(x)){var O=qj(t,"style"),A=O.mappingFields,I=O.tileMappingField;_.style(I,zC(A,x))}else(0,Yl.isObject)(x)&&_.style(x);if(c===!1?_.tooltip(!1):(0,Yl.isEmpty)(c)||_.tooltip(c.join("*"),zC(c,b)),h===!1)_.label(!1);else if(h){var P=h.callback,N=h.fields,R=Ze(h,["callback","fields"]);_.label({fields:N||[s],callback:P,cfg:Bn(R)})}return d&&_.state(d),v&&_.customInfo(v),[o,s].filter(function(z){return z!==l}).forEach(function(z){e.legend(z,!1)}),S(S({},r),{ext:{geometry:_}})}function Xg(r){var e=r.options,t=e.area,i=e.xField,n=e.yField,a=e.seriesField,o=e.smooth,s=e.tooltip,l=e.useDeferredLabel,u=Do(s,[i,n,a]),f=u.fields,c=u.formatter;return t?Ra(Tt({},r,{options:{type:"area",colorField:a,tooltipFields:f,mapping:(0,rPt.deepMix)({shape:o?"smooth":"area",tooltip:c},t),args:{useDeferredLabel:l}}})):r}function ND(r){var e=r.options,t=e.edge,i=e.xField,n=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Do(o,[i,n,a]),u=l.fields,f=l.formatter;return t?Ra(Tt({},r,{options:{type:"edge",colorField:a,tooltipFields:u,mapping:S({tooltip:f},t),args:{useDeferredLabel:s}}})):r}var Hj=et(ot());function GEe(r){var e=r.chart,t=r.options,i=r.ext,n=t.seriesField,a=t.isGroup,o=t.isStack,s=t.marginRatio,l=t.widthRatio,u=t.groupField,f=t.theme,c=[];if(n&&(a&&c.push({type:"dodge",dodgeBy:u||n,marginRatio:s}),o&&c.push({type:"stack",marginRatio:s})),c.length&&(i==null?void 0:i.geometry)){var h=i==null?void 0:i.geometry;h.adjust(c)}return(0,Hj.isNil)(l)||e.theme(Tt({},(0,Hj.isObject)(f)?f:Dg(f),{columnWidthRatio:l})),r}function ua(r){var e=r.options,t=e.xField,i=e.yField,n=e.interval,a=e.seriesField,o=e.tooltip,s=e.minColumnWidth,l=e.maxColumnWidth,u=e.columnBackground,f=e.dodgePadding,c=e.intervalPadding,h=e.useDeferredLabel,d=Do(o,[t,i,a]),v=d.fields,p=d.formatter,g=(n?Ra(Tt({},r,{options:{type:"interval",colorField:a,tooltipFields:v,mapping:S({tooltip:p},n),args:{dodgePadding:f,intervalPadding:c,minColumnWidth:s,maxColumnWidth:l,background:u,useDeferredLabel:h}}})):r).ext;return GEe(S(S({},r),{ext:g}))}var iPt=et(ot());function lc(r){var e=r.options,t=e.line,i=e.stepType,n=e.xField,a=e.yField,o=e.seriesField,s=e.smooth,l=e.connectNulls,u=e.tooltip,f=e.useDeferredLabel,c=Do(u,[n,a,o]),h=c.fields,d=c.formatter;return t?Ra(Tt({},r,{options:{type:"line",colorField:o,tooltipFields:h,mapping:(0,iPt.deepMix)({shape:i||(s?"smooth":"line"),tooltip:d},t),args:{connectNulls:l,useDeferredLabel:f}}})):r}function Ga(r){var e=r.options,t=e.point,i=e.xField,n=e.yField,a=e.seriesField,o=e.sizeField,s=e.shapeField,l=e.tooltip,u=e.useDeferredLabel,f=Do(l,[i,n,a,o,s]),c=f.fields,h=f.formatter;return t?Ra(Tt({},r,{options:{type:"point",colorField:a,shapeField:s,tooltipFields:c,mapping:S({tooltip:h},t),args:{useDeferredLabel:u}}})):r}function Zg(r){var e=r.options,t=e.polygon,i=e.xField,n=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Do(o,[i,n,a]),u=l.fields,f=l.formatter;return t?Ra(Tt({},r,{options:{type:"polygon",colorField:a,tooltipFields:u,mapping:S({tooltip:f},t),args:{useDeferredLabel:s}}})):r}function lw(r){var e=r.options,t=e.schema,i=e.xField,n=e.yField,a=e.seriesField,o=e.tooltip,s=e.useDeferredLabel,l=Do(o,[i,n,a]),u=l.fields,f=l.formatter;return t?Ra(Tt({},r,{options:{type:"schema",colorField:a,tooltipFields:u,mapping:S({tooltip:f},t),args:{useDeferredLabel:s}}})):r}function q$(r){var e=r.options,t=e.violin,i=e.xField,n=e.yField,a=e.seriesField,o=e.sizeField,s=e.tooltip,l=Do(s,[i,n,a,o]),u=l.fields,f=l.formatter;return t?Ra(Tt({},r,{options:{type:"violin",colorField:a,tooltipFields:u,mapping:S({tooltip:f},t)}})):r}var Jj=et(ot()),cPt=et(fPt());var hPt="data-chart-source-type",K$=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Je=function(r){G(e,r);function e(t,i){var n=r.call(this)||this;return n.container=typeof t=="string"?document.getElementById(t):t,n.options=Tt({},n.getDefaultOptions(),i),n.createG2(),n.bindEvents(),n}return e.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},e.prototype.createG2=function(){var t=this.options,i=t.width,n=t.height,a=t.defaultInteractions;this.chart=new rD(S(S(S(S({container:this.container,autoFit:!1},this.getChartSize(i,n)),{localRefresh:!1}),wi(this.options,K$)),{defaultInteractions:a})),this.container.setAttribute(hPt,"G2Plot")},e.prototype.getChartSize=function(t,i){var n=cT(this.container);return{width:t||n.width||400,height:i||n.height||400}},e.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(i){(i==null?void 0:i.type)&&t.emit(i.type,i)})},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},e.prototype.update=function(t){this.updateOption(t),this.render()},e.prototype.updateOption=function(t){this.options=Tt({},this.options,t)},e.prototype.setState=function(t,i,n){n===void 0&&(n=!0);var a=NC(this.chart);(0,Jj.each)(a,function(o){i(o.getData())&&o.setState(t,n)})},e.prototype.getStates=function(){var t=NC(this.chart),i=[];return(0,Jj.each)(t,function(n){var a=n.getData(),o=n.getStates();(0,Jj.each)(o,function(s){i.push({data:a,state:s,geometry:n.geometry,element:n})})}),i},e.prototype.changeData=function(t){this.update({data:t})},e.prototype.changeSize=function(t,i){this.chart.changeSize(t,i)},e.prototype.addAnnotations=function(t,i){i=i||this.chart;var n=ne([],t,!0),a=i.getController("annotation"),o=a.getComponents().map(function(u){return u.extra});a.clear(!0);for(var s=function(u){var f=o[u],c=n.findIndex(function(h){return h.id&&h.id===f.id});c!==-1&&(f=Tt({},f,n[c]),n.splice(c,1)),a.annotation(f)},l=0;l<o.length;l++)s(l);n.forEach(function(u){return a.annotation(u)}),i.render(!0)},e.prototype.removeAnnotations=function(t){var i=this.chart.getController("annotation"),n=i.getComponents().map(function(s){return s.extra});i.clear(!0);for(var a=function(s){var l=n[s];t.find(function(u){return u.id&&u.id===l.id})||i.annotation(l)},o=0;o<n.length;o++)a(o);this.chart.render(!0)},e.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(hPt)},e.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),i=this.options,n=i.padding,a=i.appendPadding;this.chart.padding=n,this.chart.appendPadding=a,t({chart:this.chart,options:this.options})},e.prototype.triggerResize=function(){this.chart.forceFit()},e.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var i=this.options.autoFit,n=i===void 0?!0:i;n&&(this.unbind=(0,cPt.bind)(this.container,function(){var a=cT(t.container),o=a.width,s=a.height;(o!==t.chart.width||s!==t.chart.height)&&t.triggerResize()}))}},e.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},e}(vb);var Jg=et(ot());var sDt=et(ot());var hw=et(ot());function Q$(r,e,t,i){var n=(0,hw.reduce)(r,function(a,o){var s=o[t],l=a.has(s)?a.get(s):0,u=o[e];return l=Qv(u)?l+u:l,a.set(s,l),a},new Map);return(0,hw.map)(r,function(a){var o,s=a[e],l=a[t],u=Qv(s)&&n.get(l)!==0?s/n.get(l):0;return S(S({},a),(o={},o[i]=u,o))})}function dPt(r,e,t,i){var n=(0,hw.reduce)(r,function(a,o){var s=(0,hw.reduce)(t,function(f,c){return"".concat(f).concat(o[c])},""),l=a.has(s)?a.get(s):0,u=o[e];return l=Qv(u)?l+u:l,a.set(s,l),a},new Map);return(0,hw.map)(r,function(a){var o,s=a[e],l=(0,hw.reduce)(t,function(f,c){return"".concat(f).concat(a[c])},""),u=Qv(s)&&n.get(l)!==0?s/n.get(l):0;return S(S({},a),(o={},o[i]=u,o))})}function Kg(r,e,t,i,n){return n?Q$(r,e,t,i):r}var r4=et(ot());var t4=et(ot());function f2e(r){var e=r.chart,t=r.options,i=t.data,n=t.color,a=t.lineStyle,o=t.lineShape,s=t.point,l=t.area,u=t.seriesField,f=s==null?void 0:s.state,c=l==null?void 0:l.state;e.data(i);var h=Tt({},r,{options:{shapeField:u,line:{color:n,style:a,shape:o},point:s&&S({color:n,shape:"circle"},s),area:l&&S({color:n},l),label:void 0}}),d=Tt({},h,{options:{tooltip:!1,state:f}}),v=Tt({},h,{options:{tooltip:!1,state:c}});return lc(h),Ga(d),Xg(v),r}function jC(r){var e,t,i=r.options,n=i.xAxis,a=i.yAxis,o=i.xField,s=i.yField,l=i.data;return or(Ri((e={},e[o]=n,e[s]=a,e),(t={},t[o]={type:"cat"},t[s]=fT(l,s),t)))(r)}function c2e(r){var e=r.chart,t=r.options,i=t.reflect;if(i){var n=i;(0,t4.isArray)(n)||(n=[n]);var a=n.map(function(o){return["reflect",o]});e.coordinate({type:"rect",actions:a})}return r}function $$(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return i===!1?e.axis(a,!1):e.axis(a,i),n===!1?e.axis(o,!1):e.axis(o,n),r}function J$(r){var e=r.chart,t=r.options,i=t.legend,n=t.seriesField;return i&&n?e.legend(n,i):i===!1&&e.legend(!1),r}function h2e(r){var e=r.chart,t=r.options,i=t.label,n=t.yField,a=la(e,"line");if(!i)a.label(!1);else{var o=i.fields,s=i.callback,l=Ze(i,["fields","callback"]);a.label({fields:o||[n],callback:s,cfg:S({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Bn(l))})}return r}function d2e(r){var e=r.chart,t=r.options,i=t.isStack;return i&&(0,t4.each)(e.geometries,function(n){n.adjust("stack")}),r}function e4(r){return or(f2e,jC,d2e,Lr,c2e,$$,J$,tn,h2e,Ug,xT,bi,Hr,_i(),xd)(r)}function v2e(r){var e=r.chart,t=r.options,i=t.data,n=t.areaStyle,a=t.areaShape,o=t.color,s=t.point,l=t.line,u=t.isPercent,f=t.xField,c=t.yField,h=t.tooltip,d=t.seriesField,v=t.startOnZero,p=s==null?void 0:s.state,g=Kg(i,c,f,c,u);e.data(g);var m=u?S({formatter:function(_){return{name:_[d]||_[f],value:(Number(_[c])*100).toFixed(2)+"%"}}},h):h,y=Tt({},r,{options:{area:{color:o,style:n,shape:a},point:s&&S({color:o},s),tooltip:m,label:void 0,args:{startOnZero:v}}}),x={chart:e,options:Tt({line:{size:2}},(0,r4.omit)(t,["state"]),{line:l&&S({color:o},l),sizeField:d,state:l==null?void 0:l.state,tooltip:!1,label:void 0,args:{startOnZero:v}})},b=Tt({},y,{options:{tooltip:!1,state:p}});return Xg(y),lc(x),Ga(b),r}function p2e(r){var e=r.chart,t=r.options,i=t.label,n=t.yField,a=la(e,"area");if(!i)a.label(!1);else{var o=i.fields,s=i.callback,l=Ze(i,["fields","callback"]);a.label({fields:o||[n],callback:s,cfg:S({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Bn(l))})}return r}function g2e(r){var e=r.chart,t=r.options,i=t.isStack,n=t.isPercent,a=t.seriesField;return(n||i)&&a&&(0,r4.each)(e.geometries,function(o){o.adjust("stack")}),r}function i4(r){return or(Lr,Qa("areaStyle"),Yj("rect"),v2e,jC,g2e,$$,J$,tn,p2e,Ug,_i(),bi,Hr,xd)(r)}var vPt=Tt({},Je.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}});var BD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return vPt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this.options,n=i.isPercent,a=i.xField,o=i.yField,s=this,l=s.chart,u=s.options;jC({chart:l,options:u}),this.chart.changeData(Kg(t,o,a,o,n))},e.prototype.getSchemaAdaptor=function(){return i4},e}(Je);var wT=et(ot());var mPt=et(ot());var pPt=et(ot());var m2e=10,y2e=5,x2e={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},gPt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=S({name:"button"},x2e),t}return e.prototype.getButtonCfg=function(){var t=this.context.view,i=(0,pPt.get)(t,["interactions","filter-action","cfg","buttonConfig"]);return Tt(this.buttonCfg,i,this.cfg)},e.prototype.drawButton=function(){var t=this.getButtonCfg(),i=this.context.view.foregroundGroup.addGroup({name:t.name}),n=this.drawText(i);this.drawBackground(i,n.getBBox()),this.buttonGroup=i},e.prototype.drawText=function(t){var i,n=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:S({text:n.text},(i=n.textStyle)===null||i===void 0?void 0:i.default)})},e.prototype.drawBackground=function(t,i){var n,a=this.getButtonCfg(),o=$v(a.padding),s=t.addShape({type:"rect",name:"button-rect",attrs:S({x:i.x-o[3],y:i.y-o[0],width:i.width+o[1]+o[3],height:i.height+o[0]+o[2]},(n=a.buttonStyle)===null||n===void 0?void 0:n.default)});return s.toBack(),t.on("mouseenter",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.active)}),t.on("mouseleave",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.default)}),s},e.prototype.resetPosition=function(){var t=this.context.view,i=t.getCoordinate(),n=i.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=uo.transform(null,[["t",n.x-o.width-m2e,n.y+o.height+y2e]]);a.setMatrix(s)},e.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},e.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},e.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),r.prototype.destroy.call(this)},e}(Qr);br("brush-reset-button",gPt,{name:"brush-reset-button"});Vr("filter-action",{});function X0(r){return r.isInPlot()}function dw(r,e,t){var i=t||{},n=i.mask,a=i.isStartEnable,o=e||"rect";switch(r){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||X0,action:["brush:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:n==null?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:X0,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:X0,action:["brush:filter","brush:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide"),"brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(s){return a?!a(s):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:n==null?void 0:n.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||X0,action:["brush-x:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:n==null?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:X0,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:X0,action:["brush-x:filter","brush-x:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:n==null?void 0:n.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||X0,action:["brush-y:start","".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[null,{maskStyle:n==null?void 0:n.style}]}],processing:[{trigger:"mousemove",isEnable:X0,action:["".concat(o,"-mask:resize")]}],end:[{trigger:"mouseup",isEnable:X0,action:["brush-y:filter","brush-y:end","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:["".concat(o,"-mask:start"),"".concat(o,"-mask:show")],arg:[{maskStyle:n==null?void 0:n.style}]},{trigger:"mask:dragstart",action:["".concat(o,"-mask:moveStart")]}],processing:[{trigger:"plot:mousemove",action:["".concat(o,"-mask:resize")]},{trigger:"mask:drag",action:["".concat(o,"-mask:move")]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["".concat(o,"-mask:end")]},{trigger:"mask:dragend",action:["".concat(o,"-mask:moveEnd")]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear","".concat(o,"-mask:end"),"".concat(o,"-mask:hide")]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","".concat(o,"-mask:hide")]}]};default:return{}}}Vr("brush",dw("brush"));Vr("brush-highlight",dw("brush-highlight"));Vr("brush-x",dw("brush-x","x-rect"));Vr("brush-y",dw("brush-y","y-rect"));Vr("brush-x-highlight",dw("brush-x-highlight","x-rect"));Vr("brush-y-highlight",dw("brush-y-highlight","y-rect"));var yPt=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function n4(r){var e=r.options,t=e.brush,i=(0,mPt.filter)(e.interactions||[],function(n){return yPt.indexOf(n.type)===-1});return(t==null?void 0:t.enabled)&&(yPt.forEach(function(n){var a=!1;switch(t.type){case"x-rect":a=n===(t.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":a=n===(t.action==="highlight"?"brush-y-highlight":"brush-y");break;default:a=n===(t.action==="highlight"?"brush-highlight":"brush");break}var o={type:n,enable:a};t&&(o.cfg=dw(n,t.type,t)),i.push(o)}),(t==null?void 0:t.action)!=="highlight"&&i.push({type:"filter-action",cfg:{buttonConfig:t.button}})),Tt({},r,{options:{interactions:i}})}var YC={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},tJ=function(r,e){return r==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:e}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:e}]}]};Vr(YC.hover,{start:tJ(YC.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]});Vr(YC.click,{start:tJ(YC.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function xPt(r){return r===void 0&&(r=!1),function(e){var t=e.chart,i=e.options,n=i.connectedArea,a=function(){t.removeInteraction(YC.hover),t.removeInteraction(YC.click)};if(!r&&n){var o=n.trigger||"hover";a(),t.interaction(YC[o],{start:tJ(o,n.style)})}else a();return e}}var vw=et(ot());var eJ=et(ot());function a4(r,e){return!(0,eJ.isNumber)(r)||!(0,eJ.isNumber)(e)||r===0&&e===0?"-":r===e?"100%":r===0?"\u221E":"".concat((100*e/r).toFixed(2),"%")}function b2e(r,e){return Tt({size:e?32:80,spacing:e?8:12,offset:e?32:0,arrow:r.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:r.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:a4}},r)}function o4(r,e){return(0,vw.map)(e.getModel().points,function(t){return r.convertPoint(t)})}function w2e(r,e,t){var i=r.view,n=r.geometry,a=r.group,o=r.options,s=r.horizontal,l=o.offset,u=o.size,f=o.arrow,c=i.getCoordinate(),h=o4(c,e)[3],d=o4(c,t)[0],v=d.y-h.y,p=d.x-h.x;if(typeof f!="boolean"){var g=f.headSize,m=o.spacing,y;s?(p-g)/2<m?(m=Math.max(1,(p-g)/2),y=[[h.x+m,h.y-l],[h.x+m,h.y-l-u],[d.x-m,d.y-l-u/2]]):y=[[h.x+m,h.y-l],[h.x+m,h.y-l-u],[d.x-m-g,d.y-l-u],[d.x-m,d.y-l-u/2],[d.x-m-g,d.y-l]]:(v-g)/2<m?(m=Math.max(1,(v-g)/2),y=[[h.x+l,h.y+m],[h.x+l+u,h.y+m],[d.x+l+u/2,d.y-m]]):y=[[h.x+l,h.y+m],[h.x+l+u,h.y+m],[d.x+l+u,d.y-m-g],[d.x+l+u/2,d.y-m],[d.x+l,d.y-m-g]],a.addShape("polygon",{id:"".concat(i.id,"-conversion-tag-arrow-").concat(n.getElementId(e.getModel().mappingData)),name:"conversion-tag-arrow",origin:{element:e,nextElement:t},attrs:S(S({},f.style||{}),{points:y})})}}function _2e(r,e,t){var i,n,a,o=r.view,s=r.geometry,l=r.group,u=r.options,f=r.field,c=r.horizontal,h=u.offset,d=u.size;if(typeof u.text!="boolean"){var v=o.getCoordinate(),p=((i=u.text)===null||i===void 0?void 0:i.formatter)&&((n=u.text)===null||n===void 0?void 0:n.formatter(e.getData()[f],t.getData()[f])),g=o4(v,e)[c?3:0],m=o4(v,t)[c?0:3],y=l.addShape("text",{id:"".concat(o.id,"-conversion-tag-text-").concat(s.getElementId(e.getModel().mappingData)),name:"conversion-tag-text",origin:{element:e,nextElement:t},attrs:S(S({},((a=u.text)===null||a===void 0?void 0:a.style)||{}),{text:p,x:c?(g.x+m.x)/2:g.x+h+d/2,y:c?g.y-h-d/2:(g.y+m.y)/2})});if(c){var x=m.x-g.x,b=y.getBBox().width;if(b>x){var _=b/p.length,M=Math.max(1,Math.ceil(x/_)-1),A="".concat(p.slice(0,M),"...");y.attr("text",A)}}}}function S2e(r,e,t){w2e(r,e,t),_2e(r,e,t)}function bPt(r,e,t){return e===void 0&&(e=!0),t===void 0&&(t=!1),function(i){var n=i.options,a=i.chart,o=n.conversionTag,s=n.theme;return o&&!t&&(a.theme(Tt({},(0,vw.isObject)(s)?s:Dg(s),{columnWidthRatio:1/3})),a.annotation().shape({render:function(l,u){var f=l.addGroup({id:"".concat(a.id,"-conversion-tag-group"),name:"conversion-tag-group"}),c=(0,vw.find)(a.geometries,function(v){return v.type==="interval"}),h={view:u,geometry:c,group:f,field:r,horizontal:e,options:b2e(o,e)},d=c.elements;(0,vw.each)(d,function(v,p){p>0&&S2e(h,d[p-1],v)})}})),i}}function C2e(r){var e=r.options,t=e.legend,i=e.seriesField,n=e.isStack;return i?t!==!1&&(t=S({position:n?"right-top":"top-left"},t)):t=!1,r.options.legend=t,r}function M2e(r){var e=r.chart,t=r.options,i=t.data,n=t.columnStyle,a=t.color,o=t.columnWidthRatio,s=t.isPercent,l=t.isGroup,u=t.isStack,f=t.xField,c=t.yField,h=t.seriesField,d=t.groupField,v=t.tooltip,p=t.shape,g=s&&l&&u?dPt(i,c,[f,d],c):Kg(i,c,f,c,s),m=[];u&&h&&!l?g.forEach(function(b){var _=m.find(function(M){return M[f]===b[f]&&M[h]===b[h]});_?_[c]+=b[c]||0:m.push(S({},b))}):m=g,e.data(m);var y=s?S({formatter:function(b){var _;return{name:l&&u?"".concat(b[h]," - ").concat(b[d]):(_=b[h])!==null&&_!==void 0?_:b[f],value:(Number(b[c])*100).toFixed(2)+"%"}}},v):v,x=Tt({},r,{options:{data:m,widthRatio:o,tooltip:y,interval:{shape:p,style:n,color:a}}});return ua(x),x}function _T(r){var e,t,i=r.options,n=i.xAxis,a=i.yAxis,o=i.xField,s=i.yField,l=i.data,u=i.isPercent,f=u?{max:1,min:0,minLimit:0,maxLimit:1}:{};return or(Ri((e={},e[o]=n,e[s]=a,e),(t={},t[o]={type:"cat"},t[s]=S(S({},fT(l,s)),f),t)))(r)}function A2e(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return i===!1?e.axis(a,!1):e.axis(a,i),n===!1?e.axis(o,!1):e.axis(o,n),r}function E2e(r){var e=r.chart,t=r.options,i=t.legend,n=t.seriesField;return i&&n?e.legend(n,i):i===!1&&e.legend(!1),r}function T2e(r){var e=r.chart,t=r.options,i=t.label,n=t.yField,a=t.isRange,o=la(e,"interval");if(!i)o.label(!1);else{var s=i.callback,l=Ze(i,["callback"]);o.label({fields:[n],callback:s,cfg:S({layout:(l==null?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Bn(a?S({content:function(u){var f;return(f=u[n])===null||f===void 0?void 0:f.join("-")}},l):l))})}return r}function I2e(r){var e=r.chart,t=r.options,i=t.tooltip,n=t.isGroup,a=t.isStack,o=t.groupField,s=t.data,l=t.xField,u=t.yField,f=t.seriesField;if(i===!1)e.tooltip(!1);else{var c=i;if(n&&a){var h=c.customItems,d=(c==null?void 0:c.formatter)||function(v){return{name:"".concat(v[f]," - ").concat(v[o]),value:v[u]}};c=S(S({},c),{customItems:function(v){var p=[];return(0,wT.each)(v,function(g){var m=(0,wT.filter)(s,function(y){return(0,wT.isMatch)(y,wi(g.data,[l,f]))});m.forEach(function(y){p.push(S(S(S({},g),{value:y[u],data:y,mappingData:{_origin:y}}),d(y)))})}),h?h(p):p}})}e.tooltip(c)}return r}function pw(r,e){e===void 0&&(e=!1);var t=r.options,i=t.seriesField;return or(C2e,Lr,Qa("columnStyle"),Su,Yj("rect"),M2e,_T,A2e,E2e,I2e,Ug,xT,T2e,n4,bi,Hr,_i(),bPt(t.yField,!e,!!i),xPt(!t.isStack),xd)(r)}function L2e(r){var e=r.options,t=e.xField,i=e.yField,n=e.xAxis,a=e.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},s=a!==!1?S({position:o[(a==null?void 0:a.position)||"left"]},a):!1,l=n!==!1?S({position:o[(n==null?void 0:n.position)||"bottom"]},n):!1;return S(S({},r),{options:S(S({},e),{xField:i,yField:t,xAxis:s,yAxis:l})})}function O2e(r){var e=r.options,t=e.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),Tt({},r,{options:{label:t}})}function k2e(r){var e=r.options,t=e.seriesField,i=e.isStack,n=e.legend;return t?n!==!1&&(n=S({position:i?"top-left":"right-top"},n||{})):n=!1,Tt({},r,{options:{legend:n}})}function P2e(r){var e=r.options,t=[{type:"transpose"},{type:"reflectY"}].concat(e.coordinate||[]);return Tt({},r,{options:{coordinate:t}})}function D2e(r){var e=r.chart,t=r.options,i=t.barStyle,n=t.barWidthRatio,a=t.minBarWidth,o=t.maxBarWidth,s=t.barBackground;return pw({chart:e,options:S(S({},t),{columnStyle:i,columnWidthRatio:n,minColumnWidth:a,maxColumnWidth:o,columnBackground:s})},!0)}function s4(r){return or(L2e,O2e,k2e,tn,P2e,D2e)(r)}var wPt=Tt({},Je.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]});var RD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bar",t}return e.getDefaultOptions=function(){return wPt},e.prototype.changeData=function(t){var i,n;this.updateOption({data:t});var a=this,o=a.chart,s=a.options,l=s.isPercent,u=s.xField,f=s.yField,c=s.xAxis,h=s.yAxis;i=[f,u],u=i[0],f=i[1],n=[h,c],c=n[0],h=n[1];var d=S(S({},s),{xField:u,yField:f,yAxis:h,xAxis:c});_T({chart:o,options:d}),o.changeData(Kg(t,u,f,u,l))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return s4},e}(Je);var _Pt=Tt({},Je.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]});var GD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="column",t}return e.getDefaultOptions=function(){return _Pt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this.options,n=i.yField,a=i.xField,o=i.isPercent,s=this,l=s.chart,u=s.options;_T({chart:l,options:u}),this.chart.changeData(Kg(t,n,a,n,o))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return pw},e}(Je);var c4=et(ot());var ET=et(ot());var rJ,uc="$$percentage$$",tp="$$mappingValue$$",Us="$$conversion$$",zD="$$totalPercentage$$",ST="$$x$$",CT="$$y$$",SPt={appendPadding:[0,80],minSize:0,maxSize:1,meta:(rJ={},rJ[tp]={min:0,max:1,nice:!1},rJ),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};var gw=et(ot());var bd=et(ot());var iJ="CONVERSION_TAG_NAME";function MT(r,e,t){var i=[],n=t.yField,a=t.maxSize,o=t.minSize,s=(0,bd.get)((0,bd.maxBy)(e,n),[n]),l=(0,bd.isNumber)(a)?a:1,u=(0,bd.isNumber)(o)?o:0;return i=(0,bd.map)(r,function(f,c){var h=(f[n]||0)/s;return f[uc]=h,f[tp]=(l-u)*h+u,f[Us]=[(0,bd.get)(r,[c-1,n]),f[n]],f}),i}function AT(r){return function(e){var t=e.chart,i=e.options,n=i.conversionTag,a=i.filteredData,o=a||t.getOptions().data;if(n){var s=n.formatter;o.forEach(function(l,u){if(!(u<=0||Number.isNaN(l[tp]))){var f=r(l,u,o,{top:!0,name:iJ,text:{content:(0,bd.isFunction)(s)?s(l,o):s,offsetX:n.offsetX,offsetY:n.offsetY,position:"end",autoRotate:!1,style:S({textAlign:"start",textBaseline:"middle"},n.style)}});t.annotation().line(f)}})}return e}}function F2e(r){var e=r.chart,t=r.options,i=t.data,n=i===void 0?[]:i,a=t.yField,o=t.maxSize,s=t.minSize,l=MT(n,n,{yField:a,maxSize:o,minSize:s});return e.data(l),r}function N2e(r){var e=r.chart,t=r.options,i=t.xField,n=t.yField,a=t.color,o=t.tooltip,s=t.label,l=t.shape,u=l===void 0?"funnel":l,f=t.funnelStyle,c=t.state,h=Do(o,[i,n]),d=h.fields,v=h.formatter;Ra({chart:e,options:{type:"interval",xField:i,yField:tp,colorField:i,tooltipFields:(0,gw.isArray)(d)&&d.concat([uc,Us]),mapping:{shape:u,tooltip:v,color:a,style:f},label:s,state:c}});var p=la(r.chart,"interval");return p.adjust("symmetric"),r}function B2e(r){var e=r.chart,t=r.options,i=t.isTransposed;return e.coordinate({type:"rect",actions:i?[]:[["transpose"],["scale",1,-1]]}),r}function nJ(r){var e=r.options,t=r.chart,i=e.maxSize,n=(0,gw.get)(t,["geometries","0","dataArray"],[]),a=(0,gw.get)(t,["options","data","length"]),o=(0,gw.map)(n,function(l){return(0,gw.get)(l,["0","nextPoints","0","x"])*a-.5}),s=function(l,u,f,c){var h=i-(i-l[tp])/2;return S(S({},c),{start:[o[u-1]||u-.5,h],end:[o[u-1]||u-.5,h+.05]})};return AT(s)(r),r}function l4(r){return or(F2e,N2e,B2e,nJ)(r)}var Qg=et(ot());function R2e(r){var e,t=r.chart,i=r.options,n=i.data,a=n===void 0?[]:n,o=i.yField;return t.data(a),t.scale((e={},e[o]={sync:!0},e)),r}function G2e(r){var e=r.chart,t=r.options,i=t.data,n=t.xField,a=t.yField,o=t.color,s=t.compareField,l=t.isTransposed,u=t.tooltip,f=t.maxSize,c=t.minSize,h=t.label,d=t.funnelStyle,v=t.state,p=t.showFacetTitle;return e.facet("mirror",{fields:[s],transpose:!l,padding:l?0:[32,0,0,0],showTitle:p,eachView:function(g,m){var y=l?m.rowIndex:m.columnIndex;l||g.coordinate({type:"rect",actions:[["transpose"],["scale",y===0?-1:1,-1]]});var x=MT(m.data,i,{yField:a,maxSize:f,minSize:c});g.data(x);var b=Do(u,[n,a,s]),_=b.fields,M=b.formatter,A=l?{offset:y===0?10:-23,position:y===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:y===0?"end":"start"}};Ra({chart:g,options:{type:"interval",xField:n,yField:tp,colorField:n,tooltipFields:(0,Qg.isArray)(_)&&_.concat([uc,Us]),mapping:{shape:"funnel",tooltip:M,color:o,style:d},label:h===!1?!1:Tt({},A,h),state:v}})}}),r}function aJ(r){var e=r.chart,t=r.index,i=r.options,n=i.conversionTag,a=i.isTransposed;((0,Qg.isNumber)(t)?[e]:e.views).forEach(function(o,s){var l=(0,Qg.get)(o,["geometries","0","dataArray"],[]),u=(0,Qg.get)(o,["options","data","length"]),f=(0,Qg.map)(l,function(h){return(0,Qg.get)(h,["0","nextPoints","0","x"])*u-.5}),c=function(h,d,v,p){var g=(t||s)===0?-1:1;return Tt({},p,{start:[f[d-1]||d-.5,h[tp]],end:[f[d-1]||d-.5,h[tp]+.05],text:a?{style:{textAlign:"start"}}:{offsetX:n!==!1?g*n.offsetX:0,style:{textAlign:(t||s)===0?"end":"start"}}})};AT(c)(Tt({},{chart:o,options:i}))})}function z2e(r){var e=r.chart;return e.once("beforepaint",function(){return aJ(r)}),r}function CPt(r){return or(R2e,G2e,z2e)(r)}var $g=et(ot());function j2e(r){var e=r.chart,t=r.options,i=t.data,n=i===void 0?[]:i,a=t.yField,o=(0,$g.reduce)(n,function(u,f){return u+(f[a]||0)},0),s=(0,$g.maxBy)(n,a)[a],l=(0,$g.map)(n,function(u,f){var c=[],h=[];if(u[zD]=(u[a]||0)/o,f){var d=n[f-1][ST],v=n[f-1][CT];c[0]=d[3],h[0]=v[3],c[1]=d[2],h[1]=v[2]}else c[0]=-.5,h[0]=1,c[1]=.5,h[1]=1;return h[2]=h[1]-u[zD],c[2]=(h[2]+1)/4,h[3]=h[2],c[3]=-c[2],u[ST]=c,u[CT]=h,u[uc]=(u[a]||0)/s,u[Us]=[(0,$g.get)(n,[f-1,a]),u[a]],u});return e.data(l),r}function Y2e(r){var e=r.chart,t=r.options,i=t.xField,n=t.yField,a=t.color,o=t.tooltip,s=t.label,l=t.funnelStyle,u=t.state,f=Do(o,[i,n]),c=f.fields,h=f.formatter;return Ra({chart:e,options:{type:"polygon",xField:ST,yField:CT,colorField:i,tooltipFields:(0,$g.isArray)(c)&&c.concat([uc,Us]),label:s,state:u,mapping:{tooltip:h,color:a,style:l}}}),r}function W2e(r){var e=r.chart,t=r.options,i=t.isTransposed;return e.coordinate({type:"rect",actions:i?[["transpose"],["reflect","x"]]:[]}),r}function V2e(r){var e=function(t,i,n,a){return S(S({},a),{start:[t[ST][1],t[CT][1]],end:[t[ST][1]+.05,t[CT][1]]})};return AT(e)(r),r}function MPt(r){return or(j2e,Y2e,W2e,V2e)(r)}function q2e(r){var e,t=r.chart,i=r.options,n=i.data,a=n===void 0?[]:n,o=i.yField;return t.data(a),t.scale((e={},e[o]={sync:!0},e)),r}function H2e(r){var e=r.chart,t=r.options,i=t.seriesField,n=t.isTransposed,a=t.showFacetTitle;return e.facet("rect",{fields:[i],padding:[n?0:32,10,0,10],showTitle:a,eachView:function(o,s){l4(Tt({},r,{chart:o,options:{data:s.data}}))}}),r}function APt(r){return or(q2e,H2e)(r)}var Z0=et(ot());var EPt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.rendering=!1,t}return e.prototype.change=function(t){var i=this;if(!this.rendering){var n=t.seriesField,a=t.compareField,o=a?aJ:nJ,s=this.context.view,l=n||a?s.views:[s];(0,Z0.map)(l,function(u,f){var c=u.getController("annotation"),h=(0,Z0.filter)((0,Z0.get)(c,["option"],[]),function(v){var p=v.name;return p!==iJ});c.clear(!0),(0,Z0.each)(h,function(v){typeof v=="object"&&u.annotation()[v.type](v)});var d=(0,Z0.get)(u,["filteredData"],u.getOptions().data);o({chart:u,index:f,options:S(S({},t),{filteredData:MT(d,d,t)})}),u.filterData(d),i.rendering=!0,u.render(!0)})}this.rendering=!1},e}(Qr);var TPt="funnel-conversion-tag",u4="funnel-afterrender",oJ={trigger:"afterrender",action:"".concat(TPt,":change")};br(TPt,EPt);Vr(u4,{start:[oJ]});function U2e(r){var e=r.options,t=e.compareField,i=e.xField,n=e.yField,a=e.locale,o=e.funnelStyle,s=e.data,l=GC(a),u={label:t?{fields:[i,n,t,uc,Us],formatter:function(c){return"".concat(c[n])}}:{fields:[i,n,uc,Us],offset:0,position:"middle",formatter:function(c){return"".concat(c[i]," ").concat(c[n])}},tooltip:{title:i,formatter:function(c){return{name:c[i],value:c[n]}}},conversionTag:{formatter:function(c){return"".concat(l.get(["conversionTag","label"]),": ").concat(a4.apply(void 0,c[Us]))}}},f;return(t||o)&&(f=function(c){return Tt({},t&&{lineWidth:1,stroke:"#fff"},(0,ET.isFunction)(o)?o(c):o)}),Tt({options:u},r,{options:{funnelStyle:f,data:(0,ET.clone)(s)}})}function X2e(r){var e=r.options,t=e.compareField,i=e.dynamicHeight,n=e.seriesField;return n?APt(r):t?CPt(r):i?MPt(r):l4(r)}function Z2e(r){var e,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return or(Ri((e={},e[a]=i,e[o]=n,e)))(r)}function K2e(r){var e=r.chart;return e.axis(!1),r}function Q2e(r){var e=r.chart,t=r.options,i=t.legend;return i===!1?e.legend(!1):e.legend(i),r}function $2e(r){var e=r.chart,t=r.options,i=t.interactions,n=t.dynamicHeight;return(0,ET.each)(i,function(a){a.enable===!1?e.removeInteraction(a.type):e.interaction(a.type,a.cfg||{})}),n?e.removeInteraction(u4):e.interaction(u4,{start:[S(S({},oJ),{arg:t})]}),r}function f4(r){return or(U2e,X2e,Z2e,K2e,tn,$2e,Q2e,Hr,Lr,_i())(r)}var jD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="funnel",t}return e.getDefaultOptions=function(){return SPt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return f4},e.prototype.setState=function(t,i,n){n===void 0&&(n=!0);var a=NC(this.chart);(0,c4.each)(a,function(o){i(o.getData())&&o.setState(t,n)})},e.prototype.getStates=function(){var t=NC(this.chart),i=[];return(0,c4.each)(t,function(n){var a=n.getData(),o=n.getStates();(0,c4.each)(o,function(s){i.push({data:a,state:s,geometry:n.geometry,element:n})})}),i},e.CONVERSATION_FIELD=Us,e.PERCENT_FIELD=uc,e.TOTAL_PERCENT_FIELD=zD,e}(Je);var y4=et(ot());var h4,YD="range",d4="type",ep="percent",IPt="#f0f0f0",v4="indicator-view",p4="range-view",LPt={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(h4={},h4[YD]={sync:"v"},h4[ep]={sync:"v",tickCount:5,tickInterval:.2},h4),animation:!1};var K0=et(ot());function J2e(r,e){return r.map(function(t,i){var n;return n={},n[YD]=t-(r[i-1]||0),n[d4]="".concat(i),n[ep]=e,n})}function g4(r){var e;return[(e={},e[ep]=(0,K0.clamp)(r,0,1),e)]}function m4(r,e){var t=(0,K0.get)(e,["ticks"],[]),i=(0,K0.size)(t)?(0,K0.uniq)(t):[0,(0,K0.clamp)(r,0,1),1];return i[0]||i.shift(),J2e(i,r)}function tTe(r){var e=r.chart,t=r.options,i=t.percent,n=t.range,a=t.radius,o=t.innerRadius,s=t.startAngle,l=t.endAngle,u=t.axis,f=t.indicator,c=t.gaugeStyle,h=t.type,d=t.meter,v=n.color,p=n.width;if(f){var g=g4(i),m=e.createView({id:v4});m.data(g),m.point().position("".concat(ep,"*1")).shape(f.shape||"gauge-indicator").customInfo({defaultColor:e.getTheme().defaultColor,indicator:f}),m.coordinate("polar",{startAngle:s,endAngle:l,radius:o*a}),m.axis(ep,u),m.scale(ep,wi(u,ns))}var y=m4(i,t.range),x=e.createView({id:p4});x.data(y);var b=(0,y4.isString)(v)?[v,IPt]:v,_=ua({chart:x,options:{xField:"1",yField:YD,seriesField:d4,rawFields:[ep],isStack:!0,interval:{color:b,style:c,shape:h==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:p,maxColumnWidth:p}}).ext,M=_.geometry;return M.customInfo({meter:d}),x.coordinate("polar",{innerRadius:o,radius:a,startAngle:s,endAngle:l}).transpose(),r}function eTe(r){var e;return or(Ri((e={range:{min:0,max:1,maxLimit:1,minLimit:0}},e[ep]={},e)))(r)}function sJ(r,e){var t=r.chart,i=r.options,n=i.statistic,a=i.percent;if(t.getController("annotation").clear(!0),n){var o=n.content,s=void 0;o&&(s=Tt({},{content:"".concat((a*100).toFixed(2),"%"),style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),Y$(t,{statistic:S(S({},n),{content:s})},{percent:a})}return e&&t.render(!0),r}function rTe(r){var e=r.chart,t=r.options,i=t.tooltip;return i?e.tooltip(Tt({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(n,a){var o=(0,y4.get)(a,[0,"data",ep],0);return"".concat((o*100).toFixed(2),"%")}},i)):e.tooltip(!1),r}function iTe(r){var e=r.chart;return e.legend(!1),r}function x4(r){return or(Lr,Hr,tTe,eTe,rTe,sJ,bi,_i(),iTe)(r)}kr("point","gauge-indicator",{draw:function(r,e){var t=r.customInfo,i=t.indicator,n=t.defaultColor,a=i,o=a.pointer,s=a.pin,l=e.addGroup(),u=this.parsePoint({x:0,y:0});return o&&l.addShape("line",{name:"pointer",attrs:S({x1:u.x,y1:u.y,x2:r.x,y2:r.y,stroke:n},o.style)}),s&&l.addShape("circle",{name:"pin",attrs:S({x:u.x,y:u.y,stroke:n},s.style)}),l}});var OPt=et(ot());kr("interval","meter-gauge",{draw:function(r,e){var t=r.customInfo.meter,i=t===void 0?{}:t,n=i.steps,a=n===void 0?50:n,o=i.stepRatio,s=o===void 0?.5:o;a=a<1?1:a,s=(0,OPt.clamp)(s,0,1);var l=this.coordinate,u=l.startAngle,f=l.endAngle,c=0;if(s>0&&s<1){var h=f-u;c=h/a/(s/(1-s)+1-1/a)}for(var d=c/(1-s)*s,v=e.addGroup(),p=this.coordinate.getCenter(),g=this.coordinate.getRadius(),m=uo.getAngle(r,this.coordinate),y=m.startAngle,x=m.endAngle,b=y;b<x;){var _=void 0,M=(b-u)%(d+c);M<d?_=b+(d-M):(b+=d+c-M,_=b+d);var A=uo.getSectorPath(p.x,p.y,g,b,Math.min(_,x),g*this.coordinate.innerRadius);v.addShape("path",{name:"meter-gauge",attrs:{path:A,fill:r.color,stroke:r.color,lineWidth:.5}}),b=_+c}return v}});var WD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="gauge",t}return e.getDefaultOptions=function(){return LPt},e.prototype.changeData=function(t){this.chart.emit(ti.BEFORE_CHANGE_DATA,wn.fromData(this.chart,ti.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var i=this.chart.views.find(function(a){return a.id===v4});i&&i.data(g4(t));var n=this.chart.views.find(function(a){return a.id===p4});n&&n.data(m4(t,this.options.range)),sJ({chart:this.chart,options:this.options},!0),this.chart.emit(ti.AFTER_CHANGE_DATA,wn.fromData(this.chart,ti.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return x4},e}(Je);var Xs=et(ot());function kPt(r,e,t){if(t===1)return[0,e];var i=Math.floor(r/e);return[e*i,e*(i+1)]}function nTe(r){return Math.ceil(Math.log(r.length)/Math.LN2)+1}function b4(r,e,t,i,n){var a=(0,Xs.clone)(r);(0,Xs.sortBy)(a,e);var o=(0,Xs.valuesOfKey)(a,e),s=(0,Xs.getRange)(o),l=s.max-s.min,u=t;if(!t&&i&&(u=i>1?l/(i-1):s.max),!t&&!i){var f=nTe(o);u=l/f}var c={},h=(0,Xs.groupBy)(a,n);(0,Xs.isEmpty)(h)?(0,Xs.each)(a,function(v){var p=v[e],g=kPt(p,u,i),m="".concat(g[0],"-").concat(g[1]);(0,Xs.hasKey)(c,m)||(c[m]={range:g,count:0}),c[m].count+=1}):Object.keys(h).forEach(function(v){(0,Xs.each)(h[v],function(p){var g=p[e],m=kPt(g,u,i),y="".concat(m[0],"-").concat(m[1]),x="".concat(y,"-").concat(v);(0,Xs.hasKey)(c,x)||(c[x]={range:m,count:0},c[x][n]=v),c[x].count+=1})});var d=[];return(0,Xs.each)(c,function(v){d.push(v)}),d}var VD="range",TT="count",PPt=Tt({},Je.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function aTe(r){var e=r.chart,t=r.options,i=t.data,n=t.binField,a=t.binNumber,o=t.binWidth,s=t.color,l=t.stackField,u=t.legend,f=t.columnStyle,c=b4(i,n,o,a,l);e.data(c);var h=Tt({},r,{options:{xField:VD,yField:TT,seriesField:l,isStack:!0,interval:{color:s,style:f}}});return ua(h),u&&l?e.legend(l,u):e.legend(!1),r}function oTe(r){var e,t=r.options,i=t.xAxis,n=t.yAxis;return or(Ri((e={},e[VD]=i,e[TT]=n,e)))(r)}function sTe(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis;return i===!1?e.axis(VD,!1):e.axis(VD,i),n===!1?e.axis(TT,!1):e.axis(TT,n),r}function lTe(r){var e=r.chart,t=r.options,i=t.label,n=la(e,"interval");if(!i)n.label(!1);else{var a=i.callback,o=Ze(i,["callback"]);n.label({fields:[TT],callback:a,cfg:Bn(o)})}return r}function w4(r){return or(Lr,Qa("columnStyle"),aTe,oTe,sTe,Su,lTe,tn,bi,Hr)(r)}var qD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="histogram",t}return e.getDefaultOptions=function(){return PPt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this.options,n=i.binField,a=i.binNumber,o=i.binWidth,s=i.stackField;this.chart.changeData(b4(t,n,o,a,s))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return w4},e}(Je);var DPt=Tt({},Je.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1});var WC=et(ot()),FPt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.active=function(){var t=this.getView(),i=this.context.event;if(i.data){var n=i.data.items,a=t.geometries.filter(function(o){return o.type==="point"});(0,WC.each)(a,function(o){(0,WC.each)(o.elements,function(s){var l=(0,WC.findIndex)(n,function(u){return u.data===s.data})!==-1;s.setState("active",l)})})}},e.prototype.reset=function(){var t=this.getView(),i=t.geometries.filter(function(n){return n.type==="point"});(0,WC.each)(i,function(n){(0,WC.each)(n.elements,function(a){a.setState("active",!1)})})},e.prototype.getView=function(){return this.context.view},e}(Qr);br("marker-active",FPt);Vr("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var HD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="line",t}return e.getDefaultOptions=function(){return DPt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this,n=i.chart,a=i.options;jC({chart:n,options:a}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return e4},e}(Je);var go=et(ot());var _4=Tt({},Je.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});var NPt=et(ot());var uTe=[1,0,0,0,1,0,0,0,1];function UD(r,e){var t=e?ne([],e,!0):ne([],uTe,!0);return uo.transform(t,r)}var BPt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getActiveElements=function(){var t=uo.getDelegationObject(this.context);if(t){var i=this.context.view,n=t.component,a=t.item,o=n.get("field");if(o){var s=i.geometries[0].elements;return s.filter(function(l){return l.getModel().data[o]===a.value})}}return[]},e.prototype.getActiveElementLabels=function(){var t=this.context.view,i=this.getActiveElements(),n=t.geometries[0].labelsContainer.getChildren();return n.filter(function(a){return i.find(function(o){return(0,NPt.isEqual)(o.getData(),a.get("data"))})})},e.prototype.transfrom=function(t){t===void 0&&(t=7.5);var i=this.getActiveElements(),n=this.getActiveElementLabels();i.forEach(function(a,o){var s=n[o],l=a.geometry.coordinate;if(l.isPolar&&l.isTransposed){var u=uo.getAngle(a.getModel(),l),f=u.startAngle,c=u.endAngle,h=(f+c)/2,d=t,v=d*Math.cos(h),p=d*Math.sin(h);a.shape.setMatrix(UD([["t",v,p]])),s.setMatrix(UD([["t",v,p]]))}})},e.prototype.active=function(){this.transfrom()},e.prototype.reset=function(){this.transfrom(0)},e}(Qr);var VC=et(ot());function RPt(r){var e=r.event,t,i=e.target;return i&&(t=i.get("element")),t}var GPt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getAnnotations=function(t){var i=t||this.context.view;return i.getController("annotation").option},e.prototype.getInitialAnnotation=function(){return this.initialAnnotation},e.prototype.init=function(){var t=this,i=this.context.view;i.removeInteraction("tooltip"),i.on("afterchangesize",function(){var n=t.getAnnotations(i);t.initialAnnotation=n})},e.prototype.change=function(t){var i=this.context,n=i.view,a=i.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=(0,VC.get)(a,["data","data"]);if(a.type.match("legend-item")){var s=uo.getDelegationObject(this.context),l=n.getGroupedFields()[0];if(s&&l){var u=s.item;o=n.getData().find(function(d){return d[l]===u.value})}}if(o){var f=(0,VC.get)(t,"annotations",[]),c=(0,VC.get)(t,"statistic",{});n.getController("annotation").clear(!0),(0,VC.each)(f,function(d){typeof d=="object"&&n.annotation()[d.type](d)}),U0(n,{statistic:c,plotType:"pie"},o),n.render(!0)}var h=RPt(this.context);h&&h.shape.toFront()},e.prototype.reset=function(){var t=this.context.view,i=t.getController("annotation");i.clear(!0);var n=this.getInitialAnnotation();(0,VC.each)(n,function(a){t.annotation()[a.type](a)}),t.render(!0)},e}(Qr);var lJ="pie-statistic";br(lJ,GPt);Vr("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]});br("pie-legend",BPt);Vr("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var qC=et(ot());function zPt(r,e){var t=null;return(0,qC.each)(r,function(i){typeof i[e]=="number"&&(t+=i[e])}),t}function jPt(r,e){var t;switch(r){case"inner":return t="-30%",(0,qC.isString)(e)&&e.endsWith("%")?parseFloat(e)*.01>0?t:e:e<0?e:t;case"outer":return t=12,(0,qC.isString)(e)&&e.endsWith("%")?parseFloat(e)*.01<0?t:e:e>0?e:t;default:return e}}function IT(r,e){return(0,qC.every)(qg(r,e),function(t){return t[e]===0})}function fTe(r){var e=r.chart,t=r.options,i=t.data,n=t.angleField,a=t.colorField,o=t.color,s=t.pieStyle,l=t.shape,u=qg(i,n);if(IT(u,n)){var f="$$percentage$$";u=u.map(function(h){var d;return S(S({},h),(d={},d[f]=1/u.length,d))}),e.data(u);var c=Tt({},r,{options:{xField:"1",yField:f,seriesField:a,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});ua(c)}else{e.data(u);var c=Tt({},r,{options:{xField:"1",yField:n,seriesField:a,isStack:!0,interval:{color:o,shape:l,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});ua(c)}return r}function cTe(r){var e,t=r.chart,i=r.options,n=i.meta,a=i.colorField,o=Tt({},n);return t.scale(o,(e={},e[a]={type:"cat"},e)),r}function hTe(r){var e=r.chart,t=r.options,i=t.radius,n=t.innerRadius,a=t.startAngle,o=t.endAngle;return e.coordinate({type:"theta",cfg:{radius:i,innerRadius:n,startAngle:a,endAngle:o}}),r}function dTe(r){var e=r.chart,t=r.options,i=t.label,n=t.colorField,a=t.angleField,o=e.geometries[0];if(!i)o.label(!1);else{var s=i.callback,l=Ze(i,["callback"]),u=Bn(l);if(u.content){var f=u.content;u.content=function(v,p,g){var m=v[n],y=v[a],x=e.getScaleByField(a),b=x==null?void 0:x.scale(y);return(0,go.isFunction)(f)?f(S(S({},v),{percent:b}),p,g):(0,go.isString)(f)?FD(f,{value:y,name:m,percentage:(0,go.isNumber)(b)&&!(0,go.isNil)(y)?"".concat((b*100).toFixed(2),"%"):null}):f}}var c={inner:"",outer:"pie-outer",spider:"pie-spider"},h=u.type?c[u.type]:"pie-outer",d=u.layout?(0,go.isArray)(u.layout)?u.layout:[u.layout]:[];u.layout=(h?[{type:h}]:[]).concat(d),o.label({fields:n?[a,n]:[a],callback:s,cfg:S(S({},u),{offset:jPt(u.type,u.offset),type:"pie"})})}return r}function YPt(r){var e=r.innerRadius,t=r.statistic,i=r.angleField,n=r.colorField,a=r.meta,o=r.locale,s=GC(o);if(e&&t){var l=Tt({},_4.statistic,t),u=l.title,f=l.content;return u!==!1&&(u=Tt({},{formatter:function(c){var h=c?c[n]:(0,go.isNil)(u.content)?s.get(["statistic","total"]):u.content,d=(0,go.get)(a,[n,"formatter"])||function(v){return v};return d(h)}},u)),f!==!1&&(f=Tt({},{formatter:function(c,h){var d=c?c[i]:zPt(h,i),v=(0,go.get)(a,[i,"formatter"])||function(p){return p};return c||(0,go.isNil)(f.content)?v(d):f.content}},f)),Tt({},{statistic:{title:u,content:f}},r)}return r}function uJ(r){var e=r.chart,t=r.options,i=YPt(t),n=i.innerRadius,a=i.statistic;return e.getController("annotation").clear(!0),or(_i())(r),n&&a&&U0(e,{statistic:a,plotType:"pie"}),r}function vTe(r){var e=r.chart,t=r.options,i=t.tooltip,n=t.colorField,a=t.angleField,o=t.data;if(i===!1)e.tooltip(i);else if(e.tooltip(Tt({},i,{shared:!1})),IT(o,a)){var s=(0,go.get)(i,"fields"),l=(0,go.get)(i,"formatter");(0,go.isEmpty)((0,go.get)(i,"fields"))&&(s=[n,a],l=l||function(u){return{name:u[n],value:(0,go.toString)(u[a])}}),e.geometries[0].tooltip(s.join("*"),zC(s,l))}return r}function pTe(r){var e=r.chart,t=r.options,i=YPt(t),n=i.interactions,a=i.statistic,o=i.annotations;return(0,go.each)(n,function(s){var l,u;if(s.enable===!1)e.removeInteraction(s.type);else if(s.type==="pie-statistic-active"){var f=[];((l=s.cfg)===null||l===void 0?void 0:l.start)||(f=[{trigger:"element:mouseenter",action:"".concat(lJ,":change"),arg:{statistic:a,annotations:o}}]),(0,go.each)((u=s.cfg)===null||u===void 0?void 0:u.start,function(c){f.push(S(S({},c),{arg:{statistic:a,annotations:o}}))}),e.interaction(s.type,Tt({},s.cfg,{start:f}))}else e.interaction(s.type,s.cfg||{})}),r}function S4(r){return or(Qa("pieStyle"),fTe,cTe,Lr,hTe,sc,vTe,dTe,Su,uJ,pTe,Hr)(r)}var XD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="pie",t}return e.getDefaultOptions=function(){return _4},e.prototype.changeData=function(t){this.chart.emit(ti.BEFORE_CHANGE_DATA,wn.fromData(this.chart,ti.BEFORE_CHANGE_DATA,null));var i=this.options,n=this.options.angleField,a=qg(i.data,n),o=qg(t,n);IT(a,n)||IT(o,n)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(o),uJ({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(ti.AFTER_CHANGE_DATA,wn.fromData(this.chart,ti.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return S4},e}(Je);var qPt=et(ot());var fJ=["#FAAD14","#E8EDF3"],WPt={percent:.2,color:fJ,animation:{}};var VPt=et(ot());function LT(r){var e=(0,VPt.clamp)(Qv(r)?r:0,0,1);return[{current:"".concat(e),type:"current",percent:e},{current:"".concat(e),type:"target",percent:1}]}function cJ(r){var e=r.chart,t=r.options,i=t.percent,n=t.progressStyle,a=t.color,o=t.barWidthRatio;e.data(LT(i));var s=Tt({},r,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:n,color:(0,qPt.isString)(a)?[a,fJ[1]]:a},args:{zIndexReversed:!0,sortZIndex:!0}}});return ua(s),e.tooltip(!1),e.axis(!1),e.legend(!1),r}function gTe(r){var e=r.chart;return e.coordinate("rect").transpose(),r}function C4(r){return or(cJ,Ri({}),gTe,Hr,Lr,_i())(r)}var ZD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="process",t}return e.getDefaultOptions=function(){return WPt},e.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(LT(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return C4},e}(Je);var M4=et(ot());function mTe(r){var e=r.chart,t=r.options,i=t.innerRadius,n=t.radius;return e.coordinate("theta",{innerRadius:i,radius:n}),r}function hJ(r,e){var t=r.chart,i=r.options,n=i.innerRadius,a=i.statistic,o=i.percent,s=i.meta;if(t.getController("annotation").clear(!0),n&&a){var l=(0,M4.get)(s,["percent","formatter"])||function(f){return"".concat((f*100).toFixed(2),"%")},u=a.content;u&&(u=Tt({},u,{content:(0,M4.isNil)(u.content)?l(o):u.content})),U0(t,{statistic:S(S({},a),{content:u}),plotType:"ring-progress"},{percent:o})}return e&&t.render(!0),r}function A4(r){return or(cJ,Ri({}),mTe,hJ,Hr,Lr,_i())(r)}var HPt={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}};var KD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="ring-process",t}return e.getDefaultOptions=function(){return HPt},e.prototype.changeData=function(t){this.chart.emit(ti.BEFORE_CHANGE_DATA,wn.fromData(this.chart,ti.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(LT(t)),hJ({chart:this.chart,options:this.options},!0),this.chart.emit(ti.AFTER_CHANGE_DATA,wn.fromData(this.chart,ti.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return A4},e}(Je);var $Pt=et(ot());var wd=et(ot()),fc=et(XPt());var yTe={exp:fc.regressionExp,linear:fc.regressionLinear,loess:fc.regressionLoess,log:fc.regressionLog,poly:fc.regressionPoly,pow:fc.regressionPow,quad:fc.regressionQuad};function ZPt(r,e){var t=10,i={regionStyle:[{position:{start:[r,"max"],end:["max",e]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[r,e]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",e],end:[r,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[r,e],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",e],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",e],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",e],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return i}var xTe=function(r,e){var t=e.view,i=e.options,n=i.xField,a=i.yField,o=t.getScaleByField(n),s=t.getScaleByField(a),l=r.map(function(u){return t.getCoordinate().convert({x:o.scale(u[0]),y:s.scale(u[1])})});return j$(l,!1)},KPt=function(r){var e=r.options,t=e.xField,i=e.yField,n=e.data,a=e.regressionLine,o=a.type,s=o===void 0?"linear":o,l=a.algorithm,u=a.equation,f,c=null;if(l)f=(0,wd.isArray)(l)?l:l(n),c=u;else{var h=yTe[s]().x(function(d){return d[t]}).y(function(d){return d[i]});f=h(n),c=bTe(s,f)}return[xTe(f,r),c]},QPt=function(r){var e,t=r.meta,i=t===void 0?{}:t,n=r.xField,a=r.yField,o=r.data,s=o[0][n],l=o[0][a],u=s>0,f=l>0;function c(h,d){var v=(0,wd.get)(i,[h]);function p(m){return(0,wd.get)(v,m)}var g={};return d==="x"?((0,wd.isNumber)(s)&&((0,wd.isNumber)(p("min"))||(g.min=u?0:s*2),(0,wd.isNumber)(p("max"))||(g.max=u?s*2:0)),g):((0,wd.isNumber)(l)&&((0,wd.isNumber)(p("min"))||(g.min=f?0:l*2),(0,wd.isNumber)(p("max"))||(g.max=f?l*2:0)),g)}return S(S({},i),(e={},e[n]=S(S({},i[n]),c(n,"x")),e[a]=S(S({},i[a]),c(a,"y")),e))};function bTe(r,e){var t,i,n,a=function(u,f){return f===void 0&&(f=4),Math.round(u*Math.pow(10,f))/Math.pow(10,f)},o=function(u){return Number.isFinite(u)?a(u):"?"};switch(r){case"linear":return"y = ".concat(o(e.a),"x + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"exp":return"y = ".concat(o(e.a),"e^(").concat(o(e.b),"x), R^2 = ").concat(o(e.rSquared));case"log":return"y = ".concat(o(e.a),"ln(x) + ").concat(o(e.b),", R^2 = ").concat(o(e.rSquared));case"quad":return"y = ".concat(o(e.a),"x^2 + ").concat(o(e.b),"x + ").concat(o(e.c),", R^2 = ").concat(o(e.rSquared));case"poly":for(var s="y = ".concat(o((t=e.coefficients)===null||t===void 0?void 0:t[0])," + ").concat(o((i=e.coefficients)===null||i===void 0?void 0:i[1]),"x + ").concat(o((n=e.coefficients)===null||n===void 0?void 0:n[2]),"x^2"),l=3;l<e.coefficients.length;++l)s+=" + ".concat(o(e.coefficients[l]),"x^").concat(l);return"".concat(s,", R^2 = ").concat(o(e.rSquared));case"pow":return"y = ".concat(o(e.a),"x^").concat(o(e.b),", R^2 = ").concat(o(e.rSquared))}return null}function dJ(r){var e=r.data,t=e===void 0?[]:e,i=r.xField,n=r.yField;if(t.length){for(var a=!0,o=!0,s=t[0],l=void 0,u=1;u<t.length&&(l=t[u],s[i]!==l[i]&&(a=!1),s[n]!==l[n]&&(o=!1),!(!a&&!o));u++)s=l;var f=[];a&&f.push(i),o&&f.push(n);var c=wi(QPt(r),f);return Tt({},r,{meta:c})}return r}function wTe(r){var e=r.chart,t=r.options,i=t.data,n=t.type,a=t.color,o=t.shape,s=t.pointStyle,l=t.shapeField,u=t.colorField,f=t.xField,c=t.yField,h=t.sizeField,d=t.size,v=t.tooltip;h&&(d||(d=[2,8]),(0,$Pt.isNumber)(d)&&(d=[d,d])),v&&!v.fields&&(v=S(S({},v),{fields:[f,c,u,h,l]})),e.data(i),Ga(Tt({},r,{options:{seriesField:u,point:{color:a,shape:o,size:d,style:s},tooltip:v}}));var p=la(e,"point");return n&&p.adjust(n),r}function QD(r){var e,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField,s=dJ(t);return or(Ri((e={},e[a]=i,e[o]=n,e)))(Tt({},r,{options:s}))}function _Te(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return e.axis(a,i),e.axis(o,n),r}function STe(r){var e=r.chart,t=r.options,i=t.legend,n=t.colorField,a=t.shapeField,o=t.sizeField,s=t.shapeLegend,l=t.sizeLegend,u=i!==!1;return n&&e.legend(n,u?i:!1),a&&(s?e.legend(a,s):e.legend(a,s===!1?!1:i)),o&&e.legend(o,l||!1),!u&&!s&&!l&&e.legend(!1),r}function CTe(r){var e=r.chart,t=r.options,i=t.label,n=t.yField,a=la(e,"point");if(!i)a.label(!1);else{var o=i.callback,s=Ze(i,["callback"]);a.label({fields:[n],callback:o,cfg:Bn(s)})}return r}function MTe(r){var e=r.options,t=e.quadrant,i=[];if(t){var n=t.xBaseline,a=n===void 0?0:n,o=t.yBaseline,s=o===void 0?0:o,l=t.labels,u=t.regionStyle,f=t.lineStyle,c=ZPt(a,s),h=new Array(4).join(",").split(",");h.forEach(function(d,v){i.push(S(S({type:"region",top:!1},c.regionStyle[v].position),{style:Tt({},c.regionStyle[v].style,u==null?void 0:u[v])}),S({type:"text",top:!0},Tt({},c.labelStyle[v],l==null?void 0:l[v])))}),i.push({type:"line",top:!1,start:["min",s],end:["max",s],style:Tt({},c.lineStyle,f)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:Tt({},c.lineStyle,f)})}return or(_i(i))(r)}function ATe(r){var e=r.options,t=r.chart,i=e.regressionLine;if(i){var n=i.style,a=i.equationStyle,o=a===void 0?{}:a,s=i.top,l=s===void 0?!1:s,u=i.showEquation,f=u===void 0?!1:u,c={stroke:"#9ba29a",lineWidth:2,opacity:.5},h={x:20,y:20,textAlign:"left",textBaseline:"middle",fontSize:14,fillOpacity:.5};t.annotation().shape({top:l,render:function(d,v){var p=d.addGroup({id:"".concat(t.id,"-regression-line"),name:"regression-line-group"}),g=KPt({view:v,options:e}),m=g[0],y=g[1];p.addShape("path",{name:"regression-line",attrs:S(S({path:m},c),n)}),f&&p.addShape("text",{name:"regression-equation",attrs:S(S(S({},h),o),{text:y})})}})}return r}function ETe(r){var e=r.chart,t=r.options,i=t.tooltip;return i?e.tooltip(i):i===!1&&e.tooltip(!1),r}function T4(r){return or(wTe,QD,_Te,STe,ETe,CTe,n4,Ug,xT,bi,MTe,Hr,Lr,ATe)(r)}var JPt=Tt({},Je.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});Vr("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var $D=function(r){G(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.type="scatter",n.on(ti.BEFORE_RENDER,function(a){var o,s,l=n,u=l.options,f=l.chart;if(((o=a.data)===null||o===void 0?void 0:o.source)===jl.FILTER){var c=n.chart.filterData(n.chart.getData());QD({chart:f,options:S(S({},u),{data:c})})}((s=a.data)===null||s===void 0?void 0:s.source)===jl.RESET&&QD({chart:f,options:u})}),n}return e.getDefaultOptions=function(){return JPt},e.prototype.changeData=function(t){this.updateOption(dJ(Tt({},this.options,{data:t})));var i=this,n=i.options,a=i.chart;QD({chart:a,options:n}),this.chart.changeData(t)},e.prototype.getSchemaAdaptor=function(){return T4},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Je);var HC="$$stock-range$$",OT="trend",I4="up",L4="down",TTe={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(r,e,t){var i;if(r==="x"){var n=t[0];i=n?n.title:e}else i=e;return{position:r==="y"?"start":"end",content:i,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},tDt=Tt({},Je.getDefaultOptions(),{tooltip:TTe,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});var O4=et(ot());function k4(r,e){return(0,O4.map)(r,function(t){var i=t&&S({},t);if((0,O4.isArray)(e)&&i){var n=e[0],a=e[1],o=e[2],s=e[3];i[OT]=i[n]<=i[a]?I4:L4,i[HC]=[i[n],i[a],i[o],i[s]]}return i})}function ITe(r){var e=r.chart,t=r.options,i=t.yField,n=t.data,a=t.risingFill,o=t.fallingFill,s=t.tooltip,l=t.stockStyle;e.data(k4(n,i));var u=s;return u!==!1&&(u=Tt({},{fields:i},u)),lw(Tt({},r,{options:{schema:{shape:"candle",color:[a,o],style:l},yField:HC,seriesField:OT,rawFields:i,tooltip:u}})),r}function LTe(r){var e,t,i=r.chart,n=r.options,a=n.meta,o=n.xAxis,s=n.yAxis,l=n.xField,u=(e={},e[l]={type:"timeCat",tickCount:6},e[OT]={values:[I4,L4]},e),f=Tt(u,a,(t={},t[l]=wi(o,ns),t[HC]=wi(s,ns),t));return i.scale(f),r}function OTe(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField;return i===!1?e.axis(a,!1):e.axis(a,i),n===!1?e.axis(HC,!1):e.axis(HC,n),r}function kTe(r){var e=r.chart,t=r.options,i=t.tooltip;return i!==!1?e.tooltip(i):e.tooltip(!1),r}function PTe(r){var e=r.chart,t=r.options,i=t.legend;return i?e.legend(OT,i):i===!1&&e.legend(!1),r}function P4(r){or(Lr,ITe,LTe,OTe,kTe,PTe,bi,Hr,_i(),Ug)(r)}var JD=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="stock",t}return e.getDefaultOptions=function(){return tDt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return P4},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this.options.yField;this.chart.changeData(k4(t,i))},e}(Je);var eDt=et(ot());function sh(r){return(0,eDt.map)(r||[],function(e,t){return{x:"".concat(t),y:e}})}var rDt=et(ot()),mw="x",Q0="y",vJ={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(r,e){return"".concat((0,rDt.get)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},iDt={appendPadding:2,tooltip:S({},vJ),animation:{}};function DTe(r){var e=r.chart,t=r.options,i=t.data,n=t.color,a=t.areaStyle,o=t.point,s=t.line,l=o==null?void 0:o.state,u=sh(i);e.data(u);var f=Tt({},r,{options:{xField:mw,yField:Q0,area:{color:n,style:a},line:s,point:o}}),c=Tt({},f,{options:{tooltip:!1}}),h=Tt({},f,{options:{tooltip:!1,state:l}});return Xg(f),lc(c),Ga(h),e.axis(!1),e.legend(!1),r}function rp(r){var e,t,i=r.options,n=i.xAxis,a=i.yAxis,o=i.data,s=sh(o);return or(Ri((e={},e[mw]=n,e[Q0]=a,e),(t={},t[mw]={type:"cat"},t[Q0]=fT(s,Q0),t)))(r)}function D4(r){return or(Qa("areaStyle"),DTe,rp,tn,Lr,Hr,_i())(r)}var nDt={appendPadding:2,tooltip:S({},vJ),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}};var tF=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tiny-area",t}return e.getDefaultOptions=function(){return nDt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this,n=i.chart,a=i.options;rp({chart:n,options:a}),n.changeData(sh(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return D4},e}(Je);function FTe(r){var e=r.chart,t=r.options,i=t.data,n=t.color,a=t.columnStyle,o=t.columnWidthRatio,s=sh(i);e.data(s);var l=Tt({},r,{options:{xField:mw,yField:Q0,widthRatio:o,interval:{style:a,color:n}}});return ua(l),e.axis(!1),e.legend(!1),e.interaction("element-active"),r}function F4(r){return or(Lr,Qa("columnStyle"),FTe,rp,tn,Hr,_i())(r)}var aDt=et(ot()),NTe={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(r,e){return"".concat((0,aDt.get)(e,[0,"data","y"],0))},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},oDt={appendPadding:2,tooltip:S({},NTe),animation:{}};var eF=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tiny-column",t}return e.getDefaultOptions=function(){return oDt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this,n=i.chart,a=i.options;rp({chart:n,options:a}),n.changeData(sh(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return F4},e}(Je);function BTe(r){var e=r.chart,t=r.options,i=t.data,n=t.color,a=t.lineStyle,o=t.point,s=o==null?void 0:o.state,l=sh(i);e.data(l);var u=Tt({},r,{options:{xField:mw,yField:Q0,line:{color:n,style:a},point:o}}),f=Tt({},u,{options:{tooltip:!1,state:s}});return lc(u),Ga(f),e.axis(!1),e.legend(!1),r}function N4(r){return or(BTe,rp,Lr,tn,Hr,_i())(r)}var rF=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="tiny-line",t}return e.getDefaultOptions=function(){return iDt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this,n=i.chart,a=i.options;rp({chart:n,options:a}),n.changeData(sh(t))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return N4},e}(Je);var RTe={line:e4,pie:S4,column:pw,bar:s4,area:i4,gauge:x4,"tiny-line":N4,"tiny-column":F4,"tiny-area":D4,"ring-progress":A4,progress:C4,scatter:T4,histogram:w4,funnel:f4,stock:P4},GTe={line:HD,pie:XD,column:GD,bar:RD,area:BD,gauge:WD,"tiny-line":rF,"tiny-column":eF,"tiny-area":tF,"ring-progress":KD,progress:ZD,scatter:$D,histogram:qD,funnel:jD,stock:JD},zTe={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function iF(r,e,t){var i=GTe[r];if(!i){console.error("could not find ".concat(r," plot"));return}var n=RTe[r];n({chart:e,options:Tt({},i.getDefaultOptions(),(0,sDt.get)(zTe,r,{}),t)})}function jTe(r){var e=r.chart,t=r.options,i=t.views,n=t.legend;return(0,Jg.each)(i,function(a){var o=a.region,s=a.data,l=a.meta,u=a.axes,f=a.coordinate,c=a.interactions,h=a.annotations,d=a.tooltip,v=a.geometries,p=e.createView({region:o});p.data(s);var g={};u&&(0,Jg.each)(u,function(m,y){g[y]=wi(m,ns)}),g=Tt({},l,g),p.scale(g),u?(0,Jg.each)(u,function(m,y){p.axis(y,m)}):p.axis(!1),p.coordinate(f),(0,Jg.each)(v,function(m){var y=Ra({chart:p,options:m}).ext,x=m.adjust;x&&y.geometry.adjust(x)}),(0,Jg.each)(c,function(m){m.enable===!1?p.removeInteraction(m.type):p.interaction(m.type,m.cfg)}),(0,Jg.each)(h,function(m){p.annotation()[m.type](S({},m))}),typeof a.animation=="boolean"?p.animate(!1):(p.animate(!0),(0,Jg.each)(p.geometries,function(m){m.animate(a.animation)})),d&&(p.interaction("tooltip"),p.tooltip(d))}),n?(0,Jg.each)(n,function(a,o){e.legend(o,a)}):e.legend(!1),e.tooltip(t.tooltip),r}function YTe(r){var e=r.chart,t=r.options,i=t.plots,n=t.data,a=n===void 0?[]:n;return(0,Jg.each)(i,function(o){var s=o.type,l=o.region,u=o.options,f=u===void 0?{}:u,c=o.top,h=f.tooltip;if(c){iF(s,e,S(S({},f),{data:a}));return}var d=e.createView(S({region:l},wi(f,K$)));h&&d.interaction("tooltip"),iF(s,d,S({data:a},f))}),r}function WTe(r){var e=r.chart,t=r.options;return e.option("slider",t.slider),r}function lDt(r){return or(Hr,jTe,YTe,bi,Hr,Lr,tn,WTe,_i())(r)}var lf=et(ot());var B4=et(ot());function uDt(r,e){var t=r.getModel(),i=t.data,n;return(0,B4.isArray)(i)?n=i[0][e]:n=i[e],n}function fDt(r){var e=hT(r);(0,B4.each)(e,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}var VTe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getAssociationItems=function(t,i){var n,a=this.context.event,o=i||{},s=o.linkField,l=o.dim,u=[];if((n=a.data)===null||n===void 0?void 0:n.data){var f=a.data.data;(0,lf.each)(t,function(c){var h,d,v=s;if(l==="x"?v=c.getXScale().field:l==="y"?v=(h=c.getYScales().find(function(g){return g.field===v}))===null||h===void 0?void 0:h.field:v||(v=(d=c.getGroupScales()[0])===null||d===void 0?void 0:d.field),!!v){var p=(0,lf.map)(hT(c),function(g){var m=!1,y=!1,x=(0,lf.isArray)(f)?(0,lf.get)(f[0],v):(0,lf.get)(f,v);return uDt(g,v)===x?m=!0:y=!0,{element:g,view:c,active:m,inactive:y}});u.push.apply(u,p)}})}return u},e.prototype.showTooltip=function(t){var i=Gj(this.context.view),n=this.getAssociationItems(i,t);(0,lf.each)(n,function(a){if(a.active){var o=a.element.shape.getCanvasBBox();a.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},e.prototype.hideTooltip=function(){var t=Gj(this.context.view);(0,lf.each)(t,function(i){i.hideTooltip()})},e.prototype.active=function(t){var i=BC(this.context.view),n=this.getAssociationItems(i,t);(0,lf.each)(n,function(a){var o=a.active,s=a.element;o&&s.setState("active",!0)})},e.prototype.selected=function(t){var i=BC(this.context.view),n=this.getAssociationItems(i,t);(0,lf.each)(n,function(a){var o=a.active,s=a.element;o&&s.setState("selected",!0)})},e.prototype.highlight=function(t){var i=BC(this.context.view),n=this.getAssociationItems(i,t);(0,lf.each)(n,function(a){var o=a.inactive,s=a.element;o&&s.setState("inactive",!0)})},e.prototype.reset=function(){var t=BC(this.context.view);(0,lf.each)(t,function(i){fDt(i)})},e}(Qr);br("association",VTe);Vr("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});Vr("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});Vr("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]});Vr("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var kT=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="mix",t}return e.prototype.getSchemaAdaptor=function(){return lDt},e}(Je);var PT;(function(r){r.DEV="DEV",r.BETA="BETA",r.STABLE="STABLE"})(PT||(PT={}));function qTe(r,e){console.warn(r===PT.DEV?"Plot '".concat(e,"' is in DEV stage, just give us issues."):r===PT.BETA?"Plot '".concat(e,"' is in BETA stage, DO NOT use it in production env."):r===PT.STABLE?"Plot '".concat(e,`' is in STABLE stage, import it by "import { `).concat(e,` } from '@antv/g2plot'".`):"invalid Stage type.")}var HTe=function(){function r(){}return Object.defineProperty(r,"MultiView",{get:function(){return qTe(PT.STABLE,"MultiView"),kT},enumerable:!1,configurable:!0}),r}();var nF=et(ot());var _d="first-axes-view",Sd="second-axes-view",$0="series-field-key";var cDt=et(ot());function R4(r,e,t,i,n){var a=[];e.forEach(function(c){i.forEach(function(h){var d,v=(d={},d[r]=h[r],d[t]=c,d[c]=h[c],d);a.push(v)})});var o=Object.values((0,cDt.groupBy)(a,t)),s=o[0],l=s===void 0?[]:s,u=o[1],f=u===void 0?[]:u;return n?[l.reverse(),f.reverse()]:[l,f]}function ip(r){return r!=="vertical"}function hDt(r,e,t){var i=e[0],n=e[1],a=i.autoPadding,o=n.autoPadding,s=r.__axisPosition,l=s.layout,u=s.position;if(ip(l)&&u==="top"&&(i.autoPadding=t.instance(a.top,0,a.bottom,a.left),n.autoPadding=t.instance(o.top,a.left,o.bottom,0)),ip(l)&&u==="bottom"&&(i.autoPadding=t.instance(a.top,a.right/2+5,a.bottom,a.left),n.autoPadding=t.instance(o.top,o.right,o.bottom,a.right/2+5)),!ip(l)&&u==="bottom"){var f=a.left>=o.left?a.left:o.left;i.autoPadding=t.instance(a.top,a.right,a.bottom/2+5,f),n.autoPadding=t.instance(a.bottom/2+5,o.right,o.bottom,f)}if(!ip(l)&&u==="top"){var f=a.left>=o.left?a.left:o.left;i.autoPadding=t.instance(a.top,a.right,0,f),n.autoPadding=t.instance(0,o.right,a.top,f)}}function UTe(r){var e=r.chart,t=r.options,i=t.data,n=t.xField,a=t.yField,o=t.color,s=t.barStyle,l=t.widthRatio,u=t.legend,f=t.layout,c=R4(n,a,$0,i,ip(f));u?e.legend($0,u):u===!1&&e.legend(!1);var h,d,v=c[0],p=c[1];ip(f)?(h=e.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:_d}),h.coordinate().transpose().reflect("x"),d=e.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Sd}),d.coordinate().transpose(),h.data(v),d.data(p)):(h=e.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:_d}),d=e.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Sd}),d.coordinate().reflect("y"),h.data(v),d.data(p));var g=Tt({},r,{chart:h,options:{widthRatio:l,xField:n,yField:a[0],seriesField:$0,interval:{color:o,style:s}}});ua(g);var m=Tt({},r,{chart:d,options:{xField:n,yField:a[1],seriesField:$0,widthRatio:l,interval:{color:o,style:s}}});return ua(m),r}function XTe(r){var e,t,i,n=r.options,a=r.chart,o=n.xAxis,s=n.yAxis,l=n.xField,u=n.yField,f=xi(a,_d),c=xi(a,Sd),h={};return(0,nF.keys)((n==null?void 0:n.meta)||{}).map(function(d){(0,nF.get)(n==null?void 0:n.meta,[d,"alias"])&&(h[d]=n.meta[d].alias)}),a.scale((e={},e[$0]={sync:!0,formatter:function(d){return(0,nF.get)(h,d,d)}},e)),Ri((t={},t[l]=o,t[u[0]]=s[u[0]],t))(Tt({},r,{chart:f})),Ri((i={},i[l]=o,i[u[1]]=s[u[1]],i))(Tt({},r,{chart:c})),r}function ZTe(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField,s=t.layout,l=xi(e,_d),u=xi(e,Sd);return(i==null?void 0:i.position)==="bottom"?u.axis(a,S(S({},i),{label:{formatter:function(){return""}}})):u.axis(a,!1),i===!1?l.axis(a,!1):l.axis(a,S({position:ip(s)?"top":"bottom"},i)),n===!1?(l.axis(o[0],!1),u.axis(o[1],!1)):(l.axis(o[0],n[o[0]]),u.axis(o[1],n[o[1]])),e.__axisPosition={position:l.getOptions().axes[a].position,layout:s},r}function KTe(r){var e=r.chart;return bi(Tt({},r,{chart:xi(e,_d)})),bi(Tt({},r,{chart:xi(e,Sd)})),r}function QTe(r){var e=r.chart,t=r.options,i=t.yField,n=t.yAxis;return xd(Tt({},r,{chart:xi(e,_d),options:{yAxis:n[i[0]]}})),xd(Tt({},r,{chart:xi(e,Sd),options:{yAxis:n[i[1]]}})),r}function $Te(r){var e=r.chart;return Lr(Tt({},r,{chart:xi(e,_d)})),Lr(Tt({},r,{chart:xi(e,Sd)})),Lr(r),r}function JTe(r){var e=r.chart;return Hr(Tt({},r,{chart:xi(e,_d)})),Hr(Tt({},r,{chart:xi(e,Sd)})),r}function tIe(r){var e=this,t,i,n=r.chart,a=r.options,o=a.label,s=a.yField,l=a.layout,u=xi(n,_d),f=xi(n,Sd),c=la(u,"interval"),h=la(f,"interval");if(!o)c.label(!1),h.label(!1);else{var d=o.callback,v=Ze(o,["callback"]);v.position||(v.position="middle"),v.offset===void 0&&(v.offset=2);var p=S({},v);if(ip(l)){var g=((t=p.style)===null||t===void 0?void 0:t.textAlign)||(v.position==="middle"?"center":"left");v.style=Tt({},v.style,{textAlign:g});var m={left:"right",right:"left",center:"center"};p.style=Tt({},p.style,{textAlign:m[g]})}else{var y={top:"bottom",bottom:"top",middle:"middle"};typeof v.position=="string"?v.position=y[v.position]:typeof v.position=="function"&&(v.position=function(){for(var _=[],M=0;M<arguments.length;M++)_[M]=arguments[M];return y[v.position.apply(e,_)]});var x=((i=p.style)===null||i===void 0?void 0:i.textBaseline)||"bottom";p.style=Tt({},p.style,{textBaseline:x});var b={top:"bottom",bottom:"top",middle:"middle"};v.style=Tt({},v.style,{textBaseline:b[x]})}c.label({fields:[s[0]],callback:d,cfg:Bn(p)}),h.label({fields:[s[1]],callback:d,cfg:Bn(v)})}return r}function dDt(r){return or(UTe,XTe,ZTe,QTe,$Te,tIe,tn,KTe,JTe)(r)}var pJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bidirectional-bar",t}return e.getDefaultOptions=function(){return Tt({},r.getDefaultOptions.call(this),{syncViewPadding:hDt})},e.prototype.changeData=function(t){t===void 0&&(t=[]),this.chart.emit(ti.BEFORE_CHANGE_DATA,wn.fromData(this.chart,ti.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var i=this.options,n=i.xField,a=i.yField,o=i.layout,s=R4(n,a,$0,t,ip(o)),l=s[0],u=s[1],f=xi(this.chart,_d),c=xi(this.chart,Sd);f.data(l),c.data(u),this.chart.render(!0),this.chart.emit(ti.AFTER_CHANGE_DATA,wn.fromData(this.chart,ti.AFTER_CHANGE_DATA,null))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return dDt},e.SERIES_FIELD_KEY=$0,e}(Je);var j4=et(ot());var gJ,yw="$$range$$",eIe="low-q1-median-q3-high",vDt="$$y_outliers$$",G4="outliers_view",pDt=Tt({},Je.getDefaultOptions(),{meta:(gJ={},gJ[yw]={min:0,alias:eIe},gJ),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}});var gDt=et(ot());var z4=function(r,e){var t=r;if(Array.isArray(e)){var i=e[0],n=e[1],a=e[2],o=e[3],s=e[4];t=(0,gDt.map)(r,function(l){return l[yw]=[l[i],l[n],l[a],l[o],l[s]],l})}return t};function rIe(r){var e=r.chart,t=r.options,i=t.xField,n=t.yField,a=t.groupField,o=t.color,s=t.tooltip,l=t.boxStyle;e.data(z4(t.data,n));var u=(0,j4.isArray)(n)?yw:n,f=n?(0,j4.isArray)(n)?n:[n]:[],c=s;c!==!1&&(c=Tt({},{fields:(0,j4.isArray)(n)?n:[]},c));var h=lw(Tt({},r,{options:{xField:i,yField:u,seriesField:a,tooltip:c,rawFields:f,label:!1,schema:{shape:"box",color:o,style:l}}})).ext;return a&&h.geometry.adjust("dodge"),r}function iIe(r){var e=r.chart,t=r.options,i=t.xField,n=t.data,a=t.outliersField,o=t.outliersStyle,s=t.padding,l=t.label;if(!a)return r;var u=e.createView({padding:s,id:G4}),f=n.reduce(function(c,h){var d=h[a];return d.forEach(function(v){var p;return c.push(S(S({},h),(p={},p[a]=v,p)))}),c},[]);return u.data(f),Ga({chart:u,options:{xField:i,yField:a,point:{shape:"circle",style:o},label:l}}),u.axis(!1),r}function nIe(r){var e,t,i=r.chart,n=r.options,a=n.meta,o=n.xAxis,s=n.yAxis,l=n.xField,u=n.yField,f=n.outliersField,c=Array.isArray(u)?yw:u,h={};if(f){var d=vDt;h=(e={},e[f]={sync:d,nice:!0},e[c]={sync:d,nice:!0},e)}var v=Tt(h,a,(t={},t[l]=wi(o,ns),t[c]=wi(s,ns),t));return i.scale(v),r}function aIe(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField,s=Array.isArray(o)?yw:o;return i===!1?e.axis(a,!1):e.axis(a,i),n===!1?e.axis(yw,!1):e.axis(s,n),r}function oIe(r){var e=r.chart,t=r.options,i=t.legend,n=t.groupField;return n?i?e.legend(n,i):e.legend(n,{position:"bottom"}):e.legend(!1),r}function mDt(r){return or(rIe,iIe,nIe,aIe,oIe,tn,_i(),bi,Hr,Lr)(r)}var mJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="box",t}return e.getDefaultOptions=function(){return pDt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=this.options.yField,n=this.chart.views.find(function(a){return a.id===G4});n&&n.data(t),this.chart.changeData(z4(t,i))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return mDt},e}(Je);var Ds=et(ot());function yDt(r,e,t){return r.length>1?"".concat(e,"_").concat(t):"".concat(e)}function Y4(r){var e=r.data,t=r.xField,i=r.measureField,n=r.rangeField,a=r.targetField,o=r.layout,s=[],l=[];e.forEach(function(c,h){var d=[c[n]].flat();d.sort(function(g,m){return g-m}),d.forEach(function(g,m){var y,x=m===0?g:d[m]-d[m-1];s.push((y={rKey:"".concat(n,"_").concat(m)},y[t]=t?c[t]:String(h),y[n]=x,y))});var v=[c[i]].flat();v.forEach(function(g,m){var y;s.push((y={mKey:yDt(v,i,m)},y[t]=t?c[t]:String(h),y[i]=g,y))});var p=[c[a]].flat();p.forEach(function(g,m){var y;s.push((y={tKey:yDt(p,a,m)},y[t]=t?c[t]:String(h),y[a]=g,y))}),l.push(c[n],c[i],c[a])});var u=Math.min.apply(Math,l.flat(1/0)),f=Math.max.apply(Math,l.flat(1/0));return u=u>0?0:u,o==="vertical"&&s.reverse(),{min:u,max:f,ds:s}}function sIe(r){var e=r.chart,t=r.options,i=t.bulletStyle,n=t.targetField,a=t.rangeField,o=t.measureField,s=t.xField,l=t.color,u=t.layout,f=t.size,c=t.label,h=Y4(t),d=h.min,v=h.max,p=h.ds;e.data(p);var g=Tt({},r,{options:{xField:s,yField:a,seriesField:"rKey",isStack:!0,label:(0,Ds.get)(c,"range"),interval:{color:(0,Ds.get)(l,"range"),style:(0,Ds.get)(i,"range"),size:(0,Ds.get)(f,"range")}}});ua(g),e.geometries[0].tooltip(!1);var m=Tt({},r,{options:{xField:s,yField:o,seriesField:"mKey",isStack:!0,label:(0,Ds.get)(c,"measure"),interval:{color:(0,Ds.get)(l,"measure"),style:(0,Ds.get)(i,"measure"),size:(0,Ds.get)(f,"measure")}}});ua(m);var y=Tt({},r,{options:{xField:s,yField:n,seriesField:"tKey",label:(0,Ds.get)(c,"target"),point:{color:(0,Ds.get)(l,"target"),style:(0,Ds.get)(i,"target"),size:(0,Ds.isFunction)((0,Ds.get)(f,"target"))?function(x){return(0,Ds.get)(f,"target")(x)/2}:(0,Ds.get)(f,"target")/2,shape:u==="horizontal"?"line":"hyphen"}}});return Ga(y),u==="horizontal"&&e.coordinate().transpose(),S(S({},r),{ext:{data:{min:d,max:v}}})}function yJ(r){var e,t,i=r.options,n=r.ext,a=i.xAxis,o=i.yAxis,s=i.targetField,l=i.rangeField,u=i.measureField,f=i.xField,c=n.data;return or(Ri((e={},e[f]=a,e[u]=o,e),(t={},t[u]={min:c==null?void 0:c.min,max:c==null?void 0:c.max,sync:!0},t[s]={sync:"".concat(u)},t[l]={sync:"".concat(u)},t)))(r)}function lIe(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.measureField,s=t.rangeField,l=t.targetField;return e.axis("".concat(s),!1),e.axis("".concat(l),!1),i===!1?e.axis("".concat(a),!1):e.axis("".concat(a),i),n===!1?e.axis("".concat(o),!1):e.axis("".concat(o),n),r}function uIe(r){var e=r.chart,t=r.options,i=t.legend;return e.removeInteraction("legend-filter"),e.legend(i),e.legend("rKey",!1),e.legend("mKey",!1),e.legend("tKey",!1),r}function fIe(r){var e=r.chart,t=r.options,i=t.label,n=t.measureField,a=t.targetField,o=t.rangeField,s=e.geometries,l=s[0],u=s[1],f=s[2];return(0,Ds.get)(i,"range")?l.label("".concat(o),S({layout:[{type:"limit-in-plot"}]},Bn(i.range))):l.label(!1),(0,Ds.get)(i,"measure")?u.label("".concat(n),S({layout:[{type:"limit-in-plot"}]},Bn(i.measure))):u.label(!1),(0,Ds.get)(i,"target")?f.label("".concat(a),S({layout:[{type:"limit-in-plot"}]},Bn(i.target))):f.label(!1),r}function xDt(r){or(sIe,yJ,lIe,uIe,Lr,fIe,tn,bi,Hr)(r)}var bDt=Tt({},Je.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}});var xJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="bullet",t}return e.getDefaultOptions=function(){return bDt},e.prototype.changeData=function(t){this.updateOption({data:t});var i=Y4(this.options),n=i.min,a=i.max,o=i.ds;yJ({options:this.options,ext:{data:{min:n,max:a}},chart:this.chart}),this.chart.changeData(o)},e.prototype.getSchemaAdaptor=function(){return xDt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Je);var UC=et(ot()),cIe={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(r){return r.id},source:function(r){return r.source},target:function(r){return r.target},sourceWeight:function(r){return r.value||1},targetWeight:function(r){return r.value||1},sortBy:null};function hIe(r,e,t){(0,UC.forIn)(r,function(i,n){i.inEdges=e.filter(function(a){return"".concat(t.target(a))==="".concat(n)}),i.outEdges=e.filter(function(a){return"".concat(t.source(a))==="".concat(n)}),i.edges=i.outEdges.concat(i.inEdges),i.frequency=i.edges.length,i.value=0,i.inEdges.forEach(function(a){i.value+=t.targetWeight(a)}),i.outEdges.forEach(function(a){i.value+=t.sourceWeight(a)})})}function dIe(r,e){var t={weight:function(n,a){return a.value-n.value},frequency:function(n,a){return a.frequency-n.frequency},id:function(n,a){return"".concat(e.id(n)).localeCompare("".concat(e.id(a)))}},i=t[e.sortBy];!i&&(0,UC.isFunction)(e.sortBy)&&(i=e.sortBy),i&&r.sort(i)}function vIe(r,e){var t=r.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(e.weight){var i=e.nodePaddingRatio;if(i<0||i>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var n=i/(2*t),a=e.nodeWidthRatio;if(a<=0||a>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;r.forEach(function(l){o+=l.value}),r.forEach(function(l){l.weight=l.value/o,l.width=l.weight*(1-i),l.height=a}),r.forEach(function(l,u){for(var f=0,c=u-1;c>=0;c--)f+=r[c].width+2*n;var h=l.minX=n+f,d=l.maxX=l.minX+l.width,v=l.minY=e.y-a/2,p=l.maxY=v+a;l.x=[h,d,d,h],l.y=[v,v,p,p]})}else{var s=1/t;r.forEach(function(l,u){l.x=(u+.5)*s,l.y=e.y})}return r}function pIe(r,e,t){if(t.weight){var i={};(0,UC.forIn)(r,function(n,a){i[a]=n.value}),e.forEach(function(n){var a=t.source(n),o=t.target(n),s=r[a],l=r[o];if(s&&l){var u=i[a],f=t.sourceWeight(n),c=s.minX+(s.value-u)/s.value*s.width,h=c+f/s.value*s.width;i[a]-=f;var d=i[o],v=t.targetWeight(n),p=l.minX+(l.value-d)/l.value*l.width,g=p+v/l.value*l.width;i[o]-=v;var m=t.y;n.x=[c,h,p,g],n.y=[m,m,m,m],n.source=s,n.target=l}})}else e.forEach(function(n){var a=r[t.source(n)],o=r[t.target(n)];a&&o&&(n.x=[a.x,o.x],n.y=[a.y,o.y],n.source=a,n.target=o)});return e}function gIe(r){return(0,UC.assign)({},cIe,r)}function wDt(r,e){var t=gIe(r),i={},n=e.nodes,a=e.links;n.forEach(function(l){var u=t.id(l);i[u]=l}),hIe(i,a,t),dIe(n,t);var o=vIe(n,t),s=pIe(i,a,t);return{nodes:o,links:s}}var _Dt=et(ot()),bJ="x",wJ="y",_J="name",SJ="source",SDt={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(r,e){var t=(r[0]+r[1])/2,i=t>.5?-4:4;return{offsetX:i,content:e}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(r){return!(0,_Dt.get)(r,[0,"data","isNode"])},formatter:function(r){var e=r.source,t=r.target,i=r.value;return{name:"".concat(e," -> ").concat(t),value:i}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function mIe(r){var e=r.options,t=e.data,i=e.sourceField,n=e.targetField,a=e.weightField,o=e.nodePaddingRatio,s=e.nodeWidthRatio,l=e.rawFields,u=l===void 0?[]:l,f=Fj(t,i,n,a),c=wDt({weight:!0,nodePaddingRatio:o,nodeWidthRatio:s},f),h=c.nodes,d=c.links,v=h.map(function(g){return S(S({},wi(g,ne(["id","x","y","name"],u,!0))),{isNode:!0})}),p=d.map(function(g){return S(S({source:g.source.name,target:g.target.name,name:g.source.name||g.target.name},wi(g,ne(["x","y","value"],u,!0))),{isNode:!1})});return S(S({},r),{ext:S(S({},r.ext),{chordData:{nodesData:v,edgesData:p}})})}function yIe(r){var e,t=r.chart;return t.scale((e={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},e[_J]={sync:"color"},e[SJ]={sync:"color"},e)),r}function xIe(r){var e=r.chart;return e.axis(!1),r}function bIe(r){var e=r.chart;return e.legend(!1),r}function wIe(r){var e=r.chart,t=r.options,i=t.tooltip;return e.tooltip(i),r}function _Ie(r){var e=r.chart;return e.coordinate("polar").reflect("y"),r}function SIe(r){var e=r.chart,t=r.options,i=r.ext.chordData.nodesData,n=t.nodeStyle,a=t.label,o=t.tooltip,s=e.createView();return s.data(i),Zg({chart:s,options:{xField:bJ,yField:wJ,seriesField:_J,polygon:{style:n},label:a,tooltip:o}}),r}function CIe(r){var e=r.chart,t=r.options,i=r.ext.chordData.edgesData,n=t.edgeStyle,a=t.tooltip,o=e.createView();o.data(i);var s={xField:bJ,yField:wJ,seriesField:SJ,edge:{style:n,shape:"arc"},tooltip:a};return ND({chart:o,options:s}),r}function MIe(r){var e=r.chart,t=r.options,i=t.animation;return Jv(e,i,Wkt(e)),r}function CDt(r){return or(Lr,mIe,_Ie,yIe,xIe,bIe,wIe,CIe,SIe,bi,Su,MIe)(r)}var CJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="chord",t}return e.getDefaultOptions=function(){return SDt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return CDt},e}(Je);var BT=et(ot());var MDt=["x","y","r","name","value","path","depth"],ADt={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};var Cd=et(ot());var EDt=4,AIe=0,TDt=5,IDt="drilldown-bread-crumb",EIe={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},xw="hierarchy-data-transform-params",LDt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=EIe,t}return e.prototype.click=function(){var t=(0,Cd.get)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},e.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var t=this.context.view.getCoordinate(),i=this.breadCrumbGroup,n=i.getBBox(),a=this.getButtonCfg().position,o={x:t.start.x,y:t.end.y-(n.height+TDt*2)};t.isPolar&&(o={x:0,y:0}),a==="bottom-left"&&(o={x:t.start.x,y:t.start.y});var s=uo.transform(null,[["t",o.x+AIe,o.y+n.height+TDt]]);i.setMatrix(s)}},e.prototype.back=function(){(0,Cd.size)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},e.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},e.prototype.drill=function(t){var i=this.context.view,n=(0,Cd.get)(i,["interactions","drill-down","cfg","transformData"],function(u){return u}),a=n(S({data:t.data},t[xw]));i.changeData(a);for(var o=[],s=t;s;){var l=s.data;o.unshift({id:"".concat(l.name,"_").concat(s.height,"_").concat(s.depth),name:l.name,children:n(S({data:l},t[xw]))}),s=s.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},e.prototype.backTo=function(t){if(!(!t||t.length<=0)){var i=this.context.view,n=(0,Cd.last)(t).children;i.changeData(n),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},e.prototype.getButtonCfg=function(){var t=this.context.view,i=(0,Cd.get)(t,["interactions","drill-down","cfg","drillDownConfig"]);return Tt(this.breadCrumbCfg,i==null?void 0:i.breadCrumb,this.cfg)},e.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},e.prototype.drawBreadCrumbGroup=function(){var t=this,i=this.getButtonCfg(),n=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:IDt});var a=0;n.forEach(function(o,s){var l=t.breadCrumbGroup.addShape({type:"text",id:o.id,name:"".concat(IDt,"_").concat(o.name,"_text"),attrs:S(S({text:s===0&&!(0,Cd.isNil)(i.rootText)?i.rootText:o.name},i.textStyle),{x:a,y:0})}),u=l.getBBox();if(a+=u.width+EDt,l.on("click",function(h){var d,v=h.target.get("id");if(v!==((d=(0,Cd.last)(n))===null||d===void 0?void 0:d.id)){var p=n.slice(0,n.findIndex(function(g){return g.id===v})+1);t.backTo(p)}}),l.on("mouseenter",function(h){var d,v=h.target.get("id");v!==((d=(0,Cd.last)(n))===null||d===void 0?void 0:d.id)?l.attr(i.activeTextStyle):l.attr({cursor:"default"})}),l.on("mouseleave",function(){l.attr(i.textStyle)}),s<n.length-1){var f=t.breadCrumbGroup.addShape({type:"text",name:"".concat(i.name,"_").concat(o.name,"_divider"),attrs:S(S({text:i.dividerText},i.textStyle),{x:a,y:0})}),c=f.getBBox();a+=c.width+EDt}})},e.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},e.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),r.prototype.destroy.call(this)},e}(Qr);var $4=et(ot());var Q4={};ai(Q4,{cluster:()=>ODt,hierarchy:()=>tm,pack:()=>H4,packEnclose:()=>W4,packSiblings:()=>$Dt,partition:()=>X4,stratify:()=>iFt,tree:()=>nFt,treemap:()=>PJ,treemapBinary:()=>aFt,treemapDice:()=>em,treemapResquarify:()=>sFt,treemapSlice:()=>_w,treemapSliceDice:()=>oFt,treemapSquarify:()=>K4});function TIe(r,e){return r.parent===e.parent?1:2}function IIe(r){return r.reduce(LIe,0)/r.length}function LIe(r,e){return r+e.x}function OIe(r){return 1+r.reduce(kIe,0)}function kIe(r,e){return Math.max(r,e.y)}function PIe(r){for(var e;e=r.children;)r=e[0];return r}function DIe(r){for(var e;e=r.children;)r=e[e.length-1];return r}function ODt(){var r=TIe,e=1,t=1,i=!1;function n(a){var o,s=0;a.eachAfter(function(h){var d=h.children;d?(h.x=IIe(d),h.y=OIe(d)):(h.x=o?s+=r(h,o):0,h.y=0,o=h)});var l=PIe(a),u=DIe(a),f=l.x-r(l,u)/2,c=u.x+r(u,l)/2;return a.eachAfter(i?function(h){h.x=(h.x-a.x)*e,h.y=(a.y-h.y)*t}:function(h){h.x=(h.x-f)/(c-f)*e,h.y=(1-(a.y?h.y/a.y:1))*t})}return n.separation=function(a){return arguments.length?(r=a,n):r},n.size=function(a){return arguments.length?(i=!1,e=+a[0],t=+a[1],n):i?null:[e,t]},n.nodeSize=function(a){return arguments.length?(i=!0,e=+a[0],t=+a[1],n):i?[e,t]:null},n}function FIe(r){var e=0,t=r.children,i=t&&t.length;if(!i)e=1;else for(;--i>=0;)e+=t[i].value;r.value=e}function kDt(){return this.eachAfter(FIe)}function PDt(r,e){let t=-1;for(let i of this)r.call(e,i,++t,this);return this}function DDt(r,e){for(var t=this,i=[t],n,a,o=-1;t=i.pop();)if(r.call(e,t,++o,this),n=t.children)for(a=n.length-1;a>=0;--a)i.push(n[a]);return this}function FDt(r,e){for(var t=this,i=[t],n=[],a,o,s,l=-1;t=i.pop();)if(n.push(t),a=t.children)for(o=0,s=a.length;o<s;++o)i.push(a[o]);for(;t=n.pop();)r.call(e,t,++l,this);return this}function NDt(r,e){let t=-1;for(let i of this)if(r.call(e,i,++t,this))return i}function BDt(r){return this.eachAfter(function(e){for(var t=+r(e.data)||0,i=e.children,n=i&&i.length;--n>=0;)t+=i[n].value;e.value=t})}function RDt(r){return this.eachBefore(function(e){e.children&&e.children.sort(r)})}function GDt(r){for(var e=this,t=NIe(e,r),i=[e];e!==t;)e=e.parent,i.push(e);for(var n=i.length;r!==t;)i.splice(n,0,r),r=r.parent;return i}function NIe(r,e){if(r===e)return r;var t=r.ancestors(),i=e.ancestors(),n=null;for(r=t.pop(),e=i.pop();r===e;)n=r,r=t.pop(),e=i.pop();return n}function zDt(){for(var r=this,e=[r];r=r.parent;)e.push(r);return e}function jDt(){return Array.from(this)}function YDt(){var r=[];return this.eachBefore(function(e){e.children||r.push(e)}),r}function WDt(){var r=this,e=[];return r.each(function(t){t!==r&&e.push({source:t.parent,target:t})}),e}function*VDt(){var r=this,e,t=[r],i,n,a;do for(e=t.reverse(),t=[];r=e.pop();)if(yield r,i=r.children)for(n=0,a=i.length;n<a;++n)t.push(i[n]);while(t.length)}function tm(r,e){r instanceof Map?(r=[void 0,r],e===void 0&&(e=GIe)):e===void 0&&(e=RIe);for(var t=new bw(r),i,n=[t],a,o,s,l;i=n.pop();)if((o=e(i.data))&&(l=(o=Array.from(o)).length))for(i.children=o,s=l-1;s>=0;--s)n.push(a=o[s]=new bw(o[s])),a.parent=i,a.depth=i.depth+1;return t.eachBefore(MJ)}function BIe(){return tm(this).eachBefore(zIe)}function RIe(r){return r.children}function GIe(r){return Array.isArray(r)?r[1]:null}function zIe(r){r.data.value!==void 0&&(r.value=r.data.value),r.data=r.data.data}function MJ(r){var e=0;do r.height=e;while((r=r.parent)&&r.height<++e)}function bw(r){this.data=r,this.depth=this.height=0,this.parent=null}bw.prototype=tm.prototype={constructor:bw,count:kDt,each:PDt,eachAfter:FDt,eachBefore:DDt,find:NDt,sum:BDt,sort:RDt,path:GDt,ancestors:zDt,descendants:jDt,leaves:YDt,links:WDt,copy:BIe,[Symbol.iterator]:VDt};function qDt(r){return typeof r=="object"&&"length"in r?r:Array.from(r)}function HDt(r){for(var e=r.length,t,i;e;)i=Math.random()*e--|0,t=r[e],r[e]=r[i],r[i]=t;return r}function W4(r){for(var e=0,t=(r=HDt(Array.from(r))).length,i=[],n,a;e<t;)n=r[e],a&&UDt(a,n)?++e:(a=YIe(i=jIe(i,n)),e=0);return a}function jIe(r,e){var t,i;if(AJ(e,r))return[e];for(t=0;t<r.length;++t)if(V4(e,r[t])&&AJ(aF(r[t],e),r))return[r[t],e];for(t=0;t<r.length-1;++t)for(i=t+1;i<r.length;++i)if(V4(aF(r[t],r[i]),e)&&V4(aF(r[t],e),r[i])&&V4(aF(r[i],e),r[t])&&AJ(XDt(r[t],r[i],e),r))return[r[t],r[i],e];throw new Error}function V4(r,e){var t=r.r-e.r,i=e.x-r.x,n=e.y-r.y;return t<0||t*t<i*i+n*n}function UDt(r,e){var t=r.r-e.r+Math.max(r.r,e.r,1)*1e-9,i=e.x-r.x,n=e.y-r.y;return t>0&&t*t>i*i+n*n}function AJ(r,e){for(var t=0;t<e.length;++t)if(!UDt(r,e[t]))return!1;return!0}function YIe(r){switch(r.length){case 1:return WIe(r[0]);case 2:return aF(r[0],r[1]);case 3:return XDt(r[0],r[1],r[2])}}function WIe(r){return{x:r.x,y:r.y,r:r.r}}function aF(r,e){var t=r.x,i=r.y,n=r.r,a=e.x,o=e.y,s=e.r,l=a-t,u=o-i,f=s-n,c=Math.sqrt(l*l+u*u);return{x:(t+a+l/c*f)/2,y:(i+o+u/c*f)/2,r:(c+n+s)/2}}function XDt(r,e,t){var i=r.x,n=r.y,a=r.r,o=e.x,s=e.y,l=e.r,u=t.x,f=t.y,c=t.r,h=i-o,d=i-u,v=n-s,p=n-f,g=l-a,m=c-a,y=i*i+n*n-a*a,x=y-o*o-s*s+l*l,b=y-u*u-f*f+c*c,_=d*v-h*p,M=(v*b-p*x)/(_*2)-i,A=(p*g-v*m)/_,I=(d*x-h*b)/(_*2)-n,k=(h*m-d*g)/_,E=A*A+k*k-1,O=2*(a+M*A+I*k),P=M*M+I*I-a*a,N=-(E?(O+Math.sqrt(O*O-4*E*P))/(2*E):P/O);return{x:i+M+A*N,y:n+I+k*N,r:N}}function ZDt(r,e,t){var i=r.x-e.x,n,a,o=r.y-e.y,s,l,u=i*i+o*o;u?(a=e.r+t.r,a*=a,l=r.r+t.r,l*=l,a>l?(n=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-n*n)),t.x=r.x-n*i-s*o,t.y=r.y-n*o+s*i):(n=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-n*n)),t.x=e.x+n*i-s*o,t.y=e.y+n*o+s*i)):(t.x=e.x+t.r,t.y=e.y)}function KDt(r,e){var t=r.r+e.r-1e-6,i=e.x-r.x,n=e.y-r.y;return t>0&&t*t>i*i+n*n}function QDt(r){var e=r._,t=r.next._,i=e.r+t.r,n=(e.x*t.r+t.x*e.r)/i,a=(e.y*t.r+t.y*e.r)/i;return n*n+a*a}function q4(r){this._=r,this.next=null,this.previous=null}function EJ(r){if(!(n=(r=qDt(r)).length))return 0;var e,t,i,n,a,o,s,l,u,f,c;if(e=r[0],e.x=0,e.y=0,!(n>1))return e.r;if(t=r[1],e.x=-t.r,t.x=e.r,t.y=0,!(n>2))return e.r+t.r;ZDt(t,e,i=r[2]),e=new q4(e),t=new q4(t),i=new q4(i),e.next=i.previous=t,t.next=e.previous=i,i.next=t.previous=e;t:for(s=3;s<n;++s){ZDt(e._,t._,i=r[s]),i=new q4(i),l=t.next,u=e.previous,f=t._.r,c=e._.r;do if(f<=c){if(KDt(l._,i._)){t=l,e.next=t,t.previous=e,--s;continue t}f+=l._.r,l=l.next}else{if(KDt(u._,i._)){e=u,e.next=t,t.previous=e,--s;continue t}c+=u._.r,u=u.previous}while(l!==u.next);for(i.previous=e,i.next=t,e.next=t.previous=t=i,a=QDt(e);(i=i.next)!==t;)(o=QDt(i))<a&&(e=i,a=o);t=e.next}for(e=[t._],i=t;(i=i.next)!==t;)e.push(i._);for(i=W4(e),s=0;s<n;++s)e=r[s],e.x-=i.x,e.y-=i.y;return i.r}function $Dt(r){return EJ(r),r}function JDt(r){return r==null?null:DT(r)}function DT(r){if(typeof r!="function")throw new Error;return r}function J0(){return 0}function ww(r){return function(){return r}}function VIe(r){return Math.sqrt(r.value)}function H4(){var r=null,e=1,t=1,i=J0;function n(a){return a.x=e/2,a.y=t/2,r?a.eachBefore(tFt(r)).eachAfter(TJ(i,.5)).eachBefore(eFt(1)):a.eachBefore(tFt(VIe)).eachAfter(TJ(J0,1)).eachAfter(TJ(i,a.r/Math.min(e,t))).eachBefore(eFt(Math.min(e,t)/(2*a.r))),a}return n.radius=function(a){return arguments.length?(r=JDt(a),n):r},n.size=function(a){return arguments.length?(e=+a[0],t=+a[1],n):[e,t]},n.padding=function(a){return arguments.length?(i=typeof a=="function"?a:ww(+a),n):i},n}function tFt(r){return function(e){e.children||(e.r=Math.max(0,+r(e)||0))}}function TJ(r,e){return function(t){if(i=t.children){var i,n,a=i.length,o=r(t)*e||0,s;if(o)for(n=0;n<a;++n)i[n].r+=o;if(s=EJ(i),o)for(n=0;n<a;++n)i[n].r-=o;t.r=s+o}}}function eFt(r){return function(e){var t=e.parent;e.r*=r,t&&(e.x=t.x+r*e.x,e.y=t.y+r*e.y)}}function U4(r){r.x0=Math.round(r.x0),r.y0=Math.round(r.y0),r.x1=Math.round(r.x1),r.y1=Math.round(r.y1)}function em(r,e,t,i,n){for(var a=r.children,o,s=-1,l=a.length,u=r.value&&(i-e)/r.value;++s<l;)o=a[s],o.y0=t,o.y1=n,o.x0=e,o.x1=e+=o.value*u}function X4(){var r=1,e=1,t=0,i=!1;function n(o){var s=o.height+1;return o.x0=o.y0=t,o.x1=r,o.y1=e/s,o.eachBefore(a(e,s)),i&&o.eachBefore(U4),o}function a(o,s){return function(l){l.children&&em(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,f=l.y0,c=l.x1-t,h=l.y1-t;c<u&&(u=c=(u+c)/2),h<f&&(f=h=(f+h)/2),l.x0=u,l.y0=f,l.x1=c,l.y1=h}}return n.round=function(o){return arguments.length?(i=!!o,n):i},n.size=function(o){return arguments.length?(r=+o[0],e=+o[1],n):[r,e]},n.padding=function(o){return arguments.length?(t=+o,n):t},n}var qIe={depth:-1},rFt={};function HIe(r){return r.id}function UIe(r){return r.parentId}function iFt(){var r=HIe,e=UIe;function t(i){var n=Array.from(i),a=n.length,o,s,l,u,f,c,h,d=new Map;for(s=0;s<a;++s)o=n[s],f=n[s]=new bw(o),(c=r(o,s,i))!=null&&(c+="")&&(h=f.id=c,d.set(h,d.has(h)?rFt:f)),(c=e(o,s,i))!=null&&(c+="")&&(f.parent=c);for(s=0;s<a;++s)if(f=n[s],c=f.parent){if(u=d.get(c),!u)throw new Error("missing: "+c);if(u===rFt)throw new Error("ambiguous: "+c);u.children?u.children.push(f):u.children=[f],f.parent=u}else{if(l)throw new Error("multiple roots");l=f}if(!l)throw new Error("no root");if(l.parent=qIe,l.eachBefore(function(v){v.depth=v.parent.depth+1,--a}).eachBefore(MJ),l.parent=null,a>0)throw new Error("cycle");return l}return t.id=function(i){return arguments.length?(r=DT(i),t):r},t.parentId=function(i){return arguments.length?(e=DT(i),t):e},t}function XIe(r,e){return r.parent===e.parent?1:2}function IJ(r){var e=r.children;return e?e[0]:r.t}function LJ(r){var e=r.children;return e?e[e.length-1]:r.t}function ZIe(r,e,t){var i=t/(e.i-r.i);e.c-=i,e.s+=t,r.c+=i,e.z+=t,e.m+=t}function KIe(r){for(var e=0,t=0,i=r.children,n=i.length,a;--n>=0;)a=i[n],a.z+=e,a.m+=e,e+=a.s+(t+=a.c)}function QIe(r,e,t){return r.a.parent===e.parent?r.a:t}function Z4(r,e){this._=r,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Z4.prototype=Object.create(bw.prototype);function $Ie(r){for(var e=new Z4(r,0),t,i=[e],n,a,o,s;t=i.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),o=s-1;o>=0;--o)i.push(n=t.children[o]=new Z4(a[o],o)),n.parent=t;return(e.parent=new Z4(null,0)).children=[e],e}function nFt(){var r=XIe,e=1,t=1,i=null;function n(u){var f=$Ie(u);if(f.eachAfter(a),f.parent.m=-f.z,f.eachBefore(o),i)u.eachBefore(l);else{var c=u,h=u,d=u;u.eachBefore(function(y){y.x<c.x&&(c=y),y.x>h.x&&(h=y),y.depth>d.depth&&(d=y)});var v=c===h?1:r(c,h)/2,p=v-c.x,g=e/(h.x+v+p),m=t/(d.depth||1);u.eachBefore(function(y){y.x=(y.x+p)*g,y.y=y.depth*m})}return u}function a(u){var f=u.children,c=u.parent.children,h=u.i?c[u.i-1]:null;if(f){KIe(u);var d=(f[0].z+f[f.length-1].z)/2;h?(u.z=h.z+r(u._,h._),u.m=u.z-d):u.z=d}else h&&(u.z=h.z+r(u._,h._));u.parent.A=s(u,h,u.parent.A||c[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,f,c){if(f){for(var h=u,d=u,v=f,p=h.parent.children[0],g=h.m,m=d.m,y=v.m,x=p.m,b;v=LJ(v),h=IJ(h),v&&h;)p=IJ(p),d=LJ(d),d.a=u,b=v.z+y-h.z-g+r(v._,h._),b>0&&(ZIe(QIe(v,u,c),u,b),g+=b,m+=b),y+=v.m,g+=h.m,x+=p.m,m+=d.m;v&&!LJ(d)&&(d.t=v,d.m+=y-m),h&&!IJ(p)&&(p.t=h,p.m+=g-x,c=u)}return c}function l(u){u.x*=e,u.y=u.depth*t}return n.separation=function(u){return arguments.length?(r=u,n):r},n.size=function(u){return arguments.length?(i=!1,e=+u[0],t=+u[1],n):i?null:[e,t]},n.nodeSize=function(u){return arguments.length?(i=!0,e=+u[0],t=+u[1],n):i?[e,t]:null},n}function _w(r,e,t,i,n){for(var a=r.children,o,s=-1,l=a.length,u=r.value&&(n-t)/r.value;++s<l;)o=a[s],o.x0=e,o.x1=i,o.y0=t,o.y1=t+=o.value*u}var OJ=(1+Math.sqrt(5))/2;function kJ(r,e,t,i,n,a){for(var o=[],s=e.children,l,u,f=0,c=0,h=s.length,d,v,p=e.value,g,m,y,x,b,_,M;f<h;){d=n-t,v=a-i;do g=s[c++].value;while(!g&&c<h);for(m=y=g,_=Math.max(v/d,d/v)/(p*r),M=g*g*_,b=Math.max(y/M,M/m);c<h;++c){if(g+=u=s[c].value,u<m&&(m=u),u>y&&(y=u),M=g*g*_,x=Math.max(y/M,M/m),x>b){g-=u;break}b=x}o.push(l={value:g,dice:d<v,children:s.slice(f,c)}),l.dice?em(l,t,i,n,p?i+=v*g/p:a):_w(l,t,i,p?t+=d*g/p:n,a),p-=g,f=c}return o}var K4=function r(e){function t(i,n,a,o,s){kJ(e,i,n,a,o,s)}return t.ratio=function(i){return r((i=+i)>1?i:1)},t}(OJ);function PJ(){var r=K4,e=!1,t=1,i=1,n=[0],a=J0,o=J0,s=J0,l=J0,u=J0;function f(h){return h.x0=h.y0=0,h.x1=t,h.y1=i,h.eachBefore(c),n=[0],e&&h.eachBefore(U4),h}function c(h){var d=n[h.depth],v=h.x0+d,p=h.y0+d,g=h.x1-d,m=h.y1-d;g<v&&(v=g=(v+g)/2),m<p&&(p=m=(p+m)/2),h.x0=v,h.y0=p,h.x1=g,h.y1=m,h.children&&(d=n[h.depth+1]=a(h)/2,v+=u(h)-d,p+=o(h)-d,g-=s(h)-d,m-=l(h)-d,g<v&&(v=g=(v+g)/2),m<p&&(p=m=(p+m)/2),r(h,v,p,g,m))}return f.round=function(h){return arguments.length?(e=!!h,f):e},f.size=function(h){return arguments.length?(t=+h[0],i=+h[1],f):[t,i]},f.tile=function(h){return arguments.length?(r=DT(h),f):r},f.padding=function(h){return arguments.length?f.paddingInner(h).paddingOuter(h):f.paddingInner()},f.paddingInner=function(h){return arguments.length?(a=typeof h=="function"?h:ww(+h),f):a},f.paddingOuter=function(h){return arguments.length?f.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):f.paddingTop()},f.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:ww(+h),f):o},f.paddingRight=function(h){return arguments.length?(s=typeof h=="function"?h:ww(+h),f):s},f.paddingBottom=function(h){return arguments.length?(l=typeof h=="function"?h:ww(+h),f):l},f.paddingLeft=function(h){return arguments.length?(u=typeof h=="function"?h:ww(+h),f):u},f}function aFt(r,e,t,i,n){var a=r.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;f(0,s,r.value,e,t,i,n);function f(c,h,d,v,p,g,m){if(c>=h-1){var y=a[c];y.x0=v,y.y0=p,y.x1=g,y.y1=m;return}for(var x=u[c],b=d/2+x,_=c+1,M=h-1;_<M;){var A=_+M>>>1;u[A]<b?_=A+1:M=A}b-u[_-1]<u[_]-b&&c+1<_&&--_;var I=u[_]-x,k=d-I;if(g-v>m-p){var E=d?(v*k+g*I)/d:g;f(c,_,I,v,p,E,m),f(_,h,k,E,p,g,m)}else{var O=d?(p*k+m*I)/d:m;f(c,_,I,v,p,g,O),f(_,h,k,v,O,g,m)}}}function oFt(r,e,t,i,n){(r.depth&1?_w:em)(r,e,t,i,n)}var sFt=function r(e){function t(i,n,a,o,s){if((l=i._squarify)&&l.ratio===e)for(var l,u,f,c,h=-1,d,v=l.length,p=i.value;++h<v;){for(u=l[h],f=u.children,c=u.value=0,d=f.length;c<d;++c)u.value+=f[c].value;u.dice?em(u,n,a,o,p?a+=(s-a)*u.value/p:s):_w(u,n,a,p?n+=(o-n)*u.value/p:o,s),p-=u.value}else i._squarify=l=kJ(e,i,n,a,o,s),l.ratio=e}return t.ratio=function(i){return r((i=+i)>1?i:1)},t}(OJ);var Sw=et(ot()),DJ="nodeIndex",FJ="childNodeCount",oF="nodeAncestor",NJ="Invalid field: it must be a string!";function FT(r,e){var t=r.field,i=r.fields;if((0,Sw.isString)(t))return t;if((0,Sw.isArray)(t))return console.warn(NJ),t[0];if(console.warn("".concat(NJ," will try to get fields instead.")),(0,Sw.isString)(i))return i;if((0,Sw.isArray)(i)&&i.length)return i[0];if(e)return e;throw new TypeError(NJ)}function NT(r){var e=[];if(r&&r.each){var t,i;r.each(function(n){var a,o;n.parent!==t?(t=n.parent,i=0):i+=1;var s=(0,Sw.filter)((((a=n.ancestors)===null||a===void 0?void 0:a.call(n))||[]).map(function(l){return e.find(function(u){return u.name===l.name})||l}),function(l){var u=l.depth;return u>0&&u<n.depth});n[oF]=s,n[FJ]=((o=n.children)===null||o===void 0?void 0:o.length)||0,n[DJ]=i,e.push(n)})}else r&&r.eachNode&&r.eachNode(function(n){e.push(n)});return e}var JIe={field:"value",as:["x","y","r"],sort:function(r,e){return e.value-r.value}};function lFt(r,e){e=(0,$4.assign)({},JIe,e);var t=e.as;if(!(0,$4.isArray)(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var i;try{i=FT(e)}catch(u){console.warn(u)}var n=function(u){return H4().size(e.size).padding(e.padding)(tm(u).sum(function(f){return f[i]}).sort(e.sort))},a=n(r),o=t[0],s=t[1],l=t[2];return a.each(function(u){u[o]=u.x,u[s]=u.y,u[l]=u.r}),NT(a)}function BJ(r){var e=r.data,t=r.hierarchyConfig,i=r.rawFields,n=i===void 0?[]:i,a=r.enableDrillDown,o=lFt(e,S(S({},t),{field:"value",as:["x","y","r"]})),s=[];return o.forEach(function(l){for(var u,f=l.data.name,c=S({},l);c.depth>1;)f="".concat((u=c.parent.data)===null||u===void 0?void 0:u.name," / ").concat(f),c=c.parent;if(a&&l.depth>2)return null;var h=Tt({},l.data,S(S(S({},wi(l.data,n)),{path:f}),l));h.ext=t,h[xw]={hierarchyConfig:t,rawFields:n,enableDrillDown:a},s.push(h)}),s}function RJ(r,e,t){var i=vT([r,e]),n=i[0],a=i[1],o=i[2],s=i[3],l=t.width,u=t.height,f=l-(s+a),c=u-(n+o),h=Math.min(f,c),d=(f-h)/2,v=(c-h)/2,p=n+v,g=a+d,m=o+v,y=s+d,x=[p,g,m,y],b=h<0?0:h;return{finalPadding:x,finalSize:b}}function tLe(r){var e=r.chart,t=Math.min(e.viewBBox.width,e.viewBBox.height);return Tt({options:{size:function(i){var n=i.r;return n*t}}},r)}function eLe(r){var e=r.options,t=r.chart,i=t.viewBBox,n=e.padding,a=e.appendPadding,o=e.drilldown,s=a;if(o==null?void 0:o.enabled){var l=sw(t.appendPadding,(0,BT.get)(o,["breadCrumb","position"]));s=vT([l,a])}var u=RJ(n,s,i).finalPadding;return t.padding=u,t.appendPadding=0,r}function rLe(r){var e=r.chart,t=r.options,i=e.padding,n=e.appendPadding,a=t.color,o=t.colorField,s=t.pointStyle,l=t.hierarchyConfig,u=t.sizeField,f=t.rawFields,c=f===void 0?[]:f,h=t.drilldown,d=BJ({data:t.data,hierarchyConfig:l,enableDrillDown:h==null?void 0:h.enabled,rawFields:c});e.data(d);var v=e.viewBBox,p=RJ(i,n,v).finalSize,g=function(m){var y=m.r;return y*p};return u&&(g=function(m){return m[u]*p}),Ga(Tt({},r,{options:{xField:"x",yField:"y",seriesField:o,sizeField:u,rawFields:ne(ne([],MDt,!0),c,!0),point:{color:a,style:s,shape:"circle",size:g}}})),r}function iLe(r){return or(Ri({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(r)}function nLe(r){var e=r.chart,t=r.options,i=t.tooltip;if(i===!1)e.tooltip(!1);else{var n=i;(0,BT.get)(i,"fields")||(n=Tt({},{customItems:function(a){return a.map(function(o){var s=(0,BT.get)(e.getOptions(),"scales"),l=(0,BT.get)(s,["name","formatter"],function(f){return f}),u=(0,BT.get)(s,["value","formatter"],function(f){return f});return S(S({},o),{name:l(o.data.name),value:u(o.data.value)})})}},n)),e.tooltip(n)}return r}function aLe(r){var e=r.chart;return e.axis(!1),r}function oLe(r){var e=r.drilldown,t=r.interactions,i=t===void 0?[]:t;return(e==null?void 0:e.enabled)?Tt({},r,{interactions:ne(ne([],i,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:BJ,enableDrillDown:!0}}],!1)}):r}function sLe(r){var e=r.chart,t=r.options;return bi({chart:e,options:oLe(t)}),r}function uFt(r){return or(Qa("pointStyle"),tLe,eLe,Lr,iLe,rLe,aLe,sc,nLe,sLe,Hr,_i())(r)}var J4=et(ot());function fFt(r){var e=(0,J4.get)(r,["event","data","data"],{});return(0,J4.isArray)(e.children)&&e.children.length>0}function cFt(r){var e=r.view.getCoordinate(),t=e.innerRadius;if(t){var i=r.event,n=i.x,a=i.y,o=e.center,s=o.x,l=o.y,u=e.getRadius()*t,f=Math.sqrt(Math.pow(s-n,2)+Math.pow(l-a,2));return f<u}return!1}br("drill-down-action",LDt);Vr("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:fFt},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:cFt}],start:[{trigger:"element:click",isEnable:fFt,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:cFt,action:["drill-down-action:back"]}]});var GJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="circle-packing",t}return e.getDefaultOptions=function(){return ADt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return uFt},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(Je);var fo=et(ot());var cc="left-axes-view",hc="right-axes-view",hFt={nice:!0,label:{autoHide:!0,autoRotate:!1}},dFt=S(S({},hFt),{position:"left"}),vFt=S(S({},hFt),{position:"right",grid:null});var Cw;(function(r){r.Left="Left",r.Right="Right"})(Cw||(Cw={}));var tx;(function(r){r.Line="line",r.Column="column"})(tx||(tx={}));var pFt=et(ot());var XC=et(ot());function sF(r){return(0,XC.get)(r,"geometry")===tx.Line}function lF(r){return(0,XC.get)(r,"geometry")===tx.Column}function zJ(r,e,t){return lF(t)?Tt({},{geometry:tx.Column,label:t.label&&t.isRange?{content:function(i){var n;return(n=i[e])===null||n===void 0?void 0:n.join("-")}}:void 0},t):S({geometry:tx.Line},t)}function jJ(r,e){var t=r[0],i=r[1];if((0,XC.isArray)(e)){var n=e[0],a=e[1];return[n,a]}var o=(0,XC.get)(e,t),s=(0,XC.get)(e,i);return[o,s]}function YJ(r,e){return e===Cw.Left?r===!1?!1:Tt({},dFt,r):e===Cw.Right?r===!1?!1:Tt({},vFt,r):r}function gFt(r){var e=r.options,t=r.chart,i=e.geometryOption,n=i.isStack,a=i.color,o=i.seriesField,s=i.groupField,l=i.isGroup,u=["xField","yField"];if(sF(i)){lc(Tt({},r,{options:S(S(S({},wi(e,u)),i),{line:{color:i.color,style:i.lineStyle}})})),Ga(Tt({},r,{options:S(S(S({},wi(e,u)),i),{point:i.point&&S({color:a,shape:"circle"},i.point)})}));var f=[];l&&f.push({type:"dodge",dodgeBy:s||o,customOffset:0}),n&&f.push({type:"stack"}),f.length&&(0,pFt.each)(t.geometries,function(c){c.adjust(f)})}return lF(i)&&pw(Tt({},r,{options:S(S(S({},wi(e,u)),i),{widthRatio:i.columnWidthRatio,interval:S(S({},wi(i,["color"])),{style:i.columnStyle})})})),r}var rm=et(ot());function WJ(r){var e=r.view,t=r.geometryOption,i=r.yField,n=r.legend,a=(0,rm.get)(n,"marker"),o=la(e,sF(t)?"line":"interval");if(!t.seriesField){var s=(0,rm.get)(e,"options.scales.".concat(i,".alias"))||i,l=o.getAttribute("color"),u=e.getTheme().defaultColor;l&&(u=uo.getMappingValue(l,s,(0,rm.get)(l,["values",0],u)));var f=((0,rm.isFunction)(a)?a:!(0,rm.isEmpty)(a)&&Tt({},{style:{stroke:u,fill:u}},a))||(sF(t)?{symbol:function(h,d,v){return[["M",h-v,d],["L",h+v,d]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:i,name:s,marker:f,isGeometry:!0,viewId:e.id}]}var c=o.getGroupAttributes();return(0,rm.reduce)(c,function(h,d){var v=uo.getLegendItems(e,o,d,e.getTheme(),a);return h.concat(v)},[])}var uF=et(ot());var VJ=function(r,e){var t=e[0],i=e[1],n=r.getOptions().data,a=r.getXScale(),o=(0,uF.size)(n);if(!(!a||!o)){var s=!0,l=(0,uF.valuesOfKey)(n,a.field),u=s?l:l.reverse(),f=(0,uF.size)(u),c=Math.round(t*(f-1)),h=Math.round(i*(f-1));r.filter(a.field,function(d){var v=u.indexOf(d);return v>-1?z$(v,c,h):!0}),r.getRootView().render(!0)}};function lLe(r){var e,t=r.options,i=t.geometryOptions,n=i===void 0?[]:i,a=t.xField,o=t.yField,s=(0,fo.every)(n,function(l){var u=l.geometry;return u===tx.Line||u===void 0});return Tt({},{options:{geometryOptions:[],meta:(e={},e[a]={type:"cat",sync:!0,range:s?[0,1]:void 0},e),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},r,{options:{yAxis:jJ(o,t.yAxis),geometryOptions:[zJ(a,o[0],n[0]),zJ(a,o[1],n[1])],annotations:jJ(o,t.annotations)}})}function uLe(r){var e,t,i=r.chart,n=r.options,a=n.geometryOptions,o={line:0,column:1},s=[{type:(e=a[0])===null||e===void 0?void 0:e.geometry,id:cc},{type:(t=a[1])===null||t===void 0?void 0:t.geometry,id:hc}];return s.sort(function(l,u){return-o[l.type]+o[u.type]}).forEach(function(l){return i.createView({id:l.id})}),r}function fLe(r){var e=r.chart,t=r.options,i=t.xField,n=t.yField,a=t.geometryOptions,o=t.data,s=t.tooltip,l=[S(S({},a[0]),{id:cc,data:o[0],yField:n[0]}),S(S({},a[1]),{id:hc,data:o[1],yField:n[1]})];return l.forEach(function(u){var f=u.id,c=u.data,h=u.yField,d=lF(u)&&u.isPercent,v=d?Q$(c,h,i,h):c,p=xi(e,f).data(v),g=d?S({formatter:function(m){return{name:m[u.seriesField]||h,value:(Number(m[h])*100).toFixed(2)+"%"}}},s):s;gFt({chart:p,options:{xField:i,yField:h,tooltip:g,geometryOption:u}})}),r}function cLe(r){var e,t=r.chart,i=r.options,n=i.geometryOptions,a=((e=t.getTheme())===null||e===void 0?void 0:e.colors10)||[],o=0;return t.once("beforepaint",function(){(0,fo.each)(n,function(s,l){var u=xi(t,l===0?cc:hc);if(!s.color){var f=u.getGroupScales(),c=(0,fo.get)(f,[0,"values","length"],1),h=a.slice(o,o+c).concat(l===0?[]:a);u.geometries.forEach(function(d){s.seriesField?d.color(s.seriesField,h):d.color(h[0])}),o+=c}}),t.render(!0)}),r}function hLe(r){var e,t,i=r.chart,n=r.options,a=n.xAxis,o=n.yAxis,s=n.xField,l=n.yField;return Ri((e={},e[s]=a,e[l[0]]=o[0],e))(Tt({},r,{chart:xi(i,cc)})),Ri((t={},t[s]=a,t[l[1]]=o[1],t))(Tt({},r,{chart:xi(i,hc)})),r}function dLe(r){var e=r.chart,t=r.options,i=xi(e,cc),n=xi(e,hc),a=t.xField,o=t.yField,s=t.xAxis,l=t.yAxis;return e.axis(a,!1),e.axis(o[0],!1),e.axis(o[1],!1),i.axis(a,s),i.axis(o[0],YJ(l[0],Cw.Left)),n.axis(a,!1),n.axis(o[1],YJ(l[1],Cw.Right)),r}function vLe(r){var e=r.chart,t=r.options,i=t.tooltip,n=xi(e,cc),a=xi(e,hc);return e.tooltip(i),n.tooltip({shared:!0}),a.tooltip({shared:!0}),r}function pLe(r){var e=r.chart;return bi(Tt({},r,{chart:xi(e,cc)})),bi(Tt({},r,{chart:xi(e,hc)})),r}function gLe(r){var e=r.chart,t=r.options,i=t.annotations,n=(0,fo.get)(i,[0]),a=(0,fo.get)(i,[1]);return _i(n)(Tt({},r,{chart:xi(e,cc),options:{annotations:n}})),_i(a)(Tt({},r,{chart:xi(e,hc),options:{annotations:a}})),r}function mLe(r){var e=r.chart;return Lr(Tt({},r,{chart:xi(e,cc)})),Lr(Tt({},r,{chart:xi(e,hc)})),Lr(r),r}function yLe(r){var e=r.chart;return Hr(Tt({},r,{chart:xi(e,cc)})),Hr(Tt({},r,{chart:xi(e,hc)})),r}function xLe(r){var e=r.chart,t=r.options,i=t.yAxis;return xd(Tt({},r,{chart:xi(e,cc),options:{yAxis:i[0]}})),xd(Tt({},r,{chart:xi(e,hc),options:{yAxis:i[1]}})),r}function bLe(r){var e=r.chart,t=r.options,i=t.legend,n=t.geometryOptions,a=t.yField,o=t.data,s=xi(e,cc),l=xi(e,hc);if(i===!1)e.legend(!1);else if((0,fo.isObject)(i)&&i.custom===!0)e.legend(i);else{var u=(0,fo.get)(n,[0,"legend"],i),f=(0,fo.get)(n,[1,"legend"],i);e.once("beforepaint",function(){var c=o[0].length?WJ({view:s,geometryOption:n[0],yField:a[0],legend:u}):[],h=o[1].length?WJ({view:l,geometryOption:n[1],yField:a[1],legend:f}):[];e.legend(Tt({},i,{custom:!0,items:c.concat(h)}))}),n[0].seriesField&&s.legend(n[0].seriesField,u),n[1].seriesField&&l.legend(n[1].seriesField,f),e.on("legend-item:click",function(c){var h=(0,fo.get)(c,"gEvent.delegateObject",{});if(h&&h.item){var d=h.item,v=d.value,p=d.isGeometry,g=d.viewId;if(p){var m=(0,fo.findIndex)(a,function(b){return b===v});if(m>-1){var y=(0,fo.get)(xi(e,g),"geometries");(0,fo.each)(y,function(b){b.changeVisible(!h.item.unchecked)})}}else{var x=(0,fo.get)(e.getController("legend"),"option.items",[]);(0,fo.each)(e.views,function(b){var _=b.getGroupScales();(0,fo.each)(_,function(M){M.values&&M.values.indexOf(v)>-1&&b.filter(M.field,function(A){var I=(0,fo.find)(x,function(k){return k.value===A});return!I.unchecked})}),e.render(!0)})}}})}return r}function wLe(r){var e=r.chart,t=r.options,i=t.slider,n=xi(e,cc),a=xi(e,hc);return i&&(n.option("slider",i),n.on("slider:valuechanged",function(o){var s=o.event,l=s.value,u=s.originValue;(0,fo.isEqual)(l,u)||VJ(a,l)}),e.once("afterpaint",function(){if(!(0,fo.isBoolean)(i)){var o=i.start,s=i.end;(o||s)&&VJ(a,[o,s])}})),r}function mFt(r){return or(lLe,uLe,mLe,fLe,hLe,dLe,xLe,vLe,pLe,gLe,yLe,cLe,bLe,wLe)(r)}var qJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="dual-axes",t}return e.prototype.getDefaultOptions=function(){return Tt({},r.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},e.prototype.getSchemaAdaptor=function(){return mFt},e}(Je);var ZC=et(ot());var RT=et(ot());function yFt(r,e){var t=e.data,i=e.coordinate,n=e.interactions,a=e.annotations,o=e.animation,s=e.tooltip,l=e.axes,u=e.meta,f=e.geometries;t&&r.data(t);var c={};l&&(0,RT.each)(l,function(h,d){c[d]=wi(h,ns)}),c=Tt({},u,c),r.scale(c),i&&r.coordinate(i),l===!1?r.axis(!1):(0,RT.each)(l,function(h,d){r.axis(d,h)}),(0,RT.each)(f,function(h){var d=Ra({chart:r,options:h}).ext,v=h.adjust;v&&d.geometry.adjust(v)}),(0,RT.each)(n,function(h){h.enable===!1?r.removeInteraction(h.type):r.interaction(h.type,h.cfg)}),(0,RT.each)(a,function(h){r.annotation()[h.type](S({},h))}),Jv(r,o),s?(r.interaction("tooltip"),r.tooltip(s)):s===!1&&r.removeInteraction("tooltip")}function _Le(r){var e=r.chart,t=r.options,i=t.type,n=t.data,a=t.fields,o=t.eachView,s=(0,ZC.omit)(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return e.data(n),e.facet(i,S(S({},s),{fields:a,eachView:function(l,u){var f=o(l,u);if(f.geometries)yFt(l,f);else{var c=f,h=c.options;["seriesField","colorField","shapeField","sizeField","groupField"].forEach(function(d){t[d]&&typeof h[d]=="undefined"&&(h[d]=t[d])}),h.tooltip&&l.interaction("tooltip"),iF(c.type,l,h)}}})),r}function SLe(r){var e=r.chart,t=r.options,i=t.axes,n=t.meta,a=t.tooltip,o=t.coordinate,s=t.theme,l=t.legend,u=t.interactions,f=t.annotations,c=t.shapeField,h=t.sizeField,d=t.shapeLegend,v=t.sizeLegend,p={};i&&(0,ZC.each)(i,function(m,y){p[y]=wi(m,ns)}),p=Tt({},n,p),e.scale(p),e.coordinate(o),i?(0,ZC.each)(i,function(m,y){e.axis(y,m)}):e.axis(!1),a?(e.interaction("tooltip"),e.tooltip(a)):a===!1&&e.removeInteraction("tooltip"),e.legend(l);var g=l!==!1;return c&&(d?e.legend(c,d):e.legend(c,d===!1?!1:l)),h&&e.legend(h,v||!1),!g&&!d&&!v&&e.legend(!1),s&&e.theme(s),(0,ZC.each)(u,function(m){m.enable===!1?e.removeInteraction(m.type):e.interaction(m.type,m.cfg)}),(0,ZC.each)(f,function(m){e.annotation()[m.type](S({},m))}),r}function xFt(r){return or(Lr,_Le,SLe)(r)}var bFt={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}};var HJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="area",t}return e.getDefaultOptions=function(){return bFt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return xFt},e}(Je);var fF=et(ot());function CLe(r){var e=r.chart,t=r.options,i=t.data,n=t.type,a=t.xField,o=t.yField,s=t.colorField,l=t.sizeField,u=t.sizeRatio,f=t.shape,c=t.color,h=t.tooltip,d=t.heatmapStyle,v=t.meta;e.data(i);var p="polygon";n==="density"&&(p="heatmap");var g=Do(h,[a,o,s]),m=g.fields,y=g.formatter,x=1;return(u||u===0)&&(!f&&!l?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):x=u),Ra(Tt({},r,{options:{type:p,colorField:s,tooltipFields:m,shapeField:l||"",label:void 0,mapping:{tooltip:y,shape:f&&(l?function(b){var _=i.map(function(k){return k[l]}),M=(v==null?void 0:v[l])||{},A=M.min,I=M.max;return A=(0,fF.isNumber)(A)?A:Math.min.apply(Math,_),I=(0,fF.isNumber)(I)?I:Math.max.apply(Math,_),[f,((0,fF.get)(b,l)-A)/(I-A),x]}:function(){return[f,1,x]}),color:c||s&&e.getTheme().sequenceColors.join("-"),style:d}}})),r}function MLe(r){var e,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return or(Ri((e={},e[a]=i,e[o]=n,e)))(r)}function ALe(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return i===!1?e.axis(a,!1):e.axis(a,i),n===!1?e.axis(o,!1):e.axis(o,n),r}function ELe(r){var e=r.chart,t=r.options,i=t.legend,n=t.colorField,a=t.sizeField,o=t.sizeLegend,s=i!==!1;return n&&e.legend(n,s?i:!1),a&&e.legend(a,o===void 0?i:o),!s&&!o&&e.legend(!1),r}function TLe(r){var e=r.chart,t=r.options,i=t.label,n=t.colorField,a=t.type,o=la(e,a==="density"?"heatmap":"polygon");if(!i)o.label(!1);else if(n){var s=i.callback,l=Ze(i,["callback"]);o.label({fields:[n],callback:s,cfg:Bn(l)})}return r}function ILe(r){var e,t,i=r.chart,n=r.options,a=n.coordinate,o=n.reflect,s=Tt({actions:[]},a!=null?a:{type:"rect"});return o&&((t=(e=s.actions)===null||e===void 0?void 0:e.push)===null||t===void 0||t.call(e,["reflect",o])),i.coordinate(s),r}function wFt(r){return or(Lr,Qa("heatmapStyle"),MLe,ILe,CLe,ALe,ELe,tn,TLe,_i(),bi,Hr,Su)(r)}var _Ft=Tt({},Je.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});kr("polygon","circle",{draw:function(r,e){var t,i,n=r.x,a=r.y,o=this.parsePoints(r.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l)/2,f=Number(r.shape[1]),c=Number(r.shape[2]),h=Math.sqrt(c),d=u*h*Math.sqrt(f),v=((t=r.style)===null||t===void 0?void 0:t.fill)||r.color||((i=r.defaultStyle)===null||i===void 0?void 0:i.fill),p=e.addShape("circle",{attrs:S(S(S({x:n,y:a,r:d},r.defaultStyle),r.style),{fill:v})});return p}});kr("polygon","square",{draw:function(r,e){var t,i,n=r.x,a=r.y,o=this.parsePoints(r.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l),f=Number(r.shape[1]),c=Number(r.shape[2]),h=Math.sqrt(c),d=u*h*Math.sqrt(f),v=((t=r.style)===null||t===void 0?void 0:t.fill)||r.color||((i=r.defaultStyle)===null||i===void 0?void 0:i.fill),p=e.addShape("rect",{attrs:S(S(S({x:n-d/2,y:a-d/2,width:d,height:d},r.defaultStyle),r.style),{fill:v})});return p}});var UJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="heatmap",t}return e.getDefaultOptions=function(){return _Ft},e.prototype.getSchemaAdaptor=function(){return wFt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Je);var e6=et(ot());var LLe="liquid";function t6(r){return[{percent:r,type:LLe}]}function OLe(r){var e=r.chart,t=r.options,i=t.percent,n=t.liquidStyle,a=t.radius,o=t.outline,s=t.wave,l=t.shape,u=t.shapeStyle,f=t.animation;e.scale({percent:{min:0,max:1}}),e.data(t6(i));var c=t.color||e.getTheme().defaultColor,h=Tt({},r,{options:{xField:"type",yField:"percent",widthRatio:a,interval:{color:c,style:n,shape:"liquid-fill-gauge"}}}),d=ua(h).ext,v=d.geometry,p=e.getTheme().background,g={percent:i,radius:a,outline:o,wave:s,shape:l,shapeStyle:u,background:p,animation:f};return v.customInfo(g),e.legend(!1),e.axis(!1),e.tooltip(!1),r}function XJ(r,e){var t=r.chart,i=r.options,n=i.statistic,a=i.percent,o=i.meta;t.getController("annotation").clear(!0);var s=(0,e6.get)(o,["percent","formatter"])||function(u){return"".concat((u*100).toFixed(2),"%")},l=n.content;return l&&(l=Tt({},l,{content:(0,e6.isNil)(l.content)?s(a):l.content})),U0(t,{statistic:S(S({},n),{content:l}),plotType:"liquid"},{percent:a}),e&&t.render(!0),r}function SFt(r){return or(Lr,Qa("liquidStyle"),OLe,XJ,Ri({}),Hr,bi)(r)}var CFt={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"};var Mw=et(ot());var MFt=5e3;function AFt(r,e,t){return r+(e-r)*t}function kLe(r){var e=S({opacity:1},r.style);return r.color&&!e.fill&&(e.fill=r.color),e}function PLe(r){var e={fill:"#fff",fillOpacity:0,lineWidth:4},t=(0,Mw.mix)({},e,r.style);return r.color&&!t.stroke&&(t.stroke=r.color),(0,Mw.isNumber)(r.opacity)&&(t.opacity=t.strokeOpacity=r.opacity),t}function DLe(r,e,t,i){return e===0?[[r+1/2*t/Math.PI/2,i/2],[r+1/2*t/Math.PI,i],[r+t/4,i]]:e===1?[[r+1/2*t/Math.PI/2*(Math.PI-2),i],[r+1/2*t/Math.PI/2*(Math.PI-1),i/2],[r+t/4,0]]:e===2?[[r+1/2*t/Math.PI/2,-i/2],[r+1/2*t/Math.PI,-i],[r+t/4,-i]]:[[r+1/2*t/Math.PI/2*(Math.PI-2),-i],[r+1/2*t/Math.PI/2*(Math.PI-1),-i/2],[r+t/4,0]]}function FLe(r,e,t,i,n,a,o){for(var s=Math.ceil(2*r/t*4)*4,l=[],u=i;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var f=a-r+u-r*2;l.push(["M",f,e]);for(var c=0,h=0;h<s;++h){var d=h%4,v=DLe(h*t/4,d,t,n);l.push(["C",v[0][0]+f,-v[0][1]+e,v[1][0]+f,-v[1][1]+e,v[2][0]+f,-v[2][1]+e]),h===s-1&&(c=v[2][0])}return l.push(["L",c+f,o+r]),l.push(["L",f,o+r]),l.push(["Z"]),l}function ZJ(r,e,t,i,n,a,o,s,l,u){for(var f=n.fill,c=n.opacity,h=o.getBBox(),d=h.maxX-h.minX,v=h.maxY-h.minY,p=0;p<i;p++){var g=i<=1?1:p/(i-1),m=a.addShape("path",{name:"waterwave-path",attrs:{path:FLe(s,h.minY+v*t,l,0,d/32,r,e),fill:f,opacity:AFt(.2,.9,g)*c}});try{if(u===!1)return;var y=UD([["t",l,0]]);m.stopAnimate(),m.animate({matrix:y},{duration:AFt(.5*MFt,MFt,g),repeat:!0})}catch(x){console.warn("off-screen group animate error!")}}}function NLe(r,e,t,i){var n=t*2/3,a=Math.max(n,i),o=n/2,s=r,l=o+e-a/2,u=Math.asin(o/((a-o)*.85)),f=Math.sin(u)*o,c=Math.cos(u)*o,h=s-c,d=l+f,v=r,p=l+o/Math.sin(u);return`
      M `.concat(h," ").concat(d,`
      A `).concat(o," ").concat(o," 0 1 1 ").concat(h+c*2," ").concat(d,`
      Q `).concat(v," ").concat(p," ").concat(r," ").concat(e+a/2,`
      Q `).concat(v," ").concat(p," ").concat(h," ").concat(d,`
      Z 
    `)}function BLe(r,e,t,i){var n=t/2,a=i/2;return`
      M `.concat(r," ").concat(e-a,` 
      a `).concat(n," ").concat(a," 0 1 0 0 ").concat(a*2,`
      a `).concat(n," ").concat(a," 0 1 0 0 ").concat(-a*2,`
      Z
    `)}function RLe(r,e,t,i){var n=i/2,a=t/2;return`
      M `.concat(r," ").concat(e-n,`
      L `).concat(r+a," ").concat(e,`
      L `).concat(r," ").concat(e+n,`
      L `).concat(r-a," ").concat(e,`
      Z
    `)}function GLe(r,e,t,i){var n=i/2,a=t/2;return`
      M `.concat(r," ").concat(e-n,`
      L `).concat(r+a," ").concat(e+n,`
      L `).concat(r-a," ").concat(e+n,`
      Z
    `)}function zLe(r,e,t,i){var n=.618,a=i/2,o=t/2*n;return`
      M `.concat(r-o," ").concat(e-a,`
      L `).concat(r+o," ").concat(e-a,`
      L `).concat(r+o," ").concat(e+a,`
      L `).concat(r-o," ").concat(e+a,`
      Z
    `)}var EFt={pin:NLe,circle:BLe,diamond:RLe,triangle:GLe,rect:zLe};kr("interval","liquid-fill-gauge",{draw:function(r,e){var t=.5,i=.5,n=r.customInfo,a=n,o=a.percent,s=a.radius,l=a.shape,u=a.shapeStyle,f=a.background,c=a.animation,h=n.outline,d=n.wave,v=h.border,p=h.distance,g=d.count,m=d.length,y=(0,Mw.reduce)(r.points,function(R,z){return Math.min(R,z.x)},1/0),x=this.parsePoint({x:t,y:i}),b=this.parsePoint({x:y,y:i}),_=x.x-b.x,M=Math.min(_,b.y*s),A=kLe(r),I=PLe((0,Mw.mix)({},r,h)),k=M-v/2,E=typeof l=="function"?l:EFt[l]||EFt.circle,O=E(x.x,x.y,k*2,k*2);if(u&&e.addShape("path",{name:"shape",attrs:S({path:O},u)}),o>0){var P=e.addGroup({name:"waves"}),N=P.setClip({type:"path",attrs:{path:O}});ZJ(x.x,x.y,1-r.points[1].y,g,A,P,N,M*2,m,c)}return e.addShape("path",{name:"distance",attrs:{path:O,fill:"transparent",lineWidth:v+p*2,stroke:f==="transparent"?"#fff":f}}),e.addShape("path",{name:"wrap",attrs:(0,Mw.mix)(I,{path:O,fill:"transparent",lineWidth:v})}),e}});var KJ=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="liquid",t}return e.getDefaultOptions=function(){return CFt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.changeData=function(t){this.chart.emit(ti.BEFORE_CHANGE_DATA,wn.fromData(this.chart,ti.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(t6(t)),XJ({chart:this.chart,options:this.options},!0),this.chart.emit(ti.AFTER_CHANGE_DATA,wn.fromData(this.chart,ti.AFTER_CHANGE_DATA,null))},e.prototype.getSchemaAdaptor=function(){return SFt},e}(Je);function jLe(r){var e=r.chart,t=r.options,i=t.data,n=t.lineStyle,a=t.color,o=t.point,s=t.area;e.data(i);var l=Tt({},r,{options:{line:{style:n,color:a},point:o&&S({color:a},o),area:s&&S({color:a},s),label:void 0}}),u=Tt({},l,{options:{tooltip:!1}}),f=(o==null?void 0:o.state)||t.state,c=Tt({},l,{options:{tooltip:!1,state:f}});return lc(l),Ga(c),Xg(u),r}function YLe(r){var e,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return or(Ri((e={},e[a]=i,e[o]=n,e)))(r)}function WLe(r){var e=r.chart,t=r.options,i=t.radius,n=t.startAngle,a=t.endAngle;return e.coordinate("polar",{radius:i,startAngle:n,endAngle:a}),r}function VLe(r){var e=r.chart,t=r.options,i=t.xField,n=t.xAxis,a=t.yField,o=t.yAxis;return e.axis(i,n),e.axis(a,o),r}function qLe(r){var e=r.chart,t=r.options,i=t.label,n=t.yField,a=la(e,"line");if(!i)a.label(!1);else{var o=i.fields,s=i.callback,l=Ze(i,["fields","callback"]);a.label({fields:o||[n],callback:s,cfg:Bn(l)})}return r}function TFt(r){return or(jLe,YLe,Lr,WLe,VLe,sc,tn,qLe,bi,Hr,_i())(r)}var QJ=et(ot()),HLe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return Object.defineProperty(e.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),e.prototype.getTooltipItems=function(t){var i=this.getTooltipCfg(),n=i.shared,a=i.title,o=r.prototype.getTooltipItems.call(this,t);if(o.length>0){var s=this.view.geometries[0],l=s.dataArray,u=o[0].name,f=[];return l.forEach(function(c){c.forEach(function(h){var d=uo.getTooltipItems(h,s),v=d[0];if(!n&&v&&v.name===u){var p=(0,QJ.isNil)(a)?u:a;f.push(S(S({},v),{name:v.title,title:p}))}else if(n&&v){var p=(0,QJ.isNil)(a)?v.name||u:a;f.push(S(S({},v),{name:v.title,title:p}))}})}),f}return[]},e}(L2);dd("radar-tooltip",HLe);var IFt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.init=function(){var t=this.context.view;t.removeInteraction("tooltip")},e.prototype.show=function(){var t=this.context.event,i=this.getTooltipController();i.showTooltip({x:t.x,y:t.y})},e.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},e.prototype.getTooltipController=function(){var t=this.context.view;return t.getController("radar-tooltip")},e}(Qr);br("radar-tooltip",IFt);Vr("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var $J=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="radar",t}return e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return Tt({},r.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},e.prototype.getSchemaAdaptor=function(){return TFt},e}(Je);function LFt(r,e,t){var i=t.map(function(o){return o[e]}).filter(function(o){return o!==void 0}),n=i.length>0?Math.max.apply(Math,i):0,a=Math.abs(r)%360;return a?n*360/a:n}function OFt(r,e,t){var i=[];return r.forEach(function(n){var a=i.find(function(o){return o[e]===n[e]});a?a[t]+=n[t]||null:i.push(S({},n))}),i}function ULe(r){var e=r.chart,t=r.options,i=t.barStyle,n=t.color,a=t.tooltip,o=t.colorField,s=t.type,l=t.xField,u=t.yField,f=t.data,c=t.shape,h=qg(f,u);e.data(h);var d=Tt({},r,{options:{tooltip:a,seriesField:o,interval:{style:i,color:n,shape:c||(s==="line"?"line":"intervel")},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}});return ua(d),s==="line"&&Ga({chart:e,options:{xField:l,yField:u,seriesField:o,point:{shape:"circle",color:n}}}),r}function JJ(r){var e,t=r.options,i=t.yField,n=t.xField,a=t.data,o=t.isStack,s=t.isGroup,l=t.colorField,u=t.maxAngle,f=o&&!s&&l?OFt(a,n,i):a,c=qg(f,i);return or(Ri((e={},e[i]={min:0,max:LFt(u,i,c)},e)))(r)}function XLe(r){var e=r.chart,t=r.options,i=t.radius,n=t.innerRadius,a=t.startAngle,o=t.endAngle;return e.coordinate({type:"polar",cfg:{radius:i,innerRadius:n,startAngle:a,endAngle:o}}).transpose(),r}function ZLe(r){var e=r.chart,t=r.options,i=t.xField,n=t.xAxis;return e.axis(i,n),r}function KLe(r){var e=r.chart,t=r.options,i=t.label,n=t.yField,a=la(e,"interval");if(!i)a.label(!1);else{var o=i.callback,s=Ze(i,["callback"]);a.label({fields:[n],callback:o,cfg:S(S({},Bn(s)),{type:"polar"})})}return r}function kFt(r){return or(Qa("barStyle"),ULe,JJ,ZLe,XLe,bi,Hr,Lr,tn,sc,_i(),KLe)(r)}var PFt=Tt({},Je.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240});var ttt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="radial-bar",t}return e.getDefaultOptions=function(){return PFt},e.prototype.changeData=function(t){this.updateOption({data:t}),JJ({chart:this.chart,options:this.options}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return kFt},e}(Je);var GT=et(ot());function QLe(r){var e=r.chart,t=r.options,i=t.data,n=t.sectorStyle,a=t.shape,o=t.color;return e.data(i),or(ua)(Tt({},r,{options:{marginRatio:1,interval:{style:n,color:o,shape:a}}})),r}function $Le(r){var e=r.chart,t=r.options,i=t.label,n=t.xField,a=la(e,"interval");if(i===!1)a.label(!1);else if((0,GT.isObject)(i)){var o=i.callback,s=i.fields,l=Ze(i,["callback","fields"]),u=l.offset,f=l.layout;(u===void 0||u>=0)&&(f=f?(0,GT.isArray)(f)?f:[f]:[],l.layout=(0,GT.filter)(f,function(c){return c.type!=="limit-in-shape"}),l.layout.length||delete l.layout),a.label({fields:s||[n],callback:o,cfg:Bn(l)})}else _u(gl.WARN,i===null,"the label option must be an Object."),a.label({fields:[n]});return r}function JLe(r){var e=r.chart,t=r.options,i=t.legend,n=t.seriesField;return i===!1?e.legend(!1):n&&e.legend(n,i),r}function tOe(r){var e=r.chart,t=r.options,i=t.radius,n=t.innerRadius,a=t.startAngle,o=t.endAngle;return e.coordinate({type:"polar",cfg:{radius:i,innerRadius:n,startAngle:a,endAngle:o}}),r}function eOe(r){var e,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return or(Ri((e={},e[a]=i,e[o]=n,e)))(r)}function rOe(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return i?e.axis(a,i):e.axis(a,!1),n?e.axis(o,n):e.axis(o,!1),r}function DFt(r){or(Qa("sectorStyle"),QLe,eOe,$Le,tOe,rOe,JLe,tn,bi,Hr,Lr,_i(),Su)(r)}var FFt=Tt({},Je.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});var ett=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="rose",t}return e.getDefaultOptions=function(){return FFt},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return DFt},e}(Je);var UFt=et(ot());var ftt=et(ot());var rtt="x",itt="y",ntt="name",KC="nodes",QC="edges";var NFt=et(ot());function iOe(r,e,t){var i=[];return r.forEach(function(n){var a=n[e],o=n[t];i.includes(a)||i.push(a),i.includes(o)||i.push(o)}),i}function nOe(r,e,t,i){var n={};return e.forEach(function(a){n[a]={},e.forEach(function(o){n[a][o]=0})}),r.forEach(function(a){n[a[t]][a[i]]=1}),n}function BFt(r,e,t){if(!(0,NFt.isArray)(r))return[];var i=[],n=iOe(r,e,t),a=nOe(r,n,e,t),o={};n.forEach(function(l){o[l]=0});function s(l){o[l]=1,n.forEach(function(u){if(a[l][u]!=0)if(o[u]==1)i.push("".concat(l,"_").concat(u));else{if(o[u]==-1)return;s(u)}}),o[l]=-1}return n.forEach(function(l){o[l]!=-1&&s(l)}),i.length!==0&&console.warn("sankey data contains circle, ".concat(i.length," records removed."),i),r.filter(function(l){return i.findIndex(function(u){return u==="".concat(l[e],"_").concat(l[t])})<0})}var jT=et(ot());var RFt=et(ot());function aOe(r){return r.target.depth}function att(r){return r.depth}function ott(r,e){return e-1-r.height}function zT(r,e){return r.sourceLinks.length?r.depth:e-1}function stt(r){return r.targetLinks.length?r.depth:r.sourceLinks.length?(0,RFt.minBy)(r.sourceLinks,aOe)-1:0}function cF(r){return function(){return r}}function r6(r,e){for(var t=0,i=0;i<r.length;i++)t+=e(r[i]);return t}function i6(r,e){for(var t=-1/0,i=0;i<r.length;i++)t=Math.max(e(r[i]),t);return t}function GFt(r,e){for(var t=1/0,i=0;i<r.length;i++)t=Math.min(e(r[i]),t);return t}function zFt(r,e){return n6(r.source,e.source)||r.index-e.index}function jFt(r,e){return n6(r.target,e.target)||r.index-e.index}function n6(r,e){return r.y0-e.y0}function ltt(r){return r.value}function oOe(r){return r.index}function sOe(r){return r.nodes}function lOe(r){return r.links}function YFt(r,e){var t=r.get(e);if(!t)throw new Error("missing: "+e);return t}function WFt(r){for(var e=r.nodes,t=0,i=e;t<i.length;t++){for(var n=i[t],a=n.y0,o=a,s=0,l=n.sourceLinks;s<l.length;s++){var u=l[s];u.y0=a+u.width/2,a+=u.width}for(var f=0,c=n.targetLinks;f<c.length;f++){var u=c[f];u.y1=o+u.width/2,o+=u.width}}}function utt(){var r=0,e=0,t=1,i=1,n=24,a=8,o,s=oOe,l=zT,u,f,c,h=sOe,d=lOe,v=6;function p(B){var Y={nodes:h(B),links:d(B)};return g(Y),m(Y),y(Y),x(Y),M(Y),WFt(Y),Y}p.update=function(B){return WFt(B),B},p.nodeId=function(B){return arguments.length?(s=typeof B=="function"?B:cF(B),p):s},p.nodeAlign=function(B){return arguments.length?(l=typeof B=="function"?B:cF(B),p):l},p.nodeDepth=function(B){return arguments.length?(u=B,p):u},p.nodeSort=function(B){return arguments.length?(f=B,p):f},p.nodeWidth=function(B){return arguments.length?(n=+B,p):n},p.nodePadding=function(B){return arguments.length?(a=o=+B,p):a},p.nodes=function(B){return arguments.length?(h=typeof B=="function"?B:cF(B),p):h},p.links=function(B){return arguments.length?(d=typeof B=="function"?B:cF(B),p):d},p.linkSort=function(B){return arguments.length?(c=B,p):c},p.size=function(B){return arguments.length?(r=e=0,t=+B[0],i=+B[1],p):[t-r,i-e]},p.extent=function(B){return arguments.length?(r=+B[0][0],t=+B[1][0],e=+B[0][1],i=+B[1][1],p):[[r,e],[t,i]]},p.iterations=function(B){return arguments.length?(v=+B,p):v};function g(B){var Y=B.nodes,q=B.links;Y.forEach(function(ut,ft){ut.index=ft,ut.sourceLinks=[],ut.targetLinks=[]});var j=new Map(Y.map(function(ut){return[s(ut),ut]}));if(q.forEach(function(ut,ft){ut.index=ft;var pt=ut.source,_t=ut.target;typeof pt!="object"&&(pt=ut.source=YFt(j,pt)),typeof _t!="object"&&(_t=ut.target=YFt(j,_t)),pt.sourceLinks.push(ut),_t.targetLinks.push(ut)}),c!=null)for(var Z=0,tt=Y;Z<tt.length;Z++){var lt=tt[Z],J=lt.sourceLinks,nt=lt.targetLinks;J.sort(c),nt.sort(c)}}function m(B){for(var Y=B.nodes,q=0,j=Y;q<j.length;q++){var Z=j[q];Z.value=Z.fixedValue===void 0?Math.max(r6(Z.sourceLinks,ltt),r6(Z.targetLinks,ltt)):Z.fixedValue}}function y(B){for(var Y=B.nodes,q=Y.length,j=new Set(Y),Z=new Set,tt=0;j.size;){if(j.forEach(function(ut){ut.depth=tt;for(var ft=0,pt=ut.sourceLinks;ft<pt.length;ft++){var _t=pt[ft].target;Z.add(_t)}}),++tt>q)throw new Error("circular link");j=Z,Z=new Set}if(u)for(var lt=Math.max(i6(Y,function(ut){return ut.depth})+1,0),J=void 0,nt=0;nt<Y.length;nt++)J=Y[nt],J.depth=u.call(null,J,lt)}function x(B){for(var Y=B.nodes,q=Y.length,j=new Set(Y),Z=new Set,tt=0;j.size;){if(j.forEach(function(lt){lt.height=tt;for(var J=0,nt=lt.targetLinks;J<nt.length;J++){var ut=nt[J].source;Z.add(ut)}}),++tt>q)throw new Error("circular link");j=Z,Z=new Set}}function b(B){for(var Y=B.nodes,q=Math.max(i6(Y,function(_t){return _t.depth})+1,0),j=(t-r-n)/(q-1),Z=new Array(q).fill(0).map(function(){return[]}),tt=0,lt=Y;tt<lt.length;tt++){var J=lt[tt],nt=Math.max(0,Math.min(q-1,Math.floor(l.call(null,J,q))));J.layer=nt,J.x0=r+nt*j,J.x1=J.x0+n,Z[nt]?Z[nt].push(J):Z[nt]=[J]}if(f)for(var ut=0,ft=Z;ut<ft.length;ut++){var pt=ft[ut];pt.sort(f)}return Z}function _(B){for(var Y=GFt(B,function(Et){return(i-e-(Et.length-1)*o)/r6(Et,ltt)}),q=0,j=B;q<j.length;q++){for(var Z=j[q],tt=e,lt=0,J=Z;lt<J.length;lt++){var nt=J[lt];nt.y0=tt,nt.y1=tt+nt.value*Y,tt=nt.y1+o;for(var ut=0,ft=nt.sourceLinks;ut<ft.length;ut++){var pt=ft[ut];pt.width=pt.value*Y}}tt=(i-tt+o)/(Z.length+1);for(var _t=0;_t<Z.length;++_t){var nt=Z[_t];nt.y0+=tt*(_t+1),nt.y1+=tt*(_t+1)}N(Z)}}function M(B){var Y=b(B);o=Math.min(a,(i-e)/(i6(Y,function(tt){return tt.length})-1)),_(Y);for(var q=0;q<v;++q){var j=Math.pow(.99,q),Z=Math.max(1-j,(q+1)/v);I(Y,j,Z),A(Y,j,Z)}}function A(B,Y,q){for(var j=1,Z=B.length;j<Z;++j){for(var tt=B[j],lt=0,J=tt;lt<J.length;lt++){for(var nt=J[lt],ut=0,ft=0,pt=0,_t=nt.targetLinks;pt<_t.length;pt++){var Et=_t[pt],Ot=Et.source,oe=Et.value,se=oe*(nt.layer-Ot.layer);ut+=R(Ot,nt)*se,ft+=se}if(ft>0){var _e=(ut/ft-nt.y0)*Y;nt.y0+=_e,nt.y1+=_e,P(nt)}}f===void 0&&tt.sort(n6),tt.length&&k(tt,q)}}function I(B,Y,q){for(var j=B.length,Z=j-2;Z>=0;--Z){for(var tt=B[Z],lt=0,J=tt;lt<J.length;lt++){for(var nt=J[lt],ut=0,ft=0,pt=0,_t=nt.sourceLinks;pt<_t.length;pt++){var Et=_t[pt],Ot=Et.target,oe=Et.value,se=oe*(Ot.layer-nt.layer);ut+=z(nt,Ot)*se,ft+=se}if(ft>0){var _e=(ut/ft-nt.y0)*Y;nt.y0+=_e,nt.y1+=_e,P(nt)}}f===void 0&&tt.sort(n6),tt.length&&k(tt,q)}}function k(B,Y){var q=B.length>>1,j=B[q];O(B,j.y0-o,q-1,Y),E(B,j.y1+o,q+1,Y),O(B,i,B.length-1,Y),E(B,e,0,Y)}function E(B,Y,q,j){for(;q<B.length;++q){var Z=B[q],tt=(Y-Z.y0)*j;tt>1e-6&&(Z.y0+=tt,Z.y1+=tt),Y=Z.y1+o}}function O(B,Y,q,j){for(;q>=0;--q){var Z=B[q],tt=(Z.y1-Y)*j;tt>1e-6&&(Z.y0-=tt,Z.y1-=tt),Y=Z.y0-o}}function P(B){var Y=B.sourceLinks,q=B.targetLinks;if(c===void 0){for(var j=0,Z=q;j<Z.length;j++){var tt=Z[j].source.sourceLinks;tt.sort(jFt)}for(var lt=0,J=Y;lt<J.length;lt++){var nt=J[lt].target.targetLinks;nt.sort(zFt)}}}function N(B){if(c===void 0)for(var Y=0,q=B;Y<q.length;Y++){var j=q[Y],Z=j.sourceLinks,tt=j.targetLinks;Z.sort(jFt),tt.sort(zFt)}}function R(B,Y){for(var q=B.y0-(B.sourceLinks.length-1)*o/2,j=0,Z=B.sourceLinks;j<Z.length;j++){var tt=Z[j],lt=tt.target,J=tt.width;if(lt===Y)break;q+=J+o}for(var nt=0,ut=Y.targetLinks;nt<ut.length;nt++){var ft=ut[nt],lt=ft.source,J=ft.width;if(lt===B)break;q-=J}return q}function z(B,Y){for(var q=Y.y0-(Y.targetLinks.length-1)*o/2,j=0,Z=Y.targetLinks;j<Z.length;j++){var tt=Z[j],lt=tt.source,J=tt.width;if(lt===B)break;q+=J+o}for(var nt=0,ut=B.sourceLinks;nt<ut.length;nt++){var ft=ut[nt],lt=ft.target,J=ft.width;if(lt===Y)break;q-=J}return q}return p}var uOe={left:att,right:ott,center:stt,justify:zT},fOe={nodeId:function(r){return r.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function cOe(r){var e=(0,jT.isString)(r)?uOe[r]:(0,jT.isFunction)(r)?r:null;return e||zT}function hOe(r){return(0,jT.assign)({},fOe,r)}function VFt(r,e){var t=hOe(r),i=t.nodeId,n=t.nodeSort,a=t.nodeAlign,o=t.nodeWidth,s=t.nodePadding,l=t.nodeDepth,u=utt().nodeSort(n).nodeWidth(o).nodePadding(s).nodeDepth(l).nodeAlign(cOe(a)).extent([[0,0],[1,1]]).nodeId(i),f=u(e),c=f.nodes.map(function(d){var v=d.x0,p=d.x1,g=d.y0,m=d.y1;return d.x=[v,p,p,v],d.y=[g,g,m,m],d}).filter(function(d){return d.name!==null}),h=f.links.map(function(d){var v=d.source,p=d.target,g=v.x1,m=p.x0;d.x=[g,g,m,m];var y=d.width/2;return d.y=[d.y0+y,d.y0-y,d.y1+y,d.y1-y],d}).filter(function(d){var v=d.source,p=d.target;return v.name!==null&&p.name!==null});return{nodes:c,links:h}}function dOe(r){return r==="node-link"}function vOe(r,e,t){return Qv(r)?r/t:e}function pOe(r,e,t){return Qv(r)?r/t:e}function a6(r,e,t){var i=r.dataType,n=r.data,a=r.sourceField,o=r.targetField,s=r.weightField,l=r.nodeAlign,u=r.nodeSort,f=r.nodePadding,c=r.nodePaddingRatio,h=r.nodeWidth,d=r.nodeWidthRatio,v=r.nodeDepth,p=r.rawFields,g=p===void 0?[]:p,m;dOe(i)?m=n:m=Fj(BFt(n,a,o),a,o,s,g);var y=VFt({nodeAlign:l,nodePadding:pOe(f,c,t),nodeWidth:vOe(h,d,e),nodeSort:u,nodeDepth:v},m),x=y.nodes,b=y.links;return{nodes:x.map(function(_){return S(S({},wi(_,ne(["x","y","name"],g,!0))),{isNode:!0})}),edges:b.map(function(_){return S(S({source:_.source.name,target:_.target.name,name:_.source.name||_.target.name},wi(_,ne(["x","y","value"],g,!0))),{isNode:!1})})}}function gOe(r){var e=r.options,t=e.rawFields,i=t===void 0?[]:t;return Tt({},{options:{tooltip:{fields:(0,ftt.uniq)(ne(["name","source","target","value","isNode"],i,!0))},label:{fields:(0,ftt.uniq)(ne(["x","name"],i,!0))}}},r)}function mOe(r){var e=r.chart,t=r.options,i=t.color,n=t.nodeStyle,a=t.edgeStyle,o=t.label,s=t.tooltip,l=t.nodeState,u=t.edgeState,f=t.rawFields,c=f===void 0?[]:f;e.legend(!1),e.tooltip(s),e.axis(!1),e.coordinate().reflect("y");var h=a6(t,e.width,e.height),d=h.nodes,v=h.edges,p=e.createView({id:QC});p.data(v),ND({chart:p,options:{xField:rtt,yField:itt,seriesField:ntt,rawFields:ne(["source","target"],c,!0),edge:{color:i,style:a,shape:"arc"},tooltip:s,state:u}});var g=e.createView({id:KC});return g.data(d),Zg({chart:g,options:{xField:rtt,yField:itt,seriesField:ntt,polygon:{color:i,style:n},label:o,tooltip:s,state:l}}),e.interaction("element-active"),e.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),r}function yOe(r){var e=r.chart,t=r.options,i=t.animation,n=ne(ne([],e.views[0].geometries,!0),e.views[1].geometries,!0);return Jv(e,i,n),r}function xOe(r){var e=r.chart,t=r.options,i=t.nodeDraggable,n="sankey-node-draggable";return i?e.interaction(n):e.removeInteraction(n),r}function bOe(r){var e=r.chart,t=r.options,i=t.interactions,n=i===void 0?[]:i,a=[].concat(n,t.nodeInteractions||[]),o=[].concat(n,t.edgeInteractions||[]),s=xi(e,KC),l=xi(e,QC);return a.forEach(function(u){(u==null?void 0:u.enable)===!1?s.removeInteraction(u.type):s.interaction(u.type,u.cfg||{})}),o.forEach(function(u){(u==null?void 0:u.enable)===!1?l.removeInteraction(u.type):l.interaction(u.type,u.cfg||{})}),r}function qFt(r){return or(gOe,mOe,bOe,xOe,yOe,Lr)(r)}var YT=et(ot());var HFt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.isDragging=!1,t}return e.prototype.isNodeElement=function(){var t=(0,YT.get)(this.context,"event.target");if(t){var i=t.get("element");return i&&i.getModel().data.isNode}return!1},e.prototype.getNodeView=function(){return xi(this.context.view,KC)},e.prototype.getEdgeView=function(){return xi(this.context.view,QC)},e.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},e.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,YT.get)(this.context,"event.x"),y:(0,YT.get)(this.context,"event.y")};var t=this.context.event.target.get("element"),i=this.getCurrentDatumIdx(t);if(i===-1)return;this.currentElementIdx=i,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},e.prototype.translate=function(){if(this.isDragging){var t=this.context.view,i={x:(0,YT.get)(this.context,"event.x"),y:(0,YT.get)(this.context,"event.y")},n=i.x-this.prevPoint.x,a=i.y-this.prevPoint.y,o=this.getNodeView(),s=o.geometries[0].elements[this.currentElementIdx];if(s&&s.getModel()){var l=s.getModel().data,u=o.getOptions().data,f=o.getCoordinate(),c={x:n/f.getWidth(),y:a/f.getHeight()},h=S(S({},l),{x:l.x.map(function(m){return m+=c.x}),y:l.y.map(function(m){return m+=c.y})}),d=ne([],u,!0);d[this.currentElementIdx]=h,o.data(d);var v=l.name,p=this.getEdgeView(),g=p.getOptions().data;g.forEach(function(m){m.source===v&&(m.x[0]+=c.x,m.x[1]+=c.x,m.y[0]+=c.y,m.y[1]+=c.y),m.target===v&&(m.x[2]+=c.x,m.x[3]+=c.x,m.y[2]+=c.y,m.y[3]+=c.y)}),p.data(g),this.prevPoint=i,t.render(!0)}}},e.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},e}(Qr);br("sankey-node-drag",HFt);Vr("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(r){return r.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var ctt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="sankey",t}return e.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){var i=t.name;return i},callback:function(t){var i=t[1]===1;return{style:{fill:"#545454",textAlign:i?"end":"start"},offsetX:i?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,UFt.get)(t,[0,"data","isNode"])},formatter:function(t){var i=t.source,n=t.target,a=t.value;return{name:i+" -> "+n,value:a}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},e.prototype.changeData=function(t){this.updateOption({data:t});var i=a6(this.options,this.chart.width,this.chart.height),n=i.nodes,a=i.edges,o=xi(this.chart,KC),s=xi(this.chart,QC);o.changeData(n),s.changeData(a)},e.prototype.getSchemaAdaptor=function(){return qFt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Je);var Md=et(ot());var WT="ancestor-node",htt="value",Aw="path",XFt=[Aw,DJ,oF,FJ,"name","depth","height"],ZFt=Tt({},Je.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});var QFt=et(ot());var Ew=et(ot());var wOe={field:"value",size:[1,1],round:!1,padding:0,sort:function(r,e){return e.value-r.value},as:["x","y"],ignoreParentValue:!0};function KFt(r,e){e=(0,Ew.assign)({},wOe,e);var t=e.as;if(!(0,Ew.isArray)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=FT(e)}catch(l){console.warn(l)}var n=function(l){return X4().size(e.size).round(e.round).padding(e.padding)(tm(l).sum(function(u){return(0,Ew.size)(u.children)?e.ignoreParentValue?0:u[i]-(0,Ew.reduce)(u.children,function(f,c){return f+c[i]},0):u[i]}).sort(e.sort))},a=n(r),o=t[0],s=t[1];return a.each(function(l){var u,f;l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],l.name=l.name||((u=l.data)===null||u===void 0?void 0:u.name)||((f=l.data)===null||f===void 0?void 0:f.label),l.data.name=l.name,["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete l[c]})}),NT(a)}var o6=et(ot());var _Oe={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(r,e){return e.value-r.value},ratio:.5*(1+Math.sqrt(5))};function SOe(r,e){return r==="treemapSquarify"?Q4[r].ratio(e):Q4[r]}function s6(r,e){e=(0,o6.assign)({},_Oe,e);var t=e.as;if(!(0,o6.isArray)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var i;try{i=FT(e)}catch(u){console.warn(u)}var n=SOe(e.tile,e.ratio),a=function(u){return PJ().tile(n).size(e.size).round(e.round).padding(e.padding).paddingInner(e.paddingInner).paddingOuter(e.paddingOuter).paddingTop(e.paddingTop).paddingRight(e.paddingRight).paddingBottom(e.paddingBottom).paddingLeft(e.paddingLeft)(tm(u).sum(function(f){return e.ignoreParentValue&&f.children?0:f[i]}).sort(e.sort))},o=a(r),s=t[0],l=t[1];return o.each(function(u){u[s]=[u.x0,u.x1,u.x1,u.x0],u[l]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(f){t.indexOf(f)===-1&&delete u[f]})}),NT(o)}function dtt(r){var e=r.data,t=r.colorField,i=r.rawFields,n=r.hierarchyConfig,a=n===void 0?{}:n,o=a.activeDepth,s={partition:KFt,treemap:s6},l=r.seriesField,u=r.type||"partition",f=s[u](e,S(S({field:l||"value"},(0,QFt.omit)(a,["activeDepth"])),{type:"hierarchy.".concat(u),as:["x","y"]})),c=[];return f.forEach(function(h){var d,v,p,g,m,y;if(h.depth===0||o>0&&h.depth>o)return null;for(var x=h.data.name,b=S({},h);b.depth>1;)x="".concat((v=b.parent.data)===null||v===void 0?void 0:v.name," / ").concat(x),b=b.parent;var _=S(S(S({},wi(h.data,ne(ne([],i||[],!0),[a.field],!1))),(d={},d[Aw]=x,d[WT]=b.data.name,d)),h);l&&(_[l]=h.data[l]||((g=(p=h.parent)===null||p===void 0?void 0:p.data)===null||g===void 0?void 0:g[l])),t&&(_[t]=h.data[t]||((y=(m=h.parent)===null||m===void 0?void 0:m.data)===null||y===void 0?void 0:y[t])),_.ext=a,_[xw]={hierarchyConfig:a,colorField:t,rawFields:i},c.push(_)}),c}function COe(r){var e=r.chart,t=r.options,i=t.color,n=t.colorField,a=n===void 0?WT:n,o=t.sunburstStyle,s=t.rawFields,l=s===void 0?[]:s,u=t.shape,f=dtt(t);e.data(f);var c;return o&&(c=function(h){return Tt({},{fillOpacity:Math.pow(.85,h.depth)},(0,Md.isFunction)(o)?o(h):o)}),Zg(Tt({},r,{options:{xField:"x",yField:"y",seriesField:a,rawFields:(0,Md.uniq)(ne(ne([],XFt,!0),l,!0)),polygon:{color:i,style:c,shape:u}}})),r}function MOe(r){var e=r.chart;return e.axis(!1),r}function AOe(r){var e=r.chart,t=r.options,i=t.label,n=la(e,"polygon");if(!i)n.label(!1);else{var a=i.fields,o=a===void 0?["name"]:a,s=i.callback,l=Ze(i,["fields","callback"]);n.label({fields:o,callback:s,cfg:Bn(l)})}return r}function EOe(r){var e=r.chart,t=r.options,i=t.innerRadius,n=t.radius,a=t.reflect,o=e.coordinate({type:"polar",cfg:{innerRadius:i,radius:n}});return a&&o.reflect(a),r}function TOe(r){var e,t=r.options,i=t.hierarchyConfig,n=t.meta;return or(Ri({},(e={},e[htt]=(0,Md.get)(n,(0,Md.get)(i,["field"],"value")),e)))(r)}function IOe(r){var e=r.chart,t=r.options,i=t.tooltip;if(i===!1)e.tooltip(!1);else{var n=i;(0,Md.get)(i,"fields")||(n=Tt({},{customItems:function(a){return a.map(function(o){var s=(0,Md.get)(e.getOptions(),"scales"),l=(0,Md.get)(s,[Aw,"formatter"],function(f){return f}),u=(0,Md.get)(s,[htt,"formatter"],function(f){return f});return S(S({},o),{name:l(o.data[Aw]),value:u(o.data.value)})})}},n)),e.tooltip(n)}return r}function LOe(r){var e=r.drilldown,t=r.interactions,i=t===void 0?[]:t;return(e==null?void 0:e.enabled)?Tt({},r,{interactions:ne(ne([],i,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:dtt}}],!1)}):r}function OOe(r){var e=r.chart,t=r.options,i=t.drilldown;return bi({chart:e,options:LOe(t)}),(i==null?void 0:i.enabled)&&(e.appendPadding=sw(e.appendPadding,(0,Md.get)(i,["breadCrumb","position"]))),r}function $Ft(r){return or(Lr,Qa("sunburstStyle"),COe,MOe,TOe,sc,EOe,IOe,AOe,OOe,Hr,_i())(r)}var vtt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="sunburst",t}return e.getDefaultOptions=function(){return ZFt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return $Ft},e.SUNBURST_ANCESTOR_FIELD=WT,e.SUNBURST_PATH_FIELD=Aw,e.NODE_ANCESTORS_FIELD=oF,e}(Je);var tNt=et(ot());var hF=et(ot());function ptt(r,e){if(!!(0,hF.isArray)(r))return r.find(function(t){return t.type===e})}function gtt(r,e){var t=ptt(r,e);return t&&t.enable!==!1}function l6(r){var e=r.interactions,t=r.drilldown;return(0,hF.get)(t,"enabled")||gtt(e,"treemap-drill-down")}function JFt(r){var e=r.interactions["drill-down"];if(!!e){var t=e.context.actions.find(function(i){return i.name==="drill-down-action"});t.reset()}}function dF(r){var e=r.data,t=r.colorField,i=r.enableDrillDown,n=r.hierarchyConfig,a=s6(e,S(S({},n),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return a.forEach(function(s){if(s.depth===0||i&&s.depth!==1||!i&&s.children)return null;var l=s.ancestors().map(function(h){return{data:h.data,height:h.height,value:h.value}}),u=i&&(0,hF.isArray)(e.path)?l.concat(e.path.slice(1)):l,f=Object.assign({},s.data,S({x:s.x,y:s.y,depth:s.depth,value:s.value,path:u},s));if(!s.data[t]&&s.parent){var c=s.ancestors().find(function(h){return h.data[t]});f[t]=c==null?void 0:c.data[t]}else f[t]=s.data[t];f[xw]={hierarchyConfig:n,colorField:t,enableDrillDown:i},o.push(f)}),o}function kOe(r){var e=r.options,t=e.colorField;return Tt({options:{rawFields:["value"],tooltip:{fields:["name","value",t,"path"],formatter:function(i){return{name:i.name,value:i.value}}}}},r)}function POe(r){var e=r.chart,t=r.options,i=t.color,n=t.colorField,a=t.rectStyle,o=t.hierarchyConfig,s=t.rawFields,l=dF({data:t.data,colorField:t.colorField,enableDrillDown:l6(t),hierarchyConfig:o});return e.data(l),Zg(Tt({},r,{options:{xField:"x",yField:"y",seriesField:n,rawFields:s,polygon:{color:i,style:a}}})),e.coordinate().reflect("y"),r}function DOe(r){var e=r.chart;return e.axis(!1),r}function FOe(r){var e=r.drilldown,t=r.interactions,i=t===void 0?[]:t,n=l6(r);return n?Tt({},r,{interactions:ne(ne([],i,!0),[{type:"drill-down",cfg:{drillDownConfig:e,transformData:dF}}],!1)}):r}function NOe(r){var e=r.chart,t=r.options,i=t.interactions,n=t.drilldown;bi({chart:e,options:FOe(t)});var a=ptt(i,"view-zoom");a&&(a.enable!==!1?e.getCanvas().on("mousewheel",function(s){s.preventDefault()}):e.getCanvas().off("mousewheel"));var o=l6(t);return o&&(e.appendPadding=sw(e.appendPadding,(0,tNt.get)(n,["breadCrumb","position"]))),r}function eNt(r){return or(kOe,Lr,Qa("rectStyle"),POe,DOe,sc,tn,NOe,Hr,_i())(r)}var rNt={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}};var mtt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="treemap",t}return e.getDefaultOptions=function(){return rNt},e.prototype.changeData=function(t){var i=this.options,n=i.colorField,a=i.interactions,o=i.hierarchyConfig;this.updateOption({data:t});var s=dF({data:t,colorField:n,enableDrillDown:gtt(a,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(s),JFt(this.chart)},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return eNt},e}(Je);var ex=et(ot());var np="id",vF="path",iNt={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(r){return{name:r.id,value:r.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function $C(r){if(!!r){var e=r.geometries[0].elements;e.forEach(function(t){t.shape.toFront()})}}var BOe=qv("element-active"),nNt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){$C(this.context.view)},e.prototype.active=function(){r.prototype.active.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(BOe);var ROe=qv("element-highlight"),aNt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){$C(this.context.view)},e.prototype.highlight=function(){r.prototype.highlight.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.clear=function(){r.prototype.clear.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(ROe);var GOe=qv("element-selected"),zOe=qv("element-single-selected"),oNt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){$C(this.context.view)},e.prototype.selected=function(){r.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(GOe);var sNt=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.syncElementsPos=function(){$C(this.context.view)},e.prototype.selected=function(){r.prototype.selected.call(this),this.syncElementsPos()},e.prototype.toggle=function(){r.prototype.toggle.call(this),this.syncElementsPos()},e.prototype.reset=function(){r.prototype.reset.call(this),this.syncElementsPos()},e}(zOe);br("venn-element-active",nNt);br("venn-element-highlight",aNt);br("venn-element-selected",oNt);br("venn-element-single-selected",sNt);Vr("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]});Vr("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]});Vr("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]});Vr("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]});Vr("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]});Vr("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var jOe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getLabelPoint=function(t,i,n){var a=t.data,o=a.x,s=a.y,l=t.customLabelInfo,u=l.offsetX,f=l.offsetY;return{content:t.content[n],x:o+u,y:s+f}},e}(Bg);D0("venn",jOe);var YOe=Array.isArray,ytt=YOe;var pF=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,WOe=new RegExp("([a-z])["+pF+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+pF+"]*,?["+pF+"]*)+)","ig"),VOe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+pF+"]*,?["+pF+"]*","ig");function gF(r){if(!r)return null;if(ytt(r))return r;var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(r).replace(WOe,function(i,n,a){var o=[],s=n.toLowerCase();if(a.replace(VOe,function(l,u){u&&o.push(+u)}),s==="m"&&o.length>2&&(t.push([n].concat(o.splice(0,2))),s="l",n=n==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([n,o[0]]),s==="r")t.push([n].concat(o));else for(;o.length>=e[s]&&(t.push([n].concat(o.splice(0,e[s]))),!!e[s]););return""}),t}var q8i=Math.PI*2;function $Oe(r){return Tt({},r.defaultStyle,{fill:r.color},r.style)}kr("schema","venn",{draw:function(r,e){var t=r.data,i=gF(t[vF]),n=$Oe(r),a=e.addGroup({name:"venn-shape"});a.addShape("path",{attrs:S(S({},n),{path:i}),name:"venn-path"});var o=r.customInfo,s=o.offsetX,l=o.offsetY,u=uo.transform(null,[["t",s,l]]);return a.setMatrix(u),a},getMarker:function(r){var e=r.color;return{symbol:"circle",style:{lineWidth:0,stroke:e,fill:e,r:4}}}});var c6=et(ot());var JOe=function(r){return function(e,t){var i=[];return i[0]=r(e[0],t[0]),i[1]=r(e[1],t[1]),i[2]=r(e[2],t[2]),i}},lNt={normal:function(r){return r},multiply:function(r,e){return r*e/255},screen:function(r,e){return 255*(1-(1-r/255)*(1-e/255))},overlay:function(r,e){return e<128?2*r*e/255:255*(1-2*(1-r/255)*(1-e/255))},darken:function(r,e){return r>e?e:r},lighten:function(r,e){return r>e?r:e},dodge:function(r,e){return r===255?255:(r=255*(e/255)/(1-r/255),r>255?255:r)},burn:function(r,e){return e===255?255:r===0?0:255*(1-Math.min(1,(1-e/255)/(r/255)))}},tke=function(r){if(!lNt[r])throw new Error("unknown blend mode "+r);return lNt[r]};function uNt(r,e,t){t===void 0&&(t="normal");var i=JOe(tke(t))(u6(r),u6(e)),n=u6(r),a=n[0],o=n[1],s=n[2],l=n[3],u=u6(e),f=u[0],c=u[1],h=u[2],d=u[3],v=Number((l+d*(1-l)).toFixed(2)),p=Math.round((l*(1-d)*(a/255)+l*d*(i[0]/255)+(1-l)*d*(f/255))/v*255),g=Math.round((l*(1-d)*(o/255)+l*d*(i[1]/255)+(1-l)*d*(c/255))/v*255),m=Math.round((l*(1-d)*(s/255)+l*d*(i[2]/255)+(1-l)*d*(h/255))/v*255);return"rgba(".concat(p,", ").concat(g,", ").concat(m,", ").concat(v,")")}function u6(r){var e=r.replace("/s+/g",""),t;return typeof e=="string"&&!e.startsWith("rgba")&&!e.startsWith("#")?t=th.rgb2arr(th.toRGB(e)).concat([1]):(e.startsWith("rgba")&&(t=e.replace("rgba(","").replace(")","").split(",")),e.startsWith("#")&&(t=th.rgb2arr(e).concat([1])),t.map(function(i,n){return n===3?Number(i):i|0}))}var hNt=et(xtt());var cNt=1e-10;function mF(r,e){var t=rke(r),i=t.filter(function(A){return eke(A,r)}),n=0,a=0,o,s=[];if(i.length>1){var l=Stt(i);for(o=0;o<i.length;++o){var u=i[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}i.sort(function(A,I){return I.angle-A.angle});var f=i[i.length-1];for(o=0;o<i.length;++o){var c=i[o];a+=(f.x+c.x)*(c.y-f.y);for(var h={x:(c.x+f.x)/2,y:(c.y+f.y)/2},d=null,v=0;v<c.parentIndex.length;++v)if(f.parentIndex.indexOf(c.parentIndex[v])>-1){var p=r[c.parentIndex[v]],g=Math.atan2(c.x-p.x,c.y-p.y),m=Math.atan2(f.x-p.x,f.y-p.y),y=m-g;y<0&&(y+=2*Math.PI);var x=m-y/2,b=lh(h,{x:p.x+p.radius*Math.sin(x),y:p.y+p.radius*Math.cos(x)});b>p.radius*2&&(b=p.radius*2),(d===null||d.width>b)&&(d={circle:p,width:b,p1:c,p2:f})}d!==null&&(s.push(d),n+=btt(d.circle.radius,d.width),f=c)}}else{var _=r[0];for(o=1;o<r.length;++o)r[o].radius<_.radius&&(_=r[o]);var M=!1;for(o=0;o<r.length;++o)if(lh(r[o],_)>Math.abs(_.radius-r[o].radius)){M=!0;break}M?n=a=0:(n=_.radius*_.radius*Math.PI,s.push({circle:_,p1:{x:_.x,y:_.y+_.radius},p2:{x:_.x-cNt,y:_.y+_.radius},width:_.radius*2}))}return a/=2,e&&(e.area=n+a,e.arcArea=n,e.polygonArea=a,e.arcs=s,e.innerPoints=i,e.intersectionPoints=t),n+a}function eke(r,e){for(var t=0;t<e.length;++t)if(lh(r,e[t])>e[t].radius+cNt)return!1;return!0}function rke(r){for(var e=[],t=0;t<r.length;++t)for(var i=t+1;i<r.length;++i)for(var n=_tt(r[t],r[i]),a=0;a<n.length;++a){var o=n[a];o.parentIndex=[t,i],e.push(o)}return e}function btt(r,e){return r*r*Math.acos(1-e/r)-(r-e)*Math.sqrt(e*(2*r-e))}function lh(r,e){return Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y))}function wtt(r,e,t){if(t>=r+e)return 0;if(t<=Math.abs(r-e))return Math.PI*Math.min(r,e)*Math.min(r,e);var i=r-(t*t-e*e+r*r)/(2*t),n=e-(t*t-r*r+e*e)/(2*t);return btt(r,i)+btt(e,n)}function _tt(r,e){var t=lh(r,e),i=r.radius,n=e.radius;if(t>=i+n||t<=Math.abs(i-n))return[];var a=(i*i-n*n+t*t)/(2*t),o=Math.sqrt(i*i-a*a),s=r.x+a*(e.x-r.x)/t,l=r.y+a*(e.y-r.y)/t,u=-(e.y-r.y)*(o/t),f=-(e.x-r.x)*(o/t);return[{x:s+u,y:l-f},{x:s-u,y:l+f}]}function Stt(r){for(var e={x:0,y:0},t=0;t<r.length;++t)e.x+=r[t].x,e.y+=r[t].y;return e.x/=r.length,e.y/=r.length,e}function Ctt(r,e,t){var i=e[0].radius-lh(e[0],r),n,a;for(n=1;n<e.length;++n)a=e[n].radius-lh(e[n],r),a<=i&&(i=a);for(n=0;n<t.length;++n)a=lh(t[n],r)-t[n].radius,a<=i&&(i=a);return i}function dNt(r,e){var t=[],i;for(i=0;i<r.length;++i){var n=r[i];t.push({x:n.x,y:n.y}),t.push({x:n.x+n.radius/2,y:n.y}),t.push({x:n.x-n.radius/2,y:n.y}),t.push({x:n.x,y:n.y+n.radius/2}),t.push({x:n.x,y:n.y-n.radius/2})}var a=t[0],o=Ctt(t[0],r,e);for(i=1;i<t.length;++i){var s=Ctt(t[i],r,e);s>=o&&(a=t[i],o=s)}var l=(0,hNt.nelderMead)(function(h){return-1*Ctt({x:h[0],y:h[1]},r,e)},[a.x,a.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},f=!0;for(i=0;i<r.length;++i)if(lh(u,r[i])>r[i].radius){f=!1;break}for(i=0;i<e.length;++i)if(lh(u,e[i])<e[i].radius){f=!1;break}if(!f)if(r.length==1)u={x:r[0].x,y:r[0].y};else{var c={};mF(r,c),c.arcs.length===0?u={x:0,y:-1e3,disjoint:!0}:c.arcs.length==1?u={x:c.arcs[0].circle.x,y:c.arcs[0].circle.y}:e.length?u=dNt(r,[]):u=Stt(c.arcs.map(function(h){return h.p1}))}return u}function ike(r){var e={},t=[];for(var i in r)t.push(i),e[i]=[];for(var n=0;n<t.length;n++)for(var a=r[t[n]],o=n+1;o<t.length;++o){var s=r[t[o]],l=lh(a,s);l+s.radius<=a.radius+1e-10?e[t[o]].push(t[n]):l+a.radius<=s.radius+1e-10&&e[t[n]].push(t[o])}return e}function vNt(r,e){for(var t={},i=ike(r),n=0;n<e.length;++n){for(var a=e[n].sets,o={},s={},l=0;l<a.length;++l){o[a[l]]=!0;for(var u=i[a[l]],f=0;f<u.length;++f)s[u[f]]=!0}var c=[],h=[];for(var d in r)d in o?c.push(r[d]):d in s||h.push(r[d]);var v=dNt(c,h);t[a]=v,v.disjoint&&e[n].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return t}function nke(r,e,t){var i=[],n=r-t,a=e;return i.push("M",n,a),i.push("A",t,t,0,1,0,n+2*t,a),i.push("A",t,t,0,1,0,n,a),i.join(" ")}function pNt(r){var e={};mF(r,e);var t=e.arcs;if(t.length===0)return"M 0 0";if(t.length==1){var i=t[0].circle;return nke(i.x,i.y,i.radius)}else{for(var n=[`
M`,t[0].p2.x,t[0].p2.y],a=0;a<t.length;++a){var o=t[a],s=o.circle.radius,l=o.width>s;n.push(`
A`,s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return n.join(" ")}}var Cu=et(xtt());function gNt(r,e){e=e||{},e.maxIterations=e.maxIterations||500;var t=e.initialLayout||lke,i=e.lossFunction||Att;r=ake(r);var n=t(r,e),a=[],o=[],s;for(s in n)n.hasOwnProperty(s)&&(a.push(n[s].x),a.push(n[s].y),o.push(s));for(var l=(0,Cu.nelderMead)(function(c){for(var h={},d=0;d<o.length;++d){var v=o[d];h[v]={x:c[2*d],y:c[2*d+1],radius:n[v].radius}}return i(h,r)},a,e),u=l.x,f=0;f<o.length;++f)s=o[f],n[s].x=u[2*f],n[s].y=u[2*f+1];return n}var mNt=1e-10;function Mtt(r,e,t){return Math.min(r,e)*Math.min(r,e)*Math.PI<=t+mNt?Math.abs(r-e):(0,Cu.bisect)(function(i){return wtt(r,e,i)-t},0,r+e)}function ake(r){r=r.slice();var e=[],t={},i,n,a,o;for(i=0;i<r.length;++i){var s=r[i];s.sets.length==1?e.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],t[[a,o]]=!0,t[[o,a]]=!0)}for(e.sort(function(l,u){return l>u?1:-1}),i=0;i<e.length;++i)for(a=e[i],n=i+1;n<e.length;++n)o=e[n],[a,o]in t||r.push({sets:[a,o],size:0});return r}function oke(r,e,t){var i=(0,Cu.zerosM)(e.length,e.length),n=(0,Cu.zerosM)(e.length,e.length);return r.filter(function(a){return a.sets.length==2}).map(function(a){var o=t[a.sets[0]],s=t[a.sets[1]],l=Math.sqrt(e[o].size/Math.PI),u=Math.sqrt(e[s].size/Math.PI),f=Mtt(l,u,a.size);i[o][s]=i[s][o]=f;var c=0;a.size+1e-10>=Math.min(e[o].size,e[s].size)?c=1:a.size<=1e-10&&(c=-1),n[o][s]=n[s][o]=c}),{distances:i,constraints:n}}function ske(r,e,t,i){var n=0,a;for(a=0;a<e.length;++a)e[a]=0;for(a=0;a<t.length;++a)for(var o=r[2*a],s=r[2*a+1],l=a+1;l<t.length;++l){var u=r[2*l],f=r[2*l+1],c=t[a][l],h=i[a][l],d=(u-o)*(u-o)+(f-s)*(f-s),v=Math.sqrt(d),p=d-c*c;h>0&&v<=c||h<0&&v>=c||(n+=2*p*p,e[2*a]+=4*p*(o-u),e[2*a+1]+=4*p*(s-f),e[2*l]+=4*p*(u-o),e[2*l+1]+=4*p*(f-s))}return n}function lke(r,e){var t=fke(r,e),i=e.lossFunction||Att;if(r.length>=8){var n=uke(r,e),a=i(n,r),o=i(t,r);a+1e-8<o&&(t=n)}return t}function uke(r,e){e=e||{};var t=e.restarts||10,i=[],n={},a;for(a=0;a<r.length;++a){var o=r[a];o.sets.length==1&&(n[o.sets[0]]=i.length,i.push(o))}var s=oke(r,i,n),l=s.distances,u=s.constraints,f=(0,Cu.norm2)(l.map(Cu.norm2))/l.length;l=l.map(function(y){return y.map(function(x){return x/f})});var c=function(y,x){return ske(y,x,l,u)},h,d;for(a=0;a<t;++a){var v=(0,Cu.zeros)(l.length*2).map(Math.random);d=(0,Cu.conjugateGradient)(c,v,e),(!h||d.fx<h.fx)&&(h=d)}var p=h.x,g={};for(a=0;a<i.length;++a){var m=i[a];g[m.sets[0]]={x:p[2*a]*f,y:p[2*a+1]*f,radius:Math.sqrt(m.size/Math.PI)}}if(e.history)for(a=0;a<e.history.length;++a)(0,Cu.scale)(e.history[a].x,f);return g}function fke(r,e){for(var t=e&&e.lossFunction?e.lossFunction:Att,i={},n={},a,o=0;o<r.length;++o){var s=r[o];s.sets.length==1&&(a=s.sets[0],i[a]={x:1e10,y:1e10,rowid:Object.keys(i).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},n[a]=[])}r=r.filter(function(B){return B.sets.length==2});for(var o=0;o<r.length;++o){var l=r[o],u=l.hasOwnProperty("weight")?l.weight:1,f=l.sets[0],c=l.sets[1];l.size+mNt>=Math.min(i[f].size,i[c].size)&&(u=0),n[f].push({set:c,size:l.size,weight:u}),n[c].push({set:f,size:l.size,weight:u})}var h=[];for(a in n)if(n.hasOwnProperty(a)){for(var d=0,o=0;o<n[a].length;++o)d+=n[a][o].size*n[a][o].weight;h.push({set:a,size:d})}function v(B,Y){return Y.size-B.size}h.sort(v);var p={};function g(B){return B.set in p}function m(B,Y){i[Y].x=B.x,i[Y].y=B.y,p[Y]=!0}m({x:0,y:0},h[0].set);for(var o=1;o<h.length;++o){var y=h[o].set,x=n[y].filter(g);if(a=i[y],x.sort(v),x.length===0)throw"ERROR: missing pairwise overlap information";for(var b=[],_=0;_<x.length;++_){var M=i[x[_].set],A=Mtt(a.radius,M.radius,x[_].size);b.push({x:M.x+A,y:M.y}),b.push({x:M.x-A,y:M.y}),b.push({y:M.y+A,x:M.x}),b.push({y:M.y-A,x:M.x});for(var I=_+1;I<x.length;++I)for(var k=i[x[I].set],E=Mtt(a.radius,k.radius,x[I].size),O=_tt({x:M.x,y:M.y,radius:A},{x:k.x,y:k.y,radius:E}),P=0;P<O.length;++P)b.push(O[P])}for(var N=1e50,R=b[0],_=0;_<b.length;++_){i[y].x=b[_].x,i[y].y=b[_].y;var z=t(i,r);z<N&&(N=z,R=b[_])}m(R,y)}return i}function Att(r,e){var t=0;function i(f){return f.map(function(c){return r[c]})}for(var n=0;n<e.length;++n){var a=e[n],o=void 0;if(a.sets.length!=1){if(a.sets.length==2){var s=r[a.sets[0]],l=r[a.sets[1]];o=wtt(s.radius,l.radius,lh(s,l))}else o=mF(i(a.sets));var u=a.hasOwnProperty("weight")?a.weight:1;t+=u*(o-a.size)*(o-a.size)}}return t}function cke(r){var e=function(t){var i=Math.max.apply(null,r.map(function(a){return a[t]+a.radius})),n=Math.min.apply(null,r.map(function(a){return a[t]-a.radius}));return{max:i,min:n}};return{xRange:e("x"),yRange:e("y")}}function yNt(r,e,t,i){var n=[],a=[];for(var o in r)r.hasOwnProperty(o)&&(a.push(o),n.push(r[o]));e-=2*i,t-=2*i;var s=cke(n),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),r;for(var f=e/(l.max-l.min),c=t/(u.max-u.min),h=Math.min(c,f),d=(e-(l.max-l.min)*h)/2,v=(t-(u.max-u.min)*h)/2,p={},g=0;g<n.length;++g){var m=n[g];p[a[g]]={radius:h*m.radius,x:i+d+(m.x-l.min)*h,y:i+v+(m.y-u.min)*h}}return p}var xNt=(0,c6.memoize)(function(r,e,t,i){var n=new Map,a=r.length;return e.forEach(function(o,s){if(o[i].length===1)n.set(o[np],r[(s+a)%a]);else{var l=o[i].map(function(u){return n.get(u)});n.set(o[np],l.slice(1).reduce(function(u,f){return uNt(u,f,t)},l[0]))}}),n},function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return JSON.stringify(r)});function bNt(r,e,t,i){i===void 0&&(i=0);var n=r.data,a=r.setsField,o=r.sizeField;if(n.length===0)return _u(gl.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var s=n.map(function(c){var h;return S(S({},c),(h={sets:c[a]||[],size:c[o]},h[vF]="",h[np]="",h))});s.sort(function(c,h){return c.sets.length-h.sets.length});var l=gNt(s),u=yNt(l,e,t,i),f=vNt(u,s);return s.forEach(function(c){var h=c.sets,d=h.join(",");c[np]=d;var v=h.map(function(m){return u[m]}),p=pNt(v);/[zZ]$/.test(p)||(p+=" Z"),c[vF]=p;var g=f[d]||{x:0,y:0};(0,c6.assign)(c,g)}),s}function wNt(r,e){for(var t=0;t<e.length;t++)if(!r.includes(e[t]))return!1;return!0}var hke=40;function _Nt(r,e,t){var i=r.chart,n=r.options,a=n.blendMode,o=n.setsField,s=i.getTheme(),l=s.colors10,u=s.colors20,f=t;(0,ex.isArray)(f)||(f=e.filter(function(h){return h[o].length===1}).length<=10?l:u);var c=xNt(f,e,a,o);return function(h){return c.get(h)||f[0]}}function dke(r,e){var t=r.options,i=t.color;if(typeof i!="function"){var n=typeof i=="string"?[i]:i,a=_Nt(r,e,n);return function(o){return a(o[np])}}return i}function vke(r){var e=r.chart,t=r.options,i=t.legend,n=t.appendPadding,a=t.padding,o=$v(n);return i!==!1&&(o=sw(n,(0,ex.get)(i,"position"),hke)),e.appendPadding=vT([o,a]),r}function pke(r){var e=r.options,t=e.data;t||(_u(gl.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),t=[]);var i=t.filter(function(a){return a.sets.length===1}).map(function(a){return a.sets[0]}),n=t.filter(function(a){var o=a.sets;return wNt(i,o)});return(0,ex.isEqual)(n,t)||_u(gl.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),(0,ex.deepMix)({},r,{options:{data:n}})}function gke(r){var e=r.chart,t=r.options,i=t.pointStyle,n=t.setsField,a=t.sizeField,o=$v(e.appendPadding),s=o[0],l=o[1],u=o[2],f=o[3],c={offsetX:f,offsetY:s},h=e.viewBBox,d=h.width,v=h.height,p=bNt(t,Math.max(d-(l+f),0),Math.max(v-(s+u),0),0);e.data(p);var g=lw(Tt({},r,{options:{xField:"x",yField:"y",sizeField:a,seriesField:np,rawFields:[n,a],schema:{shape:"venn",style:i}}})).ext,m=g.geometry;m.customInfo(c);var y=dke(r,p);return typeof y=="function"&&m.color(np,function(x){var b=p.find(function(M){return M[np]===x}),_=_Nt(r,p)(x);return y(b,_)}),r}function mke(r){var e=r.chart,t=r.options,i=t.label,n=$v(e.appendPadding),a=n[0],o=n[3],s={offsetX:o,offsetY:a},l=la(e,"schema");if(!i)l.label(!1);else{var u=i.callback,f=Ze(i,["callback"]);l.label({fields:["id"],callback:u,cfg:(0,ex.deepMix)({},Bn(f),{type:"venn",customLabelInfo:s})})}return r}function yke(r){var e=r.chart,t=r.options,i=t.legend,n=t.sizeField;return e.legend(np,i),e.legend(n,!1),r}function xke(r){var e=r.chart;return e.axis(!1),r}function bke(r){var e=r.options,t=r.chart,i=e.interactions;if(i){var n={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};bi(Tt({},r,{options:{interactions:i.map(function(a){return S(S({},a),{type:n[a.type]||a.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),r}function SNt(r){return or(vke,Lr,pke,gke,mke,Ri({}),yke,xke,tn,bke,Hr)(r)}var Ett=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="venn",t}return e.getDefaultOptions=function(){return iNt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return SNt},e.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},e}(Je);var nm=et(ot());var uh="x",Tw="violinY",CNt="violinSize",Ttt="minMax",Itt="quantile",Ltt="median",h6="violin_view",MNt="min_max_view",ANt="quantile_view",ENt="median_view",TNt=Tt({},Je.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}});var im=et(ot()),BNt=et(PNt());function DNt(r,e){var t=r.length*e;if(r.length===0)throw new Error("quantile requires at least one data point.");if(e<0||e>1)throw new Error("quantiles must be between 0 and 1");return e===1?r[r.length-1]:e===0?r[0]:t%1!=0?r[Math.ceil(t)-1]:r.length%2==0?(r[t-1]+r[t])/2:r[t]}function yF(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}function v6(r,e,t,i){for(t=t||0,i=i||r.length-1;i>t;){if(i-t>600){var n=i-t+1,a=e-t+1,o=Math.log(n),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(n-s)/n);a-n/2<0&&(l*=-1);var u=Math.max(t,Math.floor(e-a*s/n+l)),f=Math.min(i,Math.floor(e+(n-a)*s/n+l));v6(r,e,u,f)}var c=r[e],h=t,d=i;for(yF(r,t,e),r[i]>c&&yF(r,t,i);h<d;){for(yF(r,h,d),h++,d--;r[h]<c;)h++;for(;r[d]>c;)d--}r[t]===c?yF(r,t,d):(d++,yF(r,d,i)),d<=e&&(t=d+1),e<=d&&(i=d-1)}}function VT(r,e){var t=r.slice();if(Array.isArray(e)){Cke(t,e);for(var i=[],n=0;n<e.length;n++)i[n]=DNt(t,e[n]);return i}else{var a=NNt(t.length,e);return FNt(t,a,0,t.length-1),DNt(t,e)}}function FNt(r,e,t,i){e%1==0?v6(r,e,t,i):(e=Math.floor(e),v6(r,e,t,i),v6(r,e+1,e+1,i))}function Cke(r,e){for(var t=[0],i=0;i<e.length;i++)t.push(NNt(r.length,e[i]));t.push(r.length-1),t.sort(Mke);for(var n=[0,t.length-1];n.length;){var a=Math.ceil(n.pop()),o=Math.floor(n.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);FNt(r,t[s],Math.floor(t[o]),Math.ceil(t[a])),n.push(o,s,s,a)}}}function Mke(r,e){return r-e}function NNt(r,e){var t=r*e;return e===1?r-1:e===0?0:t%1!=0?Math.ceil(t)-1:r%2==0?t-.5:t}var RNt=function(r){return{low:(0,im.min)(r),high:(0,im.max)(r),q1:VT(r,.25),q3:VT(r,.75),median:VT(r,[.5]),minMax:[(0,im.min)(r),(0,im.max)(r)],quantile:[VT(r,.25),VT(r,.75)]}},GNt=function(r,e){var t=BNt.default.create(r,e);return{violinSize:t.map(function(i){return i.y}),violinY:t.map(function(i){return i.x})}},p6=function(r){var e=r.xField,t=r.yField,i=r.seriesField,n=r.data,a=r.kde,o={min:a.min,max:a.max,size:a.sampleSize,width:a.width};if(!i){var s=(0,im.groupBy)(n,e);return Object.keys(s).map(function(f){var c=s[f],h=c.map(function(d){return d[t]});return S(S({x:f},GNt(h,o)),RNt(h))})}var l=[],u=(0,im.groupBy)(n,i);return Object.keys(u).forEach(function(f){var c=(0,im.groupBy)(u[f],e);return Object.keys(c).forEach(function(h){var d,v=c[h],p=v.map(function(g){return g[t]});l.push(S(S((d={x:h},d[i]=f,d),GNt(p,o)),RNt(p)))})}),l};var g6=["low","high","q1","q3","median"],m6=[{type:"dodge",marginRatio:1/32}];function Ake(r){var e=r.chart,t=r.options;return e.data(p6(t)),r}function Eke(r){var e=r.chart,t=r.options,i=t.seriesField,n=t.color,a=t.shape,o=a===void 0?"violin":a,s=t.violinStyle,l=t.tooltip,u=t.state,f=e.createView({id:h6});return q$({chart:f,options:{xField:uh,yField:Tw,seriesField:i||uh,sizeField:CNt,tooltip:S({fields:g6},l),violin:{style:s,color:n,shape:o},state:u}}),f.geometries[0].adjust(m6),r}function Tke(r){var e=r.chart,t=r.options,i=t.seriesField,n=t.color,a=t.tooltip,o=t.box;if(o===!1)return r;var s=e.createView({id:MNt});ua({chart:s,options:{xField:uh,yField:Ttt,seriesField:i||uh,tooltip:S({fields:g6},a),state:typeof o=="object"?o.state:{},interval:{color:n,size:1,style:{lineWidth:0}}}}),s.geometries[0].adjust(m6);var l=e.createView({id:ANt});ua({chart:l,options:{xField:uh,yField:Itt,seriesField:i||uh,tooltip:S({fields:g6},a),state:typeof o=="object"?o.state:{},interval:{color:n,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(m6);var u=e.createView({id:ENt});return Ga({chart:u,options:{xField:uh,yField:Ltt,seriesField:i||uh,tooltip:S({fields:g6},a),state:typeof o=="object"?o.state:{},point:{color:n,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(m6),l.axis(!1),s.axis(!1),u.axis(!1),u.legend(!1),s.legend(!1),l.legend(!1),r}function Ike(r){var e,t=r.chart,i=r.options,n=i.meta,a=i.xAxis,o=i.yAxis,s={},l=Tt(s,n,(e={},e[uh]=S(S({sync:!0},wi(a,ns)),{type:"cat"}),e[Tw]=S({sync:!0},wi(o,ns)),e[Ttt]=S({sync:Tw},wi(o,ns)),e[Itt]=S({sync:Tw},wi(o,ns)),e[Ltt]=S({sync:Tw},wi(o,ns)),e));return t.scale(l),r}function Lke(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=xi(e,h6);return i===!1?a.axis(uh,!1):a.axis(uh,i),n===!1?a.axis(Tw,!1):a.axis(Tw,n),e.axis(!1),r}function Oke(r){var e=r.chart,t=r.options,i=t.legend,n=t.seriesField,a=t.shape;if(i===!1)e.legend(!1);else{var o=n||uh,s=(0,nm.omit)(i,["selected"]);(!a||!a.startsWith("hollow"))&&((0,nm.get)(s,["marker","style","lineWidth"])||(0,nm.set)(s,["marker","style","lineWidth"],0)),e.legend(o,s),(0,nm.get)(i,"selected")&&(0,nm.each)(e.views,function(l){return l.legend(o,i)})}return r}function kke(r){var e=r.chart,t=xi(e,h6);return _i()(S(S({},r),{chart:t})),r}function Pke(r){var e=r.chart,t=r.options,i=t.animation;return(0,nm.each)(e.views,function(n){Jv(n,i)}),r}function zNt(r){return or(Lr,Ake,Eke,Tke,Ike,tn,Lke,Oke,bi,kke,Pke)(r)}var Ott=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="violin",t}return e.getDefaultOptions=function(){return TNt},e.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(p6(this.options))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.getSchemaAdaptor=function(){return zNt},e}(Je);var JC=et(ot());var dc="$$yField$$",qT="$$diffField$$",xF="$$absoluteField$$",bF="$$isTotal$$",jNt={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};var YNt=et(ot());function Dke(r){for(var e=[],t=0;t<r.length;t++){var i=r[t];if(i){var n=t===0?"M":"L";e.push([n,i.x,i.y])}}var a=r[0];return e.push(["L",a.x,a.y]),e.push(["z"]),e}function Fke(r){return Tt({},r.defaultStyle,r.style,{fill:r.color})}kr("interval","waterfall",{draw:function(r,e){var t=r.customInfo,i=r.points,n=r.nextPoints,a=e.addGroup(),o=this.parsePath(Dke(i)),s=Fke(r);a.addShape("path",{attrs:S(S({},s),{path:o})});var l=(0,YNt.get)(t,"leaderLine");if(l&&n){var u=[["M",i[2].x,i[2].y],["L",n[0].x,n[0].y]];i[2].y===n[1].y&&(u[1]=["L",n[1].x,n[1].y]),u=this.parsePath(u),a.addShape("path",{attrs:S({path:u},l.style||{})})}return a}});var am=et(ot());function Nke(r,e,t,i,n){var a,o=[];if((0,am.reduce)(r,function(l,u){var f;_u(gl.WARN,(0,am.isNumber)(u[t]),"".concat(u[t]," is not a valid number"));var c=(0,am.isUndefined)(u[t])?null:u[t];return o.push(S(S({},u),(f={},f[i]=[l,l+c],f))),l+c},0),o.length&&n){var s=(0,am.get)(o,[[r.length-1],i,[1]]);o.push((a={},a[e]=n.label,a[t]=s,a[i]=[0,s],a))}return o}function y6(r,e,t,i){var n=Nke(r,e,t,dc,i);return n.map(function(a,o){var s;return(0,am.isObject)(a)?S(S({},a),(s={},s[xF]=a[dc][1],s[qT]=a[dc][1]-a[dc][0],s[bF]=o===r.length,s)):a})}function Bke(r){var e=r.options,t=e.locale,i=e.total,n=GC(t).get(["waterfall","total"]);return i&&typeof i.label!="string"&&n&&(r.options.total.label=n),r}function Rke(r){var e=r.chart,t=r.options,i=t.data,n=t.xField,a=t.yField,o=t.total,s=t.leaderLine,l=t.columnWidthRatio,u=t.waterfallStyle,f=t.risingFill,c=t.fallingFill,h=t.color,d=t.shape,v=t.customInfo;e.data(y6(i,n,a,o));var p=h||function(x){return(0,JC.get)(x,[bF])?(0,JC.get)(o,["style","fill"],""):(0,JC.get)(x,[dc,1])-(0,JC.get)(x,[dc,0])>0?f:c},g=Tt({},r,{options:{xField:n,yField:dc,seriesField:n,rawFields:[a,qT,bF,dc],widthRatio:l,interval:{style:u,shape:d||"waterfall",color:p}}}),m=ua(g).ext,y=m.geometry;return y.customInfo(S(S({},v),{leaderLine:s})),r}function Gke(r){var e,t,i=r.options,n=i.xAxis,a=i.yAxis,o=i.xField,s=i.yField,l=i.meta,u=Tt({},{alias:s},(0,JC.get)(l,s));return or(Ri((e={},e[o]=n,e[s]=a,e[dc]=a,e),Tt({},l,(t={},t[dc]=u,t[qT]=u,t[xF]=u,t))))(r)}function zke(r){var e=r.chart,t=r.options,i=t.xAxis,n=t.yAxis,a=t.xField,o=t.yField;return i===!1?e.axis(a,!1):e.axis(a,i),n===!1?(e.axis(o,!1),e.axis(dc,!1)):(e.axis(o,n),e.axis(dc,n)),r}function jke(r){var e=r.chart,t=r.options,i=t.legend,n=t.total,a=t.risingFill,o=t.fallingFill,s=t.locale,l=GC(s);if(i===!1)e.legend(!1);else{var u=[{name:l.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:l.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];n&&u.push({name:n.label||"",value:"total",marker:{symbol:"square",style:Tt({},{r:5},(0,JC.get)(n,"style"))}}),e.legend(Tt({},{custom:!0,position:"top",items:u},i)),e.removeInteraction("legend-filter")}return r}function Yke(r){var e=r.chart,t=r.options,i=t.label,n=t.labelMode,a=t.xField,o=la(e,"interval");if(!i)o.label(!1);else{var s=i.callback,l=Ze(i,["callback"]);o.label({fields:n==="absolute"?[xF,a]:[qT,a],callback:s,cfg:Bn(l)})}return r}function Wke(r){var e=r.chart,t=r.options,i=t.tooltip,n=t.xField,a=t.yField;if(i!==!1){e.tooltip(S({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},i));var o=e.geometries[0];(i==null?void 0:i.formatter)?o.tooltip("".concat(n,"*").concat(a),i.formatter):o.tooltip(a)}else e.tooltip(!1);return r}function WNt(r){return or(Bke,Lr,Rke,Gke,zke,jke,Wke,Yke,Su,bi,Hr,_i())(r)}var ktt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="waterfall",t}return e.getDefaultOptions=function(){return jNt},e.prototype.changeData=function(t){var i=this.options,n=i.xField,a=i.yField,o=i.total;this.updateOption({data:t}),this.chart.changeData(y6(t,n,a,o))},e.prototype.getSchemaAdaptor=function(){return WNt},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e}(Je);var _6=et(ot());var x6="color",VNt=Tt({},Je.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",x6],formatter:function(r){return{name:r.text,value:r.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});var Ow=et(ot());var HT=et(ot()),Vke={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function qNt(r,e){return e=(0,HT.assign)({},Vke,e),qke(r,e)}function qke(r,e){var t=nPe();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(l){(0,HT.isNil)(e[l])||t[l](e[l])}),t.words(r),e.imageMask&&t.createMask(e.imageMask);var i=t.start(),n=i._tags;n.forEach(function(l){l.x+=e.size[0]/2,l.y+=e.size[1]/2});var a=e.size,o=a[0],s=a[1];return n.push({text:"",value:0,x:0,y:0,opacity:0}),n.push({text:"",value:0,x:o,y:s,opacity:0}),n}var Ptt=Math.PI/180,wF=1<<11>>5,b6=1<<11;function Hke(r){return r.text}function Uke(){return"serif"}function HNt(){return"normal"}function Xke(r){return r.value}function Zke(){return~~(Math.random()*2)*90}function Kke(){return 1}function Qke(r,e,t,i){if(!e.sprite){var n=r.context,a=r.ratio;n.clearRect(0,0,(wF<<5)/a,b6/a);var o=0,s=0,l=0,u=t.length;for(--i;++i<u;){e=t[i],n.save(),n.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;var f=n.measureText(e.text+"m").width*a,c=e.size<<1;if(e.rotate){var h=Math.sin(e.rotate*Ptt),d=Math.cos(e.rotate*Ptt),v=f*d,p=f*h,g=c*d,m=c*h;f=Math.max(Math.abs(v+m),Math.abs(v-m))+31>>5<<5,c=~~Math.max(Math.abs(p+g),Math.abs(p-g))}else f=f+31>>5<<5;if(c>l&&(l=c),o+f>=wF<<5&&(o=0,s+=l,l=0),s+c>=b6)break;n.translate((o+(f>>1))/a,(s+(c>>1))/a),e.rotate&&n.rotate(e.rotate*Ptt),n.fillText(e.text,0,0),e.padding&&(n.lineWidth=2*e.padding,n.strokeText(e.text,0,0)),n.restore(),e.width=f,e.height=c,e.xoff=o,e.yoff=s,e.x1=f>>1,e.y1=c>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,o+=f}for(var y=n.getImageData(0,0,(wF<<5)/a,b6/a).data,x=[];--i>=0;)if(e=t[i],!!e.hasText){for(var f=e.width,b=f>>5,c=e.y1-e.y0,_=0;_<c*b;_++)x[_]=0;if(o=e.xoff,o==null)return;s=e.yoff;for(var M=0,A=-1,I=0;I<c;I++){for(var _=0;_<f;_++){var k=b*I+(_>>5),E=y[(s+I)*(wF<<5)+(o+_)<<2]?1<<31-_%32:0;x[k]|=E,M|=E}M?A=I:(e.y0++,c--,I--,s++)}e.y1=e.y0+A,e.sprite=x.slice(0,(e.y1-e.y0)*b)}}}function $ke(r,e,t){t>>=5;for(var i=r.sprite,n=r.width>>5,a=r.x-(n<<4),o=a&127,s=32-o,l=r.y1-r.y0,u=(r.y+r.y0)*t+(a>>5),f,c=0;c<l;c++){f=0;for(var h=0;h<=n;h++)if((f<<s|(h<n?(f=i[c*n+h])>>>o:0))&e[u+h])return!0;u+=t}return!1}function Jke(r,e){var t=r[0],i=r[1];e.x+e.x0<t.x&&(t.x=e.x+e.x0),e.y+e.y0<t.y&&(t.y=e.y+e.y0),e.x+e.x1>i.x&&(i.x=e.x+e.x1),e.y+e.y1>i.y&&(i.y=e.y+e.y1)}function tPe(r,e){return r.x+r.x1>e[0].x&&r.x+r.x0<e[1].x&&r.y+r.y1>e[0].y&&r.y+r.y0<e[1].y}function UNt(r){var e=r[0]/r[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function ePe(r){var e=4,t=e*r[0]/r[1],i=0,n=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:i+=t;break;case 1:n+=e;break;case 2:i-=t;break;default:n-=e;break}return[i,n]}}function XNt(r){for(var e=[],t=-1;++t<r;)e[t]=0;return e}function rPe(){return document.createElement("canvas")}function op(r){return(0,HT.isFunction)(r)?r:function(){return r}}var iPe={archimedean:UNt,rectangular:ePe};function nPe(){var r=[256,256],e=Uke,t=Xke,i=HNt,n=Zke,a=Kke,o=UNt,s=Math.random,l=[],u=1/0,f=Hke,c=HNt,h=rPe,d={};d.start=function(){var g=r[0],m=r[1],y=v(h()),x=d.board?d.board:XNt((r[0]>>5)*r[1]),b=l.length,_=[],M=l.map(function(E,O,P){return E.text=f.call(this,E,O,P),E.font=e.call(this,E,O,P),E.style=c.call(this,E,O,P),E.weight=i.call(this,E,O,P),E.rotate=n.call(this,E,O,P),E.size=~~t.call(this,E,O,P),E.padding=a.call(this,E,O,P),E}).sort(function(E,O){return O.size-E.size}),A=-1,I=d.board?[{x:0,y:0},{x:g,y:m}]:null;k();function k(){for(var E=Date.now();Date.now()-E<u&&++A<b;){var O=M[A];O.x=g*(s()+.5)>>1,O.y=m*(s()+.5)>>1,Qke(y,O,M,A),O.hasText&&p(x,O,I)&&(_.push(O),I?d.hasImage||Jke(I,O):I=[{x:O.x+O.x0,y:O.y+O.y0},{x:O.x+O.x1,y:O.y+O.y1}],O.x-=r[0]>>1,O.y-=r[1]>>1)}d._tags=_,d._bounds=I}return d};function v(g){g.width=g.height=1;var m=Math.sqrt(g.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);g.width=(wF<<5)/m,g.height=b6/m;var y=g.getContext("2d",{willReadFrequently:!0});return y.fillStyle=y.strokeStyle="red",y.textAlign="center",{context:y,ratio:m}}function p(g,m,y){for(var x=m.x,b=m.y,_=Math.sqrt(r[0]*r[0]+r[1]*r[1]),M=o(r),A=s()<.5?1:-1,I,k=-A,E,O;(I=M(k+=A))&&(E=~~I[0],O=~~I[1],!(Math.min(Math.abs(E),Math.abs(O))>=_));)if(m.x=x+E,m.y=b+O,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>r[0]||m.y+m.y1>r[1])&&(!y||!$ke(m,g,r[0]))&&(!y||tPe(m,y))){for(var P=m.sprite,N=m.width>>5,R=r[0]>>5,z=m.x-(N<<4),B=z&127,Y=32-B,q=m.y1-m.y0,j=void 0,Z=(m.y+m.y0)*R+(z>>5),tt=0;tt<q;tt++){j=0;for(var lt=0;lt<=N;lt++)g[Z+lt]|=j<<Y|(lt<N?(j=P[tt*N+lt])>>>B:0);Z+=R}return delete m.sprite,!0}return!1}return d.createMask=function(g){var m=document.createElement("canvas"),y=r[0],x=r[1];if(!(!y||!x)){var b=y>>5,_=XNt((y>>5)*x);m.width=y,m.height=x;var M=m.getContext("2d");M.drawImage(g,0,0,g.width,g.height,0,0,y,x);for(var A=M.getImageData(0,0,y,x).data,I=0;I<x;I++)for(var k=0;k<y;k++){var E=b*I+(k>>5),O=I*y+k<<2,P=A[O]>=250&&A[O+1]>=250&&A[O+2]>=250,N=P?1<<31-k%32:0;_[E]|=N}d.board=_,d.hasImage=!0}},d.timeInterval=function(g){u=g==null?1/0:g},d.words=function(g){l=g},d.size=function(g){r=[+g[0],+g[1]]},d.font=function(g){e=op(g)},d.fontWeight=function(g){i=op(g)},d.rotate=function(g){n=op(g)},d.spiral=function(g){o=iPe[g]||g},d.fontSize=function(g){t=op(g)},d.padding=function(g){a=op(g)},d.random=function(g){s=op(g)},d}function w6(r){var e=r.options,t=r.chart,i=t,n=i.width,a=i.height,o=i.padding,s=i.appendPadding,l=i.ele,u=e.data,f=e.imageMask,c=e.wordField,h=e.weightField,d=e.colorField,v=e.wordStyle,p=e.timeInterval,g=e.random,m=e.spiral,y=e.autoFit,x=y===void 0?!0:y,b=e.placementStrategy;if(!u||!u.length)return[];var _=v.fontFamily,M=v.fontWeight,A=v.padding,I=v.fontSize,k=lPe(u,h),E=[cPe(k),hPe(k)],O=u.map(function(R){return{text:R[c],value:R[h],color:R[d],datum:R}}),P={imageMask:f,font:_,fontSize:sPe(I,E),fontWeight:M,size:aPe({width:n,height:a,padding:o,appendPadding:s,autoFit:x,container:l}),padding:A,timeInterval:p,random:g,spiral:m,rotate:uPe(e)};if((0,Ow.isFunction)(b)){var N=O.map(function(R,z,B){return S(S(S({},R),{hasText:!!R.text,font:op(P.font)(R,z,B),weight:op(P.fontWeight)(R,z,B),rotate:op(P.rotate)(R,z,B),size:op(P.fontSize)(R,z,B),style:"normal"}),b.call(t,R,z,B))});return N.push({text:"",value:0,x:0,y:0,opacity:0}),N.push({text:"",value:0,x:P.size[0],y:P.size[1],opacity:0}),N}return qNt(O,P)}function aPe(r){var e=r.width,t=r.height,i=r.container,n=r.autoFit,a=r.padding,o=r.appendPadding;if(n){var s=cT(i);e=s.width,t=s.height}e=e||400,t=t||400;var l=oPe({padding:a,appendPadding:o}),u=l[0],f=l[1],c=l[2],h=l[3],d=[e-(h+f),t-(u+c)];return d}function oPe(r){var e=$v(r.padding),t=$v(r.appendPadding),i=e[0]+t[0],n=e[1]+t[1],a=e[2]+t[2],o=e[3]+t[3];return[i,n,a,o]}function ZNt(r){return new Promise(function(e,t){if(r instanceof HTMLImageElement){e(r);return}if((0,Ow.isString)(r)){var i=new Image;i.crossOrigin="anonymous",i.src=r,i.onload=function(){e(i)},i.onerror=function(){_u(gl.ERROR,!1,"image %s load failed !!!",r),t()};return}_u(gl.WARN,r===void 0,"The type of imageMask option must be String or HTMLImageElement."),t()})}function sPe(r,e){if((0,Ow.isFunction)(r))return r;if((0,Ow.isArray)(r)){var t=r[0],i=r[1];if(!e)return function(){return(i+t)/2};var n=e[0],a=e[1];return a===n?function(){return(i+t)/2}:function(s){var l=s.value;return(i-t)/(a-n)*(l-n)+t}}return function(){return r}}function lPe(r,e){return r.map(function(t){return t[e]}).filter(function(t){return typeof t=="number"&&!isNaN(t)})}function uPe(r){var e=fPe(r),t=e.rotation,i=e.rotationSteps;if(!(0,Ow.isArray)(t))return t;var n=t[0],a=t[1],o=i===1?0:(a-n)/(i-1);return function(){return a===n?a:Math.floor(Math.random()*i)*o}}function fPe(r){var e=r.wordStyle.rotationSteps;return e<1&&(_u(gl.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),e=1),{rotation:r.wordStyle.rotation,rotationSteps:e}}function cPe(r){return Math.min.apply(Math,r)}function hPe(r){return Math.max.apply(Math,r)}function dPe(r){var e=r.chart,t=r.options,i=t.colorField,n=t.color,a=w6(r);e.data(a);var o=Tt({},r,{options:{xField:"x",yField:"y",seriesField:i&&x6,rawFields:(0,_6.isFunction)(n)&&ne(ne([],(0,_6.get)(t,"rawFields",[]),!0),["datum"],!1),point:{color:n,shape:"word-cloud"}}}),s=Ga(o).ext;return s.geometry.label(!1),e.coordinate().reflect("y"),e.axis(!1),r}function vPe(r){return or(Ri({x:{nice:!1},y:{nice:!1}}))(r)}function pPe(r){var e=r.chart,t=r.options,i=t.legend,n=t.colorField;return i===!1?e.legend(!1):n&&e.legend(x6,i),r}function KNt(r){or(dPe,vPe,tn,pPe,bi,Hr,Lr,Su)(r)}kr("point","word-cloud",{draw:function(r,e){var t=r.x,i=r.y,n=e.addShape("text",{attrs:S(S({},gPe(r)),{x:t,y:i})}),a=r.data.rotate;return typeof a=="number"&&uo.rotate(n,a*Math.PI/180),n}});function gPe(r){return{fontSize:r.data.size,text:r.data.text,textAlign:"center",fontFamily:r.data.font,fontWeight:r.data.weight,fill:r.color||r.defaultStyle.stroke,textBaseline:"alphabetic"}}var Dtt=function(r){G(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.type="word-cloud",t}return e.getDefaultOptions=function(){return VNt},e.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(w6({chart:this.chart,options:this.options}))},e.prototype.getDefaultOptions=function(){return e.getDefaultOptions()},e.prototype.render=function(){var t=this;return new Promise(function(i){var n=t.options.imageMask;if(!n){r.prototype.render.call(t),i();return}var a=function(o){t.options=S(S({},t.options),{imageMask:o||null}),r.prototype.render.call(t),i()};ZNt(n).then(a).catch(a)})},e.prototype.getSchemaAdaptor=function(){return KNt},e.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){r.prototype.triggerResize.call(t)}))},e}(Je);var mPe=function(r){G(e,r);function e(t,i,n,a){var o=r.call(this,t,Tt({},a,i))||this;return o.type="g2-plot",o.defaultOptions=a,o.adaptor=n,o}return e.prototype.getDefaultOptions=function(){return this.defaultOptions},e.prototype.getSchemaAdaptor=function(){return this.adaptor},e}(Je);W$("en-US",tPt);W$("zh-CN",ePt);var Ftt={scale:Ri,legend:sc,tooltip:tn,annotation:_i,interaction:bi,theme:Lr,animation:Hr};var SF=et(ot());var Ntt=function(){return Ntt=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ntt.apply(this,arguments)};var _F=Ntt({},PO),yPe=_F.version,xPe=_F.render,pXi=_F.unmountComponentAtNode,Btt;try{QNt=Number((yPe||"").split(".")[0]),QNt>=18&&(Btt=_F.createRoot)}catch(r){}var QNt;function $Nt(r){var e=_F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&typeof e=="object"&&(e.usingClientEntryPoint=r)}var JNt="__rc_react_root__";function bPe(r,e){$Nt(!0);var t=e[JNt]||Btt(e);$Nt(!1),t.render(r),e[JNt]=t}function wPe(r,e){xPe(r,e)}function tBt(r,e){if(Btt){bPe(r,e);return}wPe(r,e)}var Rtt=new Map,_Pe=function(r,e,t){var i=document.createElement("div");return e==="tooltip"&&(i.setAttribute("data-uuid",t),Rtt.has(t)?i=Rtt.get(t):Rtt.set(t,i),i.className="g2-tooltip"),tBt(r,i),i},eBt=_Pe;var UT=function(r,e){var t={}.toString;return t.call(r)==="[object ".concat(e,"]")},Gtt=function(r){if(!r)return r;var e={};for(var t in r)e[t]=r[t];return e};var XT=function(r){if(!r||typeof r!="object")return r;var e;return Array.isArray(r)?e=r.map(function(t){return XT(t)}):(e={},Object.keys(r).forEach(function(t){return e[t]=XT(r[t])})),e},tM=function(r,e){for(var t=r,i=0;i<e.length;i+=1)if(t==null?void 0:t[e[i]])t=t[e[i]];else{t=void 0;break}return t},ztt=function(r,e,t){if(!r)return r;var i=r;return e.forEach(function(n,a){a<e.length-1?i=i[n]:i[n]=t}),r},jtt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=Math.random()*16|0,t=r=="x"?e:e&3|8;return t.toString(16)})};var rBt=et(ot()),Br=function(r,e){!r||((0,rBt.isFunction)(r)?r(e):r.current=e)};var Ytt=function(){return Ytt=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ytt.apply(this,arguments)},iBt=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};function Rr(r,e){var t=Co(),i=Co(),n=Co(null),a=e.onReady,o=e.onEvent,s=function(c,h){var d;return c===void 0&&(c="image/png"),(d=t.current)===null||d===void 0?void 0:d.chart.canvas.cfg.el.toDataURL(c,h)},l=function(c,h,d){var v;c===void 0&&(c="download"),h===void 0&&(h="image/png");var p=c;c.indexOf(".")===-1&&(p="".concat(c,".").concat(h.split("/")[1]));var g=(v=t.current)===null||v===void 0?void 0:v.chart.canvas.cfg.el.toDataURL(h,d),m=document.createElement("a");return m.href=g,m.download=p,document.body.appendChild(m),m.click(),document.body.removeChild(m),m=null,p},u=function(c,h,d,v){var p=tM(c,h);ztt(c,h,function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];var y=UT(p,"Function")?p.apply(void 0,g):p;return UT(y,"String")||UT(y,"Number")||UT(y,"HTMLDivElement")?y:eBt(y,d,v)})},f=function(){var c=jtt();tM(e,["statistic","content","customHtml"])&&u(e,["statistic","content","customHtml"]),tM(e,["statistic","title","customHtml"])&&u(e,["statistic","title","customHtml"]),typeof e.tooltip=="object"&&(tM(e,["tooltip","container"])&&u(e,["tooltip","container"],"tooltip",c),tM(e,["tooltip","customContent"])&&u(e,["tooltip","customContent"],"tooltip",c))};return $e(function(){if(t.current&&!(0,SF.isEqual)(i.current,e)){var c=!1;if(i.current){var h=i.current,d=h.data,v=h.value,p=h.percent,g=iBt(h,["data","value","percent"]),m=e.data,y=e.value,x=e.percent,b=iBt(e,["data","value","percent"]);c=(0,SF.isEqual)(g,b)}if(i.current=XT(e),c&&(0,SF.get)(e,"chartType")!=="Mix"){var _="data",M=["percent"],A=Object.keys(e);M.forEach(function(I){A.includes(I)&&(_=I)}),t.current.changeData((e==null?void 0:e[_])||[]),t.current.render()}else f(),t.current.update(e)}},[e]),$e(function(){if(!n.current)return function(){return null};i.current||(i.current=XT(e)),f();var c=new r(n.current,Ytt({},e));c.toDataURL=function(d,v){return s(d,v)},c.downloadImage=function(d,v,p){return l(d,v,p)},c.render(),t.current=Gtt(c),a&&a(c);var h=function(d){o&&o(c,d)};return c.on("*",h),function(){t.current&&(t.current.destroy(),t.current.off("*",h),t.current=void 0)}},[]),{chart:t,container:n}}var SPe=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),CPe=function(r){SPe(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(i){var n=t.props.errorTemplate;switch(i){default:return typeof n=="function"?n(i):n||Mt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",i.message)}},t}return e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,i){return i.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Mt.createElement(ll,null,this.props.children)},e}(Mt.Component),Dr=CPe;var kw=function(){return kw=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},kw.apply(this,arguments)};function MPe(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}var APe=function(){return Math.random().toString(36).substring(6)},nBt=function(r){var e=r.animate,t=r.backgroundColor,i=r.backgroundOpacity,n=r.baseUrl,a=r.children,o=r.foregroundColor,s=r.foregroundOpacity,l=r.gradientRatio,u=r.uniqueKey,f=r.interval,c=r.rtl,h=r.speed,d=r.style,v=r.title,p=MPe(r,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),g=u||APe(),m=g+"-diff",y=g+"-animated-diff",x=g+"-aria",b=c?{transform:"scaleX(-1)"}:null,_="0; "+f+"; 1",M=h+"s";return qn("svg",kw({"aria-labelledby":x,role:"img",style:kw(kw({},d),b)},p),v?qn("title",{id:x},v):null,qn("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+n+"#"+m+")",style:{fill:"url("+n+"#"+y+")"}}),qn("defs",{role:"presentation"},qn("clipPath",{id:m},a),qn("linearGradient",{id:y},qn("stop",{offset:"0%",stopColor:t,stopOpacity:i},e&&qn("animate",{attributeName:"offset",values:-l+"; "+-l+"; 1",keyTimes:_,dur:M,repeatCount:"indefinite"})),qn("stop",{offset:"50%",stopColor:o,stopOpacity:s},e&&qn("animate",{attributeName:"offset",values:-l/2+"; "+-l/2+"; "+(1+l/2),keyTimes:_,dur:M,repeatCount:"indefinite"})),qn("stop",{offset:"100%",stopColor:t,stopOpacity:i},e&&qn("animate",{attributeName:"offset",values:"0; 0; "+(1+l),keyTimes:_,dur:M,repeatCount:"indefinite"})))))};nBt.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var aBt=function(r){return r.children?qn(nBt,kw({},r)):qn(EPe,kw({},r))},EPe=function(r){return qn(aBt,kw({viewBox:"0 0 476 124"},r),qn("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),qn("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),qn("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),qn("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),qn("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),qn("circle",{cx:"20",cy:"20",r:"20"}))};var S6=aBt;var TPe=function(r){var e=r.loadingTemplate,t=r.theme,i=t===void 0?"light":t,n=function(){return e||Mt.createElement(S6,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:i==="dark"?"#262626":"#D9D9D9"},Mt.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),Mt.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),Mt.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),Mt.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),Mt.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),Mt.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),Mt.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),Mt.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),Mt.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),Mt.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return Mt.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:i==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},n())},zr=TPe;var IPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},LPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=IPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(BD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Wtt=LPe;var OPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},kPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=OPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(RD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Vtt=kPe;var PPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},DPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=PPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(xJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),qtt=DPe;var FPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},NPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=FPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(GD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Htt=NPe;var BPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},RPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=BPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(jD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Utt=RPe;var GPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},zPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=GPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(qD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Xtt=zPe;var jPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},YPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=jPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(HD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Ztt=YPe;var WPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},VPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=WPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(mJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Ktt=VPe;var qPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},HPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=qPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(KJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Qtt=HPe;var UPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},XPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=UPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(UJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),$tt=XPe;var ZPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},KPe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=ZPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(XD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Jtt=KPe;var QPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},$Pe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=QPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(WD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),tet=$Pe;var JPe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},tDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=JPe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(ZD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),eet=tDe;var eDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},rDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=eDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr($J,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),ret=rDe;var iDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},nDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=iDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(KD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),iet=nDe;var aDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},oDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=aDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(ett,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),net=oDe;var sDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},lDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=sDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(CJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),aet=lDe;var uDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},fDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=uDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr($D,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),oet=fDe;var cDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},hDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=cDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(tF,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),set=hDe;var dDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},vDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=dDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(eF,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),uet=vDe;var pDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},gDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=pDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(qJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),fet=gDe;var mDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},yDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=mDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(rF,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),cet=yDe;var xDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},bDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=xDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(ktt,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),het=bDe;var wDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},_De=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=wDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(Dtt,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),det=_De;var SDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},CDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=SDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(vtt,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),vet=CDe;var MDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},ADe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=MDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(JD,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),pet=ADe;var EDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},TDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=EDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(ttt,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),get=TDe;var IDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},LDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=IDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(ctt,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),met=LDe;var ODe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},kDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=ODe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(mtt,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),yet=kDe;var PDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},DDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=PDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(Ott,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),xet=DDe;var FDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},NDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=FDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(Ett,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),bet=NDe;var BDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},RDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=BDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(GJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),wet=RDe;var GDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},zDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=GDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(HJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),_et=zDe;var C6=function(){return C6=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},C6.apply(this,arguments)},jDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},YDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=jDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(kT,C6(C6({},u),{chartType:"Mix"})),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),CF=YDe;var WDe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},VDe=Pr(function(r,e){var t=r.chartRef,i=r.style,n=i===void 0?{height:"inherit"}:i,a=r.className,o=r.loading,s=r.loadingTemplate,l=r.errorTemplate,u=WDe(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),f=Rr(pJ,u),c=f.chart,h=f.container;return $e(function(){Br(t,c.current)},[c.current]),Ir(e,function(){return{getChart:function(){return c.current}}}),Mt.createElement(Dr,{errorTemplate:l},o&&Mt.createElement(zr,{loadingTemplate:s,theme:r.theme}),Mt.createElement("div",{className:a,style:n,ref:h}))}),Cet=VDe;var qDe={Area:Wtt,Bar:Vtt,Box:Ktt,Bullet:qtt,Column:Htt,Funnel:Utt,Histogram:Xtt,Line:Ztt,Liquid:Qtt,Heatmap:$tt,Pie:Jtt,Progress:eet,Radar:ret,Facet:_et,RingProgress:iet,Rose:net,Chord:aet,Scatter:oet,TinyArea:set,TinyColumn:uet,TinyLine:cet,Waterfall:het,WordCloud:det,Sunburst:vet,DualAxes:fet,Stock:pet,RadialBar:get,Gauge:tet,CirclePacking:wet,Sankey:met,Treemap:yet,Violin:xet,Venn:bet,MultiView:CF,Mix:CF,BidirectionalBar:Cet,getCanvasPattern:yT,FUNNEL_CONVERSATION_FIELD:Us,G2:PD,flow:or,measureTextWidth:DD,adaptors:Ftt};var AB={};ai(AB,{ConversionDagreGraph:()=>uHt,DagreFundFlowGraph:()=>Rft,DagreGraph:()=>Bft,DecompositionTreeGraph:()=>Pqt,Edge:()=>oI,FileTreeGraph:()=>Wqt,FlowAnalysisGraph:()=>Oqt,FundFlowGraph:()=>Bqt,G6:()=>Ar,Graph:()=>KI,IndentedTree:()=>Gft,IndentedTreeGraph:()=>zft,MindMapGraph:()=>zqt,Node:()=>Yw,OrganizationGraph:()=>Mqt,OrganizationTreeGraph:()=>Dft,OrganizationalGraph:()=>jft,RadialGraph:()=>Gqt,RadialTreeGraph:()=>Aqt,TreeGraph:()=>A8,radialSectorLayout:()=>cV});var ZT=et(ot());var Met=et(ot()),oBt={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(e){return Object.assign(this,e),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(e){var t=this,i=this.events;this.graph=e,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!0),(0,Met.each)(i,function(n,a){e.on(a,n)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(e){var t=this.events,i=e.get("canvas").get("draggable");(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&e.get("canvas").set("draggable",!1),(0,Met.each)(t,function(n,a){e.off(a,n)}),e.get("canvas").set("draggable",i)},get:function(e){return this[e]},set:function(e,t){return this[e]=t,this}};var HDe=function(){function r(){}return r.registerBehavior=function(e,t){if(!t)throw new Error("please specify handler for this behavior: ".concat(e));var i=(0,ZT.clone)(oBt);Object.assign(i,t);var n=function(o){var s=this;Object.assign(this,this.getDefaultCfg(),o);var l=this.getEvents();this.events=null;var u={};l&&((0,ZT.each)(l,function(f,c){u[c]=(0,ZT.wrapBehavior)(s,f)}),this.events=u)};n.prototype=i,r.types[e]=n},r.hasBehavior=function(e){return!!r.types[e]},r.getBehavior=function(e){return r.types[e]},r.types={},r}(),M6=HDe;var Aet=M6;var li=et(ot());var Xet={};ai(Xet,{GADDI:()=>Uet,Stack:()=>Fw,breadthFirstSearch:()=>Eet,connectedComponent:()=>QT,cosineSimilarity:()=>TF,default:()=>OFe,depthFirstSearch:()=>$T,detectAllCycles:()=>Oet,detectAllDirectedCycle:()=>I6,detectAllUndirectedCycle:()=>T6,detectCycle:()=>L6,detectDirectedCycle:()=>PBt,dijkstra:()=>Pw,findAllPath:()=>Pet,findShortestPath:()=>ket,floydWarshall:()=>Dw,getAdjMatrix:()=>Ad,getDegree:()=>rx,getInDegree:()=>Iet,getNeighbors:()=>Fs,getOutDegree:()=>Let,iLouvain:()=>Ret,kCore:()=>Get,kMeans:()=>zet,labelPropagation:()=>Det,louvain:()=>EF,minimumSpanningTree:()=>Yet,nodesCosineSimilarity:()=>jet,pageRank:()=>Wet});var UDe=function(e,t){var i=e.nodes,n=e.edges,a=[],o={};if(!i)throw new Error("invalid nodes data!");return i&&i.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,f=o[l],c=o[u];!f&&f!==0||!c&&c!==0||(a[f][c]=1,t||(a[c][f]=1))}),a},Ad=UDe;var XDe=function(e,t){return e===t},sBt=function(){function r(e,t){t===void 0&&(t=null),this.value=e,this.next=t}return r.prototype.toString=function(e){return e?e(this.value):"".concat(this.value)},r}();var ZDe=function(){function r(e){e===void 0&&(e=XDe),this.head=null,this.tail=null,this.compare=e}return r.prototype.prepend=function(e){var t=new sBt(e,this.head);return this.head=t,this.tail||(this.tail=t),this},r.prototype.append=function(e){var t=new sBt(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},r.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var i=this.head;if(i!==null)for(;i.next;)this.compare(i.next.value,e)?(t=i.next,i.next=i.next.next):i=i.next;return this.compare(this.tail.value,e)&&(this.tail=i),t},r.prototype.find=function(e){var t=e.value,i=t===void 0?void 0:t,n=e.callback,a=n===void 0?void 0:n;if(!this.head)return null;for(var o=this.head;o;){if(a&&a(o.value)||i!==void 0&&this.compare(o.value,i))return o;o=o.next}return null},r.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},r.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},r.prototype.fromArray=function(e){var t=this;return e.forEach(function(i){return t.append(i)}),this},r.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},r.prototype.reverse=function(){for(var e=this.head,t=null,i=null;e;)i=e.next,e.next=t,t=e,e=i;this.tail=this.head,this.head=t},r.prototype.toString=function(e){return e===void 0&&(e=void 0),this.toArray().map(function(t){return t.toString(e)}).toString()},r}(),A6=ZDe;var KDe=function(){function r(){this.linkedList=new A6}return r.prototype.isEmpty=function(){return!this.linkedList.head},r.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},r.prototype.enqueue=function(e){this.linkedList.append(e)},r.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},r.prototype.toString=function(e){return this.linkedList.toString(e)},r}(),lBt=KDe;var Fs=function(e,t,i){t===void 0&&(t=[]);var n=t.filter(function(l){return l.source===e||l.target===e});if(i==="target"){var a=function(u){return u.source===e};return n.filter(a).map(function(l){return l.target})}if(i==="source"){var o=function(u){return u.target===e};return n.filter(o).map(function(l){return l.source})}var s=function(u){return u.source===e?u.target:u.source};return n.map(s)},uBt=function(e,t){return t.filter(function(i){return i.source===e})},KT=function(e,t){return t.filter(function(i){return i.source===e||i.target===e})},E6=function(e){e===void 0&&(e=0);var t="".concat(Math.random()).split(".")[1].substr(0,5),i="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(e,"-").concat(t).concat(i)};function QDe(r){r===void 0&&(r={});var e=r,t=function(){},i=function(){var n={};return function(a){var o=a.next,s=o;return n[s]?!1:(n[s]=!0,!0)}}();return e.allowTraversal=r.allowTraversal||i,e.enter=r.enter||t,e.leave=r.leave||t,e}var $De=function(e,t,i,n){n===void 0&&(n=!0);var a=QDe(i),o=new lBt,s=e.edges,l=s===void 0?[]:s;o.enqueue(t);for(var u="",f=function(){var h=o.dequeue();a.enter({current:h,previous:u}),Fs(h,l,n?"target":void 0).forEach(function(d){a.allowTraversal({previous:u,current:h,next:d})&&o.enqueue(d)}),a.leave({current:h,previous:u}),u=h};!o.isEmpty();)f()},Eet=$De;var JDe=function(e){for(var t=e.nodes,i=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},l=[],u=function d(v){l.push(v),s[v.id]=!0;for(var p=Fs(v.id,a),g=function(x){var b=p[x];if(!s[b]){var _=i.filter(function(M){return M.id===b});_.length>0&&d(_[0])}},m=0;m<p.length;++m)g(m)},f=0;f<i.length;f++){var c=i[f];if(!s[c.id]){u(c);for(var h=[];l.length>0;)h.push(l.pop());o.push(h)}}return o},Tet=function(e){for(var t=e.nodes,i=t===void 0?[]:t,n=e.edges,a=n===void 0?[]:n,o=[],s={},l={},u={},f=[],c=0,h=function g(m){l[m.id]=c,u[m.id]=c,c+=1,o.push(m),s[m.id]=!0;for(var y=Fs(m.id,a,"target").filter(function(A){return i.map(function(I){return I.id}).indexOf(A)>-1}),x=function(I){var k=y[I];if(!l[k]&&l[k]!==0){var E=i.filter(function(O){return O.id===k});E.length>0&&g(E[0]),u[m.id]=Math.min(u[m.id],u[k])}else s[k]&&(u[m.id]=Math.min(u[m.id],l[k]))},b=0;b<y.length;b++)x(b);if(u[m.id]===l[m.id]){for(var _=[];o.length>0;){var M=o.pop();if(s[M.id]=!1,_.push(M),M===m)break}_.length>0&&f.push(_)}},d=0,v=i;d<v.length;d++){var p=v[d];!l[p.id]&&l[p.id]!==0&&h(p)}return f};function QT(r,e){return e?Tet(r):JDe(r)}var AF=function(e){var t={},i=e.nodes,n=i===void 0?[]:i,a=e.edges,o=a===void 0?[]:a;return n.forEach(function(s){t[s.id]={degree:0,inDegree:0,outDegree:0}}),o.forEach(function(s){t[s.source].degree++,t[s.source].outDegree++,t[s.target].degree++,t[s.target].inDegree++}),t},rx=AF,Iet=function(e,t){var i=AF(e);return i[t]?AF(e)[t].inDegree:0},Let=function(e,t){var i=AF(e);return i[t]?AF(e)[t].outDegree:0};function tFe(r){r===void 0&&(r={});var e=r,t=function(){},i=function(){var n={};return function(a){var o=a.next;return n[o]?!1:(n[o]=!0,!0)}}();return e.allowTraversal=r.allowTraversal||i,e.enter=r.enter||t,e.leave=r.leave||t,e}function fBt(r,e,t,i,n){n===void 0&&(n=!0),i.enter({current:e,previous:t});var a=r.edges,o=a===void 0?[]:a;Fs(e,o,n?"target":void 0).forEach(function(s){i.allowTraversal({previous:t,current:e,next:s})&&fBt(r,s,e,i,n)}),i.leave({current:e,previous:t})}function $T(r,e,t,i){i===void 0&&(i=!0),fBt(r,e,"",tFe(t),i)}var eFe=function(e){var t=null,i=e.nodes,n=i===void 0?[]:i,a={},o={},s={},l={};n.forEach(function(c){o[c.id]=c});for(var u={enter:function(h){var d=h.current,v=h.previous;if(s[d]){t={};for(var p=d,g=v;g!==d;)t[p]=g,p=g,g=a[g];t[p]=g}else s[d]=d,delete o[d],a[d]=v},leave:function(h){var d=h.current;l[d]=d,delete s[d]},allowTraversal:function(h){var d=h.next;return t?!1:!l[d]}};Object.keys(o).length;){var f=Object.keys(o)[0];$T(e,f,u)}return t},T6=function(e,t,i){var n,a;i===void 0&&(i=!0);for(var o=[],s=QT(e,!1),l=0,u=s;l<u.length;l++){var f=u[l];if(!!f.length)for(var c=f[0],h=c.id,d=[c],v=(n={},n[h]=c,n),p=(a={},a[h]=new Set,a);d.length>0;)for(var g=d.pop(),m=g.id,y=Fs(m,e.edges),x=function(M){var A,I=y[M],k=e.nodes.find(function(z){return z.id===I});if(I===m)o.push((A={},A[I]=g,A));else if(!(I in p))v[I]=g,d.push(k),p[I]=new Set([g]);else if(!p[m].has(k)){for(var E=!0,O=[k,g],P=v[m];p[I].size&&!p[I].has(P)&&(O.push(P),P!==v[P.id]);)P=v[P.id];if(O.push(P),t&&i?(E=!1,O.findIndex(function(z){return t.indexOf(z.id)>-1})>-1&&(E=!0)):t&&!i&&O.findIndex(function(z){return t.indexOf(z.id)>-1})>-1&&(E=!1),E){for(var N={},R=1;R<O.length;R+=1)N[O[R-1].id]=O[R];O.length&&(N[O[O.length-1].id]=O[0]),o.push(N)}p[I].add(g)}},b=0;b<y.length;b+=1)x(b)}return o},I6=function(e,t,i){i===void 0&&(i=!0);for(var n=[],a=new Set,o=[],s=[],l={},u={},f=function(P){for(var N=[P];N.length>0;){var R=N.pop();a.has(R)&&(a.delete(R),o[R.id].forEach(function(z){N.push(z)}),o[R.id].clear())}},c=function O(P,N,R){var z=!1;if(t&&i===!1&&t.indexOf(P.id)>-1)return z;n.push(P),a.add(P);for(var B=R[P.id],Y=0;Y<B.length;Y+=1){var q=l[B[Y]];if(q===N){for(var j={},Z=1;Z<n.length;Z+=1)j[n[Z-1].id]=n[Z];n.length&&(j[n[n.length-1].id]=n[0]),s.push(j),z=!0}else a.has(q)||O(q,N,R)&&(z=!0)}if(z)f(P);else for(var Y=0;Y<B.length;Y+=1){var q=l[B[Y]];o[q.id].has(P)||o[q.id].add(P)}return n.pop(),z},h=e.nodes,d=h===void 0?[]:h,v=0;v<d.length;v+=1){var p=d[v],g=p.id;u[g]=v,l[v]=p}if(t&&i)for(var m=function(P){var N=t[P];u[d[P].id]=u[N],u[N]=0,l[0]=d.find(function(R){return R.id===N}),l[u[d[P].id]]=d[P]},v=0;v<t.length;v++)m(v);for(var y=function(P){for(var N,R,z=1/0,B=0;B<P.length;B+=1)for(var Y=P[B],q=0;q<Y.length;q++){var j=u[Y[q].id];j<z&&(z=j,R=B)}for(var Z=P[R],tt=[],B=0;B<Z.length;B+=1){var lt=Z[B];tt[lt.id]=[];for(var J=0,nt=Fs(lt.id,e.edges,"target").filter(function(pt){return Z.map(function(_t){return _t.id}).indexOf(pt)>-1});J<nt.length;J++){var ut=nt[J];ut===lt.id&&!(i===!1&&t.indexOf(lt.id)>-1)?s.push((N={},N[lt.id]=lt,N)):tt[lt.id].push(u[ut])}}return{component:Z,adjList:tt,minIdx:z}},x=0;x<d.length;){var b=d.filter(function(O){return u[O.id]>=x}),_=Tet({nodes:b,edges:e.edges}).filter(function(O){return O.length>1});if(_.length===0)break;var M=y(_),A=M.minIdx,I=M.adjList,k=M.component;if(k.length>1){k.forEach(function(O){o[O.id]=new Set});var E=l[A];if(t&&i&&t.indexOf(E.id)===-1)return s;c(E,E,I),x=A+1}else break}return s},Oet=function(e,t,i,n){return n===void 0&&(n=!0),t?I6(e,i,n):T6(e,i,n)},L6=eFe;var cBt=et(ot());var rFe=function(e,t,i){for(var n=1/0,a,o=0;o<t.length;o++){var s=t[o].id;!i[s]&&e[s]<=n&&(n=e[s],a=t[o])}return a},iFe=function(e,t,i,n){var a=e.nodes,o=a===void 0?[]:a,s=e.edges,l=s===void 0?[]:s,u=[],f={},c={},h={};o.forEach(function(x,b){var _=x.id;u.push(_),c[_]=1/0,_===t&&(c[_]=0)});for(var d=o.length,v=function(b){var _=rFe(c,o,f),M=_.id;if(f[M]=!0,c[M]===1/0)return"continue";var A=[];i?A=uBt(M,l):A=KT(M,l),A.forEach(function(I){var k=I.target,E=I.source,O=k===M?E:k,P=n&&I[n]?I[n]:1;c[O]>c[_.id]+P?(c[O]=c[_.id]+P,h[O]=[_.id]):c[O]===c[_.id]+P&&h[O].push(_.id)})},p=0;p<d;p++)v(p);h[t]=[t];var g={};for(var m in c)c[m]!==1/0&&hBt(t,m,h,g);var y={};for(var m in g)y[m]=g[m][0];return{length:c,path:y,allPath:g}},Pw=iFe;function hBt(r,e,t,i){if(r===e)return[r];if(i[e])return i[e];for(var n=[],a=0,o=t[e];a<o.length;a++){var s=o[a],l=hBt(r,s,t,i);if(!l)return;for(var u=0,f=l;u<f.length;u++){var c=f[u];(0,cBt.isArray)(c)?n.push(ne(ne([],c,!0),[e],!1)):n.push([c,e])}}return i[e]=n,i[e]}var ket=function(e,t,i,n,a){var o=Pw(e,t,n,a),s=o.length,l=o.path,u=o.allPath;return{length:s[i],path:l[i],allPath:u[i]}},Pet=function(e,t,i,n){var a;if(t===i)return[[t]];var o=e.edges,s=o===void 0?[]:o,l=[t],u=(a={},a[t]=!0,a),f=[],c=[],h=n?Fs(t,s,"target"):Fs(t,s);for(f.push(h);l.length>0&&f.length>0;){var d=f[f.length-1];if(d.length){var v=d.shift();v&&(l.push(v),u[v]=!0,h=n?Fs(v,s,"target"):Fs(v,s),f.push(h.filter(function(m){return!u[m]})))}else{var p=l.pop();u[p]=!1,f.pop();continue}if(l[l.length-1]===i){var g=l.map(function(y){return y});c.push(g);var p=l.pop();u[p]=!1,f.pop()}}return c};var nFe=function(e,t){for(var i=Ad(e,t),n=[],a=i.length,o=0;o<a;o+=1){n[o]=[];for(var s=0;s<a;s+=1)o===s?n[o][s]=0:i[o][s]===0||!i[o][s]?n[o][s]=1/0:n[o][s]=i[o][s]}for(var l=0;l<a;l+=1)for(var o=0;o<a;o+=1)for(var s=0;s<a;s+=1)n[o][s]>n[o][l]+n[l][s]&&(n[o][s]=n[o][l]+n[l][s]);return n},Dw=nFe;var aFe=function(e,t,i,n){t===void 0&&(t=!1),i===void 0&&(i="weight"),n===void 0&&(n=1e3);var a=e.nodes,o=a===void 0?[]:a,s=e.edges,l=s===void 0?[]:s,u={},f={};o.forEach(function(b,_){var M=E6();b.clusterId=M,u[M]={id:M,nodes:[b]},f[b.id]={node:b,idx:_}});var c=Ad(e,t),h=[],d={};c.forEach(function(b,_){var M=0,A=o[_].id;d[A]={},b.forEach(function(I,k){if(!!I){M+=I;var E=o[k].id;d[A][E]=I}}),h.push(M)});for(var v=0,p=function(){var _=!1;if(o.forEach(function(M){var A={};Object.keys(d[M.id]).forEach(function(z){var B=d[M.id][z],Y=f[z].node,q=Y.clusterId;A[q]||(A[q]=0),A[q]+=B});var I=-1/0,k=[];if(Object.keys(A).forEach(function(z){I<A[z]?(I=A[z],k=[z]):I===A[z]&&k.push(z)}),!(k.length===1&&k[0]===M.clusterId)){var E=k.indexOf(M.clusterId);if(E>=0&&k.splice(E,1),k&&k.length){_=!0;var O=u[M.clusterId],P=O.nodes.indexOf(M);O.nodes.splice(P,1);var N=Math.floor(Math.random()*k.length),R=u[k[N]];R.nodes.push(M),M.clusterId=R.id}}}),!_)return"break";v++};v<n;){var g=p();if(g==="break")break}Object.keys(u).forEach(function(b){var _=u[b];(!_.nodes||!_.nodes.length)&&delete u[b]});var m=[],y={};l.forEach(function(b){var _=b.source,M=b.target,A=b[i]||1,I=f[_].node.clusterId,k=f[M].node.clusterId,E="".concat(I,"---").concat(k);if(y[E])y[E].weight+=A,y[E].count++;else{var O={source:I,target:k,weight:A,count:1};y[E]=O,m.push(O)}});var x=[];return Object.keys(u).forEach(function(b){x.push(u[b])}),{clusters:x,clusterEdges:m}},Det=aFe;var vBt=et(ot());var dBt=et(ot()),oFe=function(){function r(e){this.arr=e}return r.prototype.getArr=function(){return this.arr||[]},r.prototype.add=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length))return new r(i);if(!(i==null?void 0:i.length))return new r(this.arr);if(this.arr.length===i.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]+i[a];return new r(n)}},r.prototype.subtract=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length))return new r(i);if(!(i==null?void 0:i.length))return new r(this.arr);if(this.arr.length===i.length){var n=[];for(var a in this.arr)n[a]=this.arr[a]-i[a];return new r(n)}},r.prototype.avg=function(e){var t=[];if(e!==0)for(var i in this.arr)t[i]=this.arr[i]/e;return new r(t)},r.prototype.negate=function(){var e=[];for(var t in this.arr)e[t]=-this.arr[t];return new r(e)},r.prototype.squareEuclideanDistance=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length)||!(i==null?void 0:i.length))return 0;if(this.arr.length===i.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return n}},r.prototype.euclideanDistance=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length)||!(i==null?void 0:i.length))return 0;if(this.arr.length===i.length){var n=0;for(var a in this.arr)n+=Math.pow(this.arr[a]-e.arr[a],2);return Math.sqrt(n)}else console.error("The two vectors are unequal in length.")},r.prototype.normalize=function(){var e=[],t=(0,dBt.clone)(this.arr);t.sort(function(o,s){return o-s});var i=t[t.length-1],n=t[0];for(var a in this.arr)e[a]=(this.arr[a]-n)/(i-n);return new r(e)},r.prototype.norm2=function(){var e;if(!((e=this.arr)===null||e===void 0?void 0:e.length))return 0;var t=0;for(var i in this.arr)t+=Math.pow(this.arr[i],2);return Math.sqrt(t)},r.prototype.dot=function(e){var t,i=e.arr;if(!((t=this.arr)===null||t===void 0?void 0:t.length)||!(i==null?void 0:i.length))return 0;if(this.arr.length===i.length){var n=0;for(var a in this.arr)n+=this.arr[a]*e.arr[a];return n}else console.error("The two vectors are unequal in length.")},r.prototype.equal=function(e){var t,i=e.arr;if(((t=this.arr)===null||t===void 0?void 0:t.length)!==(i==null?void 0:i.length))return!1;for(var n in this.arr)if(this.arr[n]!==i[n])return!1;return!0},r}(),Mu=oFe;var JT=function(e,t){t===void 0&&(t=void 0);var i=[];return e.forEach(function(n){t===void 0&&i.push(n),n[t]!==void 0&&i.push(n[t])}),i};var Fet=et(ot());var fh;(function(r){r.EuclideanDistance="euclideanDistance"})(fh||(fh={}));var sFe=function(e,t,i){var n=[];(t==null?void 0:t.length)?n=t:(e.forEach(function(o){n=n.concat(Object.keys(o))}),n=(0,Fet.uniq)(n));var a={};return n.forEach(function(o){var s=[];e.forEach(function(l){l[o]!==void 0&&l[o]!==""&&s.push(l[o])}),s.length&&!(i==null?void 0:i.includes(o))&&(a[o]=(0,Fet.uniq)(s))}),a},tI=function(e,t,i){var n=sFe(e,t,i),a=[];if(!Object.keys(n).length)return a;var o=Object.values(n),s=o.every(function(l){return l.every(function(u){return typeof u=="number"})});return e.forEach(function(l,u){var f=[];Object.keys(n).forEach(function(c){var h=l[c],d=n[c],v=d.findIndex(function(m){return h===m}),p=[];if(s)p.push(h);else for(var g=0;g<d.length;g++)g===v?p.push(1):p.push(0);f=f.concat(p)}),a[u]=f}),a},Net=function(e,t,i,n){i===void 0&&(i=fh.EuclideanDistance);var a=0;switch(i){case fh.EuclideanDistance:a=new Mu(e).euclideanDistance(new Mu(t));break;default:break}return a};var pBt=function(e,t,i,n){for(var a=t.length,o=2*n,s=0,l=0;l<a;l++)for(var u=e[l].clusterId,f=0;f<a;f++){var c=e[f].clusterId;if(u===c){var h=t[l][f]||0,d=i[l]||0,v=i[f]||0;s+=h-d*v/o}}return s*=1/o,s},Bet=function(e,t){e===void 0&&(e=[]);for(var i=e.length,n=new Mu([]),a=0;a<i;a++)n=n.add(new Mu(t[a]));var o=n.avg(i);o.normalize();for(var s=0,a=0;a<i;a++){var l=new Mu(t[a]),u=l.squareEuclideanDistance(o);s+=u}var f=[];e.forEach(function(){f.push([])});for(var a=0;a<i;a++){var l=new Mu(t[a]);e[a].clusterInertial=0;for(var c=0;c<i;c++){if(a===c){f[a][c]=0;continue}var h=new Mu(t[c]);f[a][c]=l.squareEuclideanDistance(h),e[a].clusterInertial+=f[a][c]}}for(var d=0,v=2*i*s,a=0;a<i;a++)for(var p=e[a].clusterId,c=0;c<i;c++){var g=e[c].clusterId;if(!(a===c||p!==g)){var m=e[a].clusterInertial*e[c].clusterInertial/Math.pow(v,2)-f[a][c]/v;d+=m}}return Number(d.toFixed(4))},lFe=function(e,t,i,n,a,o,s,l,u){t===void 0&&(t=!1),i===void 0&&(i="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=!1),o===void 0&&(o=void 0),s===void 0&&(s=[]),l===void 0&&(l=["id"]),u===void 0&&(u=1);var f=e.nodes,c=f===void 0?[]:f,h=e.edges,d=h===void 0?[]:h,v=[];if(a){c.forEach(function(j,Z){j.properties=j.properties||{},j.originIndex=Z});var p=[];c.every(function(j){return j.hasOwnProperty("nodeType")})&&(p=Array.from(new Set(c.map(function(j){return j.nodeType}))),c.forEach(function(j){j.properties.nodeType=p.findIndex(function(Z){return Z===j.nodeType})}));var g=JT(c,o);v=tI(g,s,l)}var m=1,y={},x={};c.forEach(function(j,Z){var tt=String(m++);j.clusterId=tt,y[tt]={id:tt,nodes:[j]},x[j.id]={node:j,idx:Z}});var b=Ad(e,t),_=[],M={},A=0;b.forEach(function(j,Z){var tt=0,lt=c[Z].id;M[lt]={},j.forEach(function(J,nt){if(!!J){tt+=J;var ut=c[nt].id;M[lt][ut]=J,A+=J}}),_.push(tt)}),A/=2;for(var I=1/0,k=1/0,E=0,O=[],P={};;){a&&c.every(function(j){return j.hasOwnProperty("properties")})?I=pBt(c,b,_,A)+Bet(c,v)*u:I=pBt(c,b,_,A),E===0&&(k=I,O=c,P=y);var N=I>0&&I>k&&I-k<n;if(I>k&&(O=c.map(function(j){return{node:j,clusterId:j.clusterId}}),P=(0,vBt.clone)(y),k=I),N||E>100)break;E++,Object.keys(y).forEach(function(j){var Z=0;d.forEach(function(tt){var lt=tt.source,J=tt.target,nt=x[lt].node.clusterId,ut=x[J].node.clusterId;(nt===j&&ut!==j||ut===j&&nt!==j)&&(Z=Z+(tt[i]||1))}),y[j].sumTot=Z}),c.forEach(function(j,Z){var tt=y[j.clusterId],lt=0,J,nt=_[Z]/(2*A),ut=0,ft=tt.nodes;ft.forEach(function(pe){var ze=x[pe.id].idx;ut+=b[Z][ze]||0});var pt=ut-tt.sumTot*nt,_t=ft.filter(function(pe){return pe.id!==j.id}),Et=[];_t.forEach(function(pe,ze){Et[ze]=v[pe.originIndex]});var Ot=Bet(_t,v)*u,oe=M[j.id];if(Object.keys(oe).forEach(function(pe){var ze=x[pe].node,rr=ze.clusterId;if(rr!==j.clusterId){var ur=y[rr],_r=ur.nodes;if(!(!_r||!_r.length)){var it=0;_r.forEach(function(ce){var Oe=x[ce.id].idx;it+=b[Z][Oe]||0});var kt=it-ur.sumTot*nt,Gt=_r.concat([j]),te=[];Gt.forEach(function(ce,Oe){te[Oe]=v[ce.originIndex]});var we=Bet(Gt,v)*u,Ht=kt-pt;a&&(Ht=kt+we-(pt+Ot)),Ht>lt&&(lt=Ht,J=ur)}}}),lt>0){J.nodes.push(j);var se=j.clusterId;j.clusterId=J.id;var _e=tt.nodes.indexOf(j);tt.nodes.splice(_e,1);var le=0,ar=0;d.forEach(function(pe){var ze=pe.source,rr=pe.target,ur=x[ze].node.clusterId,_r=x[rr].node.clusterId;(ur===J.id&&_r!==J.id||_r===J.id&&ur!==J.id)&&(le=le+(pe[i]||1)),(ur===se&&_r!==se||_r===se&&ur!==se)&&(ar=ar+(pe[i]||1))}),J.sumTot=le,tt.sumTot=ar}})}var R={},z=0;Object.keys(P).forEach(function(j){var Z=P[j];if(!Z.nodes||!Z.nodes.length){delete P[j];return}var tt=String(z+1);tt!==j&&(Z.id=tt,Z.nodes=Z.nodes.map(function(lt){return{id:lt.id,clusterId:tt}}),P[tt]=Z,R[j]=tt,delete P[j],z++)}),O.forEach(function(j){var Z=j.node,tt=j.clusterId;!Z||(Z.clusterId=tt,Z.clusterId&&R[Z.clusterId]&&(Z.clusterId=R[Z.clusterId]))});var B=[],Y={};d.forEach(function(j){var Z=j.source,tt=j.target,lt=j[i]||1,J=x[Z].node.clusterId,nt=x[tt].node.clusterId;if(!(!J||!nt)){var ut="".concat(J,"---").concat(nt);if(Y[ut])Y[ut].weight+=lt,Y[ut].count++;else{var ft={source:J,target:nt,weight:lt,count:1};Y[ut]=ft,B.push(ft)}}});var q=[];return Object.keys(P).forEach(function(j){q.push(P[j])}),{clusters:q,clusterEdges:B}},EF=lFe;var uFe=function(e,t,i,n,a,o,s,l){return t===void 0&&(t=!1),i===void 0&&(i="weight"),n===void 0&&(n=1e-4),a===void 0&&(a=void 0),o===void 0&&(o=[]),s===void 0&&(s=["id"]),l===void 0&&(l=1),EF(e,t,i,n,!0,a,o,s,l)},Ret=uFe;var gBt=et(ot());var fFe=function(e,t){var i;t===void 0&&(t=1);for(var n=(0,gBt.clone)(e),a=n.nodes,o=a===void 0?[]:a,s=n.edges,l=s===void 0?[]:s,u=function(){var h=rx({nodes:o,edges:l}),d=Object.keys(h);d.sort(function(g,m){var y,x;return((y=h[g])===null||y===void 0?void 0:y.degree)-((x=h[m])===null||x===void 0?void 0:x.degree)});var v=d[0];if(!o.length||((i=h[v])===null||i===void 0?void 0:i.degree)>=t)return"break";var p=o.findIndex(function(g){return g.id===v});o.splice(p,1),l=l.filter(function(g){return!(g.source===v||g.target===v)})};;){var f=u();if(f==="break")break}return{nodes:o,edges:l}},Get=fFe;var O6=et(ot());var mBt=function(e,t,i){var n=[];switch(e){case fh.EuclideanDistance:n=t[i];break;default:n=[];break}return n},cFe=function(e,t,i,n,a,o){t===void 0&&(t=3),i===void 0&&(i=void 0),n===void 0&&(n=[]),a===void 0&&(a=["id"]),o===void 0&&(o=fh.EuclideanDistance);var s=e.nodes,l=s===void 0?[]:s,u=e.edges,f=u===void 0?[]:u,c={clusters:[{id:"0",nodes:l}],clusterEdges:[]};if(o===fh.EuclideanDistance&&!l.every(function(tt){return tt.hasOwnProperty(i)}))return c;var h=[],d=[];if(o===fh.EuclideanDistance&&(h=JT(l,i),d=tI(h,n,a)),!d.length)return c;for(var v=(0,O6.uniq)(d.map(function(tt){return tt.join("")})),p=Math.min(t,l.length,v.length),g=0;g<l.length;g++)l[g].originIndex=g;for(var m=[],y=[],x=[],g=0;g<p;g++)if(g===0){var b=Math.floor(Math.random()*l.length);switch(o){case fh.EuclideanDistance:m[g]=d[b];break;default:m[g]=[];break}y.push(b),x[g]=[l[b]],l[b].clusterId=String(g)}else{for(var _=-1/0,M=0,A=function(J){if(!y.includes(J)){for(var nt=0,ut=0;ut<m.length;ut++){var ft=0;switch(o){case fh.EuclideanDistance:ft=Net(d[l[J].originIndex],m[ut],o);break;default:break}nt+=ft}var pt=nt/m.length;pt>_&&!m.find(function(_t){return(0,O6.isEqual)(_t,mBt(o,d,l[J].originIndex))})&&(_=pt,M=J)}},I=0;I<l.length;I++)A(I);m[g]=mBt(o,d,M),y.push(M),x[g]=[l[M]],l[M].clusterId=String(g)}for(var k=0;;){for(var g=0;g<l.length;g++){var E=0,O=1/0;if(!(k===0&&y.includes(g))){for(var P=0;P<m.length;P++){var N=0;switch(o){case fh.EuclideanDistance:N=Net(d[g],m[P],o);break;default:break}N<O&&(O=N,E=P)}if(l[g].clusterId!==void 0)for(var R=x[Number(l[g].clusterId)].length-1;R>=0;R--)x[Number(l[g].clusterId)][R].id===l[g].id&&x[Number(l[g].clusterId)].splice(R,1);l[g].clusterId=String(E),x[E].push(l[g])}}for(var z=!1,g=0;g<x.length;g++){for(var B=x[g],Y=new Mu([]),P=0;P<B.length;P++)Y=Y.add(new Mu(d[B[P].originIndex]));var q=Y.avg(B.length);q.equal(new Mu(m[g]))||(z=!0,m[g]=q.getArr())}if(k++,l.every(function(tt){return tt.clusterId!==void 0})&&z||k>=1e3)break}var j=[],Z={};return f.forEach(function(tt){var lt,J,nt=tt.source,ut=tt.target,ft=(lt=l.find(function(Ot){return Ot.id===nt}))===null||lt===void 0?void 0:lt.clusterId,pt=(J=l.find(function(Ot){return Ot.id===ut}))===null||J===void 0?void 0:J.clusterId,_t="".concat(ft,"---").concat(pt);if(Z[_t])Z[_t].count++;else{var Et={source:ft,target:pt,count:1};Z[_t]=Et,j.push(Et)}}),{clusters:x,clusterEdges:j}},zet=cFe;var hFe=function(e,t){var i=new Mu(t),n=i.norm2(),a=new Mu(e),o=a.norm2(),s=i.dot(a),l=n*o,u=l?s/l:0;return u},TF=hFe;var yBt=et(ot());var dFe=function(e,t,i,n,a){e===void 0&&(e=[]),i===void 0&&(i=void 0),n===void 0&&(n=[]),a===void 0&&(a=[]);var o=(0,yBt.clone)(e.filter(function(h){return h.id!==t.id})),s=e.findIndex(function(h){return h.id===t.id}),l=JT(e,i),u=tI(l,n,a),f=u[s],c=[];return o.forEach(function(h,d){if(h.id!==t.id){var v=u[d],p=TF(v,f);c.push(p),h.cosineSimilarity=p}}),o.sort(function(h,d){return d.cosineSimilarity-h.cosineSimilarity}),{allCosineSimilarity:c,similarNodes:o}},jet=dFe;var vFe=function(){function r(e){this.count=e.length,this.parent={};for(var t=0,i=e;t<i.length;t++){var n=i[t];this.parent[n]=n}}return r.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},r.prototype.union=function(e,t){var i=this.find(e),n=this.find(t);i!==n&&(i<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},r.prototype.connected=function(e,t){return this.find(e)===this.find(t)},r}(),xBt=vFe;var pFe=function(e,t){return e-t},gFe=function(){function r(e){e===void 0&&(e=pFe),this.compareFn=e,this.list=[]}return r.prototype.getLeft=function(e){return 2*e+1},r.prototype.getRight=function(e){return 2*e+2},r.prototype.getParent=function(e){return e===0?null:Math.floor((e-1)/2)},r.prototype.isEmpty=function(){return this.list.length<=0},r.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},r.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},r.prototype.insert=function(e){if(e!==null){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},r.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var i=this.list[t];this.list[t]=this.list[e],this.list[e]=i,e=t,t=this.getParent(e)}},r.prototype.moveDown=function(e){var t,i=e,n=this.getLeft(e),a=this.getRight(e),o=this.list.length;n!==null&&n<o&&this.compareFn(this.list[i],this.list[n])>0?i=n:a!==null&&a<o&&this.compareFn(this.list[i],this.list[a])>0&&(i=a),e!==i&&(t=[this.list[i],this.list[e]],this.list[e]=t[0],this.list[i]=t[1],this.moveDown(i))},r}(),bBt=gFe;var mFe=function(e,t){var i=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return i;var l=a[0],u=new Set;u.add(l);var f=function(g,m){return t?g.weight-m.weight:0},c=new bBt(f);for(KT(l.id,s).forEach(function(p){c.insert(p)});!c.isEmpty();){var h=c.delMin(),d=h.source,v=h.target;u.has(d)&&u.has(v)||(i.push(h),u.has(d)||(u.add(d),KT(d,s).forEach(function(p){c.insert(p)})),u.has(v)||(u.add(v),KT(v,s).forEach(function(p){c.insert(p)})))}return i},wBt=function(e,t){var i=[],n=e.nodes,a=n===void 0?[]:n,o=e.edges,s=o===void 0?[]:o;if(a.length===0)return i;var l=s.map(function(d){return d});t&&l.sort(function(d,v){return d.weight-v.weight});for(var u=new xBt(a.map(function(d){return d.id}));l.length>0;){var f=l.shift(),c=f.source,h=f.target;u.connected(c,h)||(i.push(f),u.union(c,h))}return i},yFe=function(e,t,i){var n={prim:mFe,kruskal:wBt};return i?n[i](e,t):wBt(e,t)},Yet=yFe;var xFe=function(e,t,i){typeof t!="number"&&(t=1e-6),typeof i!="number"&&(i=.85);for(var n=1,a=0,o=1e3,s=e.nodes,l=s===void 0?[]:s,u=e.edges,f=u===void 0?[]:u,c=l.length,h,d={},v={},p=0;p<c;++p){var g=l[p],m=g.id;d[m]=1/c,v[m]=1/c}for(var y=rx(e);o>0&&n>t;){a=0;for(var p=0;p<c;++p){var g=l[p],m=g.id;if(h=0,y[g.id].inDegree===0)d[m]=0;else{for(var x=Fs(m,f,"source"),b=0;b<x.length;++b){var _=x[b],M=y[_].outDegree;M>0&&(h+=v[_]/M)}d[m]=i*h,a+=d[m]}}a=(1-a)/c,n=0;for(var p=0;p<c;++p){var g=l[p],m=g.id;h=d[m]+a,n+=Math.abs(h-v[m]),v[m]=h}o-=1}return v},Wet=xFe;var SBt=et(ot());var bFe=-1,k6=-1,Vet="-1",sp="-1",qet=-1;var _Bt=function(){function r(e,t,i,n){e===void 0&&(e=bFe),t===void 0&&(t=k6),i===void 0&&(i=k6),n===void 0&&(n=Vet),this.id=e,this.from=t,this.to=i,this.label=n}return r}();var wFe=function(){function r(e,t){e===void 0&&(e=k6),t===void 0&&(t=sp),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return r.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},r}();var Het=function(){function r(e,t,i){e===void 0&&(e=k6),t===void 0&&(t=!0),i===void 0&&(i=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=i}return r.prototype.getNodeNum=function(){return this.nodes.length},r.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var i=new wFe(e,t);this.nodes.push(i),this.nodeMap[e]=i,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},r.prototype.addEdge=function(e,t,i,n){if((this.edgeIdAutoIncrease||e===void 0)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[i]&&this.nodeMap[i].edgeMap[e])){var a=new _Bt(e,t,i,n);if(this.edges.push(a),this.edgeMap[e]=a,this.nodeMap[t].addEdge(a),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(a),!this.directed){var o=new _Bt(e,i,t,n);this.nodeMap[i].addEdge(o),this.edgeLabelMap[n].push(o)}}},r}();var eM=function(){function r(e,t,i,n,a){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:i||sp,edgeLabel:n||Vet,nodeLabel2:a||sp}}return r.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},r.prototype.notEqualTo=function(e){return!this.equalTo(e)},r}(),CBt=function(){function r(){this.rmpath=[],this.dfsEdgeList=[]}return r.prototype.equalTo=function(e){var t=this.dfsEdgeList.length,i=e.length;if(t!==i)return!1;for(var n=0;n<t;n++)if(this.dfsEdgeList[n]!==e[n])return!1;return!0},r.prototype.notEqualTo=function(e){return!this.equalTo(e)},r.prototype.pushBack=function(e,t,i,n,a){return this.dfsEdgeList.push(new eM(e,t,i,n,a)),this.dfsEdgeList},r.prototype.toGraph=function(e,t){e===void 0&&(e=qet),t===void 0&&(t=!1);var i=new Het(e,!0,t);return this.dfsEdgeList.forEach(function(n){var a=n.fromNode,o=n.toNode,s=n.nodeEdgeNodeLabel,l=s.nodeLabel1,u=s.edgeLabel,f=s.nodeLabel2;l!==sp&&i.addNode(a,l),f!==sp&&i.addNode(o,f),l!==sp&&f!==l&&i.addEdge(void 0,a,o,u)}),i},r.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length,i=t-1;i>=0;i--){var n=this.dfsEdgeList[i],a=n.fromNode,o=n.toNode;a<o&&(e===void 0||o===e)&&(this.rmpath.push(i),e=a)}return this.rmpath},r.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach(function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)}),Object.keys(e).length},r}(),P6=function(){function r(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],!!e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return r.prototype.hasNode=function(e){return this.nodesUsed[e.id]===1},r.prototype.hasEdge=function(e){return this.edgesUsed[e.id]===1},r}(),_Fe=function(){function r(e){var t=e.graphs,i=e.minSupport,n=i===void 0?2:i,a=e.minNodeNum,o=a===void 0?1:a,s=e.maxNodeNum,l=s===void 0?4:s,u=e.top,f=u===void 0?10:u,c=e.directed,h=c===void 0?!1:c,d=e.verbose,v=d===void 0?!1:d;this.graphs=t,this.dfsCode=new CBt,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=f,this.directed=h,this.counter=0,this.maxNodeNum=l,this.minNodeNum=o,this.verbose=v,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return r.prototype.findForwardRootEdges=function(e,t){var i=this,n=[],a=e.nodeMap;return t.edges.forEach(function(o){(i.directed||t.label<=a[o.to].label)&&n.push(o)}),n},r.prototype.findBackwardEdge=function(e,t,i,n){if(!this.directed&&t===i)return null;for(var a=e.nodeMap,o=a[i.to],s=o.edges,l=s.length,u=0;u<l;u++){var f=s[u];if(!(n.hasEdge(f)||f.to!==t.from)){if(this.directed){if(a[t.from].label<a[i.to].label||a[t.from].label===a[i.to].label&&t.label<=f.label)return f}else if(t.label<f.label||t.label===f.label&&a[t.to].label<=a[i.to].label)return f}}return null},r.prototype.findForwardPureEdges=function(e,t,i,n){for(var a=[],o=t.to,s=e.nodeMap[o].edges,l=s.length,u=0;u<l;u++){var f=s[u],c=e.nodeMap[f.to];i<=c.label&&!n.hasNode(c)&&a.push(f)}return a},r.prototype.findForwardRmpathEdges=function(e,t,i,n){for(var a=[],o=e.nodeMap,s=o[t.to].label,l=o[t.from],u=l.edges,f=u.length,c=0;c<f;c++){var h=u[c],d=o[h.to].label;t.to===h.to||i>d||n.hasNode(o[h.to])||(t.label<h.label||t.label===h.label&&s<=d)&&a.push(h)}return a},r.prototype.getSupport=function(e){var t={};return e.forEach(function(i){t[i.graphId]||(t[i.graphId]=!0)}),Object.keys(t).length},r.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach(function(i){var n=e[i],a=n.nodeLabel1,o=n.edgeLabel,s=n.nodeLabel2;if(!t){t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s};return}(a<t.nodeLabel1||a===t.nodeLabel1&&o<t.edgeLabel||a===t.nodeLabel1&&o===t.edgeLabel&&s<t.nodeLabel2)&&(t={nodeLabel1:a,edgeLabel:o,nodeLabel2:s})}),t},r.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),t.dfsEdgeList.length===1)return!0;var i=this.directed,n=t.toGraph(qet,i),a=n.nodeMap,o=new CBt,s={};n.nodes.forEach(function(c){var h=e.findForwardRootEdges(n,c);h.forEach(function(d){var v=a[d.to],p="".concat(c.label,"-").concat(d.label,"-").concat(v.label);s[p]||(s[p]={projected:[],nodeLabel1:c.label,edgeLabel:d.label,nodeLabel2:v.label});var g={graphId:n.id,edge:d,preNode:null};s[p].projected.push(g)})});var l=this.findMinLabel(s);if(!!l){o.dfsEdgeList.push(new eM(0,1,l.nodeLabel1,l.edgeLabel,l.nodeLabel2));var u=function c(h){for(var d=o.buildRmpath(),v=o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,p=o.dfsEdgeList[d[0]].toNode,g={},m=!1,y=0,x=i?-1:0,b=function(Y){if(m)return"break";h.forEach(function(q){var j=new P6(q),Z=e.findBackwardEdge(n,j.edges[d[Y]],j.edges[d[0]],j);Z&&(g[Z.label]||(g[Z.label]={projected:[],edgeLabel:Z.label}),g[Z.label].projected.push({graphId:n.id,edge:g,preNode:q}),y=o.dfsEdgeList[d[Y]].fromNode,m=!0)})},_=d.length-1;_>x;_--){var M=b(_);if(M==="break")break}if(m){var A=e.findMinLabel(g);o.dfsEdgeList.push(new eM(p,y,sp,A.edgeLabel,sp));var I=o.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[I]!==o.dfsEdgeList[I]?!1:c(g[A.edgeLabel].projected)}var k={};m=!1;var E=0;h.forEach(function(B){var Y=new P6(B),q=e.findForwardPureEdges(n,Y.edges[d[0]],v,Y);q.length>0&&(m=!0,E=p,q.forEach(function(j){var Z="".concat(j.label,"-").concat(a[j.to].label);k[Z]||(k[Z]={projected:[],edgeLabel:j.label,nodeLabel2:a[j.to].label}),k[Z].projected.push({graphId:n.id,edge:j,preNode:B})}))});for(var O=d.length,P=function(Y){if(m)return"break";var q=d[Y];h.forEach(function(j){var Z=new P6(j),tt=e.findForwardRmpathEdges(n,Z.edges[q],v,Z);tt.length>0&&(m=!0,E=o.dfsEdgeList[q].fromNode,tt.forEach(function(lt){var J="".concat(lt.label,"-").concat(a[lt.to].label);k[J]||(k[J]={projected:[],edgeLabel:lt.label,nodeLabel2:a[lt.to].label}),k[J].projected.push({graphId:n.id,edge:lt,preNode:j})}))})},_=0;_<O;_++){var N=P(_);if(N==="break")break}if(!m)return!0;var R=e.findMinLabel(k);o.dfsEdgeList.push(new eM(E,p+1,sp,R.edgeLabel,R.nodeLabel2));var z=o.dfsEdgeList.length-1;return t.dfsEdgeList[z]!==o.dfsEdgeList[z]?!1:c(k["".concat(R.edgeLabel,"-").concat(R.nodeLabel2)].projected)},f="".concat(l.nodeLabel1,"-").concat(l.edgeLabel,"-").concat(l.nodeLabel2);return u(s[f].projected)}},r.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push((0,SBt.clone)(e))}},r.prototype.subGraphMining=function(e){var t=this,i=this.getSupport(e);if(!(i<this.minSupport)&&!!this.isMin()){this.report();var n=this.dfsCode.getNodeNum(),a=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[a[0]].toNode,s=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,l={},u={};e.forEach(function(f){for(var c=t.graphs[f.graphId],h=c.nodeMap,d=new P6(f),v=a.length-1;v>=0;v--){var p=t.findBackwardEdge(c,d.edges[a[v]],d.edges[a[0]],d);if(p){var g="".concat(t.dfsCode.dfsEdgeList[a[v]].fromNode,"-").concat(p.label);u[g]||(u[g]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[a[v]].fromNode,edgeLabel:p.label}),u[g].projected.push({graphId:f.graphId,edge:p,preNode:f})}}if(!(n>=t.maxNodeNum)){var m=t.findForwardPureEdges(c,d.edges[a[0]],s,d);m.forEach(function(x){var b="".concat(o,"-").concat(x.label,"-").concat(h[x.to].label);l[b]||(l[b]={projected:[],fromNodeId:o,edgeLabel:x.label,nodeLabel2:h[x.to].label}),l[b].projected.push({graphId:f.graphId,edge:x,preNode:f})});for(var y=function(b){var _=t.findForwardRmpathEdges(c,d.edges[a[b]],s,d);_.forEach(function(M){var A="".concat(t.dfsCode.dfsEdgeList[a[b]].fromNode,"-").concat(M.label,"-").concat(h[M.to].label);l[A]||(l[A]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[a[b]].fromNode,edgeLabel:M.label,nodeLabel2:h[M.to].label}),l[A].projected.push({graphId:f.graphId,edge:M,preNode:f})})},v=0;v<a.length;v++)y(v)}}),Object.keys(u).forEach(function(f){var c=u[f],h=c.toNodeId,d=c.edgeLabel;t.dfsCode.dfsEdgeList.push(new eM(o,h,"-1",d,"-1")),t.subGraphMining(u[f].projected),t.dfsCode.dfsEdgeList.pop()}),Object.keys(l).forEach(function(f){var c=l[f],h=c.fromNodeId,d=c.edgeLabel,v=c.nodeLabel2;t.dfsCode.dfsEdgeList.push(new eM(h,o+1,sp,d,v)),t.subGraphMining(l[f].projected),t.dfsCode.dfsEdgeList.pop()})}},r.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,i=this.minSupport,n=this.frequentSize1Subgraphs,a={},o={},s={},l={};return Object.keys(e).forEach(function(u){var f=e[u],c=f.nodeMap;f.nodes.forEach(function(h,d){var v=h.label,p="".concat(u,"-").concat(v);if(!s[p]){var g=a[v]||0;g++,a[v]=g}s[p]={graphKey:u,label:v},h.edges.forEach(function(m){var y=v,x=c[m.to].label;if(!t&&y>x){var b=x;x=y,y=b}var _=m.label,M="".concat(u,"-").concat(y,"-").concat(_,"-").concat(x),A="".concat(y,"-").concat(_,"-").concat(x);if(!o[A]){var I=o[A]||0;I++,o[A]=I}l[M]={graphId:u,nodeLabel1:y,edgeLabel:_,nodeLabel2:x}})})}),Object.keys(a).forEach(function(u){var f=a[u];if(!(f<i)){var c={nodes:[],edges:[]};c.nodes.push({id:"0",label:u}),n.push(c)}}),n},r.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,i=this.directed,n={};Object.keys(t).forEach(function(a){var o=t[a],s=o.nodeMap;o.nodes.forEach(function(l){var u=e.findForwardRootEdges(o,l);u.forEach(function(f){var c=s[f.to],h="".concat(l.label,"-").concat(f.label,"-").concat(c.label);n[h]||(n[h]={projected:[],nodeLabel1:l.label,edgeLabel:f.label,nodeLabel2:c.label});var d={graphId:a,edge:f,preNode:null};n[h].projected.push(d)})})}),Object.keys(n).forEach(function(a){var o=n[a],s=o.projected,l=o.nodeLabel1,u=o.edgeLabel,f=o.nodeLabel2;e.dfsCode.dfsEdgeList.push(new eM(0,1,l,u,f)),e.subGraphMining(s),e.dfsCode.dfsEdgeList.pop()})}},r}(),SFe=function(e,t,i,n){var a={};return Object.keys(e).forEach(function(o,s){var l=e[o],u=new Het(s,!0,t),f={};l.nodes.forEach(function(c,h){u.addNode(h,c[i]),f[c.id]=h}),l.edges.forEach(function(c,h){var d=f[c.source],v=f[c.target];u.addEdge(-1,d,v,c[n])}),u&&u.getNodeNum()&&(a[u.id]=u)}),a},CFe=function(e,t,i){var n=[];return e.forEach(function(a){var o={nodes:[],edges:[]};a.nodes.forEach(function(s){var l;o.nodes.push((l={id:"".concat(s.id)},l[t]=s.label,l))}),a.edges.forEach(function(s){var l;o.edges.push((l={source:"".concat(s.from),target:"".concat(s.to)},l[i]=s.label,l))}),n.push(o)}),n},MBt="cluster",MFe=function(e){var t=e.graphs,i=e.directed,n=i===void 0?!1:i,a=e.nodeLabelProp,o=a===void 0?MBt:a,s=e.edgeLabelProp,l=s===void 0?MBt:s,u=SFe(t,n,o,l),f=e.minSupport,c=e.maxNodeNum,h=e.minNodeNum,d=e.verbose,v=e.top,p={graphs:u,minSupport:f,maxNodeNum:c,minNodeNum:h,top:v,verbose:d,directed:n},g=new _Fe(p);g.run();var m=CFe(g.frequentSubgraphs,o,l);return m},ABt=MFe;var EBt=function(e,t,i,n){i===void 0&&(i="cluster"),n===void 0&&(n=2);var a=[],o=e.nodes;return t.forEach(function(s,l){a.push(TBt(o,s,l,i,n))}),a},TBt=function(e,t,i,n,a){var o=[i],s=[],l={};return t.forEach(function(u,f){if(u<=a&&i!==f){o.push(f),s.push(e[f]);var c=e[f][n];l[c]?(l[c].count++,l[c].dists.push(u)):l[c]={count:1,dists:[u]}}}),Object.keys(l).forEach(function(u){l[u].dists=l[u].dists.sort(function(f,c){return f-c})}),{nodeIdx:i,nodeId:e[i].id,nodeIdxs:o,neighbors:s,neighborNum:o.length-1,nodeLabelCountMap:l}},AFe=function(e,t,i,n,a){var o=Math.ceil(i/t),s={},l=0;return n.forEach(function(u,f){for(var c=0,h=0,d=u.nodeIdxs,v=u.neighborNum-1;c<o;){for(var p=d[1+Math.floor(Math.random()*v)],g=0;(s["".concat(f,"-").concat(p)]||s["".concat(p,"-").concat(f)])&&(p=Math.floor(Math.random()*t),g++,!(g>2*t)););if(g<2*t&&(s["".concat(f,"-").concat(p)]={start:f,end:p,distance:a[f][p]},c++,l++,l>=i))return s;if(h++,h>2*t)break}if(c<o){var m=o-c;o=(o+m)/(t-f-1)}}),s},D6=function(e,t,i,n){var a=i.nodes;return n||(n={}),Object.keys(e).forEach(function(o){var s,l;if(!(n&&n[o])){n[o]={nodes:[],edges:[]};var u=e[o],f=(s=t[u.start])===null||s===void 0?void 0:s.nodeIdxs,c=(l=t[u.end])===null||l===void 0?void 0:l.nodeIdxs;if(!(!f||!c)){var h=new Set(c),d=f.filter(function(y){return h.has(y)});if(!(!d||!d.length)){for(var v={},p=d.length,g=0;g<p;g++){var m=a[d[g]];n[o].nodes.push(m),v[m.id]=!0}i.edges.forEach(function(y){v[y.source]&&v[y.target]&&n[o].edges.push(y)})}}}}),n},F6=function(e,t,i,n){var a,o,s={};e.nodes.forEach(function(u){s[u.id]=u});var l=0;return!((a=t==null?void 0:t.edges)===null||a===void 0?void 0:a.length)||((o=t==null?void 0:t.nodes)===null||o===void 0?void 0:o.length)<2?0:(e.edges.forEach(function(u){var f=s[u.source][i],c=s[u.target][i],h=t==null?void 0:t.nodes[0][i],d=t==null?void 0:t.nodes[1][i],v=t==null?void 0:t.edges[0][n];u[n]===v&&(f===h&&c===d||f===d&&c===h)&&l++}),l)},EFe=function(e,t,i){for(var n=1/0,a=0,o=function(u){var f=e[u],c=Object.keys(f).sort(function(y,x){return f[y]-f[x]}),h=10,d=[];c.forEach(function(y,x){d[x%h]||(d[x%h]={graphs:[],totalCount:0,aveCount:0}),d[x%h].graphs.push(y),d[x%h].totalCount+=f[y]});var v=0,p=[];d.forEach(function(y){var x=y.totalCount/y.graphs.length;y.aveCount=x,p.push(x);var b=0,_=y.length;y.graphs.forEach(function(M,A){var I=f[M];y.graphs.forEach(function(k,E){A!==E&&(b+=Math.abs(I-f[k]))})}),b/=_*(_-1)/2,v+=b}),v/=d.length;var g=0;p.forEach(function(y,x){p.forEach(function(b,_){x!==_&&(g+=Math.abs(y-b))}),g/=p.length*(p.length-1)/2});var m=g-v;n<m&&(n=m,a=u)},s=0;s<t;s++)o(s);return{structure:i[a],structureCountMap:e[a]}},IBt=function(e,t){var i={},n={};return e.forEach(function(a,o){i[a.id]={idx:o,node:a,degree:0,inDegree:0,outDegree:0};var s=a[t];n[s]||(n[s]=[]),n[s].push(a)}),{nodeMap:i,nodeLabelMap:n}},LBt=function(e,t,i){var n={},a={};return e.forEach(function(o,s){n["".concat(E6)]={idx:s,edge:o};var l=o[t];a[l]||(a[l]=[]),a[l].push(o);var u=i[o.source];u&&(u.degree++,u.outDegree++);var f=i[o.target];f&&(f.degree++,f.inDegree++)}),{edgeMap:n,edgeLabelMap:a}},OBt=function(e,t,i){var n=t.length,a={};return t.forEach(function(o,s){for(var l=i?0:s+1,u=e[s].id,f=l;f<n;f++)if(s!==f){var c=e[f].id,h=o[f];a["".concat(u,"-").concat(c)]=h,i||(a["".concat(c,"-").concat(u)]=h)}}),a},TFe=function(e,t,i,n,a,o,s,l,u,f,c){var h,d="".concat(t.id,"-").concat(i.id);if(f&&f[d])return f[d];var v=c?c[d]:void 0;if(!v){var p=(h={},h[d]={start:n[t.id].idx,end:n[i.id].idx,distance:a},h);c=D6(p,o,e,c),v=c[d]}return F6(v,s,l,u)},kBt=function(e,t,i,n){var a,o,s,l=(a=e[t])===null||a===void 0?void 0:a.degree,u=(o=e[t])===null||o===void 0?void 0:o.inDegree,f=(s=e[t])===null||s===void 0?void 0:s.outDegree;return e[t]===void 0&&(l=1/0,u=1/0,f=1/0,n[t].forEach(function(c){var h=i[c.id].degree;l>h&&(l=h);var d=i[c.id].inDegree;u>d&&(u=d);var v=i[c.id].outDegree;f>v&&(f=v)}),e[t]={degree:l,inDegree:u,outDegree:f}),{minPatternNodeLabelDegree:l,minPatternNodeLabelInDegree:u,minPatternNodeLabelOutDegree:f}},IFe=function(e,t,i,n,a,o,s){var l;if(i===void 0&&(i=!1),o===void 0&&(o="cluster"),s===void 0&&(s="cluster"),!(!e||!e.nodes)){var u=e.nodes.length;if(!!u){var f=Dw(e,i),c=Dw(t,i),h=OBt(e.nodes,f,i),d=OBt(t.nodes,c,i),v=IBt(e.nodes,o),p=v.nodeMap,g=v.nodeLabelMap,m=IBt(t.nodes,o),y=m.nodeMap,x=m.nodeLabelMap;LBt(e.edges,s,p);var b=LBt(t.edges,s,y).edgeLabelMap,_=[];c==null||c.forEach(function(it){_=_.concat(it)}),a||(a=Math.max.apply(Math,ne(ne([],_,!1),[2],!1))),n||(n=a);var M=EBt(e,f,o,n),A=EBt(t,c,o,n),I=Math.min(100,u*(u-1)/2),k=AFe(n,u,I,M,f),E=D6(k,M,e),O=10,P=1,N=1,R=4,z={graphs:E,nodeLabelProp:o,edgeLabelProp:s,minSupport:P,minNodeNum:N,maxNodeNum:R,directed:i},B=ABt(z).slice(0,O),Y=B.length,q=[];B.forEach(function(it,kt){q[kt]={},Object.keys(E).forEach(function(Gt){var te=E[Gt],we=F6(te,it,o,s);q[kt][Gt]=we})});var j=EFe(q,Y,B),Z=j.structure,tt=j.structureCountMap,lt=t.nodes[0],J=[],nt=(l=t.nodes[0])===null||l===void 0?void 0:l[o],ut=-1/0;t.nodes.forEach(function(it){var kt=it[o],Gt=g[kt];(Gt==null?void 0:Gt.length)>ut&&(ut=Gt.length,J=Gt,nt=kt,lt=it)});var ft={},pt={},_t={},Et={},Ot={},oe={};Object.keys(x).forEach(function(it,kt){Ot[it]=[],i&&(oe[it]=[]);var Gt=-1/0,te=x[it],we={};te.forEach(function(Ae){var Qe=d["".concat(lt.id,"-").concat(Ae.id)];if(Qe&&Ot[it].push(Qe),Gt<Qe&&(Gt=Qe),we["".concat(lt.id,"-").concat(Ae.id)]={start:0,end:y[Ae.id].idx,distance:Qe},i){var sr=d["".concat(Ae.id,"-").concat(lt.id)];sr&&oe[it].push(sr)}}),Ot[it]=Ot[it].sort(function(Ae,Qe){return Ae-Qe}),i&&(oe[it]=oe[it].sort(function(Ae,Qe){return Ae-Qe})),pt=D6(we,A,t,pt);var Ht=[];if(Object.keys(we).forEach(function(Ae){if(_t[Ae]){Ht.push(_t[Ae]);return}var Qe=pt[Ae];_t[Ae]=F6(Qe,Z,o,s),Ht.push(_t[Ae])}),Ht=Ht.sort(function(Ae,Qe){return Qe-Ae}),Et["".concat(lt.id,"-").concat(it)]=Ht,it!==nt)for(var ce=(J==null?void 0:J.length)||0,Oe=function(Qe){var sr=J[Qe],Xr=M[p[sr.id].idx],Fr=Xr.nodeLabelCountMap[it],Gn=x[it].length;if(!Fr||Fr.count<Gn)return J.splice(Qe,1),"continue";for(var Ta=!1,Wi=0;Wi<Gn;Wi++)if(Fr.dists[Wi]>Ot[it][Wi]){Ta=!0;break}if(Ta)return J.splice(Qe,1),"continue";var mn={};Xr.neighbors.forEach(function(ji){var Sn=h["".concat(sr.id,"-").concat(ji.id)];mn["".concat(sr.id,"-").concat(ji.id)]={start:p[sr.id].idx,end:p[ji.id].idx,distance:Sn}}),E=D6(mn,M,e,E);var Yn=[];Object.keys(mn).forEach(function(ji){if(tt[ji]){Yn.push(tt[ji]);return}var Sn=E[ji];tt[ji]=F6(Sn,Z,o,s),Yn.push(tt[ji])}),Yn=Yn.sort(function(ji,Sn){return Sn-ji});for(var to=!1,Wi=0;Wi<Gn;Wi++)if(Yn[Wi]<Ht[Wi]){to=!0;break}if(to)return J.splice(Qe,1),"continue"},je=ce-1;je>=0;je--)Oe(je)});var se=[];J==null||J.forEach(function(it){for(var kt=p[it.id].idx,Gt=TBt(e.nodes,f[kt],kt,o,a),te=Gt.neighbors,we=te.length,Ht=!1,ce=we-1;ce>=0;ce--){if(te.length+1<t.nodes.length){Ht=!0;return}var Oe=te[ce],je=Oe[o];if(!x[je]||!x[je].length){te.splice(ce,1);continue}if(!Ot[je]||!Ot[je].length){te.splice(ce,1);continue}var Ae="".concat(it.id,"-").concat(Oe.id),Qe=h[Ae],sr=Ot[je].length-1,Xr=Ot[je][sr];if(Qe>Xr){te.splice(ce,1);continue}if(i){var Fr="".concat(Oe.id,"-").concat(it.id),Gn=h[Fr];sr=oe[je].length-1;var Ta=oe[je][sr];if(Gn>Ta){te.splice(ce,1);continue}}var Wi=tt[Ae]?tt[Ae]:TFe(e,it,Oe,p,Qe,M,Z,o,s,tt,E),mn="".concat(lt.id,"-").concat(je),Yn=Et[mn][Et[mn].length-1];if(Wi<Yn){te.splice(ce,1);continue}var to=kBt(ft,je,y,x),ji=to.minPatternNodeLabelDegree,Sn=to.minPatternNodeLabelInDegree,ya=to.minPatternNodeLabelOutDegree;if(p[Oe.id].degree<ji){te.splice(ce,1);continue}}Ht||se.push({nodes:[it].concat(te)})});var _e=Pw(t,lt.id,!1).length,le={};i?(Object.keys(_e).forEach(function(it){var kt=y[it].node[o];le[kt]?le[kt].push(_e[it]):le[kt]=[_e[it]]}),Object.keys(le).forEach(function(it){le[it].sort(function(kt,Gt){return kt-Gt})})):le=Ot;for(var ar=se.length,pe=function(kt){var Gt=se[kt],te=Gt.nodes[0],we={},Ht={};Gt.nodes.forEach(function(qe,ln){Ht[qe.id]={idx:ln,node:qe,degree:0,inDegree:0,outDegree:0};var ui=qe[o];we[ui]?we[ui]++:we[ui]=1});var ce=[],Oe={};e.edges.forEach(function(qe){Ht[qe.source]&&Ht[qe.target]&&(ce.push(qe),Oe[qe[s]]?Oe[qe[s]]++:Oe[qe[s]]=1,Ht[qe.source].degree++,Ht[qe.target].degree++,Ht[qe.source].outDegree++,Ht[qe.target].inDegree++)});for(var je=Object.keys(b).length,Ae=!1,Qe=0;Qe<je;Qe++){var sr=Object.keys(b)[Qe];if(!Oe[sr]||Oe[sr]<b[sr].length){Ae=!0;break}}if(Ae)return se.splice(kt,1),"continue";var Xr=ce.length;if(Xr<t.edges.length)return se.splice(kt,1),"break";for(var Fr=!1,Gn=function(ln){var ui=ce[ln],Zn=ui[s],Wn=b[Zn];if(!Wn||!Wn.length)return Oe[Zn]--,Wn&&Oe[Zn]<Wn.length?(Fr=!0,"break"):(ce.splice(ln,1),Ht[ui.source].degree--,Ht[ui.target].degree--,Ht[ui.source].outDegree--,Ht[ui.target].inDegree--,"continue");var Jl=Ht[ui.source].node[o],rn=Ht[ui.target].node[o],el=!1;if(Wn.forEach(function(wl){var tu=y[wl.source].node,Eh=y[wl.target].node;tu[o]===Jl&&Eh[o]===rn&&(el=!0),!i&&tu[o]===rn&&Eh[o]===Jl&&(el=!0)}),!el)return Oe[Zn]--,Wn&&Oe[Zn]<Wn.length?(Fr=!0,"break"):(ce.splice(ln,1),Ht[ui.source].degree--,Ht[ui.target].degree--,Ht[ui.source].outDegree--,Ht[ui.target].inDegree--,"continue")},Qe=Xr-1;Qe>=0;Qe--){var Ta=Gn(Qe);if(Ta==="break")break}if(Fr)return se.splice(kt,1),"continue";Gt.edges=ce;var Wi=Pw(Gt,Gt.nodes[0].id,!1).length;if(Object.keys(Wi).reverse().forEach(function(qe){if(!(qe===Gt.nodes[0].id||Fr)){if(Wi[qe]===1/0){var ln=Ht[qe].node[o];if(we[ln]--,we[ln]<x[ln].length){Fr=!0;return}var ui=Gt.nodes.indexOf(Ht[qe].node);Gt.nodes.splice(ui,1),Ht[qe]=void 0;return}var Zn=p[qe].node[o];if(!le[Zn]||!le[Zn].length||Wi[qe]>le[Zn][le[Zn].length-1]){var ln=Ht[qe].node[o];if(we[ln]--,we[ln]<x[ln].length){Fr=!0;return}var ui=Gt.nodes.indexOf(Ht[qe].node);Gt.nodes.splice(ui,1),Ht[qe]=void 0}}}),Fr)return se.splice(kt,1),"continue";for(var mn=!0,Yn=0;mn&&!Fr;){mn=!1;var to=i?Ht[te.id].degree<y[lt.id].degree||Ht[te.id].inDegree<y[lt.id].inDegree||Ht[te.id].outDegree<y[lt.id].outDegree:Ht[te.id].degree<y[lt.id].degree;if(to){Fr=!0;break}if(we[te[o]]<x[te[o]].length){Fr=!0;break}for(var ji=Gt.nodes.length,Sn=ji-1;Sn>=0;Sn--){var ya=Gt.nodes[Sn],Ql=Ht[ya.id].degree,xa=Ht[ya.id].inDegree,Mh=Ht[ya.id].outDegree,ku=ya[o],zs=kBt(ft,ku,y,x),Pu=zs.minPatternNodeLabelDegree,wo=zs.minPatternNodeLabelInDegree,$l=zs.minPatternNodeLabelOutDegree,Ah=i?Ql<Pu||xa<wo||Mh<$l:Ql<Pu;if(Ah){if(we[ya[o]]--,we[ya[o]]<x[ya[o]].length){Fr=!0;break}Gt.nodes.splice(Sn,1),Ht[ya.id]=void 0,mn=!0}}if(Fr||!mn&&Yn!==0)break;Xr=ce.length;for(var Cn=Xr-1;Cn>=0;Cn--){var Xi=ce[Cn];if(!Ht[Xi.source]||!Ht[Xi.target]){ce.splice(Cn,1);var ba=Xi[s];if(Oe[ba]--,Ht[Xi.source]&&(Ht[Xi.source].degree--,Ht[Xi.source].outDegree--),Ht[Xi.target]&&(Ht[Xi.target].degree--,Ht[Xi.target].inDegree--),b[ba]&&Oe[ba]<b[ba].length){Fr=!0;break}mn=!0}}Yn++}if(Fr||Fr||Gt.nodes.length<t.nodes.length||ce.length<t.edges.length)return se.splice(kt,1),"continue"},ze=ar-1;ze>=0;ze--){var rr=pe(ze);if(rr==="break")break}for(var ur=se.length,_r=function(kt){var Gt=se[kt],te={};Gt.edges.forEach(function(ce){var Oe="".concat(ce.source,"-").concat(ce.target,"-").concat(ce.label);te[Oe]?te[Oe]++:te[Oe]=1});for(var we=function(Oe){var je=se[Oe],Ae={};je.edges.forEach(function(sr){var Xr="".concat(sr.source,"-").concat(sr.target,"-").concat(sr.label);Ae[Xr]?Ae[Xr]++:Ae[Xr]=1});var Qe=!0;Object.keys(Ae).length!==Object.keys(te).length?Qe=!1:Object.keys(te).forEach(function(sr){Ae[sr]!==te[sr]&&(Qe=!1)}),Qe&&se.splice(Oe,1)},Ht=ur-1;Ht>kt;Ht--)we(Ht);ur=se.length},ze=0;ze<=ur-1;ze++)_r(ze);return se}}},Uet=IFe;var LFe=function(){function r(e){e===void 0&&(e=10),this.linkedList=new A6,this.maxStep=e}return Object.defineProperty(r.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),r.prototype.isEmpty=function(){return!this.linkedList.head},r.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},r.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},r.prototype.push=function(e){this.linkedList.prepend(e),this.length>this.maxStep&&this.linkedList.deleteTail()},r.prototype.pop=function(){var e=this.linkedList.deleteHead();return e?e.value:null},r.prototype.toArray=function(){return this.linkedList.toArray().map(function(e){return e.value})},r.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},r}(),Fw=LFe;var PBt=L6;var OFe={getAdjMatrix:Ad,breadthFirstSearch:Eet,connectedComponent:QT,getDegree:rx,getInDegree:Iet,getOutDegree:Let,detectCycle:L6,detectDirectedCycle:PBt,detectAllCycles:Oet,detectAllDirectedCycle:I6,detectAllUndirectedCycle:T6,depthFirstSearch:$T,dijkstra:Pw,findAllPath:Pet,findShortestPath:ket,floydWarshall:Dw,labelPropagation:Det,louvain:EF,iLouvain:Ret,kCore:Get,kMeans:zet,cosineSimilarity:TF,nodesCosineSimilarity:jet,minimumSpanningTree:Yet,pageRank:Wet,getNeighbors:Fs,Stack:Fw,GADDI:Uet};var ort={};ai(ort,{Line:()=>Rw,applyMatrix:()=>Bw,compare:()=>kFe,distance:()=>eI,floydWarshall:()=>DFe,fractionToLine:()=>z6,getAdjMatrix:()=>FFe,getBBoxBoundLine:()=>ert,getCircleCenterByPoints:()=>R6,getCircleIntersectByPoint:()=>Ket,getDegree:()=>RFe,getEllipseIntersectByPoint:()=>Qet,getLineIntersect:()=>B6,getPointsCenter:()=>irt,getRectIntersectByPoint:()=>Zet,intersectBBox:()=>FBt,invertMatrix:()=>$et,isPointInPolygon:()=>rI,isPointsOverlap:()=>j6,isPolygonsIntersect:()=>trt,itemIntersectByLine:()=>rrt,lerp:()=>Y6,lerpArray:()=>W6,move:()=>G6,pointLineDistance:()=>YFe,pointLineSquareDist:()=>nrt,pointRectSquareDist:()=>art,rotate:()=>BFe,scale:()=>NFe,scaleMatrix:()=>PFe,squareDist:()=>IF,translate:()=>Jet});var Nw=et(ot()),N6=Wr.transform,kFe=function(e){return function(t,i){return t[e]-i[e]}},DBt=function(e,t,i){return e>=t&&e<=i},B6=function(e,t,i,n){var a=1e-4,o={x:i.x-e.x,y:i.y-e.y},s={x:t.x-e.x,y:t.y-e.y},l={x:n.x-i.x,y:n.y-i.y},u=s.x*l.y-s.y*l.x,f=u*u,c=1/u,h=s.x*s.x+s.y*s.y,d=l.x*l.x+l.y*l.y;if(f>a*h*d){var v=(o.x*l.y-o.y*l.x)*c,p=(o.x*s.y-o.y*s.x)*c;return!DBt(v,0,1)||!DBt(p,0,1)?null:{x:e.x+v*s.x,y:e.y+v*s.y}}return null},Zet=function(e,t){var i=e.x,n=e.y,a=e.width,o=e.height,s=i+a/2,l=n+o/2,u=[],f={x:s,y:l};u.push({x:i,y:n}),u.push({x:i+a,y:n}),u.push({x:i+a,y:n+o}),u.push({x:i,y:n+o}),u.push({x:i,y:n});for(var c=null,h=1;h<u.length&&(c=B6(u[h-1],u[h],f,t),!c);h++);return c},Ket=function(e,t){var i=e.x,n=e.y,a=e.r,o=t.x,s=t.y,l=o-i,u=s-n;if(l*l+u*u<a*a)return null;var f=Math.atan(u/l);return{x:i+Math.abs(a*Math.cos(f))*Math.sign(l),y:n+Math.abs(a*Math.sin(f))*Math.sign(u)}},Qet=function(e,t){var i=e.rx,n=e.ry,a=e.x,o=e.y,s=t.x-a,l=t.y-o,u=Math.atan2(l/n,s/i);return u<0&&(u+=2*Math.PI),{x:a+i*Math.cos(u),y:o+n*Math.sin(u)}},Bw=function(e,t,i){i===void 0&&(i=1);var n=[e.x,e.y,i];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Pe.vec3.transformMat3(n,n,t),{x:n[0],y:n[1]}},$et=function(e,t,i){i===void 0&&(i=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var n=Pe.mat3.invert([1,0,0,0,1,0,0,0,1],t);n||(n=[1,0,0,0,1,0,0,0,1]);var a=[e.x,e.y,i];return Pe.vec3.transformMat3(a,a,n),{x:a[0],y:a[1]}},R6=function(e,t,i){var n=e.x-t.x,a=e.y-t.y,o=e.x-i.x,s=e.y-i.y,l=(e.x*e.x-t.x*t.x-t.y*t.y+e.y*e.y)/2,u=(e.x*e.x-i.x*i.x-i.y*i.y+e.y*e.y)/2,f=a*o-n*s;return{x:-(s*l-a*u)/f,y:-(n*u-o*l)/f}},eI=function(e,t){var i=e.x-t.x,n=e.y-t.y;return Math.sqrt(i*i+n*n)},PFe=function(e,t){var i=[];return e.forEach(function(n){var a=[];n.forEach(function(o){a.push(o*t)}),i.push(a)}),i},DFe=function(e){for(var t=[],i=e.length,n=0;n<i;n+=1){t[n]=[];for(var a=0;a<i;a+=1)n===a?t[n][a]=0:e[n][a]===0||!e[n][a]?t[n][a]=1/0:t[n][a]=e[n][a]}for(var o=0;o<i;o+=1)for(var n=0;n<i;n+=1)for(var a=0;a<i;a+=1)t[n][a]>t[n][o]+t[o][a]&&(t[n][a]=t[n][o]+t[o][a]);return t},FFe=function(e,t){var i=e.nodes,n=e.edges,a=[],o={};if(!i)throw new Error("invalid nodes data!");return i&&i.forEach(function(s,l){o[s.id]=l;var u=[];a.push(u)}),n&&n.forEach(function(s){var l=s.source,u=s.target,f=o[l],c=o[u];a[f][c]=1,t||(a[c][f]=1)}),a},Jet=function(e,t){e.translate(t.x,t.y)},G6=function(e,t,i,n){n===void 0&&(n={duration:500});var a=e.getMatrix();a||(a=[1,0,0,0,1,0,0,0,1]);var o=e.getCanvasBBox(),s=t.x-o.minX,l=t.y-o.minY;if(i){var u=s*a[0],f=l*a[4],c=0,h=0,d=0,v=0;e.animate(function(g){return d=u*g,v=f*g,a=N6(a,[["t",d-c,v-h]]),c=d,h=v,{matrix:a}},n)}else{var p=N6(a,[["t",s,l]]);e.setMatrix(p)}},NFe=function(e,t){var i=e.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var n=t;(0,Nw.isArray)(t)||(n=[t,t]),(0,Nw.isArray)(t)&&t.length===1&&(n=[t[0],t[0]]),i=N6(i,[["s",n[0],n[1]]]),e.setMatrix(i)},BFe=function(e,t){var i=e.getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]),i=N6(i,[["r",t]]),e.setMatrix(i)},RFe=function(e,t,i){for(var n=[],a=0;a<e;a++)n[a]=0;return i.forEach(function(o){o.source&&(n[t[o.source]]+=1),o.target&&(n[t[o.target]]+=1)}),n};function GFe(r,e,t){return(t[0]-r[0])*(e[1]-r[1])==(e[0]-r[0])*(t[1]-r[1])&&Math.min(r[0],e[0])<=t[0]&&t[0]<=Math.max(r[0],e[0])&&Math.min(r[1],e[1])<=t[1]&&t[1]<=Math.max(r[1],e[1])}var rI=function(e,t,i){var n=!1,a=e.length,o=1e-6;function s(c){return Math.abs(c)<o?0:c<0?-1:1}if(a<=2)return!1;for(var l=0;l<a;l++){var u=e[l],f=e[(l+1)%a];if(GFe(u,f,[t,i]))return!0;s(u[1]-i)>0!=s(f[1]-i)>0&&s(t-(i-u[1])*(u[0]-f[0])/(u[1]-f[1])-u[0])<0&&(n=!n)}return n},FBt=function(e,t){return!(t.minX>e.maxX||t.maxX<e.minX||t.minY>e.maxY||t.maxY<e.minY)},zFe=function(e,t){var i=!1;return(0,Nw.each)(e,function(n){if(B6(n.from,n.to,t.from,t.to))return i=!0,!1}),i},trt=function(e,t){var i=function(h){var d=h.map(function(p){return p[0]}),v=h.map(function(p){return p[1]});return{minX:Math.min.apply(null,d),maxX:Math.max.apply(null,d),minY:Math.min.apply(null,v),maxY:Math.max.apply(null,v)}},n=function(h){for(var d=[],v=h.length,p=0;p<v-1;p++){var g=h[p],m=h[p+1];d.push({from:{x:g[0],y:g[1]},to:{x:m[0],y:m[1]}})}if(d.length>1){var y=h[0],x=h[v-1];d.push({from:{x:x[0],y:x[1]},to:{x:y[0],y:y[1]}})}return d};if(e.length<2||t.length<2)return!1;var a=i(e),o=i(t);if(!FBt(a,o))return!1;var s=!1;if((0,Nw.each)(t,function(c){if(rI(e,c[0],c[1]))return s=!0,!1}),s||((0,Nw.each)(e,function(c){if(rI(t,c[0],c[1]))return s=!0,!1}),s))return!0;var l=n(e),u=n(t),f=!1;return(0,Nw.each)(u,function(c){if(zFe(l,c))return f=!0,!1}),f},Rw=function(){function r(e,t,i,n){this.x1=e,this.y1=t,this.x2=i,this.y2=n}return r.prototype.getBBox=function(){var e=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),i=Math.max(this.x1,this.x2),n=Math.max(this.y1,this.y2),a={x:e,y:t,minX:e,minY:t,maxX:i,maxY:n,width:i-e,height:n-t};return a},r}();var ert=function(e,t){var i={top:[e.minX,e.minY,e.maxX,e.minY],left:[e.minX,e.minY,e.minX,e.maxY],bottom:[e.minX,e.maxY,e.maxX,e.maxY],right:[e.maxX,e.minY,e.maxX,e.maxY]};return i[t]},jFe=function(e,t){var i=(t.x2-t.x1)*(e.y1-t.y1)-(t.y2-t.y1)*(e.x1-t.x1),n=(e.x2-e.x1)*(e.y1-t.y1)-(e.y2-e.y1)*(e.x1-t.x1),a=(t.y2-t.y1)*(e.x2-e.x1)-(t.x2-t.x1)*(e.y2-e.y1);if(a){var o=i/a,s=n/a;if(o>=0&&o<=1&&s>=0&&s<=1)return o}return Number.POSITIVE_INFINITY},rrt=function(e,t){for(var i=["top","left","bottom","right"],n=e.getBBox(),a=0,o=[],s=0;s<4;s++){var l=ert(n,i[s]),u=l[0],f=l[1],c=l[2],h=l[3];o[s]=B6({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:u,y:f},{x:c,y:h}),o[s]&&(a+=1)}return[o,a]},z6=function(e,t){for(var i=["top","left","bottom","right"],n=e.getBBox(),a=Number.POSITIVE_INFINITY,o=0,s=0;s<4;s++){var l=ert(n,i[s]),u=l[0],f=l[1],c=l[2],h=l[3],d=jFe(t,new Rw(u,f,c,h));d=Math.abs(d-.5),d>=0&&d<=1&&(o+=1,a=d<a?d:a)}return o===0?-1:a},irt=function(e){var t=0,i=0;if(e.length>0){for(var n=0,a=e;n<a.length;n++){var o=a[n];t+=o.x,i+=o.y}t/=e.length,i/=e.length}return{x:t,y:i}},IF=function(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)},nrt=function(e,t){var i=t.x1,n=t.y1,a=t.x2-i,o=t.y2-n,s=e.x-i,l=e.y-n,u=s*a+l*o,f;u<=0?f=0:(s=a-s,l=o-l,u=s*a+l*o,u<=0?f=0:f=u*u/(a*a+o*o));var c=s*s+l*l-f;return c<0&&(c=0),c},j6=function(e,t,i){return i===void 0&&(i=.001),Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)<Math.pow(i,2)},art=function(e,t){var i=e.x<t.x,n=e.x>t.x+t.width,a=e.y>t.y+t.height,o=e.y<t.y,s=i||n||a||o;if(!s)return 0;if(a&&!i&&!n)return Math.pow(t.y+t.height-e.y,2);if(o&&!i&&!n)return Math.pow(e.y-t.y,2);if(i&&!a&&!o)return Math.pow(t.x-e.x,2);if(n&&!a&&!o)return Math.pow(t.x+t.width-e.x,2);var l=Math.min(Math.abs(t.x-e.x),Math.abs(t.x+t.width-e.x)),u=Math.min(Math.abs(t.y-e.y),Math.abs(t.y+t.height-e.y));return l*l+u*u},YFe=function(e,t){var i=e[0],n=e[1],a=e[2],o=e[3],s=t.x,l=t.y,u=[a-i,o-n];if(Pe.vec2.exactEquals(u,[0,0]))return NaN;var f=[-u[1],u[0]];Pe.vec2.normalize(f,f);var c=[s-i,l-n];return Math.abs(Pe.vec2.dot(c,f))},Y6=function(e,t,i){return e+(t-e)*i},W6=function(e,t,i){for(var n=Math.min(e.length,t.length),a=new Array(n),o=0;o<n;o++)a[o]=Y6(e[o],t[o],i);return a};var X6=et(ot());var vrt={};ai(vrt,{cloneBesidesImg:()=>OF,getAnimateCfgWithCallback:()=>rM,getBBox:()=>iI,getComboBBox:()=>LF,getLabelPosition:()=>crt,getLetterWidth:()=>YBt,getLoopCfgs:()=>frt,getTextSize:()=>hrt,plainCombosToTrees:()=>H6,reconstructTree:()=>U6,shouldRefreshEdge:()=>ZFe,traverseTree:()=>Zs,traverseTreeUp:()=>Ed,truncateLabelByLength:()=>drt});var as=et(ot());var Gw="rgb(95, 149, 255)",WFe="rgb(255, 255, 255)",NBt="rgb(0, 0, 0)",srt="rgb(247, 250, 255)",BBt="rgb(239, 244, 255)",V6="rgb(253, 253, 253)",RBt="rgb(250, 250, 250)",q6="rgb(224, 224, 224)",GBt="rgb(234, 234, 234)",VFe="rgb(245, 245, 245)",qFe="rgb(191, 213, 255)",zBt="#4572d9",HFe="rgb(223, 234, 255)",_n={mainStroke:Gw,mainFill:BBt,activeStroke:Gw,activeFill:srt,inactiveStroke:qFe,inactiveFill:srt,selectedStroke:Gw,selectedFill:WFe,highlightStroke:zBt,highlightFill:HFe,disableStroke:q6,disableFill:RBt,edgeMainStroke:q6,edgeActiveStroke:Gw,edgeInactiveStroke:GBt,edgeSelectedStroke:Gw,edgeHighlightStroke:Gw,edgeDisableStroke:VFe,comboMainStroke:q6,comboMainFill:V6,comboActiveStroke:Gw,comboActiveFill:srt,comboInactiveStroke:q6,comboInactiveFill:V6,comboSelectedStroke:Gw,comboSelectedFill:V6,comboHighlightStroke:zBt,comboHighlightFill:V6,comboDisableStroke:GBt,comboDisableFill:RBt},yr={version:"0.8.23",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:_n.mainStroke,fill:BBt},size:20,color:_n.mainStroke,linkPoints:{size:8,lineWidth:1,fill:_n.activeFill,stroke:_n.activeStroke}},nodeStateStyles:{active:{fill:_n.activeFill,stroke:_n.activeStroke,lineWidth:2,shadowColor:_n.mainStroke,shadowBlur:10},selected:{fill:_n.selectedFill,stroke:_n.selectedStroke,lineWidth:4,shadowColor:_n.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:_n.highlightFill,stroke:_n.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:_n.inactiveFill,stroke:_n.inactiveStroke,lineWidth:1},disable:{fill:_n.disableFill,stroke:_n.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:NBt,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:_n.edgeMainStroke,lineAppendWidth:2},color:_n.edgeMainStroke},edgeStateStyles:{active:{stroke:_n.edgeActiveStroke,lineWidth:1},selected:{stroke:_n.edgeSelectedStroke,lineWidth:2,shadowColor:_n.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:_n.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:_n.edgeInactiveStroke,lineWidth:1},disable:{stroke:_n.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:NBt,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:_n.comboMainFill,lineWidth:1,stroke:_n.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:_n.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:_n.comboActiveStroke,lineWidth:1,fill:_n.comboActiveFill},selected:{stroke:_n.comboSelectedStroke,lineWidth:2,fill:_n.comboSelectedFill,shadowColor:_n.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:_n.comboHighlightStroke,lineWidth:2,fill:_n.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:_n.comboInactiveStroke,fill:_n.comboInactiveFill,lineWidth:1},disable:{stroke:_n.comboDisableStroke,fill:_n.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},windowFontFamily:typeof window!="undefined"&&window.getComputedStyle&&document.body&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"};var jBt={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875};var om=Math.PI,lrt=Math.sin,urt=Math.cos,ml=lrt(om/8),yl=urt(om/8),iI=function(e,t){var i=e.getBBox(),n={x:i.minX,y:i.minY},a={x:i.maxX,y:i.maxY};if(t){var o=t.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n=Bw(n,o),a=Bw(a,o)}var s=n.x,l=n.y,u=a.x,f=a.y;return{x:s,y:l,minX:s,minY:l,maxX:u,maxY:f,width:u-s,height:f-l}},frt=function(e){var t=e.sourceNode||e.targetNode,i=t.get("group"),n=i.getMatrix();n||(n=[1,0,0,0,1,0,0,0,1]);var a=t.getKeyShape(),o=a.getBBox(),s=e.loopCfg||{},l=s.dist||Math.max(o.width,o.height)*2,u=s.position||yr.defaultLoopPosition,f=[(o.minX+o.maxX)/2+n[6],(o.minY+o.maxY)/2+n[7]],c=[e.startPoint.x,e.startPoint.y],h=[e.endPoint.x,e.endPoint.y],d=o.height/2,v=o.width/2,p=d,g=d,m=p*ml,y=p*yl,x=g*ml,b=g*yl,_=a.get("type"),M=Math.min(d/2,v/2),A=Math.min(d,v),I=(s==null?void 0:s.pointPadding)?Math.min(A,s==null?void 0:s.pointPadding):M;if(c[0]===h[0]&&c[1]===h[1]){switch(u){case"top":_==="circle"?(c=[f[0]-m,f[1]-y],h=[f[0]+x,f[1]-b]):(c=[f[0]-I,f[1]-d],h=[f[0]+I,f[1]-d]);break;case"top-right":p=d,g=v,_==="circle"?(m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]+m,f[1]-y],h=[f[0]+b,f[1]-x]):(c=[f[0]+v-I,f[1]-d],h=[f[0]+v,f[1]-d+I]);break;case"right":p=v,g=v,_==="circle"?(m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]+y,f[1]-m],h=[f[0]+b,f[1]+x]):(c=[f[0]+v,f[1]-I],h=[f[0]+v,f[1]+I]);break;case"bottom-right":p=v,g=d,_==="circle"?(m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]+y,f[1]+m],h=[f[0]+x,f[1]+b]):(c=[f[0]+v,f[1]+d-I],h=[f[0]+v-I,f[1]+d]);break;case"bottom":p=d,g=d,_==="circle"?(m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]+m,f[1]+y],h=[f[0]-x,f[1]+b]):(c=[f[0]-I,f[1]+d],h=[f[0]+I,f[1]+d]);break;case"bottom-left":p=d,g=v,_==="circle"?(m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]-m,f[1]+y],h=[f[0]-b,f[1]+x]):(c=[f[0]-v,f[1]+d-I],h=[f[0]-v+I,f[1]+d]);break;case"left":p=v,g=v,_==="circle"?(m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]-y,f[1]+m],h=[f[0]-b,f[1]-x]):(c=[f[0]-v,f[1]-I],h=[f[0]-v,f[1]+I]);break;case"top-left":p=v,g=d,_==="circle"?(m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]-y,f[1]-m],h=[f[0]-x,f[1]-b]):(c=[f[0]-v+I,f[1]-d],h=[f[0]-v,f[1]-d+I]);break;default:p=v,g=v,m=p*ml,y=p*yl,x=g*ml,b=g*yl,c=[f[0]-m,f[1]-y],h=[f[0]+x,f[1]-b]}if(s.clockwise===!1){var k=[c[0],c[1]];c=[h[0],h[1]],h=[k[0],k[1]]}}var E=[c[0]-f[0],c[1]-f[1]],O=(p+l)/p,P=(g+l)/g;s.clockwise===!1&&(O=(g+l)/g,P=(p+l)/p);var N=Pe.vec2.scale([0,0],E,O),R=[f[0]+N[0],f[1]+N[1]],z=[h[0]-f[0],h[1]-f[1]],B=Pe.vec2.scale([0,0],z,P),Y=[f[0]+B[0],f[1]+B[1]];return e.startPoint={x:c[0],y:c[1]},e.endPoint={x:h[0],y:h[1]},e.controlPoints=[{x:R[0],y:R[1]},{x:Y[0],y:Y[1]}],e},crt=function(e,t,i,n,a){var o=1e-4,s=[],l=e==null?void 0:e.getPoint(t);if(!l)return{x:0,y:0,angle:0};if(t<o)s=e.getStartTangent().reverse();else if(t>1-o)s=e.getEndTangent();else{var u=e==null?void 0:e.getPoint(t+o);s.push([l.x,l.y]),s.push([u.x,u.y])}var f=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]);if(f<0&&(f+=om*2),i&&(l.x+=urt(f)*i,l.y+=lrt(f)*i),n){var c=f-om/2;f>1/2*om&&f<3*1/2*om&&(c-=om),l.x+=urt(c)*n,l.y+=lrt(c)*n}var h={x:l.x,y:l.y,angle:f};return a?(f>.5*om&&f<1.5*om&&(f-=om),S({rotate:f},h)):h},UFe=function r(e,t,i,n){if(n(e,t,i)===!1)return!1;if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!r(e.children[a],e,a,n))return!1}return!0},XFe=function r(e,t,i,n){if(e&&e.children){for(var a=e.children.length-1;a>=0;a--)if(!r(e.children[a],e,a,n))return}return n(e,t,i)!==!1},Zs=function(e,t){typeof t=="function"&&UFe(e,null,-1,t)},Ed=function(e,t){typeof t=="function"&&XFe(e,null,-1,t)},YBt=function(e,t){return t*(jBt[e]||1)},hrt=function(e,t){var i=0,n=new RegExp("[\u4E00-\u9FA5]+");return e.split("").forEach(function(a){n.test(a)?i+=t:i+=YBt(a,t)}),[i,t]},drt=function(e,t){return typeof t!="number"||t<=0||t>=e.length?e:e.substring(0,t)+"..."},H6=function(e,t){var i=[],n={},a={};e.forEach(function(l){a[l.id]=l}),e.forEach(function(l,u){var f=(0,as.clone)(l);f.itemType="combo",f.children=void 0,f.parentId===f.id?(console.warn("The parentId for combo ".concat(f.id," can not be the same as the combo's id")),delete f.parentId):f.parentId&&!a[f.parentId]&&(console.warn("The parent combo for combo ".concat(f.id," does not exist!")),delete f.parentId);var c=n[f.id];if(c){if(f.children=c.children,n[f.id]=f,c=f,!c.parentId){i.push(c);return}var h=n[c.parentId];if(h)h.children?h.children.push(f):h.children=[f];else{var d={id:c.parentId,children:[c]};n[c.parentId]=d,n[f.id]=f}return}if((0,as.isString)(l.parentId)){var v=n[l.parentId];if(v)v.children?v.children.push(f):v.children=[f],n[f.id]=f;else{var p={id:l.parentId,children:[f]};n[p.id]=p,n[f.id]=f}}else i.push(f),n[f.id]=f});var o={};(t||[]).forEach(function(l){o[l.id]=l;var u=n[l.comboId];if(u){var f={id:l.id,comboId:l.comboId};u.children?u.children.push(f):u.children=[f],f.itemType="node",n[l.id]=f}});var s=0;return i.forEach(function(l){l.depth=s+10,Zs(l,function(u){var f,c=n[u.id].itemType;c==="node"?f=n[u.comboId]:f=n[u.parentId],f&&c==="node"?u.depth=s+1:u.depth=s+10,s<u.depth&&(s=u.depth);var h=o[u.id];return h&&(h.depth=u.depth),!0})}),i},U6=function(e,t,i){var n,a=e,o,s={root:{children:e}},l=!1,u="root";(e||[]).forEach(function(v){if(!l){if(v.id===t){o=v,v.itemType==="combo"?o.parentId=i:o.comboId=i,l=!0;return}Zs(v,function(p){var g;return s[p.id]={children:(p==null?void 0:p.children)||[]},a=(g=s[p.parentId||p.comboId||"root"])===null||g===void 0?void 0:g.children,p&&(p.removed||t===p.id)&&a?(u=p.parentId||p.comboId||"root",o=p,p.itemType==="combo"?o.parentId=i:o.comboId=i,l=!0,!1):!0})}}),a=(n=s[u])===null||n===void 0?void 0:n.children;var f=a?a.indexOf(o):-1;if(f>-1&&a.splice(f,1),l||(o={id:t,itemType:"node",comboId:i},s[t]={children:void 0}),t){var c=!1;if(i){var h=0;(e||[]).forEach(function(v){c||Zs(v,function(p){return i===p.id?(c=!0,p.children?p.children.push(o):p.children=[o],h=p.depth,o.itemType==="node"?o.depth=h+2:o.depth=h+1,!1):!0})})}else(!i||!c)&&o.itemType!=="node"&&e.push(o);var d=o.depth;Zs(o,function(v){return v.itemType==="node"?d+=2:d+=1,v.depth=d,!0})}return e},LF=function(e,t,i){var n={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};if(!e||e.length===0){var a=i==null?void 0:i.getModel(),o=a||{},s=o.x,l=o.y,u=o.fixSize,f=o.collapsed,c=o.fixCollapseSize,h=f?c:u,d=(0,as.isArray)(h)?h:[h,h],v=d[0],p=d[1],g=[v/2,p/2];return{minX:s-g[0],minY:l-g[1],maxX:s+g[0],maxY:l+g[1],x:s,y:l,width:v,height:p}}return e.forEach(function(m){var y=t.findById(m.id);if(!(!y||!y.isVisible())){y.set("bboxCanvasCache",void 0);var x=y.getCanvasBBox();x.x&&n.minX>x.minX&&(n.minX=x.minX),x.y&&n.minY>x.minY&&(n.minY=x.minY),x.x&&n.maxX<x.maxX&&(n.maxX=x.maxX),x.y&&n.maxY<x.maxY&&(n.maxY=x.maxY)}}),n.x=(n.minX+n.maxX)/2,n.y=(n.minY+n.maxY)/2,n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n.centerX=(n.minX+n.maxX)/2,n.centerY=(n.minY+n.maxY)/2,(i==null?void 0:i.getKeyShape().get("type"))==="circle"&&(n.width=Math.hypot(n.height,n.width),n.height=n.width),Object.keys(n).forEach(function(m){(n[m]===1/0||n[m]===-1/0)&&(n[m]=void 0)}),n},ZFe=function(e){var t=(0,as.isNumber)(e.x)||(0,as.isNumber)(e.y)||e.type||e.anchorPoints||e.size;return e.style&&(t=t||(0,as.isNumber)(e.style.r)||(0,as.isNumber)(e.style.width)||(0,as.isNumber)(e.style.height)||(0,as.isNumber)(e.style.rx)||(0,as.isNumber)(e.style.ry)),t},OF=function(e){var t={};return Object.keys(e).forEach(function(i){var n=e[i];if(!(i==="img"&&!(0,as.isString)(n)))if((0,as.isObject)(n)&&!(0,as.isArray)(n)){var a={};Object.keys(n).forEach(function(o){var s=n[o];o==="img"&&!(0,as.isString)(s)||(a[o]=(0,as.clone)(s))}),t[i]=a}else t[i]=(0,as.clone)(n)}),t},rM=function(e){var t=e.animateCfg,i=e.callback,n;if(!t)n={duration:500,callback:i};else if(n=(0,as.clone)(t),t.callback){var a=t.callback;n.callback=function(){i(),a()}}else n.callback=i;return n};var prt=function(e){if(!e)return console.error("G6 Error Tips: the data must be defined"),!1;var t=e.nodes,i=e.edges,n=e.combos,a=n===void 0?[]:n;if(!t&&!i){var o=!0;return Zs(e,function(h){return(0,X6.isString)(h.id)?!0:(o=!1,!1)}),o}var s=(t||[]).find(function(h){return!(0,X6.isString)(h.id)});if(s)return console.warn("G6 Warning Tips: missing 'id' property, or %c".concat(s.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1;var l=(t||[]).map(function(h){return h.id}),u=a==null?void 0:a.map(function(h){return h.id}),f=ne(ne([],l,!0),u,!0),c=(i||[]).find(function(h){return!f.includes(h.source)||!f.includes(h.target)});return c?(console.warn("G6 Warning Tips: The source %c".concat(c.source,"%c or the target %c").concat(c.target,"%c of the edge do not exist in the nodes or combos."),"font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},WBt=function(e,t){if(e==="node"||e==="combo"){if(t.id&&!(0,X6.isString)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(t.id,"%c is not a string."),"font-size: 20px; color: red;",""),!1}else if(e==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0};var uf=et(ot());var KFe=function(){function r(e){this.graph=e,this.destroyed=!1,this.modes=e.get("modes")||{default:[]},this.formatModes(),this.mode=e.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return r.prototype.formatModes=function(){var e=this.modes;(0,uf.each)(e,function(t){(0,uf.each)(t,function(i,n){(0,uf.isString)(i)&&(t[n]={type:i})})})},r.prototype.setBehaviors=function(e){var t=this.graph,i=this.modes[e],n=[],a;(0,uf.each)(i||[],function(o){var s=M6.getBehavior(o.type||o);!s||(a=new s(o),a&&(a.bind(t),n.push(a)))}),this.currentBehaves=n},r.mergeBehaviors=function(e,t){return(0,uf.each)(t,function(i){e.indexOf(i)<0&&((0,uf.isString)(i)&&(i={type:i}),e.push(i))}),e},r.filterBehaviors=function(e,t){var i=[];return e.forEach(function(n){var a="";(0,uf.isString)(n)?a=n:a=n.type,t.indexOf(a)<0&&i.push(n)}),i},r.prototype.setMode=function(e){var t=this,i=t.modes,n=t.graph,a=e,o=i[a];!o||(n.emit("beforemodechange",{mode:e}),(0,uf.each)(this.currentBehaves,function(s){s.delegate&&s.delegate.remove(),s.unbind(n)}),this.setBehaviors(a),n.emit("aftermodechange",{mode:e}),this.mode=e)},r.prototype.getMode=function(){return this.mode},r.prototype.manipulateBehaviors=function(e,t,i){var n=this,a;if((0,uf.isArray)(e)?a=e:a=[e],(0,uf.isArray)(t))return(0,uf.each)(t,function(s){n.modes[s]?i?n.modes[s]=r.mergeBehaviors(n.modes[s]||[],a):n.modes[s]=r.filterBehaviors(n.modes[s]||[],a):i&&(n.modes[s]=a)}),this;var o=t;return t||(o=this.mode),this.modes[o]||i&&(this.modes[o]=a),i?this.modes[o]=r.mergeBehaviors(this.modes[o]||[],a):this.modes[o]=r.filterBehaviors(this.modes[o]||[],a),this.formatModes(),this.setMode(this.mode),this},r.prototype.updateBehavior=function(e,t,i){(0,uf.isString)(e)&&(e={type:e});var n=[];if(!i||i===this.mode||i==="default"){if(n=this.currentBehaves,!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var a=n.length,o=0;o<a;o++){var s=n[o];if(s.type===e.type)return s.updateCfg(t),this;o===a-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(n=this.modes[i],!n||!n.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var l=n.length,o=0;o<l;o++){var s=n[o];if(s.type===e.type||s===e.type)return s===e.type&&(s={type:s}),Object.assign(s,t),n[o]=s,this;o===l-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},r.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},r}(),grt=KFe;var PF=et(ot());var yrt={};ai(yrt,{calculationItemsBBox:()=>mrt,cloneEvent:()=>QFe,formatPadding:()=>kF,isNaN:()=>Td,isViewportChanged:()=>$Fe,processParallelEdges:()=>JFe,uniqueId:()=>Z6});var nI=et(ot());var VBt=function(r){G(e,r);function e(t,i){var n=r.call(this,t,i)||this;return n.item=i.item,n.canvasX=i.canvasX,n.canvasY=i.canvasY,n.wheelDelta=i.wheelDelta,n.detail=i.detail,n}return e}(ad);var Z6=function(e){return"".concat(e,"-").concat(Math.random()).concat(Date.now())},kF=function(e){if((0,nI.isArray)(e))switch(e.length){case 4:return e;case 3:return e.push(e[1]),e;case 2:return e.concat(e);case 1:return[e[0],e[0],e[0],e[0]];default:return[0,0,0,0]}if((0,nI.isNumber)(e))return[e,e,e,e];if((0,nI.isString)(e)){var t=parseInt(e,10);return[t,t,t,t]}return[0,0,0,0]},QFe=function(e){var t=new VBt(e.type,e);return t.clientX=e.clientX,t.clientY=e.clientY,t.x=e.x,t.y=e.y,t.target=e.target,t.currentTarget=e.currentTarget,t.bubbles=!0,t.item=e.item,t},$Fe=function(e){if(!e)return!1;for(var t=9,i=[1,0,0,0,1,0,0,0,1],n=0;n<t;n++)if(e[n]!==i[n])return!0;return!1},Td=function(e){return Number.isNaN(Number(e))},mrt=function(e){for(var t=1/0,i=-1/0,n=1/0,a=-1/0,o=0;o<e.length;o++){var s=e[o],l=s.getBBox(),u=l.minX,f=l.minY,c=l.maxX,h=l.maxY;u<t&&(t=u),f<n&&(n=f),c>i&&(i=c),h>a&&(a=h)}var d=Math.floor(t),v=Math.floor(n),p=Math.ceil(i)-Math.floor(t),g=Math.ceil(a)-Math.floor(n);return{x:d,y:v,width:p,height:g,minX:t,minY:n,maxX:i,maxY:a}},JFe=function(e,t,i,n,a){t===void 0&&(t=15),i===void 0&&(i="quadratic"),n===void 0&&(n=void 0),a===void 0&&(a=void 0);for(var o=e.length,s=t*2,l=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],u={},f=[],c={},h=0;h<o;h++){var d=e[h],v=d.source,p=d.target,g="".concat(v,"-").concat(p);if(!f[h]){u[g]||(u[g]=[]),f[h]=!0,u[g].push(d);for(var m=0;m<o;m++)if(h!==m){var y=e[m],x=y.source,b=y.target;f[m]||(v===b&&p===x?(u[g].push(y),f[m]=!0,c["".concat(x,"|").concat(b,"|").concat(u[g].length-1)]=!0):v===x&&p===b&&(u[g].push(y),f[m]=!0))}}}for(var _ in u)for(var M=u[_],A=M.length,I=0;I<A;I++){var k=M[I];if(k.source===k.target){a&&(k.type=a),k.loopCfg={position:l[I%8],dist:Math.floor(I/8)*20+50};continue}if(A===1&&n&&k.source!==k.target){k.type=n;continue}k.type=i;var E=(I%2==0?1:-1)*(c["".concat(k.source,"|").concat(k.target,"|").concat(I)]?-1:1);A%2==1?k.curveOffset=E*Math.ceil(I/2)*s:k.curveOffset=E*(Math.floor(I/2)*s+t)}return e};var xrt=et(ZBt());var nNe=function(){function r(e){this.destroyed=!1,this.graph=e,this.destroyed=!1}return r.prototype.getViewCenter=function(){var e=this.getFormatPadding(),t=this.graph,i=this.graph.get("width"),n=t.get("height");return{x:(i-e[1]-e[3])/2+e[3],y:(n-e[0]-e[2])/2+e[0]}},r.prototype.fitCenter=function(e,t){var i=this.graph,n=i.get("group"),a,o=i.getNodes();if(o.length>i.get("optimizeThreshold")){var s=1/0,l=1/0,u=-1/0,f=-1/0;o.forEach(function(b){var _=b.getModel(),M=_.x,A=_.y;s>M&&(s=M),l>A&&(l=A),u<M&&(u=M),f<A&&(f=A)});var c=n.getMatrix()||[1,0,0,0,1,0,0,0,1],h=Bw({x:s,y:l},c),d=h.x,v=h.y,p=Bw({x:u,y:f},c),g=p.x,m=p.y;a={minX:d,maxX:g,minY:v,maxY:m,width:g-d,height:m-v,x:d,y:v}}else a=n.getCanvasBBox();if(!(a.width===0||a.height===0)){var y=this.getViewCenter(),x={x:a.x+a.width/2,y:a.y+a.height/2};i.translate(y.x-x.x,y.y-x.y,e,t)}},r.prototype.animatedFitView=function(e,t,i,n,a,o,s,l){var u=this.graph;i=i||{duration:500,easing:"easeCubic"};var f=[1,0,0,0,1,0,0,0,1],c=n.x+a.x-o.x-n.minX,h=n.y+a.y-o.y-n.minY;if(!(Td(c)||Td(h))){var d=(0,xrt.transform)(f,[["t",c,h]]);if(!l){var v=rM({animateCfg:i,callback:function(){u.emit("viewportchange",{action:"translate",matrix:d})}});e.animate(function(b){return{matrix:W6(t,d,b)}},v);return}var p=u.get("minZoom"),g=u.get("maxZoom"),m=s;p&&s<p?(m=p,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph minzoom has been used instead")):g&&s>g&&(m=g,console.warn("fitview failed, ratio out of range, ratio: %f",s,"graph maxzoom has been used instead"));var y=(0,xrt.transform)(d,[["t",-a.x,-a.y],["s",m,m],["t",a.x,a.y]]),x=rM({animateCfg:i,callback:function(){e.setMatrix(y),u.emit("viewportchange",{action:"translate",matrix:d}),u.emit("viewportchange",{action:"zoom",matrix:y})}});e.stopAnimate(),e.setMatrix(t),e.animate(function(b){return{matrix:W6(t,y,b)}},x)}},r.prototype.fitView=function(e,t){var i=this.graph,n=this.getFormatPadding(),a=i.get("width"),o=i.get("height"),s=i.get("group"),l=s.getMatrix()||[1,0,0,0,1,0,0,0,1];s.resetMatrix();var u,f=i.getNodes();if(f.length>i.get("optimizeThreshold")){var c=1/0,h=1/0,d=-1/0,v=-1/0;f.forEach(function(M){var A=M.getModel(),I=A.x,k=A.y;c>I&&(c=I),h>k&&(h=k),d<I&&(d=I),v<k&&(v=k)}),u={minX:c,maxX:d,minY:h,maxY:v,width:d-c,height:v-h,x:c,y:h}}else u=s.getCanvasBBox();if(!(u.width===0||u.height===0)){var p=this.getViewCenter(),g={x:u.x+u.width/2,y:u.y+u.height/2},m=(a-n[1]-n[3])/u.width,y=(o-n[0]-n[2])/u.height,x=m;if(m>y&&(x=y),e)this.animatedFitView(s,l,t,u,p,g,x,!0);else{var b=p.x-g.x,_=p.y-g.y;if(Td(b)||Td(_))return;i.translate(b,_),i.zoom(x,p)||console.warn("zoom failed, ratio out of range, ratio: %f",x)}}},r.prototype.fitViewByRules=function(e,t,i){var n=e.onlyOutOfViewPort,a=n===void 0?!1:n,o=e.direction,s=o===void 0?"both":o,l=e.ratioRule,u=l===void 0?"min":l,f=this.graph,c=this.getFormatPadding(),h=f.get("width"),d=f.get("height"),v=f.get("group"),p=v.getMatrix()||[1,0,0,0,1,0,0,0,1];v.resetMatrix();var g,m=f.getNodes();if(m.length>f.get("optimizeThreshold")){var y=1/0,x=1/0,b=-1/0,_=-1/0;m.forEach(function(R){var z=R.getModel(),B=z.x,Y=z.y;y>B&&(y=B),x>Y&&(x=Y),b<B&&(b=B),_<Y&&(_=Y)}),g={minX:y,maxX:b,minY:x,maxY:_,width:b-y,height:_-x,x:y,y:x}}else g=v.getCanvasBBox();if(!(g.width===0||g.height===0)){var M=this.getViewCenter(),A={x:g.x+g.width/2,y:g.y+g.height/2},I=(h-c[1]-c[3])/g.width,k=(d-c[0]-c[2])/g.height,E;if(s==="x"?E=I:s==="y"?E=k:E=u==="max"?Math.max(I,k):Math.min(I,k),a&&(E=E<1?E:1),t)this.animatedFitView(v,p,i,g,M,A,E,!0);else{var O=f.getZoom(),P=O*E,N=f.get("minZoom");P<N&&(P=N,console.warn("fitview failed, ratio out of range, ratio: %f",E,"graph minzoom has been used instead")),f.translate(M.x-A.x,M.y-A.y),f.zoomTo(P,M)}}},r.prototype.getFormatPadding=function(){var e=this.graph.get("fitViewPadding");return kF(e)},r.prototype.focusPoint=function(e,t,i){var n=this,a=this.getViewCenter(),o=this.getPointByCanvas(a.x,a.y),s=this.graph.get("group").getMatrix();if(s||(s=[1,0,0,0,1,0,0,0,1]),t){var l=(o.x-e.x)*s[0],u=(o.y-e.y)*s[4],f=0,c=0,h=0,d=0;this.graph.get("canvas").animate(function(v){h=l*v,d=u*v,n.graph.translate(h-f,d-c),f=h,c=d},S({},i))}else this.graph.translate((o.x-e.x)*s[0],(o.y-e.y)*s[4])},r.prototype.getPointByCanvas=function(e,t){var i=this.graph.get("group").getMatrix();i||(i=[1,0,0,0,1,0,0,0,1]);var n=$et({x:e,y:t},i);return n},r.prototype.getPointByClient=function(e,t){var i=this.graph.get("canvas"),n=i.getPointByClient(e,t);return this.getPointByCanvas(n.x,n.y)},r.prototype.getClientByPoint=function(e,t){var i=this.graph.get("canvas"),n=this.getCanvasByPoint(e,t),a=i.getClientByPoint(n.x,n.y);return{x:a.x,y:a.y}},r.prototype.getCanvasByPoint=function(e,t){var i=this.graph.get("group").getMatrix();return i||(i=[1,0,0,0,1,0,0,0,1]),Bw({x:e,y:t},i)},r.prototype.focus=function(e,t,i){if((0,PF.isString)(e)&&(e=this.graph.findById(e)),e){var n=0,a=0;if(e.getType&&e.getType()==="edge"){var o=e.getSource().get("group").getMatrix(),s=e.getTarget().get("group").getMatrix();o&&s?(n=(o[6]+s[6])/2,a=(o[7]+s[7])/2):(o||s)&&(n=o?o[6]:s[6],a=o?o[7]:s[7])}else{var l=e.get("group"),u=l.getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),n=u[6],a=u[7]}this.focusPoint({x:n,y:a},t,i)}},r.prototype.focusItems=function(e,t,i,n){if(!!e.length){var a=this.graph,o=this.getFormatPadding(),s=a.get("width"),l=a.get("height"),u=a.get("group"),f=u.getMatrix()||[1,0,0,0,1,0,0,0,1];u.resetMatrix();for(var c={x:0,y:0,minX:Number.MAX_SAFE_INTEGER,minY:Number.MAX_SAFE_INTEGER,maxX:Number.MIN_SAFE_INTEGER,maxY:Number.MIN_SAFE_INTEGER,width:0,height:0},h=0,d=e;h<d.length;h++){var v=d[h],p=v.getBBox();p.minX<c.minX&&(c.minX=p.minX),p.minY<c.minY&&(c.minY=p.minY),p.maxX>c.maxX&&(c.maxX=p.maxX),p.maxY>c.maxY&&(c.maxY=p.maxY)}if(c.x=c.minX,c.y=c.minY,c.width=c.maxX-c.minX,c.height=c.maxY-c.minY,!(c.width===0||c.height===0)){var g=this.getViewCenter(),m={x:c.x+c.width/2,y:c.y+c.height/2},y=(s-o[1]-o[3])/c.width,x=(l-o[0]-o[2])/c.height,b=y;y>x&&(b=x),i?this.animatedFitView(u,f,n,c,g,m,b,t):(a.translate(g.x-m.x,g.y-m.y),t&&!a.zoom(b,g)&&console.warn("zoom failed, ratio out of range, ratio: %f",b))}}},r.prototype.changeSize=function(e,t){var i=this.graph;if(!(0,PF.isNumber)(e)||!(0,PF.isNumber)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");i.set({width:e,height:t});var n=i.get("canvas");n.changeSize(e,t);var a=i.get("plugins");a.forEach(function(o){o.get("gridContainer")&&o.positionInit()})},r.prototype.destroy=function(){this.graph=null,this.destroyed=!1},r}(),brt=nNe;var ki=et(ot());var Id=et(ot());var os=et(ot());var eRt=et(ot());var KBt=et(ot());function wrt(r){return wrt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wrt(r)}function QBt(r){if(typeof r!="string")return r;var e=function(A){if(typeof A!="string")return A;try{return JSON.parse(A.trim())}catch(I){return A.trim()}},t=e(r);if(typeof t!="string")return t;for(var i=function(A){return A[A.length-1]},n=r.trim(),a=[],o=[],s=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];return A.some(function(k){return i(o)===k})},l=function(){return i(a)},u=null,f=0,c="";f<n.length;){var h=n[f],d=s('"',"'");if(!d&&!h.trim()){f+=1;continue}var v=n[f-1]==="\\",p=s("}"),g=s("]"),m=s(","),y=l();if(d)if(i(o)===h&&!v){o.pop();var x=e(c);y.push(x),u=x,c=""}else c+=h;else if(g&&h===",")c&&(y.push(e(c)),c="");else if(p&&h===":")o.push(","),c&&(y.push(c),c="");else if(m&&h===",")c&&(y.push(e(c)),c=""),o.pop();else if(h==="}"&&(p||m)){c&&(y.push(e(c)),c=""),m&&o.pop();for(var b={},_=1;_<y.length;_+=2)b[y[_-1]]=y[_];a.pop(),a.length&&i(a).push(b),o.pop(),u=b}else h==="]"&&g?(c&&(y.push(e(c)),c=""),a.pop(),a.length&&i(a).push(y),o.pop(),u=y):h==="{"?(a.push([]),o.push("}")):h==="["?(a.push([]),o.push("]")):h==='"'?o.push('"'):h==="'"?o.push("'"):c+=h;f+=1}return u||c}var aNe=function(e){return e.split("-").reduce(function(t,i){return t+i.charAt(0).toUpperCase()+i.slice(1)})},oNe=function(e){return function(t){for(var i=e.length,n=[],a=0,o="";a<i;)if(e[a]==="{"&&e[a+1]==="{")n.push(o),o="",a+=2;else if(e[a]==="}"&&e[a+1]==="}"){if(n.length){var s=n.pop();o=(0,KBt.get)(t,o,s.endsWith("=")?'"{'.concat(o,'}"'):o),n.push(s+o)}a+=2,o=""}else o+=e[a],a+=1;return n.push(o),n.map(function(l,u){return n[u-1]&&n[u-1].endsWith("=")?'"{'.concat(l,'}"'):l}).join("")}};function $Bt(r,e){var t={},i=r.getAttributeNames&&r.getAttributeNames()||[],n=r.children&&Array.from(r.children).map(function(s){return $Bt(s,e)}),a={},o=r.tagName?r.tagName.toLowerCase():"group";return o==="text"&&(t.text=r.innerText),a.type=o,o==="img"&&(a.type="image"),Array.from(i).forEach(function(s){var l=aNe(s),u=r.getAttribute(s);try{if(l==="style"||l==="attrs"){var f=QBt(u);t=S(S({},t),f)}else a[l]=QBt(u)}catch(c){if(l==="style")throw c;a[l]=u}}),a.attrs=t,e&&e.style&&a.name&&wrt(e.style[a.name])==="object"&&(a.attrs=S(S({},a.attrs),e.style[a.name])),e&&e.style&&a.keyshape&&(a.attrs=S(S({},a.attrs),e.style)),n.length&&(a.children=n),a}function sNe(r,e,t){var i=r.attrs,n=i===void 0?{}:i,a={x:e.x||0,y:e.y||0,width:t.width||0,height:t.height||0},o,s;switch(r.type){case"maker":case"circle":n.r&&(s=2*n.r,o=2*n.r);break;case"text":n.text&&(s=hrt(n.text,n.fontSize||12)[0],o=16,a.y+=o,a.height=o,a.width=s,r.attrs=S({fontSize:12,fill:"#000"},n));break;default:n.width&&(s=n.width),n.height&&(o=n.height)}return o>=0&&(a.height=o),s>=0&&(a.width=s),n.marginTop&&(a.y+=n.marginTop),n.marginLeft&&(a.x+=n.marginLeft),a}function JBt(r,e){var t;e===void 0&&(e={x:0,y:0});var i=S({x:0,y:0,width:0,height:0},e);if((t=r.children)===null||t===void 0?void 0:t.length){var n=r.attrs,a=n===void 0?{}:n,o=a.marginTop,s=S({},e);o&&(s.y+=o);for(var l=0;l<r.children.length;l++){r.children[l].attrs.key="".concat(a.key||"root"," -").concat(l," ");var u=JBt(r.children[l],s);if(u.bbox){var f=u.bbox;u.attrs.next==="inline"?s.x+=u.bbox.width:s.y+=u.bbox.height,f.width+f.x>i.width&&(i.width=f.width+f.x),f.height+f.y>i.height&&(i.height=f.height+f.y)}}}return r.bbox=sNe(r,e,i),r.attrs=S(S({},r.attrs),r.bbox),r}function tRt(r,e){var t,i,n,a,o=(r||{}).type,s=((e==null?void 0:e.attrs)||{}).key;if(s&&r&&(r.attrs.key=s),!r&&e)return{action:"delete",val:e,type:o,key:s};if(r&&!e)return{action:"add",val:r,type:o};if(!r&&!e)return{action:"same",type:o};var l=[];if(((t=r.children)===null||t===void 0?void 0:t.length)>0||((i=e.children)===null||i===void 0?void 0:i.length)>0)for(var u=Math.max((n=r.children)===null||n===void 0?void 0:n.length,(a=e.children)===null||a===void 0?void 0:a.length),f=e.children||[],c=r.children||[],h=0;h<u;h+=1)l.push(tRt(c[h],f[h]));var d=Object.keys(e.attrs),v=Object.keys(r.attrs);return e.type!==r.type?{action:"restructure",nowTarget:r,formerTarget:e,key:s,children:l}:d.filter(function(p){return p!=="children"}).some(function(p){return r.attrs[p]!==e.attrs[p]||!v.includes(p)})?{action:"change",val:r,children:l,type:o,key:s}:{action:"same",children:l,type:o,key:s}}function _rt(r){var e={},t=function(n){var a=typeof r=="function"?r(n):r,o=oNe(a)(n),s=document.createElement("div");s.innerHTML=o;var l=s.children[0],u=JBt($Bt(l,n));return s.remove(),u};return{draw:function(n,a){var o=t(n),s=a,l=function u(f){var c=f.attrs,h=c===void 0?{}:c,d=f.bbox,v=f.type,p=f.children,g=Ze(f,["attrs","bbox","type","children"]);if(f.type!=="group"){var m=a.addShape(f.type,S({attrs:h,origin:{bbox:d,type:v,children:p}},g));f.keyshape&&(s=m)}f.children&&f.children.forEach(function(y){return u(y)})};return l(o),e[n.id]=[o],s},update:function(n,a){e[n.id]||(e[n.id]=[]);var o=a.getContainer(),s=o.get("children"),l=t(n),u=e[n.id].pop(),f=tRt(l,u),c=function v(p){var g;p.type!=="group"&&o.addShape(p.type,{attrs:p.attrs}),((g=p.children)===null||g===void 0?void 0:g.length)&&p.children.map(function(m){return v(m)})},h=function v(p){var g,m=s.find(function(y){return y.attrs.key===p.attrs.key});m&&o.removeChild(m),((g=p.children)===null||g===void 0?void 0:g.length)&&p.children.map(function(y){return v(y)})},d=function v(p){var g=p.key;if(p.type!=="group"){var m=s.find(function(x){return x.attrs.key===g});switch(p.action){case"change":if(m){var y=p.val.keyshape?a.getOriginStyle():{};m.attr(S(S({},y),p.val.attrs))}break;case"add":c(p.val);break;case"delete":h(p.val);break;case"restructure":h(p.formerTarget),c(p.nowTarget);break;default:break}}p.children&&p.children.forEach(function(x){return v(x)})};d(f),e[n.id].push(l)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Srt={};function rRt(r){return Srt[r]||(Srt[r]=(0,eRt.upperFirst)(r)),Srt[r]}var lNe={defaultShapeType:"defaultType",className:null,getShape:function(e){var t=this,i=t[e]||t[t.defaultShapeType]||t["simple-circle"];return i},draw:function(e,t,i){var n=this.getShape(e);i.shapeMap={};var a=n.draw(t,i);return n.afterDraw&&n.afterDraw(t,i,a),a},baseUpdate:function(e,t,i,n){var a,o,s=this.getShape(e);s.update&&(s.mergeStyle=(a=s.getOptions)===null||a===void 0?void 0:a.call(s,t,n),(o=s.update)===null||o===void 0||o.call(s,t,i,n)),s.afterUpdate&&s.afterUpdate(t,i)},setState:function(e,t,i,n){var a=this.getShape(e);a.setState(t,i,n)},shouldUpdate:function(e){var t=this.getShape(e);return!!t.update},getControlPoints:function(e,t){var i=this.getShape(e);return i.getControlPoints(t)},getAnchorPoints:function(e,t){var i=this.getShape(e);return i.getAnchorPoints(t)}},Crt={options:{},draw:function(e,t){return this.drawShape(e,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t=this.options.anchorPoints,i=e.anchorPoints||t;return i}},K6=function(){function r(){}return r.registerFactory=function(e,t){var i=rRt(e),n=lNe,a=S(S({},n),t);return r[i]=a,a.className=i,a},r.getFactory=function(e){var t=rRt(e);return r[t]},r.registerNode=function(e,t,i){var n=r.Node,a;if(typeof t=="string"||typeof t=="function"){var o=_rt(t);a=S(S({},n.getShape("single-node")),o)}else if(t.jsx){var s=t.jsx,o=_rt(s);a=S(S(S({},n.getShape("single-node")),o),t)}else{n.getShape(i);var l=i?n.getShape(i):Crt;a=S(S({},l),t)}return a.type=e,a.itemType="node",n[e]=a,a},r.registerEdge=function(e,t,i){var n=r.Edge,a=i?n.getShape(i):Crt,o=S(S({},a),t);return o.type=e,o.itemType="edge",n[e]=o,o},r.registerCombo=function(e,t,i){var n=r.Combo,a=i?n.getShape(i):Crt,o=S(S({},a),t);return o.type=e,o.itemType="combo",n[e]=o,o},r}(),za=K6;K6.registerFactory("node",{defaultShapeType:"circle"});K6.registerFactory("edge",{defaultShapeType:"line"});K6.registerFactory("combo",{defaultShapeType:"circle"});var Mrt="bboxCache",Art="bboxCanvasCache";var uNe=function(){function r(e){this._cfg={},this.destroyed=!1,this.optimize=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),e);var i=this.get("model"),n=i.id,a=this.get("type");typeof n=="undefined"?n=Z6(a):typeof n!="string"&&(n=String(n)),this.get("model").id=n,this.set("id",n);var o=e.group;o&&(o.set("item",this),o.set("id",n)),this.init(),this.draw();var s=i.shape||i.type||(a==="edge"?"line":"circle"),l=this.get("shapeFactory");if(l&&l[s]){var u=l[s].options;if(u&&u.stateStyles){var f=this.get("styles")||i.stateStyles;f=(0,os.deepMix)({},u.stateStyles,f),this.set("styles",f)}}}return r.prototype.calculateBBox=function(){var e=this.get("keyShape"),t=this.get("group"),i=iI(e,t);return i.x=i.minX,i.y=i.minY,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,i},r.prototype.calculateCanvasBBox=function(){var e=this.get("keyShape"),t=this.get("group"),i=iI(e,t);return i.x=i.minX,i.y=i.minY,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.centerX=(i.minX+i.maxX)/2,i.centerY=(i.minY+i.maxY)/2,i},r.prototype.drawInner=function(){var e=this,t=e.get("shapeFactory"),i=e.get("group"),n=e.get("model");i.clear();var a=n.visible;if(a!==void 0&&!a&&e.changeVisibility(a),!!t){e.updatePosition(n);var o=e.getShapeCfg(n),s=o.type,l=t.draw(s,o,i);l&&(e.set("keyShape",l),l.set("isKeyShape",!0),l.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",s),this.restoreStates(t,s)}},r.prototype.setOriginStyle=function(){var e=this.get("group"),t=e.get("children"),i=this.getKeyShape(),n=this,a=i.get("name");if(this.get("originStyle")){var d=this.get("originStyle");a&&!d[a]&&(d[a]={});for(var v=this.getCurrentStatesStyle(),p=function(m){var y=t[m],x=y.get("name"),b=y.attr();if(x&&x!==a){var _=v[x];d[x]||(d[x]={}),_?Object.keys(b).forEach(function(I){var k=b[I];k!==_[I]&&(d[x][I]=k)}):d[x]=y.get("type")!=="image"?(0,os.clone)(b):n.getShapeStyleByName(x)}else{var M=y.attr(),A={};Object.keys(v).forEach(function(I){var k=v[I];(I===a||!(0,os.isPlainObject)(k))&&(A[I]=k)}),Object.keys(M).forEach(function(I){var k=M[I];A[I]!==k&&(a?d[a][I]=k:d[I]=k)})}},s=0;s<t.length;s++)p(s);delete d.path,delete d.matrix,delete d.x,delete d.y,d[a]&&(delete d[a].x,delete d[a].y,delete d[a].matrix,delete d[a].path),n.set("originStyle",d)}else{for(var o={},s=0;s<t.length;s++){var l=t[s],u=l.get("type"),f=l.get("name");if(f&&f!==a)o[f]=u!=="image"?(0,os.clone)(l.attr()):n.getShapeStyleByName(f),u==="text"&&o[f]&&(delete o[f].x,delete o[f].y,delete o[f].matrix);else{var c=n.getShapeStyleByName();if(delete c.path,delete c.matrix,!a)Object.assign(o,c);else if(f)o[a]=c;else{var h=Z6("shape");l.set("name",h),e.shapeMap[h]=l,o[h]=u!=="image"?(0,os.clone)(l.attr()):n.getShapeStyleByName(f)}}}n.set("originStyle",o)}},r.prototype.restoreStates=function(e,t){var i=this,n=i.get("states");(0,os.each)(n,function(a){e.setState(t,a,!0,i)})},r.prototype.init=function(){var e=za.getFactory(this.get("type"));this.set("shapeFactory",e)},r.prototype.get=function(e){return this._cfg[e]},r.prototype.set=function(e,t){(0,os.isPlainObject)(e)?this._cfg=S(S({},this._cfg),e):this._cfg[e]=t},r.prototype.getDefaultCfg=function(){return{}},r.prototype.clearCache=function(){this.set(Mrt,null),this.set(Art,null)},r.prototype.beforeDraw=function(){},r.prototype.afterDraw=function(){},r.prototype.afterUpdate=function(){},r.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},r.prototype.getShapeStyleByName=function(e){var t=this.get("group"),i;if(e?i=t.shapeMap[e]||t.find(function(a){return a.get("name")===e}):i=this.getKeyShape(),i){var n={};return(0,os.each)(i.attr(),function(a,o){(o!=="img"||(0,os.isString)(a))&&(n[o]=a)}),n}return{}},r.prototype.getShapeCfg=function(e,t){var i=this.get("styles");if(i){var n=e;return n.style=S(S({},i),e.style),n}return e},r.prototype.getStateStyle=function(e){var t=this.get("styles"),i=t&&t[e];return i},r.prototype.getOriginStyle=function(){return this.get("originStyle")},r.prototype.getCurrentStatesStyle=function(){var e=this,t={},i=e.getStates();return!i||!i.length?this.get("originStyle"):((0,os.each)(e.getStates(),function(n){t=Object.assign(t,e.getStateStyle(n))}),t)},r.prototype.setState=function(e,t){var i=this.get("states"),n=this.get("shapeFactory"),a=e,o=e;(0,os.isString)(t)&&(a="".concat(e,":").concat(t),o="".concat(e,":"));var s=i;if((0,os.isBoolean)(t)){var l=i.indexOf(o);if(t){if(l>-1)return;i.push(a)}else l>-1&&i.splice(l,1)}else if((0,os.isString)(t)){var u=i.filter(function(h){return h.includes(o)});u.length>0&&this.clearStates(u),s=s.filter(function(h){return!h.includes(o)}),s.push(a),this.set("states",s)}if(n){var f=this.get("model"),c=f.type;n.setState(c,e,t,this)}},r.prototype.clearStates=function(e){var t=this,i=t.getStates(),n=t.get("shapeFactory"),a=t.get("model"),o=a.type;e||(e=i),(0,os.isString)(e)&&(e=[e]);var s=i.filter(function(l){return e.indexOf(l)===-1});t.set("states",s),e.forEach(function(l){n.setState(o,l,!1,t)})},r.prototype.setOptimize=function(e){this.optimize=e},r.prototype.getContainer=function(){return this.get("group")},r.prototype.getKeyShape=function(){return this.get("keyShape")},r.prototype.getModel=function(){return this.get("model")},r.prototype.getType=function(){return this.get("type")},r.prototype.getID=function(){return this.get("id")},r.prototype.isItem=function(){return!0},r.prototype.getStates=function(){return this.get("states")},r.prototype.hasState=function(e){var t=this.getStates();return t.indexOf(e)>=0},r.prototype.refresh=function(e){var t=this.get("model");this.updatePosition(t),this.updateShape(e),this.afterUpdate(),this.clearCache()},r.prototype.getUpdateType=function(e){},r.prototype.update=function(e,t){t===void 0&&(t=void 0);var i=this.get("model");if(t==="move")this.updatePosition(e);else{var n=i.visible,a=e.visible;n!==a&&a!==void 0&&this.changeVisibility(a);var o={x:i.x,y:i.y};e.x=isNaN(+e.x)?i.x:+e.x,e.y=isNaN(+e.y)?i.y:+e.y;var s=this.get("styles");if(e.stateStyles){var l=e.stateStyles;(0,os.mix)(s,l),delete e.stateStyles}Object.assign(i,e),(o.x!==e.x||o.y!==e.y)&&this.updatePosition(e),this.updateShape(t)}this.afterUpdate(),this.clearCache()},r.prototype.updateShape=function(e){var t=this.get("shapeFactory"),i=this.get("model"),n=i.type;if(t.shouldUpdate(n)&&n===this.get("currentShape")){var a=this.getShapeCfg(i,e);t.baseUpdate(n,a,this,e),e!=="move"&&this.setOriginStyle()}else this.draw();this.restoreStates(t,n)},r.prototype.updatePosition=function(e){var t=this.get("model"),i=isNaN(+e.x)?+t.x:+e.x,n=isNaN(+e.y)?+t.y:+e.y,a=this.get("group");if(isNaN(i)||isNaN(n))return!1;t.x=i,t.y=n;var o=a.getMatrix();return o&&o[6]===i&&o[7]===n?!1:(a.resetMatrix(),Jet(a,{x:i,y:n}),this.clearCache(),!0)},r.prototype.getBBox=function(){var e=this.get(Mrt);return e||(e=this.calculateBBox(),this.set(Mrt,e)),e},r.prototype.getCanvasBBox=function(){var e=this.get(Art);return e||(e=this.calculateCanvasBBox(),this.set(Art,e)),e},r.prototype.toFront=function(){var e=this.get("group");e.toFront()},r.prototype.toBack=function(){var e=this.get("group");e.toBack()},r.prototype.show=function(){this.changeVisibility(!0)},r.prototype.hide=function(){this.changeVisibility(!1)},r.prototype.changeVisibility=function(e){var t=this.get("group");e?t.show():t.hide(),this.set("visible",e)},r.prototype.isVisible=function(){return this.get("visible")},r.prototype.enableCapture=function(e){var t=this.get("group");t&&t.set("capture",e)},r.prototype.destroy=function(){if(!this.destroyed){var e=this.get("animate"),t=this.get("group");e&&t.stopAnimate(),t.shapeMap={},this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},r}(),Q6=uNe;var $6={source:"start",target:"end"},sm="Node",aI="Point",fNe="Anchor",cNe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},e.prototype.setEnd=function(t,i){var n=$6[t]+aI,a=t+sm,o=this.get(a);o&&!o.destroyed&&o.removeEdge(this),(0,Id.isPlainObject)(i)?(this.set(n,i),this.set(a,null)):i&&(i.addEdge(this),this.set(a,i),this.set(n,null))},e.prototype.getLinkPoint=function(t,i,n){var a=$6[t]+aI,o=t+sm,s=this.get(a);if(!s){var l=this.get(o),u=t+fNe,f=this.getPrePoint(t,n),c=i[u];(0,Id.isNil)(c)||(s=l.getLinkPointByAnchor(c)),s=s||l.getLinkPoint(f),(0,Id.isNil)(s.index)||this.set("".concat(t,"AnchorIndex"),s.index)}return s},e.prototype.getPrePoint=function(t,i){if(i&&i.length){var n=t==="source"?0:i.length-1;return i[n]}var a=t==="source"?"target":"source";return this.getEndPoint(a)},e.prototype.getEndPoint=function(t){var i=t+sm,n=$6[t]+aI,a=this.get(i);return a&&!a.destroyed?a.get("model"):this.get(n)},e.prototype.getControlPointsByCenter=function(t){var i=this.getEndPoint("source"),n=this.getEndPoint("target"),a=this.get("shapeFactory"),o=t.type;return a.getControlPoints(o,{startPoint:i,endPoint:n})},e.prototype.getEndCenter=function(t){var i=t+sm,n=$6[t]+aI,a=this.get(i);if(a){var o=a.getBBox();return{x:o.centerX,y:o.centerY}}return this.get(n)},e.prototype.init=function(){r.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},e.prototype.getShapeCfg=function(t,i){var n=this,a=n.get("linkCenter"),o=(i==null?void 0:i.includes("move"))?t:r.prototype.getShapeCfg.call(this,t);if(a)o.startPoint=n.getEndCenter("source"),o.endPoint=n.getEndCenter("target");else{var s=o.controlPoints||n.getControlPointsByCenter(o);o.startPoint=n.getLinkPoint("source",t,s),o.endPoint=n.getLinkPoint("target",t,s)}return o.sourceNode=n.get("sourceNode"),o.targetNode=n.get("targetNode"),o},e.prototype.getModel=function(){var t=this.get("model"),i=this.get("source".concat(sm)),n=this.get("target".concat(sm));return i?delete t["source".concat(sm)]:t.source=this.get("start".concat(aI)),n?delete t["target".concat(sm)]:t.target=this.get("end".concat(aI)),!(0,Id.isString)(t.source)&&!(0,Id.isPlainObject)(t.source)&&(t.source=t.source.getID()),!(0,Id.isString)(t.target)&&!(0,Id.isPlainObject)(t.target)&&(t.target=t.target.getID()),t},e.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},e.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},e.prototype.getSource=function(){return this.get("source")},e.prototype.getTarget=function(){return this.get("target")},e.prototype.updatePosition=function(){return!1},e.prototype.update=function(t,i){i===void 0&&(i=void 0);var n=this.get("model"),a=n.visible,o=t.visible;a!==o&&o!==void 0&&this.changeVisibility(o);var s=this.get("source"),l=this.get("target");if(!(!s||s.destroyed||!l||l.destroyed)){var u=this.get("styles");if(t.stateStyles){var f=t.stateStyles;(0,Id.mix)(u,f),delete t.stateStyles}Object.assign(n,t),this.updateShape(i),this.afterUpdate(),this.clearCache()}},e.prototype.destroy=function(){var t=this.get("source".concat(sm)),i=this.get("target".concat(sm));t&&!t.destroyed&&t.removeEdge(this),i&&!i.destroyed&&i.removeEdge(this),r.prototype.destroy.call(this)},e}(Q6),oI=cNe;var jw=et(ot());var Ert="anchorPointsCache",hNe="bboxCache",dNe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getNearestPoint=function(t,i){for(var n=0,a=t[0],o=eI(t[0],i),s=0;s<t.length;s++){var l=t[s],u=eI(l,i);u<o&&(a=l,o=u,n=s)}return a.anchorIndex=n,a},e.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(i){return i.get("target")===t})},e.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(i){return i.get("source")===t})},e.prototype.getNeighbors=function(t){var i=this,n=this.get("edges");if(t==="target"){var a=function(u){return u.getSource()===i};return n.filter(a).map(function(l){return l.getTarget()})}if(t==="source"){var o=function(u){return u.getTarget()===i};return n.filter(o).map(function(l){return l.getSource()})}var s=function(u){return u.getSource()===i?u.getTarget():u.getSource()};return n.map(s)},e.prototype.getLinkPointByAnchor=function(t){var i=this.getAnchorPoints();return i[t]},e.prototype.getLinkPoint=function(t){var i=this.get("keyShape"),n=i.get("type"),a=this.get("type"),o,s,l=this.getBBox();a==="combo"?(o=l.centerX||(l.maxX+l.minX)/2,s=l.centerY||(l.maxY+l.minY)/2):(o=l.centerX,s=l.centerY);var u=this.getAnchorPoints(),f;switch(n){case"circle":f=Ket({x:o,y:s,r:l.width/2},t);break;case"ellipse":f=Qet({x:o,y:s,rx:l.width/2,ry:l.height/2},t);break;default:f=Zet(l,t)}var c=f;return u.length&&(c||(c=t),c=this.getNearestPoint(u,c)),c||(c={x:o,y:s}),c},e.prototype.getAnchorPoints=function(){var t=this.get(Ert);if(!t){t=[];var i=this.get("shapeFactory"),n=this.getBBox(),a=this.get("model"),o=this.getShapeCfg(a),s=a.type,l=i.getAnchorPoints(s,o)||[];(0,jw.each)(l,function(u,f){var c={x:n.minX+u[0]*n.width,y:n.minY+u[1]*n.height,anchorIndex:f};t.push(c)}),this.set(Ert,t)}return t},e.prototype.addEdge=function(t){this.get("edges").push(t)},e.prototype.lock=function(){this.set("locked",!0)},e.prototype.unlock=function(){this.set("locked",!1)},e.prototype.hasLocked=function(){return this.get("locked")},e.prototype.removeEdge=function(t){var i=this.getEdges(),n=i.indexOf(t);n>-1&&i.splice(n,1)},e.prototype.clearCache=function(){this.set(hNe,null),this.set(Ert,null)},e.prototype.getUpdateType=function(t){var i,n,a,o,s;if(!!t){var l=!(0,jw.isNil)(t.x),u=!(0,jw.isNil)(t.y),f=Object.keys(t);if(f.length===1&&(l||u)||f.length===2&&l&&u)return"move";if((0,jw.isNumber)(t.x)||(0,jw.isNumber)(t.y)||t.type||t.anchorPoints||t.size||(t==null?void 0:t.style)&&(((i=t==null?void 0:t.style)===null||i===void 0?void 0:i.r)||((n=t==null?void 0:t.style)===null||n===void 0?void 0:n.width)||((a=t==null?void 0:t.style)===null||a===void 0?void 0:a.height)||((o=t==null?void 0:t.style)===null||o===void 0?void 0:o.rx)||((s=t==null?void 0:t.style)===null||s===void 0?void 0:s.ry)))return"bbox|label";var c=f.includes("label")||f.includes("labelCfg");return c?"style|label":"style"}},e.prototype.setState=function(t,i){var n=this;if(this.optimize){r.prototype.setState.call(this,t,i);return}this.runWithBBoxAffected(function(){return r.prototype.setState.call(n,t,i)})},e.prototype.clearStates=function(t){var i=this;if(this.optimize){r.prototype.clearStates.call(this,t);return}this.runWithBBoxAffected(function(){return r.prototype.clearStates.call(i,t)})},e.prototype.runWithBBoxAffected=function(t){var i=["r","width","height","rx","ry","lineWidth"],n=this.getKeyShape().attr(),a={};Object.keys(this.getKeyShape().attr()).forEach(function(u){i.includes(u)&&(a[u]=n[u])}),t();for(var o=this.getKeyShape().attr(),s=0;s<i.length;s++){var l=i[s];if(o[l]!==a[l]){this.clearCache(),this.getEdges().forEach(function(u){return u.refresh()});break}}},e}(Q6),Yw=dNe;var J6=et(ot()),iRt="bboxCache",nRt="bboxCanvasCache",tY="sizeCache",aRt="anchorPointsCache",vNe=function(r){G(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},e.prototype.getShapeCfg=function(t){var i=this.get("styles"),n=this.get("bbox");if(i&&n){var a=t,o=(0,J6.isNumber)(t.size)?[t.size,t.size]:t.size,s=(0,J6.isNumber)(t.fixSize)?[t.fixSize,t.fixSize]:t.fixSize,l=o||s||yr.defaultCombo.size,u={r:(Math.max(n.width,n.height)||Math.max(l[0],l[1]))/2,width:n.width||l[0],height:n.height||l[1]};a.style=S(S(S({},i),t.style),u);var f=t.padding||yr.defaultCombo.padding;return(0,J6.isNumber)(f)?(u.r+=f,u.width+=f*2,u.height+=f*2):(u.r=u.r+Math.max.apply(Math,f),u.width+=f[1]+f[3]||f[1]*2,u.height+=f[0]+f[2]||f[0]*2),this.set(tY,u),a}return t},e.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),i=this.get("group"),n=this.get(iRt)||{},a=n.x,o=n.x,s=this.get(tY),l=iI(t,i);if(l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2,s){s.width=Math.max(s.width,l.width),s.height=Math.max(s.height,l.height),this.set(tY,s);var u=t.get("type");u==="circle"?(l.width=s.r*2,l.height=s.r*2):(l.width=s.width,l.height=s.height),l.minX=l.centerX-l.width/2,l.minY=l.centerY-l.height/2,l.maxX=l.centerX+l.width/2,l.maxY=l.centerY+l.height/2}else l.width=l.maxX-l.minX,l.height=l.maxY-l.minY,l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2;return l.x=l.minX,l.y=l.minY,(l.x!==a||l.y!==o)&&this.set(aRt,null),l}},e.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},e.prototype.getNodes=function(){var t=this;return t.get("nodes")},e.prototype.getCombos=function(){var t=this;return t.get("combos")},e.prototype.addChild=function(t){var i=this,n=t.getType();switch(n){case"node":i.addNode(t);break;case"combo":i.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.addCombo=function(t){var i=this;return i.get("combos").push(t),!0},e.prototype.addNode=function(t){var i=this;return i.get("nodes").push(t),!0},e.prototype.removeChild=function(t){var i=this,n=t.getType();switch(n){case"node":i.removeNode(t);break;case"combo":i.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},e.prototype.removeCombo=function(t){if(!!t){var i=this.getCombos(),n=i.indexOf(t);return n>-1?(i.splice(n,1),!0):!1}},e.prototype.removeNode=function(t){if(!!t){var i=this.getNodes(),n=i.indexOf(t);return n>-1?(i.splice(n,1),!0):!1}},e.prototype.getUpdateType=function(t){},e.prototype.getBBox=function(){this.set(nRt,null);var t=this.calculateCanvasBBox();return t},e.prototype.clearCache=function(){this.set(iRt,null),this.set(nRt,null),this.set(aRt,null)},e.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),i=this.get("group");t&&i.stopAnimate(),i.shapeMap={},this.clearCache(),this.set(tY,null),this.set("bbox",null),i.remove(),this._cfg=null,this.destroyed=!0}},e}(Yw),eY=vNe;var rY="node",iY="edge",oRt="vedge",DF="combo",pNe="default",sRt="Mapper",nx="stateStyles",gNe=function(){function r(e){var t=this;this.edgeToBeUpdateMap={},this.throttleRefresh=(0,ki.throttle)(function(i){var n=t.graph;if(!(!n||n.get("destroyed"))){var a=t.edgeToBeUpdateMap;if(!!a){var o=Object.values(a);!o.length||(o.forEach(function(s){var l=s.edge;if(!(!l||l.destroyed)){var u=l.getSource(),f=l.getTarget();!u||u.destroyed||!f||f.destroyed||l.refresh(s.updateType)}}),t.edgeToBeUpdateMap={})}}},16,{trailing:!0,leading:!0}),this.graph=e,this.destroyed=!1}return r.prototype.addItem=function(e,t){var i=this.graph,n=e===oRt?iY:e,a=i.get("".concat(n,"Group"))||i.get("group"),o=(0,ki.upperFirst)(n),s=null,l=i.get(n+(0,ki.upperFirst)(nx))||{},u=i.get(pNe+o);t[nx]&&(l=t[nx]),u&&(0,ki.each)(u,function(M,A){(0,ki.isObject)(M)&&!(0,ki.isArray)(M)?t[A]=(0,ki.deepMix)({},M,t[A]):(0,ki.isArray)(M)?t[A]=t[A]||(0,ki.clone)(u[A]):t[A]=t[A]||u[A]});var f=i.get(n+sRt);if(f){var c=f(t);c[nx]&&(l=c[nx],delete c[nx]),(0,ki.each)(c,function(M,A){(0,ki.isObject)(M)&&!(0,ki.isArray)(M)?t[A]=(0,ki.deepMix)({},t[A],M):t[A]=c[A]||t[A]})}if(i.emit("beforeadditem",{type:e,model:t}),e===iY||e===oRt){var h=void 0,d=void 0;if(h=t.source,d=t.target,h&&(0,ki.isString)(h)&&(h=i.findById(h)),d&&(0,ki.isString)(d)&&(d=i.findById(d)),!h||!d){console.warn("The source or target node of edge ".concat(t.id," does not exist!"));return}h.getType&&h.getType()==="combo"&&(t.isComboEdge=!0),d.getType&&d.getType()==="combo"&&(t.isComboEdge=!0),s=new oI({model:t,source:h,target:d,styles:l,linkCenter:i.get("linkCenter"),group:a.addGroup()})}else if(e===rY)s=new Yw({model:t,styles:l,group:a.addGroup()});else if(e===DF){var v=t.children,p=LF(v,i),g=void 0,m=void 0;if(isNaN(p.x)?isNaN(t.x)&&(g=Math.random()*100):g=p.x,isNaN(p.y)?isNaN(t.y)&&(m=Math.random()*100):m=p.y,isNaN(t.x)||isNaN(t.y))t.x=g,t.y=m;else{var y=t.x-g,x=t.y-m;this.updateComboSucceeds(t.id,y,x,v)}var b=a.addGroup();b.setZIndex(t.depth),s=new eY({model:t,styles:l,animate:i.get("animate"),bbox:t.collapsed?LF([],i):p,group:b}),!t.collapsed&&s.getKeyShape().get("type")==="circle"&&(p.width=Math.hypot(p.height,p.width),p.height=p.width,s.set("bbox",p),s.refresh());var _=s.getModel();(v||[]).forEach(function(M){var A=i.findById(M.id);s.addChild(A),M.depth=_.depth+2})}if(s)return s.setOptimize(i.getNodes().length>i.get("optimizeThreshold")),i.get("".concat(e,"s")).push(s),i.get("itemMap")[s.get("id")]=s,i.emit("afteradditem",{item:s,model:t}),s},r.prototype.updateItem=function(e,t){var i=this,n,a,o=this.graph;if((0,ki.isString)(e)&&(e=o.findById(e)),!(!e||e.destroyed)){var s="";e.getType&&(s=e.getType());var l=o.get(s+sRt),u=e.getModel(),f=u.x,c=u.y,h=e.getUpdateType(t);if(l){var d=(0,ki.deepMix)({},u,t),v=l(d),p=(0,ki.deepMix)({},u,v,t);v[nx]&&(e.set("styles",p[nx]),delete p[nx]),(0,ki.each)(p,function(E,O){t[O]=E})}else(0,ki.each)(t,function(E,O){u[O]&&(0,ki.isObject)(E)&&!(0,ki.isArray)(E)&&(t[O]=S(S({},u[O]),t[O]))});if(o.emit("beforeupdateitem",{item:e,cfg:t}),s===iY){if(t.source){var g=t.source;(0,ki.isString)(g)&&(g=o.findById(g)),e.setSource(g)}if(t.target){var m=t.target;(0,ki.isString)(m)&&(m=o.findById(m)),e.setTarget(m)}e.update(t)}else if(s===rY){e.update(t,h);var y=e.getEdges();h==="move"?(0,ki.each)(y,function(E){i.edgeToBeUpdateMap[E.getID()]={edge:E,updateType:h},i.throttleRefresh()}):(h==null?void 0:h.includes("bbox"))&&(0,ki.each)(y,function(E){E.refresh(h)})}else if(s===DF){if(e.update(t,h),!isNaN(t.x)||!isNaN(t.y)){var x=t.x-f||0,b=t.y-c||0;this.updateComboSucceeds(u.id,x,b)}var _=e.getEdges(),M=(h==null?void 0:h.includes("bbox"))||h==="move";if(M&&s===DF){var A=e.get("shapeFactory"),I=u.type||"circle",k=u.animate===void 0||t.animate===void 0?(a=(n=A[I])===null||n===void 0?void 0:n.options)===null||a===void 0?void 0:a.animate:u.animate||t.animate;k?setTimeout(function(){if(!(!e||e.destroyed)){var E=e.getKeyShape();!E||E.destroyed||(0,ki.each)(_,function(O){O&&!O.destroyed&&O.refresh()})}},201):(0,ki.each)(_,function(E){E.refresh()})}}e.setOptimize(o.getNodes().length>o.get("optimizeThreshold")),o.emit("afterupdateitem",{item:e,cfg:t})}},r.prototype.updateCombo=function(e,t,i){var n=this,a,o,s=this.graph;if((0,ki.isString)(e)&&(e=s.findById(e)),!(!e||e.destroyed)){var l=e.getModel(),u=LF(t,s,e),f=u.x,c=u.y;e.set("bbox",u);var h=f,d=c;i?(h=isNaN(l.x)?f:l.x,d=isNaN(l.y)?c:l.y):(h=isNaN(f)?l.x:f,d=isNaN(c)?l.y:c),e.update({x:h,y:d});var v=e.get("shapeFactory"),p=l.type||"circle",g=l.animate===void 0?(o=(a=v[p])===null||a===void 0?void 0:a.options)===null||o===void 0?void 0:o.animate:l.animate;g?setTimeout(function(){if(!(!e||e.destroyed)){var m=e.getKeyShape();!m||m.destroyed||(e.getShapeCfg(l),n.updateComboEdges(e))}},201):this.updateComboEdges(e)}},r.prototype.updateComboEdges=function(e){for(var t,i,n=e.getEdges()||[],a=0;a<n.length;a++){var o=n[a];!(o==null?void 0:o.destroyed)&&!((t=o==null?void 0:o.getSource())===null||t===void 0?void 0:t.destroyed)&&!((i=o==null?void 0:o.getTarget())===null||i===void 0?void 0:i.destroyed)&&o.refresh()}},r.prototype.collapseCombo=function(e,t){t===void 0&&(t=!0);var i=this.graph;(0,ki.isString)(e)&&(e=i.findById(e));var n=e.getChildren();n.nodes.forEach(function(a){i.hideItem(a,t)}),n.combos.forEach(function(a){i.hideItem(a,t)})},r.prototype.updateComboSucceeds=function(e,t,i,n){var a=this;n===void 0&&(n=[]);var o=this.graph;if(!(!t&&!i)){var s=n;if(!(s==null?void 0:s.length)){var l=o.get("comboTrees");l==null||l.forEach(function(u){Zs(u,function(f){return f.id===e?(s=f.children,!1):!0})})}s==null||s.forEach(function(u){var f=o.findById(u.id);if(f){var c=f.getModel();a.updateItem(u.id,{x:(c.x||0)+t,y:(c.y||0)+i})}})}},r.prototype.expandCombo=function(e,t){t===void 0&&(t=!0);var i=this.graph;(0,ki.isString)(e)&&(e=i.findById(e));var n=e.getChildren(),a=new Set;n.nodes.forEach(function(o){i.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),n.combos.forEach(function(o){o.getModel().collapsed?o.show():i.showItem(o,t),o.getEdges().forEach(function(s){return a.add(s)})}),a.forEach(function(o){return o.refresh()})},r.prototype.removeItem=function(e){var t=this,i=this.graph;if((0,ki.isString)(e)&&(e=i.findById(e)),!(!e||e.destroyed)){var n=(0,ki.clone)(e.getModel()),a="";e.getType&&(a=e.getType()),i.emit("beforeremoveitem",{item:n,type:a});var o=i.get("".concat(a,"s")),s=o.indexOf(e);if(s>-1&&o.splice(s,1),a===iY){var l=i.get("v".concat(a,"s")),u=l.indexOf(e);u>-1&&l.splice(u,1)}var f=e.get("id"),c=i.get("itemMap");delete c[f];var h=i.get("comboTrees"),d=e.get("id");if(a===rY){var v=e.getModel().comboId;if(h&&v){var p=h,g=!1;h.forEach(function(M){g||Zs(M,function(A){if(A.id===d&&p){var I=p.indexOf(A);return p.splice(I,1),g=!0,!1}return p=A.children,!0})})}for(var m=e.getEdges(),y=m.length-1;y>=0;y--)i.removeItem(m[y],!1);v&&i.updateCombo(v)}else if(a===DF){var x=e.getModel().parentId,b,_=!1;(h||[]).forEach(function(A){_||Zs(A,function(I){return I.id===d?(b=I,_=!0,!1):!0})}),b.removed=!0,b&&b.children&&b.children.forEach(function(A){t.removeItem(A.id)});for(var m=e.getEdges(),y=m.length;y>=0;y--)i.removeItem(m[y],!1);x&&i.updateCombo(x)}e.destroy(),i.emit("afterremoveitem",{item:n,type:a})}},r.prototype.setItemState=function(e,t,i){var n=this.graph,a=t;(0,ki.isString)(i)&&(a="".concat(t,":").concat(i)),!(e.hasState(a)===i&&i||(0,ki.isString)(i)&&e.hasState(a))&&(n.emit("beforeitemstatechange",{item:e,state:a,enabled:i}),e.setState(t,i),n.autoPaint(),n.emit("afteritemstatechange",{item:e,state:a,enabled:i}))},r.prototype.priorityState=function(e,t){var i=this.graph,n=e;(0,ki.isString)(e)&&(n=i.findById(e)),this.setItemState(n,t,!1),this.setItemState(n,t,!0)},r.prototype.clearItemStates=function(e,t){var i=this.graph;(0,ki.isString)(e)&&(e=i.findById(e)),i.emit("beforeitemstatesclear",{item:e,states:t}),e.clearStates(t),i.emit("afteritemstatesclear",{item:e,states:t})},r.prototype.refreshItem=function(e){var t=this.graph;(0,ki.isString)(e)&&(e=t.findById(e)),t.emit("beforeitemrefresh",{item:e}),e.refresh(),t.emit("afteritemrefresh",{item:e})},r.prototype.addCombos=function(e,t){var i=this,n=this.graph;(e||[]).forEach(function(o){Ed(o,function(s){var l;return t.forEach(function(u){u.id===s.id&&(u.children=s.children,u.depth=s.depth,l=u)}),l&&i.addItem("combo",l),!0})});var a=n.get("comboGroup");a&&a.sort()},r.prototype.changeItemVisibility=function(e,t){var i=this,n=this.graph;if((0,ki.isString)(e)&&(e=n.findById(e)),!e){console.warn("The item to be shown or hidden does not exist!");return}if(n.emit("beforeitemvisibilitychange",{item:e,visible:t}),e.changeVisibility(t),e.getType&&e.getType()===rY){var a=e.getEdges();(0,ki.each)(a,function(f){t&&!(f.get("source").isVisible()&&f.get("target").isVisible())||i.changeItemVisibility(f,t)})}else if(e.getType&&e.getType()===DF){var o=n.get("comboTrees"),s=e.get("id"),l=[],u=!1;(o||[]).forEach(function(c){u||!c.children||c.children.length===0||Zs(c,function(h){return h.id===s?(l=h.children,u=!0,!1):!0})}),l&&(!t||t&&!e.getModel().collapsed)&&l.forEach(function(c){var h=n.findById(c.id);i.changeItemVisibility(h,t)});var a=e.getEdges();(0,ki.each)(a,function(c){t&&!(c.get("source").isVisible()&&c.get("target").isVisible())||i.changeItemVisibility(c,t)})}return n.emit("afteritemvisibilitychange",{item:e,visible:t}),e},r.prototype.destroy=function(){this.graph=null,this.destroyed=!0},r}(),Trt=gNe;var nY=et(ot()),mNe=function(){function r(e){this.graph=e,this.destroyed=!1}return r.prototype.updateState=function(e,t,i){var n=this.graph.get("states"),a=t;(0,nY.isString)(i)&&(a="".concat(t,":").concat(i)),n[a]||(n[a]=[]),i?n[a].push(e):n[a]=n[a].filter(function(o){return o!==e}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:n})},r.prototype.updateStates=function(e,t,i){var n=this.graph.get("states"),a=(0,nY.isString)(t)?[t]:t;a.forEach(function(o){var s=o;n[s]||(n[s]=[]),(0,nY.isString)(i)&&(s="".concat(o,":").concat(i)),i?n[s].push(e):n[s]=n[s].filter(function(l){return l!==e})}),this.graph.set("states",n),this.graph.emit("graphstatechange",{states:t})},r.prototype.destroy=function(){this.graph=null,this.destroyed=!0},r}(),Irt=mNe;var ff=et(ot());var krt={};ai(krt,{getClosedSpline:()=>oY,getControlPoint:()=>FF,getSpline:()=>Lrt,getStarPath:()=>bNe,paddedHull:()=>Ort,pathToPoints:()=>aY,pointsToPolygon:()=>xNe,roundedHull:()=>sY});var yNe=function(e,t){return!e||!t?e:e.replace(/\\?\{([^{}]+)\}/g,function(i,n){if(i.charAt(0)==="\\")return i.slice(1);var a=t[n];return a===0&&(a="0"),a||""})},Lrt=function(e){var t=[];if(e.length<2)throw new Error("point length must largn than 2, now it's ".concat(e.length));for(var i=0,n=e;i<n.length;i++){var a=n[i],o=a.x,s=a.y;t.push(o),t.push(s)}var l=dC(t);return l.unshift(["M",e[0].x,e[0].y]),l},FF=function(e,t,i,n){i===void 0&&(i=0),n===void 0&&(n=0);var a={x:(1-i)*e.x+i*t.x,y:(1-i)*e.y+i*t.y},o=[0,0];Pe.vec2.normalize(o,[t.x-e.x,t.y-e.y]),(!o||!o[0]&&!o[1])&&(o=[0,0]);var s=[-o[1]*n,o[0]*n];return a.x+=s[0],a.y+=s[1],a},xNe=function(e,t){var i=e.length;if(!i)return"";for(var n="",a="",o=0;o<i;o++){var s=e[o];o===0?a="M{x} {y}":a="L{x} {y}",n+=yNe(a,s)}return t&&(n+="Z"),n},aY=function(e){var t=[];return e.forEach(function(i){var n=i[0];if(n!=="A")for(var a=1;a<i.length;a=a+2)t.push([i[a],i[a+1]]);else{var o=i.length;t.push([i[o-2],i[o-1]])}}),t},oY=function(e){if(e.length<2)throw new Error("point length must larger than 2, now it's ".concat(e.length));var t=e[0],i=e[1],n=e[e.length-1],a=e[e.length-2];e.unshift(n),e.unshift(a),e.push(t),e.push(i);for(var o=[],s=1;s<e.length-2;s+=1){var l=e[s-1].x,u=e[s-1].y,f=e[s].x,c=e[s].y,h=e[s+1].x,d=e[s+1].y,v=s!==e.length-2?e[s+2].x:h,p=s!==e.length-2?e[s+2].y:d,g=f+(h-l)/6,m=c+(d-u)/6,y=h-(v-f)/6,x=d-(p-c)/6;o.push(["C",g,m,y,x,h,d])}return o.unshift(["M",n.x,n.y]),o},lRt=function(e,t){return Pe.vec2.scale([0,0],Pe.vec2.normalize([0,0],e),t)},uRt=function(e,t){var i=[e[1]-t[1],t[0]-e[0]],n=Math.sqrt(i[0]*i[0]+i[1]*i[1]);if(n===0)throw new Error("p0 should not be equal to p1");return[i[0]/n,i[1]/n]},fRt=function(e,t){return[t[0]-e[0],t[1]-e[1]]};function sY(r,e){var t=function(c){var h=[c[0][0],c[0][1]-e],d=[c[0][0],c[0][1]+e];return"M ".concat(h," A ").concat(e,",").concat(e,",0,0,0,").concat(d," A ").concat(e,",").concat(e,",0,0,0,").concat(h)},i=function(c){var h=Pe.vec2.scale([0,0],uRt(c[0],c[1]),e),d=Pe.vec2.scale([0,0],h,-1),v=Pe.vec2.add([0,0],c[0],h),p=Pe.vec2.add([0,0],c[1],h),g=Pe.vec2.add([0,0],c[1],d),m=Pe.vec2.add([0,0],c[0],d);return"M ".concat(v," L ").concat(p," A ").concat([e,e,"0,0,0",g].join(",")," L ").concat(m," A ").concat([e,e,"0,0,0",v].join(","))};if(!r||r.length<1)return"";if(r.length===1)return t(r);if(r.length===2)return i(r);for(var n=new Array(r.length),a=0;a<n.length;++a){var o=a===0?r[r.length-1]:r[a-1],s=r[a],l=Pe.vec2.scale([0,0],uRt(o,s),e);n[a]=[Pe.vec2.add([0,0],o,l),Pe.vec2.add([0,0],s,l)]}var u="A ".concat([e,e,"0,0,0,"].join(","));return n=n.map(function(f,c){var h="";return c===0&&(h="M ".concat(n[n.length-1][1]," ")),h+="".concat(u+f[0]," L ").concat(f[1]),h}),n.join(" ")}function Ort(r,e){var t=r.length,i=function(f){var c=[f[0][0],f[0][1]-e],h=[f[0][0],f[0][1]+e];return"M ".concat(c," A ").concat([e,e,"0,0,0",h].join(",")," A ").concat([e,e,"0,0,0",c].join(","))},n=function(f){var c=fRt(f[0],f[1]),h=lRt(c,e),d=Pe.vec2.add([0,0],f[0],Pe.vec2.scale([0,0],h,-1)),v=Pe.vec2.add([0,0],f[1],h),p=1.2*e,g=lRt(Pe.vec2.normalize([0,0],c),p),m=Pe.vec2.scale([0,0],g,-1),y=Pe.vec2.add([0,0],d,m),x=Pe.vec2.add([0,0],v,m),b=Pe.vec2.add([0,0],d,g);return"M ".concat(d," C ").concat([y,x,v].join(",")," S ").concat([b,d].join(",")," Z")};if(!r||t<1)return"";if(t===1)return i(r);if(t===2)return n(r);for(var a=r.map(function(u,f){var c=r[(f+1)%t];return{p:u,v:Pe.vec2.normalize([0,0],fRt(u,c))}}),o=0;o<a.length;++o){var s=o>0?o-1:t-1,l=Pe.vec2.normalize([0,0],Pe.vec2.add([0,0],a[s].v,Pe.vec2.scale([0,0],a[o].v,-1)));a[o].p=Pe.vec2.add([0,0],a[o].p,Pe.vec2.scale([0,0],l,e))}return a.map(function(u){var f=u.p;return{x:f[0],y:f[1]}})}var bNe=function(e,t){for(var i=[],n=0;n<5;n++){var a=Math.cos((18+72*n)/180*Math.PI)*e,o=Math.sin((18+72*n)/180*Math.PI)*e,s=Math.cos((54+72*n)/180*Math.PI)*t,l=Math.sin((54+72*n)/180*Math.PI)*t;n===0?i.push(["M",a,-o]):i.push(["L",a,-o]),i.push(["L",s,-l])}return i.push(["Z"]),i};var cRt=function(e,t,i){return(e.y-i.y)*(t.x-i.x)-(e.x-i.x)*(t.y-i.y)},Prt=function(e){var t=e.map(function(c){return{x:c.getModel().x,y:c.getModel().y}});t.sort(function(c,h){return c.x===h.x?c.y-h.y:c.x-h.x});for(var i={},n=t.length-1;n>=0;n--){var a=t[n],o=a.x,s=a.y;i["".concat(o,"-").concat(s)]&&t.splice(n,1),i["".concat(o,"-").concat(s)]=!0}if(t.length===1)return t;for(var l=[],n=0;n<t.length;n++){for(;l.length>=2&&cRt(l[l.length-2],l[l.length-1],t[n])<=0;)l.pop();l.push(t[n])}for(var u=[],n=t.length-1;n>=0;n--){for(;u.length>=2&&cRt(u[u.length-2],u[u.length-1],t[n])<=0;)u.pop();u.push(t[n])}u.pop(),l.pop();var f=l.concat(u);return f};var wNe={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function _Ne(r,e,t){var i=!1,n=function(l,u){return e.cells[l+u*e.width]},a=function(l,u){var f=0;return n(l-1,u-1)>=t&&(f+=1),n(l,u-1)>t&&(f+=2),n(l-1,u)>t&&(f+=4),n(l,u)>t&&(f+=8),f},o=function(l,u){for(var f=l,c=u,h,d,v=0;v<e.width*e.height;v++){if(h=f,d=c,r.findIndex(function(g){return g.x===f&&g.y===c})>-1){if(!(r[0].x!==f||r[0].y!==c))return!0}else r.push({x:f,y:c});var p=a(f,c);switch(p){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:f++;break;case 12:case 14:case 4:f--;break;case 6:h===0&&(d===-1?f-=1:f+=1);break;case 1:case 13:case 5:c--;break;case 9:h===1&&(d===0?c-=1:c+=1);break;case 10:case 8:case 11:c++;break;default:return console.warn("Marching squares invalid state: ".concat(p)),!0}}};this.march=function(){for(var s=0;s<e.width&&!i;s+=1)for(var l=0;l<e.height&&!i;l+=1)n(s,l)>t&&a(s,l)!==15&&(i=o(s,l));return i}}var SNe=function(e,t,i){var n=Math.ceil(e/i),a=Math.ceil(t/i),o=new Float32Array(Math.max(0,n*a)).fill(0);return{cells:o,width:n,height:a}},CNe=function(e,t,i){var n=null,a=Number.POSITIVE_INFINITY;return t.forEach(function(o){var s={x:e.getModel().x,y:e.getModel().y},l={x:o.getModel().x,y:o.getModel().y},u=IF(s,l),f=new Rw(s.x,s.y,l.x,l.y),c=i.reduce(function(h,d){return z6(d,f)>0?h+1:h},0);u*Math.pow(c+1,2)<a&&(n=o,a=u*Math.pow(c+1,2))}),n},hRt=function(e,t){var i=Number.POSITIVE_INFINITY,n=null;return e.forEach(function(a){var o=z6(a,t);o>=0&&o<i&&(n=a,i=o)}),n},MNe=function(e,t,i,n){var a=[],o=[];o.push(e);for(var s=!0,l=0,u=function(d,v){var p=!1;return v.forEach(function(g){p||(j6(d,{x:g.x1,y:g.y1})||j6(d,{x:g.x2,y:g.y2}))&&(p=!0)}),p},f=function(d,v){for(var p=0,g=v;p<g.length;p++){var m=g[p],y=m.getBBox(),x=[[y.x,y.y],[y.x+y.width,y.y],[y.x,y.y+y.height],[y.x+y.width,y.y+y.height]];if(rI(x,d.x,d.y))return!0}return!1};s&&l<i;){s=!1;for(var c=function(){var d=o.pop(),v=hRt(t,d);if(v){var p=rrt(v,d),g=p[0],m=p[1];if(m===2){var y=function(b){for(var _=n,M=vRt(v,_,g,b),A=u(M,o)||u(M,a),I=f(M,t);!A&&I&&_>=1;)_/=1.5,M=vRt(v,_,g,b),A=u(M,o)||u(M,a),I=f(M,t);M&&!A&&(!b||!I)&&(o.push(new Rw(d.x1,d.y1,M.x,M.y)),o.push(new Rw(M.x,M.y,d.x2,d.y2)),s=!0)};y(!0),s||y(!1)}}s||a.push(d),l+=1};!s&&o.length;)c()}for(;o.length;)a.push(o.pop());return a};function ANe(r,e,t,i,n){var a=CNe(r,t,e);if(a===null)return[];var o=function(c){for(var h=[];c.length>0;){var d=c.pop();if(c.length===0){h.push(d);break}var v=c.pop(),p=new Rw(d.x1,d.y1,v.x2,v.y2),g=hRt(e,p);g?(h.push(d),c.push(v)):c.push(p)}return h},s=new Rw(r.getModel().x,r.getModel().y,a.getModel().x,a.getModel().y),l=MNe(s,e,i,n),u=o(l);return u}var dRt=function(e,t,i){var n=Object.assign(wNe,i),a=irt(e.map(function(y){return{x:y.getModel().x,y:y.getModel().y}}));e=e.sort(function(y,x){return IF({x:y.getModel().x,y:y.getModel().y},a)-IF({x:x.getModel().x,y:x.getModel().y},a)});var o=[],s=[];e.forEach(function(y){var x=ANe(y,t,o,n.maxRoutingIterations,n.morphBuffer);x.forEach(function(b){s.push(b)}),o.push(y)});for(var l=ENe(e,s,n.nodeR0),u=SNe(l.width,l.height,n.pixelGroupSize),f=[],c=[],h=0;h<n.maxMarchingIterations;h++)if(TNe(e,t,s,l,u,n),f=[],c=[],!!new _Ne(f,u,n.threshold).march()){var d=f.map(function(y){return{x:Math.round(y.x*n.pixelGroupSize+l.minX),y:Math.round(y.y*n.pixelGroupSize+l.minY)}});if(d){var v=d.length;if(n.skip>1)for(v=Math.floor(d.length/n.skip);v<3&&n.skip>1;)n.skip-=1,v=Math.floor(d.length/n.skip);for(var p=0,g=0;g<v;g+=1,p+=n.skip)c.push({x:d[p].x,y:d[p].y})}var m=function(){for(var x=0,b=e;x<b.length;x++){var _=b[x],M=c.map(function(A){return[A.x,A.y]});if(!rI(M,_.getBBox().centerX,_.getBBox().centerY))return!1}return!0};if(c&&m())return c;if(n.threshold*=.9,h<=n.maxMarchingIterations*.5)n.memberInfluenceFactor*=1.2,n.edgeInfluenceFactor*=1.2;else if(n.nonMemberInfluenceFactor!==0&&t.length>0)n.nonMemberInfluenceFactor*=.8;else break}return c};function ENe(r,e,t){var i={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},n=[];r.forEach(function(l){n.push(l.getBBox())}),e.forEach(function(l){n.push(l.getBBox())});for(var a=0,o=n;a<o.length;a++){var s=o[a];i.minX=(s.minX<i.minX?s.minX:i.minX)-t,i.minY=(s.minY<i.minY?s.minY:i.minY)-t,i.maxX=(s.maxX>i.maxX?s.maxX:i.maxX)+t,i.maxY=(s.maxY>i.maxY?s.maxY:i.maxY)+t}return i.width=i.maxX-i.minX,i.height=i.maxY-i.minY,i.x=i.minX,i.y=i.minY,i}function TNe(r,e,t,i,n,a){function o(d,v){var p=Math.floor((d-v)/a.pixelGroupSize);return p<0?0:p}function s(d,v){return d*a.pixelGroupSize+v}var l=(a.nodeR0-a.nodeR1)*(a.nodeR0-a.nodeR1),u=(a.edgeR0-a.edgeR1)*(a.edgeR0-a.edgeR1),f=function(v,p){var g=Math.min(o(v.minX,p+i.minX),n.width),m=Math.min(o(v.minY,p+i.minY),n.height),y=Math.min(o(v.maxX,-p+i.minX),n.width),x=Math.min(o(v.maxY,-p+i.minY),n.height);return[g,m,y,x]},c=function(v,p){for(var g=v.getBBox(),m=f(g,a.nodeR1),y=m[0],x=m[1],b=m[2],_=m[3],M=x;M<_;M+=1)for(var A=y;A<b;A+=1)if(!(p<0&&n[A+M*n.width]<=0)){var I=s(A,i.minX),k=s(M,i.minY),E=art({x:I,y:k},{x:g.minX,y:g.minY,width:g.width,height:g.height});if(E<Math.pow(a.nodeR1,2)){var O=Math.sqrt(E)-a.nodeR1;n.cells[A+M*n.width]+=p*O*O}}},h=function(v,p){for(var g=v.getBBox(),m=f(g,a.edgeR1),y=m[0],x=m[1],b=m[2],_=m[3],M=x;M<_;M+=1)for(var A=y;A<b;A+=1)if(!(p<0&&n.cells[A+M*n.width]<=0)){var I=s(A,i.minX),k=s(M,i.minY),E=nrt({x:I,y:k},v);if(E<Math.pow(a.edgeR1,2)){var O=Math.sqrt(E)-a.edgeR1;n.cells[A+M*n.width]+=p*O*O}}};a.nodeInfluenceFactor&&r.forEach(function(d){c(d,a.nodeInfluenceFactor/l)}),a.edgeInfluenceFactor&&t.forEach(function(d){h(d,a.edgeInfluenceFactor/u)}),a.negativeNodeInfluenceFactor&&e.forEach(function(d){c(d,a.negativeNodeInfluenceFactor/l)})}function vRt(r,e,t,i){var n=r.getBBox(),a=t[0],o=t[1],s=t[2],l=t[3],u={topLeft:{x:n.minX-e,y:n.minY-e},topRight:{x:n.maxX+e,y:n.minY-e},bottomLeft:{x:n.minX-e,y:n.maxY+e},bottomRight:{x:n.maxX+e,y:n.maxY+e}},f=n.height*n.width;function c(v,p){return n.width*((v.y-n.minY+(p.y-n.minY))*.5)}if(o){if(a)return i?u.topLeft:u.bottomRight;if(s)return i?u.bottomLeft:u.topRight;var h=c(o,l);return h<f*.5?o.y>l.y?i?u.topLeft:u.bottomRight:i?u.topRight:u.bottomLeft:o.y<l.y?i?u.bottomLeft:u.topRight:i?u.bottomRight:u.topLeft}if(l){if(a)return i?u.topRight:u.bottomLeft;if(s)return i?u.bottomRight:u.topLeft}var d=c(a,s);return d<f*.5?a.x>s.x?i?u.topLeft:u.bottomRight:i?u.bottomLeft:u.topRight:a.x<s.x?i?u.topRight:u.bottomLeft:i?u.bottomRight:u.topLeft}var INe=function(){function r(e,t){this.cfg=(0,ff.deepMix)(this.getDefaultCfg(),t),this.graph=e,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(i){return(0,ff.isString)(i)?e.findById(i):i}),this.nonMembers=this.cfg.nonMembers.map(function(i){return(0,ff.isString)(i)?e.findById(i):i}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return r.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},r.prototype.setPadding=function(){var e=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+e:10+e,this.cfg.bubbleCfg={nodeR0:this.padding-e,nodeR1:this.padding-e,morphBuffer:this.padding-e}},r.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},r.prototype.calcPath=function(e,t){var i,n,a;switch(this.type){case"round-convex":i=Prt(e),a=sY(i.map(function(o){return[o.x,o.y]}),this.padding),n=b0(a);break;case"smooth-convex":i=Prt(e),i.length===2?(a=sY(i.map(function(o){return[o.x,o.y]}),this.padding),n=b0(a)):i.length>2&&(a=Ort(i.map(function(o){return[o.x,o.y]}),this.padding),n=oY(a));break;case"bubble":i=dRt(e,t,this.cfg.bubbleCfg),n=i.length>=2&&oY(i);break;default:}return n},r.prototype.render=function(){this.group.addShape("path",{attrs:S({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id,capture:!1}),this.group.toBack()},r.prototype.addMember=function(e){if(!!e){(0,ff.isString)(e)&&(e=this.graph.findById(e)),this.members.push(e);var t=this.nonMembers.indexOf(e);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},r.prototype.addNonMember=function(e){if(!!e){(0,ff.isString)(e)&&(e=this.graph.findById(e)),this.nonMembers.push(e);var t=this.members.indexOf(e);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},r.prototype.removeMember=function(e){if(!!e){(0,ff.isString)(e)&&(e=this.graph.findById(e));var t=this.members.indexOf(e);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},r.prototype.removeNonMember=function(e){if(!!e){(0,ff.isString)(e)&&(e=this.graph.findById(e));var t=this.nonMembers.indexOf(e);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},r.prototype.updateData=function(e,t){var i=this;this.group.findById(this.id).remove(),e&&(this.members=e.map(function(n){return(0,ff.isString)(n)?i.graph.findById(n):n})),t&&(this.nonMembers=t.map(function(n){return(0,ff.isString)(n)?i.graph.findById(n):n})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},r.prototype.updateStyle=function(e){var t=this.group.findById(this.id);t.attr(S({},e))},r.prototype.updateCfg=function(e){var t=this;this.cfg=(0,ff.deepMix)(this.cfg,e),this.id=this.cfg.id,this.group=this.cfg.group,e.members&&(this.members=this.cfg.members.map(function(i){return(0,ff.isString)(i)?t.graph.findById(i):i})),e.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(i){return(0,ff.isString)(i)?t.graph.findById(i):i})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},r.prototype.contain=function(e){var t=this,i;(0,ff.isString)(e)?i=this.graph.findById(e):i=e;var n,a=i.getKeyShape();if(i.get("type")==="path")n=aY(a.attr("path"));else{var o=a.getCanvasBBox();n=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return n=n.map(function(s){var l=t.graph.getPointByCanvas(s[0],s[1]);return[l.x,l.y]}),trt(n,aY(this.path))},r.prototype.destroy=function(){this.group.remove(),this.cfg=null},r}(),lY=INe;var NF=Wr.transform,LNe="node",ONe=function(r){G(e,r);function e(t){var i=r.call(this)||this;return i.sortCombos=(0,li.debounce)(function(){var n=i.get("comboSorted");if(!(!i||i.destroyed||n)){i.set("comboSorted",!0);var a=[],o={},s=i.get("comboTrees");(s||[]).forEach(function(u){Zs(u,function(f){return a[f.depth]?a[f.depth].push(f.id):a[f.depth]=[f.id],o[f.id]=f.depth,!0})});var l=i.getEdges().concat(i.get("vedges"));(l||[]).forEach(function(u){var f=u.getModel(),c=o[f.source]||0,h=o[f.target]||0,d=Math.max(c,h);a[d]?a[d].push(f.id):a[d]=[f.id]}),a.forEach(function(u){if(!(!u||!u.length))for(var f=u.length-1;f>=0;f--){var c=i.findById(u[f]);c&&c.toFront()}})}},500,!1),i.cfg=(0,li.deepMix)(i.getDefaultCfg(),t),i.init(),i.animating=!1,i.destroyed=!1,i.cfg.enabledStack&&(i.undoStack=new Fw(i.cfg.maxStep),i.redoStack=new Fw(i.cfg.maxStep)),i}return e.prototype.init=function(){this.initCanvas();var t=new brt(this),i=new grt(this),n=new Trt(this),a=new Irt(this);this.set({viewController:t,modeController:i,itemController:n,stateController:a}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},e.prototype.initGroups=function(){var t=this.get("canvas");if(!!t){var i=t.get("el"),n=(i||{}).id,a=n===void 0?"g6":n,o=t.addGroup({id:"".concat(a,"-root"),className:yr.rootContainerClassName});if(this.get("groupByTypes")){var s=o.addGroup({id:"".concat(a,"-edge"),className:yr.edgeContainerClassName}),l=o.addGroup({id:"".concat(a,"-node"),className:yr.nodeContainerClassName}),u=o.addGroup({id:"".concat(a,"-combo"),className:yr.comboContainerClassName});u.toBack(),this.set({nodeGroup:l,edgeGroup:s,comboGroup:u})}var f=o.addGroup({id:"".concat(a,"-delegate"),className:yr.delegateContainerClassName});this.set({delegateGroup:f}),this.set("group",o)}},e.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.02,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[],optimizeThreshold:1e3}},e.prototype.set=function(t,i){return(0,li.isPlainObject)(t)?this.cfg=S(S({},this.cfg),t):this.cfg[t]=i,t==="enabledStack"&&i&&!this.undoStack&&!this.redoStack&&(this.undoStack=new Fw(this.cfg.maxStep),this.redoStack=new Fw(this.cfg.maxStep)),this},e.prototype.get=function(t){var i;return(i=this.cfg)===null||i===void 0?void 0:i[t]},e.prototype.getGroup=function(){return this.get("group")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.getMinZoom=function(){return this.get("minZoom")},e.prototype.setMinZoom=function(t){return this.set("minZoom",t)},e.prototype.getMaxZoom=function(){return this.get("maxZoom")},e.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},e.prototype.getWidth=function(){return this.get("width")},e.prototype.getHeight=function(){return this.get("height")},e.prototype.clearItemStates=function(t,i){(0,li.isString)(t)&&(t=this.findById(t));var n=this.get("itemController");i||(i=t.get("states")),n.clearItemStates(t,i);var a=this.get("stateController");a.updateStates(t,i,!1)},e.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},e.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},e.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},e.prototype.findById=function(t){return this.get("itemMap")[t]},e.prototype.find=function(t,i){var n,a=this.get("".concat(t,"s"));return(0,li.each)(a,function(o,s){if(i(o,s))return n=o,n}),n},e.prototype.findAll=function(t,i){var n=[];return(0,li.each)(this.get("".concat(t,"s")),function(a,o){i(a,o)&&n.push(a)}),n},e.prototype.findAllByState=function(t,i,n){return n?this.findAll(t,function(a){return a.hasState(i)&&n(a)}):this.findAll(t,function(a){return a.hasState(i)})},e.prototype.translate=function(t,i,n,a){var o=this,s=this.get("group"),l=(0,li.clone)(s.getMatrix());if(l||(l=[1,0,0,0,1,0,0,0,1]),n){var u=rM({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"translate",matrix:s.getMatrix()})}});G6(s,{x:s.getCanvasBBox().x+t,y:s.getCanvasBBox().y+i},n,u||{duration:500,easing:"easeCubic"})}else l=NF(l,[["t",t,i]]),s.setMatrix(l),this.emit("viewportchange",{action:"translate",matrix:l}),this.autoPaint()},e.prototype.moveTo=function(t,i,n,a){var o=this.get("group");G6(o,{x:t,y:i},n,a||{duration:500,easing:"easeCubic"}),this.emit("viewportchange",{action:"move",matrix:o.getMatrix()})},e.prototype.fitView=function(t,i,n,a){t&&this.set("fitViewPadding",t);var o=this.get("viewController");i?o.fitViewByRules(i,n,a):o.fitView(n,a),this.autoPaint()},e.prototype.fitCenter=function(t,i){var n=this.get("viewController");n.fitCenter(t,i),this.autoPaint()},e.prototype.addBehaviors=function(t,i){var n=this.get("modeController");return n.manipulateBehaviors(t,i,!0),this},e.prototype.removeBehaviors=function(t,i){var n=this.get("modeController");return n.manipulateBehaviors(t,i,!1),this},e.prototype.updateBehavior=function(t,i,n){var a=this.get("modeController");return a.updateBehavior(t,i,n),this},e.prototype.zoom=function(t,i,n,a){var o=this,s=this.get("group"),l=(0,li.clone)(s.getMatrix())||[1,0,0,0,1,0,0,0,1],u=this.get("minZoom"),f=this.get("maxZoom"),c=this.getZoom()||1,h=c*t,d=t,v=!1;if(u&&h<u?(d=u/c,v=!0):f&&h>f&&(d=f/c,v=!0),i?l=NF(l,[["t",-i.x,-i.y],["s",d,d],["t",i.x,i.y]]):l=NF(l,[["s",d,d]]),n){var p=(0,li.clone)(s.getMatrix());p||(p=[1,0,0,0,1,0,0,0,1]);var g=p[0],m=g*d,y=rM({animateCfg:a,callback:function(){return o.emit("viewportchange",{action:"zoom",matrix:s.getMatrix()})}});s.animate(function(x){if(x===1)p=l;else{var b=Y6(g,m,x)/p[0];i?p=NF(p,[["t",-i.x,-i.y],["s",b,b],["t",i.x,i.y]]):p=NF(p,[["s",b,b]])}return{matrix:p}},y)}else s.setMatrix(l),this.emit("viewportchange",{action:"zoom",matrix:l}),this.autoPaint();return!v},e.prototype.zoomTo=function(t,i,n,a){var o=t/this.getZoom();return this.zoom(o,i,n,a)},e.prototype.focusItem=function(t,i,n){var a=this.get("viewController"),o=!1;i?o=!0:i===void 0&&(o=this.get("animate"));var s={};n?s=n:n===void 0&&(s=this.get("animateCfg")),a.focus(t,o,s),this.autoPaint()},e.prototype.focusItems=function(t,i,n,a){var o=this.get("viewController");o.focusItems(t,i,n,a)},e.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},e.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},e.prototype.getPointByClient=function(t,i){var n=this.get("viewController");return n.getPointByClient(t,i)},e.prototype.getClientByPoint=function(t,i){var n=this.get("viewController");return n.getClientByPoint(t,i)},e.prototype.getPointByCanvas=function(t,i){var n=this.get("viewController");return n.getPointByCanvas(t,i)},e.prototype.getCanvasByPoint=function(t,i){var n=this.get("viewController");return n.getCanvasByPoint(t,i)},e.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},e.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},e.prototype.showItem=function(t,i){i===void 0&&(i=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!0);if(i&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!1}],u.nodes=[{id:o,visible:!0}];break;case"edge":l.nodes=[{id:o,visible:!1}],u.edges=[{id:o,visible:!0}];break;case"combo":l.nodes=[{id:o,visible:!1}],u.combos=[{id:o,visible:!0}];break;default:break}this.pushStack("visible",{before:l,after:u})}},e.prototype.hideItem=function(t,i){i===void 0&&(i=!0);var n=this.get("itemController"),a=n.changeItemVisibility(t,!1);if(i&&this.get("enabledStack")){var o=a.getID(),s=a.getType(),l={},u={};switch(s){case"node":l.nodes=[{id:o,visible:!0}],u.nodes=[{id:o,visible:!1}];break;case"edge":l.nodes=[{id:o,visible:!0}],u.edges=[{id:o,visible:!1}];break;case"combo":l.nodes=[{id:o,visible:!0}],u.combos=[{id:o,visible:!1}];break;default:break}this.pushStack("visible",{before:l,after:u})}},e.prototype.refreshItem=function(t){var i=this.get("itemController");i.refreshItem(t)},e.prototype.setAutoPaint=function(t){var i=this;i.set("autoPaint",t);var n=i.get("canvas");n.set("autoDraw",t)},e.prototype.remove=function(t,i){i===void 0&&(i=!0),this.removeItem(t,i)},e.prototype.removeItem=function(t,i){i===void 0&&(i=!0);var n=t;if((0,li.isString)(t)&&(n=this.findById(t)),!n&&(0,li.isString)(t))console.warn("The item ".concat(t," to be removed does not exist!"));else if(n){var a="";if(n.getType&&(a=n.getType()),i&&this.get("enabledStack")){var o=S(S({},n.getModel()),{itemType:a}),s={};switch(a){case"node":{s.nodes=[o],s.edges=[];for(var l=n.getEdges(),u=l.length-1;u>=0;u--)s.edges.push(S(S({},l[u].getModel()),{itemType:"edge"}));break}case"edge":s.edges=[o];break;case"combo":s.combos=[o];break;default:break}this.pushStack("delete",{before:s,after:{}})}if(a==="node"){var f=n.getModel();f.comboId&&this.updateComboTree(n,void 0,!1)}var c=this.get("itemController");if(c.removeItem(n),a==="combo"){var h=U6(this.get("comboTrees"));this.set("comboTrees",h)}}},e.prototype.innerAddItem=function(t,i,n){if(!WBt(t,i))return!1;if(i.id&&this.findById(i.id)){console.warn("This item exists already. Be sure the id %c".concat(i.id,"%c is unique."),"font-size: 20px; color: red;","");return}var a,o=this.get("comboTrees")||[];if(t==="combo"){var s=this.get("itemMap"),l=!1;if(o.forEach(function(v){l||Ed(v,function(p){if(i.parentId===p.id){l=!0;var g=S({id:i.id,depth:p.depth+2},i);p.children?p.children.push(g):p.children=[g],i.depth=g.depth,a=n.addItem(t,i)}var m=s[p.id];return l&&m&&m.getType&&m.getType()==="combo"&&n.updateCombo(m,p.children),!0})}),!l){var u=S({id:i.id,depth:0},i);i.depth=u.depth,o.push(u),a=n.addItem(t,i)}this.set("comboTrees",o),i.collapsed&&(this.collapseCombo(a,!1),this.updateCombo(a))}else if(t==="node"&&(0,li.isString)(i.comboId)&&o){var f=this.findById(i.comboId);f&&f.getType&&f.getType()!=="combo"&&console.warn("'".concat(i.comboId,"' is not a id of a combo in the graph, the node will be added without combo.")),a=n.addItem(t,i);var c=this.get("itemMap"),h=!1,d=!1;o.forEach(function(v){d||h||Ed(v,function(p){if(p.id===i.id)return d=!0,!1;if(i.comboId===p.id&&!d){h=!0;var g=(0,li.clone)(i);g.itemType="node",p.children?p.children.push(g):p.children=[g],g.depth=p.depth+1}return h&&c[p.id].getType&&c[p.id].getType()==="combo"&&n.updateCombo(c[p.id],p.children),!0})})}else a=n.addItem(t,i);if(t==="node"&&i.comboId||t==="combo"&&i.parentId){var f=this.findById(i.comboId||i.parentId);f&&f.getType&&f.getType()==="combo"&&f.addChild(a)}return a},e.prototype.addItem=function(t,i,n,a){n===void 0&&(n=!0),a===void 0&&(a=!0);var o=this.get("comboSorted");this.set("comboSorted",o&&!a);var s=this.get("itemController"),l=this.innerAddItem(t,i,s);if(l===!1||l===!0)return l;var u=this.get("combos");if(u&&u.length>0&&this.sortCombos(),this.autoPaint(),n&&this.get("enabledStack")){var f=S(S({},l.getModel()),{itemType:t}),c={};switch(t){case"node":c.nodes=[f];break;case"edge":c.edges=[f];break;case"combo":c.combos=[f];break;default:break}this.pushStack("add",{before:{},after:c})}return l},e.prototype.addItems=function(t,i,n){t===void 0&&(t=[]),i===void 0&&(i=!0),n===void 0&&(n=!0);var a=this.get("comboSorted");this.set("comboSorted",a&&!n);for(var o=this.get("itemController"),s=[],l=0;l<t.length;l++){var u=t[l];u.type!=="edge"&&u.type!=="vedge"?s.push(this.innerAddItem(u.type,u.model,o)):s.push(void 0)}for(var l=0;l<t.length;l++){var u=t[l];(u.type==="edge"||u.type==="vedge")&&(s[l]=this.innerAddItem(u.type,u.model,o))}if(n){var f=this.get("combos");f&&f.length>0&&this.sortCombos()}if(this.autoPaint(),i&&this.get("enabledStack")){for(var c={nodes:[],edges:[],combos:[]},l=0;l<t.length;l++){var h=t[l].type,d=s[l];if(!!d&&d!==!0){var v=S(S({},d.getModel()),{itemType:h});switch(h){case"node":c.nodes.push(v);break;case"edge":c.edges.push(v);break;case"combo":c.combos.push(v);break;default:break}}}this.pushStack("addItems",{before:{},after:c})}return s},e.prototype.add=function(t,i,n,a){return n===void 0&&(n=!0),a===void 0&&(a=!0),this.addItem(t,i,n,a)},e.prototype.updateItem=function(t,i,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController"),s;(0,li.isString)(t)?s=this.findById(t):s=t;var l=n&&this.get("enabledStack"),u;l&&(u=(0,li.clone)(s.getModel()));var f="";s.getType&&(f=s.getType());var c=ne([],s.getStates(),!0);if(f==="combo"&&(0,li.each)(c,function(p){return a.setItemState(s,p,!1)}),o.updateItem(s,i),f==="combo"&&(0,li.each)(c,function(p){return a.setItemState(s,p,!0)}),l){var h={nodes:[],edges:[],combos:[]},d={nodes:[],edges:[],combos:[]},v=S({id:u.id},i);switch(f){case"node":h.nodes.push(u),d.nodes.push(v);break;case"edge":h.edges.push(u),d.edges.push(v);break;case"combo":h.combos.push(u),d.combos.push(v);break;default:break}this.pushStack("update",{before:h,after:d})}},e.prototype.update=function(t,i,n){n===void 0&&(n=!0),this.updateItem(t,i,n)},e.prototype.setItemState=function(t,i,n){(0,li.isString)(t)&&(t=this.findById(t));var a=this.get("itemController");a.setItemState(t,i,n);var o=this.get("stateController");o.updateState(t,i,n)},e.prototype.priorityState=function(t,i){var n=this.get("itemController");n.priorityState(t,i)},e.prototype.data=function(t){prt(t),this.set("data",t)},e.prototype.render=function(){var t=this;this.set("comboSorted",!1);var i=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!i)throw new Error("data must be defined first");var n=i.nodes,a=n===void 0?[]:n,o=i.edges,s=o===void 0?[]:o,l=i.combos,u=l===void 0?[]:l;if(this.clear(!0),this.emit("beforerender"),t.addItems(a.map(function(g){return{type:"node",model:g}}),!1,!1),(u==null?void 0:u.length)!==0){var f=H6(u,a);this.set("comboTrees",f),t.addCombos(u)}t.addItems(s.map(function(g){return{type:"edge",model:g}}),!1,!1);var c=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var h=t.get("layoutController");if(h){if(h.layout(d),this.destroyed)return}else d();function d(){(t.get("comboTrees")||[]).forEach(function(g){Ed(g,function(m){var y=t.findById(m.id);return y.getType()==="combo"&&m.collapsed&&(t.collapseCombo(m.id,!1),t.updateCombo(y)),!0})}),t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",c),setTimeout(function(){var g;(g=t.getCombos())===null||g===void 0||g.forEach(function(m){m.set("animate",!0)})},0)}if(!this.get("groupByTypes"))if(u&&u.length!==0)this.sortCombos();else if(i.nodes&&i.edges&&i.nodes.length<i.edges.length){var v=this.getNodes();v.forEach(function(g){g.toFront()})}else{var p=this.getEdges();p.forEach(function(g){g.toBack()})}},e.prototype.read=function(t){this.data(t),this.render()},e.prototype.diffItems=function(t,i,n){var a=this,o,s=this.get("itemMap");(0,li.each)(n,function(l){if(o=s[l.id],o){if(a.get("animate")&&t===LNe){var u=o.getContainer().getMatrix();u||(u=[1,0,0,0,1,0,0,0,1]),o.set("originAttrs",{x:u[6],y:u[7]})}a.updateItem(o,l,!1)}else o=a.addItem(t,l,!1);o&&i["".concat(t,"s")].push(o)})},e.prototype.changeData=function(t,i){var n=this,a;i===void 0&&(i=!0);var o=this,s=t||o.get("data");if(!prt(s))return this;this.emit("beforechangedata"),i&&this.get("enabledStack")&&this.pushStack("changedata",{before:o.save(),after:s}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(b){return o.clearItemStates(b)}),this.getEdges().map(function(b){return o.clearItemStates(b)});var l=this.get("canvas"),u=l.get("localRefresh");l.set("localRefresh",!1),o.get("data")||(o.data(s),o.render());var f=this.get("itemMap"),c={nodes:[],edges:[]},h=s.combos;if(h){var d=H6(h,s.nodes);this.set("comboTrees",d)}else this.set("comboTrees",[]);this.diffItems("node",c,s.nodes),(0,li.each)(f,function(b,_){f[_].getModel().depth=0,!(b.getType&&b.getType()==="edge")&&(b.getType&&b.getType()==="combo"?(delete f[_],b.destroy()):c.nodes.indexOf(b)<0&&(delete f[_],o.remove(b,!1)))});for(var v=this.getCombos(),p=v.length,g=p-1;g>=0;g--)v[g].destroyed&&v.splice(g,1);h&&(o.addCombos(h),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",c,s.edges),(0,li.each)(f,function(b,_){b.getType&&(b.getType()==="node"||b.getType()==="combo")||c.edges.indexOf(b)<0&&(delete f[_],o.remove(b,!1))}),(this.get("comboTrees")||[]).forEach(function(b){Ed(b,function(_){var M=n.findById(_.id);return M.getType()==="combo"&&_.collapsed&&n.collapseCombo(_.id,!1),!0})}),this.set({nodes:c.nodes,edges:c.edges});var m=(this.get("layout")||{}).relayoutAtChangeData,y=m===void 0?!0:m,x=this.get("layoutController");return y&&x&&(x.changeData(function(){setTimeout(function(){var b;(b=o.getCombos())===null||b===void 0||b.forEach(function(_){_.set("animate",!0)})},0)}),o.get("animate")&&!x.getLayoutType()?(o.positionsAnimate(),(a=o.getCombos())===null||a===void 0||a.forEach(function(b){return b.set("animate",!0)})):o.autoPaint()),setTimeout(function(){l.set("localRefresh",u)},16),this.set("data",s),this.emit("afterchangedata"),this},e.prototype.addCombos=function(t){var i=this,n=i.get("comboTrees"),a=this.get("itemController");a.addCombos(n,t)},e.prototype.createCombo=function(t,i,n){var a=this;n===void 0&&(n=!0);var o=this.get("itemController");this.set("comboSorted",!1);var s="",l;if(!!t){if((0,li.isString)(t))s=t,l={id:t};else{if(s=t.id,!s){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}l=t}var u=n&&this.get("enabledStack"),f={nodes:[],combos:[]};u&&i.forEach(function(m){var y=a.findById(m),x=y.getType();if(!(x!=="node"&&x!=="combo")){var b=y.getModel();f["".concat(x,"s")].push({id:m,parentId:x==="node"?b.comboId:b.parentId})}});var c=this.get("comboTrees"),h=new Set(i),d=new Map;c&&(c.forEach(function(m){Ed(m,function(y,x,b){if(h.has(y.id)){if(x){var _=a.findById(x.id),M=a.findById(y.id);x.children.splice(b,1),_.removeChild(M),o.updateCombo(_,x.children)}y.itemType==="combo"&&d.set(y.id,y)}return!0})}),c=c.filter(function(m){return!h.has(m.id)}),this.set("comboTrees",c));var v={nodes:[],combos:[]},p=i.map(function(m){var y=a.findById(m),x=y.getModel(),b="";y.getType&&(b=y.getType());var _=d.get(m)||{id:y.getID(),itemType:b};return b==="combo"?(_.parentId=s,x.parentId=s):b==="node"&&(_.comboId=s,x.comboId=s),u&&v["".concat(b,"s")].push({id:x.id,parentId:s}),_});l.children=p,this.addItem("combo",l,!1),this.set("comboSorted",!1),c&&(c.forEach(function(m){Zs(m,function(y){return y.id===s?(y.itemType="combo",y.children=p,!1):!0})}),this.sortCombos()),u&&(v.combos.push(l),this.pushStack("createCombo",{before:f,after:v}));var g=this.findById(s);!g.getModel().parentId&&g.getChildren().combos.length&&this.updateComboTree(g,void 0,!1),setTimeout(function(){g.set("animate",!0)},0)}},e.prototype.uncombo=function(t,i){var n=this,a,o;i===void 0&&(i=!0);var s=this,l=t;if((0,li.isString)(t)&&(l=this.findById(t)),!l||l.getType&&l.getType()!=="combo"){console.warn("The item is not a combo!");return}var u=l.getModel(),f=l.getModel().parentId,c=s.get("comboTrees");c||(c=[]);var h=this.get("itemMap"),d=l.get("id"),v,p=[],g=this.get("combos"),m=this.findById(f),y=i&&this.get("enabledStack"),x={};if(y&&(x=(0,li.clone)(u),x.children=[]),c.forEach(function(A){v||Ed(A,function(I){var k;if(I.id===d){v=I;var E=l.getEdges().map(function(N){return N.getID()});E.forEach(function(N){n.removeItem(N,!1)});var O=g.indexOf(l);g.splice(O,1),delete h[d];var P=(0,li.clone)(l.getModel());l.destroy(),n.emit("afterremoveitem",{item:P,type:"combo"})}if(f&&v&&I.id===f){m.removeCombo(l),p=I.children;var O=p.indexOf(v);return O!==-1&&p.splice(O,1),(k=v.children)===null||k===void 0||k.forEach(function(R){var z=n.findById(R.id),B=z.getModel();z.getType&&z.getType()==="combo"?(R.parentId=f,delete R.comboId,B.parentId=f,delete B.comboId):z.getType&&z.getType()==="node"&&(R.comboId=f,B.comboId=f),m.addChild(z),p.push(R)}),n.updateCombo(m),!1}return!0})}),!f&&v){var b=c.indexOf(v);c.splice(b,1),(a=v.children)===null||a===void 0||a.forEach(function(A){A.parentId=void 0;var I=n.findById(A.id).getModel();delete I.parentId,delete I.comboId,A.itemType!=="node"&&c.push(A)})}if(y){var _={nodes:[],combos:[]},M={nodes:[],combos:[]};(o=v.children)===null||o===void 0||o.forEach(function(A){var I=n.findById(A.id),k=I.getType();k!=="node"&&k!=="combo"||(_["".concat(k,"s")].push({id:A.id,parentId:d}),M["".concat(k,"s")].push({id:A.id,parentId:f}))}),_.combos.push(x),this.pushStack("uncombo",{before:_,after:M})}},e.prototype.updateCombos=function(t){var i=this;t===void 0&&(t=!1);var n=this,a=this.get("comboTrees"),o=n.get("itemController"),s=n.get("itemMap");(a||[]).forEach(function(l){Ed(l,function(u){var f;if(!u)return!0;var c=s[u.id];if(((f=c==null?void 0:c.getType)===null||f===void 0?void 0:f.call(c))==="combo"){var h=ne([],c.getStates(),!0);(0,li.each)(h,function(d){return i.setItemState(c,d,!1)}),o.updateCombo(c,u.children,t),(0,li.each)(h,function(d){return i.setItemState(c,d,!0)})}return!0})}),n.sortCombos()},e.prototype.updateCombo=function(t){var i=this,n=this,a=t,o;if((0,li.isString)(t)&&(a=this.findById(t)),!a||a.getType&&a.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}o=a.get("id");var s=this.get("comboTrees"),l=n.get("itemController"),u=n.get("itemMap");(s||[]).forEach(function(f){Ed(f,function(c){if(!c)return!0;var h=u[c.id];if(o===c.id&&h&&h.getType&&h.getType()==="combo"){var d=ne([],h.getStates(),!0);(0,li.each)(d,function(v){h.getStateStyle(v)&&i.setItemState(h,v,!1)}),l.updateCombo(h,c.children),(0,li.each)(d,function(v){h.getStateStyle(v)&&i.setItemState(h,v,!0)}),o&&(o=c.parentId)}return!0})})},e.prototype.updateComboTree=function(t,i,n){n===void 0&&(n=!0);var a=this;this.set("comboSorted",!1);var o;(0,li.isString)(t)?o=a.findById(t):o=t;var s=o.getModel(),l=s.comboId||s.parentId,u="";if(o.getType&&(u=o.getType()),i&&u==="combo"){var f=this.get("comboTrees"),c=!0,h;if((f||[]).forEach(function(y){h||Zs(y,function(x){if(!h)return x.id===o.getID()&&(h=x),!0})}),Zs(h,function(y){return y.id===i?(c=!1,!1):!0}),!c){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(n&&this.get("enabledStack")){var d={},v={};u==="combo"?(d.combos=[{id:s.id,parentId:s.parentId}],v.combos=[{id:s.id,parentId:i}]):u==="node"&&(d.nodes=[{id:s.id,parentId:s.comboId}],v.nodes=[{id:s.id,parentId:i}]),this.pushStack("updateComboTree",{before:d,after:v})}if(s.parentId||s.comboId){var p=this.findById(s.parentId||s.comboId);p&&p.removeChild(o)}if(u==="combo"?s.parentId=i:u==="node"&&(s.comboId=i),i){var g=this.findById(i);g&&g.addChild(o)}if(l){var g=this.findById(l);g&&g.removeChild(o)}var m=U6(this.get("comboTrees"),s.id,i);this.set("comboTrees",m),this.updateCombos()},e.prototype.save=function(){var t=[],i=[],n=[];return(0,li.each)(this.get("nodes"),function(a){t.push(a.getModel())}),(0,li.each)(this.get("edges"),function(a){i.push(a.getModel())}),(0,li.each)(this.get("combos"),function(a){n.push(a.getModel())}),{nodes:t,edges:i,combos:n}},e.prototype.changeSize=function(t,i){var n=this.get("viewController");return n.changeSize(t,i),this},e.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var i=t.get("nodes"),n=t.get("edges"),a=t.get("edges");(0,li.each)(i,function(o){o.refresh()}),(0,li.each)(n,function(o){o.refresh()}),(0,li.each)(a,function(o){o.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},e.prototype.getNodes=function(){return this.get("nodes")},e.prototype.getEdges=function(){return this.get("edges")},e.prototype.getCombos=function(){return this.get("combos")},e.prototype.getComboChildren=function(t){if((0,li.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},e.prototype.positionsAnimate=function(t){var i=this;i.emit("beforeanimate");var n=i.get("animateCfg"),a=n.onFrame,o=t?i.getNodes().concat(i.getCombos()):i.getNodes(),s=o.map(function(u){var f=u.getModel();return{id:f.id,x:f.x,y:f.y}});i.stopAnimate();var l=i.get("canvas");i.animating=!0,setTimeout(function(){l.animate(function(u){(0,li.each)(s,function(f){var c=i.findById(f.id);if(!(!c||c.destroyed)){var h=c.get("originAttrs"),d=c.get("model"),v=c.getContainer().getMatrix();if(h==null&&(v&&(h={x:v[6],y:v[7]}),c.set("originAttrs",h||0)),a){var p=a(c,u,f,h||{x:0,y:0});c.set("model",Object.assign(d,p))}else h?(d.x=h.x+(f.x-h.x)*u,d.y=h.y+(f.y-h.y)*u):(d.x=f.x,d.y=f.y)}}),i.refreshPositions(t)},{duration:n.duration,easing:n.easing,callback:function(){(0,li.each)(o,function(f){f.set("originAttrs",null)}),n.callback&&n.callback(),i.emit("afteranimate"),i.animating=!1}})},0)},e.prototype.refreshPositions=function(t){var i=this;i.emit("beforegraphrefreshposition");var n=i.get("nodes"),a=i.get("edges"),o=i.get("vedges"),s=i.get("combos"),l,u={},f=function(h){(0,li.each)(h,function(d){l=d.getModel();var v=d.get("originAttrs");if(!(v&&l.x===v.x&&l.y===v.y)){var p=d.updatePosition({x:l.x,y:l.y});u[l.id]=p,l.comboId&&(u[l.comboId]=u[l.comboId]||p),l.parentId&&(u[l.parentId]=u[l.parentId]||p)}})};f(s),f(n),s&&s.length!==0&&(t&&f(s),i.updateCombos()),(0,li.each)(a,function(c){var h=c.getSource().getModel(),d=c.getTarget();if(!(0,li.isPlainObject)(d)){var v=d.getModel();(u[h.id]||u[v.id]||c.getModel().isComboEdge)&&c.refresh()}}),(0,li.each)(o,function(c){c.refresh()}),i.emit("aftergraphrefreshposition"),i.autoPaint()},e.prototype.stopAnimate=function(){var t=this.get("canvas"),i=t.cfg.timeline;i&&i.stopAllAnimations()},e.prototype.isAnimating=function(){return this.animating},e.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},e.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},e.prototype.setMode=function(t){var i=this.get("modeController");return i.setMode(t),this},e.prototype.clear=function(t){var i;return t===void 0&&(t=!1),(i=this.get("canvas"))===null||i===void 0||i.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],vedges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},e.prototype.updateLayout=function(t,i,n,a){var o=this;t===void 0&&(t={}),a===void 0&&(a=!0);var s=this.get("layoutController");if((0,li.isString)(t)&&(t={type:t}),i){var l=n;l||(i==="begin"?l={x:0,y:0}:l={x:this.getWidth()/2,y:this.getHeight()/2}),l=this.getPointByCanvas(l.x,l.y);var u=["force","gForce","fruchterman","force2"];u.includes(t.type)||!t.type&&u.includes(s==null?void 0:s.layoutType)?t.center=[l.x,l.y]:this.once("afterlayout",function(h){var d=o.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];l.x=l.x*d[0]+d[6],l.y=l.y*d[0]+d[7];var v=o.getGroup().getCanvasBBox(),p=v.minX,g=v.maxX,m=v.minY,y=v.maxY,x={x:(p+g)/2,y:(m+y)/2};i==="begin"&&(x.x=p,x.y=m),o.translate(l.x-x.x,l.y-x.y)})}var f=S({},this.get("layout")),c={};Object.assign(c,f,t),t.pipes&&!t.type?delete c.type:!t.pipes&&c.type&&delete c.pipes,this.set("layout",c),!!s&&(s.isLayoutTypeSame(c)&&c.gpuEnabled===f.gpuEnabled?s.updateLayoutCfg(c):s.changeLayout(c),a&&this.get("enabledStack")&&this.pushStack("layout",{before:f,after:c}))},e.prototype.destroyLayout=function(){var t=this.get("layoutController");t==null||t.destroyLayout()},e.prototype.layout=function(){var t,i=this.get("layoutController"),n=this.get("layout");if(!(!n||!i)){if(n.workerEnabled){i.layout();return}((t=i.layoutMethods)===null||t===void 0?void 0:t.length)?i.relayout(!0):i.layout()}},e.prototype.collapseCombo=function(t,i){var n=this;if(i===void 0&&(i=!0),!this.destroyed){if((0,li.isString)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"collapse",item:t});var a=t.getModel(),o=this.get("itemController");o.collapseCombo(t,i),a.collapsed=!0;var s=this.getEdges().concat(this.get("vedges")),l=[],u=this.get("comboTrees"),f=!1;(u||[]).forEach(function(h){f||Zs(h,function(d){if(f&&d.depth<=a.depth)return!1;if(a.id===d.id&&(f=!0),f){var v=n.findById(d.id);v&&v.getType&&v.getType()==="combo"&&(l=l.concat(v.getNodes()),l=l.concat(v.getCombos()))}return!0})});var c={};s.forEach(function(h){var d=h.getModel(),v=d.isVEdge,p=d.size,g=p===void 0?1:p;if(!(h.isVisible()&&!v)){var m=h.getSource(),y=h.getTarget(),x=null,b;if(m.getModel().id===a.id||l.includes(m)&&!l.includes(y)?(x=y,b=!1):(y.getModel().id===a.id||!l.includes(m)&&l.includes(y))&&(x=m,b=!0),x){if(v){n.removeItem(h,!1);return}for(var _=x.getModel();!x.isVisible();){var M=_.parentId,A=_.comboId,I=M||A;if(x=n.findById(I),!x||!I)return;_=x.getModel()}var k=_.id,E=b?{source:k,target:a.id,size:g,isVEdge:!0}:{source:a.id,target:k,size:g,isVEdge:!0},O="".concat(E.source,"-").concat(E.target);if(c[O]){c[O].size+=g;return}c[O]=E}}}),this.addItems(Object.values(c).map(function(h){return{type:"vedge",model:h}}),!1),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})}},e.prototype.expandCombo=function(t,i){var n=this;if(i===void 0&&(i=!0),(0,li.isString)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var a=t.getModel(),o=this.get("itemController");o.expandCombo(t,i),a.collapsed=!1;var s=this.getEdges().concat(this.get("vedges")),l=[],u=this.get("comboTrees"),f=!1;(u||[]).forEach(function(h){f||Zs(h,function(d){if(f&&d.depth<=a.depth)return!1;if(a.id===d.id&&(f=!0),f){var v=n.findById(d.id);v&&v.getType&&v.getType()==="combo"&&(l=l.concat(v.getNodes()),l=l.concat(v.getCombos()))}return!0})});var c={};s.forEach(function(h){if(!(h.isVisible()&&!h.getModel().isVEdge)){var d=h.getSource(),v=h.getTarget(),p=d.get("id"),g=v.get("id"),m=null,y;if(p===a.id||l.includes(d)&&!l.includes(v)?(m=v,y=!1):g===a.id||!l.includes(d)&&l.includes(v)?(m=d,y=!0):l.includes(d)&&l.includes(v)&&d.isVisible()&&v.isVisible()&&h.show(),m){var x=h.getModel(),b=x.isVEdge,_=x.size,M=_===void 0?1:_;if(b){n.removeItem(h,!1);return}for(var A=m.getModel();!m.isVisible();){var I=A.parentId,k=A.comboId,E=I||k;if(m=n.findById(E),!m||!E)return;A=m.getModel()}for(var O=A.id,P=y?v:d,N=P.getModel();!P.isVisible();){var R=N.parentId,z=N.comboId,B=R||z;if(P=n.findById(B),!P||!B)return;if(N.comboId===a.id||N.parentId===a.id)break;N=P.getModel()}var Y=N.id;if(O){var q=y?{source:O,target:Y,isVEdge:!0,size:M}:{source:Y,target:O,isVEdge:!0,size:M},j="".concat(q.source,"-").concat(q.target);if(c[j]){c[j].size+=M;return}c[j]=q}}}}),this.addItems(Object.values(c).map(function(h){return{type:"vedge",model:h}}),!1),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},e.prototype.collapseExpandCombo=function(t,i){if(i===void 0&&(i=!0),(0,li.isString)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var n=t.getModel(),a=this.findById(n.parentId);a;){var o=a.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),a=void 0;return}a=this.findById(o.parentId)}var s=n.collapsed;s?this.expandCombo(t,i):this.collapseCombo(t,i),this.updateCombo(t)}},e.prototype.getNeighbors=function(t,i){var n=t;return(0,li.isString)(t)&&(n=this.findById(t)),n.getNeighbors(i)},e.prototype.getNodeDegree=function(t,i,n){i===void 0&&(i=void 0),n===void 0&&(n=!1);var a=t;(0,li.isString)(t)&&(a=this.findById(t));var o=this.get("degrees");(!o||n)&&(o=rx(this.save()),this.set("degrees",o));var s=o[a.getID()],l=0;if(!s)return 0;switch(i){case"in":l=s.inDegree;break;case"out":l=s.outDegree;break;case"all":l=s;break;default:l=s.degree;break}return l},e.prototype.getUndoStack=function(){return this.undoStack},e.prototype.getRedoStack=function(){return this.redoStack},e.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},e.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear(),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack}))},e.prototype.pushStack=function(t,i,n){if(t===void 0&&(t="update"),n===void 0&&(n="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var a=i?(0,li.clone)(i):{before:{},after:(0,li.clone)(this.save())};n==="redo"?this.redoStack.push({action:t,data:a}):this.undoStack.push({action:t,data:a}),this.emit("stackchange",{action:t,stackType:n,undoStack:this.undoStack,redoStack:this.redoStack})},e.prototype.getAdjMatrix=function(t,i){t===void 0&&(t=!0),i===void 0&&(i=this.get("directed"));var n=this.get("adjMatrix");return(!n||!t)&&(n=Ad(this.save(),i),this.set("adjMatrix",n)),n},e.prototype.getShortestPathMatrix=function(t,i){t===void 0&&(t=!0),i===void 0&&(i=this.get("directed"));var n=this.get("adjMatrix"),a=this.get("shortestPathMatrix");return(!n||!t)&&(n=Ad(this.save(),i),this.set("adjMatrix",n)),(!a||!t)&&(a=Dw(this.save(),i),this.set("shortestPathMatrix",a)),a},e.prototype.on=function(t,i,n){return r.prototype.on.call(this,t,i,n)},e.prototype.destroy=function(){var t,i,n,a,o;this.emit("beforedestroy"),this.clear(),this.clearStack(),(t=this.get("itemController"))===null||t===void 0||t.destroy(),(i=this.get("modeController"))===null||i===void 0||i.destroy(),(n=this.get("viewController"))===null||n===void 0||n.destroy(),(a=this.get("stateController"))===null||a===void 0||a.destroy(),(o=this.get("canvas"))===null||o===void 0||o.destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null,this.emit("afterdestroy")},e.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var i=this.get("hullGroup"),n=this.get("hullMap");if(n||(n={},this.set("hullMap",n)),(!i||i.get("destroyed"))&&(i=this.get("group").addGroup({id:"hullGroup"}),i.toBack(),this.set("hullGroup",i)),n[t.id])return console.warn("Existed hull id."),n[t.id];var a=i.addGroup({id:"".concat(t.id,"-container")}),o=new lY(this,S(S({},t),{group:a})),s=o.id;return n[s]=o,o},e.prototype.getHulls=function(){return this.get("hullMap")},e.prototype.getHullById=function(t){return this.get("hullMap")[t]},e.prototype.removeHull=function(t){var i,n;(0,li.isString)(t)?n=this.getHullById(t):n=t,(i=this.get("hullMap"))===null||i===void 0||delete i[n.id],n.destroy()},e.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(i){var n=t[i];n.destroy()}),this.set("hullMap",{}))},e}(vb),uY=ONe;var Ww=et(ot());var co=et(ot());function Drt(r){return Drt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Drt(r)}var sI=Wr.transform,pRt="-shape",Frt="-label",fY=["startArrow","endArrow"],gRt={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},kNe={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},cY={edge:kNe,node:gRt,combo:gRt},hY="-label-bg",lI={options:{labelCfg:{style:{fontFamily:yr.windowFontFamily}},descriptionCfg:{style:{fontFamily:yr.windowFontFamily}}},itemType:"",type:"",getCustomConfig:function(e){return{}},getOptions:function(e,t){return t==="move"||(t==null?void 0:t.includes("bbox"))?e:(0,co.deepMix)({},this.options,this.getCustomConfig(e)||{},e)},draw:function(e,t){t.shapeMap={},this.mergeStyle=this.getOptions(e);var i=this.drawShape(e,t);if(i.set("className",this.itemType+pRt),t.shapeMap[this.itemType+pRt]=i,e.label){var n=this.drawLabel(e,t);n.set("className",this.itemType+Frt),t.shapeMap[this.itemType+Frt]=n}return i},afterDraw:function(e,t,i){},drawShape:function(e,t){return null},drawLabel:function(e,t){var i=(this.mergeStyle||this.getOptions(e)||{}).labelCfg,n=i||{},a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,draggable:!0,className:"text-shape",name:"text-shape",labelRelated:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""){var l=s.getBBox(),u=[1,0,0,0,1,0,0,0,1];if(a.rotateCenter)switch(a.rotateCenter){case"center":u=sI(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break;case"lefttop":u=sI(u,[["t",-a.x,-a.y],["r",o],["t",a.x,a.y]]);break;case"leftcenter":u=sI(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);break;default:u=sI(u,[["t",-l.width/2,-l.height/2],["r",o],["t",l.width/2,l.height/2]]);break}else u=sI(u,[["t",-a.x,-a.y-l.height/2],["r",o],["t",a.x,a.y+l.height/2]]);s.setMatrix(u)}if(a.background){var f=this.drawLabelBg(e,t,s),c=this.itemType+hY;f.set("classname",c),t.shapeMap[c]=f,s.toFront()}return s},drawLabelBg:function(e,t,i){var n=this.options.labelCfg,a=(0,co.mix)({},n,e.labelCfg),o=this.getLabelBgStyleByPosition(i,a),s=t.addShape("rect",{name:"text-bg-shape",attrs:o,labelRelated:!0});return t.shapeMap["text-bg-shape"]=s,s},getLabelStyleByPosition:function(e,t,i){return{text:e.label}},getLabelBgStyleByPosition:function(e,t){return{}},getLabelStyle:function(e,t,i){var n=this.getLabelStyleByPosition(e,t,i),a="".concat(this.itemType,"Label"),o=yr[a]?yr[a].style:null;return S(S(S({},o),n),t.style)},getShapeStyle:function(e){return e.style},update:function(e,t,i){this.updateShapeStyle(e,t,i),this.updateLabel(e,t,i)},updateShapeStyle:function(e,t,i){var n,a=t.getContainer(),o=t.getKeyShape(),s=(0,co.mix)({},o.attr(),e.style),l=function(c){var h,d=s[c];if((0,co.isPlainObject)(d)){var v=((n=a.shapeMap)===null||n===void 0?void 0:n[c])||a.find(function(p){return p.get("name")===c});v==null||v.attr(d)}else o.attr((h={},h[c]=d,h))};for(var u in s)l(u)},updateLabel:function(e,t,i){var n,a,o=t.getContainer(),s=(this.mergeStyle||this.getOptions({},i)||{}).labelCfg,l=s===void 0?{}:s,u=this.itemType+Frt,f=o.shapeMap[u]||o.find(function(b){return b.get("className")===u}),c=this.itemType+hY,h=o.shapeMap[c]||o.find(function(b){return b.get("className")===c});if(f&&e.label===void 0&&(o.removeChild(f),delete o.shapeMap[u],h&&(o.removeChild(h),delete o.shapeMap[c])),e.label||e.label==="")if(f){(!i||i==="bbox|label"||this.itemType==="edge"&&i!=="style")&&(l=(0,co.deepMix)(l,e.labelCfg));var v=this.getLabelStyleByPosition(e,l,o),p=(n=e.labelCfg)===null||n===void 0?void 0:n.style,g=S(S({},v),p),m=g.rotate;if(delete g.rotate,!isNaN(m)&&m!==""){var y=[1,0,0,0,1,0,0,0,1];y=sI(y,[["t",-g.x,-g.y],["r",m],["t",g.x,g.y]]),g.matrix=y,f.attr(g)}else((a=f.getMatrix())===null||a===void 0?void 0:a[4])!==1&&f.resetMatrix(),f.attr(g);if(!h)g.background&&(h=this.drawLabelBg(e,o,f),h.set("classname",c),o.shapeMap[c]=h,f.toFront());else if(g.background){var x=this.getLabelBgStyleByPosition(f,l);h.attr(x)}else o.removeChild(h)}else{var d=this.drawLabel(e,o);d.set("className",u),o.shapeMap[u]=d}},afterUpdate:function(e,t){},setState:function(e,t,i){var n,a,o,s=i.get("keyShape");if(!(!s||s.destroyed)){var l=i.getType(),u=(0,co.isBoolean)(t)?e:"".concat(e,":").concat(t),f=this.getStateStyle(u,i),c=i.getStateStyle(u);if(!(!c&&!f)){var h=(0,co.mix)({},c||f),d=i.getContainer(),v={x:1,y:1,cx:1,cy:1,matrix:1};if(l==="combo"&&(v.r=1,v.width=1,v.height=1),t){var p=function(B){var Y,q=h[B];if((0,co.isPlainObject)(q)&&!fY.includes(B)){var j=((o=d.shapeMap)===null||o===void 0?void 0:o[B])||d.find(function(Z){return Z.get("name")===B});j==null||j.attr(q)}else s.attr((Y={},Y[B]=q,Y))};for(var g in h)p(g)}else{var m=OF(i.getCurrentStatesStyle()),y=i.getModel(),x=(0,co.mix)({},y.style,OF(i.getOriginStyle())),b=s.get("name"),_=s.attr(),M={};Object.keys(_).forEach(function(z){if(z!=="img"){var B=_[z];B&&Drt(B)==="object"?M[z]=(0,co.clone)(B):M[z]=B}});var A={},I=function(B){var Y=h[B];if((0,co.isPlainObject)(Y)&&!fY.includes(B)){var q=d.shapeMap[B]||d.find(function(tt){return tt.get("name")===B});if(q){var j=OF(q.attr());(0,co.each)(Y,function(tt,lt){if(B===b&&M[lt]&&!v[lt]){delete M[lt];var J=x[B][lt]||cY[l][lt];s.attr(lt,J)}else if(j[lt]||j[lt]===0){delete j[lt];var nt=x[B][lt]||cY[l][lt];q.attr(lt,nt)}}),A[B]=j}}else if(M[B]&&!v[B]){delete M[B];var Z=x[B]||(x[b]?x[b][B]:void 0)||cY[l][B];s.attr(B,Z)}};for(var k in h)I(k);b?A[b]=M:(0,co.mix)(A,M);for(var g in m)if(!v[g]){var E=m[g];(!(0,co.isPlainObject)(E)||fY.includes(g))&&(b?((0,co.mix)(x[b],(a={},a[g]=E,a)),delete x[g]):(0,co.mix)(x,(n={},n[g]=E,n)),delete m[g])}var O={};(0,co.deepMix)(O,x,A,m);var P=!1,N=function(B){var Y,q,j=O[B];if((0,co.isPlainObject)(j)&&!fY.includes(B)){var Z=d.shapeMap[B]||d.find(function(lt){return lt.get("name")===B});Z&&((Z.get("type")==="text"||Z.get("labelRelated"))&&(delete j.x,delete j.y,delete j.matrix),B===b&&(l==="combo"&&(delete j.r,delete j.width,delete j.height),P=!0),Z.attr(j))}else if(!P){var tt=j||cY[l][B];l==="combo"?b||s.attr((Y={},Y[B]=tt,Y)):s.attr((q={},q[B]=tt,q))}};for(var R in O)N(R)}}}},getStateStyle:function(e,t){var i=t.getModel(),n=t.getType(),a=this.getOptions(i),o=a.stateStyles,s=a.style,l=s===void 0?{}:s,u=i.stateStyles?i.stateStyles[e]:o&&o[e];return n==="combo"?(0,co.clone)(u):(0,co.mix)({},l,u)},getControlPoints:function(e){return e.controlPoints},getAnchorPoints:function(e){var t,i,n=(e==null?void 0:e.anchorPoints)||((t=this.getCustomConfig(e))===null||t===void 0?void 0:t.anchorPoints)||((i=this.options)===null||i===void 0?void 0:i.anchorPoints);return n}};var PNe={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:yr.nodeLabel.offset,getSize:function(e){var t,i=((t=this.mergeStyle)===null||t===void 0?void 0:t.size)||e.size||this.getOptions({}).size||yr.defaultNode.size;return(0,Ww.isArray)(i)&&i.length===1&&(i=[i[0],i[0]]),(0,Ww.isArray)(i)||(i=[i,i]),i},getLabelStyleByPosition:function(e,t){var i=t.maxLength,n=e.label;i&&(n=drt(n,i));var a=t.position||this.labelPosition;if(a==="center")return{x:0,y:0,text:n,textBaseline:"middle",textAlign:"center"};var o=t.offset;(0,Ww.isNil)(o)&&(o=this.offset);var s=this.getSize(e),l;switch(a){case"top":l={x:0,y:-s[1]/2-o,textBaseline:"bottom",textAlign:"center"};break;case"bottom":l={x:0,y:s[1]/2+o,textBaseline:"top",textAlign:"center"};break;case"left":l={x:-s[0]/2-o,y:0,textBaseline:"middle",textAlign:"right"};break;default:l={x:s[0]/2+o,y:0,textBaseline:"middle",textAlign:"left"};break}return l.text=n,l},getLabelBgStyleByPosition:function(e,t){var i;if(!e)return{};var n=(i=t.style)===null||i===void 0?void 0:i.background;if(!n)return{};var a=e.getBBox(),o=kF(n.padding),s=a.width+o[1]+o[3],l=a.height+o[0]+o[2];return S(S({x:a.minX-o[3],y:a.minY-o[0]},n),{width:s,height:l})},drawShape:function(e,t){var i=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(i,{attrs:n,draggable:!0,name:"node-shape"});return t.shapeMap["node-shape"]=a,a},updateLinkPoints:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(O){return O.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(O){return O.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(O){return O.get("className")==="link-point-top"}),s=t.shapeMap["link-point-bottom"]||t.find(function(O){return O.get("className")==="link-point-bottom"}),l;n&&(l=n.attr()),a&&!l&&(l=a.attr()),o&&!l&&(l=o.attr()),s&&!l&&(l=s.attr()),l||(l=i);var u=(0,Ww.mix)({},l,e.linkPoints),f=u.fill,c=u.stroke,h=u.lineWidth,d=u.size/2;d||(d=u.r);var v=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},p=v.left,g=v.right,m=v.top,y=v.bottom,x=this.getSize(e),b=x[0],_=x[1],M={r:d,fill:f,stroke:c,lineWidth:h};if(n)!p&&p!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr(S(S({},M),{x:-b/2,y:0}));else if(p){var A="link-point-left";t.shapeMap[A]=t.addShape("circle",{attrs:S(S({},M),{x:-b/2,y:0}),className:A,name:A,isAnchorPoint:!0})}if(a)!g&&g!==void 0&&(a.remove(),delete t.shapeMap["link-point-right"]),a.attr(S(S({},M),{x:b/2,y:0}));else if(g){var I="link-point-right";t.shapeMap[I]=t.addShape("circle",{attrs:S(S({},M),{x:b/2,y:0}),className:I,name:I,isAnchorPoint:!0})}if(o)!m&&m!==void 0&&(o.remove(),delete t.shapeMap["link-point-top"]),o.attr(S(S({},M),{x:0,y:-_/2}));else if(m){var k="link-point-top";t.shapeMap[k]=t.addShape("circle",{attrs:S(S({},M),{x:0,y:-_/2}),className:k,name:k,isAnchorPoint:!0})}if(s)!y&&y!==void 0?(s.remove(),delete t.shapeMap["link-point-bottom"]):s.attr(S(S({},M),{x:0,y:_/2}));else if(y){var E="link-point-bottom";t.shapeMap[E]=t.addShape("circle",{attrs:S(S({},M),{x:0,y:_/2}),className:E,name:E,isAnchorPoint:!0})}},updateShape:function(e,t,i,n,a){var o=t.get("keyShape");o.attr(S({},i)),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)},updateIcon:function(e,t){var i=this,n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).icon,o=e.icon?e.icon:{show:void 0,text:void 0},s=o.show,l=o.text,u=n.shapeMap["".concat(this.type,"-icon")]||n.find(function(m){return m.get("name")==="".concat(i.type,"-icon")});if(u)if(s||s===void 0){var f=(0,Ww.mix)({},u.attr(),a),c=f.width,h=c===void 0?20:c,d=f.height,v=d===void 0?20:d;(f.fontFamily==="iconfont"||f.hasOwnProperty("text"))&&(h=0,v=0),u.attr(S(S({},f),{x:-h/2,y:-v/2}))}else u.remove(),delete n.shapeMap["".concat(this.type,"-icon")];else if(s){var p="".concat(this.type,"-icon");if(l)n.shapeMap[p]=n.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:p,name:p});else{var h=a.width,v=a.height;n.shapeMap[p]=n.addShape("image",{attrs:S(S({},a),{x:-h/2,y:-v/2}),className:p,name:p})}var g=n.shapeMap["node-label"]||n.find(function(m){return m.get("name")==="node-label"});g&&g.toFront()}}},DNe=S(S({},lI),PNe);za.registerNode("single-node",DNe);var mo=et(ot());var dY="edge-shape";function FNe(r){var e=r;return r==="start"?e="end":r==="end"&&(e="start"),e}var NNe={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:yr.defaultEdge.size,style:{x:0,y:0,stroke:yr.defaultEdge.style.stroke,lineAppendWidth:yr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:yr.edgeLabel.style.fill,fontSize:yr.edgeLabel.style.fontSize,fontFamily:yr.windowFontFamily}},stateStyles:S({},yr.edgeStateStyles)},getPath:function(e){var t=[];return(0,mo.each)(e,function(i,n){n===0?t.push(["M",i.x,i.y]):t.push(["L",i.x,i.y])}),t},getShapeStyle:function(e){var t=this.options.style,i={stroke:e.color},n=(0,mo.mix)({},t,i,e.style),a=e.size||yr.defaultEdge.size;e=this.getPathPoints(e);var o=e.startPoint,s=e.endPoint,l=this.getControlPoints(e),u=[o];l&&(u=u.concat(l)),u.push(s);var f=this.getPath(u),c=(0,mo.mix)({},yr.defaultEdge.style,{stroke:yr.defaultEdge.color,lineWidth:a,path:f},n);return c},updateShapeStyle:function(e,t,i){var n,a=t.getContainer(),o=((n=t.getKeyShape)===null||n===void 0?void 0:n.call(t))||a.shapeMap["edge-shape"],s=e.size;e=this.getPathPoints(e);var l=e.startPoint,u=e.endPoint,f=this.getControlPoints(e),c=[l];f&&(c=c.concat(f)),c.push(u);var h=o.attr(),d=e.style||{};d.stroke===void 0&&(d.stroke=e.color);var v=e.sourceNode,p=e.targetNode,g={radius:d.radius};f||(g={source:v,target:p,offset:d.offset,radius:d.radius});var m=this.getPath(c,g),y={};i==="move"?y={path:m}:(h.endArrow&&d.endArrow===!1&&(e.style.endArrow={path:""}),h.startArrow&&d.startArrow===!1&&(e.style.startArrow={path:""}),y=S({},e.style),y.lineWidth===void 0&&(y.lineWidth=((0,mo.isNumber)(s)?s:s==null?void 0:s[0])||h.lineWidth),y.path===void 0&&(y.path=m),y.stroke===void 0&&(y.stroke=h.stroke||e.color)),o&&o.attr(y)},getLabelStyleByPosition:function(e,t,i){var n=t.position||this.labelPosition,a={},o=i==null?void 0:i.shapeMap[dY],s;n==="start"?s=0:n==="end"?s=1:s=.5;var l=t.refX||this.refX,u=t.refY||this.refY;if(e.startPoint.x===e.endPoint.x&&e.startPoint.y===e.endPoint.y)return a.x=e.startPoint.x+l,a.y=e.startPoint.y+u,a.text=e.label,a;var f;(0,mo.isNil)(t.autoRotate)?f=this.labelAutoRotate:f=t.autoRotate;var c=crt(o,s,l,u,f);return a.x=c.x,a.y=c.y,a.rotate=c.rotate,a.textAlign=this._getTextAlign(n,c.angle),a.text=e.label,a},getLabelBgStyleByPosition:function(e,t){if(!e)return{};var i=e.getBBox(),n=t.style&&t.style.background;if(!n)return{};var a=n.padding,o=i.width+a[1]+a[3],s=i.height+a[0]+a[2],l=S(S({},n),{width:o,height:s,x:i.minX-a[3],y:i.minY-a[0],matrix:[1,0,0,0,1,0,0,0,1]}),u;return(0,mo.isNil)(t.autoRotate)?u=this.labelAutoRotate:u=t.autoRotate,u&&(l.matrix=e.attr("matrix")||[1,0,0,0,1,0,0,0,1]),l},_getTextAlign:function(e,t){var i="center";return t?(t=t%(Math.PI*2),e!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?i=e:i=FNe(e)),i):e},getControlPoints:function(e){return e.controlPoints},getPathPoints:function(e){return e},drawShape:function(e,t){var i=this.getShapeStyle(e),n=t.addShape("path",{className:dY,name:dY,attrs:i});return t.shapeMap[dY]=n,n},drawLabel:function(e,t){var i=this.options.labelCfg,n=(0,mo.deepMix)({},i,e.labelCfg),a=this.getLabelStyle(e,n,t),o=a.rotate;delete a.rotate;var s=t.addShape("text",{attrs:a,name:"text-shape",labelRelated:!0,draggable:!0});if(t.shapeMap["text-shape"]=s,!isNaN(o)&&o!==""&&s.rotateAtStart(o),a.background){var l=this.drawLabelBg(e,t,s,a,o),u=this.itemType+hY;l.set("classname",u),t.shapeMap[u]=l,s.toFront()}return s},drawLabelBg:function(e,t,i,n,a){var o=this.options.labelCfg,s=(0,mo.deepMix)({},o,e.labelCfg),l=this.getLabelBgStyleByPosition(i,s),u=t.addShape("rect",{name:"text-bg-shape",attrs:l,labelRelated:!0});return t.shapeMap["text-bg-shape"]=u,u}},BNe=S(S({},lI),NNe);za.registerEdge("single-edge",BNe);za.registerEdge("line",{getControlPoints:function(){}},"single-edge");za.registerEdge("spline",{getPath:function(e){var t=Lrt(e);return t}},"single-edge");za.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(e){var t=e.startPoint,i=e.endPoint,n={x:(t.x+i.x)/2,y:(t.y+i.y)/2},a,o;if(e.controlPoints!==void 0){if(o=e.controlPoints[0],a=R6(t,o,i),t.x<=i.x&&t.y>i.y?this.clockwise=a.x>o.x?0:1:t.x<=i.x&&t.y<i.y?this.clockwise=a.x>o.x?1:0:t.x>i.x&&t.y<=i.y?this.clockwise=a.y<o.y?0:1:this.clockwise=a.y<o.y?1:0,(o.x-t.x)/(o.y-t.y)==(i.x-t.x)/(i.y-t.y))return[]}else{e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),(0,mo.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),e.curveOffset<0?this.clockwise=0:this.clockwise=1;var s={x:i.x-t.x,y:i.y-t.y},l=Math.atan2(s.y,s.x);o={x:e.curveOffset*Math.cos(-Math.PI/2+l)+n.x,y:e.curveOffset*Math.sin(-Math.PI/2+l)+n.y},a=R6(t,o,i)}var u=eI(t,a),f=[{x:u,y:u}];return f},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),e.length===2?t.push(["L",e[1].x,e[1].y]):t.push(["A",e[1].x,e[1].y,0,0,this.clockwise,e[2].x,e[2].y]),t}},"single-edge");za.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(e){var t=e.controlPoints;if(!t||!t.length){var i=e.startPoint,n=e.endPoint;e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,mo.isArray)(e.curveOffset)&&(e.curveOffset=e.curveOffset[0]),(0,mo.isArray)(e.curvePosition)&&(e.curvePosition=e.curveOffset[0]);var a=FF(i,n,e.curvePosition,e.curveOffset);t=[a]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["Q",e[1].x,e[1].y,e[2].x,e[2].y]),t}},"single-edge");za.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(e){var t=e.controlPoints;if(e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),(0,mo.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,mo.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]),!t||!t.length||t.length<2){var i=e.startPoint,n=e.endPoint,a=FF(i,n,e.curvePosition[0],e.curveOffset[0]),o=FF(i,n,e.curvePosition[1],e.curveOffset[1]);t=[a,o]}return t},getPath:function(e){var t=[];return t.push(["M",e[0].x,e[0].y]),t.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),t}},"single-edge");za.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,i=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,mo.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,mo.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,mo.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=i.y-t.y,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x,y:t.y+n*this.curvePosition[0]+a[0]},s={x:i.x,y:i.y-n*this.curvePosition[1]+a[1]};return[o,s]}},"cubic");za.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(e){var t=e.startPoint,i=e.endPoint;e.curvePosition===void 0&&(e.curvePosition=this.curvePosition),e.curveOffset===void 0&&(e.curveOffset=this.curveOffset),e.minCurveOffset===void 0&&(e.minCurveOffset=this.minCurveOffset),(0,mo.isNumber)(e.curveOffset)&&(e.curveOffset=[e.curveOffset,-e.curveOffset]),(0,mo.isNumber)(e.minCurveOffset)&&(e.minCurveOffset=[e.minCurveOffset,-e.minCurveOffset]),(0,mo.isNumber)(e.curvePosition)&&(e.curvePosition=[e.curvePosition,1-e.curvePosition]);var n=i.x-t.x,a=[0,0];e.curveOffset?a=e.curveOffset:Math.abs(n)<Math.abs(e.minCurveOffset[0])&&(a=e.minCurveOffset);var o={x:t.x+n*this.curvePosition[0]+a[0],y:t.y},s={x:i.x-n*this.curvePosition[1]+a[1],y:i.y},l=[o,s];return l}},"cubic");za.registerEdge("loop",{getPathPoints:function(e){return frt(e)},getControlPoints:function(e){return e.controlPoints},afterDraw:function(e){e.controlPoints=void 0},afterUpdate:function(e){e.controlPoints=void 0}},"cubic");var ax=et(ot());var RNe={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:yr.comboLabel.refX,refY:yr.comboLabel.refY,options:{style:{stroke:yr.defaultCombo.style.stroke,fill:yr.defaultCombo.style.fill,lineWidth:yr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yr.comboLabel.style.fill,fontSize:yr.comboLabel.style.fontSize,fontFamily:yr.windowFontFamily}},stateStyles:S({},yr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},getSize:function(e){var t=(0,ax.clone)(e.size||this.options.size||yr.defaultCombo.size);return(0,ax.isArray)(t)&&t.length===1&&(t=[t[0],t[0]]),(0,ax.isArray)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(e,t){var i=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,ax.isArray)(a)&&(a=Math.max.apply(Math,a));var o=t.refX,s=t.refY;(0,ax.isNil)(o)&&(o=this.refX),(0,ax.isNil)(s)&&(s=this.refY);var l=this.getSize(e),u=Math.max(n.r,l[0]/2)||l[0]/2,f=u+a,c;switch(i){case"top":c={x:0,y:-f-s,textBaseline:"bottom",textAlign:"center"};break;case"bottom":c={x:0,y:f+s,textBaseline:"bottom",textAlign:"center"};break;case"left":c={x:-f+o,y:0,textAlign:"left"};break;case"center":c={x:0,y:0,text:e.label,textAlign:"center"};break;default:c={x:f+o,y:0,textAlign:"right"};break}return c.text=e.label,c},drawShape:function(e,t){var i=this.shapeType,n=this.getShapeStyle(e),a=t.addShape(i,{attrs:n,draggable:!0,name:"combo-shape"});return a},updateCollapsedIcon:function(e,t,i){var n=e.collapsed,a=e.collapsedSubstituteIcon,o=a===void 0?{}:a,s=Object.assign({},this.options.collapsedSubstituteIcon,o),l=s.show,u=s.img,f=s.width,c=s.height,h=t.getContainer(),d=h.find(function(m){return m.get("name")==="combo-collapsed-substitute-icon"}),v=d&&!d.destroyed,p=t.get("keyShape");if(n&&l){if(v)d.show();else{var g={width:f||i.r*2||i.width,height:c||i.r*2||i.height};d=h.addShape("image",{attrs:S({img:u,x:-g.width/2,y:-g.height/2},g),name:"combo-collapsed-substitute-icon",draggable:!0})}p.hide()}else v&&(d.hide(),p.show())},updateShape:function(e,t,i){var n=this,a=t.get("keyShape"),o=t.get("animate"),s=o&&(e.animate===void 0?this.options.animate:e.animate);s&&a.animate?(e.collapsed||this.updateCollapsedIcon(e,t,i),a.animate(i,{duration:200,easing:"easeLinear",callback:function(){e.collapsed&&n.updateCollapsedIcon(e,t,i)}})):(a.attr(S({},i)),this.updateCollapsedIcon(e,t,i)),this.updateLabel(e,t)}},GNe=S(S({},lI),RNe);za.registerCombo("single-combo",GNe);var Ld=et(ot());za.registerCombo("circle",{options:{size:[yr.defaultCombo.size[0],yr.defaultCombo.size[0]],padding:Math.max.apply(Math,yr.defaultCombo.padding),animate:!0,style:{stroke:yr.defaultCombo.style.stroke,fill:yr.defaultCombo.style.fill,lineWidth:yr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yr.comboLabel.style.fill,fontSize:yr.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:S({},yr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"circle",labelPosition:"top",drawShape:function(e,t){var i=this.getShapeStyle(e);delete i.height,delete i.width;var n=t.addShape("circle",{attrs:i,className:"circle-combo",name:"circle-combo",draggable:!0});return n},getShapeStyle:function(e){var t=this.options.style,i=e.padding||this.options.padding;(0,Ld.isArray)(i)&&(i=Math.max.apply(Math,i));var n={stroke:e.color},a=(0,Ld.mix)({},t,n,e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;if(o)s=(0,Ld.isNumber)(o)?o/2:o[0]/2;else{var l=this.getSize(e);!(0,Ld.isNumber)(a.r)||isNaN(a.r)?s=l[0]/2||yr.defaultCombo.style.r:s=Math.max(a.r,l[0]/2)||l[0]/2}a.r=s+i;var u=S({x:0,y:0},a);return e.style?e.style.r=s:e.style={r:s},u},update:function(e,t){var i=this.getSize(e),n=e.padding||this.options.padding;(0,Ld.isArray)(n)&&(n=Math.max.apply(Math,n));var a=(0,Ld.clone)(e.style),o=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize,s;o?s=(0,Ld.isNumber)(o)?o/2:o[0]/2:s=Math.max(a.r,i[0]/2)||i[0]/2,a.r=s+n;var l=t.get("sizeCache");l&&(l.r=a.r);var u={stroke:e.color},f=t.get("keyShape"),c=(0,Ld.mix)({},f.attr(),u,a);e.style?e.style.r=s:e.style={r:s},this.updateShape(e,t,c,!0)}},"single-combo");var Au=et(ot());za.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:yr.defaultCombo.style.stroke,fill:yr.defaultCombo.style.fill,lineWidth:yr.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yr.comboLabel.style.fill,fontSize:yr.comboLabel.style.fontSize,fontFamily:yr.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:S({},yr.comboStateStyles),collapsedSubstituteIcon:{show:!1,img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*RsnHRqLfJn4AAAAAAAAAAAAAARQnAQ"}},shapeType:"rect",labelPosition:"top",drawShape:function(e,t){var i=this.getShapeStyle(e),n=t.addShape("rect",{attrs:i,className:"rect-combo",name:"rect-combo",draggable:!0});return n},getLabelStyleByPosition:function(e,t){var i=t.position||this.labelPosition,n=e.style,a=e.padding||this.options.padding;(0,Au.isNumber)(a)&&(a=[a,a,a,a]);var o=t.refX,s=t.refY;(0,Au.isNil)(o)&&(o=this.refX),(0,Au.isNil)(s)&&(s=this.refY);var l=-n.width/2-a[3],u=n.width/2+a[1],f=-n.height/2-a[0],c=n.height/2+a[2],h;switch(i){case"top":h={x:l+o,y:f+s,textBaseline:"top",textAlign:"left"};break;case"bottom":h={x:0,y:c+s,textBaseline:"top",textAlign:"center"};break;case"left":h={x:l+s,y:0,textAlign:"left"};break;case"center":h={x:0,y:0,text:e.label,textAlign:"center"};break;case"top-center":h={x:0,y:f+s,textBaseline:"top",textAlign:"center"};break;default:h={x:u+o,y:0,textAlign:"right"};break}return h.text=e.label,h},getShapeStyle:function(e){var t=this.options.style,i=e.padding||this.options.padding;(0,Au.isNumber)(i)&&(i=[i,i,i,i]);var n={stroke:e.color},a=(0,Au.mix)({},t,n,e.style),o=this.getSize(e),s,l,u=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;u?(0,Au.isNumber)(u)?(s=u,l=u):(s=u[0],l=u[1]):(!(0,Au.isNumber)(a.width)||isNaN(a.width)?s=o[0]||yr.defaultCombo.style.width:s=Math.max(a.width,o[0])||o[0],!(0,Au.isNumber)(a.height)||isNaN(a.height)?l=o[1]||yr.defaultCombo.style.height:l=Math.max(a.height,o[1])||o[1]);var f=-s/2-i[3],c=-l/2-i[0];a.width=s+i[1]+i[3],a.height=l+i[0]+i[2];var h=S({x:f,y:c},a);return e.style?(e.style.width=s,e.style.height=l):e.style={width:s,height:l},h},update:function(e,t){var i=this.getSize(e),n=e.padding||this.options.padding;(0,Au.isNumber)(n)&&(n=[n,n,n,n]);var a=(0,Au.clone)(e.style),o,s,l=e.collapsed&&e.fixCollapseSize?e.fixCollapseSize:e.fixSize;l?(0,Au.isNumber)(l)?(o=l,s=l):(o=l[0],s=l[1]):(o=Math.max(a.width,i[0])||i[0],s=Math.max(a.height,i[1])||i[1]),a.width=o+n[1]+n[3],a.height=s+n[0]+n[2];var u=t.get("sizeCache");u&&(u.width=a.width,u.height=a.height),a.x=-o/2-n[3],a.y=-s/2-n[0];var f={stroke:e.color},c=t.get("keyShape"),h=(0,Au.mix)({},c.attr(),f,a);e.style?(e.style.width=o,e.style.height=s):e.style={width:o,height:s},this.updateShape(e,t,h,!1)}},"single-combo");var Nrt=et(ot());za.registerNode("simple-circle",{options:{size:yr.defaultNode.size,style:{x:0,y:0,stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize,fontFamily:yr.windowFontFamily}},stateStyles:S({},yr.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",shapeMap:{},drawShape:function(e,t){var i=this.getShapeStyle(e),n="".concat(this.type,"-keyShape"),a=t.addShape("circle",{attrs:i,className:"".concat(this.type,"-keyShape"),name:n,draggable:!0});return t.shapeMap[n]=a,a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,Nrt.deepMix)({},t,i),a=this.getSize(e),o=a[0]/2,s=S({x:0,y:0,r:o},n);return s},update:function(e,t,i){var n=this.getSize(e),a={stroke:e.color,r:n[0]/2},o=t.get("keyShape"),s=(0,Nrt.deepMix)({},o.attr(),a,e.style);this.updateShape(e,t,s,!0,i)}},"single-node");var vY=et(ot());za.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:yr.defaultNode.style.stroke,fill:yr.defaultNode.style.fill,lineWidth:yr.defaultNode.style.lineWidth},labelCfg:{style:{fill:yr.nodeLabel.style.fill,fontSize:yr.nodeLabel.style.fontSize,fontFamily:yr.windowFontFamily}},anchorPoints:[[0,.5],[1,.5]],stateStyles:S({},yr.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(e,t){var i=this.getShapeStyle(e),n=t.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return n},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,vY.mix)({},t,i),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],l=S({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(e,t,i){var n=t.getContainer(),a=(this.mergeStyle||this.getOptions(e)).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var l={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=(0,vY.mix)({},a,s.attr(),l);u=(0,vY.mix)(u,e.style),this.updateShape(e,t,u,!1,i)}},"single-node");za.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,labelCfg:{style:{fontFamily:yr.windowFontFamily}},clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(e,t){var i=this.shapeType,n=this.getShapeStyle(e);delete n.fill;var a=t.addShape(i,{attrs:n,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return this.drawClip(e,a),a},drawClip:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).clipCfg;if(!!i.show){var n=i.type,a=i.x,o=i.y,s=i.style;if(n==="circle"){var l=i.r;t.setClip({type:"circle",attrs:S({r:l,x:a,y:o},s)})}else if(n==="rect"){var u=i.width,f=i.height,c=a-u/2,h=o-f/2;t.setClip({type:"rect",attrs:S({x:c,y:h,width:u,height:f},s)})}else if(n==="ellipse"){var d=i.rx,v=i.ry;t.setClip({type:"ellipse",attrs:S({x:a,y:o,rx:d,ry:v},s)})}else if(n==="polygon"){var p=i.points;t.setClip({type:"polygon",attrs:S({points:p},s)})}else if(n==="path"){var g=i.path;t.setClip({type:"path",attrs:S({path:g},s)})}}},getShapeStyle:function(e){var t=this.mergeStyle||this.getOptions(e),i=t.style,n=t.img,a=this.getSize(e),o=a[0],s=a[1];i&&(o=i.width||a[0],s=i.height||a[1]);var l=S({x:-o/2,y:-s/2,width:o,height:s,img:n},i);return l},updateShapeStyle:function(e,t){var i=t.getContainer(),n="".concat(this.itemType,"-shape"),a=i.shapeMap[n]||i.find(function(s){return s.get("className")===n})||t.getKeyShape(),o=this.getShapeStyle(e);a&&!a.destroyed&&a.attr(o)}},"single-node");var BF={triangle:function(e,t,i){e===void 0&&(e=10),t===void 0&&(t=15),i===void 0&&(i=0);var n=i*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2," L ").concat(n+t,",").concat(e/2," Z");return a},vee:function(e,t,i){e===void 0&&(e=15),t===void 0&&(t=20),i===void 0&&(i=0);var n=i*2,a="M ".concat(n,",0 L ").concat(n+t,",-").concat(e/2,`
        L `).concat(n+2*t/3,",0 L ").concat(n+t,",").concat(e/2," Z");return a},circle:function(e,t){e===void 0&&(e=5),t===void 0&&(t=0);var i=t*2,n="M ".concat(i,`, 0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(e*2,`,0
            a `).concat(e,",").concat(e," 0 1,0 ").concat(-e*2,",0");return n},rect:function(e,t,i){e===void 0&&(e=10),t===void 0&&(t=10),i===void 0&&(i=0);var n=i*2,a="M ".concat(n,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(-e/2,` 
        L `).concat(n+t,",").concat(e/2,` 
        L `).concat(n,",").concat(e/2," Z");return a},diamond:function(e,t,i){e===void 0&&(e=15),t===void 0&&(t=15),i===void 0&&(i=0);var n=i*2,a="M ".concat(n,`,0 
        L `).concat(n+t/2,",").concat(-e/2,` 
        L `).concat(n+t,`,0 
        L `).concat(n+t/2,",").concat(e/2," Z");return a},triangleRect:function(e,t,i,n,a,o){e===void 0&&(e=15),t===void 0&&(t=15),i===void 0&&(i=15),n===void 0&&(n=3),a===void 0&&(a=5),o===void 0&&(o=0);var s=o*2,l=s+t+a,u="M ".concat(s,",0 L ").concat(s+t,",-").concat(e/2," L ").concat(s+t,",").concat(e/2,` Z
            M `).concat(l,", -").concat(i/2,`
            L `).concat(l+n," -").concat(i/2,`
            L `).concat(l+n," ").concat(i/2,`
            L `).concat(l," ").concat(i/2,`
            Z`);return u}};var RF={collapse:function(e,t,i){return[["M",e-i,t],["a",i,i,0,1,0,i*2,0],["a",i,i,0,1,0,-i*2,0],["M",e-i+4,t],["L",e+i-4,t]]},expand:function(e,t,i){return[["M",e-i,t],["a",i,i,0,1,0,i*2,0],["a",i,i,0,1,0,-i*2,0],["M",e-i+4,t],["L",e-i+2*i-4,t],["M",e-i+i,t-i+4],["L",e,t+i-4]]},upTriangle:function(e,t,i){var n=i*Math.cos(Math.PI/6),a=i*Math.sin(Math.PI/6);return[["M",e-n,t+a],["L",e+n,t+a],["L",e,t-i],["Z"]]},downTriangle:function(e,t,i){var n=i*Math.cos(Math.PI/6),a=i*Math.sin(Math.PI/6);return[["M",e-n,t-a],["L",e+n,t-a],["L",e,t+i],["Z"]]}};var lm=za;var Brt={};ai(Brt,{defaultSubjectColors:()=>zNe});var zNe=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"];var Grt={};ai(Grt,{isForce:()=>Rrt});var Rrt=function(e){return e==="force"||e==="g6force"||e==="gForce"||e==="force2"};var jNe=Wr.transform,YNe=S(S(S(S(S(S(S({},yrt),vrt),krt),ort),Brt),Grt),{transform:jNe,mat3:Pe.mat3}),ma=YNe;var uI=et(ot());var WNe=function(){function r(e){this.graph=e,this.layoutCfg=e.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return r.prototype.initLayout=function(){},r.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},r.prototype.getLayoutCfgType=function(e){var t=e.type;if(t)return t;var i=e.pipes;return Array.isArray(i)?i.map(function(n){return(n==null?void 0:n.type)||""}):null},r.prototype.isLayoutTypeSame=function(e){var t=this.getLayoutCfgType(e),i=Array.isArray(this.layoutType),n=Array.isArray(t);return i&&n?this.layoutType.every(function(a,o){return a===t[o]}):Array.isArray(t)||Array.isArray(this.layoutType)?!1:(e==null?void 0:e.type)===this.layoutType},r.prototype.refreshLayout=function(){var e=this,t=e.graph,i=e.layoutType,n=e.layoutCfg,a=n===void 0?{}:n;if(!!t){var o=a.animate,s=o===void 0&&(i==="force"||i==="force2"),l=Rrt(i)&&(o||s);t.get("animate")&&!l?t.positionsAnimate(i==="comboCombined"):t.refreshPositions(i==="comboCombined")}},r.prototype.changeLayout=function(e){var t=e.disableTriggerLayout,i=Ze(e,["disableTriggerLayout"]);this.layoutCfg=i,this.layoutType=i.type||this.layoutType,!t&&this.layout()},r.prototype.changeData=function(e){this.layout(e)},r.prototype.destoryLayoutMethods=function(){var e=this.layoutMethods,t=[];return e==null||e.forEach(function(i){var n,a=(n=i.getType)===null||n===void 0?void 0:n.call(i);a&&t.push(a),i.destroy()}),this.layoutMethods=[],t},r.prototype.destroyLayout=function(){this.destoryLayoutMethods();var e=this.graph;e&&!e.get("destroyed")&&e.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},r.prototype.setDataFromGraph=function(){for(var e,t=[],i=[],n=[],a=[],o=[],s=[],l=[],u=this.graph.getNodes(),f=this.graph.getEdges(),c=this.graph.getCombos(),h=u.length,d=0;d<h;d++){var v=u[d];if(!(!v||v.destroyed)){var p=v.getModel();if(!v.isVisible()){i.push(p);continue}t.push(p)}}for(var g=f.length,d=0;d<g;d++){var m=f[d];if(!(!m||m.destroyed)){var p=m.getModel();if(!m.isVisible()){a.push(p);continue}p.isComboEdge?o.push(p):n.push(p)}}for(var y=c.length,d=0;d<y;d++){var x=c[d];if(!x.destroyed){var p=x.getModel();if(!x.isVisible()){l.push(p);continue}s.push(p)}}return{nodes:t,hiddenNodes:i,edges:n,hiddenEdges:a,combos:s,hiddenCombos:l,comboEdges:o,vedges:(e=this.graph.get("vedges"))===null||e===void 0?void 0:e.map(function(b){return b.getModel()})}},r.prototype.relayout=function(e){var t=this,i=this,n=i.graph,a=i.layoutMethods,o=i.layoutCfg;if(!(!n||n.get("destroyed"))){var s=Promise.resolve();if(e){this.data=this.setDataFromGraph();var l=this.data.nodes;if(!l)return!1;s=this.initPositions(o.center,l)}n.emit("beforelayout"),a==null||a.forEach(function(u,f){var c=o[f]||o;s=s.then(function(){var h,d=t.execLayoutMethod(c,f);return f===a.length-1&&((h=o.onAllLayoutEnd)===null||h===void 0||h.call(o)),d})})}},r.prototype.filterLayoutData=function(e,t){var i=e.nodes,n=e.edges,a=Ze(e,["nodes","edges"]);if(!i)return e;var o,s;(0,uI.isFunction)(t==null?void 0:t.nodesFilter)?o=t.nodesFilter:o=function(){return!0};var l=i.filter(o);if((0,uI.isFunction)(t==null?void 0:t.edgesFilter))s=t.edgesFilter;else{var u=l.reduce(function(f,c){return f[c.id]=!0,f},{});s=function(c){return u[c.source]&&u[c.target]}}return S({nodes:l,edges:n.filter(s)},a)},r.prototype.getLayoutBBox=function(e){var t=this.graph,i=(0,uI.groupBy)(t.getNodes(),function(o){return o.getModel().layoutOrder}),n=Object.values(i).map(function(o){var s=mrt(o);return s.size=[s.width,s.height],s}),a=Object.values((0,uI.groupBy)(e,"layoutOrder"));return{groupNodes:a,layoutNodes:n}},r.prototype.layoutAnimate=function(){},r.prototype.moveToZero=function(){var e=this.graph,t=e.get("data"),i=t.nodes;if(!(i[0].x===void 0||i[0].x===null||Td(i[0].x))){for(var n=[0,0],a=i.length,o=0;o<a;o++){var s=i[o];n[0]+=s.x,n[1]+=s.y}n[0]/=i.length,n[1]/=i.length;for(var o=0;o<a;o++){var s=i[o];s.x-=n[0],s.y-=n[1]}}},r.prototype.initPositions=function(e,t){var i;return ta(this,void 0,void 0,function(){var n,a,o;return ea(this,function(s){return n=this.graph,(t==null?void 0:t.length)?(a=t.filter(function(l){return Td(l.x)||Td(l.y)}),o=a?a.length:0,o?[2,(i=this.initWithPreset)===null||i===void 0?void 0:i.call(this,function(){},function(){var l=n.get("width")*.85,u=n.get("height")*.85,f=Math.ceil(Math.sqrt(o)*(l/u)),c=Math.ceil(o/f),h=l/(f-1),d=u/(c-1);(!isFinite(h)||!h)&&(h=0),(!isFinite(d)||!h)&&(d=0);for(var v=e[0]-l/2,p=e[1]-u/2,g=!0,m=0;m<o;m++){var y=a[m];Td(+y.x)&&(g=!1,y.x=m%f*h+v),Td(+y.y)&&(g=!1,y.y=Math.floor(m/f)*d+p)}})]:[2]):[2,Promise.resolve()]})})},r.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},r}(),pY=WNe;var VNe=function(){function r(e){this.graph=e,this.destroyed=!1,this.initEvents()}return r}(),gY=VNe;var xl=lm.registerNode,mY=lm.registerEdge,mRt=lm.registerCombo,yY=Aet.registerBehavior,lr=yr;var ain={version:yr.version,AbstractGraph:uY,BaseGlobal:lr,Util:ma,Shape:lm,Node:Yw,Edge:oI,Combo:eY,Hull:lY,registerNode:lm.registerNode,registerEdge:lm.registerEdge,registerCombo:lm.registerCombo,registerBehavior:Aet.registerBehavior,Arrow:BF,Marker:RF,AbstractLayout:pY,AbstractEvent:gY};var wnr=et(L3t());var Ou=et(ot());var vit={};ai(vit,{getColorSetsBySubjectColors:()=>d5e,getColorsWithSubjectColor:()=>ZY,mixColor:()=>Js});var pI=et(t5t());function HY(r){return HY=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HY(r)}var B3e=/^\s+/,R3e=/\s+$/;function ii(r,e){if(r=r||"",e=e||{},r instanceof ii)return r;if(!(this instanceof ii))return new ii(r,e);var t=G3e(r);this._originalInput=r,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}ii.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,n,a,o,s;return t=e.r/255,i=e.g/255,n=e.b/255,t<=.03928?a=t/12.92:a=Math.pow((t+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=o5t(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=r5t(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=r5t(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+n+"%)":"hsva("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=e5t(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=e5t(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+n+"%)":"hsla("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return i5t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return W3e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Fo(this._r,255)*100)+"%",g:Math.round(Fo(this._g,255)*100)+"%",b:Math.round(Fo(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Fo(this._r,255)*100)+"%, "+Math.round(Fo(this._g,255)*100)+"%, "+Math.round(Fo(this._b,255)*100)+"%)":"rgba("+Math.round(Fo(this._r,255)*100)+"%, "+Math.round(Fo(this._g,255)*100)+"%, "+Math.round(Fo(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:e5e[i5t(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+n5t(this._r,this._g,this._b,this._a),i=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var a=ii(e);i="#"+n5t(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,n=this._a<1&&this._a>=0,a=!t&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return ii(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(U3e,arguments)},brighten:function(){return this._applyModification(X3e,arguments)},darken:function(){return this._applyModification(Z3e,arguments)},desaturate:function(){return this._applyModification(V3e,arguments)},saturate:function(){return this._applyModification(q3e,arguments)},greyscale:function(){return this._applyModification(H3e,arguments)},spin:function(){return this._applyModification(K3e,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(J3e,arguments)},complement:function(){return this._applyCombination(Q3e,arguments)},monochromatic:function(){return this._applyCombination(t5e,arguments)},splitcomplement:function(){return this._applyCombination($3e,arguments)},triad:function(){return this._applyCombination(a5t,[3])},tetrad:function(){return this._applyCombination(a5t,[4])}};ii.fromRatio=function(r,e){if(HY(r)=="object"){var t={};for(var i in r)r.hasOwnProperty(i)&&(i==="a"?t[i]=r[i]:t[i]=UF(r[i]));r=t}return ii(r,e)};function G3e(r){var e={r:0,g:0,b:0},t=1,i=null,n=null,a=null,o=!1,s=!1;return typeof r=="string"&&(r=a5e(r)),HY(r)=="object"&&(ox(r.r)&&ox(r.g)&&ox(r.b)?(e=z3e(r.r,r.g,r.b),o=!0,s=String(r.r).substr(-1)==="%"?"prgb":"rgb"):ox(r.h)&&ox(r.s)&&ox(r.v)?(i=UF(r.s),n=UF(r.v),e=Y3e(r.h,i,n),o=!0,s="hsv"):ox(r.h)&&ox(r.s)&&ox(r.l)&&(i=UF(r.s),a=UF(r.l),e=j3e(r.h,i,a),o=!0,s="hsl"),r.hasOwnProperty("a")&&(t=r.a)),t=o5t(t),{ok:o,format:r.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function z3e(r,e,t){return{r:Fo(r,255)*255,g:Fo(e,255)*255,b:Fo(t,255)*255}}function e5t(r,e,t){r=Fo(r,255),e=Fo(e,255),t=Fo(t,255);var i=Math.max(r,e,t),n=Math.min(r,e,t),a,o,s=(i+n)/2;if(i==n)a=o=0;else{var l=i-n;switch(o=s>.5?l/(2-i-n):l/(i+n),i){case r:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-r)/l+2;break;case t:a=(r-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function j3e(r,e,t){var i,n,a;r=Fo(r,360),e=Fo(e,100),t=Fo(t,100);function o(u,f,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?u+(f-u)*6*c:c<1/2?f:c<2/3?u+(f-u)*(2/3-c)*6:u}if(e===0)i=n=a=t;else{var s=t<.5?t*(1+e):t+e-t*e,l=2*t-s;i=o(l,s,r+1/3),n=o(l,s,r),a=o(l,s,r-1/3)}return{r:i*255,g:n*255,b:a*255}}function r5t(r,e,t){r=Fo(r,255),e=Fo(e,255),t=Fo(t,255);var i=Math.max(r,e,t),n=Math.min(r,e,t),a,o,s=i,l=i-n;if(o=i===0?0:l/i,i==n)a=0;else{switch(i){case r:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-r)/l+2;break;case t:a=(r-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function Y3e(r,e,t){r=Fo(r,360)*6,e=Fo(e,100),t=Fo(t,100);var i=Math.floor(r),n=r-i,a=t*(1-e),o=t*(1-n*e),s=t*(1-(1-n)*e),l=i%6,u=[t,o,a,a,s,t][l],f=[s,t,t,o,a,a][l],c=[a,a,s,t,t,o][l];return{r:u*255,g:f*255,b:c*255}}function i5t(r,e,t,i){var n=[lp(Math.round(r).toString(16)),lp(Math.round(e).toString(16)),lp(Math.round(t).toString(16))];return i&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function W3e(r,e,t,i,n){var a=[lp(Math.round(r).toString(16)),lp(Math.round(e).toString(16)),lp(Math.round(t).toString(16)),lp(s5t(i))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function n5t(r,e,t,i){var n=[lp(s5t(i)),lp(Math.round(r).toString(16)),lp(Math.round(e).toString(16)),lp(Math.round(t).toString(16))];return n.join("")}ii.equals=function(r,e){return!r||!e?!1:ii(r).toRgbString()==ii(e).toRgbString()};ii.random=function(){return ii.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function V3e(r,e){e=e===0?0:e||10;var t=ii(r).toHsl();return t.s-=e/100,t.s=UY(t.s),ii(t)}function q3e(r,e){e=e===0?0:e||10;var t=ii(r).toHsl();return t.s+=e/100,t.s=UY(t.s),ii(t)}function H3e(r){return ii(r).desaturate(100)}function U3e(r,e){e=e===0?0:e||10;var t=ii(r).toHsl();return t.l+=e/100,t.l=UY(t.l),ii(t)}function X3e(r,e){e=e===0?0:e||10;var t=ii(r).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),ii(t)}function Z3e(r,e){e=e===0?0:e||10;var t=ii(r).toHsl();return t.l-=e/100,t.l=UY(t.l),ii(t)}function K3e(r,e){var t=ii(r).toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,ii(t)}function Q3e(r){var e=ii(r).toHsl();return e.h=(e.h+180)%360,ii(e)}function a5t(r,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=ii(r).toHsl(),i=[ii(r)],n=360/e,a=1;a<e;a++)i.push(ii({h:(t.h+a*n)%360,s:t.s,l:t.l}));return i}function $3e(r){var e=ii(r).toHsl(),t=e.h;return[ii(r),ii({h:(t+72)%360,s:e.s,l:e.l}),ii({h:(t+216)%360,s:e.s,l:e.l})]}function J3e(r,e,t){e=e||6,t=t||30;var i=ii(r).toHsl(),n=360/t,a=[ii(r)];for(i.h=(i.h-(n*e>>1)+720)%360;--e;)i.h=(i.h+n)%360,a.push(ii(i));return a}function t5e(r,e){e=e||6;for(var t=ii(r).toHsv(),i=t.h,n=t.s,a=t.v,o=[],s=1/e;e--;)o.push(ii({h:i,s:n,v:a})),a=(a+s)%1;return o}ii.mix=function(r,e,t){t=t===0?0:t||50;var i=ii(r).toRgb(),n=ii(e).toRgb(),a=t/100,o={r:(n.r-i.r)*a+i.r,g:(n.g-i.g)*a+i.g,b:(n.b-i.b)*a+i.b,a:(n.a-i.a)*a+i.a};return ii(o)};ii.readability=function(r,e){var t=ii(r),i=ii(e);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};ii.isReadable=function(r,e,t){var i=ii.readability(r,e),n,a;switch(a=!1,n=o5e(t),n.level+n.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};ii.mostReadable=function(r,e,t){var i=null,n=0,a,o,s,l;t=t||{},o=t.includeFallbackColors,s=t.level,l=t.size;for(var u=0;u<e.length;u++)a=ii.readability(r,e[u]),a>n&&(n=a,i=ii(e[u]));return ii.isReadable(r,i,{level:s,size:l})||!o?i:(t.includeFallbackColors=!1,ii.mostReadable(r,["#fff","#000"],t))};var cit=ii.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},e5e=ii.hexNames=r5e(cit);function r5e(r){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[r[t]]=t);return e}function o5t(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function Fo(r,e){i5e(r)&&(r="100%");var t=n5e(r);return r=Math.min(e,Math.max(0,parseFloat(r))),t&&(r=parseInt(r*e,10)/100),Math.abs(r-e)<1e-6?1:r%e/parseFloat(e)}function UY(r){return Math.min(1,Math.max(0,r))}function dh(r){return parseInt(r,16)}function i5e(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1}function n5e(r){return typeof r=="string"&&r.indexOf("%")!=-1}function lp(r){return r.length==1?"0"+r:""+r}function UF(r){return r<=1&&(r=r*100+"%"),r}function s5t(r){return Math.round(parseFloat(r)*255).toString(16)}function l5t(r){return dh(r)/255}var up=function(){var r="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+r+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ox(r){return!!up.CSS_UNIT.exec(r)}function a5e(r){r=r.replace(B3e,"").replace(R3e,"").toLowerCase();var e=!1;if(cit[r])r=cit[r],e=!0;else if(r=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=up.rgb.exec(r))?{r:t[1],g:t[2],b:t[3]}:(t=up.rgba.exec(r))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=up.hsl.exec(r))?{h:t[1],s:t[2],l:t[3]}:(t=up.hsla.exec(r))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=up.hsv.exec(r))?{h:t[1],s:t[2],v:t[3]}:(t=up.hsva.exec(r))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=up.hex8.exec(r))?{r:dh(t[1]),g:dh(t[2]),b:dh(t[3]),a:l5t(t[4]),format:e?"name":"hex8"}:(t=up.hex6.exec(r))?{r:dh(t[1]),g:dh(t[2]),b:dh(t[3]),format:e?"name":"hex"}:(t=up.hex4.exec(r))?{r:dh(t[1]+""+t[1]),g:dh(t[2]+""+t[2]),b:dh(t[3]+""+t[3]),a:l5t(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=up.hex3.exec(r))?{r:dh(t[1]+""+t[1]),g:dh(t[2]+""+t[2]),b:dh(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function o5e(r){var e,t;return r=r||{level:"AA",size:"small"},e=(r.level||"AA").toUpperCase(),t=(r.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}var XY=2,u5t=.16,s5e=.05,l5e=.05,u5e=.15,f5t=5,c5t=4,f5e=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function h5t(r,e,t){var i;return Math.round(r.h)>=60&&Math.round(r.h)<=240?i=t?Math.round(r.h)-XY*e:Math.round(r.h)+XY*e:i=t?Math.round(r.h)+XY*e:Math.round(r.h)-XY*e,i<0?i+=360:i>=360&&(i-=360),i}function d5t(r,e,t){if(r.h===0&&r.s===0)return r.s;var i;return t?i=r.s-u5t*e:e===c5t?i=r.s+u5t:i=r.s+s5e*e,i>1&&(i=1),t&&e===f5t&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function v5t(r,e,t){var i;return t?i=r.v+l5e*e:i=r.v-u5e*e,i>1&&(i=1),Number(i.toFixed(2))}function XF(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],i=ii(r),n=f5t;n>0;n-=1){var a=i.toHsv(),o=ii({h:h5t(a,n,!0),s:d5t(a,n,!0),v:v5t(a,n,!0)}).toHexString();t.push(o)}t.push(i.toHexString());for(var s=1;s<=c5t;s+=1){var l=i.toHsv(),u=ii({h:h5t(l,s),s:d5t(l,s),v:v5t(l,s)}).toHexString();t.push(u)}return e.theme==="dark"?f5e.map(function(f){var c=f.index,h=f.opacity,d=ii.mix(e.backgroundColor||"#141414",t[c],h*100).toHexString();return d}):t}var hit={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Eu={},dit={};Object.keys(hit).forEach(function(r){Eu[r]=XF(hit[r]),Eu[r].primary=Eu[r][5],dit[r]=XF(hit[r],{theme:"dark",backgroundColor:"#141414"}),dit[r].primary=dit[r][5]});var Qin=Eu.red,$in=Eu.volcano,Jin=Eu.gold,tnn=Eu.orange,enn=Eu.yellow,rnn=Eu.lime,inn=Eu.green,nnn=Eu.cyan,ann=Eu.blue,onn=Eu.geekblue,snn=Eu.purple,lnn=Eu.magenta,unn=Eu.grey;var Js=function(e,t,i){var n=(0,pI.default)(e),a=(0,pI.default)(t);return(0,pI.default)([(1-i)*n.red()+i*a.red(),(1-i)*n.green()+i*a.green(),(1-i)*n.blue()+i*a.blue()]).rgb()},c5e=function(e,t,i){t===void 0&&(t="#fff"),i===void 0&&(i="rgb(150, 150, 150)");var n=Js(t,e,.05).rgb().toString(),a=Js(t,e,.1).rgb().toString(),o=Js(t,e,.2).rgb().toString(),s=Js(t,e,.4).rgb().toString(),l=Js(t,i,.02).rgb().toString(),u=Js(t,i,.05).rgb().toString(),f=Js(t,i,.1).rgb().toString(),c=Js(t,i,.2).rgb().toString(),h=Js(t,i,.3).rgb().toString(),d=XF(e,{theme:"default",backgroundColor:t}),v=(0,pI.default)(e).hex().toLowerCase(),p=d.indexOf(v),g=e;return p!==-1&&(g=d[p+1]),{mainStroke:e,mainFill:a,activeStroke:e,activeFill:n,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:t,highlightStroke:g,highlightFill:o,disableStroke:h,disableFill:u,edgeMainStroke:h,edgeActiveStroke:e,edgeInactiveStroke:c,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:f,comboMainStroke:h,comboMainFill:l,comboActiveStroke:e,comboActiveFill:n,comboInactiveStroke:h,comboInactiveFill:l,comboSelectedStroke:e,comboSelectedFill:l,comboHighlightStroke:g,comboHighlightFill:l,comboDisableStroke:c,comboDisableFill:u}},h5e=function(e,t,i){t===void 0&&(t="#fff"),i===void 0&&(i="#777");var n=Js(t,e,.2).rgb().toString(),a=Js(t,e,.3).rgb().toString(),o=Js(t,e,.6).rgb().toString(),s=Js(t,e,.8).rgb().toString(),l=Js(t,i,.2).rgb().toString(),u=Js(t,i,.25).rgb().toString(),f=Js(t,i,.3).rgb().toString(),c=Js(t,i,.4).rgb().toString(),h=Js(t,i,.5).rgb().toString(),d=XF(e,{theme:"dark",backgroundColor:t}),v=(0,pI.default)(e).hex().toLowerCase(),p=d.indexOf(v),g=e;return p!==-1&&(g=d[p+1]),{mainStroke:s,mainFill:n,activeStroke:e,activeFill:a,inactiveStroke:s,inactiveFill:n,selectedStroke:e,selectedFill:n,highlightStroke:e,highlightFill:o,disableStroke:h,disableFill:u,edgeMainStroke:i,edgeActiveStroke:e,edgeInactiveStroke:i,edgeSelectedStroke:e,edgeHighlightStroke:e,edgeDisableStroke:f,comboMainStroke:c,comboMainFill:u,comboActiveStroke:e,comboActiveFill:l,comboInactiveStroke:c,comboInactiveFill:u,comboSelectedStroke:e,comboSelectedFill:l,comboHighlightStroke:g,comboHighlightFill:u,comboDisableStroke:c,comboDisableFill:l}},ZY=function(e,t,i,n){return t===void 0&&(t="#fff"),i===void 0&&(i="default"),n===void 0&&(n="rgb(150, 150, 150)"),i==="default"?c5e(e,t,"rgb(150, 150, 150)"):h5e(e,t,"#777")},d5e=function(e,t,i,n){t===void 0&&(t="#fff"),i===void 0&&(i="default"),n===void 0&&(n="rgb(150, 150, 150)");var a=[];return e.forEach(function(o){a.push(ZY(o,t,i,n))}),a};var v5e="rgb(95, 149, 255)",p5e="rgb(255, 255, 255)",p5t="rgb(0, 0, 0)",pn=ZY(v5e,p5e),fp={version:"0.8.23",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:pn.mainStroke,fill:pn.mainFill},size:20,color:pn.mainStroke,linkPoints:{size:8,lineWidth:1,fill:pn.activeFill,stroke:pn.activeStroke}},nodeStateStyles:{active:{fill:pn.activeFill,stroke:pn.activeStroke,lineWidth:2,shadowColor:pn.mainStroke,shadowBlur:10},selected:{fill:pn.selectedFill,stroke:pn.selectedStroke,lineWidth:4,shadowColor:pn.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:pn.highlightFill,stroke:pn.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:pn.inactiveFill,stroke:pn.inactiveStroke,lineWidth:1},disable:{fill:pn.disableFill,stroke:pn.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:p5t,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:pn.edgeMainStroke,lineAppendWidth:2},color:pn.edgeMainStroke},edgeStateStyles:{active:{stroke:pn.edgeActiveStroke,lineWidth:1},selected:{stroke:pn.edgeSelectedStroke,lineWidth:2,shadowColor:pn.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:pn.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:pn.edgeInactiveStroke,lineWidth:1},disable:{stroke:pn.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:p5t,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:pn.comboMainFill,lineWidth:1,stroke:pn.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:pn.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:pn.comboActiveStroke,lineWidth:1,fill:pn.comboActiveFill},selected:{stroke:pn.comboSelectedStroke,lineWidth:2,fill:pn.comboSelectedFill,shadowColor:pn.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:pn.comboHighlightStroke,lineWidth:2,fill:pn.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:pn.comboInactiveStroke,fill:pn.comboInactiveFill,lineWidth:1},disable:{stroke:pn.comboDisableStroke,fill:pn.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"};var g5t=function(e){var t=e.clone();return m5t(e,t),t},m5t=function(e,t){var i;e.isGroup()&&t.isGroup()&&((i=e.get("children"))===null||i===void 0||i.forEach(function(s,l){var u=t.get("children")[l];m5t(s,u)}));var n=e.get("type"),a=t.get("type");if(!(n!=="image"||a!=="image")){var o=e.get("clipShape");o&&t.setClip({type:o.get("type"),attrs:o.attr()})}};var sx=et(ot());var g5e=ma.cloneEvent,m5e=ma.isViewportChanged,y5e=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.extendEvents=[],i.dragging=!1,i.mousedown=!1,i.preItem=null,i.destroy(),i.graph=t,i.destroyed=!1,i.initEvents(),i}return e.prototype.initEvents=function(){var t=this,i=t.graph,n=t.extendEvents,a=n===void 0?[]:n,o=i.get("canvas"),s=o.get("el"),l=(0,sx.wrapBehavior)(this,"onCanvasEvents"),u=(0,sx.wrapBehavior)(this,"onExtendEvents"),f=(0,sx.wrapBehavior)(this,"onWheelEvent");o.off("*").on("*",l),this.canvasHandler=l,a.push(Xf(s,"wheel",f)),typeof window!="undefined"&&(a.push(Xf(window,"keydown",u)),a.push(Xf(window,"keyup",u)),a.push(Xf(window,"focus",u))),this.resetHandler&&i.off("afterchangedata",this.resetHandler),this.resetHandler=(0,sx.wrapBehavior)(this,"resetStatus"),i.on("afterchangedata",this.resetHandler)},e.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},e.prototype.onCanvasEvents=function(t){var i=this,n=this.graph,a=n.get("canvas"),o=t.target,s=t.type;switch(s){case"drag":this.onCanvasEvents(Object.assign({},t,{type:"mousemove"}));break;case"dragend":this.onCanvasEvents(Object.assign({},t,{type:"mouseup"}));break;case"mousedown":this.mousedown=!0;break;case"mouseup":setTimeout(function(){return i.mousedown=!1});break;case"click":if(!this.mousedown)return;break;default:break}t.canvasX=t.x,t.canvasY=t.y;var l={x:t.canvasX,y:t.canvasY},u=n.get("group"),f=u.getMatrix();if(f||(f=[1,0,0,0,1,0,0,0,1]),m5e(f)&&(l=n.getPointByClient(t.clientX,t.clientY)),t.x=l.x,t.y=l.y,t.currentTarget=n,o===a){(s==="mousemove"||s==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=a,t.item=null,n.emit(s,t),n.emit("canvas:".concat(s),t);return}var c=e.getItemRoot(o);if(!c){n.emit(s,t);return}var h=c.get("item");if(!h.destroyed){var d=h.getType();if(t.target=o,t.item=h,t.canvasX===t.x&&t.canvasY===t.y){var v=n.getCanvasByPoint(t.x,t.y);t.canvasX=v.x,t.canvasY=v.y}t.name&&!t.name.includes(":")?(n.emit("".concat(d,":").concat(s),t),n.emit(s,t)):t.name&&n.emit(t.name,t),s==="dragstart"&&(this.dragging=!0),s==="dragend"&&(this.dragging=!1),s==="mousemove"&&this.handleMouseMove(t,d)}},e.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},e.prototype.onWheelEvent=function(t){(0,sx.isNil)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},e.prototype.handleMouseMove=function(t,i){var n=this,a=n.graph,o=n.preItem,s=a.get("canvas"),l=t.target===s?null:t.item;t=g5e(t),o&&o!==l&&!o.destroyed&&(t.item=o,this.emitCustomEvent(o.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(o.getType(),"dragleave",t)),l&&o!==l&&(t.item=l,this.emitCustomEvent(i,"mouseenter",t),this.dragging&&this.emitCustomEvent(i,"dragenter",t)),this.preItem=l},e.prototype.emitCustomEvent=function(t,i,n){n.type=i,this.graph.emit("".concat(t,":").concat(i),n)},e.prototype.resetStatus=function(){this.mousedown=!1,this.dragging=!1,this.preItem=null},e.prototype.destroy=function(){var t=this,i=t.graph,n=t.canvasHandler,a=t.extendEvents,o=i.get("canvas");o.off("*",n),(0,sx.each)(a,function(s){s.remove()}),this.resetStatus(),this.extendEvents.length=0,this.canvasHandler=null,this.resetHandler=null,this.destroyed=!0},e}(gY),pit=y5e;var ei=et(d8t());var kut=et(Eut());var Tut={};ai(Tut,{arrayToTextureData:()=>Ker,attributesToTextureData:()=>Zer,buildTextureData:()=>Her,buildTextureDataWithOneEdgeAttr:()=>Uer,buildTextureDataWithTwoEdgeAttr:()=>Xer,proccessToFunc:()=>qer,radialLayout:()=>Qer});var v8t=et(ot()),p8t=ma.traverseTree,qer=function(e,t){var i;return e?(0,v8t.isNumber)(e)?i=function(a){return e}:i=e:i=function(a){return t||1},i},Her=function(e,t){var i=[],n=[],a={},o=0;for(o=0;o<e.length;o++){var s=e[o];a[s.id]=o,i.push(s.x),i.push(s.y),i.push(0),i.push(0),n.push([])}for(o=0;o<t.length;o++){var l=t[o];n[a[l.source]].push(a[l.target]),n[a[l.target]].push(a[l.source])}var u=0;for(o=0;o<e.length;o++){var f=i.length,c=n[o],h=c.length;i[o*4+2]=f,i[o*4+3]=c.length,u=Math.max(u,c.length);for(var d=0;d<h;++d){var v=c[d];i.push(+v)}}for(;i.length%4!=0;)i.push(0);return{array:new Float32Array(i),maxEdgePerVetex:u}},Uer=function(e,t,i){var n=[],a=[],o={},s=0;for(s=0;s<e.length;s++){var l=e[s];o[l.id]=s,n.push(l.x),n.push(l.y),n.push(0),n.push(0),a.push([])}for(s=0;s<t.length;s++){var u=t[s];a[o[u.source]].push(o[u.target]),a[o[u.source]].push(i(u)),a[o[u.target]].push(o[u.source]),a[o[u.target]].push(i(u))}var f=0;for(s=0;s<e.length;s++){var c=n.length,h=a[s],d=h.length;n[s*4+2]=c,n[s*4+3]=d/2,f=Math.max(f,d/2);for(var v=0;v<d;++v){var p=h[v];n.push(+p)}}for(;n.length%4!=0;)n.push(0);return{array:new Float32Array(n),maxEdgePerVetex:f}},Xer=function(e,t,i,n){var a=[],o=[],s={},l=0;for(l=0;l<e.length;l++){var u=e[l];s[u.id]=l,a.push(u.x),a.push(u.y),a.push(0),a.push(0),o.push([])}for(l=0;l<t.length;l++){var f=t[l];o[s[f.source]].push(s[f.target]),o[s[f.source]].push(i(f)),o[s[f.source]].push(n(f)),o[s[f.source]].push(0),o[s[f.target]].push(s[f.source]),o[s[f.target]].push(i(f)),o[s[f.target]].push(n(f)),o[s[f.target]].push(0)}var c=0;for(l=0;l<e.length;l++){var h=a.length,d=o[l],v=d.length;a[l*4+2]=h+1048576*v/4,a[l*4+3]=0,c=Math.max(c,v/4);for(var p=0;p<v;++p){var g=d[p];a.push(+g)}}for(;a.length%4!=0;)a.push(0);return{array:new Float32Array(a),maxEdgePerVetex:c}},Zer=function(e,t){var i=[],n=e.length,a={};return t.forEach(function(o){e.forEach(function(s,l){if(a[o[s]]===void 0&&(a[o[s]]=Object.keys(a).length),i.push(a[o[s]]),l===n-1)for(;i.length%4!=0;)i.push(0)})}),{array:new Float32Array(i),count:Object.keys(a).length}},Ker=function(e){for(var t=[],i=e.length,n=e[0].length,a=function(l){e.forEach(function(u,f){if(t.push(u[l]),f===i-1)for(;t.length%4!=0;)t.push(0)})},o=0;o<n;o++)a(o);return new Float32Array(t)},Qer=function(e,t){var i=["V","TB","BT"],n={x:1/0,y:1/0},a={x:-1/0,y:-1/0},o="x",s="y";t&&i.indexOf(t)>=0&&(s="x",o="y");var l=0;p8t(e,function(c){return l++,c.x>a.x&&(a.x=c.x),c.x<n.x&&(n.x=c.x),c.y>a.y&&(a.y=c.y),c.y<n.y&&(n.y=c.y),!0});var u=Math.PI*2/l,f=a[s]-n[s];return f===0||p8t(e,function(c){var h=(c[s]-n[s])/f*(Math.PI*2-u)+u,d=Math.abs(o==="x"?c.x-e.x:c.y-e.y);return c.x=d*Math.cos(h),c.y=d*Math.sin(h),!0}),e};var Iut={};ai(Iut,{gpuDetector:()=>S8});var S8=function(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var i=t.parent!==void 0?t.parent:document.body,n=t.id!==void 0?t.id:"oldie",a=S8().getWebGLErrorMessage();a.id=n,i.appendChild(a)}}};var Out={};ai(Out,{getBrowserName:()=>Lut});var Lut=function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("firefox")>-1?"firefox":e.indexOf("safari")>-1?"safari":e.indexOf("opr")>-1?"opera":e.indexOf("chrome")>-1?"chrome":e.indexOf("trident")>-1?"ie 11":e.indexOf("ie")>-1?"ie":"unknown"};var $er=S(S(S(S(S({},ma),vit),Tut),Iut),Out),vf=$er;var Jer=vf.radialLayout,trr=function(){function r(e){this.type=e.type,this.radial=e.radial,this.config=e}return r.prototype.init=function(e){var t=this;if(this.data=e,this.radial){this.layoutMethod=function(i){var n=kut.default[t.type](i,t.config);return Jer(n),n};return}this.layoutMethod=function(i){return kut.default[t.type](i,t.config)}},r.prototype.execute=function(){return this.layoutMethod(this.data,this.config)},r.prototype.layout=function(e){return this.init(e),this.execute()},r}(),Put=trr;(0,ei.registerLayout)("grid",ei.GridLayout);(0,ei.registerLayout)("random",ei.RandomLayout);(0,ei.registerLayout)("force",ei.ForceLayout);(0,ei.registerLayout)("circular",ei.CircularLayout);(0,ei.registerLayout)("dagre",ei.DagreLayout);(0,ei.registerLayout)("dagreCompound",ei.DagreCompoundLayout);(0,ei.registerLayout)("radial",ei.RadialLayout);(0,ei.registerLayout)("concentric",ei.ConcentricLayout);(0,ei.registerLayout)("mds",ei.MDSLayout);(0,ei.registerLayout)("fruchterman",ei.FruchtermanLayout);(0,ei.registerLayout)("fruchterman-gpu",ei.FruchtermanGPULayout);(0,ei.registerLayout)("gForce",ei.GForceLayout);(0,ei.registerLayout)("force2",ei.Force2Layout);(0,ei.registerLayout)("gForce-gpu",ei.GForceGPULayout);(0,ei.registerLayout)("comboForce",ei.ComboForceLayout);(0,ei.registerLayout)("comboCombined",ei.ComboCombinedLayout);(0,ei.registerLayout)("forceAtlas2",ei.ForceAtlas2Layout);var g8t=function(e,t){t.isCustomLayout=!0,ei.Layouts[e]=(0,ei.registerLayout)(e,t)};var err=function(){function r(e,t){var i=e.toString(),n=new Blob(["importScripts('".concat(t,"');(").concat(i,")()")],{type:"text/javascript"});return new Worker(URL.createObjectURL(n))}return r}(),m8t=err;var y8t=function(e){e===void 0&&(e="https://unpkg.com/@antv/layout@0.3.23/dist/layout.min.js");function t(){var n={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("force2",layout.Force2Layout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("dagreCompound",layout.DagreCompoundLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("comboCombined",layout.ComboCombinedLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function a(s){var l=s.data.type;return l===n.RUN||l===n.GPURUN}function o(s){var l=this,u=s.data.type;switch(u){case n.RUN:{var f=s.data,c=f.nodes,h=f.edges,d=f.layoutCfg,v=d===void 0?{}:d,p=v.type,g=layout.getLayoutByName(p);if(!g){this.postMessage({type:n.ERROR,message:"layout ".concat(p," not found")});break}var m;v.onLayoutEnd=function(){l.postMessage({type:n.END,nodes:c}),m==null||m.destroy()},m=new g(v),m.init({nodes:c,edges:h}),m.execute();break}case n.GPURUN:{var y=s.data,x=y.nodes,h=y.edges,b=y.layoutCfg,v=b===void 0?{}:b,_=y.canvas,p=v.type,g=layout.getLayoutByName(p);if(!g){this.postMessage({type:n.ERROR,message:"layout ".concat(p," not found")});break}if(p.split("-")[1]!=="gpu"){this.postMessage({type:n.ERROR,message:"layout ".concat(p," does not support GPU")});break}var M=new g(v);M.init({nodes:x,edges:h}),M.executeWithWorker(_,this);break}default:break}}onmessage=function(l){a(l)&&o(l)}}var i=new m8t(t,e);return i};var AM={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};var C8=et(ot());function Dut(r){return Dut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dut(r)}var x8t=function(e){return setTimeout(e,16)},b8t=function(e){return clearTimeout(e)},M8={requestAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||x8t;return t(e)},cancelAnimationFrame:function(e){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||b8t;return t(e)}},rrr=["fruchterman","gForce"],irr=["force","grid","circular"],nrr=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.graph=t,i.layoutCfg=t.get("layout")||{},i.layoutType=i.getLayoutType(),i.worker=null,i.workerData={},i.initLayout(),i}return e.prototype.initLayout=function(){},e.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=y8t(this.layoutCfg.workerScriptURL),this.worker)},e.prototype.stopWorker=function(){var t=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,t.requestId&&(M8.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(M8.cancelAnimationFrame(t.requestId2),t.requestId2=null))},e.prototype.execLayoutMethod=function(t,i){var n=this;return new Promise(function(a,o){return ta(n,void 0,void 0,function(){var s,l,u,f,c,h,d,v,p,h,g;return ea(this,function(m){switch(m.label){case 0:if(s=this.graph,!s||s.get("destroyed"))return[2];l=t.type,t.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),a()},l&&this.isGPU&&(w8t(l)?l="".concat(l,"-gpu"):console.warn("The '".concat(l,"' layout does not support GPU calculation for now, it will run in CPU."))),ma.isForce(l)?(u=t.onTick,f=t.animate,c=f===void 0&&(l==="force"||l==="force2"),h=function(){u&&u(),(f||c)&&s.refreshPositions()},t.tick=h):(l==="comboForce"||l==="comboCombined")&&(t.comboTrees=s.get("comboTrees")),d=!1;try{v=new ei.Layouts[l](t),this.layoutMethods[i]&&this.layoutMethods[i].destroy(),this.layoutMethods[i]=v}catch(y){console.warn("The layout method: '".concat(l,"' does not exist! Please specify it first.")),o()}return d=v.enableTick,d&&(p=t.onTick,h=function(){p&&p(),s.refreshPositions()},v.tick=h),g=this.filterLayoutData(this.data,t),srr(g,i),v.init(g),s.emit("beforesublayout",{type:l}),[4,v.execute()];case 1:return m.sent(),v.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),[2]}})})})},e.prototype.updateLayoutMethod=function(t,i){var n=this;return new Promise(function(a,o){return ta(n,void 0,void 0,function(){var s,l,u,f,c,h,d;return ea(this,function(v){switch(v.label){case 0:return s=this.graph,l=i==null?void 0:i.type,i.onLayoutEnd=function(){s.emit("aftersublayout",{type:l}),a()},ma.isForce(l)&&(u=i.onTick,f=i.animate,c=f===void 0&&(l==="force"||l==="force2"),h=function(){u==null||u(),(f||c)&&s.refreshPositions()},i.tick=h),d=this.filterLayoutData(this.data,i),t.init(d),t.updateCfg(i),s.emit("beforesublayout",{type:l}),[4,t.execute()];case 1:return v.sent(),t.isCustomLayout&&i.onLayoutEnd&&i.onLayoutEnd(),[2]}})})})},e.prototype.layout=function(t){var i=this,n,a=this.graph;if(!(!a||a.get("destroyed"))){this.data=this.setDataFromGraph();var o=this.data,s=o.nodes,l=o.hiddenNodes;if(!s)return!1;var u=a.get("width"),f=a.get("height"),c={};Object.assign(c,{width:u,height:f,center:[u/2,f/2]},this.layoutCfg),this.layoutCfg=c;var h=c.type,d=!1;(n=this.layoutMethods)===null||n===void 0||n.forEach(function(_){var M;return d=!!((M=_.nodes)===null||M===void 0?void 0:M.length)||d});var v=this.destoryLayoutMethods();a.emit("beforelayout");var p=Promise.resolve();d&&h&&(v==null?void 0:v.length)===1&&v[0]===h?this.tweakInit():p=this.initPositions(c.center,s);var g=this.initPositions(c.center,l);g.then(),this.isGPU=_8t(c,h);var m=c.onLayoutEnd,y=c.layoutEndFormatted,x=c.adjust;if(y||(c.layoutEndFormatted=!0,c.onAllLayoutEnd=function(){return ta(i,void 0,void 0,function(){return ea(this,function(_){switch(_.label){case 0:return m&&m(s),this.refreshLayout(),x&&c.pipes?[4,this.adjustPipesBox(this.data,x)]:[3,2];case 1:_.sent(),this.refreshLayout(),_.label=2;case 2:return a.emit("afterlayout"),[2]}})})}),this.stopWorker(),c.workerEnabled&&this.layoutWithWorker(this.data,t))return!0;var b=!1;return c.type?(b=!0,p=p.then(function(){return ta(i,void 0,void 0,function(){return ea(this,function(_){switch(_.label){case 0:return[4,this.execLayoutMethod(c,0)];case 1:return[2,_.sent()]}})})})):c.pipes&&(b=!0,c.pipes.forEach(function(_,M){p=p.then(function(){return ta(i,void 0,void 0,function(){return ea(this,function(A){switch(A.label){case 0:return[4,this.execLayoutMethod(_,M)];case 1:return[2,A.sent()]}})})})})),b?p.then(function(){c.onAllLayoutEnd&&c.onAllLayoutEnd(),t&&t()}).catch(function(_){console.warn("graph layout failed,",_)}):(a.refreshPositions(),t==null||t()),!1}},e.prototype.tweakInit=function(){var t=this,i=t.data,n=t.graph,a=i.nodes,o=i.edges;if(!!(a==null?void 0:a.length)){var s={};a.forEach(function(f){var c=f.x,h=f.y;!isNaN(c)&&!isNaN(h)&&(s[f.id]={x:c,y:h},f.mass=f.mass||2)}),o.forEach(function(f){var c=f.source,h=f.target,d=s[c],v=s[h];!d&&v?s[c]={x:v.x+(Math.random()-.5)*80,y:v.y+(Math.random()-.5)*80}:!v&&d&&(s[h]={x:d.x+(Math.random()-.5)*80,y:d.y+(Math.random()-.5)*80})});var l=n.get("width"),u=n.get("height");a.forEach(function(f){var c=s[f.id]||{x:l/2+(Math.random()-.5)*20,y:u/2+(Math.random()-.5)*20};f.x=c.x,f.y=c.y})}},e.prototype.initWithPreset=function(t,i){var n=this;return new Promise(function(a,o){return ta(n,void 0,void 0,function(){var s,l,u,f,c,h,d;return ea(this,function(v){switch(v.label){case 0:return s=this,l=s.layoutCfg,u=s.data,f=l.preset,!(f==null?void 0:f.type)||!ei.Layouts[f==null?void 0:f.type]?(i==null||i(),a(),[2,!1]):(c=_8t(f,f.type),h=c?"".concat(f.type,"-gpu"):f.type,d=new ei.Layouts[h](f),delete l.preset,d.init(u),[4,d.execute()]);case 1:return v.sent(),t==null||t(),a(),[2,!0]}})})})},e.prototype.layoutWithWorker=function(t,i){var n=this,a=this,o=a.layoutCfg,s=a.graph,l=this.getWorker(),u=this.workerData;if(!l)return!1;u.requestId=null,u.requestId2=null,u.currentTick=null,u.currentTickData=null,s.emit("beforelayout");var f=Promise.resolve(),c=!1;if(o.type)c=!0,f=f.then(function(){return n.runWebworker(l,t,o)});else if(o.pipes){c=!0;for(var h=function(m){f=f.then(function(){return n.runWebworker(l,t,m)})},d=0,v=o.pipes;d<v.length;d++){var p=v[d];h(p)}}return c&&f.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd(),i==null||i()}).catch(function(g){console.error("layout failed",g)}),!0},e.prototype.runWebworker=function(t,i,n){var a=this,o=this.isGPU,s=this.filterLayoutData(i,n),l=s.nodes,u=s.edges,f=document.createElement("canvas"),c=o&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in f,h=arr(n,function(v){return typeof v!="function"});if(!c)t.postMessage({type:AM.RUN,nodes:l,edges:u,layoutCfg:h});else{var d=f.transferControlToOffscreen();h.type="".concat(h.type,"-gpu"),t.postMessage({type:AM.GPURUN,nodes:l,edges:u,layoutCfg:h,canvas:d},[d])}return new Promise(function(v,p){t.onmessage=function(g){a.handleWorkerMessage(v,p,g,s,n)}})},e.prototype.handleWorkerMessage=function(t,i,n,a,o){var s=this,l=s.graph,u=s.workerData,f=n.data,c=f.type,h=function(){o.onTick&&o.onTick()};switch(c){case AM.TICK:u.currentTick=f.currentTick,u.currentTickData=f,u.requestId||(u.requestId=M8.requestAnimationFrame(function(){Nut(a,f),l.refreshPositions(),h(),f.currentTick===f.totalTicks?t():u.currentTick===f.totalTicks&&(u.requestId2=M8.requestAnimationFrame(function(){Nut(a,u.currentTickData),l.refreshPositions(),u.requestId2=null,h(),t()})),u.requestId=null}));break;case AM.END:u.currentTick==null&&(Nut(a,f),t());break;case AM.GPUEND:u.currentTick==null&&(orr(a,f),t());break;case AM.ERROR:console.warn("Web-Worker layout error!",f.message),i();break;default:i();break}},e.prototype.updateLayoutCfg=function(t){var i=this,n=this,a=n.graph,o=n.layoutMethods;if(!(!a||a.get("destroyed"))){var s=t.disableTriggerLayout,l=Ze(t,["disableTriggerLayout"]),u=(0,C8.mix)({},this.layoutCfg,l);if(this.layoutCfg=u,!s){if(!(o==null?void 0:o.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(l.workerEnabled&&this.layoutWithWorker(this.data,null))){a.emit("beforelayout");var f=Promise.resolve(),c=!1;(o==null?void 0:o.length)===1?(c=!0,f=f.then(function(){return ta(i,void 0,void 0,function(){return ea(this,function(h){switch(h.label){case 0:return[4,this.updateLayoutMethod(o[0],u)];case 1:return[2,h.sent()]}})})})):(o==null?void 0:o.length)&&(c=!0,o.forEach(function(h,d){var v=u.pipes[d];f=f.then(function(){return ta(i,void 0,void 0,function(){return ea(this,function(p){switch(p.label){case 0:return[4,this.updateLayoutMethod(h,v)];case 1:return[2,p.sent()]}})})})})),c&&f.then(function(){u.onAllLayoutEnd&&u.onAllLayoutEnd()}).catch(function(h){console.warn("layout failed",h)})}}}},e.prototype.adjustPipesBox=function(t,i){var n=this;return new Promise(function(a){var o=t.nodes;(o==null?void 0:o.length)||a(),irr.includes(i)||(console.warn("The adjust type ".concat(i," is not supported yet, please assign it with 'force', 'grid', or 'circular'.")),a());var s={center:n.layoutCfg.center,nodeSize:function(v){return Math.max(v.height,v.width)},preventOverlap:!0,onLayoutEnd:function(){}},l=n.getLayoutBBox(o),u=l.groupNodes,f=l.layoutNodes,c=(0,C8.clone)(f);s.onLayoutEnd=function(){f==null||f.forEach(function(d,v){var p,g,m,y=d.x-((p=c[v])===null||p===void 0?void 0:p.x),x=d.y-((g=c[v])===null||g===void 0?void 0:g.y);(m=u[v])===null||m===void 0||m.forEach(function(b){b.x+=y,b.y+=x})}),a()};var h=new ei.Layouts[i](s);h.layout({nodes:f})})},e.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},e}(pY),Fut=nrr;function Nut(r,e){for(var t=r.nodes,i=e.nodes,n=t.length,a=0;a<n;a++){var o=t[a];o.x=i[a].x,o.y=i[a].y}}function arr(r,e){var t={};return r&&Dut(r)==="object"?(Object.keys(r).forEach(function(i){r.hasOwnProperty(i)&&e(r[i])&&(t[i]=r[i])}),t):r}function orr(r,e){for(var t=r.nodes,i=e.vertexEdgeData,n=t.length,a=0;a<n;a++){var o=t[a],s=i[4*a],l=i[4*a+1];o.x=s,o.y=l}}function srr(r,e){var t;if(!!((t=r==null?void 0:r.nodes)===null||t===void 0?void 0:t.length)){var i=r.nodes;i.forEach(function(n){n.layoutOrder=e})}}function w8t(r){return rrr.includes(r)}function _8t(r,e){var t=e;e&&e.split("-")[1]==="gpu"&&(t=e.split("-")[0],r.gpuEnabled=!0);var i=!1;return r.gpuEnabled&&(i=!0,S8().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),i=!1)),i&&!w8t(t)&&(console.warn("The '".concat(t,"' layout does not support GPU calculation for now, it will run in CPU.")),i=!1),i}var S8t=Wr.transform,lrr="svg",urr=function(r){G(e,r);function e(t){var i=r.call(this,t)||this,n=i.get("defaultNode");return n||i.set("defaultNode",{type:"circle"}),n.type||(n.type="circle",i.set("defaultNode",n)),i.destroyed=!1,i}return e.prototype.initLayoutController=function(){var t=new Fut(this);this.set({layoutController:t})},e.prototype.initEventController=function(){var t=new pit(this);this.set({eventController:t})},e.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var i=t.clientWidth,n=t.clientHeight,a=this.get("width")||i,o=this.get("height")||n;!this.get("width")&&!this.get("height")&&(this.set("width",i),this.set("height",n));var s=this.get("renderer"),l;if(s===lrr)l=new jg({container:t,width:a,height:o});else{var u={container:t,width:a,height:o},f=this.get("pixelRatio");f&&(u.pixelRatio=f,window.devicePixelRatio=f),l=new wu(u)}this.set("canvas",l)},e.prototype.initPlugins=function(){var t=this;(0,Ou.each)(t.get("plugins"),function(i){!i.destroyed&&i.initPlugin&&i.initPlugin(t)})},e.prototype.downloadImageWatermark=function(t,i,n,a){return ta(this,void 0,void 0,function(){var o,s,l;return ea(this,function(u){switch(u.label){case 0:return o=t.style.backgroundImage,s=o.slice(5,o.length-2),l=new Image,l.src=s,[4,new Promise(function(f){l.onload=function(){var c=i.createPattern(l,"repeat");i.rect(0,0,n,a),i.fillStyle=c,i.fill(),f("")}})];case 1:return u.sent(),[2]}})})},e.prototype.asyncToDataUrl=function(t,i,n,a,o,s){var l=this,u=document.querySelector(".g6-graph-watermarker"),f=this.get("canvas"),c=f.getRenderer(),h=s||f.get("el"),d="";t||(t="image/png"),setTimeout(function(){return ta(l,void 0,void 0,function(){var v,p,g,m,y,x,b,_,M,A;return ea(this,function(I){switch(I.label){case 0:return c!=="svg"?[3,1]:(v=h.cloneNode(!0),p=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),g=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",p),g.replaceChild(v,g.documentElement),m=new XMLSerializer().serializeToString(g),d="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(m)),[3,4]);case 1:return y=void 0,x=h.getContext("2d"),b=a||this.get("width"),_=o||this.get("height"),M=void 0,u?[4,this.downloadImageWatermark(u,x,b,_)]:[3,3];case 2:I.sent(),I.label=3;case 3:if(i){A=typeof window!="undefined"?window.devicePixelRatio:1;try{y=x.getImageData(0,0,b*A,_*A),M=x.globalCompositeOperation,x.globalCompositeOperation="destination-over",x.fillStyle=i,x.fillRect(0,0,b,_)}catch(k){console.error("Download image failed. Out of memory at ImageData creation")}}d=h.toDataURL(t),i&&(x.clearRect(0,0,b,_),x.putImageData(y,0,0),x.globalCompositeOperation=M),I.label=4;case 4:return n&&n(d),[2]}})})},16)},e.prototype.toDataURL=function(t,i){var n=this.get("canvas"),a=n.getRenderer(),o=n.get("el");t||(t="image/png");var s="";if(a==="svg"){var l=o.cloneNode(!0),u=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),f=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",u);f.replaceChild(l,f.documentElement);var c=new XMLSerializer().serializeToString(f);s="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(c))}else{var h=void 0,d=o.getContext("2d"),v=Math.max(this.get("width"),500),p=Math.max(this.get("height"),500),g=void 0;if(i){var m=typeof window!="undefined"&&window.devicePixelRatio||1;try{h=d.getImageData(0,0,v*m,p*m),g=d.globalCompositeOperation,d.globalCompositeOperation="destination-over",d.fillStyle=i,d.fillRect(0,0,v,p)}catch(y){console.error("Download image failed. Out of memory at ImageData creation")}}s=o.toDataURL(t),i&&(d.clearRect(0,0,v,p),d.putImageData(h,0,0),d.globalCompositeOperation=g)}return s},e.prototype.toFullDataURL=function(t,i,n){var a=this.get("group").getCanvasBBox(),o=a.height,s=a.width,l=this.get("renderer"),u=gi('<div id="virtual-image"></div>'),f=n?n.backgroundColor:void 0,c=n?n.padding:void 0;c?(0,Ou.isNumber)(c)&&(c=[c,c,c,c]):c=[0,0,0,0];var h=o+c[0]+c[2],d=s+c[1]+c[3],v={container:u,height:h,width:d,quickHit:!0},p=l==="svg"?new jg(v):new wu(v),g=this.get("group"),m=g.clone(),y=(0,Ou.clone)(m.getMatrix());y||(y=[1,0,0,0,1,0,0,0,1]);var x=(a.maxX+a.minX)/2,b=(a.maxY+a.minY)/2;y=S8t(y,[["t",-x,-b],["t",s/2+c[3],o/2+c[0]]]),m.resetMatrix(),m.setMatrix(y),p.add(m);var _=p.get("el"),M="";i||(i="image/png"),setTimeout(function(){if(l==="svg"){var A=_.cloneNode(!0),I=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),k=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",I);k.replaceChild(A,k.documentElement);var E=new XMLSerializer().serializeToString(k);M="data:image/svg+xml;charset=utf8,".concat(encodeURIComponent(E))}else{var O=void 0,P=_.getContext("2d"),N=void 0;if(f){var R=typeof window!="undefined"?window.devicePixelRatio:1;try{O=P.getImageData(0,0,d*R,h*R),N=P.globalCompositeOperation,P.globalCompositeOperation="destination-over",P.fillStyle=f,P.fillRect(0,0,d,h)}catch(z){console.error("Download image failed. Out of memory at ImageData creation")}}M=_.toDataURL(i),f&&(P.clearRect(0,0,d,h),P.putImageData(O,0,0),P.globalCompositeOperation=N)}t&&t(M)},16)},e.prototype.downloadFullImage=function(t,i,n){var a=this,o=this.get("group").getCanvasBBox(),s=o.height,l=o.width,u=this.get("renderer"),f=gi('<div id="virtual-image"></div>'),c=document.querySelector(".g6-graph-watermarker"),h=n?n.backgroundColor:void 0,d=n?n.padding:void 0;d?(0,Ou.isNumber)(d)&&(d=[d,d,d,d]):d=[0,0,0,0];var v=s+d[0]+d[2],p=l+d[1]+d[3];if(c){var g=this.get("graphWaterMarker").cfg||{},m=g.width,y=g.height;v=Math.ceil(v/y)*y,p=Math.ceil(p/m)*m}var x={container:f,height:v,width:p},b=u==="svg"?new jg(x):new wu(x),_=this.get("group"),M=g5t(_),A=(0,Ou.clone)(M.getMatrix());A||(A=[1,0,0,0,1,0,0,0,1]);var I=(o.maxX+o.minX)/2,k=(o.maxY+o.minY)/2;A=S8t(A,[["t",-I,-k],["t",l/2+d[3],s/2+d[0]]]),M.resetMatrix(),M.setMatrix(A),b.add(M);var E=b.get("el");i||(i="image/png"),this.asyncToDataUrl(i,h,function(O){var P=document.createElement("a"),N=(t||"graph")+(u==="svg"?".svg":".".concat(i.split("/")[1]));a.dataURLToImage(O,u,P,N);var R=document.createEvent("MouseEvents");R.initEvent("click",!1,!1),P.dispatchEvent(R)},p,v,E)},e.prototype.downloadImage=function(t,i,n){var a=this,o=this;o.stopAnimate();var s=o.get("canvas"),l=s.getRenderer();i||(i="image/png");var u=(t||"graph")+(l==="svg"?".svg":".".concat(i.split("/")[1])),f=document.createElement("a");o.asyncToDataUrl(i,n,function(c){a.dataURLToImage(c,l,f,u);var h=document.createEvent("MouseEvents");h.initEvent("click",!1,!1),f.dispatchEvent(h)})},e.prototype.dataURLToImage=function(t,i,n,a){if(!t||t==="data:"){console.error("Download image failed. The graph is too large or there is invalid attribute values in graph items");return}if(typeof window!="undefined")if(window.Blob&&window.URL&&i!=="svg"){var o=t.split(","),s="";if(o&&o.length>0){var l=o[0].match(/:(.*?);/);l&&l.length>=2&&(s=l[1])}for(var u=atob(o[1]),f=u.length,c=new Uint8Array(f);f--;)c[f]=u.charCodeAt(f);var h=new Blob([c],{type:s});window.navigator.msSaveBlob?window.navigator.msSaveBlob(h,a):n.addEventListener("click",function(){n.download=a,n.href=window.URL.createObjectURL(h)})}else n.addEventListener("click",function(){n.download=a,n.href=t})},e.prototype.addPlugin=function(t){var i=this;t.destroyed||(i.get("plugins").push(t),t.initPlugin(i))},e.prototype.removePlugin=function(t){var i=this.get("plugins"),n=i.indexOf(t);n>=0&&(t.destroyPlugin(),i.splice(n,1))},e.prototype.setImageWaterMarker=function(t,i){t===void 0&&(t=fp.waterMarkerImage);var n=this.get("container");(0,Ou.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,Ou.deepMix)({},fp.imageWaterMarkerConfig,i),s=o.width,l=o.height,u=o.compatible,f=o.image;if(!t){var c=u?n:document.querySelector(".g6-graph-watermarker");c&&(c.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var h={container:n,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(h.pixelRatio=d,window.devicePixelRatio=d),a=new wu(h),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var v=a.get("context"),p=f.rotate,g=f.x,m=f.y;v.rotate(-p*Math.PI/180);var y=new Image;y.crossOrigin="anonymous",y.src=t,y.onload=function(){if(v.drawImage(y,g,m,f.width,f.height),v.rotate(p*Math.PI/180),u)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var x=document.querySelector(".g6-graph-watermarker");x||(x=document.createElement("div"),x.className="g6-graph-watermarker"),x.className="g6-graph-watermarker",a.destroyed||(x.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;"),n.appendChild(x))}}},e.prototype.setTextWaterMarker=function(t,i){var n=this.get("container");(0,Ou.isString)(n)&&(n=document.getElementById(n)),n.style.position||(n.style.position="relative");var a=this.get("graphWaterMarker"),o=(0,Ou.deepMix)({},fp.textWaterMarkerConfig,i),s=o.width,l=o.height,u=o.compatible,f=o.text;if(!(t==null?void 0:t.length)){var c=u?n:document.querySelector(".g6-graph-watermarker");c&&(c.style.cssText=void 0),a&&a.clear();return}if(a)a.clear();else{var h={container:n,width:s,height:l,capture:!1},d=this.get("pixelRatio");d&&(h.pixelRatio=d,window.devicePixelRatio=d),a=new wu(h),this.set("graphWaterMarker",a)}a.get("el").style.display="none";var v=a.get("context"),p=f.rotate,g=f.fill,m=f.fontFamily,y=f.fontSize,x=f.baseline,b=f.x,_=f.y,M=f.lineHeight;v.rotate(-p*Math.PI/180),v.font="".concat(y,"px ").concat(m),v.fillStyle=g,v.textBaseline=x;for(var A=(0,Ou.isString)(t)?[t]:t,I=A.length-1;I>=0;I--)v.fillText(A[I],b,_+I*M);if(v.rotate(p*Math.PI/180),u)n.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;");else{var k=document.querySelector(".g6-graph-watermarker");k||(k=document.createElement("div"),k.className="g6-graph-watermarker"),k.style.cssText="background-image: url(".concat(a.get("el").toDataURL("image/png"),");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;"),n.appendChild(k)}},e.prototype.destroy=function(){var t,i,n,a;(0,Ou.each)(this.get("plugins"),function(f){f.destroyPlugin()});var o=this.get("tooltips");if(o)for(var s=0;s<o.length;s++){var l=o[s];if(!!l){var u=l.parentElement;!u||u.removeChild(l)}}(t=this.get("eventController"))===null||t===void 0||t.destroy(),(i=this.get("layoutController"))===null||i===void 0||i.destroy(),(n=this.get("graphWaterMarker"))===null||n===void 0||n.destroy(),(a=document.querySelector(".g6-graph-watermarker"))===null||a===void 0||a.remove(),r.prototype.destroy.call(this)},e}(uY),KI=urr;var Rut=et(Eut()),pf=et(ot());function But(r){return But=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},But(r)}function C8t(r,e){if(e===void 0&&(e=new WeakMap),r===null)return r;if(r instanceof Date)return new Date(r);if(r instanceof RegExp)return new RegExp(r);if(But(r)!=="object")return r;if(e.get(r))return e.get(r);var t=Array.isArray(r)?[]:{};e.set(r,t);for(var i in r)r.hasOwnProperty(i)&&r[i]!==void 0&&(t[i]=C8t(r[i],e));return t}function M8t(r){try{return structuredClone(r)}catch(e){return C8t(r)}}var frr=vf.radialLayout,Gut=vf.traverseTree,crr=function(r){G(e,r);function e(t){var i=r.call(this,t)||this;return i.layoutAnimating=!1,i.set("removeList",[]),i.set("layoutMethod",i.getLayout()),i}return e.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction=t.type==="indented"?"LR":"TB"),t.radial?function(i){var n=Rut.default[t.type](i,t);return frr(n),n}:function(i){return Rut.default[t.type](i,t)}):null},e.indexOfChild=function(t,i){var n=-1;return(0,pf.each)(t,function(a,o){if(i===a.id)return n=o,!1}),n},e.prototype.getDefaultCfg=function(){var t=r.prototype.getDefaultCfg.call(this);return t.animate=!0,t},e.prototype.innerAddChild=function(t,i,n){var a=this,o=t.data;o&&(o.x=t.x,o.y=t.y,o.depth=t.depth);var s=a.addItem("node",o,!1);if(i){if(s.set("parent",i),n){var l=i.get("originAttrs");if(l)s.set("originAttrs",l);else{var u=i.getModel();s.set("originAttrs",{x:u.x,y:u.y})}}var f=i.get("children");f?f.push(s):i.set("children",[s]),a.addItem("edge",{source:i.get("id"),target:s.get("id"),id:"".concat(i.get("id"),":").concat(s.get("id"))},!1)}return(0,pf.each)(t.children||[],function(c){a.innerAddChild(c,s,n)}),a.emit("afteraddchild",{item:s,parent:i}),s},e.prototype.innerUpdateChild=function(t,i,n){var a=this,o=a.findById(t.id);if(!o){a.innerAddChild(t,i,n);return}(0,pf.each)(t.children||[],function(v){a.innerUpdateChild(v,o,n)});var s=o.get("children");if(s){var l=s.length;if(l>0)for(var u=s.length-1;u>=0;u--){var f=s[u].getModel();e.indexOfChild(t.children||[],f.id)===-1&&(a.innerRemoveChild(f.id,{x:t.x,y:t.y},n),s.splice(u,1))}}var c,h;o.get("originAttrs")&&(c=o.get("originAttrs").x,h=o.get("originAttrs").y);var d=o.getModel();n&&o.set("originAttrs",{x:d.x,y:d.y}),o.set("model",Object.assign(d,t.data)),(c!==t.x||h!==t.y)&&o.updatePosition({x:t.x,y:t.y})},e.prototype.innerRemoveChild=function(t,i,n){var a=this,o=a.findById(t);if(!!o)if((0,pf.each)(o.get("children"),function(l){a.innerRemoveChild(l.getModel().id,i,n)}),n){var s=o.getModel();o.set("to",i),o.set("originAttrs",{x:s.x,y:s.y}),a.get("removeList").push(o)}else a.removeItem(o,!1)},e.prototype.changeData=function(t,i){i===void 0&&(i=!0);var n=this;this.getNodes().map(function(a){return n.clearItemStates(a)}),this.getEdges().map(function(a){return n.clearItemStates(a)}),i&&this.get("enabledStack")&&this.pushStack("changedata",{before:n.get("originData"),after:t||n.get("data")}),t?(n.data(t),n.render(!1)):n.layout(this.get("fitView"))},e.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var i=this;i.updateLayout(t)},e.prototype.updateLayout=function(t,i,n,a){a===void 0&&(a=!0);var o=this;if(!t){console.warn("layout cannot be null");return}if(a&&this.get("enabledStack")&&this.pushStack("layout",{before:o.get("layout"),after:t}),o.set("layout",t),o.set("layoutMethod",o.getLayout()),o.layout(),i){var s=n;s||(i==="begin"?s={x:0,y:0}:s={x:this.getWidth()/2,y:this.getHeight()/2}),s=this.getPointByCanvas(s.x,s.y);var l=this.getGroup().getMatrix()||[1,0,0,0,1,0,0,0,1];s.x=s.x*l[0]+l[6],s.y=s.y*l[0]+l[7];var u=this.getGroup().getCanvasBBox(),f=u.minX,c=u.maxX,h=u.minY,d=u.maxY,v={x:(f+c)/2,y:(h+d)/2};i==="begin"&&(v.x=f,v.y=h),this.translate(s.x-v.x,s.y-v.y)}},e.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var i=this;i.layout(t)},e.prototype.layout=function(t){var i=this,n=this,a=n.get("data"),o=n.get("layoutMethod"),s=n.get("layout"),l=a;if(s==null?void 0:s.excludeInvisibles){a=(0,pf.clone)(n.get("data"));var u={};Gut(a,function(h){var d=h.children;if(!(d==null?void 0:d.length))return!0;for(var v=d.length-1;v>=0;v--){var p=i.findById(d[v].id),g=p?!p.isVisible():d[v].visible===!1;g&&(u[h.id]=u[h.id]||[],u[h.id].push({idx:v,child:d.splice(v,1)[0]}))}}),l=o?o(a,n.get("layout")):a,Gut(l,function(h){var d=u[h.id];if(d==null?void 0:d.length)for(var v=d.length-1;v>=0;v--){var p=d[v],g=p.idx,m=p.child;h.children.splice(g,0,m)}})}else l=o?o(a,n.get("layout")):a;var f=n.get("animate");if(n.emit("beforerefreshlayout",{data:a,layoutData:l}),n.emit("beforelayout"),n.innerUpdateChild(l,void 0,f),t){var c=n.get("viewController");c.fitView()}f?n.layoutAnimate(l):(n.refresh(),n.paint()),n.emit("afterrefreshlayout",{data:a,layoutData:l}),n.emit("afterlayout")},e.prototype.addChild=function(t,i,n){n===void 0&&(n=!0);var a=this;a.emit("beforeaddchild",{model:t,parent:i}),(0,pf.isString)(i)||(i=i.get("id"));var o=a.findDataById(i);if(o){o.children||(o.children=[]),o.children.push(t);var s=a.findById(i);s.refresh(),a.changeData(void 0,n)}},e.prototype.updateChildren=function(t,i,n){n===void 0&&(n=!0);var a=this,o=a.findById(i);if(!i||!o){console.warn("Update children failed! There is no node with id '".concat(i,"'"));return}var s=a.findDataById(i);s.children=t,o.refresh(),a.changeData(void 0,n)},e.prototype.updateChild=function(t,i,n){n===void 0&&(n=!0);var a=this;if(!i||!a.findById(i)){a.changeData(t,n);return}var o=a.findDataById(i),s=a.findById(t.id);if(o.children||(o.children=[]),!s)o.children.push(t);else{var l=e.indexOfChild(o.children,t.id);l>-1&&(o.children[l]=t)}var u=a.findById(i);u==null||u.refresh(),a.changeData(void 0,n)},e.prototype.removeChild=function(t,i){i===void 0&&(i=!0);var n=this,a=n.findById(t),o;if(a?o=a==null?void 0:a.get("parent"):o=n.getNodes().find(function(c){var h=c.getModel().children||[];return!!h.find(function(d){return d.id===t})}),o&&!o.destroyed){var s=o.get("id"),l=n.findDataById(s),u=l&&l.children||[],f=e.indexOfChild(u,t);u.splice(f,1),o.refresh()}n.changeData(void 0,i)},e.prototype.findDataById=function(t,i){var n=this;if(i||(i=n.get("data")),t===i.id)return i;var a=null;return(0,pf.each)(i.children||[],function(o){if(o.id===t)return a=o,!1;if(a=n.findDataById(t,o),a)return!1}),a},e.prototype.layoutAnimate=function(t,i){var n=this,a=this.get("animateCfg");n.emit("beforeanimate",{data:t}),n.getEdges().forEach(function(o){var s=o.get("model");s.sourceAnchor||(s.sourceAnchor=o.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(o){Gut(t,function(s){var l=n.findById(s.id);if(l){var u=l.get("originAttrs"),f=l.get("model");if(u||(u={x:f.x,y:f.y},l.set("originAttrs",u)),i){var c=i(l,o,u,t);l.set("model",Object.assign(f,c))}else f.x=u.x+(s.x-u.x)*o,f.y=u.y+(s.y-u.y)*o}return!0}),(0,pf.each)(n.get("removeList"),function(s){var l=s.getModel(),u=s.get("originAttrs"),f=s.get("to");l.x=u.x+(f.x-u.x)*o,l.y=u.y+(f.y-u.y)*o}),n.refreshPositions()},{duration:a.duration,easing:a.ease,callback:function(){(0,pf.each)(n.getNodes(),function(s){s.set("originAttrs",null)}),(0,pf.each)(n.get("removeList"),function(s){n.removeItem(s,!1)}),n.set("removeList",[]),a.callback&&a.callback(),n.emit("afteranimate",{data:t})},delay:a.delay})},e.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},e.prototype.isLayoutAnimating=function(){return this.layoutAnimating},e.prototype.render=function(t){t===void 0&&(t=!0);var i=this,n=i.get("data");if(!n||!(0,pf.isObject)(n)||!Object.keys(n).length)throw new Error("data must be defined first");i.clear(),t&&this.get("enabledStack")&&this.clearStack(),i.emit("beforerender"),i.layout(this.get("fitView")),i.emit("afterrender")},e.prototype.save=function(){return this.get("data")},e.prototype.data=function(t){r.prototype.data.call(this,t),this.set("originData",M8t(t))},e}(KI),A8=crr;var EM=et(ot()),hrr=function(){function r(e){this._cfgs=(0,EM.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return r.prototype.getDefaultCfgs=function(){return{}},r.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var i=t.getEvents(),n={};(0,EM.each)(i,function(a,o){var s=(0,EM.wrapBehavior)(t,a);n[o]=s,e.on(o,s)}),this._events=n,this.init()},r.prototype.getEvents=function(){return{}},r.prototype.get=function(e){var t;return(t=this._cfgs)===null||t===void 0?void 0:t[e]},r.prototype.set=function(e,t){this._cfgs[e]=t},r.prototype.destroy=function(){},r.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,EM.each)(t,function(i,n){e.off(n,i)}),this._events=null,this._cfgs=null,this.destroyed=!0},r}(),Wa=hrr;var drr=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),A8t="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",vrr=function(r){drr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{img:A8t,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),i=t.get("container"),n=t.get("canvas").get("el"),a=this.get("img")||A8t;a.includes("url(")||(a='url("'.concat(a,'")'));var o=gi(`<div class='g6-grid-container' style="position:absolute;overflow:hidden;z-index: -1;"></div>`),s=gi(`<div
        class='g6-grid'
        style='position:absolute;
        background-image: `.concat(a,`;
        user-select: none
        '></div>`));this.set("container",o),this.set("gridContainer",s),this.positionInit(),o.appendChild(s),i.insertBefore(o,n)},e.prototype.positionInit=function(){var t=this.get("graph"),i=t.get("minZoom"),n=t.get("width"),a=t.get("height");xr(this.get("container"),{width:"".concat(n,"px"),height:"".concat(a,"px")});var o=n*80/i,s=a*80/i;xr(this.get("gridContainer"),{width:"".concat(o,"px"),height:"".concat(s,"px"),left:"-".concat(o/2,"px"),top:"-".concat(s/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var i=this.get("gridContainer"),n=t.matrix;n||(n=[1,0,0,0,1,0,0,0,1]);var a=this.get("follow"),o="matrix(".concat(n[0],", ").concat(n[1],", ").concat(n[3],", ").concat(n[4],", ").concat(a?n[6]:"0",", ").concat(a?n[7]:"0",")");xr(i,{transform:o})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),i=t.get("container"),n=this.get("container");i.removeChild(n)},e}(Wa),E8t=vrr;var E8=et(ot()),L8t=et(QI());var mrr=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();typeof document!="undefined"&&(0,L8t.default)(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var yrr=function(r){mrr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(i){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(i){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),i=gi("<div class=".concat(t||"g6-component-contextmenu","></div>"));xr(i,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,E8.isString)(n)&&(n=document.getElementById(n)),n.appendChild(i),this.set("menu",i)},e.prototype.onMenuShow=function(t){var i=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1){i.onMenuHide();return}}else if(n.indexOf("canvas")===-1){i.onMenuHide();return}var a=this.get("shouldBegin");if(!!a(t)){var o=this.get("menu"),s=this.get("getContent"),l=this.get("graph"),u=s(t,l);(0,E8.isString)(u)?o.innerHTML=u:o.innerHTML=u.outerHTML,this.removeMenuEventListener();var f=this.get("handleMenuClick");if(f){var c=function(I){f(I.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var h=l.get("width"),d=l.get("height"),v=o.getBoundingClientRect(),p=this.get("offsetX")||0,g=this.get("offsetY")||0,m=l.getContainer().offsetTop,y=l.getContainer().offsetLeft,x=t.canvasX+y+p,b=t.canvasY+m+g;x+v.width>h&&(x=t.canvasX-v.width-p+y),b+v.height>d&&(b=t.canvasY-v.height-g+m),b<0&&(b=0),xr(o,{top:"".concat(b,"px"),left:"".concat(x,"px"),visibility:"visible"});var _=this.get("trigger")==="click",M=function(I){if(_){_=!1;return}i.onMenuHide()};document.body.addEventListener("click",M),this.set("handler",M)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),i=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}i&&document.body.removeEventListener("click",i)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&xr(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var i=this.get("container");i||(i=this.get("graph").get("container")),(0,E8.isString)(i)&&(i=document.getElementById(i)),i.removeChild(t)}},e}(Wa),O8t=yrr;var xc=et(ot());var xrr=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),jut=function(){return jut=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},jut.apply(this,arguments)},k8t=Math.max,brr=Wr.transform,wrr="default",_rr="keyShape",Srr="delegate",P8t="svg",Crr=function(r){xrr(e,r);function e(t){var i=r.call(this,t)||this;return i.handleUpdateCanvas=(0,xc.debounce)(function(n){var a=i;a.destroyed||a.updateCanvas()},100,!1),i}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0,hideEdge:!1}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,i=this._cfgs,n=i.size,a=i.graph;if(!this.destroyed){var o=this.get("canvas"),s=o.get("container"),l=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,u=navigator.userAgent.toLowerCase().indexOf("safari")>-1,f=gi(`
      <div
        class=`.concat(i.viewportClassName,`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff;
          cursor:move'
        draggable=`).concat(!(u||l),`
      </div>`)),c=0,h=0,d=!1,v=0,p=0,g=0,m=0,y=0,x=0,b=u||l?"mousedown":"dragstart";f.addEventListener(b,function(I){var k,E;if(I.dataTransfer){var O=new Image;O.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(E=(k=I.dataTransfer).setDragImage)===null||E===void 0||E.call(k,O,0,0);try{I.dataTransfer.setData("text/html","view-port-minimap")}catch(N){I.dataTransfer.setData("text","view-port-minimap")}}if(i.refresh=!1,I.target===f){var P=f.style;v=parseInt(P.left,10),p=parseInt(P.top,10),g=parseInt(P.width,10),m=parseInt(P.height,10),!(g>n[0]||m>n[1])&&(x=a.getZoom(),y=t.get("ratio"),d=!0,c=I.clientX,h=I.clientY)}},!1);var _=function(k){if(!(!d||(0,xc.isNil)(k.clientX)||(0,xc.isNil)(k.clientY))){var E=c-k.clientX,O=h-k.clientY;(v-E<0||v-E+g>=n[0])&&(E=0),(p-O<0||p-O+m>=n[1])&&(O=0),v-=E,p-=O,xr(f,{left:"".concat(v,"px"),top:"".concat(p,"px")}),a.translate(E*x/y,O*x/y),c=k.clientX,h=k.clientY}};!u&&!l&&f.addEventListener("drag",_,!1);var M=function(){d=!1,i.refresh=!0},A=u||l?"mouseup":"dragend";f.addEventListener(A,M,!1),s.addEventListener("mouseleave",M),s.addEventListener("mouseup",M),(u||l)&&s.addEventListener("mousemove",_,!1),this.set("viewport",f),s.appendChild(f)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),i=this.get("totaldx"),n=this.get("totaldy"),a=this.get("graph"),o=this.get("size"),s=a.get("canvas").get("el"),l=a.get("width")||s.scrollWidth||500,u=a.get("height")||s.scrollHeight||500,f=a.getPointByCanvas(0,0),c=a.getPointByCanvas(l,u),h=this.get("viewport");h||this.initViewport();var d=(c.x-f.x)*t,v=(c.y-f.y)*t,p=f.x*t+i,g=f.y*t+n,m=p+d,y=g+v;p<0&&(d+=p,p=0),m>o[0]&&(d=d-(m-o[0])),g<0&&(v+=g,g=0),y>o[1]&&(v=v-(y-o[1])),this.set("ratio",t);var x="".concat(p,"px"),b="".concat(g,"px");xr(h,{left:x,top:b,width:"".concat(d,"px"),height:"".concat(v,"px")})}},e.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,i=this.get("canvas"),n=t.get("group");if(!n.destroyed){i.clear();var a;this.get("hideEdge")?(a=i.addGroup(),n.get("children").forEach(function(s){s.get("id").includes("-edge")||a.add(s.clone())})):(a=n.clone(),a.resetMatrix(),i.add(a));var o=t.get("renderer");o===P8t&&this.updateVisible(a)}},e.prototype.updateVisible=function(t){var i=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var n=t.get("children");if(!n||!n.length)return;n.forEach(function(a){a.get("visible")||a.hide(),i.updateVisible(a)})}},e.prototype.updateKeyShapes=function(){var t=this,i=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,xc.each)(i.getEdges(),function(l){t.updateOneEdgeKeyShape(l,a)}),(0,xc.each)(i.getNodes(),function(l){t.updateOneNodeKeyShape(l,a)});var o=i.getCombos();if(o&&o.length){var s=a.find(function(l){return l.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,xc.each)(o,function(l){t.updateOneComboKeyShape(l,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.updateOneComboKeyShape=function(t,i){if(!this.destroyed){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),l=s.attr(),u={x:o.centerX,y:o.centerY};a?u=Object.assign(l,u):(a=s,i.add(a));var f=a.get("type");(f==="rect"||f==="image")&&(u.x=o.minX,u.y=o.minY),a.attr(u),t.isVisible()?a.show():a.hide(),a.exist=!0;var c=t.getModel().depth;isNaN(c)||a.set("zIndex",c),n[t.get("id")]=a,this.set("itemMap",n)}},e.prototype.updateOneNodeKeyShape=function(t,i){var n=this.get("itemMap")||{},a=n[t.get("id")],o=t.getBBox(),s=t.get("keyShape").clone(),l=s.attr(),u={x:o.centerX,y:o.centerY};a?(u=Object.assign(l,u),a.toFront()):(a=s,i.add(a));var f=a.get("type");(f==="rect"||f==="image")&&(u.x=o.minX,u.y=o.minY),a.attr(u),t.isVisible()?a.show():a.hide(),a.exist=!0;var c=t.getModel().depth;isNaN(c)||a.set("zIndex",c),n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateDelegateShapes=function(){var t=this,i=this._cfgs.graph,n=this.get("canvas"),a=n.get("children")[0]||n.addGroup();this.get("hideEdge")||(0,xc.each)(i.getEdges(),function(l){t.updateOneEdgeKeyShape(l,a)}),(0,xc.each)(i.getNodes(),function(l){t.updateOneNodeDelegateShape(l,a)});var o=i.getCombos();if(o&&o.length){var s=a.find(function(l){return l.get("name")==="comboGroup"})||a.addGroup({name:"comboGroup"});setTimeout(function(){t.destroyed||((0,xc.each)(o,function(l){t.updateOneComboKeyShape(l,s)}),s==null||s.sort(),s==null||s.toBack(),t.updateCanvas())},250)}this.clearDestroyedShapes()},e.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},i=Object.keys(t);if(!(!i||i.length===0))for(var n=i.length-1;n>=0;n--){var a=t[i[n]],o=a.exist;a.exist=!1,o||(a.remove(),delete t[i[n]])}},e.prototype.updateOneEdgeKeyShape=function(t,i){var n=this.get("itemMap")||{},a=n[t.get("id")];if(a){var o=t.get("keyShape").attr("path");a.attr("path",o)}else a=t.get("keyShape").clone(),i.add(a);t.isVisible()?a.show():a.hide(),a.exist=!0,n[t.get("id")]=a,this.set("itemMap",n)},e.prototype.updateOneNodeDelegateShape=function(t,i){var n=this.get("delegateStyle"),a=this.get("itemMap")||{},o=a[t.get("id")],s=t.getBBox();if(o){var l={x:s.minX,y:s.minY,width:s.width,height:s.height};o.attr(l),o.toFront()}else o=i.addShape("rect",{attrs:jut({x:s.minX,y:s.minY,width:s.width,height:s.height},n),name:"minimap-node-shape"});t.isVisible()?o.show():o.hide(),o.exist=!0,a[t.get("id")]=o,this.set("itemMap",a)},e.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},e.prototype.initContainer=function(){var t=this,i=t.get("graph"),n=t.get("size"),a=t.get("className"),o=t.get("container"),s=gi("<div class='".concat(a,"' style='width: ").concat(n[0],"px; height: ").concat(n[1],"px; overflow: hidden'></div>"));(0,xc.isString)(o)&&(o=document.getElementById(o)),o?o.appendChild(s):i.get("container").appendChild(s),t.set("container",s);var l=gi('<div class="g6-minimap-container" style="position: relative;"></div>');s.appendChild(l),l.addEventListener("dragenter",function(c){c.preventDefault()}),l.addEventListener("dragover",function(c){c.preventDefault()});var u,f=i.get("renderer");f===P8t?u=new jg({container:l,width:n[0],height:n[1]}):u=new wu({container:l,width:n[0],height:n[1]}),t.set("canvas",u),t.updateCanvas()},e.prototype.updateCanvas=function(){if(!this.destroyed){var t=this.get("refresh");if(!!t){var i=this.get("graph");if(!i.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("size"),a=this.get("canvas"),o=this.get("type"),s=this.get("padding");if(!a.destroyed){switch(o){case wrr:this.updateGraphShapes();break;case _rr:this.updateKeyShapes();break;case Srr:this.updateDelegateShapes();break;default:break}var l=a.get("children")[0];if(!!l){l.resetMatrix();var u=l.getCanvasBBox(),f=i.get("canvas").getCanvasBBox(),c=i.getZoom()||1,h=f.width/c,d=f.height/c;Number.isFinite(u.width)&&(h=k8t(u.width,h),d=k8t(u.height,d)),h+=2*s,d+=2*s;var v=Math.min(n[0]/h,n[1]/d),p=[1,0,0,0,1,0,0,0,1],g=0,m=0;Number.isFinite(u.minX)&&(g=-u.minX),Number.isFinite(u.minY)&&(m=-u.minY);var y=(n[0]-(h-2*s)*v)/2,x=(n[1]-(d-2*s)*v)/2;p=brr(p,[["t",g,m],["s",v,v],["t",y,x]]),l.setMatrix(p),this.set("ratio",v),this.set("totaldx",y+g*v),this.set("totaldy",x+m*v),this.set("dx",y),this.set("dy",x),this.updateViewport()}}}}}},e.prototype.getCanvas=function(){return this.get("canvas")},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t;(t=this.get("canvas"))===null||t===void 0||t.destroy();var i=this.get("container");(i==null?void 0:i.parentNode)&&i.parentNode.removeChild(i)},e}(Wa),D8t=Crr;var Mrr=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();function Pm(r,e,t){var i=r.x-e.x,n=r.y-e.y;return!t||Math.abs(i)>t||Math.abs(n)>t?Math.sqrt(i*i+n*n):t}function Arr(r,e){return r.x*e.x+r.y*e.y}function F8t(r,e){var t=(e.source.y-e.target.y)/(e.source.x-e.target.x),i=(t*t*e.source.x+t*(r.y-e.source.y)+r.x)/(t*t+1),n=t*(i-e.source.x)+e.source.y;return{x:i,y:n}}var Err=function(r){Mrr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),i=this.get("onTick"),n=function(){i&&i(),t.refreshPositions()};this.set("tick",n)},e.prototype.bundling=function(t){var i=this;if(i.set("data",t),!i.isTicking()){var n=t.edges||[],a=t.nodes||[],o={},s=!1;if(a.forEach(function(b){(b.x===null||!b.y===null||b.x===void 0||!b.y===void 0)&&(s=!0),o[b.id]=b}),s)throw new Error("please layout the graph or assign x and y for nodes first");i.set("nodeIdMap",o);var l=i.get("divisions"),u=i.get("divRate"),f=i.divideEdges(l);i.set("edgePoints",f);var c=i.getEdgeBundles();i.set("edgeBundles",c);for(var h=i.get("cycles"),d=i.get("iterations"),v=i.get("iterRate"),p=i.get("lambda"),g=0;g<h;g++){for(var m=function(_){var M=[];n.forEach(function(A,I){if(A.source!==A.target){var k=o[A.source],E=o[A.target];M[I]=i.getEdgeForces({source:k,target:E},I,l,p);for(var O=0;O<l+1;O++)f[I][O].x+=M[I][O].x,f[I][O].y+=M[I][O].y}})},y=0;y<d;y++)m(y);p=p/2,l*=u,d*=v,f=i.divideEdges(l),i.set("edgePoints",f)}n.forEach(function(b,_){b.source!==b.target&&(b.type="polyline",b.controlPoints=f[_].slice(1,f[_].length-1))});var x=i.get("graph");x.refresh()}},e.prototype.updateBundling=function(t){var i=this,n=t.data;if(n&&i.set("data",n),i.get("ticking")&&i.set("ticking",!1),Object.keys(t).forEach(function(o){i.set(o,t[o])}),t.onTick){var a=this.get("graph");i.set("tick",function(){t.onTick(),a.refresh()})}i.bundling(n)},e.prototype.divideEdges=function(t){var i=this,n=i.get("data").edges,a=i.get("nodeIdMap"),o=i.get("edgePoints");return(!o||o===void 0)&&(o=[]),n.forEach(function(s,l){var u;(!o[l]||o[l]===void 0)&&(o[l]=[]);var f=a[s.source],c=a[s.target];if(t===1)o[l].push({x:f.x,y:f.y}),o[l].push({x:.5*(f.x+c.x),y:.5*(f.y+c.y)}),o[l].push({x:c.x,y:c.y});else{var h=0;((u=o[l])===null||u===void 0?void 0:u.length)?h=i.getEdgeLength(o[l]):h=Pm({x:f.x,y:f.y},{x:c.x,y:c.y});var d=h/(t+1),v=d,p=[{x:f.x,y:f.y}];o[l].forEach(function(g,m){if(m!==0){for(var y=Pm(g,o[l][m-1]);y>v;){var x=v/y,b={x:o[l][m-1].x,y:o[l][m-1].y};b.x+=x*(g.x-o[l][m-1].x),b.y+=x*(g.y-o[l][m-1].y),p.push(b),y-=v,v=d}v-=y}}),p.push({x:c.x,y:c.y}),o[l]=p}}),o},e.prototype.getEdgeLength=function(t){var i=0;return t.forEach(function(n,a){a!==0&&(i+=Pm(n,t[a-1]))}),i},e.prototype.getEdgeBundles=function(){var t=this,i=t.get("data"),n=i.edges||[],a=t.get("bundleThreshold"),o=t.get("nodeIdMap"),s=t.get("edgeBundles");return s||(s=[]),n.forEach(function(l,u){(!s[u]||s[u]===void 0)&&(s[u]=[])}),n.forEach(function(l,u){var f=o[l.source],c=o[l.target];n.forEach(function(h,d){if(!(d<=u)){var v=o[h.source],p=o[h.target],g=t.getBundleScore({source:f,target:c},{source:v,target:p});g>=a&&(s[u].push(d),s[d].push(u))}})}),s},e.prototype.getBundleScore=function(t,i){var n=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,i.vx=i.target.x-i.source.x,i.vy=i.target.y-i.source.y,t.length=Pm({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),i.length=Pm({x:i.source.x,y:i.source.y},{x:i.target.x,y:i.target.y});var a=n.getAngleScore(t,i),o=n.getScaleScore(t,i),s=n.getPositionScore(t,i),l=n.getVisibilityScore(t,i);return a*o*s*l},e.prototype.getAngleScore=function(t,i){var n=Arr({x:t.vx,y:t.vy},{x:i.vx,y:i.vy});return n/(t.length*i.length)},e.prototype.getScaleScore=function(t,i){var n=(t.length+i.length)/2,a=2/(n/Math.min(t.length,i.length)+Math.max(t.length,i.length)/n);return a},e.prototype.getPositionScore=function(t,i){var n=(t.length+i.length)/2,a={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(i.source.x+i.target.x)/2,y:(i.source.y+i.target.y)/2},s=Pm(a,o);return n/(n+s)},e.prototype.getVisibilityScore=function(t,i){var n=this.getEdgeVisibility(t,i),a=this.getEdgeVisibility(i,t);return n<a?n:a},e.prototype.getEdgeVisibility=function(t,i){var n=F8t(i.source,t),a=F8t(i.target,t),o={x:(n.x+a.x)/2,y:(n.y+a.y)/2},s={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*Pm(o,s)/Pm(n,a))},e.prototype.getEdgeForces=function(t,i,n,a){for(var o=this,s=o.get("edgePoints"),l=o.get("K"),u=l/(Pm(t.source,t.target)*(n+1)),f=[{x:0,y:0}],c=1;c<n;c++){var h={x:0,y:0},d=o.getSpringForce({pre:s[i][c-1],cur:s[i][c],next:s[i][c+1]},u),v=o.getElectrostaticForce(c,i);h.x=a*(d.x+v.x),h.y=a*(d.y+v.y),f.push(h)}return f.push({x:0,y:0}),f},e.prototype.getSpringForce=function(t,i){var n=t.pre.x+t.next.x-2*t.cur.x,a=t.pre.y+t.next.y-2*t.cur.y;return n*=i,a*=i,{x:n,y:a}},e.prototype.getElectrostaticForce=function(t,i){var n=this,a=n.get("eps"),o=n.get("edgeBundles"),s=n.get("edgePoints"),l=o[i],u={x:0,y:0};return l.forEach(function(f){var c={x:s[f][t].x-s[i][t].x,y:s[f][t].y-s[i][t].y};if(Math.abs(c.x)>a||Math.abs(c.y)>a){var h=Pm(s[f][t],s[i][t]),d=1/h;u.x+=c.x*d,u.y+=c.y*d}}),u},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),r.prototype.destroy.call(this)},e}(Wa),N8t=Err;var B8t=et(ot());var Trr=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Yut=function(){return Yut=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Yut.apply(this,arguments)},T8=.05,R8t={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},Irr=function(r){Trr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:(0,B8t.clone)(R8t),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,i=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",i*i);var n=t.get("d");t.set("molecularParam",(n+1)*i)},e.prototype.createDelegate=function(t){var i=this,n=this,a=n.get("delegate");(!a||a.destroyed)&&(n.magnify(t),a=n.get("delegate"),a.on("dragstart",function(o){n.set("delegateCenterDiff",{x:a.attr("x")-o.x,y:a.attr("y")-o.y})}),a.on("drag",function(o){n.magnify(o)}),this.get("scaleDBy")==="wheel"&&a.on("mousewheel",function(o){i.scaleDByWheel(o)}),this.get("scaleRBy")==="wheel"&&a.on("mousewheel",function(o){n.scaleRByWheel(o)}))},e.prototype.scaleRByWheel=function(t){var i=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=i.get("graph"),a,o=i.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-T8:a=1/(1-T8);var u=i.get("maxR"),f=i.get("minR"),c=i.get("r");(c>(u||n.get("height"))&&a>1||c<(f||n.get("height")*.05)&&a<1)&&(a=1),c*=a,i.set("r",c),i.set("r2",c*c);var h=i.get("d");i.set("molecularParam",(h+1)*c),i.set("delegateCenterDiff",void 0),i.magnify(t,l)}},e.prototype.scaleRByDrag=function(t){var i=this;if(!!t){var n=i.get("dragPrePos"),a=i.get("graph"),o,s=a.getPointByClient(t.clientX,t.clientY);t.x-n.x<0?o=1-T8:o=1/(1-T8);var l=i.get("maxR"),u=i.get("minR"),f=i.get("r");(f>(l||a.get("height"))&&o>1||f<(u||a.get("height")*.05)&&o<1)&&(o=1),f*=o,i.set("r",f),i.set("r2",f*f);var c=i.get("d");i.set("molecularParam",(c+1)*f),i.magnify(t,s),i.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var i=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=0;t.originalEvent.wheelDelta<0?n=-.1:n=.1;var a=i.get("d"),o=a+n,s=i.get("maxD"),l=i.get("minD");if(o<s&&o>l){i.set("d",o);var u=i.get("r");i.set("molecularParam",(o+1)*u);var f=i.get("delegate"),c=f?{x:f.attr("x"),y:f.attr("y")}:void 0;i.set("delegateCenterDiff",void 0),i.magnify(t,c)}}},e.prototype.scaleDByDrag=function(t){var i=this,n=i.get("dragPrePos"),a=t.x-n.x>0?.1:-.1,o=i.get("d"),s=o+a,l=i.get("maxD"),u=i.get("minD");if(s<l&&s>u){i.set("d",s);var f=i.get("r");i.set("molecularParam",(s+1)*f),i.magnify(t)}i.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,i){var n=this;n.restoreCache();var a=n.get("graph"),o=n.get("cachedMagnifiedModels"),s=n.get("cachedOriginPositions"),l=n.get("showLabel"),u=n.get("r"),f=n.get("r2"),c=n.get("d"),h=n.get("molecularParam"),d=a.getNodes(),v=d.length,p=i?{x:i.x,y:i.y}:{x:t.x,y:t.y};n.get("dragging")&&(n.get("trigger")==="mousemove"||n.get("trigger")==="click")&&(p=n.get("cacheCenter"));var g=n.get("delegateCenterDiff");g&&(p.x+=g.x,p.y+=g.y),n.updateDelegate(p,u);for(var m=0;m<v;m++){var y=d[m].getModel(),x=y.x,b=y.y;if(!(isNaN(x)||isNaN(b))){var _=(x-p.x)*(x-p.x)+(b-p.y)*(b-p.y);if(!isNaN(_)&&_<f&&_!==0){var M=Math.sqrt(_),A=h*M/(c*M+u),I=(x-p.x)/M,k=(b-p.y)/M;if(y.x=I*A+p.x,y.y=k*A+p.y,s[y.id]||(s[y.id]={x,y:b,texts:[]}),o.push(y),l&&2*M<u)for(var E=d[m],O=E.getContainer(),P=O.getChildren(),N=P.length,R=0;R<N;R++){var z=P[R];z.get("type")==="text"&&(s[y.id].texts.push({visible:z.get("visible"),shape:z}),z.set("visible",!0))}}}}a.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,i=t.get("cachedMagnifiedModels"),n=t.get("cachedOriginPositions"),a=i.length,o=0;o<a;o++){var s=i[o],l=s.id,u=n[l];s.x=u.x,s.y=u.y;for(var f=u.texts.length,c=0;c<f;c++){var h=u.texts[c];h.shape.set("visible",h.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var i=this,n=t.r,a=t.d,o=t.trigger,s=t.minD,l=t.maxD,u=t.minR,f=t.maxR,c=t.scaleDBy,h=t.scaleRBy;isNaN(t.r)||(i.set("r",n),i.set("r2",n*n)),isNaN(a)||i.set("d",a),isNaN(l)||i.set("maxD",l),isNaN(s)||i.set("minD",s),isNaN(f)||i.set("maxR",f),isNaN(u)||i.set("minR",u);var d=i.get("d"),v=i.get("r");if(i.set("molecularParam",(d+1)*v),(o==="mousemove"||o==="click"||o==="drag")&&i.set("trigger",o),c==="drag"||c==="wheel"||c==="unset"){i.set("scaleDBy",c),i.get("delegate").remove(),i.get("delegate").destroy();var p=i.get("dPercentText");p&&(p.remove(),p.destroy())}if(h==="drag"||h==="wheel"||h==="unset"){i.set("scaleRBy",h),i.get("delegate").remove(),i.get("delegate").destroy();var p=i.get("dPercentText");p&&(p.remove(),p.destroy())}},e.prototype.updateDelegate=function(t,i){var n=this,a=this,o=a.get("graph"),s=a.get("delegate");if(!s||s.destroyed){var l=o.get("group"),u=a.get("delegateStyle")||R8t;s=l.addShape("circle",{attrs:Yut({r:i/1.5,x:t.x,y:t.y},u),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?s.on("mousewheel",function(v){a.scaleRByWheel(v)}):this.get("scaleRBy")==="drag"&&(s.on("dragstart",function(v){a.set("dragging",!0),a.set("cacheCenter",{x:v.x,y:v.y}),a.set("dragPrePos",{x:v.x,y:v.y})}),s.on("drag",function(v){a.scaleRByDrag(v)}),s.on("dragend",function(v){a.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?s.on("mousewheel",function(v){n.scaleDByWheel(v)}):this.get("scaleDBy")==="drag"&&(s.on("dragstart",function(v){a.set("dragging",!0),a.set("cacheCenter",{x:v.x,y:v.y}),a.set("dragPrePos",{x:v.x,y:v.y})}),s.on("drag",function(v){n.scaleDByDrag(v)}),s.on("dragend",function(v){a.set("dragging",!1)})))}else s.attr({x:t.x,y:t.y,r:i/1.5});if(a.get("showDPercent")){var f=Math.round((a.get("d")-a.get("minD"))/(a.get("maxD")-a.get("minD"))*100),c=a.get("dPercentText"),h=t.y+i/1.5+16;if(!c||c.destroyed){var d=o.get("group");c=d.addShape("text",{attrs:{text:"".concat(f,"%"),x:t.x,y:h,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),a.set("dPercentText",c)}else c.attr({text:"".concat(f,"%"),x:t.x,y:h})}a.set("delegate",s)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var i=this.get("delegate");i&&!i.destroyed&&(i.remove(),i.destroy());var n=this.get("dPercentText");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Wa),G8t=Irr;var TM=et(ot());var z8t=et(QI()),Lrr=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),j8t=.05;typeof document!="undefined"&&(0,z8t.default)(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var Orr=function(e){if(!e)return[];if(e.composedPath)return e.composedPath();for(var t=[],i=e.target;i;){if(t.push(i),i.tagName==="HTML")return t.push(document,window),t;i=i.parentElement}return t},krr=function(r){Lrr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(i){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},e.prototype.init=function(){var t=this,i=this.get("graph"),n=this.get("getContent"),a=n(i),o=a;(0,TM.isString)(a)&&(o=gi(a));var s=this.get("className");o.setAttribute("class",s||"g6-component-toolbar");var l=this.get("container");l||(l=this.get("graph").get("container")),(0,TM.isString)(l)&&(l=document.getElementById(l)),l.appendChild(o),this.set("toolBar",o);var u=this.get("handleClick");o.addEventListener("click",function(c){var h=Orr(c).filter(function(v){return v.nodeName==="LI"});if(h.length!==0){var d=h[0].getAttribute("code");!d||(u?u(d,i):t.handleDefaultOperator(d))}});var f=this.get("position");f&&xr(o,{top:"".concat(f.y,"px"),left:"".concat(f.x,"px")}),this.bindUndoRedo()},e.prototype.bindUndoRedo=function(){var t=this.get("graph"),i=document.querySelector('.g6-component-toolbar li[code="undo"]'),n=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),a=document.querySelector('.g6-component-toolbar li[code="redo"]'),o=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!i||!n||!a||!o||(i.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4"),a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4"),t.on("stackchange",function(s){var l=s.undoStack,u=s.redoStack,f=l.length,c=u.length;f===0?(i.setAttribute("style","cursor: not-allowed"),n.setAttribute("style","opacity: 0.4")):(i.removeAttribute("style"),n.removeAttribute("style")),c===0?(a.setAttribute("style","cursor: not-allowed"),o.setAttribute("style","opacity: 0.4")):(a.removeAttribute("style"),o.removeAttribute("style"))}))},e.prototype.undo=function(){var t=this.get("graph"),i=t.getUndoStack();if(!(!i||i.length===0)){var n=i.pop();if(n){var a=n.action;t.pushStack(a,(0,TM.clone)(n.data),"redo");var o=n.data.before;if(a==="add"&&(o=n.data.after),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(c){var h=o[c];!h||h.forEach(function(d){var v=t.findById(d.id);d.visible?t.showItem(v,!1):t.hideItem(v,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(c){var h=o[c];!h||h.forEach(function(d){var v=t.findById(d.id);delete d.id,t.updateItem(v,d,!1),v.getType()==="combo"&&t.updateCombo(v)})});break;case"changedata":t.changeData(o,!1);break;case"delete":{Object.keys(o).forEach(function(c){var h=o[c];!h||h.forEach(function(d){var v=d.itemType;delete d.itemType,t.addItem(v,d,!1)})});break}case"add":Object.keys(o).forEach(function(c){var h=o[c];!h||h.forEach(function(d){t.removeItem(d.id,!1)})});break;case"updateComboTree":Object.keys(o).forEach(function(c){var h=o[c];!h||h.forEach(function(d){t.updateComboTree(d.id,d.parentId,!1)})});break;case"createCombo":var s=n.data.after.combos,l=s[s.length-1];Object.keys(o).forEach(function(c){var h=o[c];!h||h.forEach(function(d){t.updateComboTree(d.id,d.parentId,!1)})}),t.removeItem(l.id,!1);break;case"uncombo":var u=o.combos[o.combos.length-1],f=o.nodes.concat(o.combos).map(function(c){return c.id}).filter(function(c){return c!==u.id});t.createCombo(u,f,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.redo=function(){var t=this.get("graph"),i=t.getRedoStack();if(!(!i||i.length===0)){var n=i.pop();if(n){var a=n.action,o=n.data.after;if(t.pushStack(a,(0,TM.clone)(n.data)),a==="delete"&&(o=n.data.before),!o)return;switch(a){case"visible":{Object.keys(o).forEach(function(f){var c=o[f];!c||c.forEach(function(h){var d=t.findById(h.id);h.visible?t.showItem(d,!1):t.hideItem(d,!1)})});break}case"render":case"update":Object.keys(o).forEach(function(f){var c=o[f];!c||c.forEach(function(h){var d=t.findById(h.id);delete h.id,t.updateItem(d,h,!1),d.getType()==="combo"&&t.updateCombo(d)})});break;case"changedata":t.changeData(o,!1);break;case"delete":o.edges&&o.edges.forEach(function(f){t.removeItem(f.id,!1)}),o.nodes&&o.nodes.forEach(function(f){t.removeItem(f.id,!1)}),o.combos&&o.combos.forEach(function(f){t.removeItem(f.id,!1)});break;case"add":{Object.keys(o).forEach(function(f){var c=o[f];!c||c.forEach(function(h){var d=h.itemType;delete h.itemType,t.addItem(d,h,!1)})});break}case"updateComboTree":Object.keys(o).forEach(function(f){var c=o[f];!c||c.forEach(function(h){t.updateComboTree(h.id,h.parentId,!1)})});break;case"createCombo":var s=o.combos[o.combos.length-1];t.createCombo(s,s.children.map(function(f){return f.id}),!1);break;case"uncombo":var l=n.data.before.combos,u=l[l.length-1];t.uncombo(u.id,!1);break;case"layout":t.updateLayout(o,void 0,void 0,!1);break;default:}}}},e.prototype.zoomOut=function(){var t=this.get("graph"),i=t.getZoom(),n=1/(1-j8t*this.get("zoomSensitivity")),a=this.get("maxZoom")||t.get("maxZoom");n*i>a||t.zoomTo(i*n)},e.prototype.zoomIn=function(){var t=this.get("graph"),i=t.getZoom(),n=1-j8t*this.get("zoomSensitivity"),a=this.get("minZoom")||t.get("minZoom");n*i<a||t.zoomTo(i*n)},e.prototype.realZoom=function(){var t=this.get("graph");t.zoomTo(1)},e.prototype.autoZoom=function(){var t=this.get("graph");t.fitView([20,20])},e.prototype.handleDefaultOperator=function(t){switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":this.zoomOut();break;case"zoomIn":this.zoomIn();break;case"realZoom":this.realZoom();break;case"autoZoom":this.autoZoom();break;default:}},e.prototype.destroy=function(){var t=this.get("toolBar");if(t){var i=this.get("container");i||(i=this.get("graph").get("container")),(0,TM.isString)(i)&&(i=document.getElementById(i)),i.removeChild(t)}var n=this.get("handleClick");n&&t.removeEventListener("click",n)},e}(Wa),Y8t=krr;var $I=et(ot()),W8t=et(QI());var Prr=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();typeof document!="undefined"&&(0,W8t.default)(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var Drr=function(r){Prr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(i){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`.concat(i.item.getType(),`</h4>
          <span class='tooltip-id'>ID\uFF1A`).concat(i.item.getID(),`</span>
        `)},shouldBegin:function(i){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},e.prototype.init=function(){var t=this,i=t.get("className")||"g6-component-tooltip",n=gi("<div class='".concat(i,"'></div>")),a=t.get("container");a||(a=t.get("graph").get("container")),(0,$I.isString)(a)&&(a=document.getElementById(a)),xr(n,{position:"absolute",visibility:"hidden",display:"none"}),a.appendChild(n),t.get("trigger")!=="click"&&(n.addEventListener("mouseenter",function(o){xr(n,{visibility:"visible",display:"unset"})}),n.addEventListener("mouseleave",function(o){t.hideTooltip()})),t.set("tooltip",n)},e.prototype.onClick=function(t){var i=this.get("itemTypes");if(!(t.item&&t.item.getType&&i.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget===n?(this.currentTarget=null,this.hideTooltip(),a.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"}))}},e.prototype.onMouseEnter=function(t){var i=this.get("itemTypes");if(!(t.item&&t.item.getType&&i.indexOf(t.item.getType())===-1)){var n=t.item,a=this.get("graph");this.currentTarget=n,this.showTooltip(t),a.emit("tooltipchange",{item:t.item,action:"show"})}},e.prototype.onMouseMove=function(t){var i=this.get("itemTypes");t.item&&t.item.getType&&i.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},e.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},e.prototype.clearContainer=function(){var t=this.get("tooltip");t&&(t.innerHTML="")},e.prototype.showTooltip=function(t){if(!!t.item){var i=this.get("itemTypes");if(!(t.item.getType&&i.indexOf(t.item.getType())===-1)){var n=this.get("tooltip"),a=this.get("getContent"),o=a(t);(0,$I.isString)(o)?n.innerHTML=o:(this.clearContainer(),n.appendChild(o)),this.updatePosition(t)}}},e.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&xr(t,{visibility:"hidden",display:"none"})},e.prototype.updatePosition=function(t){var i=this.get("shouldBegin"),n=this.get("tooltip");if(!i(t)){xr(n,{visibility:"hidden",display:"none"});return}var a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=this.get("offsetX")||0,u=this.get("offsetY")||0,f=a.getPointByClient(t.clientX,t.clientY),c=this.get("fixToNode"),h=t.item;if(h.getType&&h.getType()==="node"&&c&&(0,$I.isArray)(c)&&c.length>=2){var d=h.getBBox();f={x:d.minX+d.width*c[0],y:d.minY+d.height*c[1]}}var v=a.getCanvasByPoint(f.x,f.y),p=v.x,g=v.y,m=a.getContainer(),y={x:p+m.offsetLeft+l,y:g+m.offsetTop+u};xr(n,{visibility:"visible",display:"unset"});var x=n.getBoundingClientRect();p+x.width+l>o&&(y.x-=x.width+l),g+x.height+u>s&&(y.y-=x.height+u,y.y<0&&(y.y=0)),xr(n,{left:"".concat(y.x,"px"),top:"".concat(y.y,"px")})},e.prototype.hide=function(){this.onMouseLeave()},e.prototype.destroy=function(){var t=this.get("tooltip");if(t){var i=this.get("container");i||(i=this.get("graph").get("container")),(0,$I.isString)(i)&&(i=document.getElementById(i)),i.removeChild(t)}},e}(Wa),V8t=Drr;var sB=et(ot());var I8="timebarstartplay",L8="timebarendplay",wh="valuechange",Dm="timebarConfigChanged",dp="playPauseBtn",l_="nextStepBtn",u_="preStepBtn";var k8=et(ot());var q8t=et(ot());var Frr=function(){function r(e){var t=e.x,i=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.container,s=e.text,l=e.padding,u=l===void 0?[4,4,4,4]:l,f=e.className,c=f===void 0?"g6-component-timebar-tooltip":f,h=e.backgroundColor,d=h===void 0?"#000":h,v=e.textColor,p=v===void 0?"#fff":v,g=e.opacity,m=g===void 0?.8:g,y=e.fontSize,x=y===void 0?12:y;this.container=o,this.className=c,this.backgroundColor=d,this.textColor=p,this.x=i,this.y=a,this.text=s,this.padding=u,this.opacity=m,this.fontSize=x,this.render()}return r.prototype.render=function(){var e=this,t=e.className,i=e.x,n=e.y,a=e.backgroundColor,o=e.textColor,s=e.text,l=e.padding,u=e.opacity,f=e.fontSize,c=e.container,h=gi("<div class='".concat(t,`' style="position: absolute; width: fit-content; height: fit-content; opacity: `).concat(u,'"></div>'));(0,q8t.isString)(c)&&(c=document.getElementById(c)),c.appendChild(h),e.parentHeight=c.offsetHeight,e.parentWidth=c.offsetWidth,xr(h,{visibility:"hidden",top:0,left:0});var d=gi(`
      <div style='position: absolute; white-space:nowrap; background-color: `.concat(a,"; font-size: ").concat(f,"px; border-radius: 4px; width: fit-content; height: fit-content; color: ").concat(o,"; padding: ").concat(l[0],"px ").concat(l[1],"px ").concat(l[2],"px ").concat(l[3],"px'></div>"));d.innerHTML=s,h.appendChild(d),e.backgroundDOM=d;var v=gi("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(a,"'></div>"));h.appendChild(v),e.arrowDOM=v,e.container=h},r.prototype.show=function(e){var t=this,i=e.text,n=e.x,a=e.y,o=e.clientX,s=e.clientY;t.backgroundDOM.innerHTML=i;var l=t.backgroundDOM.offsetWidth,u=t.backgroundDOM.offsetHeight,f=t.arrowDOM.offsetWidth,c=t.arrowDOM.offsetHeight;xr(t.container,{top:"".concat(-u-c,"px"),left:"".concat(n,"px"),visibility:"visible"}),xr(t.backgroundDOM,{marginLeft:"".concat(-l/2,"px")}),xr(t.arrowDOM,{marginLeft:"".concat(-f/2,"px"),top:"".concat(u,"px")});var h=n-l/2,d=n+l/2;h<0?xr(t.backgroundDOM,{marginLeft:"".concat(-l/2-h,"px")}):d>t.parentWidth&&xr(t.backgroundDOM,{marginLeft:"".concat(-l/2-d+t.parentWidth+12,"px")})},r.prototype.hide=function(){xr(this.container,{top:0,left:0,visibility:"hidden"})},r}(),H8t=Frr;var X8t=et(ot());var Vut=et(ot());var Wut=function(){return Wut=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Wut.apply(this,arguments)},Nrr=function(){function r(e){this.config=(0,Vut.deepMix)({},e),this.init()}return r.prototype.update=function(e){this.config=(0,Vut.deepMix)({},this.config,e),this.updateElement(),this.renderMarker()},r.prototype.init=function(){this.initElement(),this.renderMarker()},r.prototype.initElement=function(){var e=this.config,t=e.group,i=e.style,n=i.scale,a=n===void 0?1:n,o=i.offsetX,s=o===void 0?0:o,l=i.offsetY,u=l===void 0?0:l,f=this.config.x+s,c=this.config.y+u,h=t.addGroup({name:dp});this.startMarkerGroup=h.addGroup({name:dp}),this.circle=t.addShape("circle",{attrs:Wut({x:f,y:c,r:this.config.r*a},i),name:dp}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(f,c,a),fill:i.stroke||"#aaa"},name:"start-marker"}),this.pauseMarkerGroup=h.addGroup({name:dp});var d=.25*this.config.r*a,v=.5*this.config.r*Math.sqrt(3)*a;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:f-.375*this.config.r*a,y:c-v/2,width:d,height:v,fill:i.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:f+1/8*this.config.r*a,y:c-v/2,width:d,height:v,fill:i.stroke||"#aaa",lineWidth:0}})},r.prototype.updateElement=function(){var e=this.config.style,t=e.scale,i=t===void 0?1:t,n=e.offsetX,a=n===void 0?0:n,o=e.offsetY,s=o===void 0?0:o,l=this.config.x+a,u=this.config.y+s;this.circle.attr("x",l),this.circle.attr("y",u),this.circle.attr("r",this.config.r*i),this.startMarker.attr("path",this.getStartMarkerPath(l,u,i));var f=.25*this.config.r*i,c=.5*this.config.r*Math.sqrt(3)*i;this.pauseLeftMarker.attr("x",l-(1/4+1/8)*this.config.r*i),this.pauseLeftMarker.attr("y",u-c/2),this.pauseLeftMarker.attr("width",f),this.pauseLeftMarker.attr("height",c),this.pauseRightMarker.attr("x",l+1/8*this.config.r*i),this.pauseRightMarker.attr("y",u-c/2),this.pauseRightMarker.attr("width",f),this.pauseRightMarker.attr("height",c)},r.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},r.prototype.getStartMarkerPath=function(e,t,i){var n=.5*this.config.r*Math.sqrt(3)*i;return[["M",e-n/Math.sqrt(3)/2,t-n/2],["L",e+n/Math.sqrt(3),t],["L",e-n/Math.sqrt(3)/2,t+n/2]]},r}(),U8t=Nrr;var ws=function(){return ws=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},ws.apply(this,arguments)},nB=Wr.transform,Brr="#aaa",Rrr="green",Grr={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},zrr={fill:"#fff"},jrr={fill:"green"},Z8t={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},K8t={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},Yrr={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:Z8t,timeTypeControllerStyle:K8t},qut=110,f_=50,vp={SINGLE:"single",RANGE:"range"},Wrr=function(){function r(e){this.controllerCfg=(0,X8t.deepMix)({},Yrr,e),this.group=e.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType=this.controllerCfg.defaultTimeType||vp.RANGE,this.fontFamily=e.fontFamily||"Arial, sans-serif",this.init()}return r.prototype.init=function(){this.renderPlayButton()},r.prototype.getNextMarkerPath=function(e,t,i){return[["M",e,t-i],["L",e+i,t],["L",e,t+i],["Z",e,t-i],["M",e,t],["L",e-i,t-i],["L",e-i,t+i],["Z"]]},r.prototype.getPreMarkerPath=function(e,t,i){return[["M",e,t-i],["L",e-i,t],["L",e,t+i],["L",e,t-i],["M",e,t],["L",e+i,t-i],["L",e+i,t+i],["Z"]]},r.prototype.renderPlayButton=function(){var e=this.controllerCfg,t=e.width,i=e.height,n=e.x,a=e.y,o=e.hideTimeTypeController,s=e.fill,l=s===void 0?Brr:s,u=e.stroke,f=u===void 0?Rrr:u,c=e.containerStyle,h=c===void 0?{}:c,d=ws(ws({},Grr),e.playBtnStyle||{}),v=ws(ws({},zrr),e.preBtnStyle||{}),p=ws(ws({},jrr),e.nextBtnStyle||{}),g=i/2-5,m=a+10,y=this.controllerGroup.addShape("rect",{attrs:ws({x:n,y:m,width:t,height:i,stroke:f,fill:l},h),name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:m,r:g}):this.playButton=new U8t({group:this.controllerGroup,x:t/2,y:m+g+5,r:g,isPlay:this.isPlay,style:d});var x=v.offsetX||0,b=v.offsetY||0,_=(v.scale||1)*g;this.controllerGroup.addShape("path",{attrs:ws({path:this.getPreMarkerPath(t/2-5*g+x,m+g+5+b,_*.5)},v),name:u_});var M=p.offsetX||0,A=p.offsetY||0,I=(p.scale||1)*g;this.controllerGroup.addShape("path",{attrs:ws({path:this.getNextMarkerPath(t/2+5*g+M,m+g+5+A,I*.5)},p),name:l_}),y.toBack(),this.renderSpeedBtn(),o||this.renderToggleTime(),this.bindEvent();var k=this.controllerCfg.scale,E=k===void 0?1:k,O=this.controllerGroup.getCanvasBBox(),P=(O.maxX+O.minX)/2,N=(O.maxY+O.minY)/2,R=nB([1,0,0,0,1,0,0,0,1],[["t",-P,-N],["s",E,E],["t",P,N]]);this.controllerGroup.setMatrix(R)},r.prototype.renderSpeedBtn=function(){var e=this.controllerCfg,t=e.y,i=e.width,n=e.hideTimeTypeController,a=ws(ws({},Z8t),this.controllerCfg.speedControllerStyle||{}),o=a.scroller,s=o===void 0?{}:o,l=a.text,u=l===void 0?{}:l,f=a.pointer,c=f===void 0?{}:f,h=a.scale,d=h===void 0?1:h,v=a.offsetX,p=v===void 0?0:v,g=a.offsetY,m=g===void 0?0:g,y=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=y;var x=[],b=5;this.speedAxisY=[19,22,26,32,39];for(var _=0;_<5;_++){var M=t+this.speedAxisY[_],A=i-(n?f_:qut);y.addShape("line",{attrs:ws({x1:A,x2:A+15,y1:M,y2:M},s),speed:b,name:"speed-rect"}),this.speedAxisY[_]=M,x.push(b),b=b-1}this.speedText=y.addShape("text",{attrs:ws({x:i-(n?f_:qut)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},u),name:"speed-text"}),this.speedPoint=y.addShape("path",{attrs:ws({path:this.getPointerPath(i-(n?f_:qut),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},c),name:"speed-pointer"});var I=this.speedGroup.getCanvasBBox(),k=(I.maxX+I.minX)/2,E=(I.maxY+I.minY)/2,O=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];O=nB(O,[["t",-k,-E],["s",d,d],["t",k+p*d,E+m*d]]),this.speedGroup.setMatrix(O)},r.prototype.getPointerPath=function(e,t){return[["M",e,t],["L",e-10,t-4],["L",e-10,t+4],["Z"]]},r.prototype.renderToggleTime=function(){var e,t,i=this.controllerCfg,n=i.width,a=i.defaultTimeType,o=ws(ws({},K8t),this.controllerCfg.timeTypeControllerStyle||{}),s=o.scale,l=s===void 0?1:s,u=o.offsetX,f=u===void 0?0:u,c=o.offsetY,h=c===void 0?0:c,d=o.box,v=d===void 0?{}:d,p=o.check,g=p===void 0?{}:p,m=o.text,y=m===void 0?{}:m;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"});var x=a===vp.SINGLE;this.toggleGroup.addShape("rect",{attrs:ws({x:n-f_,y:this.speedAxisY[0]+3.5},v),isChecked:x,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:ws({path:[["M",n-f_+3,this.speedAxisY[1]+6],["L",n-f_+7,this.speedAxisY[1]+10],["L",n-f_+12,this.speedAxisY[1]+4]]},g),capture:!1,name:"check-icon"}),x||this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:ws({text:x?((e=this.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4":((t=this.controllerCfg)===null||t===void 0?void 0:t.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:n-f_+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},y),name:"checked-text"});var b=this.toggleGroup.getCanvasBBox(),_=(b.maxX+b.minX)/2,M=(b.maxY+b.minY)/2,A=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];A=nB(A,[["t",-_,-M],["s",l,l],["t",_+f*l,M+h*l]]),this.toggleGroup.setMatrix(A)},r.prototype.bindEvent=function(){var e=this;this.speedGroup.on("speed-rect:click",function(t){var i=t.target.attr("y1"),n=e.speedPoint.attr("matrix"),a=e.speedAxisY.indexOf(n[7]||0),o=e.speedAxisY.indexOf(i),s=e.speedAxisY[o]-e.speedAxisY[a];n=nB(n,[["t",0,s]]),e.speedPoint.setMatrix(n),e.currentSpeed=e.speedAxisY.length-o,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(Dm,{speed:e.currentSpeed,type:e.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var i=e.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],n=i[7],a=e.speedAxisY.indexOf(n);if(a===-1){var o=1/0;e.speedAxisY.forEach(function(l,u){var f=Math.abs(l-n);o>f&&(o=f,a=u)})}t.originalEvent.deltaY>0?a=Math.max(0,a-1):a=Math.min(e.speedAxisY.length-1,a+1);var s=e.speedAxisY[a]-n;i=nB(i,[["t",0,s]]),e.speedPoint.setMatrix(i),e.currentSpeed=e.speedAxisY.length-a,e.speedText.attr("text","".concat(e.currentSpeed,".0X")),e.group.emit(Dm,{speed:e.currentSpeed,type:e.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var i,n,a=t.target.get("isChecked");a?(e.checkedIcon.hide(),e.checkedText.attr("text",((n=e.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),e.currentType=vp.RANGE):(e.checkedIcon.show(),e.checkedText.attr("text",((i=e.controllerCfg)===null||i===void 0?void 0:i.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),e.currentType=vp.SINGLE),t.target.set("isChecked",!a),e.group.emit(Dm,{type:e.currentType,speed:e.currentSpeed})})},r.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},r}(),O8=Wrr;var aB=function(){return aB=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},aB.apply(this,arguments)},Vrr=Wr.transform,qrr={fill:"#5B8FF9"},Hrr={fill:"#e6e8e9"},Urr=function(){function r(e){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=e.graph,i=e.canvas,n=e.group,a=e.width,o=e.height,s=e.padding,l=e.data,u=e.start,f=e.end,c=e.x,h=c===void 0?0:c,d=e.y,v=d===void 0?0:d,p=e.tickLabelFormatter,g=e.selectedTickStyle,m=g===void 0?qrr:g,y=e.unselectedTickStyle,x=y===void 0?Hrr:y,b=e.tooltipBackgroundColor,_=e.tooltipFomatter,M=e.tickLabelStyle,A=e.controllerCfg,I=A===void 0?{speed:1}:A;this.graph=t,this.group=n,this.sliceGroup=n.addGroup({name:"slice-group"}),this.canvas=i,this.width=a,this.height=o,this.padding=s,this.data=l,this.start=u,this.end=f,this.tickLabelFormatter=p,this.tickLabelStyle=M||{},this.selectedTickStyle=m,this.unselectedTickStyle=x,this.controllerCfg=I,this.currentSpeed=I.speed||1,this.x=h,this.y=v,this.tooltipBackgroundColor=b,this.tooltipFomatter=_,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return r.prototype.renderSlices=function(){var e=this,t=this,i=t.width,n=t.height,a=t.padding,o=t.data,s=t.start,l=t.end,u=t.tickLabelFormatter,f=t.selectedTickStyle,c=t.unselectedTickStyle,h=t.tickLabelStyle,d=i-2*a,v=10,p=4,g=3*a+p+v,m=n-g-2*a,y=2,x=o.length,b=(d-y*(x-1))/x;this.tickWidth=b;var _=this.sliceGroup,M=[],A=[],I=Math.round(x*s),k=Math.round(x*l);this.startTickRectId=I,this.endTickRectId=k;var E=h.rotate;delete h.rotate,o.forEach(function(P,N){var R=N>=I&&N<=k,z=R?f:c,B=_.addShape("rect",{attrs:aB({x:a+N*(b+y),y:a,width:b,height:m},z),draggable:!0,name:"tick-rect-".concat(N)}),Y=_.addShape("rect",{attrs:{x:a+N*b+y*(2*N-1)/2,y:a,width:N===0||N===x-1?b+y/2:b+y,height:m,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-".concat(N)});Y.toFront();var q=B.getBBox(),j=(q.minX+q.maxX)/2;M.push({rect:B,pickRect:Y,value:P.date,x:j,y:q.minY});var Z;if(u?(Z=u(P),!(0,k8.isString)(Z)&&Z&&(Z=P.date)):N%Math.round(x/10)==0&&(Z=P.date),Z){A.push(Z);var tt=q.maxY+a*2;_.addShape("line",{attrs:{stroke:"#BFBFBF",x1:j,y1:tt,x2:j,y2:tt+p},name:"tick-line"});var lt=tt+p+a,J=_.addShape("text",{attrs:aB({fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:j,y:lt,textAlign:"center",text:Z,textBaseline:"top",fontSize:10,fontFamily:e.fontFamily||"Arial, sans-serif"},h),capture:!1,name:"tick-label"}),nt=J.getBBox();if(nt.maxX>i?J.attr("textAlign","right"):nt.minX<0&&J.attr("textAlign","left"),(0,k8.isNumber)(E)&&A.length!==10){var ut=Vrr([1,0,0,0,1,0,0,0,1],[["t",-j,-lt],["r",E],["t",j-5,lt+2]]);J.attr({textAlign:"left",matrix:ut})}A.length===1?J.attr({textAlign:"left"}):A.length===10&&J.attr({textAlign:"right"})}}),this.tickRects=M;var O=this.group;this.currentSpeed=1,this.controllerBtnGroup=new O8(aB({group:O,x:this.x,y:this.y+n+5,width:i,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"},this.controllerCfg))},r.prototype.initEvent=function(){var e=this,t=this.sliceGroup;t.on("click",function(f){var c=f.target;if(!(c.get("type")!=="rect"||!c.get("name"))){var h=parseInt(c.get("name").split("-")[2],10);if(!isNaN(h)){var d=e.tickRects,v=e.unselectedTickStyle;d.forEach(function(y){y.rect.attr(v)});var p=e.selectedTickStyle;d[h].rect.attr(p),e.startTickRectId=h,e.endTickRectId=h;var g=d.length,m=h/g;e.graph.emit(wh,{value:[m,m]})}}}),t.on("dragstart",function(f){var c=e.tickRects,h=e.unselectedTickStyle;c.forEach(function(y){y.rect.attr(h)});var d=f.target,v=parseInt(d.get("name").split("-")[2],10),p=e.selectedTickStyle;c[v].rect.attr(p),e.startTickRectId=v;var g=c.length,m=v/g;e.graph.emit(wh,{value:[m,m]}),e.dragging=!0}),t.on("dragover",function(f){if(!!e.dragging&&f.target.get("type")==="rect"){for(var c=parseInt(f.target.get("name").split("-")[2],10),h=e.startTickRectId,d=e.tickRects,v=e.selectedTickStyle,p=e.unselectedTickStyle,g=0;g<d.length;g++){var m=g>=h&&g<=c?v:p;d[g].rect.attr(m)}var y=d.length;e.endTickRectId=c;var x=h/y,b=c/y;e.graph.emit(wh,{value:[x,b]})}}),t.on("drop",function(f){if(!!e.dragging&&(e.dragging=!1,f.target.get("type")==="rect")){var c=e.startTickRectId,h=parseInt(f.target.get("name").split("-")[2],10);if(!(h<c)){var d=e.selectedTickStyle,v=e.tickRects;v[h].rect.attr(d),e.endTickRectId=h;var p=v.length,g=c/p,m=h/p;e.graph.emit(wh,{value:[g,m]})}}});var i=this,n=i.tooltipBackgroundColor,a=i.tooltipFomatter,o=i.canvas,s=new H8t({container:o.get("container"),backgroundColor:n}),l=this.tickRects;l.forEach(function(f){var c=f.pickRect;c.on("mouseenter",function(h){var d=h.target;if(d.get("type")==="rect"){var v=parseInt(d.get("name").split("-")[2],10),p=o.getClientByPoint(l[v].x,l[v].y);s.show({x:l[v].x,y:l[v].y,clientX:p.x,clientY:p.y,text:a?a(l[v].value):l[v].value})}}),c.on("mouseleave",function(h){s.hide()})});var u=this.group;u.on("".concat(dp,":click"),function(){e.isPlay=!e.isPlay,e.changePlayStatus()}),u.on("".concat(l_,":click"),function(){e.updateStartEnd(1)}),u.on("".concat(u_,":click"),function(){e.updateStartEnd(-1)}),u.on(Dm,function(f){var c=f.type,h=f.speed;e.currentSpeed=h})},r.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(I8,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(L8,null))},r.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e.currentSpeed;e.frameCount%(60/t)==0&&(e.frameCount=0,e.updateStartEnd(1)),e.frameCount++,e.isPlay&&(e.playHandler=e.startPlay())}):void 0},r.prototype.updateStartEnd=function(e){var t=this,i=this.tickRects,n=i.length,a=this.unselectedTickStyle,o=this.selectedTickStyle,s=t.endTickRectId;if(e>0?t.endTickRectId++:(i[t.endTickRectId].rect.attr(a),t.endTickRectId--),s!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var l=t.startTickRectId;l<=t.endTickRectId-1;l++)i[l].rect.attr(a);t.startTickRectId=t.endTickRectId}if(i[t.endTickRectId]){i[t.endTickRectId].rect.attr(o);var u=t.startTickRectId/n,f=t.endTickRectId/n;this.graph.emit(wh,{value:[u,f]})}},r.prototype.destory=function(){var e=this.sliceGroup;e.off("click"),e.off("dragstart"),e.off("dragover"),e.off("drop"),this.tickRects.forEach(function(t){var i=t.pickRect;i.off("mouseenter"),i.off("mouseleave")}),this.tickRects.length=0,e.off("".concat(dp,":click")),e.off("".concat(l_,":click")),e.off("".concat(u_,":click")),e.off(Dm),this.sliceGroup.destroy()},r}(),Q8t=Urr;var ql=et(ot());var gf=et(ot()),Xrr=function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))};function Zrr(r){return(0,gf.map)(r,function(e,t){var i=t===0?"M":"L",n=e[0],a=e[1];return[i,n,a]})}function $8t(r){return Zrr(r)}function Krr(r){if(r.length<=2)return $8t(r);var e=[];(0,gf.each)(r,function(o){(0,gf.isEqual)(o,e.slice(e.length-2))||e.push(o[0],o[1])});var t=dC(e,!1),i=(0,gf.head)(r),n=i[0],a=i[1];return t.unshift(["M",n,a]),t}function J8t(r,e,t,i){i===void 0&&(i=!0);var n=new zv({values:r}),a=new bg({values:(0,gf.map)(r,function(s,l){return l})}),o=(0,gf.map)(r,function(s,l){return[a.scale(l)*e,t-n.scale(s)*t]});return i?Krr(o):$8t(o)}function tVt(r,e,t,i){i===void 0&&(i=5);for(var n=new zv({values:r}),a=new bg({values:(0,gf.map)(r,function(h,d){return d})}),o=(0,gf.map)(r,function(h,d){return[a.scale(d)*e,t-n.scale(h)*t]}),s=[],l=0;l<o.length;l++){var u=o[l],f={x:u[0],y:u[1],y0:t,size:i},c=$rr(f);s.push.apply(s,c)}return Jrr(s)}function Qrr(r,e){var t=new zv({values:r}),i=Math.max(0,t.min);return e-t.scale(i)*e}function eVt(r,e,t,i){var n=Xrr([],r,!0),a=Qrr(i,t);return n.push(["L",e,a]),n.push(["L",0,a]),n.push(["Z"]),n}function $rr(r){var e=r.x,t=r.y,i=r.y0,n=r.size,a,o;(0,gf.isArray)(t)?(a=t[0],o=t[1]):(a=i,o=t);var s,l;(0,gf.isArray)(e)?(s=e[0],l=e[1]):(s=e-n/2,l=e+n/2);var u=[{x:s,y:a},{x:s,y:o}];return u.push({x:l,y:o},{x:l,y:a}),u}function Jrr(r,e){e===void 0&&(e=!0);var t=[],i=r[0];t.push(["M",i.x,i.y]);for(var n=1,a=r.length;n<a;n++)t.push(["L",r[n].x,r[n].y]);return e&&(t.push(["L",i.x,i.y]),t.push(["z"])),t}var oB=function(){return oB=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},oB.apply(this,arguments)},tir={stroke:"#C5C5C5",strokeOpacity:.85},eir={fill:"#CACED4",opacity:.85},rir=function(){function r(e){var t=e.x,i=t===void 0?0:t,n=e.y,a=n===void 0?0:n,o=e.width,s=o===void 0?200:o,l=e.height,u=l===void 0?26:l,f=e.smooth,c=f===void 0?!0:f,h=e.isArea,d=h===void 0?!1:h,v=e.data,p=v===void 0?[]:v,g=e.lineStyle,m=e.areaStyle,y=e.group,x=e.interval,b=x===void 0?null:x;this.group=y,this.x=i,this.y=a,this.width=s,this.height=u,this.data=p,this.smooth=c,this.isArea=d,this.lineStyle=Object.assign({},tir,g),this.areaStyle=Object.assign({},eir,m),this.intervalConfig=b,this.renderLine()}return r.prototype.renderLine=function(){var e=this,t=e.x,i=e.y,n=e.width,a=e.height,o=e.barWidth,s=e.data,l=e.smooth,u=e.isArea,f=e.lineStyle,c=e.areaStyle,h=this.group.addGroup({name:"trend-group"});if(s){var d=J8t(s,n,a,l);if(h.addShape("path",{attrs:oB({path:d},f),name:"trend-line"}),u){var v=eVt(d,n,a,s);h.addShape("path",{attrs:oB({path:v},c),name:"trend-area"})}}this.intervalConfig&&h.addShape("path",{attrs:oB({path:tVt(this.intervalConfig.data,n,a,this.intervalConfig.style.barWidth)},this.intervalConfig.style),name:"trend-interval"}),h.move(t,i)},r.prototype.destory=function(){this.group.destroy()},r}(),rVt=rir;var Hut=et(ot()),JI=function(){return JI=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},JI.apply(this,arguments)},iir={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},nir={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},air=function(){function r(e){var t=e.group,i=e.name,n=e.type,a=e.x,o=a===void 0?0:a,s=e.y,l=s===void 0?0:s,u=e.width,f=u===void 0?2:u,c=e.height,h=c===void 0?24:c,d=e.style,v=d===void 0?{}:d;this.group=t,this.name=i,this.handleType=n,this.x=o,this.y=l,this.width=f,this.height=h,n==="trend"?this.style=JI(JI({},iir),v):n==="simple"&&(this.style=JI(JI({},nir),v)),this.renderHandle()}return r.prototype.setX=function(e){this.setXY(e,void 0)},r.prototype.setY=function(e){this.setXY(void 0,e)},r.prototype.setXY=function(e,t){(0,Hut.isNumber)(e)&&(this.x=e),(0,Hut.isNumber)(t)&&(this.y=t),this.updateXY()},r.prototype.renderHandle=function(){var e=this,t=e.width,i=e.height,n=e.style,a=e.name,o=n.fill,s=n.stroke,l=n.radius,u=n.opacity,f=n.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:i,fill:o,stroke:s,radius:l,opacity:u,cursor:f},name:"".concat(a,"-handler")}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:f,lineAppendWidth:12},name:"".concat(a,"-handler")}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:i,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:f},name:"".concat(a,"-handler")})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:i/2,r:2*t,fill:o,stroke:s,radius:l,opacity:u,cursor:f,lineWidth:2},name:"".concat(a,"-handler")})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},r.prototype.bindSimpleEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var i=e.style.highLightFill;e.topCircle.attr("fill",i)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var i=e.style.fill;e.topCircle.attr("fill",i)})},r.prototype.bindTrendEvents=function(){var e=this,t=this.name;this.handleGroup.on("".concat(t,"-handler:mouseenter"),function(){var i=e.style.highLightFill;e.verticalLine.attr("fill",i),e.topCircle.attr("fill",i),e.bottomCircle.attr("fill",i)}),this.handleGroup.on("".concat(t,"-handler:mouseleave"),function(){var i=e.style.fill;e.verticalLine.attr("fill",i),e.topCircle.attr("fill",i),e.bottomCircle.attr("fill",i)})},r.prototype.show=function(){this.handleGroup.show()},r.prototype.hide=function(){this.handleGroup.hide()},r.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},r}(),Uut=air;var iVt=et(ot());var Ja=function(){return Ja=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ja.apply(this,arguments)},oir=Wr.transform,sir={fill:"#416180",opacity:.05},lir={fill:"#416180",opacity:.15,radius:5},uir={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Xut=2,fir={width:Xut,height:24},cir={textBaseline:"middle",fill:"#000",opacity:.45},hir={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},dir={lineWidth:1,stroke:"#ccc"},vir=function(){function r(e){var t=this;this.prevX=0,this.onMouseDown=function(tt){return function(lt){t.currentHandler=tt;var J=lt.originalEvent;J.stopPropagation(),J.preventDefault(),t.prevX=(0,ql.get)(J,"touches.0.pageX",J.pageX);var nt=t.canvas.get("container");nt.addEventListener("mousemove",t.onMouseMove),nt.addEventListener("mouseup",t.onMouseUp),nt.addEventListener("mouseleave",t.onMouseUp),nt.addEventListener("touchmove",t.onMouseMove),nt.addEventListener("touchend",t.onMouseUp),nt.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(tt){tt.stopPropagation(),tt.preventDefault();var lt=(0,ql.get)(tt,"touches.0.pageX",tt.pageX),J=lt-t.prevX,nt=t.adjustOffsetRange(J/t.width);t.updateStartEnd(nt),t.updateUI(),t.prevX=lt},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var tt=t.canvas.get("container");tt&&(tt.removeEventListener("mousemove",t.onMouseMove),tt.removeEventListener("mouseup",t.onMouseUp),tt.removeEventListener("mouseleave",t.onMouseUp),tt.removeEventListener("touchmove",t.onMouseMove),tt.removeEventListener("touchend",t.onMouseUp),tt.removeEventListener("touchcancel",t.onMouseUp))};var i=e.x,n=i===void 0?0:i,a=e.y,o=a===void 0?0:a,s=e.width,l=s===void 0?100:s,u=e.height,f=e.padding,c=f===void 0?10:f,h=e.trendCfg,d=e.controllerCfg,v=d===void 0?{speed:1}:d,p=e.backgroundStyle,g=p===void 0?{}:p,m=e.foregroundStyle,y=m===void 0?{}:m,x=e.handlerStyle,b=x===void 0?{}:x,_=e.textStyle,M=_===void 0?{}:_,A=e.start,I=A===void 0?0:A,k=e.end,E=k===void 0?1:k,O=e.minText,P=O===void 0?"":O,N=e.maxText,R=N===void 0?"":N,z=e.group,B=e.graph,Y=e.canvas,q=e.tick,j=q===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(lt){return lt},ticks:[]}:q,Z=e.type;this.graph=B,this.canvas=Y,this.group=z,this.timeBarType=Z,this.x=n,this.y=o,this.width=l,this.height=u,this.padding=c,this.ticks=j.ticks,this.trendCfg=h,this.controllerCfg=v,this.currentSpeed=v.speed||1,this.tickLabelFormatter=j.tickLabelFormatter,Z==="trend"?this.backgroundStyle=Ja(Ja({},sir),g):Z==="simple"&&(this.backgroundStyle=Ja(Ja({},lir),g)),this.foregroundStyle=Ja(Ja({},uir),y),this.handlerStyle=Ja(Ja({},fir),b),this.textStyle=Ja(Ja({},cir),M),this.tickLabelStyle=Ja(Ja({},hir),j.tickLabelStyle),this.tickLineStyle=Ja(Ja({},dir),j.tickLineStyle),this.currentMode=v.defaultTimeType||vp.RANGE,this.start=I,this.end=E,this.minText=P,this.maxText=R,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return r.prototype.update=function(e){var t=e.x,i=e.y,n=e.width,a=e.height,o=e.minText,s=e.maxText,l=e.start,u=e.end;this.start=Math.min(1,Math.max(l,0)),this.end=Math.min(1,Math.max(u,0)),(0,ql.assign)(this,{x:t,y:i,width:n,height:a,minText:o,maxText:s}),this.updateUI()},r.prototype.setText=function(e,t){this.minTextShape.attr("text",e),this.maxTextShape.attr("text",t)},r.prototype.renderSlider=function(){var e=this,t=this,i=t.width,n=t.height,a=t.timeBarType;if(a==="trend"&&(0,ql.size)((0,ql.get)(this.trendCfg,"data"))){var o=new rVt(Ja(Ja({x:this.x,y:this.y,width:i,height:n},this.trendCfg),{group:this.group}));this.trendComponent=o}var s=this.group.addGroup({name:"slider-group"});s.addShape("rect",{attrs:Ja({x:0,y:0,width:i,height:n},this.backgroundStyle),name:"background"});var l=this.group.addGroup();a==="trend"?(this.minTextShape=l.addShape("text",{attrs:Ja({x:0,y:n/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:Ja({y:n/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})):(this.minTextShape=l.addShape("text",{attrs:Ja({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"min-text-shape"}),this.maxTextShape=l.addShape("text",{attrs:Ja({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif",stroke:"#fff",lineWidth:5},this.textStyle),capture:!1,name:"max-text-shape"})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Ja({x:0,y:this.y,height:n},this.foregroundStyle),name:"foreground-shape"}),this.foregroundShape.on("mousedown",function(m){m.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(m){m.target.attr("cursor",e.foregroundStyle.cursor||"grab")});var u=(0,ql.get)(this.handlerStyle,"width",2),f=(0,ql.get)(this.handlerStyle,"height",24),c=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Uut({name:"minHandlerShape",group:c,type:a,x:this.x,y:this.y,width:u,height:f,style:this.handlerStyle});var h=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Uut({name:"maxHandlerShape",group:h,type:a,x:this.x,y:this.y,width:u,height:f,style:this.handlerStyle});var d=this.ticks,v=i/(d.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(m){m.destroy()});var p=-1/0,g=this.tickLabelStyle.rotate;delete this.tickLabelStyle.rotate,this.textList=d.map(function(m,y){e.tickPosList.push(e.x+y*v);var x;e.tickLabelFormatter?(x=e.tickLabelFormatter(m),!(0,iVt.isString)(x)&&x&&(x=m.date)):x=m.date;var b=e.x+y*v,_=e.y+n+5,M=e.group.addShape("text",{attrs:Ja({x:b,y:_,text:x,fontFamily:e.fontFamily||"Arial, sans-serif"},e.tickLabelStyle),name:"tick-label"});if((0,ql.isNumber)(g)&&y!==d.length-1){var A=oir([1,0,0,0,1,0,0,0,1],[["t",-b,-_],["r",g],["t",b-5,_+2]]);M.attr({textAlign:"left",matrix:A})}y===0?M.attr({textAlign:"left"}):y!==d.length-1&&M.attr({textAlign:"right"});var I=e.group.addShape("line",{attrs:Ja({x1:e.x+y*v,y1:e.y+n+2,x2:e.x+y*v,y2:e.y+n+6},e.tickLineStyle),name:"tick-line"});I.toBack();var k=M.getBBox();return k.minX>p?(M.show(),I.show(),p=k.minX+k.width+10):(M.hide(),I.hide()),M}),this.controllerBtnGroup=new O8(Ja({group:this.group,x:this.x,y:this.y+n+25,width:i,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),s.move(this.x,this.y),this.bindEvents(),this.currentMode===vp.SINGLE&&(this.minHandlerShape.hide(),this.foregroundShape.hide(),this.minTextShape.hide())},r.prototype.bindEvents=function(){var e=this,t=this.group.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var i=this.group.find(function(n){return n.get("name")==="maxHandlerShape"});i&&(i.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),i.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("".concat(dp,":click"),function(){e.isPlay=!e.isPlay,e.currentHandler=e.maxHandlerShape,e.changePlayStatus()}),this.group.on("".concat(l_,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(.01),e.updateUI()}),this.group.on("".concat(u_,":click"),function(){e.currentHandler=e.maxHandlerShape,e.updateStartEnd(-.01),e.updateUI()}),this.group.on(Dm,function(n){var a=n.type,o=n.speed;e.currentSpeed=o,e.currentMode=a,a===vp.SINGLE?(e.minHandlerShape.hide(),e.foregroundShape.hide(),e.minTextShape.hide()):a===vp.RANGE&&(e.minHandlerShape.show(),e.foregroundShape.show(),e.minTextShape.show())})},r.prototype.adjustTickIndex=function(e){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=e&&e<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-e)<Math.abs(e-this.tickPosList[t+1])?t:t+1;return 0},r.prototype.adjustOffsetRange=function(e){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,i=1-this.start;return Math.min(i,Math.max(t,e))}case this.maxHandlerShape:{var t=0-this.end,i=1-this.end;return Math.min(i,Math.max(t,e))}case this.foregroundShape:{var t=0-this.start,i=1-this.end;return Math.min(i,Math.max(t,e))}default:return 0}},r.prototype.updateStartEnd=function(e){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],i=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t==null?void 0:t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(i):i==null?void 0:i.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=e,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(i):i.date;break;case this.foregroundShape:this.start+=e,this.end+=e,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(i):i.date;break;default:break}},r.prototype.updateUI=function(){var e=this;this.start<0&&(this.start=0),this.start>1&&(this.start=1),this.end>1&&(this.end=1),this.end<0&&(this.end=0);var t=this.x+this.start*this.width,i=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",i-t);var n=(0,ql.get)(this.handlerStyle,"width",Xut);this.setText(this.minText,this.maxText);var a=this.dodgeText([t,i]),o=a[0],s=a[1];this.minHandlerShape.setX(t-n/2),(0,ql.each)(o,function(l,u){return e.minTextShape.attr(u,l)}),this.maxHandlerShape.setX(i-n/2),(0,ql.each)(s,function(l,u){return e.maxTextShape.attr(u,l)}),this.currentMode===vp.RANGE?this.graph.emit(wh,{value:[this.start,this.end].sort()}):this.currentMode===vp.SINGLE&&this.graph.emit(wh,{value:[this.end,this.end]})},r.prototype.dodgeText=function(e){var t,i,n=2,a=(0,ql.get)(this.handlerStyle,"width",Xut),o=this.minTextShape,s=this.maxTextShape,l=e[0],u=e[1],f=!1;l>u&&(t=[u,l],l=t[0],u=t[1],i=[s,o],o=i[0],s=i[1],f=!0);var c=o.getBBox(),h=s.getBBox(),d=null,v=null;return this.timeBarType==="trend"?(d=l-c.width<this.x+n?{x:l+a/2+n,textAlign:"left"}:{x:l-a/2-n,textAlign:"right"},v=u+h.width>this.x+this.width?{x:u-a/2-n,textAlign:"right"}:{x:u+a/2+n,textAlign:"left"}):this.timeBarType==="simple"&&(d=o.attr("x")>c.width?{x:l,textAlign:"center"}:{x:l,textAlign:"left"},v=s.attr("x")>this.width-h.width?{x:u,textAlign:"right"}:{x:u,textAlign:"center"}),f?[v,d]:[d,v]},r.prototype.startPlay=function(){var e=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=e,i=t.ticks,n=t.width,a=e.currentSpeed,o=n/i.length,s=o/((10-a)*1e3/60),l=e.adjustOffsetRange(s/e.width);e.updateStartEnd(l),e.updateUI(),e.isPlay&&(e.playHandler=e.startPlay())}):void 0},r.prototype.changePlayStatus=function(e){e===void 0&&(e=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(I8,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),e&&this.graph.emit(L8,null))},r.prototype.destory=function(){this.graph.off(wh,function(){});var e=this.group,t=e.find(function(n){return n.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var i=e.find(function(n){return n.get("name")==="maxHandlerShape"});i&&(i.off("maxHandlerShape-handler:mousedown"),i.off("maxHandlerShape-handler:touchstart"),i.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),e.off("".concat(dp,":click")),e.off("".concat(l_,":click")),e.off("".concat(u_,":click")),e.off(Dm),e.destroy(),this.trendComponent&&this.trendComponent.destory()},r}(),nVt=vir;var pir=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Ax=function(){return Ax=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ax.apply(this,arguments)},gir=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},mir=4,yir=26,xir=function(r){pir(e,r);function e(t){var i=r.call(this,t)||this;return i.afterrenderListener=function(n){return i.filterData({})},i.valueChangeListener=(0,sB.throttle)(function(n){return i.filterData(n)},200,{trailing:!0,leading:!0}),i.changeData=function(n){var a=i.get("graph");i.cacheGraphData=a.get("data"),i.filterData({})},i}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1,filterItemTypes:["node"],containerCSS:{},putInGraphContainer:!0}},e.prototype.initContainer=function(){var t=this.get("graph"),i=this._cfgs,n=i.width,a=i.height,o=i.putInGraphContainer,s=this.get("className")||"g6-component-timebar",l=this.get("container"),u;if(l?((0,sB.isString)(l)&&(l=document.getElementById(l)),u=l):(u=gi("<div class='".concat(s,"'></div>")),xr(u,{position:"relative"})),o){var f=this.get("graph").get("container");f.appendChild(u)}this.set("timeBarContainer",u);var c,h=t.get("renderer");h==="SVG"?c=new jg({container:u,width:n,height:a}):c=new wu({container:u,width:n,height:a}),this.get("containerCSS")&&xr(u,this.get("containerCSS")),this.set("canvas",c)},e.prototype.init=function(){this.initContainer();var t=this.get("canvas"),i=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",i),this.renderTrend(),this.initEvent();var n=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",n)},e.prototype.play=function(){this.togglePlay(!0)},e.prototype.pause=function(){this.togglePlay(!1)},e.prototype.togglePlay=function(t){var i=this.get("timebar");!i||(i.isPlay=!!t,i.changePlayStatus())},e.prototype.renderTrend=function(){var t=this,i=this._cfgs,n=i.width,a=i.x,o=i.y,s=i.padding,l=i.type,u=i.trend,f=i.slider,c=i.controllerCfg,h=i.textStyle,d=i.tick,v=i.backgroundStyle,p=i.foregroundStyle,g=u.data,m=gir(u,["data"]),y=n-2*s,x=l==="trend"?yir:mir,b=this.get("graph"),_=this.get("timeBarGroup"),M=this.get("canvas"),A=null;if(l==="trend"||l==="simple"){var I=this.get("getValue");A=new nVt(Ax(Ax({graph:b,canvas:M,group:_,type:l,x:a+s,y:l==="trend"?o+s:o+s+15,width:y,height:x,padding:s,backgroundStyle:v,foregroundStyle:p,trendCfg:Ax(Ax({},m),{data:g.map(function(E){return(I==null?void 0:I(E))||E.value})})},f),{tick:{ticks:g,tickLabelFormatter:d.tickLabelFormatter,tickLabelStyle:d.tickLabelStyle,tickLineStyle:d.tickLineStyle},handlerStyle:Ax(Ax({},f.handlerStyle),{height:f.height||x}),controllerCfg:c,textStyle:h}))}else l==="tick"&&(A=new Q8t(Ax({graph:b,canvas:M,group:_,x:a+s,y:o+s,width:n,height:42,padding:2,controllerCfg:c},d)));var k=function(){var O=t.get("timebar");O.draggingHandler=!1,O.isPlay&&(O.isPlay=!1,O.currentHandler=O.maxHandlerShape,O.changePlayStatus()),document.removeEventListener("mouseup",k)};M.on("mousedown",function(E){(E.target.get("name")==="maxHandlerShape-handler"||E.target.get("name")==="minHandlerShape-handler"||E.target===A.foregroundShape)&&document.addEventListener("mouseup",k)}),this.set("timebar",A)},e.prototype.filterData=function(t){var i,n=t.value;if(!n){n=[];var a=this._cfgs.type;!a||a==="trend"||a==="simple"?(n[0]=this._cfgs.slider.start,n[1]=this._cfgs.slider.end):a==="tick"&&(n[0]=this._cfgs.tick.start,n[1]=this._cfgs.tick.end)}var o=null,s=this._cfgs.type;if(s==="trend"||s==="simple"?o=this._cfgs.trend.data:s==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var l=this.get("rangeChange"),u=this.get("graph"),f=Math.round(o.length*n[0]),c=Math.round(o.length*n[1]);c=c>=o.length?o.length-1:c,f=f>=o.length?o.length-1:f;var h=(i=this._cfgs.tick)===null||i===void 0?void 0:i.tickLabelFormatter,d=h?h(o[f]):o[f].date,v=h?h(o[c]):o[c].date;if(s!=="tick"){var p=this.get("timebar");p.setText(d,v)}if(l)l(u,d,v);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=u.get("data"));var g=this.get("filterItemTypes"),m=this.get("changeData"),y=this.get("getDate"),x=this.get("shouldIgnore"),b=o[f].date,_=o[c].date;if(m||m===void 0){var M=this.cacheGraphData.nodes,A=this.cacheGraphData.edges,I={},k={};u.getNodes().forEach(function(E){return I[E.getID()]=!0}),u.getEdges().forEach(function(E){return k[E.getID()]=!0}),g.includes("node")&&(M==null||M.forEach(function(E){var O=+((y==null?void 0:y(E))||E.date),P=O>=b&&O<=_||(x==null?void 0:x("node",E,{min:b,max:_})),N=I[E.id];N&&!P?(u.removeItem(E.id),I[E.id]=!1):!N&&P&&(u.addItem("node",E),I[E.id]=!0)}),A==null||A.forEach(function(E){var O=I[E.source]&&I[E.target]||(x==null?void 0:x("edge",E,{min:b,max:_})),P=!!u.findById(E.id);P&&!O?(u.removeItem(E.id),k[E.id]=!1):!P&&O?(u.addItem("edge",E),k[E.id]=!0):P||(k[E.id]=!1)})),(this.get("filterEdge")||g.includes("edge"))&&(A==null||A.filter(function(E){var O=+((y==null?void 0:y(E))||E.date),P=O>=b&&O<=_||(x==null?void 0:x("edge",E,{min:b,max:_})),N=I[E.source]&&I[E.target],R=P&&N,z=k[E.id];z&&!R?(k[E.id]=!1,u.removeItem(E.id)):!z&&R&&(k[E.id]=!0,u.addItem("edge",E))}))}else g.includes("node")&&u.getNodes().forEach(function(E){var O=E.getModel();if(!(x==null?void 0:x("node",O,{min:b,max:_}))){var P=+((y==null?void 0:y(O))||O.date);P<b||P>_?u.hideItem(E):u.showItem(E)}}),(this.get("filterEdge")||g.includes("edge"))&&u.getEdges().forEach(function(E){var O=E.getModel();if(!(x==null?void 0:x("edge",O,{min:o[f].date,max:o[c].date}))){var P=+((y==null?void 0:y(O))||O.date);if(P<o[f].date||P>o[c].date)u.hideItem(E);else{var N=E.getSource().isVisible(),R=E.getTarget().isVisible();N&&R&&u.showItem(E)}}})}},e.prototype.initEvent=function(){var t=this.get("graph");t.on("afterchangedata",this.changeData),t.on("afterrender",this.afterrenderListener),t.on(wh,this.valueChangeListener)},e.prototype.destroy=function(){var t=this.get("graph");t.off("afterchangedata",this.changeData),t.off("afterrender",this.afterrenderListener),t.off(wh,this.valueChangeListener);var i=this.get("timebar");i&&i.destory&&i.destory(),r.prototype.destroy.call(this);var n=this.get("timeBarContainer");if(n){var a=this.get("container");a||(a=this.get("graph").get("container")),(0,sB.isString)(a)&&(a=document.getElementById(a)),a===n&&(a=a.parentElement),a.removeChild(n)}},e}(Wa),aVt=xir;var tL=et(ot());var bir=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),wir=ma.applyMatrix;function _ir(r,e){var t,i;if(r.naturalWidth)t=r.naturalWidth,i=r.naturalHeight;else{var n=new Image;n.src=r.src,n.onload=function(){e&&e(n.width,n.height)}}return[t,i]}var Sir=function(r){bir(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,i=this._cfgs,n=i.graph;if(!this.destroyed){var a=this.get("container");(0,tL.isString)(a)&&(a=document.getElementById(a));var o=gi("<div class=".concat(i.viewportClassName,`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff;
        cursor:move'
      </div>`)),s=0,l=0,u=!1,f=0,c=0,h=0,d=0,v=0,p=0;a.addEventListener("mousedown",function(g){if(i.refresh=!1,g.target===o){var m=o.style;h=parseInt(m.width,10),d=parseInt(m.height,10);var y=t.get("width"),x=t.get("height");h>y||d>x||(p=n.getZoom(),v=t.get("ratio"),u=!0,s=g.clientX,l=g.clientY)}},!1),a.addEventListener("mousemove",function(g){if(!(!u||(0,tL.isNil)(g.clientX)||(0,tL.isNil)(g.clientY))){var m=t.get("width"),y=t.get("height"),x=o.style;f=parseInt(x.left,10),c=parseInt(x.top,10),h=parseInt(x.width,10),d=parseInt(x.height,10);var b=s-g.clientX,_=l-g.clientY;f-b<0?b=f:f-b+h>=m&&(b=0),c-_<0?_=c:c-_+d>=y&&(_=0),f-=b,c-=_,xr(o,{left:"".concat(f,"px"),top:"".concat(c,"px")}),n.translate(b*p/v,_*p/v),s=g.clientX,l=g.clientY}},!1),a.addEventListener("mouseleave",function(){u=!1,i.refresh=!0},!1),a.addEventListener("mouseup",function(){u=!1,i.refresh=!0},!1),this.set("viewport",o),a.appendChild(o)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),i=this.get("width"),n=this.get("height"),a=this.get("graph"),o=a.get("width"),s=a.get("height"),l=o/s,u=a.getGroup(),f=u.getCanvasBBox(),c=[(f.minX+f.maxX)/2,(f.minY+f.maxY)/2],h=[f.maxX-f.minX,f.maxY-f.minY],d={centerX:c[0],centerY:c[1],width:0,height:0,minX:0,minY:0};f[0]/f[1]>l?(d.width=h[0],d.height=d.width/l):(d.height=h[1],d.width=d.height*l),d.minX=c[0]-d.width/2,d.minY=c[1]-d.height/2;var v=u.getMatrix();v||(v=[1,0,0,0,1,0,0,0,1]);var p=Pe.mat3.invert([1,0,0,0,1,0,0,0,1],v),g=wir({x:d.minX,y:d.minY},p),m=a.getCanvasByPoint(g.x,g.y),y=this.get("viewport");y||this.initViewport();var x=o/d.width,b=x*i,_=x*n,M=i*-m.x/d.width,A=n*-m.y/d.height,I=M+b,k=A+_;M<0&&(b+=M,M=0),I>i&&(b=b-(I-i)),A<0&&(_+=A,A=0),k>n&&(_=_-(k-n)),this.set("ratio",t);var E="".concat(M,"px"),O="".concat(A,"px");xr(y,{left:E,top:O,width:"".concat(b,"px"),height:"".concat(_,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,i=t.get("graph"),n=i.get("width"),a=i.get("height"),o=a/n,s=t.get("className"),l=t.get("container"),u=t.get("width"),f=t.get("height");!u&&!f&&(u=200),u?(f=o*u,t.set("height",f)):(u=1/o*f,t.set("width",u));var c=gi("<div class='".concat(s,"' style='width: ").concat(u,"px; height: ").concat(f,"px; overflow: hidden; position: relative;'></div>"));(0,tL.isString)(l)&&(l=document.getElementById(l)),l?l.appendChild(c):i.get("container").appendChild(c),t.set("container",c);var h=gi('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');c.appendChild(h);var d=gi('<span style="display: table-cell; vertical-align: middle; "></span>');h.appendChild(d),t.set("containerDOM",h),t.set("containerSpan",d);var v=gi('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",v),t.updateImgSize(),d.appendChild(v),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,i=t.get("imgDOM"),n=t.get("width"),a=t.get("height");i.onload=function(){var o=_ir(i);o[0]>o[1]?i.width=n:i.height=a}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var i=this.get("graph");if(!i.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var n=this.get("width"),a=i.get("canvas").getCanvasBBox(),o=a.width,s=n/o;this.set("ratio",s),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var i=this,n=i.get("imgDOM");n.remove(),i.set("graphImg",t);var a=gi('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));i.set("imgDOM",a),a.src=t,i.updateImgSize();var o=i.get("containerSpan");o.appendChild(a),i.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(Wa),oVt=Sir;var sVt=et(ot());var Cir=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Zut=function(){return Zut=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Zut.apply(this,arguments)},Mir=ma.distance,lVt=.05,uVt={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},Air=function(r){Cir(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:(0,sVt.clone)(uVt),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,i=t.get("showLabel"),n=i==="node"||i==="both",a=i==="edge"||i==="both";t.set("showNodeLabel",n),t.set("showEdgeLabel",a);var o=t.get("shouldShow");o||t.set("shouldShow",function(){return!0})},e.prototype.createDelegate=function(t){var i=this,n=i.get("delegate");(!n||n.destroyed)&&(i.filter(t),n=i.get("delegate"),n.on("dragstart",function(a){}),n.on("drag",function(a){i.filter(a)}),this.get("scaleRBy")==="wheel"&&n.on("mousewheel",function(a){i.scaleRByWheel(a)}))},e.prototype.scaleRByWheel=function(t){var i=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var n=i.get("graph"),a,o=i.get("delegate"),s=o?{x:o.attr("x"),y:o.attr("y")}:void 0,l=s||n.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?a=1-lVt:a=1/(1-lVt);var u=i.get("maxR"),f=i.get("minR"),c=i.get("r");(c>(u||n.get("height"))&&a>1||c<(f||n.get("height")*.05)&&a<1)&&(a=1),c*=a,i.set("r",c),i.filter(t)}},e.prototype.filter=function(t){var i=this,n=i.get("graph"),a=n.getNodes(),o={},s=i.get("r"),l=i.get("type"),u={x:t.x,y:t.y};i.updateDelegate(u,s);var f=i.get("shouldShow"),c=i.get("vShapes");c&&c.forEach(function(m){m.remove(),m.destroy()}),c=[],a.forEach(function(m){var y=m.getModel(),x=y.x,b=y.y;Mir({x,y:b},u)<s&&(o[y.id]=m)});var h=n.getEdges(),d=[];h.forEach(function(m){var y=m.getModel(),x=y.source,b=y.target;f(y)&&(l==="only-source"||l==="one"?o[x]&&!o[b]&&d.push(m):l==="only-target"||l==="one"?o[b]&&!o[x]&&d.push(m):l==="both"&&o[x]&&o[b]&&d.push(m))});var v=i.get("showNodeLabel"),p=i.get("showEdgelabel"),g=n.get("group");d.forEach(function(m){var y=m.get("group").get("children");y.forEach(function(x){var b=x.get("type"),_=g.addShape(b,{attrs:x.attr()});c.push(_),v&&b==="text"&&_.set("visible",!0)})}),Object.keys(o).forEach(function(m){var y=o[m],x=y.get("group").clone();if(g.add(x),c.push(x),p)for(var b=x.get("children"),_=0;_<b.length;_++){var M=b[_];M.get("type")==="text"&&M.set("visible",!0)}}),i.set("vShapes",c)},e.prototype.updateParams=function(t){var i=this,n=t.r,a=t.trigger,o=t.minR,s=t.maxR,l=t.scaleRBy,u=t.showLabel,f=t.shouldShow;if(isNaN(t.r)||i.set("r",n),isNaN(s)||i.set("maxR",s),isNaN(o)||i.set("minR",o),(a==="mousemove"||a==="click")&&i.set("trigger",a),l==="wheel"||l==="unset"){i.set("scaleRBy",l),i.get("delegate").remove(),i.get("delegate").destroy();var c=i.get("dPercentText");c&&(c.remove(),c.destroy())}(u==="node"||u==="both")&&i.set("showNodeLabel",!0),(u==="edge"||u==="both")&&i.set("showEdgeLabel",!0),f&&i.set("shouldShow",f)},e.prototype.updateDelegate=function(t,i){var n=this,a=n.get("graph"),o=n.get("delegate");if(!o||o.destroyed){var s=a.get("group"),l=n.get("delegateStyle")||uVt;o=s.addShape("circle",{attrs:Zut({r:i,x:t.x,y:t.y},l),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(u){n.scaleRByWheel(u)})}else o.attr({x:t.x,y:t.y,r:i});n.set("delegate",o)},e.prototype.clear=function(){var t=this,i=t.get("vShapes");i&&i.forEach(function(a){a.remove(),a.destroy()}),i=[],t.set("vShapes",i);var n=t.get("delegate");n&&!n.destroyed&&(n.remove(),n.destroy())},e.prototype.destroy=function(){this.clear()},e}(Wa),fVt=Air;var Fm=et(ot());var Eir=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Tir=ma.pointLineDistance,Iir={stroke:"#FA8C16",lineWidth:1},Lir=function(r){Eir(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{line:Iir,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},e.prototype.init=function(){},e.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},e.prototype.onDragStart=function(){this.initBoxLine()},e.prototype.onDrag=function(t){var i=t.item,n=i.get("delegateShape")||i,a=n.getBBox(),o=i.getModel(),s=o.x-a.x,l=o.y-a.y;this.show({x:a.minX+s,y:a.minY+l},{width:a.width,height:a.height})},e.prototype.onDragEnd=function(){this.destory()},e.prototype.initBoxLine=function(){var t=this._cfgs,i=t.horizontalLines,n=t.verticalLines,a=t.itemAlignType,o=this.get("graph"),s=o.getNodes();s.forEach(function(l){var u=l.getBBox(),f=l.get("id");a===!0||a==="horizontal"?(i["".concat(f,"tltr")]=[u.minX,u.minY,u.maxX,u.minY,l],i["".concat(f,"lcrc")]=[u.minX,u.centerY,u.maxX,u.centerY,l],i["".concat(f,"blbr")]=[u.minX,u.maxY,u.maxX,u.maxY,l]):a==="center"&&(i["".concat(f,"lcrc")]=[u.minX,u.centerY,u.maxX,u.centerY,l]),a===!0||a==="vertical"?(n["".concat(f,"tlbl")]=[u.minX,u.minY,u.minX,u.maxY,l],n["".concat(f,"tcbc")]=[u.centerX,u.minY,u.centerX,u.maxY,l],n["".concat(f,"trbr")]=[u.maxX,u.minY,u.maxX,u.maxY,l]):a==="center"&&(n["".concat(f,"tcbc")]=[u.centerX,u.minY,u.centerX,u.maxY,l])})},e.prototype.show=function(t,i){var n=(0,Fm.mix)({},t);return this.itemAlign(t,i,n),t},e.prototype.itemAlign=function(t,i,n){var a=this,o=this._cfgs,s=o.horizontalLines,l=o.verticalLines,u=o.tolerance,f={x:n.x+i.width/2,y:n.y},c={x:n.x+i.width/2,y:n.y+i.height/2},h={x:n.x+i.width/2,y:n.y+i.height},d={x:n.x,y:n.y+i.height/2},v={x:n.x+i.width,y:n.y+i.height/2},p=[],g=[],m=null;if(this.clearAlignLine(),(0,Fm.each)(s,function(x){x[4].isVisible&&(p.push(a.getLineDisObject(x,f)),p.push(a.getLineDisObject(x,c)),p.push(a.getLineDisObject(x,h)))}),(0,Fm.each)(l,function(x){x[4].isVisible&&(g.push(a.getLineDisObject(x,d)),g.push(a.getLineDisObject(x,c)),g.push(a.getLineDisObject(x,v)))}),p.sort(function(x,b){return x.dis-b.dis}),g.sort(function(x,b){return x.dis-b.dis}),p.length!==0&&p[0].dis<u){t.y=p[0].line[1]-p[0].point.y+n.y,m={type:"item",horizontals:[p[0]]};for(var y=1;y<3;y++)p[0].dis===p[y].dis&&m.horizontals.push(p[y])}if(g.length!==0&&g[0].dis<u){t.x=g[0].line[0]-g[0].point.x+n.x,m?m.verticals=[g[0]]:m={type:"item",verticals:[g[0]]};for(var y=1;y<3;y++)g[0].dis===g[y].dis&&m.verticals.push(g[y])}m&&(m.bbox=i,this.addAlignLine(m))},e.prototype.addAlignLine=function(t){var i=t.bbox,n=t.type,a=t.horizontals,o=t.verticals,s=this._cfgs,l=s.line,u=s.alignLines,f=this.get("graph"),c=f.get("group");n==="item"&&(a&&(0,Fm.each)(a,function(h){var d=h.line,v=h.point,p=(d[0]+d[2])/2,g,m;v.x<p?(g=v.x-i.width/2,m=Math.max(d[0],d[2])):(g=v.x+i.width/2,m=Math.min(d[0],d[2]));var y=(0,Fm.mix)({x1:g,y1:d[1],x2:m,y2:d[1]},l),x=c.addShape("line",{attrs:y,capture:!1});u.push(x)}),o&&(0,Fm.each)(o,function(h){var d=h.line,v=h.point,p=(d[1]+d[3])/2,g,m;v.y<p?(g=v.y-i.height/2,m=Math.max(d[1],d[3])):(g=v.y+i.height/2,m=Math.min(d[1],d[3]));var y=(0,Fm.mix)({x1:d[0],y1:g,x2:d[0],y2:m},l),x=c.addShape("line",{attrs:y,capture:!1});u.push(x)}))},e.prototype.getLineDisObject=function(t,i){return{line:t,point:i,dis:Tir(t,i)}},e.prototype.getContainer=function(){return this.get("container")},e.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;(0,Fm.each)(t,function(i){i.remove()}),t.length=0},e.prototype.destory=function(){var t=this._cfgs,i=t.horizontalLines,n=t.verticalLines,a=this.get("graph"),o=a.getNodes();o.forEach(function(s){var l=s.get("id");delete i["".concat(l,"tltr")],delete i["".concat(l,"lcrc")],delete i["".concat(l,"blbr")],delete n["".concat(l,"tlbl")],delete n["".concat(l,"tcbc")],delete n["".concat(l,"trbr")]}),this.clearAlignLine()},e}(Wa),cVt=Lir;var Nm=et(ot());var Oir=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Bo=function(){return Bo=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Bo.apply(this,arguments)},kir=["click","mouseenter"],Pir=function(r){Oir(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{data:{},position:"top",padding:8,margin:8,offsetX:0,offsetY:0,layout:"horizontal",flipPage:!1,containerStyle:{},align:void 0,horiSep:8,vertiSep:8,filter:{enable:!1,trigger:"click"}}},e.prototype.init=function(){this.formatArray("padding"),this.formatArray("margin");var t=this.get("filter")||{},i=t.multiple;i&&t.trigger==="mouseenter"&&this.set("multiple",!1);var n=this.get("align");if(!n){var a=this.get("position").split("-");a.includes("left")&&(n="left"),a.includes("right")?n="right":n="center",this.set("align",n)}var o=this.get("graph"),s=o.get("container"),l=gi(`<div class='g6-legend-container' style="position: absolute;"></div>`);s.appendChild(l),this.set("container",l);var u=this.render();xr(l,this.getContainerPos(u)),this.bindEvents()},e.prototype.getContainerPos=function(t){t===void 0&&(t=[0,0]);var i=this,n=i.get("graph"),a=this.get("offsetX"),o=this.get("offsetY"),s=this.get("margin"),l=this.get("position").split("-"),u={top:0,right:1,bottom:2,left:3},f=0,c=0,h={left:(n.getWidth()-t[0])/2+f,top:(n.getHeight()-t[1])/2+c};return l.forEach(function(d){var v=s[u[d]],p=d;switch(d){case"top":v+=c;break;case"left":v+=f;break;case"bottom":v=n.getHeight()-t[1]-v+c,p="top";break;default:v=n.getWidth()-t[0]-v+f,p="left";break}h[p]=v}),h.top+=o+n.getContainer().offsetTop,h.left+=a+n.getContainer().offsetLeft,Object.keys(h).forEach(function(d){h[d]="".concat(h[d],"px")}),h},e.prototype.bindEvents=function(){var t=this,i=t.get("filter");if(!(!i||!i.enable)){var n=i.trigger||"click";kir.includes(n)||(console.warn("Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default."),n="click");var a=t.get("legendCanvas");n==="mouseenter"?(a.on("node-container:mouseenter",function(o){return t.filterData(o)}),a.on("node-container:mouseleave",function(o){t.clearFilter(),t.clearActiveLegend()})):(a.on("node-container:click",function(o){return t.filterData(o)}),a.on("click",function(o){o.target&&o.target.isCanvas&&o.target.isCanvas()&&(t.clearFilter(),t.clearActiveLegend())}))}},e.prototype.changeData=function(t){this.set("data",t);var i=this.render();xr(this.get("container"),this.getContainerPos(i))},e.prototype.activateLegend=function(t){var i=this.get("filter"),n=i==null?void 0:i.multiple;n||this.clearActiveLegend();var a=t.get("parent");a.get("active")?(a.set("active",!1),this.findLegendItemsByState("active").length&&a.set("inactive",!0)):(a.set("inactive",!1),a.set("active",!0)),this.findLegendItemsByState("active").length?this.findLegendItemsByState("active","all",!1).forEach(function(c){c.set("inactive",!0)}):this.clearActiveLegend();var o=(i==null?void 0:i.legendStateStyles)||{},s=(o==null?void 0:o.inactive)||{opacity:.5,"text-shape":{opacity:.5}},l=s["text-shape"]||{};this.findLegendItemsByState("inactive").forEach(function(c){var h=c.get("children"),d=h[0],v=h[1];d.attr(Bo(Bo({},d.get("oriAttrs")),s)),v.attr(Bo(Bo({},v.get("oriAttrs")),l))});var u=(o==null?void 0:o.active)||{stroke:"#000",lineWidth:2,"text-shape":{fontWeight:"bold"}},f=u["text-shape"]||{};this.findLegendItemsByState("active").forEach(function(c){var h=c.get("children"),d=h[0],v=h[1];d.attr(Bo(Bo({},d.get("oriAttrs")),u)),v.attr(Bo(Bo({},v.get("oriAttrs")),f))})},e.prototype.findLegendItemsByState=function(t,i,n){i===void 0&&(i="all"),n===void 0&&(n=!0);var a=this.get("legendCanvas").find(function(l){return l.get("name")==="root"}),o=a.find(function(l){return l.get("name")==="node-group"}),s=a.find(function(l){return l.get("name")==="edge-group"});return i==="node"?o.get("children").filter(function(l){return!!l.get(t)===n}):i==="edge"?s.get("children").filter(function(l){return!!l.get(t)===n}):o.get("children").filter(function(l){return!!l.get(t)===n}).concat(s.get("children").filter(function(l){return!!l.get(t)===n}))},e.prototype.clearActiveLegend=function(){var t=this.get("legendCanvas"),i=t.find(function(a){return a.get("name")==="root"}),n=[i.find(function(a){return a.get("name")==="node-group"}),i.find(function(a){return a.get("name")==="edge-group"})];n.forEach(function(a){a.get("children").forEach(function(o){o.set("active",!1),o.set("inactive",!1);var s=o.get("children"),l=s[0],u=s[1];l.attr(l.get("oriAttrs")),u.attr(u.get("oriAttrs"))})})},e.prototype.filterData=function(t){var i=this.get("filter"),n=i==null?void 0:i.filterFunctions;if(!(!i||!n)){var a=this.get("legendCanvas"),o=this.get("graph"),s=i.graphActiveState||"active",l=i.graphInactiveState||"inactive",u=i.multiple;this.clearFilter(),u||this.clearActiveLegend(),this.activateLegend(t.target);var f=a.find(function(m){return m.get("name")==="root"}),c=f.find(function(m){return m.get("name")==="node-group"}),h=f.find(function(m){return m.get("name")==="edge-group"}),d=c.get("children").filter(function(m){return m.get("active")}),v=h.get("children").filter(function(m){return m.get("active")}),p=0,g=["getNodes","getEdges"];g.forEach(function(m){o[m]().forEach(function(y){var x=!1,b=m==="getNodes"?d:v;b.forEach(function(_){var M=n[_.get("id")];x=x||M(y.getModel())}),x?(o.setItemState(y,l,!1),o.setItemState(y,s,!0),p++):(o.setItemState(y,s,!1),o.setItemState(y,l,!0))})}),p||g.forEach(function(m){o[m]().forEach(function(y){o.clearItemStates(y,[l])})})}},e.prototype.clearFilter=function(){var t=this.get("graph"),i=this.get("filter");if(!!i){var n=i.graphActiveState||"active",a=i.graphInactiveState||"inactive";t.getNodes().forEach(function(o){t.clearItemStates(o,[n,a])}),t.getEdges().forEach(function(o){t.clearItemStates(o,[n,a])})}},e.prototype.render=function(){var t=this;this.processData();var i=this.get("legendCanvas");i?i.clear():i=new wu({container:this.get("container"),width:200,height:200});var n=i.addGroup({name:"root"}),a=n.addGroup({name:"node-group"}),o=n.addGroup({name:"edge-group"});this.set("legendCanvas",i);var s=this.get("itemsData"),l=["nodes","edges"],u=[a,o];l.forEach(function(B,Y){s[B].forEach(function(q){var j,Z=u[Y].addGroup({id:q.id,name:"node-container"}),tt,lt=q.type,J=t.getShapeSize(q),nt=J.width,ut=J.height,ft=J.r,pt=t.getStyle(B.substr(0,4),q);switch(q.type){case"circle":tt={r:ft,x:0,y:0};break;case"rect":tt={width:nt,height:ut,x:-nt/2,y:-ut/2};break;case"ellipse":tt={rx:nt,ry:ut,x:0,y:0},lt="ellipse";break;case"line":tt={x1:-nt/2,y1:0,x2:nt/2,y2:0},lt="line";break;case"quadratic":tt={path:[["M",-nt/2,0],["Q",0,nt/2,nt/2,0]]},lt="path";break;case"cubic":tt={path:[["M",-nt/2,0],["C",-nt/6,nt/2,nt/6,-nt/2,nt/2,0]]},lt="path";break;case"diamond":tt={path:[["M",0,-ut],["L",nt,0],["L",0,ut],["L",-nt,0],["Z"]]},lt="path";break;case"triangle":tt={path:[["M",-nt,ut],["L",0,-ut],["L",nt,ut],["Z"]]},lt="path";break;case"star":tt={path:ma.getStarPath(ft*3,ft*1.2)},lt="path";break;default:tt={r:ft,x:0,y:0};break}var _t=Z.addShape(lt,{attrs:Bo(Bo({},tt),pt),name:"".concat(q.type,"-node-keyShape"),oriAttrs:Bo({opacity:1},pt)});if(q.label){var Et=_t.getBBox(),Ot=((j=q.labelCfg)===null||j===void 0?void 0:j.style)||{},oe=Bo({textAlign:"begin",fontSize:12,textBaseline:"middle",fill:"#000",opacity:1,fontWeight:"normal"},Ot);Z.addShape("text",{attrs:Bo({x:Et.maxX+4,y:0,text:q.label},oe),className:"legend-label",name:"".concat(q.type,"-node-text"),oriAttrs:oe})}})});var f=this.get("padding"),c,h=n.find(function(B){return B.get("name")==="title-container"}),d={height:0,maxY:0,width:0};if(this.get("title")){h||(h=n.addGroup({name:"title-container"}));var v={fontSize:20,fontFamily:"Arial",fontWeight:300,textBaseline:"top",textAlign:"center",fill:"#000",x:0,y:f[0]},p=this.get("titleConfig")||{},g=Object.assign(v,p.style||{});c=h.addShape("text",{attrs:Bo({text:this.get("title")},g)}),d=h.getCanvasBBox(),h.setMatrix([1,0,0,0,1,0,p.offsetX,p.offsetY,1])}this.layoutItems();var m=n.getCanvasBBox(),y=a.getCanvasBBox(),x=y.minX<0?Math.abs(y.minX)+f[3]:f[3],b=d.maxY<y.minY?Math.abs(d.maxY-y.minY)+f[0]:d.maxY+f[0],_=[1,0,0,0,1,0,x,b,1];a.setMatrix(_),m=n.getCanvasBBox();var M=[m.minX+m.width+f[1],m.minY+m.height+f[2]];if(c){var p=Bo({position:"center",offsetX:0,offsetY:0},this.get("titleConfig"));d=h.getCanvasBBox();var A=h.getMatrix()||[1,0,0,0,1,0,0,0,1];p.position==="center"?A[6]=M[0]/2+p.offsetX:p.position==="right"?(A[6]=M[0]-f[3]+p.offsetX,c.attr({textAlign:"right"})):(A[6]=f[3]+p.offsetX,c.attr({textAlign:"left"})),h.setMatrix(A),d=h.getCanvasBBox(),x=y.minX<0?Math.abs(y.minX)+f[3]:f[3],b=y.minY<d.maxY?Math.abs(d.maxY-y.minY)+f[0]:d.maxY+f[0],_=[1,0,0,0,1,0,x,b,1],a.setMatrix(_);var I=[1,0,0,0,1,0,x,b,1];this.get("layout")==="vertical"?I[6]+=y.maxX+this.get("horiSep"):I[7]+=y.maxY+this.get("vertiSep"),o.setMatrix(I)}else{y=a.getCanvasBBox();var k=[1,0,0,0,1,0,0,0,1];this.get("layout")==="vertical"?k[6]+=_[6]+y.maxX+this.get("horiSep"):k[7]+=_[7]+y.maxY+this.get("vertiSep"),o.setMatrix(k)}m=n.getCanvasBBox(),y=a.getCanvasBBox(),_=a.getMatrix()||[1,0,0,0,1,0,0,0,1];var E=o.getMatrix()||[1,0,0,0,1,0,0,0,1],O=o.getCanvasBBox();M=[Math.max(y.width+_[6],O.width+E[6])+f[1],Math.max(y.height+_[7],O.height+E[7])+f[2]],i.changeSize(M[0],M[1]);var P=this.get("containerStyle"),N=n.getMatrix()||[1,0,0,0,1,0,0,0,1],R=ma.invertMatrix({x:0,y:0},N),z=n.addShape("rect",{attrs:Bo({x:R.x+(P.lineWidth||1),y:R.y+(P.lineWidth||1),width:M[0]-2*(P.lineWidth||1),height:M[1]-2*(P.lineWidth||1),fill:"#f00",stroke:"#000",lineWidth:1,opacity:.5},P),name:"legend-back-rect",capture:!1});return z.toBack(),M},e.prototype.layoutItems=function(){var t=this.get("legendCanvas"),i=this.get("horiSep"),n=this.get("vertiSep"),a=this.get("layout"),o=this.get("align"),s=[0,0],l=t.find(function(b){return b.get("name")==="root"}),u=l.find(function(b){return b.get("name")==="node-group"}),f=l.find(function(b){return b.get("name")==="edge-group"}),c={min:0,max:-1/0},h=-1/0;u.get("children").forEach(function(b,_){_===0&&(c.min=s[0]);var M=b.get("children")[0],A=b.getCanvasBBox(),I=M.getBBox(),k=I.width,E=I.height,O=0,P=0,N=0;a==="vertical"?(P=s[1],N=s[0]+k/2,s[0]=N+A.height+n,O=A.maxX+P+k/2):(P=s[0]+k/2,N=s[1],s[0]=P+A.width+i,O=A.maxY+N+E/2),s[0]>c.max&&(c.max=s[0]),O>h&&(h=O),b.setMatrix([1,0,0,0,1,0,P,N,1])});var d=c.max-c.min,v={min:0,max:-1/0},p=u.getCanvasBBox();s[0]=0,s[1]=a==="vertical"?p.maxX+i:p.maxY+n,f.get("children").forEach(function(b,_){_===0&&(v.min=s[0]);var M=b.get("children")[0],A=b.getCanvasBBox(),I=M.getBBox(),k=I.width,E=I.height,O=0,P=0;a==="vertical"?(O=s[1],P=s[0],s[0]=P+A.height+n,b.setMatrix([1,0,0,0,1,0,0,P+E/2,1])):(O=s[0],P=s[1],s[0]=O+A.width+i,b.setMatrix([1,0,0,0,1,0,O+k/2,0,1])),s[0]>v.max&&(v.max=s[0])});var g=v.max-v.min;if(o&&o!==""&&o!=="left"){var m=d-g,y=o==="center"?Math.abs(m)/2:Math.abs(m),x=m<0?u:f;x.get("children").forEach(function(b){var _=b.getMatrix()||[1,0,0,0,1,0,0,0,1];a==="vertical"?_[7]+=y:_[6]+=y,b.setMatrix(_)})}},e.prototype.processData=function(){var t=this.get("data"),i={nodes:[],edges:[]};t.nodes&&(t.nodes.sort(function(n,a){return n.order-a.order}),t.nodes.forEach(function(n){var a,o,s,l,u,f=n.size||[((a=n.style)===null||a===void 0?void 0:a.width)||((o=n.style)===null||o===void 0?void 0:o.r)||8,((s=n.style)===null||s===void 0?void 0:s.height)||((l=n.style)===null||l===void 0?void 0:l.r)||8],c=((u=n.labelCfg)===null||u===void 0?void 0:u.style)||{};i.nodes.push({id:n.id||(0,Nm.uniqueId)(),type:n.type||"circle",style:Bo({},n.style),order:n.order,label:n.label,itemType:"node",size:f,labelCfg:{position:"right",style:Bo({fontFamily:"Arial"},c)}})})),t.edges&&(t.edges.sort(function(n,a){return n.order-a.order}),t.edges.forEach(function(n){var a,o,s=n.type||"line";n.type==="cubic-horizontal"&&(s="cubic");var l=((a=n.labelCfg)===null||a===void 0?void 0:a.style)||{},u=n.size||[((o=n.style)===null||o===void 0?void 0:o.width)||8,1];i.edges.push({id:n.id||(0,Nm.uniqueId)(),type:s,size:u,style:Bo({lineWidth:(0,Nm.isArray)(u)?u[1]:1},n.style),order:n.order,label:n.label,itemType:"edge",labelCfg:{position:"right",style:Bo({fontFamily:"Arial"},l)}})})),this.set("itemsData",i)},e.prototype.getContainer=function(){return this.get("container")},e.prototype.formatArray=function(t){var i=this.get(t);if((0,Nm.isNumber)(i))this.set(t,[i,i,i,i]);else if((0,Nm.isArray)(i))switch(i.length){case 0:this.set(t,[0,0,0,0]);break;case 1:this.set(t,[i[0],i[0],i[0],i[0]]);break;case 2:this.set(t,[i[0],i[1],i[0],i[1]]);break;case 3:this.set(t,[i[0],i[1],i[2],i[1]]);break;default:break}return this.get(t)},e.prototype.getShapeSize=function(t){var i,n,a;return t.size&&((0,Nm.isArray)(t.size)?(i=t.size[0],n=t.size[1]||t.size[0],a=t.size[0]/2):(0,Nm.isNumber)(t.size)&&(i=t.size,n=t.size,a=t.size/2)),t.style&&(t.style.width&&(i=t.style.width),t.style.height&&(n=t.style.height),t.style.r&&(a=t.style.r)),a||(a=5),i||(i=a),n||(n=a),{width:i,height:n,r:a}},e.prototype.getStyle=function(t,i){var n=t==="node"?{fill:"#ccc",lineWidth:0}:{stroke:"#000",lineWidth:1};return Bo(Bo({},n),i.style||{})},e.prototype.destroy=function(){var t=this.get("legendCanvas");t==null||t.destroy();var i=this.get("graph"),n=i.get("container"),a=this.get("container");n.removeChild(a)},e}(Wa),hVt=Pir;var c_=et(ot());var vVt=et(QI());var Dir=function(){var r=function(t,i){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(n[o]=a[o])},r(t,i)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Wd=function(){return Wd=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Wd.apply(this,arguments)},dVt=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};typeof document!="undefined"&&(0,vVt.default)(`
  .g6-annotation-container {
    background-color: rgba(255, 255, 255, 0.3);
    padding: 8px;
  }
  .g6-annotation-wrapper {
    background-color: #fff;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.85);
  }
  .g6-annotation-header-wapper {
    height: fit-content;
    width: 100%;
    background-color: #5B8FF9;
    display: inline-flex;
    cursor: move;
  }
  .g6-annotation-title {
    margin: 4px 40px 4px 8px;
    cursor: text;
    min-width: 32px;
  }
  .g6-annotation-collapse {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-expand {
    margin: 4px;
    cursor: pointer;
  }
  .g6-annotation-close {
    margin: 4px 8px 4px 0;
    cursor: pointer;
  }
  .g6-annotation-content {
    padding: 8px;
    width: fit-content;
    cursor: text;
    word-break: break-all;
    min-width: 32px;
  }
  .g6-annotation-title-input-wrapper {
    margin: 4px 40px 4px 8px;
  }
  .g6-annotation-content-input {
    height: 100%;
    word-break: break-all;
  }
  .g6-annotation-content-input-wrapper {
    margin: 8px;
    height: 100%;
  }
`);var pVt="canvas-annotation",Fir=function(r){Dir(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{trigger:"click",editable:!0,itemHighlightState:"highlight",linkHighlightStyle:{shadowColor:"#5B8FF9",shadowBlur:10},cardCfg:{minHeight:60,width:"fit-content",height:"fit-content",collapseType:"minimize",closeType:"hide",borderRadius:5,maxTitleLength:20}}},e.prototype.getEvents=function(){var t={viewportchange:"updateLinks",afterlayout:"updateLinks",aftergraphrefreshposition:"updateLinks",afterupdateitem:"updateLink",afterchangedata:"onGraphDataChange",afteritemvisibilitychange:"onGraphItemVisibilityChange"};switch(this.get("trigger")){case"click":t=Wd(Wd({},t),{"node:click":"showAnnotation","edge:click":"showAnnotation"})}return t},e.prototype.getDOMContent=function(t){if(!this.destroyed){var i=t.collapsed,n=t.maxWidth,a=t.title,o=a===void 0?"":a,s=t.content,l=s===void 0?"":s,u=t.borderRadius,f=u===void 0?5:u,c=i?"<p class='g6-annotation-expand'>+</p>":"<p class='g6-annotation-collapse'>-</p>",h=i?"":" <p class='g6-annotation-content'>".concat(l,"</p>"),d="<p class='g6-annotation-close'>x</p>",v=i?"".concat(f,"px"):"".concat(f,"px ").concat(f,"px 0 0");return'<div class="g6-annotation-wrapper" style="border-radius: '.concat(f,"px; max-width: ").concat(n,`px">
        <div
          class="g6-annotation-header-wapper"
          style="border-radius: `).concat(v,`;"
        >
          <h4 class='g6-annotation-title'>`).concat(o,`</h4>
          `).concat(c,`
          `).concat(d,`
        </div>
        `).concat(h,`
      </div>`)}},e.prototype.init=function(){var t=this;if(!t.destroyed){var i=t.get("graph"),n=i.getContainer(),a=t.get("container"),o=this.get("containerCfg");o?(a=this.createContainer(),n.appendChild(a)):a=n,this.set("container",a);var s=n.getBoundingClientRect(),l=new wu({container:n,width:s.right-s.left,height:s.bottom-s.top});xr(l.get("el"),{position:"absolute",top:0,left:0,pointerEvents:"none"}),window.addEventListener("resize",(0,c_.debounce)(function(){return t.resizeCanvas(t)},100));var u=l.addGroup({id:"annotation-link-group"});t.set("linkGroup",u),t.set("canvas",l),t.get("getTitle")||t.set("getTitle",function(c){var h,d=((h=c==null?void 0:c.getModel)===null||h===void 0?void 0:h.call(c))||{},v=d.label,p=d.id;return v||p||"-"}),t.get("getContent")||t.set("getContent",function(c){var h,d;if(!c)return"-";var v=((h=c.getModel)===null||h===void 0?void 0:h.call(c))||{},p=v.label,g=v.id,m=(d=c.getType)===null||d===void 0?void 0:d.call(c),y=m?"".concat(m,": "):"";return"".concat(y).concat(p||g||"")});var f=t.get("defaultData");f&&this.readData(f)}},e.prototype.createContainer=function(){var t=this;if(!this.destroyed){var i=this.get("containerCfg"),n=this.get("graph"),a=n.getContainer(),o=a.getBoundingClientRect(),s=o.left,l=o.right,u=o.top,f=o.bottom,c=f-u,h=l-s,d=i.position,v=d===void 0?"top":d,p=i.offsetX,g=p===void 0?0:p,m=i.offsetY,y=m===void 0?0:m,x=dVt(i,["position","offsetX","offsetY"]),b=i.height,_=b===void 0?"fit-content":b,M=i.width,A=M===void 0?n.getWidth():M;_==="100%"&&(_=c),A==="100%"&&(A=h);var I="unset",k="unset",E={};switch(v){case"right":I="".concat(c,"px"),E={top:0,right:0},E.right+=s+g,E.top+=u+y;break;case"bottom":k="".concat(h,"px"),E={bottom:0,left:0},E.left+=s+g,E.bottom+=u+y;break;case"top":k="".concat(h,"px");case"left":I="".concat(c,"px");default:E={top:0,left:0},E.left+=s+g,E.top+=u+y;break}Object.keys(E).forEach(function(P){E[P]="".concat(E[P],"px")});var O=gi("<div class='".concat(i.className," g6-annotation-container'></div>"));return xr(O,Wd(Wd({position:"absolute",display:v==="top"||v==="bottom"?"inline-flex":"unset",width:(0,c_.isNumber)(A)?"".concat(A,"px"):A,height:(0,c_.isNumber)(_)?"".concat(_,"px"):_,maxHeight:I,maxWidth:k,overflow:"scroll"},E),x)),a.appendChild(O),O.addEventListener("scroll",function(P){t.updateLinks()}),O}},e.prototype.resizeCanvas=function(t){clearTimeout(t.resizeTimer),t.resizeTimer=setTimeout(function(){if(!(!t||t.destroyed)){var i=t.get("container").getBoundingClientRect(),n=i.right-i.left,a=i.bottom-i.top;t.get("canvas").changeSize(n,a),t.updateOutsideCards(t)}},250)},e.prototype.updateOutsideCards=function(t){var i=t||this,n=i.get("cardInfoMap")||{},a=i.get("graph"),o=a.getPointByCanvas(0,0),s=a.getPointByCanvas(a.getWidth(),a.getHeight()),l=a.getClientByPoint(o.x,o.y),u=l.x,f=l.y,c=a.getClientByPoint(s.x,s.y),h=c.x,d=c.y;Object.values(n).forEach(function(v){var p=v.card;if(!!p){var g=p.style,m=IM(g.left),y=IM(g.top),x=p.getBoundingClientRect(),b=x.width,_=x.height,M=m,A=y;m+b>h-u&&(M=h-u-b),m<0&&(M=0),y+_>d-f&&(A=d-f-_),y<0&&(A=0),xr(p,{left:"".concat(M,"px"),top:"".concat(A,"px")})}}),i.updateLinks()},e.prototype.showAnnotation=function(t){if(!this.destroyed){var i=t.item;this.toggleAnnotation(i)}},e.prototype.hideCards=function(){var t=this;if(!t.destroyed){var i=t.get("cardInfoMap")||{};Object.keys(i).forEach(function(n){t.hideCard(n)})}},e.prototype.toggleAnnotation=function(t,i){var n,a;i===void 0&&(i={});var o=this;if(!o.destroyed){var s=o.get("cardInfoMap")||{},l=o.get("graph"),u=o.get("container"),f=o.get("containerCfg"),c=Object.assign({},o.get("cardCfg")||{},i),h=c.minHeight,d=c.minWidth,v=c.width,p=c.height,g=c.collapsed,m=g===void 0?!1:g,y=c.x,x=c.y,b=c.title,_=c.content,M=c.maxTitleLength,A=c.defaultBegin,I=dVt(c,["minHeight","minWidth","width","height","collapsed","x","y","title","content","maxTitleLength","defaultBegin"]),k=o.get("linkGroup"),E=this.get("rows")||[[]],O=(n=t.isCanvas)===null||n===void 0?void 0:n.call(t),P=O?pVt:t.getID(),N=s[P]||{},R=N.card,z=N.link,B=N.x,Y=N.y,q=N.title,j=N.content,Z=this.get("getTitle"),tt=this.get("getContent"),lt=this.get("getContentPlaceholder")||function(){return""},J=this.get("getTitlePlaceHolder")||function(){return""},nt=lt(t),ut=J(t),ft=gi(this.getDOMContent(Wd({itemId:P,collapsed:m,title:((a=q||b||(Z==null?void 0:Z(t)))===null||a===void 0?void 0:a.substr(0,M))||ut,content:j||_||(tt==null?void 0:tt(t))||nt},I))),pt=(0,c_.isNumber)(h)?"".concat(h,"px"):h;xr(ft,{minHeight:m?"unset":pt,minWidth:(0,c_.isNumber)(d)?"".concat(d,"px"):d,height:p,width:v});var _t=!!R;_t?(z==null||z.remove(!0),u.replaceChild(ft,R)):u.appendChild(ft);var Et;if(!f){if(Et=u.getBoundingClientRect()||{},y!==void 0&&x!==void 0)B=y,Y=x;else if(!_t&&!O){var Ot=Et.top,oe=A||{},se=oe.left,_e=oe.right,le=_e===void 0?16:_e,ar=oe.top,pe=ar===void 0?8:ar,ze=oe.bottom,rr=le,ur=pe;isNaN(se)||(rr=u.scrollWidth-se),isNaN(ze)||(ur=u.scrollHeight-ze);var _r=(0,c_.isNumber)(d)?d:100;B=u.scrollWidth-ft.scrollWidth-(E.length-1)*_r-rr;var it=E[E.length-1],kt=(it[it.length-1]||{}).bbox;Y=(kt==null?void 0:kt.bottom)-Ot||ur}xr(ft,{position:"absolute",left:"".concat(B,"px"),top:"".concat(Y,"px"),cusor:f?"unset":"move"})}this.bindListener(ft,P);var Gt=ft.getBoundingClientRect();if(!O){var te=Kut(t,Gt,l,this.get("canvas")),we=this.get("linkStyle");z=k.addShape("path",{attrs:Wd({lineWidth:1,lineDash:[5,5],stroke:"#ccc",path:te},we)})}if(s[P]=Wd(Wd({},s[P]||{}),{id:P,collapsed:m,card:ft,link:z,x:B,y:Y,cardBBox:Gt,content:j||_,title:q||b,contentPlaceholder:nt,titlePlaceholder:ut,isCanvas:O}),o.set("cardInfoMap",s),f)this.updateCardPositionsInConatainer(),this.updateLinks();else{var Ht=!isNaN(y)&&!isNaN(x);if(!_t&&!O&&!Ht){var ce=Et.bottom,Oe=ce===void 0?0:ce,Ot=Et.top;E[E.length-1].push({id:P,bbox:Gt}),Gt.top>Oe-Ot-Gt.height-16&&E.push([]),this.set("rows",E)}}this.updateCardSize(P);var je=this.get("onAnnotationChange");je==null||je(s[P],_t?"update":"create")}},e.prototype.updateCardPositionsInConatainer=function(){if(!this.destroyed){var t=this.get("cardInfoMap");if(!!t){var i=this.get("container"),n=this.get("containerCfg").position,a=i.getBoundingClientRect().width,o=getComputedStyle(i),s=IM(o.paddingLeft)+IM(o.paddingRight);a-=s,Object.values(t).forEach(function(l){var u=l.card,f=u.getBoundingClientRect().width;switch(n){case"right":xr(u,{marginLeft:a?"".concat(a-f,"px"):"0px"});break;case"top":case"bottom":xr(u,{marginLeft:"8px"});default:break}})}}},e.prototype.handleExpandCollapseCard=function(t){if(!this.destroyed){var i=this.get("graph"),n=this.get("cardInfoMap");if(!!n){var a=n[t].collapsed,o=i.findById(t);if(!!o){var s=this.get("cardCfg").collapseType;s==="hide"&&!a?this.hideCard(t):this.toggleAnnotation(o,{collapsed:!a}),n[t]=Wd(Wd({},n[t]),{collapsed:!a})}}}},e.prototype.hideCard=function(t){if(!this.destroyed){var i=this.get("cardInfoMap");if(!(!i||!i[t])){var n=i[t],a=n.card,o=n.link;xr(a,{display:"none"}),o==null||o.hide();var s=this.get("onAnnotationChange");s(i[t],"hide")}}},e.prototype.removeCard=function(t){if(!this.destroyed){var i=this.get("cardInfoMap");if(!!i){var n=i[t],a=n.card,o=n.link,s=this.get("container");s.removeChild(a),o==null||o.remove(!0),delete i[t];var l=this.get("onAnnotationChange");l(n,"remove")}}},e.prototype.bindListener=function(t,i){var n=this;if(!this.destroyed){t.addEventListener("mousemove",function(l){var u;if(l.target.className==="g6-annotation-collapse"?u="collapse":l.target.className==="g6-annotation-expand"?u="expand":l.target.className==="g6-annotation-close"&&(u="close"),u){var f=n.get("cardCfg").onMouseEnterIcon,c=f===void 0?function(){}:f;c(l,i,u)}}),t.addEventListener("mouseout",function(l){var u;if(l.target.className==="g6-annotation-collapse"?u="collapse":l.target.className==="g6-annotation-expand"?u="expand":l.target.className==="g6-annotation-close"&&(u="close"),u){var f=n.get("cardCfg").onMouseLeaveIcon,c=f===void 0?function(){}:f;c(l,i,u)}}),t.addEventListener("mouseenter",function(l){var u=n.get("cardInfoMap");if(!!u){var f=n.get("graph"),c=f.findById(i);if(c){var h=n.get("itemHighlightState");f.setItemState(c,h,!0)}var d=u[i].link;if(d){var v=n.get("linkHighlightStyle")||{};d.attr(v)}}}),t.addEventListener("mouseleave",function(l){var u=n.get("cardInfoMap");if(!!u){var f=n.get("graph"),c=f.findById(i);if(c){var h=n.get("itemHighlightState");f.setItemState(c,h,!1)}var d=u[i].link;if(d){var v=n.get("linkHighlightStyle")||{};Object.keys(v).forEach(function(g){d.attr(g,void 0),d.attr(g,void 0)});var p=n.get("linkStyle");d.attr(p)}}}),t.addEventListener("click",function(l){var u=(n.get("cardCfg")||{}).onClickIcon;if(l.target.className==="g6-annotation-collapse"||l.target.className==="g6-annotation-expand"){var f=n.get("cardCfg").collapseType;f==="hide"?n.hideCard(i):n.handleExpandCollapseCard(i),u==null||u(l,i,l.target.className==="g6-annotation-collapse"?"collapse":"expand")}else if(l.target.className==="g6-annotation-close"){var c=n.get("cardCfg").closeType;c==="remove"?n.removeCard(i):n.hideCard(i),u==null||u(l,i,"close")}});var a=this.get("editable");a&&t.addEventListener("dblclick",function(l){var u=n.get("cardInfoMap"),f=(n.get("cardCfg")||{}).maxTitleLength,c=f===void 0?20:f;if(!!u){var h=l.target,d=h.className;if(!(d!=="g6-annotation-title"&&d!=="g6-annotation-content")){var v=d==="g6-annotation-title"?h.getBoundingClientRect():h.parentNode.getBoundingClientRect(),p=v.width,g=v.height,m=getComputedStyle(h),y=d==="g6-annotation-title"?"input":"textarea",x=gi("<".concat(y,' class="').concat(d,'-input" type="textarea" style="width:').concat(p,"px; height: ").concat(g,'px; min-width: 16px;"/>')),b=gi('<div class="'.concat(d,'-input-wrapper" style="width: ').concat(p,"px; height: ").concat(g,"px; min-width: 16px; margin-right: ").concat(m.marginRight,'" />'));b.appendChild(x),h.parentNode.replaceChild(b,h);var _=u[i],M=_.contentPlaceholder,A=_.titlePlaceholder,I=_.content,k=_.title,E=I;d==="g6-annotation-title"?(x.name="title",x.maxLength=c,E=k):x.name="content",E?(x.innerHTML=h.innerHTML,x.value=h.innerHTML):x.placeholder=d==="g6-annotation-title"?A:M,x.focus(),x.addEventListener("blur",function(O){x.value&&(h.innerHTML=x.value,_[x.name||"title"]=x.value),b.parentNode.replaceChild(h,b),n.updateCardSize(i);var P=n.get("onAnnotationChange");P==null||P(_,"update")})}}});var o=["g6-annotation-title","g6-annotation-content","g6-annotation-title-input","g6-annotation-content-input"];t.draggable=!0,t.addEventListener("dragstart",function(l){var u=l.target.className;if(!o.includes(u)){var f=t.style;n.set("dragging",{card:t,x:l.clientX,y:l.clientY,left:IM(f.left),top:IM(f.top)})}}),t.addEventListener("drag",function(l){l.preventDefault();var u=n.get("cardInfoMap");if(!!u){var f=l.clientX,c=l.clientY,h=n.get("dragging");if(!(isNaN(f)||isNaN(c)||!h)){var d=h.x,v=h.y,p=h.left,g=h.top,m=h.card,y=f-d,x=c-v;p+=y,g+=x;var b=n.get("graph"),_=b.getPointByCanvas(0,0),M=b.getPointByCanvas(b.getWidth(),b.getHeight()),A=b.getClientByPoint(_.x,_.y),I=A.x,k=A.y,E=b.getClientByPoint(M.x,M.y),O=E.x,P=E.y,N=m.getBoundingClientRect(),R=N.right-N.left,z=N.bottom-N.top;(p>O-I-R&&y>0||p<0&&y<0)&&(p-=y),(g>P-k-z&&x>0||g<0&&x<0)&&(g-=x),xr(m,{left:"".concat(p,"px"),top:"".concat(g,"px"),visibility:"hidden"}),d=f,v=c;var B=(u[i]||{}).link;if(B){var Y=b.findById(i);B.attr("path",Kut(Y,N,b,n.get("canvas")))}n.set("dragging",{x:d,y:v,left:p,top:g,card:m})}}});var s=function(u){var f=n.get("cardInfoMap");if(!!f){var c=n.get("dragging");if(c){var h=c.left,d=c.top,v=c.card;f[i].x=h,f[i].y=d,xr(v,{visibility:"visible"}),n.set("dragging",!1);var p=n.get("rows");p==null||p.forEach(function(m){for(var y=m.length-1;y>=0;y--)m[y].id===i&&m.splice(y,1)});var g=n.get("onAnnotationChange");g==null||g(f[i],"update")}}};t.addEventListener("dragend",s)}},e.prototype.updateCardSize=function(t){var i=this.get("cardInfoMap");if(!!i){var n=i[t].card,a=n.getBoundingClientRect().width,o=n.getElementsByClassName("g6-annotation-title")[0];if(o){var s=getComputedStyle(o),l=IM(s.marginLeft),u=o.getBoundingClientRect().width;xr(o,{marginRight:"".concat(a-l-24-16-u,"px")})}}},e.prototype.updateLink=function(t){var i=t.item;if(!!i){var n=this.get("cardInfoMap");if(!!n){var a=this.get("canvas"),o=this.get("graph"),s=i.getID(),l=n[s]||{},u=l.link,f=l.card;if(u){var c=Kut(i,f.getBoundingClientRect(),o,a);u.attr("path",c)}}}},e.prototype.updateLinks=function(){var t=this;if(!this.destroyed){var i=this.get("cardInfoMap");if(!!i){var n=this.get("graph");Object.values(i).forEach(function(a){var o=a.id,s=n.findById(o);t.updateLink({item:s})})}}},e.prototype.onGraphDataChange=function(){var t=this,i=this.get("cardInfoMap");if(!!i){var n=this.get("graph");Object.values(i).forEach(function(a){var o=a.id,s=a.card,l=a.isCanvas;if(!(!s||l||s.style.display==="none")){var u=n.findById(o);u&&u.isVisible()?t.toggleAnnotation(u):t.hideCard(o)}})}},e.prototype.onGraphItemVisibilityChange=function(t){var i=t.item,n=t.visible;if(!(!i||i.destroyed)){var a=this.get("cardInfoMap");if(!!a){var o=i.getID();!a[o]||n||this.hideCard(o)}}},e.prototype.saveData=function(t){t===void 0&&(t=!1);var i=this.get("cardInfoMap");if(!!i){var n=this.get("graph"),a=this.get("getTitle"),o=this.get("getContent"),s=[];return Object.values(i).forEach(function(l){var u=l.title,f=l.content,c=l.x,h=l.y,d=l.id,v=l.collapsed,p=l.card;if(!(p&&p.style.display==="none"&&!t)){var g=n.findById(d)||n.get("canvas");s.push({id:d,x:c,y:h,collapsed:v,title:u||(a==null?void 0:a(g)),content:f||(o==null?void 0:o(g)),visible:p&&p.style.display!=="none"})}}),s}},e.prototype.readData=function(t){var i=this,n=this.get("graph");t.forEach(function(a){var o=a.id,s=a.x,l=a.y,u=a.title,f=a.content,c=a.collapsed,h=a.visible,d=n.findById(o);if(!d&&o===pVt&&(d=n.get("canvas")),!d){var v=i.get("cardInfoMap")||{};v[o]=a,i.set("cardInfoMap",v);return}i.toggleAnnotation(d,{x:s,y:l,title:u,content:f,collapsed:c}),h||i.hideCard(o)})},e.prototype.clear=function(){var t=this.get("cardInfoMap");if(!!t){var i=this.get("container");Object.values(t).forEach(function(n){var a=n.card,o=n.link;i.removeChild(a),o==null||o.remove(!0)}),this.set("cardInfoMap",{})}},e.prototype.destroy=function(){var t;this.clear(),(t=this.get("canvas"))===null||t===void 0||t.destroy();var i=this.get("graph");!i||i.destroyed||(this.get("containerCfg")&&i.getContainer().removeChild(this.get("container")),this.destroyed=!0)},e}(Wa),gVt=Fir,Nir=function(e,t){var i,n,a,o=1/0;Object.keys(e).forEach(function(u){var f=e[u];Object.keys(t).forEach(function(c){var h=t[c],d=f.x-h.x,v=f.y-h.y,p=d*d+v*v;o>p&&(o=p,i=f,n=h,a=[u,c])})});var s=20,l=ma.getControlPoint(i,n,.5,s);return[["M",i.x,i.y],["Q",l.x,l.y,n.x,n.y]]},Kut=function(e,t,i,n){var a,o,s=e.getType();if(s==="edge")o=[e.getKeyShape().getPoint(.5)];else{var l=(a=e.getKeyShape)===null||a===void 0?void 0:a.call(e).getBBox(),u=l.minX,f=l.minY,c=l.maxX,h=l.maxY,d=e.getModel(),v=d.x,p=d.y;u+=v,f+=p,c+=v,h+=p,o={left:{x:u,y:(f+h)/2},right:{x:c,y:(f+h)/2},top:{x:(u+c)/2,y:f},bottom:{x:(u+c)/2,y:h}}}Object.keys(o).forEach(function(k){var E=o[k],O=E.x,P=E.y,N=i.getClientByPoint(O,P);o[k]=n.getPointByClient(N.x,N.y)});var g=t.top,m=g===void 0?0:g,y=t.left,x=y===void 0?0:y,b=t.right,_=b===void 0?0:b,M=t.bottom,A=M===void 0?0:M,I={left:n.getPointByClient(x,(m+A)/2),right:n.getPointByClient(_,(m+A)/2),top:n.getPointByClient((x+_)/2,m),bottom:n.getPointByClient((x+_)/2,A)};return Nir(o,I)},IM=function(e){return Number(e.replace(/\s+|px/gi,""))||0};var Bir={PluginBase:Wa,Menu:O8t,Grid:E8t,Minimap:D8t,Bundling:N8t,ToolBar:Y8t,Tooltip:V8t,Fisheye:G8t,TimeBar:aVt,ImageMinimap:oVt,EdgeFilterLens:fVt,SnapLine:cVt,Legend:hVt,Annotation:gVt},mVt=Bir;var _s=mVt;var Qut=et(ot());xl("circle",{options:{size:lr.defaultNode.size,style:{x:0,y:0,stroke:lr.defaultNode.style.stroke,fill:lr.defaultNode.style.fill,lineWidth:lr.defaultNode.style.lineWidth},labelCfg:{style:{fill:lr.nodeLabel.style.fill,fontSize:lr.nodeLabel.style.fontSize,fontFamily:lr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:lr.defaultNode.linkPoints.size,lineWidth:lr.defaultNode.linkPoints.lineWidth,fill:lr.defaultNode.linkPoints.fill,stroke:lr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:S({},lr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).icon,n=i===void 0?{}:i,a=this.getShapeStyle(e),o=(0,Qut.deepMix)({},n,e.icon),s="".concat(this.type,"-keyShape"),l=t.addShape("circle",{attrs:a,className:s,name:s,draggable:!0});t.shapeMap[s]=l;var u=o.width,f=o.height,c=o.show,h=o.text;if(c){var d="".concat(this.type,"-icon");h?t.shapeMap[d]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:d,name:d,draggable:!0}):t.shapeMap[d]=t.addShape("image",{attrs:S({x:-u/2,y:-f/2},o),className:d,name:d,draggable:!0})}return this.drawLinkPoints(e,t),l},drawLinkPoints:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).linkPoints;if(!!i){var n=i||{},a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,f=n.r,c=Ze(n,["top","left","right","bottom","size","r"]),h=this.getSize(e),d=h[0]/2;if(o){var v="link-point-left";t.shapeMap[v]=t.addShape("circle",{attrs:S(S({},c),{x:-d,y:0,r:u/2||f||5}),className:v,name:v,isAnchorPoint:!0})}if(s){var p="link-point-right";t.shapeMap[p]=t.addShape("circle",{attrs:S(S({},c),{x:d,y:0,r:u/2||f||5}),className:p,name:p,isAnchorPoint:!0})}if(a){var g="link-point-top";t.shapeMap[g]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:-d,r:u/2||f||5}),className:g,name:g,isAnchorPoint:!0})}if(l){var m="link-point-bottom";t.shapeMap[m]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:d,r:u/2||f||5}),className:m,name:m,isAnchorPoint:!0})}}},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,Qut.deepMix)({},t,i),a=this.getSize(e),o=a[0]/2,s=S({x:0,y:0,r:o},n);return s},update:function(e,t,i){var n=t.getContainer(),a=this.getSize(e),o=S({},e.style);e.style.stroke===void 0&&e.color&&(o.stroke=e.color),e.style.r===void 0&&!isNaN(a[0])&&(o.r=a[0]/2),this.updateShape(e,t,o,!0,i),this.updateLinkPoints(e,n)}},"single-node");var P8=et(ot());xl("rect",{options:{size:[100,30],style:{radius:0,stroke:lr.defaultNode.style.stroke,fill:lr.defaultNode.style.fill,lineWidth:lr.defaultNode.style.lineWidth},labelCfg:{style:{fill:lr.nodeLabel.style.fill,fontSize:lr.nodeLabel.style.fontSize,fontFamily:lr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:lr.defaultNode.linkPoints.size,lineWidth:lr.defaultNode.linkPoints.lineWidth,fill:lr.defaultNode.linkPoints.fill,stroke:lr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:S({},lr.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(e,t){var i=this.getShapeStyle(e),n=t.addShape("rect",{attrs:i,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});return t.shapeMap["".concat(this.type,"-keyShape")]=n,this.drawLinkPoints(e,t),n},drawLinkPoints:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).linkPoints,n=i===void 0?{}:i,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,f=n.r,c=Ze(n,["top","left","right","bottom","size","r"]),h=this.getSize(e),d=h[0],v=h[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},c),{x:-d/2,y:0,r:u/2||f||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},c),{x:d/2,y:0,r:u/2||f||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:-v/2,r:u/2||f||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:v/2,r:u/2||f||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,P8.mix)({},t,i),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],l=S({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(e,t,i){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s=t.get("keyShape");e.size||(o[0]=s.attr("width")||a.width,o[1]=s.attr("height")||a.height);var l={stroke:e.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},u=(0,P8.mix)({},a,s.attr(),l);u=(0,P8.mix)(u,e.style),this.updateShape(e,t,u,!1,i),this.updateLinkPoints(e,n)}},"single-node");var D8=et(ot());xl("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:lr.defaultNode.style.stroke,fill:lr.defaultNode.style.fill,lineWidth:lr.defaultNode.style.lineWidth},labelCfg:{style:{fill:lr.nodeLabel.style.fill,fontSize:lr.nodeLabel.style.fontSize,fontFamily:lr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:lr.defaultNode.linkPoints.size,lineWidth:lr.defaultNode.linkPoints.lineWidth,fill:lr.defaultNode.linkPoints.fill,stroke:lr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:S({},lr.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).icon,n=i===void 0?{}:i,a=this.getShapeStyle(e),o=t.addShape("ellipse",{attrs:a,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0});t.shapeMap["ellipse-keyShape"]=o;var s=n.width,l=n.height,u=n.show,f=n.text;return u&&(f?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:S({x:-s/2,y:-l/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).linkPoints,n=i===void 0?{}:i,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,f=n.r,c=Ze(n,["top","left","right","bottom","size","r"]),h=this.getSize(e),d=h[0]/2,v=h[1]/2;o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},c),{x:-d,y:0,r:u/2||f||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},c),{x:d,y:0,r:u/2||f||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:-v,r:u/2||f||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:v,r:u/2||f||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,D8.mix)({},t,i),a=this.getSize(e),o=a[0]/2,s=a[1]/2,l=S({x:0,y:0,rx:o,ry:s},n);return l},update:function(e,t,i){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getSize(e),s={stroke:e.color,rx:o[0]/2,ry:o[1]/2},l=t.get("keyShape"),u=(0,D8.mix)({},a,l.attr(),s);u=(0,D8.mix)(u,e.style),this.updateShape(e,t,u,!0,i),this.updateLinkPoints(e,n)}},"single-node");var F8=et(ot());xl("diamond",{options:{size:[80,80],style:{stroke:lr.defaultNode.style.stroke,fill:lr.defaultNode.style.fill,lineWidth:lr.defaultNode.style.lineWidth},labelCfg:{style:{fill:lr.nodeLabel.style.fill,fontSize:lr.nodeLabel.style.fontSize,fontFamily:lr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:lr.defaultNode.linkPoints.size,lineWidth:lr.defaultNode.linkPoints.lineWidth,fill:lr.defaultNode.linkPoints.fill,stroke:lr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:S({},lr.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).icon,n=i===void 0?{}:i,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,l=n.height,u=n.show,f=n.text;return u&&(f?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:S({x:-s/2,y:-l/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).linkPoints,n=i===void 0?{}:i,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,f=n.r,c=Ze(n,["top","left","right","bottom","size","r"]),h=this.getSize(e),d=h[0],v=h[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},c),{x:-d/2,y:0,r:u/2||f||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},c),{x:d/2,y:0,r:u/2||f||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:-v/2,r:u/2||f||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:v/2,r:u/2||f||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},getPath:function(e){var t=this.getSize(e),i=t[0],n=t[1],a=[["M",0,-n/2],["L",i/2,0],["L",0,n/2],["L",-i/2,0],["Z"]];return a},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,F8.mix)({},t,i),a=this.getPath(e),o=S({path:a},n);return o},update:function(e,t,i){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},l=t.get("keyShape"),u=(0,F8.mix)({},a,l.attr(),s);u=(0,F8.mix)(u,e.style),this.updateShape(e,t,u,!0,i),this.updateLinkPoints(e,n)}},"single-node");var lB=et(ot());xl("triangle",{options:{size:40,direction:"up",style:{stroke:lr.defaultNode.style.stroke,fill:lr.defaultNode.style.fill,lineWidth:lr.defaultNode.style.lineWidth},labelCfg:{style:{fill:lr.nodeLabel.style.fill,fontSize:lr.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:lr.defaultNode.linkPoints.size,lineWidth:lr.defaultNode.linkPoints.lineWidth,fill:lr.defaultNode.linkPoints.fill,stroke:lr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:S({},lr.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(e,t){var i=this.mergeStyle||this.getOptions(e),n=i.icon,a=n===void 0?{}:n,o=i.direction,s=this.getShapeStyle(e),l=e.direction||o,u=t.addShape("path",{attrs:s,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var f=a.width,c=a.height,h=a.show,d=a.offset,v=a.text;if(h)if(v)t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0});else{var p=-f/2,g=-c/2;(l==="up"||l==="down")&&(g+=d),(l==="left"||l==="right")&&(p+=d),t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:S({x:p,y:g},a),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})}return this.drawLinkPoints(e,t),u},drawLinkPoints:function(e,t){var i=this.mergeStyle||this.getOptions(e),n=i.linkPoints,a=n===void 0?{}:n,o=i.direction,s=e.direction||o,l=a.top,u=a.left,f=a.right,c=a.bottom,h=a.size,d=a.r,v=Ze(a,["top","left","right","bottom","size","r"]),p=this.getSize(e),g=p[0];if(u){var m=null,y=g*Math.sin(1/3*Math.PI),x=g*Math.sin(1/3*Math.PI);s==="up"?m=[-x,y]:s==="down"?m=[-x,-y]:s==="left"&&(m=[-x,x-y]),m&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},v),{x:m[0],y:m[1],r:h/2||d||5}),className:"link-point-left",name:"link-point-left"}))}if(f){var b=null,y=g*Math.sin(1/3*Math.PI),x=g*Math.sin(1/3*Math.PI);s==="up"?b=[x,y]:s==="down"?b=[x,-y]:s==="right"&&(b=[x,x-y]),b&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},v),{x:b[0],y:b[1],r:h/2||d||5}),className:"link-point-right",name:"link-point-right"}))}if(l){var _=null,y=g*Math.sin(1/3*Math.PI),x=g*Math.sin(1/3*Math.PI);s==="up"?_=[x-y,-y]:s==="left"?_=[x,-y]:s==="right"&&(_=[-x,-y]),_&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},v),{x:_[0],y:_[1],r:h/2||d||5}),className:"link-point-top",name:"link-point-top"}))}if(c){var M=null,y=g*Math.sin(1/3*Math.PI),x=g*Math.sin(1/3*Math.PI);s==="down"?M=[-x+y,y]:s==="left"?M=[x,y]:s==="right"&&(M=[-x,y]),M&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:S(S({},v),{x:M[0],y:M[1],r:h/2||d||5}),className:"link-point-bottom",name:"link-point-bottom"}))}},getPath:function(e){var t=(this.mergeStyle||this.getOptions(e)).direction,i=e.direction||t,n=this.getSize(e),a=n[0],o=a*Math.sin(1/3*Math.PI),s=a*Math.sin(1/3*Math.PI),l=[["M",-s,o],["L",0,-o],["L",s,o],["Z"]];return i==="down"?l=[["M",-s,-o],["L",s,-o],["L",0,o],["Z"]]:i==="left"?l=[["M",-s,s-o],["L",s,-s],["L",s,s],["Z"]]:i==="right"&&(l=[["M",s,s-o],["L",-s,s],["L",-s,-s],["Z"]]),l},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,lB.mix)({},t,i),a=this.getPath(e),o=S({path:a},n);return o},update:function(e,t,i){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},l=t.get("keyShape"),u=(0,lB.mix)({},a,l.attr(),s);u=(0,lB.mix)(u,e.style),this.updateShape(e,t,u,!0,i),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var i=this.getOptions({}),n=i.linkPoints,a=i.direction,o=e.direction||a,s=t.shapeMap["link-point-left"]||t.find(function(B){return B.get("className")==="link-point-left"}),l=t.shapeMap["link-point-right"]||t.find(function(B){return B.get("className")==="link-point-right"}),u=t.shapeMap["link-point-top"]||t.find(function(B){return B.get("className")==="link-point-top"}),f=t.shapeMap["link-point-bottom"]||t.find(function(B){return B.get("className")==="link-point-bottom"}),c=n,h=s||l||u||f;h&&(c=h.attr());var d=(0,lB.mix)({},c,e.linkPoints),v=d.fill,p=d.stroke,g=d.lineWidth,m=d.size/2;m||(m=d.r);var y=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},x=y.left,b=y.right,_=y.top,M=y.bottom,A=this.getSize(e),I=A[0],k={r:m,fill:v,stroke:p,lineWidth:g},E=null,O=I*Math.sin(1/3*Math.PI),P=I*Math.sin(1/3*Math.PI);o==="up"?E=[-P,O]:o==="down"?E=[-P,-O]:o==="left"&&(E=[-P,P-O]),E&&(s?!x&&x!==void 0?(s.remove(),delete t.shapeMap["link-point-left"]):s.attr(S(S({},k),{x:E[0],y:E[1]})):x&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},k),{x:E[0],y:E[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})));var N=null;o==="up"?N=[P,O]:o==="down"?N=[P,-O]:o==="right"&&(N=[P,P-O]),N&&(l?!b&&b!==void 0?(l.remove(),delete t.shapeMap["link-point-right"]):l.attr(S(S({},k),{x:N[0],y:N[1]})):b&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},k),{x:N[0],y:N[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})));var R=null;o==="up"?R=[P-O,-O]:o==="left"?R=[P,-O]:o==="right"&&(R=[-P,-O]),R&&(u?!_&&_!==void 0?(u.remove(),delete t.shapeMap["link-point-top"]):u.attr(S(S({},k),{x:R[0],y:R[1]})):_&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},k),{x:R[0],y:R[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})));var z=null;o==="down"?z=[-P+O,O]:o==="left"?z=[P,O]:o==="right"&&(z=[-P,O]),z&&(f?!M&&M!==void 0?(f.remove(),delete t.shapeMap["link-point-bottom"]):f.attr(S(S({},k),{x:z[0],y:z[1]})):M&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:S(S({},k),{x:z[0],y:z[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})))}},"single-node");var bc=et(ot());xl("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:lr.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14,fontFamily:lr.windowFontFamily},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf",fontFamily:lr.windowFontFamily},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).preRect,n=i===void 0?{}:i,a=this.getShapeStyle(e),o=this.getSize(e),s=o[0],l=o[1],u=t.addShape("rect",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=u;var f=n.show,c=Ze(n,["show"]);return f&&(t.shapeMap["pre-rect"]=t.addShape("rect",{attrs:S({x:-s/2,y:-l/2,height:l},c),className:"pre-rect",name:"pre-rect",draggable:!0})),this.drawLogoIcon(e,t),this.drawStateIcon(e,t),this.drawLinkPoints(e,t),u},drawLogoIcon:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).logoIcon,n=i===void 0?{}:i,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,f=n.y,c=n.offset,h=n.text,d=Ze(n,["width","height","x","y","offset","text"]);h?t.shapeMap["rect-logo-icon"]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},d),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.shapeMap["rect-logo-icon"]=t.addShape("image",{attrs:S(S({},d),{x:u||-o/2+s+c,y:f||-l/2,width:s,height:l}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).stateIcon,n=i===void 0?{}:i,a=this.getSize(e),o=a[0];if(n.show){var s=n.width,l=n.height,u=n.x,f=n.y,c=n.offset,h=n.text,d=Ze(n,["width","height","x","y","offset","text"]);h?t.shapeMap["rect-state-icon"]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},d),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.shapeMap["rect-state-icon"]=t.addShape("image",{attrs:S(S({},d),{x:u||o/2-s+c,y:f||-l/2,width:s,height:l}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).linkPoints,n=i===void 0?{}:i,a=n.top,o=n.left,s=n.right,l=n.bottom,u=n.size,f=n.r,c=Ze(n,["top","left","right","bottom","size","r"]),h=this.getSize(e),d=h[0],v=h[1];o&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},c),{x:-d/2,y:0,r:u/2||f||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),s&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},c),{x:d/2,y:0,r:u/2||f||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),a&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:-v/2,r:u/2||f||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),l&&(t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:S(S({},c),{x:0,y:v/2,r:u/2||f||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))},drawLabel:function(e,t){var i=this.getOptions(e),n=i.labelCfg,a=n===void 0?{}:n,o=i.logoIcon,s=o===void 0?{}:o,l=i.descriptionCfg,u=l===void 0?{}:l,f=this.getSize(e),c=f[0],h=null,d=s.show,v=s.width,p=-c/2+a.offset;d&&(p=-c/2+v+a.offset);var g=a.style,m=u.style,y=u.paddingTop;return(0,bc.isString)(e.description)?(h=t.addShape("text",{attrs:S(S({},g),{x:p,y:-5,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=h,t.shapeMap["rect-description"]=t.addShape("text",{attrs:S(S({},m),{x:p,y:17+(y||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0})):(h=t.addShape("text",{attrs:S(S({},g),{x:p,y:7,text:e.label}),className:"text-shape",name:"text-shape",draggable:!0,labelRelated:!0}),t.shapeMap["text-shape"]=h),h},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,bc.mix)({},t,i),a=this.getSize(e),o=n.width||a[0],s=n.height||a[1],l=S({x:-o/2,y:-s/2,width:o,height:s},n);return l},update:function(e,t){var i=this.mergeStyle||this.getOptions(e),n=i.style,a=n===void 0?{}:n,o=i.labelCfg,s=o===void 0?{}:o,l=i.descriptionCfg,u=l===void 0?{}:l,f=this.getSize(e),c=f[0],h=f[1],d=t.get("keyShape");d.attr(S(S({},a),{x:-c/2,y:-h/2,width:c,height:h}));var v=t.getContainer(),p=v.shapeMap["rect-logo-icon"]||v.find(function(ft){return ft.get("className")==="rect-logo-icon"}),g=p?p.attr():{},m=(0,bc.mix)({},g,e.logoIcon),y=m.width;y===void 0&&(y=this.options.logoIcon.width);var x=e.logoIcon?e.logoIcon.show:void 0,b=s.offset,_=-c/2+y+b;!x&&x!==void 0&&(_=-c/2+b);var M=v.shapeMap["node-label"]||v.find(function(ft){return ft.get("className")==="node-label"}),A=v.shapeMap["rect-description"]||v.find(function(ft){return ft.get("className")==="rect-description"});if(e.label)if(!M)v.shapeMap["node-label"]=v.addShape("text",{attrs:S(S({},s.style),{x:_,y:e.description?-5:7,text:e.label}),className:"node-label",name:"node-label",draggable:!0,labelRelated:!0});else{var I=e.labelCfg?e.labelCfg.style:{},k=(0,bc.mix)({},M.attr(),I);e.label&&(k.text=e.label),k.x=_,(0,bc.isString)(e.description)&&(k.y=-5),A&&(A.resetMatrix(),A.attr({x:_})),M.resetMatrix(),M.attr(k)}if((0,bc.isString)(e.description)){var E=u.paddingTop;if(!A)v.shapeMap["rect-description"]=v.addShape("text",{attrs:S(S({},u.style),{x:_,y:17+(E||0),text:e.description}),className:"rect-description",name:"rect-description",draggable:!0,labelRelated:!0});else{var I=e.descriptionCfg?e.descriptionCfg.style:{},O=(0,bc.mix)({},A.attr(),I);(0,bc.isString)(e.description)&&(O.text=e.description),O.x=_,A.resetMatrix(),A.attr(S(S({},O),{y:17+(E||0)}))}}var P=v.shapeMap["pre-rect"]||v.find(function(ft){return ft.get("className")==="pre-rect"});if(P&&!P.destroyed){var N=(0,bc.mix)({},P.attr(),e.preRect);P.attr(S(S({},N),{x:-c/2,y:-h/2,height:h}))}if(p&&!p.destroyed)if(!x&&x!==void 0)p.remove(),delete v.shapeMap["pre-rect"];else{var R=m.width,z=m.height,B=m.x,Y=m.y,q=m.offset,j=Ze(m,["width","height","x","y","offset"]);p.attr(S(S({},j),{x:B||-c/2+R+q,y:Y||-z/2,width:R,height:z}))}else x&&this.drawLogoIcon(e,v);var Z=v.shapeMap["rect-state-icon"]||v.find(function(ft){return ft.get("className")==="rect-state-icon"}),tt=Z?Z.attr():{},lt=(0,bc.mix)({},tt,e.stateIcon);if(Z){!lt.show&&lt.show!==void 0&&(Z.remove(),delete v.shapeMap["rect-state-icon"]);var J=lt.width,z=lt.height,B=lt.x,Y=lt.y,nt=lt.offset,ut=Ze(lt,["width","height","x","y","offset"]);Z.attr(S(S({},ut),{x:B||c/2-J+nt,y:Y||-z/2,width:J,height:z}))}else lt.show&&this.drawStateIcon(e,v);this.updateLinkPoints(e,v)},getOptions:function(e,t){return t==="move"?e:(0,bc.deepMix)({},this.options,this.getCustomConfig(e)||{},e)}},"single-node");var uB=et(ot());xl("star",{options:{size:60,style:{stroke:lr.defaultNode.style.stroke,fill:lr.defaultNode.style.fill,lineWidth:lr.defaultNode.style.lineWidth},labelCfg:{style:{fill:lr.nodeLabel.style.fill,fontSize:lr.nodeLabel.style.fontSize,fontFamily:lr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:lr.defaultNode.linkPoints.size,lineWidth:lr.defaultNode.linkPoints.lineWidth,fill:lr.defaultNode.linkPoints.fill,stroke:lr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:S({},lr.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).icon,n=i===void 0?{}:i,a=this.getShapeStyle(e),o=t.addShape("path",{attrs:a,className:"".concat(this.type,"-keyShape"),name:"".concat(this.type,"-keyShape"),draggable:!0});t.shapeMap["".concat(this.type,"-keyShape")]=o;var s=n.width,l=n.height,u=n.show,f=n.text;return u&&(f?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:S({x:-s/2,y:-l/2},n),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),this.drawLinkPoints(e,t),o},drawLinkPoints:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).linkPoints,n=i===void 0?{}:i,a=n.top,o=n.left,s=n.right,l=n.leftBottom,u=n.rightBottom,f=n.size,c=n.r,h=Ze(n,["top","left","right","leftBottom","rightBottom","size","r"]),d=this.getSize(e),v=d[0];if(s){var p=Math.cos((18+72*0)/180*Math.PI)*v,g=Math.sin((18+72*0)/180*Math.PI)*v;t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},h),{x:p,y:-g,r:f/2||c||5}),className:"link-point-right",name:"link-point-right"})}if(a){var p=Math.cos((18+72*1)/180*Math.PI)*v,g=Math.sin((18+72*1)/180*Math.PI)*v;t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},h),{x:p,y:-g,r:f/2||c||5}),className:"link-point-top",name:"link-point-top"})}if(o){var p=Math.cos((18+72*2)/180*Math.PI)*v,g=Math.sin((18+72*2)/180*Math.PI)*v;t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},h),{x:p,y:-g,r:f/2||c||5}),className:"link-point-left",name:"link-point-left"})}if(l){var p=Math.cos((18+72*3)/180*Math.PI)*v,g=Math.sin((18+72*3)/180*Math.PI)*v;t.shapeMap["link-point-bottom"]=t.addShape("circle",{attrs:S(S({},h),{x:p,y:-g,r:f/2||c||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(u){var p=Math.cos((18+72*4)/180*Math.PI)*v,g=Math.sin((18+72*4)/180*Math.PI)*v;t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:S(S({},h),{x:p,y:-g,r:f/2||c||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(e){var t=this.getSize(e),i=t[0],n=i*3/8,a=e.innerR||n;return ma.getStarPath(i,a)},getShapeStyle:function(e){var t=(this.mergeStyle||this.getOptions(e)).style,i={stroke:e.color},n=(0,uB.mix)({},t,i),a=this.getPath(e),o=S({path:a},n);return o},update:function(e,t,i){var n=t.getContainer(),a=this.getOptions({}).style,o=this.getPath(e),s={stroke:e.color,path:o},l=t.get("keyShape"),u=(0,uB.mix)({},a,l.attr(),s);u=(0,uB.mix)(u,e.style),this.updateShape(e,t,u,!0,i),this.updateLinkPoints(e,n)},updateLinkPoints:function(e,t){var i=this.getOptions({}).linkPoints,n=t.shapeMap["link-point-left"]||t.find(function(O){return O.get("className")==="link-point-left"}),a=t.shapeMap["link-point-right"]||t.find(function(O){return O.get("className")==="link-point-right"}),o=t.shapeMap["link-point-top"]||t.find(function(O){return O.get("className")==="link-point-top"}),s=t.shapeMap["link-point-left-bottom"]||t.find(function(O){return O.get("className")==="link-point-left-bottom"}),l=t.shapeMap["link-point-left-bottom"]||t.find(function(O){return O.get("className")==="link-point-right-bottom"}),u=i,f=n||a||o||s||l;f&&(u=f.attr());var c=(0,uB.mix)({},u,e.linkPoints),h=c.fill,d=c.stroke,v=c.lineWidth,p=c.size/2;p||(p=c.r);var g=e.linkPoints?e.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},m=g.left,y=g.right,x=g.top,b=g.leftBottom,_=g.rightBottom,M=this.getSize(e),A=M[0],I={r:p,fill:h,stroke:d,lineWidth:v},k=Math.cos((18+72*0)/180*Math.PI)*A,E=Math.sin((18+72*0)/180*Math.PI)*A;a?!y&&y!==void 0?(a.remove(),delete t.shapeMap["link-point-right"]):a.attr(S(S({},I),{x:k,y:-E})):y&&(t.shapeMap["link-point-right"]=t.addShape("circle",{attrs:S(S({},I),{x:k,y:-E}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0})),k=Math.cos((18+72*1)/180*Math.PI)*A,E=Math.sin((18+72*1)/180*Math.PI)*A,o?!x&&x!==void 0?(o.remove(),delete t.shapeMap["link-point-top"]):o.attr(S(S({},I),{x:k,y:-E})):x&&(t.shapeMap["link-point-top"]=t.addShape("circle",{attrs:S(S({},I),{x:k,y:-E}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0})),k=Math.cos((18+72*2)/180*Math.PI)*A,E=Math.sin((18+72*2)/180*Math.PI)*A,n?!m&&m!==void 0?(n.remove(),delete t.shapeMap["link-point-left"]):n.attr(S(S({},I),{x:k,y:-E})):m&&(t.shapeMap["link-point-left"]=t.addShape("circle",{attrs:S(S({},I),{x:k,y:-E}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0})),k=Math.cos((18+72*3)/180*Math.PI)*A,E=Math.sin((18+72*3)/180*Math.PI)*A,s?!b&&b!==void 0?(s.remove(),delete t.shapeMap["link-point-left-bottom"]):s.attr(S(S({},I),{x:k,y:-E})):b&&(t.shapeMap["link-point-left-bottom"]=t.addShape("circle",{attrs:S(S({},I),{x:k,y:-E}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0})),k=Math.cos((18+72*4)/180*Math.PI)*A,E=Math.sin((18+72*4)/180*Math.PI)*A,l?!_&&_!==void 0?(l.remove(),delete t.shapeMap["link-point-right-bottom"]):l.attr(S(S({},I),{x:k,y:-E})):_&&(t.shapeMap["link-point-right-bottom"]=t.addShape("circle",{attrs:S(S({},I),{x:k,y:-E}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0}))}},"single-node");var yVt=et(ot()),xVt=ma.defaultSubjectColors,fB="fan-shape-",bVt=function(e,t){var i=0,n=[];return Object.keys(e).forEach(function(a){var o=+e[a];isNaN(o)||(n.push({key:a,value:o,color:t[a]}),i+=o)}),{totalValue:i,configs:n}},wVt=function(e){var t=e.attr("r"),i=.6*t,n=(t+i)/2,a=t-i;return{lineWidth:a,arcR:n}},$ut=function(e,t){var i=t.arcR,n=t.arcBegin,a=t.beginAngle,o=t.config,s=t.fanIndex,l=t.lineWidth,u=t.totalValue,f=t.drawWhole,c=f===void 0?!1:f,h=t.updateShape,d=h===void 0?void 0:h,v=o.value/u;if(v<.001)return{beginAngle:a,arcBegin:n,shape:void 0,shouldEnd:!1};var p,g,m;if(c||v>.999)p=[i,1e-4],m=1;else{var y=v*Math.PI*2;g=a+y,p=[i*Math.cos(g),-i*Math.sin(g)],m=y>Math.PI?1:0}var x={path:[["M",n[0],n[1]],["A",i,i,0,m,0,p[0],p[1]]],stroke:o.color||(d==null?void 0:d.attr("stroke"))||xVt[s%xVt.length],lineWidth:l};return d?d.attr(x):e.shapeMap["".concat(fB).concat(s)]=e.addShape("path",{attrs:x,name:"".concat(fB).concat(s),draggable:!0}),{beginAngle:g,arcBegin:p,shape:e.shapeMap["".concat(fB).concat(s)],shouldEnd:c||v>.999}},Rir=function(e,t,i){var n=e.donutAttrs,a=n===void 0?{}:n,o=e.donutColorMap,s=o===void 0?{}:o,l=Object.keys(a).length;if(a&&l>1){var u=bVt(a,s),f=u.configs,c=u.totalValue;if(c){var h=wVt(i),d=h.lineWidth,v=h.arcR,p=[v,0],g=0;if(l===1){$ut(t,{arcR:v,arcBegin:p,beginAngle:g,config:f[0],fanIndex:0,lineWidth:d,totalValue:c,drawWhole:!0});return}for(var m=0;m<f.length;m++){var y=$ut(t,{arcR:v,arcBegin:p,beginAngle:g,config:f[m],fanIndex:m,lineWidth:d,totalValue:c});if(y.shouldEnd)return;p=y.arcBegin,g=y.beginAngle}}}},Gir=function(e,t,i){var n=e.donutAttrs,a=e.donutColorMap,o=a===void 0?{}:a,s={},l=t.getContainer();if(n){var u=bVt(n,o),f=u.configs,c=u.totalValue;if(c)for(var h=wVt(i),d=h.lineWidth,v=h.arcR,p=[v,0],g=0,m=0;m<f.length;m++){var y="".concat(fB).concat(m),x=$ut(l,{arcR:v,arcBegin:p,beginAngle:g,config:f[m],fanIndex:m,lineWidth:d,totalValue:c,drawWhole:f.length===1,updateShape:l.shapeMap[y]});if(x.shape&&(s[y]=!0),x.shouldEnd)break;p=x.arcBegin,g=x.beginAngle}}var b=Object.keys(l.shapeMap).filter(function(_){return _.includes(fB)});b.forEach(function(_){s[_]||(l.shapeMap[_].remove(!0),delete l.shapeMap[_])})};xl("donut",{options:{size:lr.defaultNode.size,style:{x:0,y:0,stroke:lr.defaultNode.style.stroke,fill:lr.defaultNode.style.fill,lineWidth:lr.defaultNode.style.lineWidth},labelCfg:{style:{fill:lr.nodeLabel.style.fill,fontSize:lr.nodeLabel.style.fontSize,fontFamily:lr.windowFontFamily}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:lr.defaultNode.linkPoints.size,lineWidth:lr.defaultNode.linkPoints.lineWidth,fill:lr.defaultNode.linkPoints.fill,stroke:lr.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:S({},lr.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(e,t){var i=(this.mergeStyle||this.getOptions(e)).icon,n=i===void 0?{}:i,a=this.getShapeStyle(e),o=(0,yVt.deepMix)({},n,e.icon),s=t.addShape("circle",{attrs:a,className:"".concat(this.type,"-keyShape"),draggable:!0,name:"".concat(this.type,"-keyShape")});t.shapeMap["".concat(this.type,"-keyShape")]=s;var l=o.width,u=o.height,f=o.show,c=o.text;return f&&(c?t.shapeMap["".concat(this.type,"-icon")]=t.addShape("text",{attrs:S({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0}):t.shapeMap["".concat(this.type,"-icon")]=t.addShape("image",{attrs:S({x:-l/2,y:-u/2},o),className:"".concat(this.type,"-icon"),name:"".concat(this.type,"-icon"),draggable:!0})),Rir(e,t,s),this.drawLinkPoints(e,t),s},updateShape:function(e,t,i,n,a){var o=t.get("keyShape");o.attr(S({},i)),Gir(e,t,o),this.updateLabel(e,t,a),n&&this.updateIcon(e,t)}},"circle");var mf=et(ot());var N8=function(e){var t=e.x,i=e.y;return{x:t,y:i,centerX:t,centerY:i,minX:t,minY:i,maxX:t,maxY:i,height:0,width:0}},zir=function(e){e===void 0&&(e=[]);var t=[],i=[];e.forEach(function(l){t.push(l.x),i.push(l.y)});var n=Math.min.apply(Math,t),a=Math.max.apply(Math,t),o=Math.min.apply(Math,i),s=Math.max.apply(Math,i);return{centerX:(n+a)/2,centerY:(o+s)/2,maxX:a,maxY:s,minX:n,minY:o,height:s-o,width:a-n}};var Jut=function(e){for(var t=[],i={},n=e.length,a=n-1;a>=0;a--){var o=e[a];o.id="".concat(o.x,"|||").concat(o.y),i[o.id]||(i[o.id]=o,t.push(o))}return t},tft=function(e){return Jut(e)};var cB=function(e,t){return e.width||e.height?{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}:e},jir=function(e,t){var i=Math.abs(e.x-t.centerX),n=Math.abs(e.y-t.centerY);return i===0&&n===0?0:i/t.width>n/t.height},B8=function(e,t,i){var n=jir(t,e);if(n===0){var a=e.centerX,o=e.centerY;return i.y<t.y?o=e.minY:i.x>t.x?a=e.maxX:i.x<t.x?a=e.minX:i.x===t.x&&(o=e.maxY),{x:a,y:o}}return n?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},_Vt=function(e,t){var i=Math.min(e.minX,t.minX),n=Math.min(e.minY,t.minY),a=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(i+a)/2,centerY:(n+o)/2,minX:i,minY:n,maxX:a,maxY:o,height:o-n,width:a-i}},eft=function(e){return[{x:e.minX,y:e.minY},{x:e.maxX,y:e.minY},{x:e.maxX,y:e.maxY},{x:e.minX,y:e.maxY}]},R8=function(e,t){var i=e.x,n=e.y;return i<t.minX||i>t.maxX||n<t.minY||n>t.maxY},Yir=function(e,t){return t<e.minX||t>e.maxX?[]:[{x:t,y:e.minY},{x:t,y:e.maxY}]},Wir=function(e,t){return t<e.minY||t>e.maxY?[]:[{x:e.minX,y:t},{x:e.maxX,y:t}]},Vir=function(e,t){return Yir(e,t.x).concat(Wir(e,t.y))},hB=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},qir=function(e,t){var i=-2,n=0;return t.forEach(function(a){a&&(e.x===a.x&&(n+=i),e.y===a.y&&(n+=i))}),n},SVt=function(e,t,i,n,a){return hB(e,t)+hB(e,i)+qir(e,[t,i,n,a])},CVt=function(e,t,i,n,a){a===void 0&&(a=0),e.unshift(t[n]),i[n]&&i[n]!==n&&a<=100&&CVt(e,t,i,i[n],a+1)};var G8=function(e,t,i,n){var a=i.x-e.x,o=i.y-e.y,s=n.x-e.x,l=n.y-e.y,u=i.x-t.x,f=i.y-t.y,c=n.x-t.x,h=n.y-t.y,d=a*l-o*s,v=u*h-f*c,p=a*f-o*u,g=s*h-l*c;return d*v<=0&&p*g<=0},z8=function(e,t,i){if(i.width||i.height){var n=eft(i),a=n[0],o=n[1],s=n[2],l=n[3];return G8(e,t,a,o)||G8(e,t,a,l)||G8(e,t,o,s)||G8(e,t,s,l)}return!1},Hir=function(e,t,i,n){var a=[];return e.forEach(function(o){if(o!==t&&(o.x===t.x||o.y===t.y)){if(z8(o,t,i)||z8(o,t,n))return;a.push(o)}}),Jut(a)},rft=function(){function r(){this.arr=[],this.map={},this.arr=[],this.map={}}return r.prototype._innerAdd=function(e,t){for(var i=[0,t-1];i[1]-i[0]>1;){var n=Math.floor((i[0]+i[1])/2);if(this.arr[n].value>e.value)i[1]=n;else if(this.arr[n].value<e.value)i[0]=n;else{this.arr.splice(n,0,e),this.map[e.id]=!0;return}}this.arr.splice(i[1],0,e),this.map[e.id]=!0},r.prototype.add=function(e){delete this.map[e.id];var t=this.arr.length;if(!t){this.arr.push(e),this.map[e.id]=!0;return}if(this.arr[t-1].value<e.value){this.arr.push(e),this.map[e.id]=!0;return}this._innerAdd(e,t)},r.prototype.remove=function(e){!this.map[e]||delete this.map[e]},r.prototype._clearAndGetMinId=function(){for(var e,t=this.arr.length-1;t>=0;t--)this.map[this.arr[t].id]?e=this.arr[t].id:this.arr.splice(t,1);return e},r.prototype._findFirstId=function(){for(;this.arr.length;){var e=this.arr.shift();if(this.map[e.id])return e.id}},r.prototype.minId=function(e){return e?this._clearAndGetMinId():this._findFirstId()},r}();var Uir=function(e,t,i,n,a,o,s){var l,u=[],f=(l={},l[t.id]=t,l),c={},h={},d={};h[t.id]=0,d[t.id]=SVt(t,i,t);var v=new rft;v.add({id:t.id,value:d[t.id]});var p={};e.forEach(function(_){p[_.id]=_});for(var g;Object.keys(f).length;){var m=v.minId(!1);if(m)g=f[m];else break;if(g===i){var y=[];return CVt(y,p,c,i.id),y}delete f[g.id],v.remove(g.id),u.push(g);var x=Hir(e,g,n,a),b=function(M){M.forEach(function(A){if(u.indexOf(A)===-1){var I=A.id;f[I]||(f[I]=A);var k=d[g.id]+hB(g,A);if(h[I]&&k>=h[I]){v.add({id:I,value:d[I]});return}c[I]=g.id,h[I]=k,d[I]=h[I]+SVt(A,i,t,o,s),v.add({id:I,value:d[I]})}})};b(x)}return[t,i]},Xir=function(e,t,i){return!(e.x===t.x&&t.x===i.x||e.y===t.y&&t.y===i.y)},Zir=function(e,t,i,n){var a=hB(e,t),o=hB(i,t);a<n&&(n=a),o<n&&(n=o);var s={x:t.x-n/a*(t.x-e.x),y:t.y-n/a*(t.y-e.y)},l={x:t.x-n/o*(t.x-i.x),y:t.y-n/o*(t.y-i.y)};return[s,l]},ift=function(e,t){var i=[],n=e[0];return i.push("M".concat(n.x," ").concat(n.y)),e.forEach(function(a,o){var s=e[o+1],l=e[o+2];if(s&&l)if(Xir(a,s,l)){var u=Zir(a,s,l,t),f=u[0],c=u[1];i.push("L".concat(f.x," ").concat(f.y)),i.push("Q".concat(s.x," ").concat(s.y," ").concat(c.x," ").concat(c.y)),i.push("L".concat(c.x," ").concat(c.y))}else i.push("L".concat(s.x," ").concat(s.y));else s&&i.push("L".concat(s.x," ").concat(s.y))}),i.join("")},j8=function(e,t,i,n,a){var o,s;if(!i||!i.getType())o=N8(e);else if(i.getType()==="combo"){var l=i.getKeyShape().getBBox();if(l){var u=i.getModel(),f=u.x,c=u.y;o={x:f,y:c,width:l.width,height:l.height,minX:l.minX+f,maxX:l.maxX+f,minY:l.minY+c,maxY:l.maxY+c},o.centerX=(o.minX+o.maxX)/2,o.centerY=(o.minY+o.maxY)/2}else o=N8(e)}else o=i&&i.getBBox();if(!n||!n.getType())s=N8(t);else if(n.getType()==="combo"){var h=n.getKeyShape().getBBox();if(h){var d=n.getModel(),v=d.x,p=d.y;s={x:v,y:p,width:h.width,height:h.height,minX:h.minX+v,maxX:h.maxX+v,minY:h.minY+p,maxY:h.maxY+p},s.centerX=(s.minX+s.maxX)/2,s.centerY=(s.minY+s.maxY)/2}else s=N8(t)}else s=n&&n.getBBox();var g=cB(o,a),m=cB(s,a),y=B8(g,e,t),x=B8(m,t,e),b=zir([y,x]),_=_Vt(g,b),M=_Vt(m,b),A=[];A=A.concat(eft(_)).concat(eft(M));var I={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[b,_,M].forEach(function(E){A=A.concat(Vir(E,I).filter(function(O){return R8(O,g)&&R8(O,m)}))}),[{x:y.x,y:x.y},{x:x.x,y:y.y}].forEach(function(E){R8(E,g)&&R8(E,m)&&A.push(E)}),A.unshift(y),A.push(x),A=Jut(A);var k=Uir(A,y,x,o,s,e,t);return k.unshift(e),k.push(t),tft(k)},MVt=function(e){if(!(e==null?void 0:e.length))return e;for(var t=e[e.length-1],i={x:t.x,y:t.y},n=[t],a=[t],o=e.length-2;o>=0;o--){var s=e[o];if(s.x===i.x?n.push(s):(n=[s],i.x=s.x),s.y===i.y?a.push(s):(a=[s],i.y=s.y),n.length>2){var l=e.indexOf(n[1]);l>-1&&e.splice(l,1);continue}if(a.length>2){var l=e.indexOf(a[1]);l>-1&&e.splice(l,1)}}return e};var AVt=et(ot());var Kir=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Qir=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},$ir=function(e,t){return[e,t]},Jir=function(e,t,i,n,a){return tft(j8(e,t,i,n,a.offset))},tnr={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:Kir,fallbackRoute:Jir},Kdn={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:Qir,fallbackRoute:$ir},Ex=function(e,t){var i=Math.round(Math.abs(e/t)),n=e<0?-1:1;return i<0?0:n*i},enr=function(e,t,i){var n={};return e.forEach(function(a){if(!!a)for(var o=cB(a.getBBox(),i),s=Ex(o.minX,t);s<=Ex(o.maxX,t);s+=1)for(var l=Ex(o.minY,t);l<=Ex(o.maxY,t);l+=1)n["".concat(s,"|||").concat(l)]=!0}),n},nft=function(e,t){var i=t.x-e.x,n=t.y-e.y;return i||n?Math.atan2(n,i):0},EVt=function(e,t){var i=Math.abs(e-t);return i>Math.PI?2*Math.PI-i:i},TVt=function(e,t,i){for(var n=1/0,a=0,o=t.length;a<o;a++){var s=i(e,t[a]);s<n&&(n=s)}return n},IVt=function(e,t,i,n,a){var o=[];if(!i)return[e];var s=a.directions,l=a.offset,u=i.getBBox(),f=t.x>u.minX&&t.x<u.maxX&&t.y>u.minY&&t.y<u.maxY,c=cB(u,l);for(var h in c)c[h]=Ex(c[h],a.gridSize);if(f){for(var d=0,v=s;d<v.length;d++)for(var p=v[d],g=[[{x:c.minX,y:c.minY},{x:c.maxX,y:c.minY}],[{x:c.minX,y:c.minY},{x:c.minX,y:c.maxY}],[{x:c.maxX,y:c.minY},{x:c.maxX,y:c.maxY}],[{x:c.minX,y:c.maxY},{x:c.maxX,y:c.maxY}]],h=0;h<4;h++){var m=g[h],y=ma.getLineIntersect(e,{x:e.x+p.stepX*c.width,y:e.y+p.stepY*c.height},m[0],m[1]);y&&!z8(e,y,u)&&(y.id="".concat(y.x,"|||").concat(y.y),o.push(y))}return o}var x=B8(c,e,n);return x.id="".concat(x.x,"|||").concat(x.y),[x]},aft=function(e,t,i,n){var a=nft(e,t),o=i[e.id];if(!o){var s=nft(n,e);return EVt(s,a)}var l=nft({x:o.x,y:o.y},e);return EVt(l,a)},rnr=function(e,t,i,n,a,o,s){var l=[n],u=n,f=e.id,c=e.x,h=e.y,d={x:c,y:h,id:f};aft(d,o,t,i)&&(u={x:o.x===n.x?n.x:d.x*s,y:o.y===n.y?n.y:d.y*s},l.unshift(u));for(var v=t[f];v&&v.id!==f;){var p={x:c,y:h,id:f},g={x:v.x,y:v.y,id:v.id},m=aft(g,p,t,i);m&&(u={x:g.x===p.x?u.x:g.x*s,y:g.y===p.y?u.y:g.y*s},l.unshift(u)),f=g.id,c=g.x,h=g.y,v=t[f]}return l[0].x=c===i.x?a.x:u.x,l[0].y=h===i.y?a.y:u.y,l.unshift(a),l},LVt=function(e,t,i,n,a){if(isNaN(e.x)||isNaN(t.x))return[];var o=(0,AVt.deepMix)(tnr,a);o.obstacles=o.obstacles||[];var s=o.penalties,l=o.gridSize,u=enr(o.obstacles.concat([i,n]),l,o.offset),f={x:Ex(e.x,l),y:Ex(e.y,l)},c={x:Ex(t.x,l),y:Ex(t.y,l)};e.id="".concat(f.x,"|||").concat(f.y),t.id="".concat(c.x,"|||").concat(c.y);var h=IVt(f,e,i,c,o),d=IVt(c,t,n,f,o);h.forEach(function(j){delete u[j.id]}),d.forEach(function(j){delete u[j.id]});for(var v={},p={},g={},m={},y={},x=new rft,b=0;b<h.length;b++){var _=h[b];v[_.id]=_,m[_.id]=0,y[_.id]=TVt(_,d,o.distFunc),x.add({id:_.id,value:y[_.id]})}var M=o.maximumLoops,A,I,k,E,O,P,N=1/0,R={};for(d.forEach(function(j){R["".concat(j.x,"|||").concat(j.y)]=!0}),Object.keys(v).forEach(function(j){var Z=v[j].id;y[Z]<=N&&(N=y[Z],A=v[Z])});Object.keys(v).length>0&&M>0;){var z=x.minId((M+1)%30==0);if(z)A=v[z];else break;if(R["".concat(A.x,"|||").concat(A.y)])return rnr(A,g,f,t,e,c,l);delete v[A.id],x.remove(A.id),p[A.id]=!0;for(var b=0;b<o.directions.length;b++){I=o.directions[b];var B="".concat(Math.round(A.x)+I.stepX,"|||").concat(Math.round(A.y)+I.stepY);if(k={x:A.x+I.stepX,y:A.y+I.stepY,id:B},!p[B]&&(P=aft(A,k,g,f),!(P>o.maxAllowedDirectionChange)&&!u[B])){v[B]||(v[B]=k);var Y=s[P];E=o.distFunc(A,k)+(isNaN(Y)?l:Y),O=m[A.id]+E;var q=m[B];q&&O>=q||(g[B]=A,m[B]=O,y[B]=O+TVt(k,d,o.distFunc),x.add({id:B,value:y[B]}))}}M-=1}return o.fallbackRoute(e,t,i,n,o)};mY("polyline",{options:{color:lr.defaultEdge.color,size:lr.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:lr.defaultEdge.style.stroke,lineAppendWidth:lr.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:lr.edgeLabel.style.fill,fontSize:lr.edgeLabel.style.fontSize,fontFamily:lr.windowFontFamily}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:S({},lr.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(e,t){var i=this.getShapeStyle(e);i.radius===0&&delete i.radius;var n=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:i});return t.shapeMap["edge-shape"]=n,n},getShapeStyle:function(e){var t=this.options.style,i={stroke:e.color},n=(0,mf.mix)({},t,i,e.style);e=this.getPathPoints(e),this.radius=n.radius,this.offset=n.offset;var a=e.startPoint,o=e.endPoint,s=this.getControlPoints(e),l=[a];s&&(l=l.concat(s)),l.push(o);var u=e.sourceNode,f=e.targetNode,c=n.radius,h=this.options.routeCfg,d=(0,mf.mix)({},h,e.routeCfg);d.offset=n.offset;var v=this.getPath(l,u,f,c,d,!Boolean(s));((0,mf.isArray)(v)&&v.length<=1||(0,mf.isString)(v)&&v.indexOf("L")===-1)&&(v="M0 0, L0 0"),(isNaN(a.x)||isNaN(a.y)||isNaN(o.x)||isNaN(o.y))&&(v="M0 0, L0 0");var p=(0,mf.mix)({},lr.defaultEdge.style,n,{lineWidth:e.size,path:v});return p},updateShapeStyle:function(e,t){var i=t.getContainer();if(!!t.isVisible()){var n={stroke:e.color},a=i.shapeMap["edge-shape"]||i.find(function(b){return b.get("className")==="edge-shape"})||t.getKeyShape(),o=e.size;e=this.getPathPoints(e);var s=e.startPoint,l=e.endPoint,u=this.getControlPoints(e),f=[s];u&&(f=f.concat(u)),f.push(l);var c=a.attr(),h=(0,mf.mix)({},n,c,e.style),d=e.sourceNode,v=e.targetNode,p=h.radius,g=this.options.routeCfg,m=(0,mf.mix)({},g,e.routeCfg);m.offset=h.offset;var y=this.getPath(f,d,v,p,m,!Boolean(u));((0,mf.isArray)(y)&&y.length<=1||(0,mf.isString)(y)&&y.indexOf("L")===-1)&&(y="M0 0, L0 0"),(isNaN(s.x)||isNaN(s.y)||isNaN(l.x)||isNaN(l.y))&&(y="M0 0, L0 0"),c.endArrow&&h.endArrow===!1&&(e.style.endArrow={path:""}),c.startArrow&&h.startArrow===!1&&(e.style.startArrow={path:""});var x=(0,mf.mix)(n,a.attr(),{lineWidth:o,path:y},e.style);a&&a.attr(x)}},getPath:function(e,t,i,n,a,o){var s=a.offset,l=a.obstacles,u=a.simple;if(!s||e.length>2||o===!1){if(n)return ift(e,n);var f=[];return(0,mf.each)(e,function(v,p){p===0?f.push(["M",v.x,v.y]):f.push(["L",v.x,v.y])}),f}u!==!1&&!(l==null?void 0:l.length)&&(u=!0);var c=u?j8(e[e.length-1],e[0],i,t,s):LVt(e[0],e[e.length-1],t,i,a);if(!c||!c.length)return"M0 0, L0 0";if(n){var h=ift(c,n);return h}c=MVt(c);var d=ma.pointsToPolygon(c);return d}},"single-edge");var lqt=et(ot());var Y8=et(ot());var OVt=vf.cloneEvent,kVt=vf.isNaN,PVt=Math.abs,inr=10,nnr=["shift","ctrl","alt","control"],DVt={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{mousedown:"onMouseDown",drag:"onDragMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(e){var t=this.origin,i=+e.clientX,n=+e.clientY;if(!(kVt(i)||kVt(n))){var a=i-t.x,o=n-t.y;this.get("direction")==="x"?o=0:this.get("direction")==="y"&&(a=0),this.origin={x:i,y:n};var s=this.graph.get("width"),l=this.graph.get("height"),u=this.graph.get("canvas").getCanvasBBox(),f=this.scalableRange,c=this.scalableRange;f<1&&f>-1&&(f=s*f,c=l*c),(u.minX<=s+f&&u.minX+a>s+f||u.maxX+f>=0&&u.maxX+f+a<0)&&(a=0),(u.minY<=l+c&&u.minY+o>l+c||u.maxY+c>=0&&u.maxY+c+o<0)&&(o=0),this.graph.translate(a,o)}},onTouchStart:function(e){var t=this,i=e.originalEvent.touches,n=i[0],a=i[1];n&&a||(e.preventDefault(),this.mousedown=!0,t.onDragStart(e))},onMouseDown:function(e){this.mousedown=!0},onDragMove:function(e){!this.mousedown||(this.dragstart?this.onDrag(e):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this,i=e.originalEvent;if(!(i&&e.name!=="touchstart"&&i.button!==0)&&!(e.name!=="touchstart"&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin(e,this)&&!t.keydown&&!!this.allowDrag(e)){if(t.origin={x:e.clientX,y:e.clientY},t.dragging=!1,this.enableOptimize){for(var n=this.graph,a=n.getEdges(),o=0,s=a.length;o<s;o++){var l=a[o].get("group").get("children");!l||l.forEach(function(x){x.set("ori-visibility",x.get("ori-visibility")||x.get("visible")),x.hide()})}for(var u=n.getNodes(),f=0,c=u.length;f<c;f++)for(var h=u[f].getContainer(),d=h.get("children"),v=0,p=d;v<p.length;v++){var g=p[v],m=g.get("isKeyShape");m||(g.set("ori-visibility",g.get("ori-visibility")||g.get("visible")),g.hide())}}if(typeof window!="undefined"){var y=this;this.handleDOMContextMenu=function(x){return y.onMouseUp(x)},document.body.addEventListener("contextmenu",this.handleDOMContextMenu)}}},onTouchMove:function(e){var t=this,i=e.originalEvent.touches,n=i[0],a=i[1];if(n&&a){this.onMouseUp(e);return}e.preventDefault(),t.onDrag(e)},onDrag:function(e){if(!!this.mousedown){var t=this.graph;if(!this.keydown&&!!this.allowDrag(e)&&(e=OVt(e),!!this.origin)){if(this.dragging)e.type="drag",t.emit("canvas:drag",e);else{if(PVt(this.origin.x-e.clientX)+PVt(this.origin.y-e.clientY)<inr)return;this.shouldBegin(e,this)&&(e.type="dragstart",t.emit("canvas:dragstart",e),this.originPosition={x:e.clientX,y:e.clientY},this.dragging=!0)}this.shouldUpdate(e,this)&&this.updateViewport(e)}}},onMouseUp:function(e){var t,i;this.mousedown=!1,this.dragstart=!1;var n=this.graph;if(!this.keydown){var a=n.getZoom(),o=n.get("modeController"),s=(i=(t=o==null?void 0:o.modes[o.mode])===null||t===void 0?void 0:t.filter(function(A){return A.type==="zoom-canvas"}))===null||i===void 0?void 0:i[0],l=s?s.optimizeZoom||.1:0;if(this.enableOptimize){for(var u=n.getEdges(),f=0,c=u.length;f<c;f++){var h=u[f].get("group").get("children");!h||h.forEach(function(A){var I=A.get("ori-visibility");A.set("ori-visibility",void 0),I&&A.show()})}if(a>l)for(var d=n.getNodes(),v=0,p=d.length;v<p;v++)for(var g=d[v].getContainer(),m=g.get("children"),y=0,x=m;y<x.length;y++){var b=x[y],_=b.get("isKeyShape");if(!_){var M=b.get("ori-visibility");b.set("ori-visibility",void 0),M&&b.show()}}}if(!this.dragging){this.origin=null;return}e=OVt(e),this.shouldEnd(e,this)&&this.updateViewport(e),e.type="dragend",e.dx=e.clientX-this.originPosition.x,e.dy=e.clientY-this.originPosition.y,n.emit("canvas:dragend",e),this.endDrag(),typeof window!="undefined"&&document.body.removeEventListener("contextmenu",this.handleDOMContextMenu)}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1,this.mousedown=!1,this.dragstart=!1},onKeyDown:function(e){var t=this,i=e.key;!i||(nnr.indexOf(i.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1},allowDrag:function(e){var t,i,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,Y8.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,Y8.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,l=o.edge,u=o.combo,f=(i=(t=e.item)===null||t===void 0?void 0:t.getType)===null||i===void 0?void 0:i.call(t);if(!s&&f==="node"||!l&&f==="edge"||!u&&f==="combo")return!1}return!0}};var eL=et(ot());var FVt={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1,enableStack:!0}},getEvents:function(){return{"node:mousedown":"onMouseDown",drag:"onDragMove",dragend:"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onDragEnd",afterchangedata:"onDragEnd"}},validationCombo:function(e){if(!this.origin||!e||e.destroyed)return!1;var t=e.getType();return t==="combo"},onTouchStart:function(e){if(!!e.item){var t=this;try{var i=e.originalEvent.touches,n=i[0],a=i[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}this.mousedown={item:e.item,target:e.target,origin:{x:e.x,y:e.y}},this.dragstart=!0,t.onDragStart(e)}},onTouchMove:function(e){var t=this;try{var i=e.originalEvent.touches,n=i[0],a=i[1];if(n&&a){t.onDragEnd(e);return}e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.onDrag(e)},onMouseDown:function(e){this.mousedown={item:e.item,target:e.target,origin:{x:e.x,y:e.y}},typeof window!="undefined"&&!this.windowEventBinded&&(this.windowEventBinded=!0,document.body.addEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.addEventListener("mouseup",this.onDragEnd.bind(this)))},onDragMove:function(e){var t,i;if(((i=(t=e.item)===null||t===void 0?void 0:t.getType)===null||i===void 0?void 0:i.call(t))!=="node"){this.onDragEnd();return}!this.mousedown||(this.dragstart?this.onDrag(S(S({},e),this.mousedown)):(this.dragstart=!0,this.onDragStart(e)))},onDragStart:function(e){var t=this;if(this.currentShouldEnd=!0,!!this.shouldBegin(S(S({},e),this.mousedown),this)){var i=this.mousedown,n=i.item,a=i.target;if(!(!n||n.destroyed||n.hasLocked())){var o=n.getContainer();if(o.set("capture",!1),this.cachedCaptureItems||(this.cachedCaptureItems=[]),this.cachedCaptureItems.push(n),a){var s=a.get("isAnchorPoint");if(s)return}var l=this.graph;this.targets=[],this.targetCombo=null;var u=l.findAllByState("node",this.selectedState),f=n.get("id"),c=u.filter(function(d){var v=d.get("id");return f===v});if(c.length===0?this.targets.push(n):u.length>1?u.forEach(function(d){var v=d.hasLocked();v||t.targets.push(d)}):this.targets.push(n),this.graph.get("enabledStack")&&this.enableStack){var h=[];this.targets.forEach(function(d){var v=d.getModel(),p=v.x,g=v.y,m=v.id;h.push({x:p,y:g,id:m})}),this.set("beforeDragNodes",h)}this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(d){var v=d.getEdges();v.forEach(function(p){!p.isVisible()||(t.hidenEdge[p.getID()]=!0,p.hide())})}),this.origin=this.mousedown.origin,this.point={},this.originPoint={}}}},onDrag:function(e){var t=this;if(!(!this.mousedown||!this.origin)&&!!this.shouldUpdate(e,this))if(this.get("enableDelegate"))this.updateDelegate(e);else if(this.enableDebounce)this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos});else{var i={};this.targets.map(function(n){t.update(n,e);var a=n.getModel().comboId;a&&(i[a]=t.graph.findById(a))}),this.onlyChangeComboSize&&this.updateParentCombos()}},onDragEnd:function(e){var t=this,i;if(this.mousedown=!1,this.dragstart=!1,typeof window!="undefined"&&this.windowEventBinded&&(this.windowEventBinded=!1,document.body.removeEventListener("contextmenu",this.onDragEnd.bind(this)),document.body.removeEventListener("mouseup",this.onDragEnd.bind(this))),!!this.origin){(i=this.cachedCaptureItems)===null||i===void 0||i.forEach(function(o){var s=o.getContainer();s.set("capture",!0)}),this.cachedCaptureItems=[],this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(o){var s=o.getEdges();s.forEach(function(l){t.hidenEdge[l.getID()]&&l.show(),l.refresh()})}),this.hidenEdge={};var n=this.graph;if(n.get("enabledStack")&&this.enableStack){var a={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(o){a.before.nodes.push(o)}),this.targets.forEach(function(o){var s=o.getModel(),l=s.x,u=s.y,f=s.id;a.after.nodes.push({x:l,y:u,id:f})}),n.pushStack("update",(0,eL.clone)(a))}n.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(e){var t=e.item;if(this.currentShouldEnd=this.shouldEnd(e,t,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!this.validationCombo(t))){var i=this.graph;if(this.comboActiveState&&i.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)i.updateCombos();else{var n=t.getModel();this.targets.map(function(a){var o=a.getModel();o.comboId!==n.id&&i.updateComboTree(a,n.id)}),i.updateCombo(t)}i.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(e){var t=this.graph;this.currentShouldEnd=this.shouldEnd(e,void 0,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.targets||this.targets.length===0||!this.currentShouldEnd)&&(this.onlyChangeComboSize?this.updateParentCombos():this.targets.map(function(i){var n=i.getModel();n.comboId&&t.updateComboTree(i)}))},onDropNode:function(e){if(!(!this.targets||this.targets.length===0)){var t=this,i=e.item,n=t.graph,a=i.getModel().comboId,o=a?n.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){if(this.onlyChangeComboSize)this.updateParentCombos();else if(a){var s=n.findById(a);t.comboActiveState&&n.setItemState(s,t.comboActiveState,!1),this.targets.map(function(l){var u=l.getModel();a!==u.comboId&&n.updateComboTree(l,a)}),n.updateCombo(s)}else this.targets.map(function(l){var u=l.getModel();u.comboId&&n.updateComboTree(l)});n.emit("dragnodeend",{items:this.targets,targetItem:i})}}},onDragEnter:function(e){var t=e.item;if(!!this.validationCombo(t)){var i=this.graph;this.comboActiveState&&i.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(e){var t=e.item;if(!!this.validationCombo(t)){var i=this.graph;this.comboActiveState&&i.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(e,t){var i=this;!this.targets||this.targets.length===0||(this.get("enableDelegate")?this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:e,updateEdge:this.get("updateEdge"),onlyChangeComboSize:this.onlyChangeComboSize,updateParentCombos:this.updateParentCombos}):t||this.targets.map(function(n){return i.update(n,e)}):this.targets.map(function(n){return i.update(n,e,t)}))},update:function(e,t,i){var n=this.origin,a=e.get("model"),o=e.get("id");this.point[o]||(this.point[o]={x:a.x||0,y:a.y||0});var s=t.x-n.x+this.point[o].x,l=t.y-n.y+this.point[o].y;i&&(s+=n.x-t.x,l+=n.y-t.y);var u={x:s,y:l};this.get("updateEdge")?this.graph.updateItem(e,u,!1):e.updatePosition(u)},debounceUpdate:(0,eL.debounce)(function(r){var e=r.targets,t=r.graph,i=r.point,n=r.origin,a=r.evt,o=r.updateEdge,s=r.onlyChangeComboSize,l=r.updateParentCombos;e.map(function(u){var f=u.get("model"),c=u.get("id");i[c]||(i[c]={x:f.x||0,y:f.y||0});var h=a.x-n.x+i[c].x,d=a.y-n.y+i[c].y,v={x:h,y:d};o?t.updateItem(u,v,!1):u.updatePosition(v)}),s&&l(t,e)},50,!0),updateDelegate:function(e){var t=this.graph;if(this.delegateRect){var h=e.x-this.origin.x+this.originPoint.minX,d=e.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:h,y:d})}else{var i=t.get("group"),n=(0,eL.deepMix)({},fp.delegateStyle,this.delegateStyle),a=this.calculationGroupPosition(e),o=a.x,s=a.y,l=a.width,u=a.height,f=a.minX,c=a.minY;this.originPoint={x:o,y:s,width:l,height:u,minX:f,minY:c},this.delegateRect=i.addShape("rect",{attrs:S({width:l,height:u,x:o,y:s},n),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(e){var t=this.targets;t.length===0&&t.push(e.item);for(var i=1/0,n=-1/0,a=1/0,o=-1/0,s=0;s<t.length;s++){var l=t[s],u=l.getBBox(),f=u.minX,c=u.minY,h=u.maxX,d=u.maxY;f<i&&(i=f),c<a&&(a=c),h>n&&(n=h),d>o&&(o=d)}var v=Math.floor(i),p=Math.floor(a),g=Math.ceil(n)-Math.floor(i),m=Math.ceil(o)-Math.floor(a);return{x:v,y:p,width:g,height:m,minX:i,minY:a}},updateParentCombos:function(e,t){var i=e||this.graph,n=t||this.targets,a={};n==null||n.forEach(function(o){var s=o.getModel().comboId;s&&(a[s]=i.findById(s))}),Object.values(a).forEach(function(o){o&&i.updateCombo(o)})}};var oft=et(ot()),W8=null,NVt={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldClearStatusOnSecond:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState","node:touchstart":"setOnTouchStart","combo:touchstart":"setOnTouchStart","canvas:touchstart":"clearOnTouchStart"}},setOnTouchStart:function(e){var t=this;try{var i=e.originalEvent.touches,n=i[0],a=i[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.setAllItemStates(e)},clearOnTouchStart:function(e){var t=this;try{var i=e.originalEvent.touches,n=i[0],a=i[1];if(n&&a)return;e.preventDefault()}catch(o){console.warn("Touch original event not exist!")}t.clearActiveState(e)},setAllItemStates:function(e){clearTimeout(this.timer),this.throttleSetAllItemStates(e,this)},clearActiveState:function(e){var t=this,i=this.shouldClearStatusOnSecond;i&&(W8=null),this.timer=setTimeout(function(){t.throttleClearActiveState(e,t)},50)},throttleSetAllItemStates:(0,oft.throttle)(function(r,e){var t=r.item,i=e.graph;if(!(!i||i.destroyed)&&(e.item=t,!!e.shouldUpdate(r.item,{event:r,action:"activate"},e))){var n=e.shouldClearStatusOnSecond,a=t.getModel().id;if(W8===a&&n){e.throttleClearActiveState(r,e),W8=null;return}for(var o=e.activeState,s=e.inactiveState,l=i.getNodes(),u=i.getCombos(),f=i.getEdges(),c=i.get("vedges"),h=l.length,d=u.length,v=f.length,p=c.length,g=e.inactiveItems||{},m=e.activeItems||{},y=0;y<h;y++){var x=l[y],b=x.getID(),_=x.hasState("selected");e.resetSelected&&_&&i.setItemState(x,"selected",!1),m[b]&&(i.setItemState(x,o,!1),delete m[b]),s&&!g[b]&&(i.setItemState(x,s,!0),g[b]=x)}for(var y=0;y<d;y++){var M=u[y],A=M.getID(),_=M.hasState("selected");e.resetSelected&&_&&i.setItemState(M,"selected",!1),m[A]&&(i.setItemState(M,o,!1),delete m[A]),s&&!g[A]&&(i.setItemState(M,s,!0),g[A]=M)}for(var y=0;y<v;y++){var I=f[y],k=I.getID();m[k]&&(i.setItemState(I,o,!1),delete m[k]),s&&!g[k]&&(i.setItemState(I,s,!0),g[k]=I)}for(var y=0;y<p;y++){var E=c[y],O=E.getID();m[O]&&(i.setItemState(E,o,!1),delete m[O]),s&&!g[O]&&(i.setItemState(E,s,!0),g[O]=E)}if(t&&!t.destroyed){s&&(i.setItemState(t,s,!1),delete g[t.getID()]),m[t.getID()]||(i.setItemState(t,o,!0),m[t.getID()]=t);for(var P=t.getEdges(),N=P.length,y=0;y<N;y++){var I=P[y],k=I.getID(),R=void 0;I.getSource()===t?R=I.getTarget():R=I.getSource();var z=R.getID();s&&g[z]&&(i.setItemState(R,s,!1),delete g[z]),m[z]||(i.setItemState(R,o,!0),m[z]=R),g[k]&&(i.setItemState(I,s,!1),delete g[k]),m[k]||(i.setItemState(I,o,!0),m[k]=I),I.toFront()}}e.activeItems=m,e.inactiveItems=g,n&&(W8=t.getModel().id),i.emit("afteractivaterelations",{item:r.item,action:"activate"})}},50,{trailing:!0,leading:!0}),throttleClearActiveState:(0,oft.throttle)(function(r,e){var t=e.get("graph");if(!(!t||t.destroyed)&&!!e.shouldUpdate(r.item,{event:r,action:"deactivate"},e)){var i=e.activeState,n=e.inactiveState,a=e.activeItems||{},o=e.inactiveItems||{};Object.values(a).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,i)}),Object.values(o).filter(function(s){return!s.destroyed}).forEach(function(s){t.clearItemStates(s,n)}),e.activeItems={},e.inactiveItems={},t.emit("afteractivaterelations",{item:r.item||e.get("item"),action:"deactivate"})}},50,{trailing:!0,leading:!0})};var V8=Math.min,BVt=Math.max,RVt=Math.abs,GVt="shift",anr=["drag","shift","ctrl","alt","control"],zVt={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:GVt,includeEdges:!0,includeCombos:!1,selectOnCombo:!1,selectedEdges:[],selectedNodes:[],selectedCombos:[]}},getEvents:function(){return anr.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=GVt,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(e){var t=e.item,i=this.brush,n=this.selectOnCombo,a=(t==null?void 0:t.getType())==="combo";a&&!n||!a&&t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),i||(i=this.createBrush()),this.originPoint={x:e.canvasX,y:e.canvasY},i.attr({width:0,height:0}),i.show(),this.dragging=!0)},onMouseMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(e)},onMouseUp:function(e){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(e),this.dragging=!1)},clearStates:function(){var e=this,t=e.graph,i=e.selectedState,n=t.findAllByState("node",i),a=t.findAllByState("edge",i),o=t.findAllByState("combo",i);n.forEach(function(s){return t.setItemState(s,i,!1)}),a.forEach(function(s){return t.setItemState(s,i,!1)}),o.forEach(function(s){return t.setItemState(s,i,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.selectedCombos=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges,this.selectedCombos),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},isBBoxCenterInRect:function(e,t,i,n,a){var o=e.getBBox();return o.centerX>=t&&o.centerX<=i&&o.centerY>=n&&o.centerY<=a},getSelectedNodes:function(e){var t=this,i=this,n=i.graph,a=i.originPoint,o=i.shouldUpdate,s=i.isBBoxCenterInRect,l=this.selectedState,u={x:e.x,y:e.y},f=n.getPointByCanvas(a.x,a.y),c=V8(u.x,f.x),h=BVt(u.x,f.x),d=V8(u.y,f.y),v=BVt(u.y,f.y),p=[],g=[];n.getNodes().forEach(function(x){if(x.isVisible()&&s(x,c,h,d,v)&&o(x,"select",t)){p.push(x);var b=x.getModel();g.push(b.id),n.setItemState(x,l,!0)}});var m=[];this.includeEdges&&p.forEach(function(x){var b=x.getOutEdges();b.forEach(function(_){if(!!_.isVisible()){var M=_.getModel(),A=M.source,I=M.target;g.includes(A)&&g.includes(I)&&o(_,"select",t)&&(m.push(_),n.setItemState(_,t.selectedState,!0))}})});var y=[];this.includeCombos&&n.getCombos().forEach(function(x){if(x.isVisible()&&s(x,c,h,d,v)&&o(x,"select",t)){y.push(x);var b=x.getModel();g.push(b.id),n.setItemState(x,l,!0)}}),this.selectedEdges=m,this.selectedNodes=p,this.selectedCombos=y,this.onSelect&&this.onSelect(p,m,y),n.emit("nodeselectchange",{selectedItems:{nodes:p,edges:m,combos:y},select:!0})},createBrush:function(){var e=this,t=e.graph.get("canvas").addShape("rect",{attrs:e.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(e){var t=this.originPoint;this.brush.attr({width:RVt(e.canvasX-t.x),height:RVt(e.canvasY-t.y),x:V8(e.canvasX,t.x),y:V8(e.canvasY,t.y)})},onKeyDown:function(e){var t=e.key;if(!!t){var i=this.trigger.toLowerCase(),n=t.toLowerCase();n===i||n==="control"&&i==="ctrl"||n==="ctrl"&&i==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}};var dB=et(ot()),jVt="shift",onr=["shift","ctrl","alt","control"],YVt={getDefaultCfg:function(){return{multiple:!0,trigger:jVt,selectedState:"selected",selectNode:!0,selectEdge:!1,selectCombo:!0}},getEvents:function(){var e=this;return onr.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=jVt,console.warn("Behavior click-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),e.multiple?{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","edge:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(e){var t=this,i=e.item;if(!(!i||i.destroyed)){var n=i.getType(),a=t.graph,o=t.keydown,s=t.multiple,l=t.shouldUpdate,u=t.shouldBegin;if(!!u(e,t)){if(!o||!s){var f=a.findAllByState("node",t.selectedState).concat(a.findAllByState("edge",t.selectedState)).concat(a.findAllByState("combo",t.selectedState));(0,dB.each)(f,function(p){p!==i&&a.setItemState(p,t.selectedState,!1)})}var c=function(){switch(n){case"node":return t.selectNode;case"edge":return t.selectEdge;case"combo":return t.selectCombo;default:return!1}}();if(!c){var h=a.findAllByState("node",t.selectedState),d=a.findAllByState("edge",t.selectedState),v=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{selectedItems:{nodes:h,edges:d,combos:v},select:!1});return}if(i.hasState(t.selectedState)){l(e,t)&&a.setItemState(i,t.selectedState,!1);var h=a.findAllByState("node",t.selectedState),d=a.findAllByState("edge",t.selectedState),v=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:i,selectedItems:{nodes:h,edges:d,combos:v},select:!1})}else{l(e,t)&&a.setItemState(i,t.selectedState,!0);var h=a.findAllByState("node",t.selectedState),d=a.findAllByState("edge",t.selectedState),v=a.findAllByState("combo",t.selectedState);a.emit("nodeselectchange",{target:i,selectedItems:{nodes:h,edges:d,combos:v},select:!0})}}}},onCanvasClick:function(e){var t=this,i=this,n=i.graph,a=i.shouldBegin;if(!!a(e,this)){var o=n.findAllByState("node",this.selectedState);(0,dB.each)(o,function(u){n.setItemState(u,t.selectedState,!1)});var s=n.findAllByState("edge",this.selectedState);(0,dB.each)(s,function(u){n.setItemState(u,t.selectedState,!1)});var l=n.findAllByState("combo",this.selectedState);(0,dB.each)(l,function(u){n.setItemState(u,t.selectedState,!1)}),n.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})}},onKeyDown:function(e){var t=this,i=e.key;!i||(i.toLowerCase()===this.trigger.toLowerCase()||i.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.keydown=!1}};var WVt=et(ot());var snr=Wr.transform,q8=.05,VVt={getDefaultCfg:function(){return this.isFireFox=Lut()==="firefox",{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"},animate:!1,animateCfg:{duration:500}}},getEvents:function(){var e=this.fixSelectedItems;return e.fixState||(e.fixState="selected"),e.fixAll&&(e.fixLineWidth=!0,e.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(e){var t=e.originalEvent.touches,i=t[0],n=t[1];e.preventDefault(),!!n&&(this.shouldBegin&&!this.shouldBegin(e,this)||(this.startPoint={pageX:i.pageX,pageY:i.pageY},this.moveable=!0,n&&(this.endPoint={pageX:n.pageX,pageY:n.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(e){if(!!this.moveable){e.preventDefault();var t=e.originalEvent.touches,i=t[0],n=t[1];if(!!n){this.endPoint||(this.endPoint={pageX:n.pageX,pageY:n.pageY});var a=function(p,g){return Math.hypot(g.x-p.x,g.y-p.y)},o=a({x:i.pageX,y:i.pageY},{x:n.pageX,y:n.pageY})/a({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),s=this.originScale*o;this.currentScale=s;var l=this.get("minZoom")||this.graph.get("minZoom"),u=this.get("maxZoom")||this.graph.get("maxZoom");if(!(s>u||s<l)){var f=this.get("animate"),c=this.get("animateCfg"),h=this.graph.get("canvas"),d=h.getPointByClient(e.clientX,e.clientY);this.graph.zoomTo(s,{x:d.x,y:d.y},f,c),this.graph.emit("wheelzoom",e)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(e){var t=this,i=this,n=i.graph,a=i.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin(e,this))&&!!this.shouldUpdate(e,this)){e.preventDefault();var o=n.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),l=this.get("sensitivity"),u=n.getZoom(),f=u,c=u;this.isFireFox?e.deltaY>0||e.wheelDelta<0?f=1-q8*l:f=1/(1-q8*l):e.wheelDelta<0?f=1-q8*l:f=1/(1-q8*l),c=u*f;var h=this.get("minZoom")||n.get("minZoom"),d=this.get("maxZoom")||n.get("maxZoom");c>d?c=d:c<h&&(c=h);var v=this.get("enableOptimize");if(v){var p=this.get("optimizeZoom"),g=this.get("optimized"),m=n.getNodes(),y=n.getEdges(),x=m.length,b=y.length;if(!g){for(var _=0;_<x;_++){var M=m[_];if(!M.destroyed)for(var A=M.get("group").get("children"),I=A.length,k=0;k<I;k++){var E=A[k];!E.destoryed&&!E.get("isKeyShape")&&(E.set("ori-visibility",E.get("ori-visibility")||E.get("visible")),E.hide())}}for(var O=0;O<b;O++)for(var P=y[O],A=P.get("group").get("children"),I=A.length,k=0;k<I;k++){var E=A[k];E.set("ori-visibility",E.get("ori-visibility")||E.get("visible")),E.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var N=setTimeout(function(){var it=n.getZoom(),kt=t.get("optimized");if(kt){t.set("optimized",!1);for(var Gt=0;Gt<x;Gt++){var te=m[Gt],we=te.get("group").get("children"),Ht=we.length;if(it<p){var ce=te.getKeyShape(),Oe=ce.get("ori-visibility");ce.set("ori-visibility",void 0),Oe&&ce.show()}else for(var je=0;je<Ht;je++){var Ae=we[je],Oe=Ae.get("ori-visibility");Ae.set("ori-visibility",void 0),!Ae.get("visible")&&Oe&&Oe&&Ae.show()}}for(var Qe=0;Qe<b;Qe++){var sr=y[Qe],we=sr.get("group").get("children"),Ht=we.length;if(it<p){var ce=sr.getKeyShape(),Oe=ce.get("ori-visibility");ce.set("ori-visibility",void 0),Oe&&ce.show()}else for(var je=0;je<Ht;je++){var Ae=we[je];if(!Ae.get("visible")){var Oe=Ae.get("ori-visibility");Ae.set("ori-visibility",void 0),Oe&&Ae.show()}}}}},100);this.set("timeout",N)}if(u<=1){var R=void 0,z=void 0;if(a.fixAll||a.fixLineWidth||a.fixLabel){R=n.findAllByState("node",a.fixState),z=n.findAllByState("edge",a.fixState);for(var B=u/c,Y=R.length,q=0;q<Y;q++){var M=R[q],j=M.getContainer(),Z=M.getModel(),tt=M.getOriginStyle(),lt=M.getStateStyle(a.fixState),J=M.get("shapeFactory").getShape(Z.type).getStateStyle(a.fixState,M)[a.fixState];if(a.fixAll){if(c<=1){var nt=(0,WVt.clone)(j.getMatrix());nt||(nt=[1,0,0,0,1,0,0,0,1]);var ut=M.getModel(),ft=ut.x,pt=ut.y;nt=snr(nt,[["t",-ft,-pt],["s",B,B],["t",ft,pt]]),j.setMatrix(nt)}}else for(var A=j.get("children"),I=A.length,k=0;k<I;k++){var E=A[k],_t=void 0,Et=void 0;if(a.fixLabel){var Ot=E.get("type");if(Ot==="text"){_t=E.attr("fontSize")||12;var oe=lt[E.get("name")],se=J[E.get("name")],_e=oe?oe.fontSize:12,le=se?se.fontSize:12,ar=_e||le||12;if(c<=1&&E.attr("fontSize",ar/c),Et)break}}if(a.fixLineWidth&&E.get("isKeyShape")){Et=E.attr("lineWidth")||0;var pe=lt.lineWidth||J.lineWidth||tt.lineWidth||0;if(c<=1&&E.attr("lineWidth",pe/c),_t)break}}}for(var ze=z.length,rr=0;rr<ze;rr++)for(var P=z[rr],j=P.getContainer(),A=j.get("children"),Z=P.getModel(),lt=P.getStateStyle(a.fixState),J=P.get("shapeFactory").getShape(Z.type).getStateStyle(a.fixState,P)[a.fixState],I=A.length,k=0;k<I;k++){var E=A[k],_t=void 0,Et=void 0;if(a.fixLabel||a.fixAll){var Ot=E.get("type");if(Ot==="text"){_t=E.attr("fontSize")||12;var oe=lt[E.get("name")],se=J[E.get("name")],_e=oe?oe.fontSize:12,le=se?se.fontSize:12,ar=_e||le||12;if(c<=1&&E.attr("fontSize",ar/c),Et)break}}if((a.fixLineWidth||a.fixAll)&&E.get("isKeyShape")){Et=E.attr("lineWidth")||0;var pe=lt.lineWidth||J.lineWidth||1;if(c<=1&&E.attr("lineWidth",pe/c),_t)break}}}}var ur=this.get("animate"),_r=this.get("animateCfg");n.zoomTo(c,{x:s.x,y:s.y},ur,_r),n.emit("wheelzoom",e)}}};var qVt=et(ot()),H8={onMouseEnter:function(e){var t=e.item;this.currentTarget=t,this.showTooltip(e),this.graph.emit("tooltipchange",{item:e.item,action:"show"})},onMouseMove:function(e){if(!this.shouldUpdate(e,this)){this.hideTooltip();return}!this.currentTarget||e.item!==this.currentTarget||this.updatePosition(e)},onMouseLeave:function(e){!this.shouldEnd(e,this)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(e){var t=this.container;if(!(!e.item||e.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var i=this.formatText(e.item.get("model"),e);(0,qVt.isString)(i)?t.innerHTML=i:t.appendChild(i),xr(this.container,{visibility:"visible"}),this.updatePosition(e)}},hideTooltip:function(){xr(this.container,{visibility:"hidden"})},updatePosition:function(e){var t=this.get("shouldBegin"),i=this,n=i.width,a=i.height,o=i.container,s=i.graph;if(!t(e,this)){xr(o,{visibility:"hidden"});return}var l=s.getPointByClient(e.clientX,e.clientY),u=s.getCanvasByPoint(l.x,l.y),f=u.x,c=u.y,h=o.getBoundingClientRect();f>n/2?f-=h.width:f+=this.offset,c>a/2?c-=h.height:c+=this.offset;var d="".concat(f,"px"),v="".concat(c,"px");xr(this.container,{left:d,top:v,visibility:"visible"})},createTooltip:function(e){var t=e.get("el");t.style.position="relative";var i=gi('<div class="g6-tooltip g6-'.concat(this.item,'-tooltip"></div>'));return t.parentNode.appendChild(i),xr(i,{position:"absolute",visibility:"visible"}),this.width=e.get("width"),this.height=e.get("height"),this.container=i,this.graph.get("tooltips").push(i),i}};var HVt=S({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},H8);var UVt=S({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: ".concat(t.source," target: ").concat(t.target)}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},H8);var XVt="click",lnr=["click","dblclick"],ZVt={getDefaultCfg:function(){return{trigger:XVt,onChange:function(){}}},getEvents:function(){var e,t;return lnr.includes(this.trigger)?t=this.trigger:(t=XVt,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["node:".concat(t)]="onNodeClick",e.touchstart="onNodeClick",e},onNodeClick:function(e){var t=this;if(this.trigger==="click"){if(this.timer){clearTimeout(this.timer),this.timer=0;return}this.timer=setTimeout(function(){t.toggle(e),clearTimeout(t.timer),t.timer=0},200)}else this.toggle(e)},toggle:function(e){var t=e.item;if(!!t){var i=this.graph.findDataById(t.get("id"));if(!!i){var n=i.children;if(!(!n||n.length===0)){var a=!i.collapsed;!this.shouldBegin(e,a,this)||(i.collapsed=a,t.getModel().collapsed=a,this.graph.emit("itemcollapsed",{item:e.item,collapsed:a}),!!this.shouldUpdate(e,a,this)&&(this.onChange(t,a,this),this.graph.layout()))}}}}};var rL=et(ot());var unr=vf.calculationItemsBBox,KVt=function(e,t){if(t(e)!==!1&&e){var i=e.get("combos");if(i.length===0)return!1;(0,rL.each)(i,function(n){KVt(n,t)})}},QVt={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected",enableStack:!0}},getEvents:function(){return{"combo:mousedown":"onMouseDown","combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(e){var t=e.item;if(!t||t.destroyed||!this.shouldUpdate(e,this))return!1;var i=t.getType();return i==="combo"},onMouseDown:function(e){this.origin={x:e.x,y:e.y}},onDragStart:function(e){var t=this,i=this.graph,n=e.item;if(this.currentShouldEnd=!0,!!this.validationCombo(e)&&!n.hasLocked()){this.targets=[];var a=i.findAllByState("combo",this.selectedState),o=n.get("id"),s=a.filter(function(u){var f=u.get("id");return o===f});s.length===0?this.targets.push(n):this.targets=a.filter(function(u){return!u.hasLocked()});var l=[];this.targets.forEach(function(u){var f=u.getModel(),c=f.x,h=f.y,d=f.id;l.push({x:c,y:h,id:d})}),this.set("beforeDragItems",l),this.activeState&&this.targets.map(function(u){var f=u.getModel();if(f.parentId){var c=i.findById(f.parentId);c&&i.setItemState(c,t.activeState,!0)}}),this.point={},this.originPoint={},this.currentItemChildCombos=[],KVt(n,function(u){if(u.destroyed)return!1;var f=u.getModel();return t.currentItemChildCombos.push(f.id),!0})}},onDrag:function(e){var t=this;if(!!this.origin&&!!this.validationCombo(e))if(this.enableDelegate)this.updateDelegate(e);else{if(this.activeState){var i=this.graph,n=e.item,a=n.getModel(),o=i.getCombos(),s=n.getBBox(),l=s.centerX,u=s.centerY,f=s.width,c=o.filter(function(h){var d=h.getModel();return a.parentId,d.id!==a.id&&!t.currentItemChildCombos.includes(d.id)});c.map(function(h){var d=h.getBBox(),v=d.centerX,p=d.centerY,g=d.width,m=l-v,y=u-p,x=2*Math.sqrt(m*m+y*y);f+g-x>.8*f?i.setItemState(h,t.activeState,!0):i.setItemState(h,t.activeState,!1)})}(0,rL.each)(this.targets,function(h){t.updateCombo(h,e)}),this.onlyChangeComboSize&&this.updateParentCombos()}},updatePositions:function(e,t){var i=this;(this.enableDelegate||t)&&(0,rL.each)(this.targets,function(n){i.updateCombo(n,e,t)})},onDrop:function(e){var t=this,i=e.item;if(this.currentShouldEnd=this.shouldEnd(e,i,this),this.updatePositions(e,!this.currentShouldEnd),!(!this.currentShouldEnd||!i||!this.targets||i.destroyed)){var n=this.graph,a=i.getModel();this.targets.map(function(o){var s=o.getModel();s.parentId!==a.id?(t.activeState&&n.setItemState(i,t.activeState,!1),t.onlyChangeComboSize?n.updateCombo(o):n.updateComboTree(o,a.id,!1)):n.updateCombo(i)}),this.end(i,e),this.endComparison=!0}},onNodeDrop:function(e){var t=this;if(!(!this.targets||this.targets.length===0)){var i=this.graph,n=e.item,a=n.getModel().comboId,o=a?i.findById(a):void 0;if(this.currentShouldEnd=this.shouldEnd(e,o,this),this.updatePositions(e,!this.currentShouldEnd),!!this.currentShouldEnd){var s;if(a){if(this.activeState){var l=i.findById(a);i.setItemState(l,this.activeState,!1)}this.targets.map(function(u){t.onlyChangeComboSize?i.updateCombo(u):a!==u.getID()&&(s=i.findById(a),a!==u.getModel().parentId&&i.updateComboTree(u,a,!1))})}else this.targets.map(function(u){if(t.onlyChangeComboSize)i.updateCombo(u);else{var f=u.getModel();f.comboId&&i.updateComboTree(u,void 0,!1)}});this.endComparison=!0,this.end(s,e)}}},onDragEnter:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,i=this.graph;this.activeState&&i.setItemState(t,this.activeState,!0)}},onDragLeave:function(e){if(!!this.origin&&!!this.validationCombo(e)){var t=e.item,i=this.graph;this.activeState&&i.setItemState(t,this.activeState,!1)}},onDragEnd:function(e){if(!(!this.targets||this.targets.length===0)){var t=e.item;this.currentShouldEnd&&this.updatePositions(e);var i=this.getParentCombo(t.getModel().parentId),n=this.graph;i&&this.activeState&&n.setItemState(i,this.activeState,!1),this.end(void 0,e)}},end:function(e,t){var i=this;if(!!this.origin){var n=this.graph;if(this.delegateShape){var a=n.get("delegateGroup");a.clear(),this.delegateShape=null}if(e&&this.activeState&&n.setItemState(e,this.activeState,!1),!e){var o=n.get("enabledStack")&&this.enableStack,s={before:{nodes:[],edges:[],combos:[].concat(this.get("beforeDragItems"))},after:{nodes:[],edges:[],combos:[]}};this.targets.map(function(l){if(!i.onlyChangeComboSize)n.updateComboTree(l,void 0,o);else{n.updateCombo(l);var u=l.getModel(),f=u.x,c=u.y,h=u.id;s.after.combos.push({x:f,y:c,id:h}),n.pushStack("update",s)}})}this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(e,t,i){var n=this;if(i===void 0&&(i={}),t(e,i)!==!1&&e){var a=e.get("combos");(0,rL.each)(a,function(s){n.traverse(s,t,i)});var o=e.get("nodes");(0,rL.each)(o,function(s){n.traverse(s,t,i)})}},updateCombo:function(e,t,i){this.updateSingleItem(e,t,i);var n={};this.traverse(e,function(a,o){return a.destroyed?!1:(a.getEdges().forEach(function(s){return o[s.getID()]=s}),!0)},n),Object.values(n).forEach(function(a){return a.refresh()})},updateSingleItem:function(e,t,i){var n=this.origin,a=this.graph,o=e.getModel(),s=e.get("id");this.point[s]||(this.point[s]={x:o.x,y:o.y});var l=t.x-n.x+this.point[s].x,u=t.y-n.y+this.point[s].y;i&&(l+=n.x-t.x,u+=n.y-t.y),a.updateItem(e,{x:l,y:u},!1)},getParentCombo:function(e){var t=this.graph;if(!!e){var i=t.findById(e);if(!!i)return i}},updateDelegate:function(e){var t=this.graph;if(this.delegateShape){var h=e.x-this.origin.x+this.originPoint.minX,d=e.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:h,y:d})}else{var i=t.get("delegateGroup"),n=null;this.targets.length>1?n=unr(this.targets):n=this.targets[0].getBBox();var a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,f=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:f};var c=S(S({},fp.delegateStyle),this.delegateStyle);this.delegateShape=i.addShape("rect",{attrs:S({width:n.width,height:n.height,x:n.x,y:n.y},c),name:"combo-delegate-shape"}),this.delegateShape.set("capture",!1),this.delegate=this.delegateShape}},updateParentCombos:function(){var e=this,t=e.graph,i=e.targets,n={};i==null||i.forEach(function(a){var o=a.getModel().parentId;o&&(n[o]=t.findById(o))}),Object.values(n).forEach(function(a){a&&t.updateCombo(a)})}};var $Vt="dblclick",fnr=["click","dblclick"],JVt={getDefaultCfg:function(){return{trigger:$Vt,relayout:!0}},getEvents:function(){var e,t;return fnr.includes(this.trigger)?t=this.trigger:(t=$Vt,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),e={},e["combo:".concat(t)]="onComboClick",e},onComboClick:function(e){var t=e.item,i=this,n=i.graph,a=i.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var o=t.getModel(),s=o.id;!s||(n.collapseExpandCombo(s),a&&n.get("layout")?n.layout():n.refreshPositions())}}};var cnr=vf.isPolygonsIntersect,hnr=vf.pathToPoints,tqt="shift",dnr=["drag","shift","ctrl","alt","control"],vnr=function(e,t){var i,n=e.getKeyShape();if(e.get("type")==="path")i=hnr(n.attr("path"));else{var a=n.getCanvasBBox();i=[[a.minX,a.minY],[a.maxX,a.minY],[a.maxX,a.maxY],[a.minX,a.maxY]]}return cnr(t,i)},eqt={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},shouldDeselect:void 0,selectedState:"selected",trigger:tqt,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return dnr.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=tqt,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(e){var t=this.lasso,i=e.item;i||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates("dragstart"),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:e.x,y:e.y},this.points.push(this.originPoint),t.show())},onDragMove:function(e){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:e.x,y:e.y}),this.updateLasso(e))},onDragEnd:function(e){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var e=this.points,t=[];return e.length&&(e.forEach(function(i,n){n===0?t.push(["M",i.x,i.y]):t.push(["L",i.x,i.y])}),t.push(["L",e[0].x,e[0].y])),t},clearStates:function(e){e===void 0&&(e="canvas:click");var t=this,i=t.graph,n=t.selectedState,a=t.shouldDeselect,o=i.findAllByState("node",n),s=i.findAllByState("edge",n);(!a||a({action:e,nodes:o,edges:s}))&&(o.forEach(function(l){return i.setItemState(l,n,!1)}),s.forEach(function(l){return i.setItemState(l,n,!1)})),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],i.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var e=this,t=this,i=t.graph,n=t.shouldUpdate,a=this.points.map(function(f){return[i.getCanvasByPoint(f.x,f.y).x,i.getCanvasByPoint(f.x,f.y).y]}),o=this.selectedState,s=[],l=[];i.getNodes().forEach(function(f){if(!!f.isVisible()&&vnr(f,a)&&n(f,"select",e)){s.push(f);var c=f.getModel();l.push(c.id),i.setItemState(f,o,!0)}});var u=[];this.includeEdges&&s.forEach(function(f){var c=f.getOutEdges();c.forEach(function(h){if(!!h.isVisible()){var d=h.getModel(),v=d.source,p=d.target;l.includes(v)&&l.includes(p)&&n(h,"select",e)&&(u.push(h),i.setItemState(h,e.selectedState,!0))}})}),this.selectedEdges=u,this.selectedNodes=s,this.onSelect&&this.onSelect(s,u),i.emit("nodeselectchange",{selectedItems:{nodes:s,edges:u},select:!0})},createLasso:function(){var e=this,t=e.graph.get("delegateGroup").addShape("path",{attrs:S({path:[]},e.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(e){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(e){var t=e.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}};var sft=et(ot()),rqt="click",pnr=["click","drag"],iqt=void 0,gnr=["shift","ctrl","control","alt","meta",void 0],nqt={getDefaultCfg:function(){return{trigger:rqt,key:iqt,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var e=this;pnr.indexOf(e.trigger.toLowerCase())>-1||(e.trigger=rqt,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),e.key&&gnr.indexOf(e.key.toLowerCase())===-1&&(e.trigger=iqt,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return e.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:e.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),e.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(e){var t=this;if(!(t.key&&!t.keydown)){var i=e.item;(!i||i.getID()===t.source||i.getType()!=="node")&&t.cancelCreating({item:t.edge,x:e.x,y:e.y})}},onClick:function(e){var t=this;if(!(t.key&&!t.keydown)){var i=e.item,n=t.graph,a=i.getModel(),o=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd(e,t))return;var s=void 0;o&&(0,sft.isFunction)(o)?s=o({source:t.source,target:a.id},t):s=t.edgeConfig;var l=S({target:a.id},s);if(t.source===a.id&&(l.type="loop"),n.emit("beforecreateedge",{}),n.updateItem(t.edge,l,!1),n.get("enabledStack")){var u=S(S({},t.edge.getModel()),{itemType:"edge"}),f={};f.edges=[u],n.pushStack("add",{before:{},after:f})}n.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin(e,t))return;var s=void 0;o&&(0,sft.isFunction)(o)?s=o({source:a.id,target:a.id},t):s=t.edgeConfig,t.edge=n.addItem("edge",S({source:a.id,target:a.id},s),!1),t.source=a.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(e){var t=this;if(!(t.key&&!t.keydown)){t.edge&&t.edge.destroyed&&t.cancelCreating({item:t.edge});var i={x:e.x,y:e.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:i},!1)}},cancelCreating:function(e){var t,i,n=this;if(!(n.key&&!n.keydown)){var a=n.graph,o=e.item;if(n.addingEdge&&(n.edge===o||((i=(t=e.target)===null||t===void 0?void 0:t.isCanvas)===null||i===void 0?void 0:i.call(t)))){n.edge&&!n.edge.destroyed&&a.removeItem(n.edge,!1),n.edge=null,n.addingEdge=!1;return}}},onKeyDown:function(e){var t=this,i=e.key;!i||(i.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var e=this;e.addingEdge&&e.edge&&(e.graph.removeItem(e.edge,!1),e.addingEdge=!1,e.edge=null),this.keydown=!1}};var aqt="ctrl",mnr=["shift","ctrl","alt","control"],ynr="1",oqt={getDefaultCfg:function(){return{trigger:aqt,combinedKey:ynr,functionName:"fitView",functionParams:[]}},getEvents:function(){return mnr.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=aqt,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '".concat(this.trigger,"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'"))),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(e){var t=e.key;if(!!t){var i=this.trigger.toLowerCase(),n=t.toLowerCase();this.triggerKeydown||(n===i||n==="control"&&i==="ctrl"||n==="ctrl"&&i==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var a=this.graph;if(!a[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '".concat(this.functionName,"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D")),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]();return}var o=this.combinedKey.toLowerCase();this.triggerKeydown&&(n===o||n==="control"&&o==="ctrl"||n==="ctrl"&&o==="control")&&(this.functionParams&&this.functionParams.length?a[this.functionName].apply(a,this.functionParams):a[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}};var U8=et(ot()),xnr=["shift","ctrl","alt","control","meta"],sqt={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0,allowDragOnItem:!0}},getEvents:function(){return(!this.zoomKey||xnr.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(e){var t=this;if(!!this.allowDrag(e)){var i=this.graph,n=Array.isArray(this.zoomKey)?[].concat(this.zoomKey):[this.zoomKey];n.includes("control")&&n.push("ctrl");var a=n.some(function(Z){return e["".concat(Z,"Key")]});if(a){var o=i.get("canvas"),s=o.getPointByClient(e.clientX,e.clientY),l=i.getZoom();e.wheelDelta>0?l=l+l*.05:l=l-l*.05,i.zoomTo(l,{x:s.x,y:s.y})}else{var u=e.deltaX||e.movementX,f=e.deltaY||e.movementY;!f&&navigator.userAgent.indexOf("Firefox")>-1&&(f=-e.wheelDelta*125/3);var c=this.graph.get("width"),h=this.graph.get("height"),d=this.graph.get("canvas").getCanvasBBox(),v=this.scalableRange,p=this.scalableRange;v<1&&v>-1&&(v=c*v,p=h*p);var g=d.minX,m=d.maxX,y=d.minY,x=d.maxY;u>0?m<-v?u=0:m-u<-v&&(u=m+v):u<0&&(g>c+v?u=0:g-u>c+v&&(u=g-(c+v))),f>0?x<-p?f=0:x-f<-p&&(f=x+p):f<0&&(y>h+p?f=0:y-f>h+p&&(f=y-(h+p))),this.get("direction")==="x"?f=0:this.get("direction")==="y"&&(u=0),i.translate(-u,-f)}e.preventDefault();var b=this.get("enableOptimize");if(b){var _=this.get("optimizeZoom"),M=this.get("optimized"),A=i.getNodes(),I=i.getEdges(),k=A.length,E=I.length;if(!M){for(var O=0;O<k;O++){var P=A[O];if(!P.destroyed)for(var N=P.get("group").get("children"),R=N.length,z=0;z<R;z++){var B=N[z];!B.destoryed&&!B.get("isKeyShape")&&(B.set("ori-visibility",B.get("ori-visibility")||B.get("visible")),B.hide())}}for(var Y=0;Y<E;Y++)for(var q=I[Y],N=q.get("group").get("children"),R=N.length,z=0;z<R;z++){var B=N[z];B.set("ori-visibility",B.get("ori-visibility")||B.get("visible")),B.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var j=setTimeout(function(){var Z=i.getZoom(),tt=t.get("optimized");if(tt){t.set("optimized",!1);for(var lt=0;lt<k;lt++){var J=A[lt],nt=J.get("group").get("children"),ut=nt.length;if(Z<_){var ft=J.getKeyShape(),pt=ft.get("ori-visibility");pt&&ft.show()}else for(var _t=0;_t<ut;_t++){var Et=nt[_t],pt=Et.get("ori-visibility");!Et.get("visible")&&pt&&pt&&Et.show()}}for(var Ot=0;Ot<E;Ot++){var oe=I[Ot],nt=oe.get("group").get("children"),ut=nt.length;if(Z<_){var ft=oe.getKeyShape(),pt=ft.get("ori-visibility");pt&&ft.show()}else for(var _t=0;_t<ut;_t++){var Et=nt[_t];if(!Et.get("visible")){var pt=Et.get("ori-visibility");pt&&Et.show()}}}}},100);this.set("timeout",j)}}},allowDrag:function(e){var t,i,n=e.target,a=n&&n.isCanvas&&n.isCanvas();if((0,U8.isBoolean)(this.allowDragOnItem)&&!this.allowDragOnItem&&!a)return!1;if((0,U8.isObject)(this.allowDragOnItem)){var o=this.allowDragOnItem,s=o.node,l=o.edge,u=o.combo,f=(i=(t=e.item)===null||t===void 0?void 0:t.getType)===null||i===void 0?void 0:i.call(t);if(!s&&f==="node"||!l&&f==="edge"||!u&&f==="combo")return!1}return!0}};var bnr={"drag-canvas":DVt,"zoom-canvas":VVt,"drag-node":FVt,"activate-relations":NVt,"brush-select":zVt,"click-select":YVt,"lasso-select":eqt,tooltip:HVt,"edge-tooltip":UVt,"collapse-expand":ZVt,"drag-combo":QVt,"collapse-expand-combo":JVt,"create-edge":nqt,"shortcuts-call":oqt,"scroll-canvas":sqt};(0,lqt.each)(bnr,function(r,e){yY(e,r)});var _nr=S(S({},Xet),wnr),mpn=_s.Grid,ypn=_s.Minimap,xpn=_s.Bundling,bpn=_s.Menu,Snr=_s.Fisheye,wpn=_s.ToolBar,_pn=_s.Tooltip,Cnr=_s.TimeBar,Mnr=_s.ImageMinimap,Anr=_s.EdgeFilterLens,Enr=_s.SnapLine,Spn=_s.Legend,Tnr=_s.Annotation;var lft={version:fp.version,Graph:KI,TreeGraph:A8,Util:vf,Layout:ei.Layouts,TreeLayout:Put,registerLayout:g8t,Global:fp,registerBehavior:yY,registerCombo:mRt,registerEdge:mY,registerNode:xl,Minimap:_s.Minimap,Grid:_s.Grid,Bundling:_s.Bundling,Menu:_s.Menu,ToolBar:_s.ToolBar,Tooltip:_s.Tooltip,Legend:_s.Legend,TimeBar:Cnr,SnapLine:Enr,Fisheye:Snr,ImageMinimap:Mnr,EdgeFilterLens:Anr,Annotation:Tnr,Algorithm:_nr,Arrow:BF,Marker:RF,Shape:lm};lft.version="4.8.23";var Ar=lft;var LM=et(ot()),X8=function(r){var e={};return Object.keys(r).forEach(function(t){var i=r[t];if((0,LM.isObject)(i)){var n={};Object.keys(i).forEach(function(a){var o=i[a];a==="img"&&!(0,LM.isString)(o)||(n[a]=(0,LM.clone)(o))}),e[t]=n}else e[t]=(0,LM.clone)(i)}),e};var Bm="marker:click";var vB="#1890ff",Ss={hover:{stroke:vB,lineWidth:2}},Rm=[120,40],Vd={stroke:"#40a9ff"},wc=[[0,.5],[1,.5]],h_={fill:"#000",fontSize:12},Z8={fill:"#000",fontSize:12,textAlign:"start",textBaseline:"middle"},uqt={show:!1,size:[150,100],type:"keyShape"},iL={fill:"#fff",stroke:"#40a9ff",radius:2},nL=6,Ea="g",qd=4,fqt={position:"absolute",right:"12px",top:"12px",display:"flex",flexDirection:"column",padding:"6px",borderRadius:"2px",fontSize:"24px",textAlign:"center",lineHeight:"24px",color:"rgba(0,0,0,.65)",backgroundColor:"#fff",boxShadow:"0 0 3px #ccc"};var Tx=function(r,e){r===void 0&&(r="right");var t=e[0],i=e[1],n=0,a=0;switch(r){case"top":n=t/2,a=0;break;case"right":n=t,a=i/2;break;case"bottom":n=t/2,a=i;break;case"left":n=0,a=i/2;break}return{x:n,y:a}};var pB=function(){return pB=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},pB.apply(this,arguments)},OM=function(r,e,t,i){var n=r.show,a=r.position,o=r.collapsed,s=r.style;n&&e.addShape("marker",{attrs:pB(pB(pB({},Tx(a,t)),{r:6,cursor:"pointer",symbol:o?Ar.Marker.expand:Ar.Marker.collapse,stroke:iL.stroke,lineWidth:1,fill:"#fff"}),s),defaultCollapsed:!1,name:i?"collapse-icon-".concat(a):"collapse-icon",position:a})};var uft=function(){return uft=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},uft.apply(this,arguments)},Hl=function(r,e){if(!!r&&!(typeof r=="object"&&(r==null?void 0:r.show)===!1)){var t=typeof r=="function"?r(e):r,i=t.type,n=i===void 0?"vee":i,a=t.d,o=a===void 0?0:a,s=t.size,l=s===void 0?10:s;return uft({path:Ar.Arrow[n](l,l,o),fill:"#ccc",d:o},t)}};var Gm=function(r){if(typeof r=="number")return[r,r,r,r];var e=[];switch(r.length){case 1:e=[r[0],r[0],r[0],r[0]];break;case 2:e=[r[0],r[1],r[0],r[1]];break;case 3:e=[r[0],r[1],r[2],r[1]];break;case 4:e=r;break;default:break}return e};var kM=function(r){return Array.isArray(r)?r:r?[r,r]:Rm};var fft=function(r){if(!r)return[0,0,0,0];var e=r.size,t=e===void 0?[]:e,i=r.position,n=i===void 0?"left":i,a=kM(t),o=a[0],s=a[1],l=[];switch(n){case"top":l.push(s!=null?s:qd,0,0,0);break;case"right":l.push(0,o!=null?o:qd,0,0);break;case"bottom":l.push(0,0,s!=null?s:qd,0);break;case"left":l.push(0,0,0,o!=null?o:qd);break}return l};var cft=et(ot()),K8=function(r,e){var t=r!=null?r:{},i=t.size,n=i===void 0?[]:i,a=t.position,o=a===void 0?"left":a,s=kM(n),l=s[0],u=s[1],f=e[0],c=e[1],h=0,d=0,v=0,p=0;switch(o){case"top":h=0,d=0,v=l!=null?l:f,p=u!=null?u:qd;break;case"left":h=0,d=0,v=l!=null?l:qd,p=u!=null?u:c;break;case"right":h=f-((0,cft.isNumber)(l)?l:qd),d=0,v=l!=null?l:qd,p=u!=null?u:c;break;case"bottom":h=0,d=c-((0,cft.isNumber)(u)?u:qd),v=l!=null?l:f,p=u!=null?u:qd;break}return{x:h,y:d,width:v,height:p}};var hft=function(r,e,t){t===void 0&&(t=120);var i=e.fontSize,n=i===void 0?12:i,a=e.fontWeight,o=a===void 0?"normal":a,s=e.fontFamily,l=s===void 0?"Arial, sans-serif":s,u=document.querySelector("canvas"),f=u.getContext("2d");f.font="".concat(n,"px ").concat(o," ").concat(l);var c=r,h=!1;if(f.fillText(c,0,0),r.length===1)return r;for(var d=r.length-1;d>0;d--){var v=f.measureText(c).width;if(v<=t){if(!h)return c;var p=/[\u4e00-\u9fa5]/,g=c.substring(c.length-1,c.length);return c.substring(0,c.length-(p.test(g)?1:2))+"..."}else h=!0,c=c.substring(0,c.length-1)}};var Q8=function(){return Q8=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Q8.apply(this,arguments)},Ix=function(r,e){e===void 0&&(e="");var t=e.split("-");t.shift();var i=r;return t.forEach(function(n){!i||(i=i.children[Number(n)])}),(i==null?void 0:i.children)?i.children.map(function(n){return Q8(Q8({},n),{children:[]})}):[]};var $n=function(r,e,t,i){return typeof r=="function"?r(e,t,i)||{}:r||{}};var dft=function(r,e){var t=e!=null?e:{},i=t.nodeCfg,n=i===void 0?{}:i,a=t.edgeCfg,o=a===void 0?{}:a,s=n.nodeStateStyles,l=o.edgeStateStyles,u={},f=function(d,v,p){r.updateItem(d,{style:{endArrow:!!v&&{fill:v},startArrow:!!p&&{fill:p}}})},c=function(d,v,p){var g,m,y;p?d.toFront():d.toBack();var x=(g=d.getModel().style)!==null&&g!==void 0?g:{},b=x.endArrow,_=x.startArrow;if(b||_){if(!u[d.getID()]){var M=(b!=null?b:{}).fill,A=(_!=null?_:{}).fill,I=(y=(m=d.getModel().style)===null||m===void 0?void 0:m[v])===null||y===void 0?void 0:y.stroke;u[d.getID()]=[[I!=null?I:M,M],[I!=null?I:A,A]]}var k=u[d.getID()];f(d,b&&k[0][p?0:1],_&&k[1][p?0:1])}r.setItemState(d,v,p)},h=function(d,v,p,g){var m=g==="node"?r.findAll("edge",function(x){return x.getSource()===d||x.getTarget()===d}):r.findAll("node",function(x){return d.getSource().get("id")===x.get("id")||d.getTarget().get("id")===x.get("id")}),y=[d].concat(m);y.forEach(function(x){c(x,v,p)})};s&&(r.on("node:mouseenter",function(d){var v=d.item;h(v,"hover",!0,"node")}),r.on("node:mouseleave",function(d){var v=d.item;h(v,"hover",!1,"node")})),l&&(r.on("edge:mouseenter",function(d){var v=d.item;h(v,"hover",!0,"edge")}),r.on("edge:mouseleave",function(d){var v=d.item;h(v,"hover",!1,"edge")}))};var bl=function(r){if(!r||typeof r!="object")return r;var e;return Array.isArray(r)?e=r.map(function(t){return bl(t)}):r instanceof HTMLElement?e=r:(e={},Object.keys(r).forEach(function(t){return e[t]=bl(r[t])})),e};var $8=function(r,e){return typeof r=="function"&&e?r(e)||{}:Array.isArray(r)?r:wc};var zm=function(r,e,t){return typeof r=="function"?r(e,t):r};var J8=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=Math.random()*16|0,t=r=="x"?e:e&3|8;return t.toString(16)})};var vft=function(r,e){return r.current||(r.current="".concat(e,"-graph-").concat(J8())),r.current};var _h=window.console;var aL=function(r,e,t){var i,n;return t&&t.current&&(i=t.current.offsetWidth,n=t.current.offsetHeight||500),!r&&!i||!e&&!n?(_h.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||i||500,e||n||500]};var tV=function(){return tV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},tV.apply(this,arguments)},oL=function(r,e){var t=r.children,i=t===void 0?[]:t,n=r.g_level,a=n===void 0?0:n;return e<=0?r:tV(tV({},r),{children:a+1<e?i==null?void 0:i.map(function(o){return oL(o,e)}):[]})};var pft=function(r,e){var t=r.nodes,i=r.edges;if(e<=0)return r;var n=t.filter(function(a){return!a.hasOwnProperty("".concat(Ea,"_level"))||a["".concat(Ea,"_level")]<e});return{nodes:n,edges:i.filter(function(a){var o=a.source,s=a.target;return n.filter(function(l){return[o,s].includes(l.id)}).length>=2})}};var Inr=function(){function r(e){e&&this.setData(e)}return r.prototype.getData=function(){return this.data},r.prototype.setData=function(e){this.data=e},r}(),gB=Inr;var eV=new Map,gft=function(r,e){var t=eV.get(r);t?t.push(e):t=[e],eV.set(r,t)},sL=function(r){var e=eV.get(r)||[];e.forEach(function(t){typeof t=="function"&&t.apply(null,arguments)}),eV.set(r,[])};var Lnr=function(r){return(r==null?void 0:r.nodes)instanceof Array&&(r==null?void 0:r.edges)instanceof Array},rV=function(r,e){var t=bl(r),i=t;return e&&(Lnr(r)?(i=yft(r,e),t=pft(i,e)):(i=lL(r),t=oL(i,e))),[t,i]},mft=function(r,e,t){var i=rV(e,t),n=i[0],a=i[1];r.data(n),r.set("eventData",new gB(a)),r.render(),r.get("canvas").set("localRefresh",!1),sL(r.get("id"))};var iV=function(){return iV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},iV.apply(this,arguments)},lL=function(r,e,t,i){var n;e===void 0&&(e=0),t===void 0&&(t=""),i===void 0&&(i="");var a=r.id,o=r.children,s=o===void 0?[]:o;return iV(iV((n={},n["".concat(Ea,"_level")]=e,n["".concat(Ea,"_parentId")]=t,n["".concat(Ea,"_currentPath")]=i,n),r),{children:s==null?void 0:s.map(function(l,u){return lL(l,e+1,t?"".concat(t,"-").concat(a):a,"".concat(i,"-").concat(u))})})};var uL=function(){return uL=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},uL.apply(this,arguments)},yft=function(r,e){e===void 0&&(e=100);var t=[],i=r.nodes,n=i===void 0?[]:i,a=r.edges,o=a===void 0?[]:a,s=[],l=function(d){return o.filter(function(v){var p,g=t.findIndex(function(y){return y.id===v.target});if(g!==-1&&v.source===d){var m=u(v.source);_h.warn("The data [".concat(v.source,",").concat(v.target,",").concat((p=m[0])===null||p===void 0?void 0:p.source,"] is in a loop, please check the rationality."))}return g===-1&&v.source===d})},u=function(d){return o.filter(function(v){return v.target===d})};o.forEach(function(d){var v=d.source;o.find(function(p){return p.target===v})||s.push(v)});var f=0,c=function(d){var v;return v={},v["".concat(Ea,"_level")]=f,v["".concat(Ea,"_parent")]=u(d.id).map(function(p){return p.source}),v["".concat(Ea,"_children")]=f<e-1?l(d.id).map(function(p){return p.target}):[],v};if(!s.length)return{edges:o,nodes:n.map(function(d){return uL(uL({},d),c(d))})};for(var h=function(){var d=n.filter(function(p){return s.includes(p.id)});t=t.concat(d.map(function(p){return uL(uL({},p),c(p))}));var v=[];s.forEach(function(p){v.push.apply(v,l(p).map(function(g){return g.target}))}),s=v,f+=1};s.length;)h();return{nodes:t,edges:o}};var cqt=et(ot()),hqt=function(r,e){return(0,cqt.reduce)(r,function(t,i,n){return n=e?e(i):i,t.hasOwnProperty(n)?++t[n]:t[n]=1,t},{})};var nV=function(r){var e=r.nodes,t=r.edges;if(e.length===1)return e[0].id;var i=[];t.forEach(function(l){i.push(l.source)});var n=hqt(i),a=0,o="";for(var s in n)n.hasOwnProperty(s)&&n[s]>a&&(a=n[s],o=s);return o};var aV=function(r,e){e===void 0&&(e={});var t=Object.keys(e);t.forEach(function(i){r.style[i]=e[i]})};var xft=function(r){return Object.prototype.toString.call(r).slice(8,-1)};var bft=function(r,e){var t={}.toString;return t.call(r)==="[object ".concat(e,"]")};var wft=function(){return wft=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},wft.apply(this,arguments)};var mB=wft({},PO),Onr=mB.version,knr=mB.render,kgn=mB.unmountComponentAtNode,_ft;try{dqt=Number((Onr||"").split(".")[0]),dqt>=18&&(_ft=mB.createRoot)}catch(r){}var dqt;function vqt(r){var e=mB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;e&&typeof e=="object"&&(e.usingClientEntryPoint=r)}var pqt="__rc_react_root__";function Pnr(r,e){vqt(!0);var t=e[pqt]||_ft(e);vqt(!1),t.render(r),e[pqt]=t}function Dnr(r,e){knr(r,e)}function yB(r,e){if(_ft){Pnr(r,e);return}Dnr(r,e)}var gqt=et(ot());var Sft=new Map,PM=function(r,e,t,i,n){e===void 0&&(e={}),typeof i=="string"&&(n=i,i=void 0);var a=document.createElement("div");return Object.keys(e).forEach(function(o){a[o]=e[o]}),i&&aV(a,i),t==="tooltip"&&(a.setAttribute("data-uuid",n),Sft.has(n)?a=Sft.get(n):Sft.set(n,a),a.className="g2-tooltip"),yB(r,a),a};var pp=function(r,e){var t="".concat(Ea,"-antd-loading");if(e){var i=(0,gqt.isFunction)(e)?e(r):e;document.body.appendChild(PM(i,{className:t},"fetchloading"))}else{var n=document.createElement("div");n.className=t;var a={position:"fixed",left:"0",top:"0",width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0, 0.25)",color:"#fff",fontSize:"16px",zIndex:999};aV(n,a);var o=document.createElement("span");o.innerText="loading...",n.appendChild(o),document.body.appendChild(n)}};var gp=function(){var r=document.getElementsByClassName("".concat(Ea,"-antd-loading"));Array.from(r).forEach(function(e){document.body.removeChild(e)})};var mqt={},Cft=function(r,e){mqt[r]=e},xB=function(r){return mqt[r]};var Da=function(r){var e=r.loadingTemplate,t=function(){return e||Mt.createElement(S6,{viewBox:"0 0 400 180",width:200,height:90,speed:1},Mt.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),Mt.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),Mt.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),Mt.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),Mt.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),Mt.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),Mt.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),Mt.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),Mt.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),Mt.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return Mt.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},t())};var bB=function(r,e,t){var i=r.get("eventData").getData(),n=t.split("-");n.shift();var a=i;n.forEach(function(o){a=a.children[Number(o)]}),a.children=e};var Fnr=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),Nnr=function(r){Fnr(e,r);function e(){var t=r!==null&&r.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(i){var n=t.props.errorTemplate;switch(i){default:return typeof n=="function"?n(i):n||Mt.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",i.message)}},t}return e.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},e.getDerivedStateFromProps=function(t,i){return i.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},e.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):Mt.createElement(ll,null,this.props.children)},e}(Mt.Component),Va=Nnr;var yf=et(ot());var oV=function(){return oV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},oV.apply(this,arguments)},fL=function(r,e){if(r===void 0&&(r={}),!(!e||e.destroyed)){var t=e.get("plugins").filter(function(a){return a.get("name")==="minimap"})[0];if(t&&e.removePlugin(t),r.show){var i=Object.assign(uqt,r),n=new Ar.Minimap(oV(oV({},i),{name:"minimap"}));e.addPlugin(n)}}};var yqt=et(ot());var sV=function(){return sV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},sV.apply(this,arguments)},Bnr=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},Mft=function(r,e){if(r===void 0&&(r={}),!(!e||e.destroyed)){var t=e.get("plugins").filter(function(s){return s.get("name")==="tooltip"})[0];if(t&&e.removePlugin(t),r.show||r.show===void 0&&Object.keys(r).length>0){var i=r.customContent,n=Bnr(r,["customContent"]),a=J8(),o=new Ar.Tooltip(sV(sV({offsetX:10,offsetY:20,itemTypes:["node"]},n),{getContent:function(s){return(0,yqt.isFunction)(i)?PM(i(s.item.getModel()),{className:"g6-tooltip"},"tooltip",a):""},name:"tooltip"}));e.addPlugin(o)}}};var Aft=et(ot()),bqt=et(QI());var DM=et(ot()),Rnr=function(){function r(e){this._cfgs=(0,DM.deepMix)(this.getDefaultCfgs(),e),this._events={},this.destroyed=!1}return r.prototype.getDefaultCfgs=function(){return{}},r.prototype.initPlugin=function(e){var t=this;t.set("graph",e);var i=t.getEvents(),n={};(0,DM.each)(i,function(a,o){var s=(0,DM.wrapBehavior)(t,a);n[o]=s,e.on(o,s)}),this._events=n,this.init()},r.prototype.getEvents=function(){return{}},r.prototype.get=function(e){var t;return(t=this._cfgs)===null||t===void 0?void 0:t[e]},r.prototype.set=function(e,t){this._cfgs[e]=t},r.prototype.destroy=function(){},r.prototype.destroyPlugin=function(){this.destroy();var e=this.get("graph"),t=this._events;(0,DM.each)(t,function(i,n){e.off(n,i)}),this._events=null,this._cfgs=null,this.destroyed=!0},r}(),xqt=Rnr;var Gnr=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();typeof document!="undefined"&&(0,bqt.default)(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var znr=function(r){Gnr(e,r);function e(t){return r.call(this,t)||this}return e.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,customContent:function(t){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(t){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"],trigger:"contextmenu"}},e.prototype.getEvents=function(){return this.get("trigger")==="click"?{click:"onMenuShow",touchend:"onMenuShow"}:{contextmenu:"onMenuShow"}},e.prototype.init=function(){var t=this.get("className"),i=gi("<div class=".concat(t||"g6-component-contextmenu","></div>"));xr(i,{top:"0px",position:"absolute",visibility:"hidden"});var n=this.get("container");n||(n=this.get("graph").get("container")),(0,Aft.isString)(n)&&(n=document.getElementById(n)),n.appendChild(i),this.set("menu",i)},e.prototype.onMenuShow=function(t){var i=this;t.preventDefault();var n=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&n.indexOf(t.item.getType())===-1){i.onMenuHide();return}}else if(n.indexOf("canvas")===-1){i.onMenuHide();return}var a=this.get("shouldBegin");if(!!a(t)){var o=this.get("menu"),s=this.get("customContent"),l=this.get("graph"),u=s(t,l);yB(u,o),this.removeMenuEventListener();var f=this.get("handleMenuClick");if(f){var c=function(A){f(A.target,t.item,l)};this.set("handleMenuClickWrapper",c),o.addEventListener("click",c)}var h=l.get("width"),d=l.get("height"),v=o.getBoundingClientRect(),p=this.get("offsetX")||0,g=this.get("offsetY")||0,m=l.getContainer().offsetTop,y=l.getContainer().offsetLeft,x=t.canvasX+y+p,b=t.canvasY+m+g;x+v.width>h&&(x=t.canvasX-v.width-p+y),b+v.height>d&&(b=t.canvasY-v.height-g+m),xr(o,{top:"".concat(b,"px"),left:"".concat(x,"px"),visibility:"visible"});var _=this.get("trigger")==="click",M=function(A){if(_){_=!1;return}i.onMenuHide()};document.body.addEventListener("click",M),this.set("handler",M)}},e.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),i=this.get("handler");if(t){var n=this.get("menu");n.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}i&&document.body.removeEventListener("click",i)},e.prototype.onMenuHide=function(){var t=this.get("menu");t&&xr(t,{visibility:"hidden"}),this.removeMenuEventListener()},e.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var i=this.get("container");i||(i=this.get("graph").get("container")),(0,Aft.isString)(i)&&(i=document.getElementById(i)),i.removeChild(t)}},e}(xqt),wqt=znr;var lV=function(){return lV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},lV.apply(this,arguments)},Eft=function(r,e){if(r===void 0&&(r={}),!(!e||e.destroyed)){var t=e.get("plugins").filter(function(n){return n.get("name")==="menu"})[0];if(t&&e.removePlugin(t),r.show||r.show===void 0&&Object.keys(r).length>0){var i=new wqt(lV(lV({offsetX:16+10,offsetY:0,itemTypes:["node"]},r),{name:"menu"}));e.addPlugin(i)}}};var jnr=function(r){var e=k1(!1),t=e[0],i=e[1],n=function(){document.fullscreenElement||i(!1)},a=function(){r&&r.requestFullscreen&&r.requestFullscreen().then(function(){i(!0)}).catch(function(l){_h.error("requestFullscreen error: ",l)})},o=function(){document.exitFullscreen&&document.exitFullscreen().then(function(){i(!1)}).catch(function(l){_h.error("exitFullscreen error: ",l)})},s=function(){if(!r){_h.error("need dom");return}t?o():a()};return $e(function(){return document.addEventListener("fullscreenchange",n,!1),function(){document.removeEventListener("fullscreenchange",n)}},[]),[t,s]},_qt=jnr;var Sqt=function(r){var e=r.toolbarCfg,t=r.container,i=r.graph,n=Co(),a=Co(),o=Co(),s=Co(1),l=e.zoomFactor,u=l===void 0?.25:l,f=e.renderIcon,c=e.customContent,h=_qt(t),d=h[0],v=h[1],p=function(){return[window.outerWidth,window.outerHeight]},g=function(M){var A,I=M?p():[a.current,o.current];(A=n.current)===null||A===void 0||A.changeSize(I[0],I[1])},m=function(){return t?{x:t.clientWidth/2,y:t.clientHeight/2}:{x:0,y:0}},y=function(){var M;(M=n.current)===null||M===void 0||M.zoom(Math.min(s.current+u,5),m())},x=function(){var M;(M=n.current)===null||M===void 0||M.zoom(Math.max(s.current-u,.25),m())};$e(function(){i&&(n.current=i,a.current=t==null?void 0:t.clientWidth,o.current=t==null?void 0:t.clientHeight)},[i]);var b=function(){v(),g(!document.fullscreenElement)},_=c||f;return _?_({zoomIn:y,zoomOut:x,toggleFullscreen:b,fullscreen:d,graph:i}):Mt.createElement(ll,null,d?Mt.createElement("span",{style:{cursor:"pointer"},onClick:b},"\u2684"):Mt.createElement("span",{style:{cursor:"pointer"},onClick:b},"\u2610"),Mt.createElement("span",{style:{cursor:"pointer"},onClick:y},"+"),Mt.createElement("span",{style:{cursor:"pointer"},onClick:x},"-"))};var uV=function(){return uV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},uV.apply(this,arguments)},Ynr=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},Tft=function(r,e,t){var i;r===void 0&&(r={});var n=r.show,a=r.className,o=r.style,s=Ynr(r,["show","className","style"]),l=e==null?void 0:e.get("id");if(!(!e||e.destroyed)){var u="".concat(l,"-toolbar"),f=document.querySelector("#".concat(u));if(f&&((i=f.parentNode)===null||i===void 0||i.removeChild(f)),n){var c=PM(Mt.createElement(Sqt,{graph:e,container:t,toolbarCfg:s}),{className:a!=null?a:"charts-toolbar",id:u},"toolbar",uV(uV({},fqt),o));t.appendChild(c)}}};var _c=function(){return _c=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},_c.apply(this,arguments)};function Ul(r,e,t){t===void 0&&(t={});var i=Co(null),n=Co(),a=Co(),o=Co(),s=e.data,l=e.width,u=e.height,f=e.layout,c=e.minimapCfg,h=e.behaviors,d=e.fitCenter,v=e.nodeCfg,p=e.edgeCfg,g=e.markerCfg,m=e.level,y=e.toolbarCfg,x=e.tooltipCfg,b=e.menuCfg,_=e.customLayout,M=n.current,A=function(R){R.forEach(function(z){var B,Y,q=z.getModel(),j=q.source,Z=q.target,tt=(B=M==null?void 0:M.findById(j))===null||B===void 0?void 0:B.get("visible"),lt=(Y=M==null?void 0:M.findById(Z))===null||Y===void 0?void 0:Y.get("visible");(tt===!1||lt===!1)&&z.changeVisibility(!1)})},I=function(){var R,z;if(!!M){var B=s,Y=B;m&&(R=rV(s,m),B=R[0],Y=R[1]),M.changeData(B),(z=M.get("eventData"))===null||z===void 0||z.setData(Y),A(M.getEdges()),d&&M.fitCenter(),sL(M.get("id"))}},k=function(){M==null||M.updateLayout(f),d&&(M==null||M.fitCenter())},E=function(){if(!!M){var R=v!=null?v:{},z=R.type,B=R.anchorPoints,Y=R.style,q=R.title;M.getNodes().forEach(function(j){var Z=$8(B,j.getModel());M.updateItem(j,{nodeCfg:v,markerCfg:g,type:z,style:Y,anchorPoints:Z,labelCfg:q})}),sL(M.get("id"))}},O=function(){if(!!M){var R=p!=null?p:{},z=R.type,B=R.style,Y=R.startArrow,q=R.endArrow,j=R.label;M.getEdges().forEach(function(Z){if(["fund-line","labels-line"].includes(z))M.updateItem(Z,{edgeCfg:p});else{var tt=Z.getModel(),lt=Hl(Y,tt),J=Hl(q,tt),nt=j!=null?j:{},ut=nt.style,ft=nt.content;M.updateItem(Z,{type:z,label:zm(ft,tt,M),labelCfg:{style:zm(ut,tt,M)},style:_c({stroke:"#ccc",startArrow:lt,endArrow:J},typeof B=="function"?B(tt,M):B)})}})}},P=function(){!M||M.getNodes().forEach(function(R){var z=(typeof g=="function"?g(R.getModel(),R.get("group")):g).position,B=z===void 0?"right":z,Y=R.getBBox(),q=Y.width,j=Y.height,Z=R.get("group").get("children").find(function(tt){return tt.get("name")==="collapse-icon"});Z&&(Z==null||Z.attr(_c({},Tx(B,[q,j]))))})},N=function(R){var z=t.name,B=z===void 0?"":z;if(B!=="FundFlowGraph")return R;if(!!R){var Y=R.hover,q=Y===void 0?{}:Y,j=q.endArrow,Z=q.startArrow;return!j&&!Z?R:{hover:_c(_c({},q),{endArrow:j?Hl(j):!1,startArrow:Z?Hl(Z):!1})}}};return $e(function(){var R;if(M&&!M.destroyed){if((0,yf.isEqual)(s,o.current))return;if(t.name==="RadialGraph"&&!((R=o.current.nodes)===null||R===void 0?void 0:R.length)){var z=nV(s);M.set("centerNode",z),M.updateLayout(_c(_c({},f),{focusNode:z}))}else I();o.current=bl(s)}},[s]),$e(function(){var R,z,B,Y,q;if(M&&!M.destroyed){if((0,yf.isEqual)(e,a.current))return;!_&&!(0,yf.isEqual)(f,(R=a.current)===null||R===void 0?void 0:R.layout)&&k(),(0,yf.isEqual)(c,(z=a.current)===null||z===void 0?void 0:z.minimapCfg)||fL(c,M),(0,yf.isEqual)(v,(B=a.current)===null||B===void 0?void 0:B.nodeCfg)||E(),(0,yf.isEqual)(p,(Y=a.current)===null||Y===void 0?void 0:Y.edgeCfg)||O(),(0,yf.isEqual)(g,(q=a.current)===null||q===void 0?void 0:q.markerCfg)||P(),a.current=e}},[e]),$e(function(){if(M&&!M.destroyed){var R=aL(l,u,i);M.changeSize(R[0],R[1])}},[i,l,u]),$e(function(){if(M&&!M.destroyed){var R=M.get("modes").default,z=[];R.forEach(function(B){(0,yf.isObject)(B)?z.push(B.type):(0,yf.isString)(B)&&z.push(B)}),M.removeBehaviors(z,"default"),M.addBehaviors(h,"default")}},[h]),$e(function(){if(i.current&&r&&!n.current){var R=t.name,z=R===void 0?"":R,B=t.bindEvents,Y=aL(l,u,i),q=e.nodeCfg,j=e.edgeCfg,Z=e.behaviors,tt=Z===void 0?[]:Z,lt=e.layout,J=e.animate,nt=e.autoFit,ut=e.fitCenter,ft=e.onReady,pt=e.customLayout,_t=e.fetchLoading,Et=q!=null?q:{},Ot=Et.type,oe=Et.anchorPoints,se=Et.nodeStateStyles,_e=Et.style,le=Et.title,ar=Et.linkCenter,pe=Et.getChildren,ze=Et.asyncData,rr=j!=null?j:{},ur=rr.type,_r=rr.style,it=rr.startArrow,kt=rr.endArrow,Gt=rr.label,te=rr.edgeStateStyles,we={container:i.current,width:Y[0],height:Y[1],animate:J,linkCenter:ar,modes:{default:tt},defaultNode:_c(_c({},q),{nodeCfg:q}),defaultEdge:_c(_c({},(0,yf.omit)(j,["label"])),{edgeCfg:j,labelCfg:Gt==null?void 0:Gt.style}),nodeStateStyles:se,edgeStateStyles:N(te),layout:pt?void 0:lt,fitView:nt,fitCenter:ut,extraPlugin:{getChildren:pe,fetchLoading:_t},markerCfg:g};n.current=new Ar[r](we);var Ht=vft(n.current,z),ce=n.current;ce.set("id",Ht),Cft(Ht,ce);var Oe=["fund-card","indicator-card","file-tree-node","organization-card"],je=function(sr){return(0,yf.isString)(sr)?sr:z==="FundFlowGraph"?sr==null?void 0:sr.text:sr==null?void 0:sr.title};ce.node(function(sr){if(Oe.includes(Ot)){var Xr=$8(oe,sr);return sr.markerCfg=g,sr.edgeCfg=j,{anchorPoints:Xr,_draggable:tt.includes("drag-node"),_graphId:Ht}}var Fr=(le!=null?le:{}).style;return{_graphId:Ht,label:je(sr.value),labelCfg:{style:zm(Fr,sr,ce)},style:_c({stroke:"#ccc"},typeof _e=="function"?_e(sr,ce):_e)}});var Ae=function(sr){var Xr=(Gt!=null?Gt:{}).content;if(["DecompositionTreeGraph","OrganizationGraph","RadialTreeGraph"].includes(z))return zm(Xr,sr,ce);if(["FundFlowGraph","FlowAnalysisGraph"].includes(z)){var Fr=sr.value;return typeof Fr=="object"?Fr==null?void 0:Fr.text:Fr}return sr.value};if(["fund-line","labels-line"].includes(ur)||ce.edge(function(sr){var Xr=Hl(it,sr),Fr=Hl(kt,sr),Gn=(Gt!=null?Gt:{}).style;return{label:Ae(sr),labelCfg:{style:zm(Gn,sr,ce)},style:_c({stroke:"#ccc",startArrow:Xr,endArrow:Fr},typeof _r=="function"?_r(sr,ce):_r)}}),dft(ce,e),z==="RadialGraph"){var Qe=nV(s);ce.set("centerNode",Qe)}typeof B=="function"&&B({graph:ce,level:m,asyncData:ze,getChildren:pe,fetchLoading:_t,layout:lt}),mft(ce,s,m),ut&&ce.fitCenter(),ft&&ft(ce),o.current=bl(s)}},[]),$e(function(){if(n.current){var R=n.current;fL(c,R),Mft(x,R),Eft(b,R),Tft(y,R,i.current)}},[n,y,x,b]),$e(function(){return function(){(M==null?void 0:M.current)&&!M.current.destroyed&&M.current.destroy()}},[]),{container:i}}var wB=function(){return wB=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},wB.apply(this,arguments)};function Xl(r,e){var t=bl(r),i=DA(function(a,o){var s=wB({},o),l=Object.keys(a);return l.forEach(function(u){xft(a[u])==="Object"?s[u]=wB(wB({},o[u]),a[u]):s[u]=a[u]}),s},[r,e]),n=i(t,e);return{uProps:n}}var Ift=function(){return Ift=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Ift.apply(this,arguments)},Wnr=function(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})},Vnr=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},cL=function(r){var e=r.graph,t=r.level,i=r.getChildren,n=r.fetchLoading,a=function(o){return Wnr(void 0,void 0,void 0,function(){var s,l,u,f,c,h,d,v,p,g,m,y,x;return Vnr(this,function(b){switch(b.label){case 0:return s=o.item,l=s.getModel(),((x=o.target.get("name"))===null||x===void 0?void 0:x.startsWith("collapse-icon"))?(u=s.getModel(),f=u.collapsed,c=u.g_currentPath,h=u.children,d=h===void 0?[]:h,v=u.g_parentId,p=u.g_level,g=u.id,m=t&&!d.length&&Ix(e.get("eventData").getData(),c),i&&!(d==null?void 0:d.length)&&!(m==null?void 0:m.length)?(pp(l,n),[4,i(s.getModel())]):[3,2]):[3,3];case 1:y=b.sent(),y&&(y=y.map(function(_,M){var A;return Ift((A={},A["".concat(Ea,"_level")]=p+1,A["".concat(Ea,"_parentId")]="".concat(v,"-").concat(g),A["".concat(Ea,"_currentPath")]="".concat(c,"-").concat(M),A),_)}),bB(e,y,c)),m=y,gp(),b.label=2;case 2:(m==null?void 0:m.length)>0?(l.children=m,e.updateChild(l,l.id),e.updateItem(s,{collapsed:!1}),e.refreshItem(s),e.emit(Bm,o,{type:"fetch",collapsed:!0})):(e.updateItem(s,{collapsed:!f}),e.layout(),e.emit(Bm,o,{type:"collapse",collapsed:!!f})),b.label=3;case 3:return[2]}})})};e.on("node:click",function(o){a(o)}),e.on("node:touchstart",function(o){a(o)})};var Lx=function(){return Lx=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Lx.apply(this,arguments)},qnr=function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,a;i<n;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return r.concat(a||Array.prototype.slice.call(e))},Cqt=function(){var r={width:12,height:12};Ar.registerNode("organization-card",{draw:function(e,t){var i,n,a;e===void 0&&(e={});var o=e.value,s=o===void 0?{}:o,l=e.nodeCfg,u=e.markerCfg,f=e._draggable,c=Lx({},s),h=!1;c.text&&(h=!0,c.name=c.text),c.value&&(h=!0,c.title=c.value);var d=l,v=d.style,p=d.padding,g=p===void 0?0:p,m=d.label,y=m===void 0?{}:m,x=d.autoWidth,b=d.customContent,_=y.style,M=Gm(g),A=(e==null?void 0:e.size)||[100,30];typeof A=="number"&&(A=[A,A]);var I=0,k=A[0]-M[1]-M[3],E=$n(v,e,t),O=t.addShape("rect",{attrs:Lx(Lx({x:0,y:0,width:A[0],height:A[1]},iL),E),name:"main-box",draggable:f});if(c){var P=function(ft){if(h){var pt={name:"text",title:"value"};return pt[ft]}return ft};I+=M[0];var N=function(ft,pt,_t,Et){Et===void 0&&(Et=0);var Ot=0,oe=[],se=["icon","name","title"],_e=function(le,ar){var pe=ar.fontSize,ze=pe===void 0?12:pe,rr=0,ur=0,_r=x?Ot&&Ot+M[3]:(pt+Ot)/2;switch(le){case"icon":rr=_t,ur=I;break;case"name":rr=_t+_r,ur=ft.title?M[0]:(A[1]-ze)/2;break;case"title":rr=_t+_r,ur=ft.name?M[0]+oe[1]+nL:(A[1]-ze)/2;break;default:break}return{x:rr,y:ur}};return se.forEach(function(le,ar){var pe=le.startsWith("icon"),ze=$n(_,e,t,P(le));le==="icon"&&ft[le]&&(Ot=ze.width||32);var rr=t.addShape(pe?"image":"text",{attrs:Lx(Lx(Lx(Lx({textBaseline:"top",textAlign:x?"start":"center"},_e(le,ze)),{text:ft[le],img:ft[le]}),pe?r:h_),ze),name:"".concat(le,"-").concat(Et,"-").concat(ar),draggable:f});oe.push(rr.getBBox().height)}),oe},R=function(ft,pt){var _t;pt===void 0&&(pt=0);var Et=[];b?Et.push((_t=b(ft,t,{startX:M[3],startY:I,width:k}))!==null&&_t!==void 0?_t:0):Et.push.apply(Et,N(ft,k,M[3],pt)),I+=Math.max.apply(Math,Et)};R(c)}if(O==null||O.attr("height",Math.max(I+M[2],A[1])),x){var z=Math.max.apply(Math,qnr([A[0]],(i=t==null?void 0:t.getChildren())===null||i===void 0?void 0:i.map(function(ft){return(ft.getBBox().maxX||0)+M[1]}),!1));O==null||O.attr("width",z)}if(u){var B=((a=(n=t==null?void 0:t.get("item"))===null||n===void 0?void 0:n.getModel())!==null&&a!==void 0?a:{}).collapsed,Y=O.getBBox(),q=Y.width,j=Y.height,Z=typeof u=="function"?u(e,t):u,tt=Z.show,lt=Z.position,J=lt===void 0?"right":lt,nt=Z.collapsed,ut=Z.style;OM({show:tt,position:J,collapsed:B!=null?B:nt,style:ut},t,[q,j]),O.attr("defaultCollapsed",nt)}return O},update:void 0},"single-node")};var Hnr=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};Cqt();var Unr={fill:"#91d5ff",stroke:"#40a9ff",radius:2},Xnr={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},Znr={nodeCfg:{type:"organization-card",size:[100,44],style:Unr,padding:6,anchorPoints:[[.5,0],[.5,1]],nodeStateStyles:Ss,label:{style:function(r,e,t){var i={icon:{width:32,height:32},title:{fill:"#fff"},name:{fill:"#000"}};return t?i[t]:{}}}},edgeCfg:{type:"polyline",endArrow:{type:"triangle",fill:"#91d5ff"},edgeStateStyles:Ss,style:{stroke:"#91d5ff"}},behaviors:["zoom-canvas","drag-canvas"],layout:Xnr,animate:!0,markerPosition:"right",autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"}},Knr=function(r){var e=Xl(r,Znr).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=Hnr(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("TreeGraph",s,{name:"OrganizationGraph",bindEvents:cL}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},Mqt=Knr;var Qnr=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},$nr={type:"dendrogram",direction:"LR",nodeSep:20,rankSep:100,radial:!0},Jnr={nodeCfg:{type:"circle",size:30,anchorPoints:wc,linkCenter:!0,nodeStateStyles:Ss,style:Vd},edgeCfg:{type:"line",edgeStateStyles:Ss},behaviors:["zoom-canvas","drag-canvas"],layout:$nr,animate:!0,markerPosition:"right",autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"}},tar=function(r){var e=Xl(r,Jnr).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=Qnr(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("TreeGraph",s,{name:"RadialTreeGraph"}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},Aqt=tar;var Eqt=function(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})},Tqt=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fV=function(r){var e=r.graph,t=r.level,i=r.asyncData,n=r.fetchLoading,a=function(u,f){f&&e.set("eventData",new gB(f)),e.changeData(u),e.get("fitCenter")&&e.fitCenter()},o=function(u,f,c){c===void 0&&(c="right");var h=[],d=function(v){f.forEach(function(p){var g=p.source,m=p.target;switch(c){case"left":m===v&&!h.includes(g)&&(h.push(g),d(g));break;case"right":g===v&&!h.includes(m)&&(h.push(m),d(m));break;default:}})};return d(u),h=h.filter(function(v){return v!==u}),h},s=function(u,f,c){return Eqt(void 0,void 0,void 0,function(){var h,d,v,p,g,m,y,x,b,_,M,A,I,k,E,O,P,N,R,z,B;return Tqt(this,function(Y){switch(Y.label){case 0:return h=(z=e==null?void 0:e.cfg)===null||z===void 0?void 0:z.markerCfg,d=e.get("eventData").getData(),v=d!=null?d:{},p=v.edges,g=p===void 0?[]:p,m=v.nodes,y=u.item,x=y.getModel(),b=typeof h=="function"?h(y.getModel(),y.get("group")):h,_=o(f,g,(B=b==null?void 0:b.expandDirection)!==null&&B!==void 0?B:"right"),c?[3,1]:(e.findAll("node",function(q){return _.includes(q.get("id"))}).forEach(function(q){return e.hideItem(q)}),m.forEach(function(q){var j=q.collapsedLevel,Z=j===void 0?0:j,tt=q.id;_.includes(tt)&&(q.collapsedLevel=Z+1)}),[3,4]);case 1:return M=e.get("data"),A=M.nodes,I=M.edges,_.length?(e.findById(_[0])?(_.forEach(function(q){var j=e.findById(q);if(j){var Z=j.getModel().collapsedLevel;(!Z||Z<2)&&e.showItem(j)}}),m.forEach(function(q){var j=q.collapsedLevel,Z=j===void 0?0:j,tt=q.id;_.includes(tt)&&(q.collapsedLevel=Z-1)})):(k=void 0,t&&(k=m.filter(function(q){return _.includes(q.id)&&q["".concat(Ea,"_level")]===x["".concat(Ea,"_level")]+1}),_=k.map(function(q){return q.id})),E={nodes:A.map(function(q){return q.id===f&&(q["".concat(Ea,"_children")]=_),q}).concat(k),edges:I.concat(g.filter(function(q){return q.source===f}))},a(E)),[3,4]):[3,2];case 2:return i?(pp(y.getModel(),n),[4,i(y.getModel())]):[3,4];case 3:return O=Y.sent(),P=O.nodes,N=O.edges,e.updateItem(y,{collapsed:!1}),e.refreshItem(y),gp(),R=function(q,j){return{nodes:q.map(function(Z){return Z.id===f&&(Z["".concat(Ea,"_children")]=P.map(function(tt){return tt.id})),Z}).concat(P),edges:j.concat((N==null?void 0:N.length)?N:P.map(function(Z){return{source:f,target:Z.id}}))}},a(R(A,I),R(m,g)),e.emit(Bm,u,{type:"fetch",collapsed:!0}),[2];case 4:return[2]}})})},l=function(u){return Eqt(void 0,void 0,void 0,function(){var f,c,h,d,v,p,g,m,y,x,b,_,M,A;return Tqt(this,function(I){return f=e.get("eventData").getData(),((M=u.target.get("name"))===null||M===void 0?void 0:M.startsWith("collapse-icon"))&&(c=u.item,h=c.getModel(),d=h.id,v=h.collapsed,bft(v,"Boolean")||(v=(A=c._cfg.group.getChildren().find(function(k){return k.get("name")==="main-box"}))===null||A===void 0?void 0:A.attr("defaultCollapsed")),p=f!=null?f:{},g=p.edges,m=g===void 0?[]:g,y=p.nodes,x=[],b=[],s(u,d,v),_=m.find(function(k){return k.source===d}).target,m.forEach(function(k){var E=k.source,O=k.target;O===_&&b.push(E)}),Array.from(new Set(b)).forEach(function(k){x.push(e.find("node",function(E){return E.get("id")===k}))}),x.forEach(function(k){e.updateItem(k,{collapsed:!v}),e.refreshItem(k)}),e.emit(Bm,u,{type:"collapse",collapsed:!!v})),[2]})})};e.on("node:click",function(u){l(u)})};var hs=et(ot());var Jn=function(){return Jn=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Jn.apply(this,arguments)},Iqt=function(r){var e=r.edgeCfg,t=r.startPoint,i=r.endPoint,n=t.x,a=t.y,o=i.x,s=i.y,l=s-a,u=Math.abs(l)>0,f,c,h,d;if(Math.abs(l)<=5)c={x:n+20,y:s},d=[["M",n,a],["L",o,s]];else{var v=u?Math.min(500/Math.abs(l),20):0,p=v>15?0:16,g=l<0?p:-p;f={x:n+v,y:s+g},c={x:f.x+p,y:s},h={x:(f.x-n)*(s-a)/(f.y-a)+n,y:s},d=[["M",n,a],["L",f.x,f.y],["Q",h.x,h.y,c.x,c.y],["L",o,s]]}var m=e,y=m.startArrow,x=m.endArrow,b=Hl(y,r),_=Hl(x,r);return{startArrow:b,endArrow:_,path:d,line2StartPoint:c,endY:s}},Lqt=function(r){var e,t;return r instanceof Object?(e=r.text,t=r.subText):e=r,{text:e,subText:t}},hL=function(){var r={fill:"#fff",fontSize:12},e={fill:"#40a9ff",radius:[2,2,0,0]},t={width:12,height:12},i=["startArrow","endArrow"],n={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},a={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},o={edge:a,node:n};Ar.registerNode("indicator-card",{draw:function(s,l){var u,f,c;s===void 0&&(s={});var h=s.value,d=h===void 0?{}:h,v=s.nodeCfg,p=s.markerCfg,g=s._draggable,m=v,y=m.title,x=m.items,b=m.label,_=b===void 0?{}:b,M=m.style,A=m.padding,I=A===void 0?0:A,k=m.badge,E=m.percent,O=m.autoWidth,P=m.customContent,N=fft(k),R=_.style,z=Gm(I),B=z.map(function(Cn,Xi){return Cn+N[Xi]}),Y=y!=null?y:{},q=Y.style,j=Y.containerStyle,Z=Y.autoEllipsis,tt=Z===void 0?!0:Z,lt=x!=null?x:{},J=lt.style,nt=lt.containerStyle,ut=lt.layout,ft=lt.itemSpacing,pt=ft===void 0?4:ft,_t=lt.sort,Et=lt.padding,Ot=Et===void 0?[6,0,0]:Et,oe=Gm(Ot),se=d,_e=se.title,le=se.items,ar=se.percent,pe=(s==null?void 0:s.size)||[100,30];typeof pe=="number"&&(pe=[pe,pe]);var ze=0,rr=pe[0],ur=rr-B[1]-B[3],_r=$n(M,s,l),it=l.addShape("rect",{attrs:Jn(Jn({x:0,y:0,width:pe[0],height:pe[1]},iL),_r),name:"main-box",draggable:g}),kt,Gt,te;if(_e){te=l.addShape("rect",{attrs:Jn(Jn({x:0,y:0,width:pe[0],height:0},e),$n(j,s,l)),name:"title-rect",draggable:g});var we=Jn(Jn({},r),$n(q,s,l));kt=l.addShape("text",{attrs:Jn({x:B[3],y:B[0],textBaseline:"top",text:tt&&!O?hft(_e,we,ur):_e},we),name:"title",draggable:g});var Ht=(kt?kt.getBBox():{height:pe[1]/2}).height;te==null||te.attr("height",Ht+B[0]+B[2]),ze+=te.getBBox().height}if(le){te||(ze+=B[0]),Gt=l.addShape("rect",{attrs:Jn({x:B[3],y:ze,width:ur,height:0},$n(nt,s,l)),name:"item-box",draggable:g}),ze+=oe[0];var ce=ur-oe[1]-oe[3],Oe=Array.isArray(le),je=function(Cn,Xi,ba,qe){qe===void 0&&(qe=0);var ln=[],ui=0,Zn=_t?Object.keys(Cn):["text","value","icon"];return Zn.forEach(function(Wn,Jl){var rn,el=Wn.startsWith("icon");_t||ut==="flex"?rn=Jl*Xi/Zn.length:ut==="follow"?rn=ui:(rn=Wn==="text"?0:Xi/2,rn+=el?ui:0);var wl=l.addShape(el?"image":"text",{attrs:Jn(Jn({textBaseline:"top",x:ba+rn,y:ze,text:Cn[Wn],img:Cn[Wn]},el?t:h_),el?(0,hs.omit)($n(J||R,s,l,Wn),["fill"]):$n(J||R,s,l,Wn)),name:"".concat(Wn,"-").concat(qe,"-").concat(Jl),draggable:g});(Wn==="value"||ut==="follow")&&(ui+=wl.getBBox().width,ui+=ut==="follow"?pt:0),ln.push(wl.getBBox().height)}),ln},Ae=function(Cn,Xi){var ba;Xi===void 0&&(Xi=0);var qe=[];P?qe.push((ba=P(Cn,l,{startX:B[3]+oe[3],startY:ze,width:ce}))!==null&&ba!==void 0?ba:0):qe.push.apply(qe,je(Cn,ce,B[3]+oe[3],Xi)),ze+=Math.max.apply(Math,qe),Oe&&Xi!==le.length-1&&(ze+=nL)};Array.isArray(le)?le.forEach(function(Cn,Xi){Ae(Cn,Xi)}):Ae(le)}var Qe=(te==null?void 0:te.getBBox().height)||0;Gt==null||Gt.attr("height",Math.max(ze-Qe+oe[2],pe[1]));var sr=(Gt==null?void 0:Gt.getBBox().height)||0,Xr=le?(Qe||B[0])+sr+B[2]:Qe+sr;it==null||it.attr("height",Xr);var Fr=rr;if(O){var Gn=Math.max.apply(null,(u=l==null?void 0:l.getChildren())===null||u===void 0?void 0:u.map(function(Cn){return Cn.getBBox().maxX||0}));Fr=Math.max(rr,Gn+B[1]),te==null||te.attr("width",Fr),it==null||it.attr("width",Fr),Gt==null||Gt.attr("width",Gn-B[1])}if(k){var Ta=K8(k,[pe[0],Xr]);l.addShape("rect",{attrs:Jn(Jn({fill:"#40a9ff"},Ta),$n(k.style,s,l)),name:"status-rect",draggable:g})}if(E&&ar>0){var Wi=E.size,mn=Wi===void 0?4:Wi,Yn=E.position,to=Yn===void 0?"bottom":Yn,ji=E.style,Sn=ji===void 0?{fill:"#40a9ff"}:ji,ya=E.backgroundStyle,Ql=ya===void 0?{fill:"rgba(0,0,0,.1)",radius:[0,0,2,2]}:ya,Ta=K8({position:to,size:[Fr,mn]},[Fr,Xr]);l.addShape("rect",{attrs:Jn(Jn({},Ta),$n(Ql,s,l)),name:"percent-rect-background",draggable:g}),l.addShape("rect",{attrs:Jn(Jn(Jn({fill:"#40a9ff"},Ta),{width:Math.min(1,ar)*Ta.width}),$n(Sn,s,l)),name:"percent-rect",draggable:g})}if(p){var xa=xB(s._graphId),Mh=((c=(f=l==null?void 0:l.get("item"))===null||f===void 0?void 0:f.getModel())!==null&&c!==void 0?c:{}).collapsed,ku=it.getBBox(),zs=ku.width,Pu=ku.height,wo=[];if(typeof p=="function"){var $l=p(Jn(Jn({},s),{children:Ix(xa==null?void 0:xa.get("eventData").getData(),s.g_currentPath)}),l);wo=$l instanceof Array?$l:[$l]}else wo=p instanceof Array?p:[p];var Ah=function(){var Cn,Xi;return(0,hs.isBoolean)(Mh)?Mh:s._graphId.startsWith("FlowAnalysisGraph")?!((Cn=s["".concat(Ea,"_children")])===null||Cn===void 0?void 0:Cn.length):!((Xi=s.children)===null||Xi===void 0?void 0:Xi.length)};wo.forEach(function(Cn){var Xi=Cn.show,ba=Cn.position,qe=ba===void 0?"right":ba,ln=Cn.collapsed,ui=Cn.style,Zn=ln!=null?ln:Ah();OM({show:Xi,position:qe,collapsed:Zn,style:ui},l,[zs,Pu],wo.length>1),it.attr("defaultCollapsed",Zn)})}return it},update:void 0,setState:function(s,l,u){var f,c,h=u.get("keyShape");if(!(!h||h.destroyed)){var d=u.getType(),v=(0,hs.isBoolean)(l)?s:"".concat(s,":").concat(l),p=u.getStateStyle(v);if(!!p){var g=Object.assign({},p),m=u.getContainer(),y={x:1,y:1,cx:1,cy:1};if(l){var x=function(j){var Z,tt=g[j];if((0,hs.isPlainObject)(tt)&&!i.includes(j)){var lt=m.find(function(J){return J.get("name")===j});lt&&lt.attr(tt)}else h.attr((Z={},Z[j]=tt,Z))};for(var b in g)x(b)}else{var _=X8(u.getCurrentStatesStyle()),M=u.getModel(),A=(0,hs.mix)({},M.style,X8(u.getOriginStyle())),I=h.get("name"),k=h.attr(),E={};Object.keys(k).forEach(function(j){if(j!=="img"){var Z=k[j];Z&&typeof Z=="object"?E[j]=(0,hs.clone)(Z):E[j]=Z}});var O={},P=function(j){var Z=g[j];if((0,hs.isPlainObject)(Z)&&!i.includes(j)){var tt=m.find(function(nt){return nt.get("name")===j});if(tt){var lt=(0,hs.clone)(tt.attr());(0,hs.each)(Z,function(nt,ut){if(j===I&&E[ut]&&!y[ut]){delete E[ut];var ft=A[j][ut]||o[d][ut];h.attr(ut,ft)}else if(lt[ut]||lt[ut]===0){delete lt[ut];var pt=A[j][ut]||o[d][ut];tt.attr(ut,pt)}}),O[j]=lt}}else if(E[j]&&!y[j]){delete E[j];var J=A[j]||(A[I]?A[I][j]:void 0)||o[d][j];h.attr(j,J)}};for(var N in g)P(N);I?O[I]=E:(0,hs.mix)(O,E);for(var b in _)if(!y[b]){var R=_[b];(!(0,hs.isPlainObject)(R)||i.includes(b))&&(I?((0,hs.mix)(A[I],(c={},c[b]=R,c)),delete A[b]):(0,hs.mix)(A,(f={},f[b]=R,f)),delete _[b])}var z={};(0,hs.deepMix)(z,A,O,_);var B=!1,Y=function(j){var Z,tt=z[j];if((0,hs.isPlainObject)(tt)&&!i.includes(j)){var lt=m.find(function(nt){return nt.get("name")===j});lt&&(j===I&&(B=!0),j!=="collapse-icon"&&lt.attr(tt))}else if(!B){var J=tt||o[d][j];h.attr((Z={},Z[j]=J,Z))}};for(var q in z)Y(q)}}}}},"single-node"),Ar.registerEdge("labels-line",{draw:function(l,u){l===void 0&&(l={});var f=l.edgeCfg,c=l.value,h=Lqt(c),d=h.text,v=h.subText,p=f,g=p.style,m=p.label,y=Iqt(l),x=y.startArrow,b=y.endArrow,_=y.path,M=y.line2StartPoint,A=y.endY,I=m!=null?m:{},k=I.style,E=I.margin,O=E===void 0?4:E,P=u.addShape("path",{attrs:Jn({path:_,stroke:"#ccc",startArrow:x,endArrow:b},typeof g=="function"?g(l,u):g),name:"path-shape"}),N=function(B,Y,q){u.addShape("text",{attrs:Jn({text:B,x:M.x},q),name:"line-text-".concat(Y)})};if(d){var R=Jn(Jn({},Z8),$n(k,l,u,"text")),z=v?Number(("".concat(R.fontSize)||"12").replace(/px/g,""))/2:0;N(d,"text",Jn({y:A-z-O/2},R))}if(v){var R=Jn(Jn({},Z8),$n(k,l,u,"subText")),z=Number(("".concat(R.fontSize)||"12").replace(/px/g,""))/2;N(d,"subText",Jn({y:A+z+O/2},R))}return P},update:function(s,l){var u=s.edgeCfg,f=s.value,c=Lqt(f),h=c.text,d=c.subText,v=l.getContainer(),p=function(B){return v.get("children").find(function(Y){return Y.get("name")===B})},g=Iqt(s),m=g.startArrow,y=g.endArrow,x=g.path,b=g.line2StartPoint,_=g.endY,M=u,A=M.style,I=M.label,k=I!=null?I:{},E=k.style,O=k.margin,P=O===void 0?4:O,N=p("path-shape");N==null||N.attr(Jn({path:x,stroke:"#ccc",startArrow:m,endArrow:y},typeof A=="function"?A(s,v):A));var R=["text","subText"],z=!!p("line-text-subText");R.forEach(function(B){var Y=p("line-text-".concat(B)),q=Jn(Jn({},Z8),$n(E,s,v,B)),j=z?Number(("".concat(q.fontSize)||"12").replace(/px/g,""))/2:0;Y==null||Y.attr(Jn({x:b.x,y:B==="text"?_-j-P/2:_+j+P/2,text:B==="text"?h:d},q))})}},"single-edge")};var ear=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};hL();var rar={type:"dagre",rankdir:"LR",center:[0,0],nodesepFunc:function(){return 1},ranksepFunc:function(){return 1}},iar={nodeCfg:{type:"indicator-card",size:Rm,style:Vd,anchorPoints:wc,padding:6,layout:"bundled",nodeStateStyles:Ss},edgeCfg:{type:"cubic-horizontal",edgeStateStyles:Ss},behaviors:["zoom-canvas","drag-canvas"],layout:rar,animate:!0,markerPosition:"right",autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"},level:100},nar=function(r){var e=Xl(r,iar).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=ear(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("Graph",s,{name:"FlowAnalysisGraph",bindEvents:fV}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},Oqt=nar;var Lft=function(){return Lft=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Lft.apply(this,arguments)},aar=function(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})},oar=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kqt=function(r){var e=r.graph,t=r.level,i=r.getChildren,n=r.fetchLoading,a=function(o){return aar(void 0,void 0,void 0,function(){var s,l,u,f,c,h,d,v,p,g,m,y,x;return oar(this,function(b){switch(b.label){case 0:return s=o.item,l=s.getModel(),((x=o.target.get("name"))===null||x===void 0?void 0:x.startsWith("collapse-icon"))?(u=s.getModel(),f=u.collapsed,c=u.g_currentPath,h=u.children,d=h===void 0?[]:h,v=u.g_parentId,p=u.g_level,g=u.id,m=t&&!d.length&&Ix(e.get("eventData").getData(),c),i&&!(d==null?void 0:d.length)&&!(m==null?void 0:m.length)?(pp(l,n),[4,i(s.getModel())]):[3,2]):[3,3];case 1:y=b.sent(),y&&(y=y.map(function(_,M){var A;return Lft((A={},A["".concat(Ea,"_level")]=p+1,A["".concat(Ea,"_parentId")]="".concat(v,"-").concat(g),A["".concat(Ea,"_currentPath")]="".concat(c,"-").concat(M),A),_)}),bB(e,y,c)),m=y,gp(),b.label=2;case 2:(m==null?void 0:m.length)>0?(l.children=m,e.updateChild(l,l.id),e.updateItem(s,{collapsed:!1}),e.refreshItem(s),e.emit(Bm,o,{type:"fetch",collapsed:!0})):(e.updateItem(s,{collapsed:!f}),e.layout(),e.emit(Bm,o,{type:"collapse",collapsed:!!f})),b.label=3;case 3:return[2]}})})};e.on("node:click",function(o){a(o)}),e.on("node:touchstart",function(o){a(o)})};var sar=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};hL();var lar={type:"compactBox",direction:"LR",getId:function(r){return r.id},getHeight:function(){return 60},getWidth:function(){return 16},getVGap:function(){return 16},getHGap:function(){return 100}},uar={nodeCfg:{type:"indicator-card",size:Rm,style:Vd,anchorPoints:wc,padding:6,layout:"bundled",nodeStateStyles:Ss,label:{style:function(r,e,t){var i={icon:{width:10,height:10},value:{fill:"#000"},text:{fill:"#aaa"}};return t?i[t]:{}}}},edgeCfg:{type:"cubic-horizontal",endArrow:{type:"vee"},edgeStateStyles:Ss},behaviors:["zoom-canvas","drag-canvas"],layout:lar,animate:!0,autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"},level:100},far=function(r){var e=Xl(r,uar).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=sar(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("TreeGraph",s,{name:"DecompositionTreeGraph",bindEvents:kqt}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},Pqt=far;var Hd=function(){return Hd=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Hd.apply(this,arguments)},Dqt=function(r){var e=r.edgeCfg,t=r.startPoint,i=r.endPoint,n=t.x,a=t.y,o=i.x,s=i.y,l=s-a,u=l!==0?Math.min(500/Math.abs(l),20):0,f=u>15?0:16,c=l<0?f:-f,h={x:n+u,y:s+c},d={x:h.x+f,y:s},v={x:(h.x-n)*(s-a)/(h.y-a)+n,y:s},p=[["M",n,a],["L",h.x,h.y],["Q",v.x,v.y,d.x,d.y],["L",o,s]];Math.abs(l)<=5&&(p=[["M",n,a],["L",o,s]]);var g=e,m=g.startArrow,y=g.endArrow,x=Hl(m,r),b=Hl(y,r);return{startArrow:x,endArrow:b,path:p,line2StartPoint:d,endY:s}},Fqt=function(r){var e,t;return r instanceof Object?(e=r.text,t=r.subText):e=r,{text:e,subText:t}},Nqt=function(){Ar.registerNode("fund-card",{draw:function(r,e){var t,i;r===void 0&&(r={});var n=r.value,a=n===void 0?{}:n,o=r.nodeCfg,s=r.markerCfg,l=o,u=l.label,f=u===void 0?{}:u,c=l.style,h=l.padding,d=h===void 0?0:h,v=l.customContent,p=f.style,g=Gm(d),m=kM(r.size),y=0,x=m[0],b=x-g[1]-g[3],_=m[1]-g[0]-g[2],M=$n(c,r,e),A=e.addShape("rect",{attrs:Hd({x:0,y:0,width:m[0],height:m[1],radius:m[1]/2,fill:"#fff",stroke:"#40a9ff"},M),name:"main-box",draggable:!0});if(a){y+=g[0];var I=function(Z,tt,lt){var J,nt,ut=Z.text,ft=Z.icon,pt,_t;return ft&&(_t=e.addShape("image",{attrs:Hd({x:lt,y,img:ft,width:_,height:_},$n(p,r,e,"icon")),name:"fund-icon"})),pt=e==null?void 0:e.addShape("text",{attrs:Hd(Hd({textBaseline:"middle",textAlign:_t?"start":"center",x:lt+(_t?(_t==null?void 0:_t.getBBox().width)+nL:tt/2),y:g[0]+_/2,text:ut},h_),$n(p,r,e,"text")),name:"fund-text"}),[(J=pt==null?void 0:pt.getBBox().height)!==null&&J!==void 0?J:0,(nt=_t==null?void 0:_t.getBBox().height)!==null&&nt!==void 0?nt:0]},k=function(Z){var tt,lt=[];v?lt.push((tt=v(Z,e,{startX:g[3],startY:y,width:b}))!==null&&tt!==void 0?tt:0):lt.push.apply(lt,I(Z,b,g[3])),y+=Math.max.apply(Math,lt)};k(a)}if(A==null||A.attr("height",Math.max(m[1],y+g[2])),s){var E=((i=(t=e==null?void 0:e.get("item"))===null||t===void 0?void 0:t.getModel())!==null&&i!==void 0?i:{}).collapsed,O=A.getBBox(),P=O.width,N=O.height,R=typeof s=="function"?s(r,e):s,z=R.show,B=R.position,Y=B===void 0?"right":B,q=R.collapsed,j=R.style;OM({show:z,position:Y,collapsed:E!=null?E:q,style:j},e,[P,N]),A.attr("defaultCollapsed",q)}return A},update:void 0},"single-node"),Ar.registerEdge("fund-line",{draw:function(e,t){e===void 0&&(e={});var i=e.edgeCfg,n=e.value,a=Fqt(n),o=a.text,s=a.subText,l=i,u=l.style,f=l.label,c=Dqt(e),h=c.startArrow,d=c.endArrow,v=c.path,p=c.line2StartPoint,g=c.endY,m=(f!=null?f:{}).style,y=t.addShape("path",{attrs:Hd({path:v,stroke:"#ccc",startArrow:h,endArrow:d},typeof u=="function"?u(e,t):u),name:"path-shape"}),x=function(b,_){t.addShape("text",{attrs:Hd(Hd({text:b,x:p.x,y:_==="text"?g-4:g+16},h_),$n(m,e,t,_)),name:"line-text-".concat(_)})};return o&&x(o,"text"),s&&x(s,"subText"),y},update:function(r,e){var t=r.edgeCfg,i=r.value,n=Fqt(i),a=n.text,o=n.subText,s=e.getContainer(),l=function(_){return s.get("children").find(function(M){return M.get("name")===_})},u=Dqt(r),f=u.startArrow,c=u.endArrow,h=u.path,d=u.line2StartPoint,v=u.endY,p=t,g=p.style,m=p.label,y=(m!=null?m:{}).style,x=l("path-shape");x==null||x.attr(Hd({path:h,stroke:"#ccc",startArrow:f,endArrow:c},typeof g=="function"?g(r,s):g));var b=["text","subText"];b.forEach(function(_){var M=l("line-text-".concat(_));M==null||M.attr(Hd(Hd({x:d.x,y:_==="text"?v-4:v+16,text:_==="text"?a:o},h_),$n(y,r,s,_)))})}},"single-edge")};var car=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};Nqt();var har={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},dar={nodeCfg:{type:"fund-card",size:Rm,style:Vd,anchorPoints:wc,nodeStateStyles:Ss,padding:6},edgeCfg:{type:"fund-line",edgeStateStyles:Ss,style:{stroke:"#40a9ff"},endArrow:{fill:"#40a9ff"}},behaviors:["zoom-canvas","drag-canvas"],layout:har,animate:!0,autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"}},par=function(r){var e=Xl(r,dar).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=car(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("Graph",s,{name:"FundFlowGraph",bindEvents:fV}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},Bqt=par;var Oft=et(ot());var cV=function(r){var e=r.center,t=r.eventNodePosition,i=r.nodes,n=r.layoutNodes,a=r.options,o=a===void 0?{}:a,s=o,l=s.unitRadius,u=l===void 0?80:l,f=s.nodeSize,c=f===void 0?20:f,h=s.nodeSpacing,d=h===void 0?10:h;!n.length;var v=n.filter(function(N){return i.findIndex(function(R){var z=R.id;return z===N.id})!==-1});if(!v.length)return n;var p=function(N,R){var z=N.x-R.x,B=N.y-R.y;return Math.sqrt(Math.pow(z,2)+Math.pow(B,2))},g=e[0],m=e[1],y=t[0],x=t[1],b=y-g,_=x-m,M=[];i.forEach(function(N){var R=N.id,z=N.x,B=N.y;M.push({id:R,x:z,y:B,layer:Math.round(p({x:z,y:B},{x:g,y:m}))/u})});var A=Math.sqrt(Math.pow(b,2)+Math.pow(_,2)),I=Math.atan2(_,b),k=A+u,E=[],O=function(N,R){var z=2*Math.asin((c+d)/2/R);E=[];var B=N.length-1;N.forEach(function(Y,q){Y.x=g+R*Math.cos(I+(-B/2+q)*z),Y.y=m+R*Math.sin(I+(-B/2+q)*z),E.push({x:Y.x,y:Y.y})})},P=function(N,R){for(var z=!1,B=Math.round(k/u),Y=N.filter(function(Z){return Z.layer===B}),q=0;q<Y.length;q++){var j=Y[q];if(p(R[0],j)<c||p(R[R.length-1],j)<c){z=!0;break}}return z};for(O(v,k);P(M,E);)k+=u,O(v,k);return n};var gar=function(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})},mar=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Rqt=function(r){var e=r.graph,t=r.asyncData,i=r.layout,n=r.fetchLoading,a=function(o){return gar(void 0,void 0,void 0,function(){var s,l,u,f,c,h,d,v,p,g,m,y,x,b,_,M;return mar(this,function(A){switch(A.label){case 0:return s=o.item,l=s.getModel(),pp(l,n),[4,t(s.getModel())];case 1:return u=A.sent(),gp(),f=e.getNodes(),c=e.getEdges(),h=l.x,d=l.y,v=e.get("centerNode"),p=v?e.findById(v):f[0],g=p.getModel(),m=g.x,y=g.y,x=u.nodes.filter(function(I){return(0,Oft.findIndex)(f,function(k){return k.getModel().id===I.id})===-1}),b=u.edges.filter(function(I){return(0,Oft.findIndex)(c,function(k){var E=k.getModel(),O=E.source,P=E.target;return O===I.source&&P===I.target})===-1}),_=[],M=[],x.forEach(function(I){I.x=l.x,I.y=l.y,e.addItem("node",I)}),b.forEach(function(I,k){e.addItem("edge",I)}),c.forEach(function(I){M.push(I.getModel())}),f.forEach(function(I){_.push(I.getModel())}),cV({center:[m,y],eventNodePosition:[h,d],nodes:f.map(function(I){return I.getModel()}),layoutNodes:x,options:i}),e.positionsAnimate(),e.data({nodes:_,edges:M}),[2]}})})};e.on("node:dblclick",function(o){a(o)})};var yar=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t},xar={type:"radial",unitRadius:50,preventOverlap:!0,maxPreventOverlapIteration:100},bar={nodeCfg:{type:"circle",size:10,anchorPoints:wc,linkCenter:!0,nodeStateStyles:Ss,style:Vd},edgeCfg:{type:"line",edgeStateStyles:Ss},behaviors:["zoom-canvas","drag-canvas"],layout:xar,animate:!0,markerPosition:"right",autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"}},war=function(r){var e=Xl(r,bar).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=yar(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("Graph",s,{name:"RadialGraph",bindEvents:Rqt}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},Gqt=war;var _ar=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};hL();var Sar={type:"mindmap",direction:"H",getId:function(r){return r.id},getHeight:function(){return 60},getWidth:function(){return 16},getVGap:function(){return 16},getHGap:function(){return 100}},Car={nodeCfg:{type:"indicator-card",size:Rm,style:Vd,anchorPoints:wc,padding:6,layout:"bundled",nodeStateStyles:Ss,label:{style:function(r,e,t){var i={icon:{width:10,height:10},value:{fill:"#000"},text:{fill:"#aaa"}};return t?i[t]:{}}}},edgeCfg:{type:"cubic-horizontal",endArrow:{type:"vee"},edgeStateStyles:Ss},behaviors:["zoom-canvas","drag-canvas"],layout:Sar,animate:!0,autoFit:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"},level:100},Mar=function(r){var e=Xl(r,Car).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=_ar(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("TreeGraph",s,{name:"MindMapGraph",bindEvents:cL}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},zqt=Mar;var bo=function(){return bo=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},bo.apply(this,arguments)},Aar=function(r,e,t,i){function n(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(f){try{u(i.next(f))}catch(c){o(c)}}function l(f){try{u(i.throw(f))}catch(c){o(c)}}function u(f){f.done?a(f.value):n(f.value).then(s,l)}u((i=i.apply(r,e||[])).next())})},Ear=function(r,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,n,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(f){return l([u,f])}}function l(u){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(a=u[0]&2?n.return:u[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,u[1])).done)return a;switch(n=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1],a=u;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(u);break}a[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(f){u=[6,f],n=0}finally{i=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kft=Ar.Util,jqt=function(){var r=2,e={fill:"rgba(0,0,0,.65)",textAlign:"middle",fontSize:14,fontFamily:"PingFangSC-Regular",cursor:"pointer",textBaseline:"middle"},t="#40a9ff",i=12,n={width:i,height:i,radius:i/2,stroke:"#999",fill:"#fff",cursor:"pointer",r:i/2,lineWidth:1};Ar.registerNode("file-tree-node",{options:{style:{fill:"#e8f7ff"},stateStyles:{hover:{fillOpacity:.6},selected:{}}},addLabel:function(a,o,s,l){return a.addShape("text",{attrs:{text:o,x:s*2,y:l,textAlign:"left",textBaseline:"top",fontFamily:"PingFangSC-Regular"},cursor:"pointer",name:"name-text-shape"})},addCollapse:function(a,o){var s=o.collapsed,l=o.markerCfg,u=o.model,f=o.size,c=l.style,h=[0,f[1]],d=h[0],v=h[1],p=$n(c,u,a,"collapse"),g=bo(bo({},n),p),m=a.addGroup({name:"collapse-group"}),y=d-g.width/2,x=v-g.height/2;m.addShape("rect",{attrs:bo({lineWidth:r,x:y,y:x},g),name:"collapse-icon-circle"}),m.addShape("path",{attrs:bo({path:s?[["M",y+g.width/4,v-g.height/4],["L",y+g.width*3/4,v],["L",y+g.width/4,v+g.height/4]]:[["M",y+g.width/4,v-g.height/4],["L",y+g.width/2,v+g.height/4],["L",y+g.width*3/4,v-g.height/4]]},g),name:"collapse-icon-arrow",capture:!1}),s?m.show():m.hide()},addMarker:function(a,o){var s=o.markerCfg,l=o.model,u=o.size,f=o.startX,c=f===void 0?0:f,h=o.startY,d=h===void 0?0:h,v=s.style,p=s.position,g=p===void 0?"right":p,m=s.show;if(!!m){var y=$n(v,l,a),x=bo(bo({},n),y),b=Tx(g,u),_=b.x,M=b.y,A=a.addShape("marker",{attrs:bo({x:_+c,y:M+d,symbol:Ar.Marker.expand},x),name:"icon-add-child"});return A.hide(),A}},addHoverBack:function(a,o){var s=o.x,l=o.y,u=o.width,f=o.height,c=o.style;a.addShape("rect",{attrs:bo({x:s,y:l,width:u,height:f,radius:4,cursor:"pointer"},c),name:"main-shape",draggable:!0})},addName:function(a,o){var s=o.label,l=o.x,u=l===void 0?0:l,f=o.y,c=o.style;return a.addShape("text",{attrs:bo(bo({text:s,x:u,y:f},e),c),name:"text-shape",draggable:!0})},addBottomLine:function(a,o){var s=o.x,l=o.y,u=o.width,f=o.stroke,c=o.lineWidth;return a.addShape("path",{attrs:{path:[["M",s-1,l],["L",u,l]],stroke:f,lineWidth:c},name:"node-path-shape"})},draw:function(a,o){var s=a.collapsed,l=a.depth,u=a.value,f=a.markerCfg,c=a.children,h=c===void 0?[]:c,d=a.nodeCfg,v=d.style,p=d.label,g=d.padding,m=g===void 0?0:g,y=d.customContent,x=d.lineStyle,b=$n(x,a,o),_=u.text,M=(d==null?void 0:d.size)||[];typeof M=="number"&&(M=[M,M]);var A=Gm(m),I=l===0,k=h.length||0,E=M[1]||28,O=0,P=0,N;y?N=y(u,o,{startX:O+A[3],startY:E/2,width:M[0]}):N=this.addName(o,{label:_,x:O+A[3],y:E/2,style:$n(p.style,a,o)});var R=o.getBBox().width,z=Math.max(M[0],R+A[1]+A[3]);M.length||(M=[z,E]);var B=$n(v,a,o),Y=bo({x:O,y:P,width:z,height:E,radius:12},B),q=o.addShape("rect",{attrs:Y,name:"root-rect-shape"});!I&&this.addBottomLine(o,bo({stroke:t,lineWidth:r,x:O,width:z,y:P+E},b));var j=f,Z=xB(a._graphId);typeof f=="function"&&(j=f(bo(bo({},a),{children:Ix(Z==null?void 0:Z.get("eventData").getData(),a.g_currentPath)}),o)),k&&!I&&this.addCollapse(o,{collapsed:s,markerCfg:j,model:a,size:[z,E]});var tt=this.addMarker(o,{collapsed:s,markerCfg:j,model:a,size:[z,E],startX:N.getBBox().x-A[3],startY:q.getBBox().y}),lt=o.getBBox(),J=lt.minX,nt=lt.minY,ut=lt.maxX,ft=lt.maxY,pt=o.addShape("path",{attrs:{path:k?[["M",J,nt],["L",ut,nt],["L",ut,ft],["L",J+20,ft],["L",J+20,ft+20],["L",J,ft+20],["Z"]]:[["M",J,nt],["L",ut,nt],["L",ut,ft],["L",J,ft],["Z"]],fill:"#fff",opacity:0},draggable:!0});return N==null||N.toFront(),pt.toBack(),I&&gft(a._graphId,function(){var _t=q.getBBox(),Et=_t.width,Ot=_t.maxX;tt==null||tt.attr({x:O+Et/2}),N==null||N.attr({x:O+A[3]-Et/2}),q.attr({x:O-Et/2})}),q},setState:function(a,o,s){var l,u,f,c;if(["closest","selected","hover"].includes(a)){var h=s.getModel(),d=h.edgeCfg,v=h.nodeCfg,p=h.depth,g=h.markerCfg;if(p===0)return;var m=d,y=m.edgeStateStyles,x=m.style,b=v,_=b.nodeStateStyles,M=b.label.style,A=b.style,I=b.lineStyle,k=a==="closest"?"hover":a,E=s.getContainer(),O=E.find(function(J){return J.get("name")==="root-rect-shape"}),P=[],N=function(J){J.forEach(function(nt){var ut,ft=nt.get("name");((ft==null?void 0:ft.startsWith("collapse-icon"))||ft==="icon-add-child")&&P.push(nt),((ut=nt.getChildren)===null||ut===void 0?void 0:ut.call(nt).length)&&N(nt.getChildren())})};N(E.getChildren());var R=E.find(function(J){return J.get("name")==="text-shape"}),z=E.find(function(J){return J.get("name")==="node-path-shape"}),B=s.hasState("selected");if(o){var Y=_[k];O==null||O.attr(bo({},((l=_[k])===null||l===void 0?void 0:l.rect)||Y)),P.forEach(function(J){var nt;J==null||J.attr(bo({},((nt=_[k])===null||nt===void 0?void 0:nt.marker)||Y))}),R==null||R.attr(bo({},((u=_[k])===null||u===void 0?void 0:u.text)||Y)),z==null||z.attr(bo({},y[k]))}else if(B){var q=_.selected;O==null||O.attr(bo({},((f=_.selected)===null||f===void 0?void 0:f.rect)||q)),P.forEach(function(J){var nt;J==null||J.attr(bo({},((nt=_.selected)===null||nt===void 0?void 0:nt.marker)||q))}),R==null||R.attr(bo({},((c=_.selected)===null||c===void 0?void 0:c.text)||q)),z==null||z.attr(bo({},y.selected))}else{var j=$n(A,h,s),Z=$n(M,h,s),tt=$n(I,h,s),lt=$n(g,h,s);O==null||O.attr(j),R==null||R.attr(Z),z==null||z.attr(tt),P.forEach(function(J){J==null||J.attr(lt==null?void 0:lt.style)})}}}}),Ar.registerEdge("file-tree-edge",{getControlPoints:function(a){var o=a.startPoint,s=a.endPoint;return[o,{x:o.x,y:s.y},s]},update:void 0},"polyline")},Yqt=function(){Ar.registerBehavior("wheel-scroll",{getDefaultCfg:function(){return{direction:"y",zoomKey:"ctrl",sensitivity:3,scalableRange:-64}},getEvents:function(){return(!this.zoomKey||["shift","ctrl","alt","control"].indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(r){var e=this.graph,t=r["".concat(this.zoomKey,"Key")];if(this.zoomKey==="control"&&(t=r.ctrlKey),t){var i=this.get("sensitivity"),n=e.get("canvas"),a=n.getPointByClient(r.clientX,r.clientY),o=e.getZoom();r.wheelDelta>0?o*=1+.01*i:o*=1-.01*i,e.zoomTo(o,{x:a.x,y:a.y}),e.emit("wheelzoom",r)}else{var s=r.deltaX||r.movementX,l=r.deltaY||r.movementY;!l&&navigator.userAgent.indexOf("Firefox")>-1&&(l=-r.wheelDelta*125/3);var u=this.graph.get("width"),f=this.graph.get("height"),c=this.graph.get("group").getCanvasBBox(),h=this.scalableRange,d=this.scalableRange;h<1&&h>-1&&(h=u*h,d=f*d);var v=c.minX,p=c.maxX,g=c.minY,m=c.maxY;s>0?p<-h?s=0:p-s<-h&&(s=p+h):s<0&&(v>u+h?s=0:v-s>u+h&&(s=v-(u+h))),l>0?m<-d?l=0:m-l<-d&&(l=m+d):l<0&&(g>f+d?l=0:g-l>f+d&&(l=g-(f+d))),this.get("direction")==="x"?l=0:this.get("direction")==="y"&&(s=0),e.translate(-s,-l)}r.preventDefault()}}),Ar.registerBehavior("drag-branch",{getEvents:function(){return{"node:dragstart":"dragstart","node:drag":"drag","node:dragend":"dragend","node:dragenter":"dragenter","node:dragleave":"dragleave"}},dragstart:function(e){var t;this.set("foundNode",void 0),this.origin={x:e.x,y:e.y},this.target=e.item;var i=this.get("graph");if(this.shouldBegin&&!this.shouldBegin(i.findDataById((t=this.target)===null||t===void 0?void 0:t.getID()))){this.began=!1;return}this.began=!0},dragenter:function(e){if(!!this.began){var t=this.get("graph"),i=e.item;i&&t.setItemState(i,"closest",!0),this.set("foundNode",i)}},dragleave:function(e){if(!!this.began){var t=this.get("graph"),i=this.get("foundNode");i&&t.setItemState(i,"closest",!1),this.set("foundNode",i)}},drag:function(e){!this.began||this.updateDelegate(e)},dragend:function(e){var t=this.get("graph"),i=this.get("foundNode");if(i&&t.setItemState(i,"closest",!1),!!this.began){this.began=!1;var n=e.item,a=n.getID(),o=t.findDataById(a);if(this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),!i){t.emit("afterdragbranch",{success:!1,message:"Failed. No node close to the dragged node.",branch:o});return}var s=i.getID(),l;if(kft.traverseTree(t.get("data"),function(h){var d,v;return l?!1:(((v=(d=h.children)===null||d===void 0?void 0:d.filter(function(p){return p.id===a}))===null||v===void 0?void 0:v.length)&&(l=h),!0)}),!(this.shouldEnd&&!this.shouldEnd(o,t.findDataById(s),l))){var u=!1;if(kft.traverseTree(o,function(h){h.id===s&&(u=!0)}),u){var f=t.findDataById(s);t.emit("afterdragbranch",{success:!1,message:"Failed. The target node is a descendant of the dragged node.",newParentData:f,branch:o});return}var c=t.findDataById(s);t.emit("afterdragbranch",{success:!0,message:"Success.",newParentData:c,oriParentData:l,branch:o}),t.removeChild(o.id),setTimeout(function(){var h=c.children;h?h.push(o):h=[o],kft.traverseTree(o,function(d){d.branchColor=c.branchColor}),t.updateChildren(h,c.id)},600)}}},updateDelegate:function(r){var e=this.graph;if(this.delegateRect){var c=r.x-this.origin.x+this.originPoint.minX,h=r.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:c,y:h})}else{var t=e.get("group"),i={fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},n=this.calculationGroupPosition(r),a=n.x,o=n.y,s=n.width,l=n.height,u=n.minX,f=n.minY;this.originPoint={x:a,y:o,width:s,height:l,minX:u,minY:f},this.delegateRect=t.addShape("rect",{attrs:bo({width:s,height:l,x:a,y:o},i),name:"rect-delegate-shape"}),this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(r){var e=this.target;e||(e=r.item);var t=e.getBBox(),i=t.minX,n=t.minY,a=t.maxX,o=t.maxY;return{x:Math.floor(i),y:Math.floor(n),width:Math.ceil(a)-Math.floor(i),height:Math.ceil(o)-Math.floor(n),minX:i,minY:n}}}),Ar.registerBehavior("click-node",{getEvents:function(){return{"node:click":"onNodeClick","canvas:click":"onCanvasClick"}},onNodeClick:function(r){return Aar(this,void 0,void 0,function(){var e,t,i,n,a,o,s,l,u,f,c,h,d;return Ear(this,function(v){switch(v.label){case 0:return e=r.item,t=r.target.get("name"),i=e.getModel(),n=this.graph,t!=="icon-add-child"?[3,3]:(a=n.findDataById(e.getID()),a.children||(a.children=[]),this.graph.emit("add:children",r),o=r.item.getModel(),s=o.id,l=o.value,u=n.get("extraPlugin"),f=u.getChildren,c=u.fetchLoading,f?(pp(i,c),[4,f({id:s,value:l})]):[3,2]);case 1:h=v.sent(),(d=a.children).push.apply(d,h),n.updateChildren(a.children,a.id),gp(),v.label=2;case 2:return[2];case 3:return n.getNodes().forEach(function(p){n.setItemState(p,"selected",!1)}),n.setItemState(e,"selected",!0),[2]}})})},onCanvasClick:function(r){var e=this;this.graph.getNodes().forEach(function(t){e.graph.setItemState(t,"selected",!1)})}}),Ar.registerBehavior("hover-node",{getEvents:function(){return{"node:mouseover":"onNodeMouseOver","node:mouseleave":"onNodeMouseLeave","node:mouseenter":"onNodeMouseEnter"}},onNodeMouseEnter:function(r){var e,t=r.item;if(!(!t||t.get("destroyed"))){t.toFront();var i=t.getModel(),n=i.collapsed,a=i.depth,o=a===0||i.isRoot,s=t.getContainer();o||(n||(e=s.find(function(l){return l.get("name")==="collapse-group"}))===null||e===void 0||e.show(),this.graph.setItemState(t,"hover",!0))}},onNodeMouseOver:function(r){var e,t;this.graph.emit("tooltip: show",r);var i=r.item,n=i.getContainer(),a=i.getModel();if(!a.collapsed){var o=n.find(function(s){return s.get("name")==="collapse-group"});o&&(o.show(),(e=o.find(function(s){return s.get("name")==="collapse-icon-arrow"}))===null||e===void 0||e.show())}(t=n.find(function(s){return s.get("name")==="icon-add-child"}))===null||t===void 0||t.show()},onNodeMouseLeave:function(r){var e,t,i=r.item,n=i.getModel(),a=i.getContainer(),o=n.collapsed;if(!o){var s=a.find(function(l){return l.get("name")==="collapse-group"});s&&(s.hide(),(e=s.find(function(l){return l.get("name")==="collapse-icon-arrow"}))===null||e===void 0||e.hide())}(t=a.find(function(l){return l.get("name")==="icon-add-child"}))===null||t===void 0||t.hide(),this.graph.emit("tooltip: hide",r)}})};var Tar=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};jqt();Yqt();var Iar=18,Lar={type:"indented",direction:"LR",isHorizontal:!0,indent:40,getHeight:function(r){var e;return r.isRoot?30:r.collapsed&&((e=r.children)===null||e===void 0?void 0:e.length)?36:22},getVGap:function(){return 10},getWidth:function(r){var e,t=((e=r.value)===null||e===void 0?void 0:e.text)||" ";return r.width||t.split("").length*Iar}},Oar={nodeCfg:{type:"file-tree-node",size:[120,28],anchorPoints:[[0,1],[1,.5]],padding:[6,12],nodeStateStyles:{hover:{rect:{fill:"#eee"},text:{fill:"#38404C"},marker:{stroke:vB}},selected:{rect:{fill:"#EFF2FF"},text:{fill:"#2F54EB"}}},label:{style:function(r){return r.depth===0?{fill:"#fff"}:{fill:"rgba(0,0,0,.65)"}}},style:function(r){return{fill:r.depth===0?"#525964":"transparent"}},lineStyle:{lineWidth:2,stroke:"#ccc"}},edgeCfg:{type:"file-tree-edge",style:{lineWidth:2,radius:16},edgeStateStyles:{hover:{stroke:vB},selected:{stroke:vB}}},behaviors:["drag-canvas","wheel-scroll","hover-node","click-node","drag-branch"],layout:Lar,animate:!0,fitCenter:!0,style:{position:"relative",height:"inherit",backgroundColor:"#fff"},markerCfg:{show:!0}},kar=function(r){var e=Xl(r,Oar).uProps,t=e.className,i=e.style,n=e.loading,a=e.loadingTemplate,o=e.errorTemplate,s=Tar(e,["className","style","loading","loadingTemplate","errorTemplate"]),l=Ul("TreeGraph",s,{name:"FileTreeGraph",bindEvents:cL}).container;return Mt.createElement(Va,{errorTemplate:o},n&&Mt.createElement(Da,{loadingTemplate:a}),Mt.createElement("div",{className:t,style:i,ref:l}))},Wqt=kar;var kx=et(Pft());var Vqt={rankdir:"TB",align:void 0,nodesep:20,ranksep:75},qqt={type:"conv-node",anchorPoints:[[.5,0],[.5,1],[0,.5],[1,.5]]},Hqt={type:"conv-cubic-vertical",sourceAnchor:1,targetAnchor:0,style:{stroke:"#B8C3D9",lineWidth:1}},Uqt=["drag-canvas","zoom-canvas","drag-node"];var vL;(function(r){r.CONV_LINE="conv-line",r.CONV_CUBIC_VERTICAL="conv-cubic-vertical",r.CONV_CUBIC_HORIZONTAL="conv-cubic-horizontal"})(vL||(vL={}));var xf;(function(r){r.Active="active",r.Default="default",r.Selected="selected"})(xf||(xf={}));var SB=et(Pft());var Xqt=function(r){var e=(r||{}).measure,t=e===void 0?{}:e,i=t.formattedValue,n=i===void 0?"":i,a=t.value,o=a===void 0?"":a,s=t.formattedUnit,l=s===void 0?"":s,u=(n!=null?"".concat(n).concat(l):o)||"";return u.replace(/[^\x00-\xff]/g,"00").length},Par=function(r){return r===void 0&&(r=[]),r.reduce(function(e,t){var i=Xqt(e),n=Xqt(t);return i>n?e:t})},Zqt=function(r,e){if(r===void 0&&(r=""),r==="")return 0;var t=document.createElement("canvas"),i=t.getContext("2d");i.font=e;var n=i.measureText(r).width;return t=null,n},Kqt=function(r){if(r===void 0&&(r=[]),!(r==null?void 0:r.length))return 150;var e=Par(r),t=e.measure,i=t===void 0?{}:t,n=i.formattedValue,a=n===void 0?"":n,o=i.value,s=o===void 0?"":o,l=i.formattedUnit,u=l===void 0?"":l,f=a!=null,c=f?a:s,h=Zqt("".concat(c),"600 20px Roboto-Medium"),d=f&&u?Zqt("".concat(u),"600 20px PingFangSC")+4:0,v=h+d+24;return Math.max(v,150)};var hV=function(){return hV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},hV.apply(this,arguments)},Dar=function(r,e,t){var i=Array.isArray(e)&&e.filter(function(n){return r.find(function(a){return a.layerName===n})})||[];return r.map(function(n){var a=(i==null?void 0:i.findIndex(function(o){return o===n.layerName}))+1;return{id:n.id,label:n.name||"",layer:a!==-1?a:void 0,style:hV({stroke:"#B8C3D9",textColor:"#000"},n.style||{}),size:t,custom:{layerName:n.layerName,measure:n.measure,relatedMeasures:n.relatedMeasures,compareMeasures:n.compareMeasures},data:(0,SB.cloneDeep)(n),x:n.x,y:n.y}})},Far=function(r,e,t,i){var n=r.nodes,a=n===void 0?[]:n,o=r.edges,s=o===void 0?[]:o;return s.map(function(l){var u,f,c,h,d,v,p,g,m=a.find(function(O){return O.id===l.source}),y=a.find(function(O){return O.id===l.target});if(!(!m||!y)){var x=0,b="";switch(i){case"both":var _=e.findIndex(function(O){return O===t}),M=e.findIndex(function(O){return O===(y==null?void 0:y.layerName)});!t||M<=_?(x=((u=l==null?void 0:l.measure)===null||u===void 0?void 0:u.value)/((f=y==null?void 0:y.measure)===null||f===void 0?void 0:f.value),b="\u5360\u6BD4"):(x=((c=l==null?void 0:l.measure)===null||c===void 0?void 0:c.value)/((h=m==null?void 0:m.measure)===null||h===void 0?void 0:h.value),b="\u5206\u6D41");break;case"splitFlow":x=((d=l==null?void 0:l.measure)===null||d===void 0?void 0:d.value)/((v=m==null?void 0:m.measure)===null||v===void 0?void 0:v.value),b="\u5206\u6D41";break;case"proportion":x=((p=l==null?void 0:l.measure)===null||p===void 0?void 0:p.value)/((g=y==null?void 0:y.measure)===null||g===void 0?void 0:g.value),b="\u5360\u6BD4";break;default:x=void 0,b="";break}var A=l.ratio||x,I=!isNaN(A)&&A!==1/0?Number((A*100).toString().match(/^\d+(?:\.\d{0,2})?/)):"-",k="".concat(I,"%"),E=l.name||b;return{id:l.id,source:l.source,target:l.target,label:x!==void 0?"".concat(E," ").concat(k):"",style:hV({stroke:"#B8C3D9",labelFill:"#000",highlightColor:"#3572F9"},l.style||{}),custom:{ratio:A,formatRatio:I,showRatio:k,sourceNode:m,targetNode:y,label:E},data:(0,SB.cloneDeep)(l)}}}).filter(function(l){return!!l})},CB=function(r,e,t,i){e===void 0&&(e=[]);var n=r.nodes,a=n===void 0?[]:n,o=(0,SB.uniqBy)(a,"id"),s=Kqt(o),l=Dar(o,e,s),u=Far(r,e,t,i);return{nodes:l,edges:u}};var Qqt=function(r,e,t){var i=r.getNodes().map(function(c){return c.getModel()});if(!(!r||!Array.isArray(e)||!(e==null?void 0:e.length))){var n=r.getGroup();Nar(r);var a=n.addGroup({id:"layer-name-container-group"}),o=e.filter(function(c){return i.find(function(h){var d;return((d=h.custom)===null||d===void 0?void 0:d.layerName)===c})}),s=1/0,l=1/0,u=[],f=[];o.forEach(function(c){var h={},d={};i.forEach(function(y){if(y.custom.layerName===c){y.x<s&&(s=y.x),y.y<l&&(l=y.y);var x=String(y.x),b=String(y.y);Object.keys(d).indexOf(String(x))===-1?d[x]=1:d[x]+=1,Object.keys(h).indexOf(String(b))===-1?h[b]=1:h[b]+=1}});var v=Object.keys(d),p=v[0];v.forEach(function(y){d[y]>d[p]&&(p=y)}),u.push(Number(p));var g=Object.keys(h),m=g[0];g.forEach(function(y){h[y]>h[m]&&(m=y)}),f.push(Number(m))}),o.forEach(function(c,h){if(!(isNaN(u[h])||isNaN(f[h]))){var d="",v=c.split("");v.forEach(function(y,x){d+=x>0&&x<v.length-1&&x%4==3?"".concat(y,`
`):y});var p=a.addGroup({id:"layer-name-group-".concat(h)});t==="TB"?p.setMatrix([1,0,0,0,1,0,s-102,f[h],1]):p.setMatrix([1,0,0,0,1,0,u[h]+32,l-102,1]);var g=p.addShape("text",{attrs:{text:d,x:0,y:0,fontFamily:"PingFangSC",fontSize:16,fontWeight:400,fill:"rgb(3,34,98)",opacity:.65,lineHeight:18,textBaseline:"top",textAlign:"center"},name:"layer-name-".concat(c)}),m=g.getBBox();p.addShape("rect",{attrs:{x:-34,y:-2,width:68,height:(m==null?void 0:m.height)+4,fill:"#B8C7E6",opacity:.12},name:"layer-name-".concat(c)}),g.toFront()}})}},Nar=function(r){var e=r.getGroup(),t=e.findById("layer-name-container-group");t&&e.removeChild(t)};var Bar=function(r,e,t,i){var n=r.getNodes().map(function(h){return h.getModel()}),a=n.find(function(h){return h.id===e.source}),o=n.find(function(h){return h.id===e.target}),s=t.findIndex(function(h){var d;return h===((d=a==null?void 0:a.custom)===null||d===void 0?void 0:d.layerName)}),l=t.findIndex(function(h){var d;return h===((d=o==null?void 0:o.custom)===null||d===void 0?void 0:d.layerName)}),u,f,c;return s!==-1&&s===l?(c=vL.CONV_LINE,i==="LR"?(u=a.y<o.y?1:0,f=a.y<o.y?0:1):(u=a.x<o.x?3:2,f=a.x<o.x?2:3)):i==="LR"?(c=vL.CONV_CUBIC_HORIZONTAL,u=a.x<o.x?3:2,f=a.x<o.x?2:3):(c=vL.CONV_CUBIC_VERTICAL,u=a.y<o.y?1:0,f=a.y<o.y?0:1),{type:c,sourceAnchor:u,targetAnchor:f}},$qt=function(r,e,t){r.getEdges().forEach(function(i){var n=i.getModel(),a=Bar(r,n,e,t),o=a.type,s=a.sourceAnchor,l=a.targetAnchor;r.updateItem(n.id,{type:o,sourceAnchor:s,targetAnchor:l})})},pL=function(r){return r===void 0&&(r="#B8C3D9"),{path:"M 14,-4 C 14,-4,11,0,14,4 L 4,0 L 14,-4 Z",d:2,fill:r,stroke:r,lineWidth:1,lineDash:[]}};var dV=function(){return dV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},dV.apply(this,arguments)},Rar=function(r){var e,t=(e={},e[xf.Selected]={"node-key-shape":{lineWidth:14},"node-inner-border-shape":{lineWidth:2}},e[xf.Active]={"node-key-shape":{lineWidth:6},"node-inner-border-shape":{lineWidth:1}},e[xf.Default]={"node-key-shape":{lineWidth:0},"node-inner-border-shape":{lineWidth:1}},e);return dV({},t[r])},Gar=function(r,e){var t,i=e.style,n=i.highlightColor,a=i.stroke,o=i.labelFill,s=(t={},t[xf.Selected]={"path-shape":{stroke:n,endArrow:pL(n)},"label-shape":{fill:n}},t[xf.Active]={"path-shape":{stroke:n,endArrow:pL(n)},"label-shape":{fill:n}},t[xf.Default]={"path-shape":{stroke:a,endArrow:pL(a)},"label-shape":{fill:o}},t);return dV({},s[r])},vV=function(r,e){var t,i=r.getModel(),n=r.getStates(),a=n[n.length-1]||xf.Default,o=e==="node"?Rar(a):Gar(a,i),s=(t=r.getContainer())===null||t===void 0?void 0:t.get("children");s==null||s.forEach(function(l){var u=l.get("name");o[u]&&l.attr(o[u])})};var Jqt={default:["conv-hover","conv-click"]},tHt=function(r){Object.keys(Jqt).forEach(function(e){r.addBehaviors(Jqt[e],e)})};var eHt=function(){Ar.registerNode("conv-node",{options:{},draw:function(r,e){var t=r.custom,i=t===void 0?{}:t,n=r.style,a=n.stroke,o=n.textColor,s=r.size,l=s===void 0?150:s,u=r.label,f=i.measure,c=f===void 0?{}:f,h=i.relatedMeasures,d=h===void 0?[]:h,v=c.formattedValue!==void 0&&c.formattedValue!==null,p=e.addShape("rect",{attrs:{x:0,y:0,width:l,height:122,lineWidth:0,stroke:a,opacity:.3,radius:4},name:"node-key-shape",draggable:!0}),g=p.getBBox();e.addShape("rect",{attrs:{x:0,y:0,width:g.width,height:g.height,stroke:a,fill:"#fff",radius:4},name:"node-inner-border-shape",draggable:!0}),e.addShape("rect",{attrs:{x:0,y:0,width:4,height:g.height,fill:a,radius:[4,0,0,4]},name:"node-left-border-shape",draggable:!0});var m=u.length>10;e==null||e.addShape("text",{attrs:{text:m?"".concat(u.slice(0,11),"..."):u,x:12,y:12,fontFamily:"PingFangSC",fontSize:12,fontWeight:600,lineHeight:17,textBaseline:"top",fill:o,opacity:.85},name:"node-name"}),e==null||e.addShape("text",{attrs:{text:c.name||"",x:12,y:37,fontFamily:"PingFangSC",fontSize:12,fontWeight:600,lineHeight:17,textBaseline:"top",fill:o,opacity:.85},name:"node-measure-name",draggable:!0});var y=e==null?void 0:e.addShape("text",{attrs:{text:(v?c.formattedValue:c.value)||"",x:12,y:58,fontFamily:"Roboto-Medium",fontSize:20,fontWeight:600,lineHeight:28,textBaseline:"top",fill:o,opacity:.85},name:"node-measure-value",draggable:!0});if(v){var x=y.getBBox();e==null||e.addShape("text",{attrs:{text:c.formattedUnit||"",x:12+x.width+4,y:56,fontFamily:"PingFangSC",fontSize:20,fontWeight:500,lineHeight:28,textBaseline:"top",fill:o,opacity:.85},name:"node-measure-unit",draggable:!0})}return d.forEach(function(b,_){var M=b.formattedValue!==void 0,A="".concat(b.name," ").concat(M?b.formattedValue:b.value).concat(M&&b.formattedUnit);e==null||e.addShape("text",{attrs:{text:A,x:12,y:95,fontFamily:"PingFangSC",fontSize:12,fontWeight:400,lineHeight:17,textBaseline:"top",fill:o,opacity:.45},name:"node-releted-measure-".concat(_),draggable:!0})}),p},setState:function(r,e,t){vV(t,"node")}})};var rHt=function(){eHt()};var Ox={draw:function(r,e,t){var i=r.custom.ratio,n=r.style,a=n.dashed,o=n.stroke,s=n.endArrow,l=s===void 0?!0:s,u=n.sizeMapping,f=u===void 0?!0:u,c=0;f&&(c=!isNaN(i)&&i!==1/0?Math.max(2,Math.min(72,72*i)):2);var h=e==null?void 0:e.addShape("path",{attrs:{stroke:o,opacity:.2,path:t,lineWidth:c},name:"path-border-shape"});return e==null||e.addShape("path",{attrs:{stroke:o,path:t,endArrow:l?pL(o):null,lineDash:a?[3,3]:[]},name:"path-shape"}),h},afterDraw:function(r,e){var t=r.label,i=r.style.labelFill,n=e==null?void 0:e.get("children")[0],a=n.getPoint(.5);if(t){var o=e==null?void 0:e.addShape("text",{attrs:{text:t,x:a.x,y:a.y,fill:i,opacity:.85,fontFamily:"Roboto-Regular",fontSize:12,textAlign:"center",textBaseline:"middle"},name:"label-shape"}),s=o==null?void 0:o.getBBox(),l=5;e==null||e.addShape("rect",{attrs:{width:s.width+l*2,height:s.height+l*2,x:a.x-s.width/2-l,y:a.y-s.height/2-l,fill:"#fff"},name:"label-bg-shape",labelRelated:!0}),o&&o.toFront()}},setState:function(r,e,t){vV(t,"edge")}};var pV=function(){return pV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},pV.apply(this,arguments)},iHt=function(){Ar.registerEdge("conv-cubic-vertical",pV(pV({},Ox),{draw:function(r,e){var t=r.startPoint,i=r.endPoint,n=Math.abs(i.y-t.y),a=[["M",t.x,t.y],["L",t.x,t.y+4],["C",t.x,t.y<i.y?t.y+n/2:t.y-n/2,i.x,t.y<i.y?i.y-n/2:i.y+n/2,i.x,i.y-15],["L",i.x,i.y]];return Ox.draw(r,e,a)}}))};var gV=function(){return gV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},gV.apply(this,arguments)},nHt=function(){Ar.registerEdge("conv-cubic-horizontal",gV(gV({},Ox),{draw:function(r,e){var t=r.startPoint,i=r.endPoint,n=Math.abs(i.y-t.y),a=[["M",t.x,t.y],["L",t.x+4,t.y],["C",t.x<i.x?t.x+n/2:t.x-n/2,t.y,t.x<i.x?i.x-n/2:i.x+n/2,i.y,i.x-15,i.y],["L",i.x,i.y]];return Ox.draw(r,e,a)}}))};var mV=function(){return mV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},mV.apply(this,arguments)},aHt=function(){Ar.registerEdge("conv-line",mV(mV({},Ox),{draw:function(r,e){var t=r.startPoint,i=r.endPoint,n=[["M",t.x,t.y],["L",i.x,i.y]];return Ox.draw(r,e,n)}}))};var oHt=function(){iHt(),nHt(),aHt()};var sHt=function(){Ar.registerLayout("conv-preset",{execute:function(){}})};var lHt=function(){sHt()};var zar=function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),FM=function(){return FM=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},FM.apply(this,arguments)},jar=function(r){zar(e,r);function e(t){var i=r.call(this,t)||this;i.registerGraphRelative=function(){rHt(),oHt(),lHt()},i.getGraphShallowDiff=function(l,u){l===void 0&&(l={nodes:[],edges:[]}),u===void 0&&(u={nodes:[],edges:[]});var f=l.nodes,c=l.edges,h=u.nodes,d=u.edges;if(f.length!==h.length||c.length!==d.length)return!0;var v=f.every(function(g){return h.find(function(m){return m.id===g.id})}),p=c.every(function(g){return d.find(function(m){return m.id===g.id})});return!(v&&p)},i.newGraph=function(){var l,u;i.graph&&(i.removeEventListener(),i.graph.destroy());var f=(l=i.container)===null||l===void 0?void 0:l.scrollWidth,c=(u=i.container)===null||u===void 0?void 0:u.scrollHeight,h=new Ar.Graph({container:i.container,width:f,height:c,modes:{default:Uqt},defaultNode:qqt,defaultEdge:Hqt,layout:i.getLayoutParams(),minZoom:.001});i.graph=h;var d=i.props.onReady;d&&d(h),tHt(i.graph),i.addEventListener()},i.renderGraph=function(){var l=i.state.graphData;i.graph.data(l),i.graph.render()},i.addEventListener=function(){i.graph.on("afterlayout",i.handleAfterLayout)},i.removeEventListener=function(){var l;i.graph&&!((l=i.graph)===null||l===void 0?void 0:l.destroyed)&&i.graph.off("afterlayout",i.handleAfterLayout)},i.getLayoutParams=function(l){var u,f=i.props,c=f.layout,h=f.data,d=(u=h==null?void 0:h.nodes)===null||u===void 0?void 0:u.every(function(v){return v.x!==void 0&&v.y!==void 0});return!l&&d?{type:"conv-preset"}:FM(FM(FM(FM({},Vqt),{ranksep:c.rankdir==="TB"?75:150}),c),{type:"dagre"})},i.handleAfterLayout=function(){var l,u,f=i.props,c=f.layerOrder,h=f.layout.rankdir;if(!(c==null?void 0:c.length)){i.graph.fitView(20);return}$qt(i.graph,c,h),Qqt(i.graph,c,h),i.shouldCacheZoomAndTranslate?i.setCacheGraph():(i.graph.fitView(20),((u=(l=i.state.graphData)===null||l===void 0?void 0:l.nodes)===null||u===void 0?void 0:u.length)&&(i.shouldCacheZoomAndTranslate=!0,i.handleCacheGraph()))},i.handleCacheGraph=function(){if(!(!i.graph||i.graph.destroyed)){var l=i.graph.get("width"),u=i.graph.get("height"),f=i.graph.getCanvasByPoint(l/2,u/2),c=i.graph.getNodes().filter(function(d){return d.hasState(xf.Selected)}).map(function(d){return d.get("id")}),h=i.graph.getEdges().filter(function(d){return d.hasState(xf.Selected)}).map(function(d){return d.get("id")});i.cacheData={zoom:i.graph.getZoom(),centerPoint:f,selectedNodes:c,selectedEdges:h}}},i.setCacheGraph=function(){if(!!i.cacheData){var l=i.cacheData,u=l.selectedNodes,f=l.selectedEdges,c=l.zoom,h=l.centerPoint,d=h.x,v=h.y,p=i.graph.get("width"),g=i.graph.get("height");i.graph.zoomTo(c);var m=i.graph.getCanvasByPoint(p/2,g/2);i.graph.translate(d-m.x,v-m.y),u.forEach(function(y){i.graph.setItemState(y,xf.Selected,!0)}),f.forEach(function(y){i.graph.setItemState(y,xf.Selected,!0)})}},i.handleMouseDown=function(l){l.preventDefault()},i.container=null,i.graph=null,i.shouldCacheZoomAndTranslate=!1;var n=t.data,a=t.layerOrder,o=t.segmLayer,s=t.ratioMethod;return i.state={graphData:CB(n,a,o,s)},i}return e.prototype.componentDidMount=function(){this.registerGraphRelative(),this.newGraph(),this.renderGraph()},e.getDerivedStateFromProps=function(t,i){var n=t.data,a=t.layerOrder,o=t.segmLayer,s=t.ratioMethod,l=CB(n,a,o,s);return{graphData:l}},e.prototype.componentDidUpdate=function(t){var i=this.props,n=i.layerOrder,a=i.layout,o=i.data;this.handleCacheGraph();var s=this.state.graphData,l=CB(t.data,t.layerOrder,t.segmLayer,t.ratioMethod);if(this.shouldCacheZoomAndTranslate=!this.getGraphShallowDiff(o,t.data),(0,kx.isEqual)(l,s)&&!(0,kx.isEqual)(a,t.layout)){this.graph.updateLayout(this.getLayoutParams(!(0,kx.isEqual)(a,t.layout)));return}(!(0,kx.isEqual)(l,s)||!(0,kx.isEqual)(n,t.layerOrder))&&(this.graph.updateLayout(this.getLayoutParams(!(0,kx.isEqual)(n,t.layerOrder))),this.renderGraph())},e.prototype.shouldComponentUpdate=function(t,i){var n=this.state.graphData,a=CB(t.data,t.layerOrder,t.segmLayer,t.ratioMethod);return!(0,kx.isEqual)(a,n)||!(0,kx.isEqual)(t.layout,this.props.layout)},e.prototype.componentWillUnmount=function(){this.removeEventListener()},e.prototype.render=function(){var t=this,i=this.props,n=i.className,a=i.style,o=a===void 0?{}:a,s=FM({width:"100%",height:"100%"},o);return Mt.createElement("div",{className:n,style:s,onMouseDown:this.handleMouseDown,ref:function(l){t.container=l}})},e.defaultProps={data:null,layerOrder:[],segmLayer:"",ratioMethod:"both",layout:{rankdir:"TB"}},e}(Uu),uHt=jar;var Ud=et(ot());var yV=function(){return yV=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},yV.apply(this,arguments)};function Sh(r,e,t){var i=Co(),n=e.data,a=e.width,o=e.height,s=e.layout,l=e.minimapCfg,u=e.behaviors,f=e.fitCenter,c=e.nodeCfg,h=e.edgeCfg,d=e.markerCfg,v=e.level,p=Co(),g=Co(),m=function(A){A.forEach(function(I){var k,E,O=I.getModel(),P=O.source,N=O.target,R=(k=r==null?void 0:r.findById(P))===null||k===void 0?void 0:k.get("visible"),z=(E=r==null?void 0:r.findById(N))===null||E===void 0?void 0:E.get("visible");(R===!1||z===!1)&&I.changeVisibility(!1)})},y=function(){var A;if(!!r){var I=n;v&&(I=lL(n)),r.changeData(v?oL(I,v):n),(A=r.get("eventData"))===null||A===void 0||A.setData(I),m(r.getEdges()),f&&r.fitCenter()}},x=function(){r==null||r.updateLayout(s),f&&(r==null||r.fitCenter())},b=function(){if(!!r){var A=c!=null?c:{},I=A.type,k=A.anchorPoints,E=A.style,O=A.title;r.getNodes().forEach(function(P){r.updateItem(P,{nodeCfg:c,markerCfg:d,type:I,style:E,anchorPoints:k,labelCfg:O})})}},_=function(){if(!!r){var A=h!=null?h:{},I=A.type,k=A.style,E=A.startArrow,O=A.endArrow,P=A.label;r.getEdges().forEach(function(N){if(I==="fund-line")r.updateItem(N,{edgeCfg:h});else{var R=N.getModel(),z=Hl(E,R),B=Hl(O,R),Y=P!=null?P:{},q=Y.style,j=Y.content;r.updateItem(N,{type:I,label:zm(j,R,r),labelCfg:{style:zm(q,R,r)},style:yV({stroke:"#ccc",startArrow:z,endArrow:B},typeof k=="function"?k(R,r):k)})}})}},M=function(){!r||r.getNodes().forEach(function(A){var I=(typeof d=="function"?d(A.getModel(),A.get("group")):d).position,k=I===void 0?"right":I,E=A.getBBox(),O=E.width,P=E.height,N=A.get("group").get("children").find(function(R){return R.get("name")==="collapse-icon"});N&&(N==null||N.attr(yV({},Tx(k,[O,P]))))})};return $e(function(){if(r&&!r.destroyed){if((0,Ud.isEqual)(n,g.current))return;g.current=bl(n),y()}},[n]),$e(function(){var A,I,k,E,O;if(r&&!r.destroyed){if((0,Ud.isEqual)(e,p.current))return;(0,Ud.isEqual)(s,(A=p.current)===null||A===void 0?void 0:A.layout)||x(),(0,Ud.isEqual)(l,(I=p.current)===null||I===void 0?void 0:I.minimapCfg)||fL(l,r),(0,Ud.isEqual)(c,(k=p.current)===null||k===void 0?void 0:k.nodeCfg)||b(),(0,Ud.isEqual)(h,(E=p.current)===null||E===void 0?void 0:E.edgeCfg)||_(),(0,Ud.isEqual)(d,(O=p.current)===null||O===void 0?void 0:O.markerCfg)||M(),p.current=e}},[e]),$e(function(){if(r&&!r.destroyed){var A=aL(a,o,t);r.changeSize(A[0],A[1])}},[t,a,o]),$e(function(){if(r&&!r.destroyed){var A=r.get("modes").default,I=[];A.forEach(function(k){(0,Ud.isObject)(k)?I.push(k.type):(0,Ud.isString)(k)&&I.push(k)}),r.removeBehaviors(I,"default"),r.addBehaviors(u,"default")}},[u]),$e(function(){return i.current=r,function(){r&&!r.destroyed&&(r.destroy(),r=void 0)}},[]),{graphHook:i}}var fHt=et(ot()),Zl=function(){return Zl=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Zl.apply(this,arguments)},gL=function(){Ar.registerNode("card-node",{draw:function(r,e){var t;r===void 0&&(r={});var i=r.size||[100,30];typeof i=="number"&&(i=[i,i]);var n=Zl({radius:2,fill:"#fff"},r.style),a=n.stroke||r.color||"#5B8FF9",o=n.radius||0,s=e.addShape("rect",{attrs:Zl({x:0,y:0,width:i[0],height:i[1],stroke:a},n),name:"main-box",draggable:!0}),l=r.title||r.label,u,f=((t=r.labelCfg)===null||t===void 0?void 0:t.style)||{};if(l){var c=Zl({fill:"#fff"},f);u=e.addShape("text",{attrs:Zl(Zl({textBaseline:"top",x:8,y:2,text:l},c),{fill:"#fff"}),name:"title"})}var h=u?u.getBBox():{height:i[1]/2},d=e.addShape("rect",{attrs:{x:0,y:0,width:i[0],height:h.height+4,fill:a,radius:[o,o,0,0]},name:"title-rect",draggable:!0});u==null||u.toFront();var v;(r==null?void 0:r.children)&&(v=e.addShape("marker",{attrs:{x:i[0]/2,y:0,r:6,cursor:"pointer",symbol:r.collapsed?Ar.Marker.expand:Ar.Marker.collapse,stroke:a,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var p=r&&r.description?r.description:void 0,g=d.getBBox(),m;if(p&&(m=e.addShape("text",{attrs:Zl({textBaseline:"top",x:8,y:g.height+8,text:p},f),name:"description"})),m){var y=m.getBBox(),x=g.height+16+y.height,b=i[0]>y.width+16?i[0]:y.width+16;s.attr({width:b,height:x}),d==null||d.attr("width",b),v==null||v.attr({x:b,y:x/2})}return s},update:void 0},"single-node"),Ar.registerNode("round-rect",{drawShape:function(r,e){r===void 0&&(r={});var t=r.size||[100,30];typeof t=="number"&&(t=[t,t]);var i=r.style||{},n=i.stroke||r.color||"#5B8FF9",a=i.fill||"#fff";i=Zl({width:t[0],height:t[1],radius:t[1]/2,fill:a,lineWidth:1.2,stroke:n},i);var o=e.addShape("rect",{attrs:Zl({x:-t[0]/2,y:-t[1]/2},i),name:"rect-shape"});return e.addShape("circle",{attrs:{x:-t[0]/2,y:0,r:3,fill:i.stroke},name:"circle-shape"}),e.addShape("circle",{attrs:{x:t[0]/2,y:0,r:3,fill:i.stroke},name:"circle-shape2"}),o},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(e,t){var i;e===void 0&&(e={});var n=t.getContainer(),a=n.get("children"),o=a[0],s=a[1],l=a[2],u=((i=e.style)===null||i===void 0?void 0:i.stroke)||"#5B8FF9";u&&(o.attr("stroke",u),s.attr("fill",u),l.attr("fill",u))}},"single-node"),Ar.registerEdge("fund-polyline",{draw:function(e,t){var i;e===void 0&&(e={});var n=e.startPoint,a=e.endPoint,o=a.y-n.y,s=o!==0?Math.min(500/Math.abs(o),20):0,l=s>15?0:16,u=o<0?l:-l,f={x:n.x+s,y:a.y+u},c={x:f.x+l,y:a.y},h={x:(f.x-n.x)*(a.y-n.y)/(f.y-n.y)+n.x,y:a.y},d=[["M",n.x,n.y],["L",f.x,f.y],["Q",h.x,h.y,c.x,c.y],["L",a.x,a.y]];Math.abs(o)<=5&&(d=[["M",n.x,n.y],["L",a.x,a.y]]);var v=e.style,p=v.stroke||(e==null?void 0:e.colorMap)&&e.colorMap[e.dataType]?(e==null?void 0:e.colorMap)[e==null?void 0:e.dataType]:"#5B8FF9",g=((i=e.style)===null||i===void 0?void 0:i.endArrow)||!1;(0,fHt.isObject)(g)&&(g.fill=p);var m=t.addShape("path",{attrs:{path:d,stroke:p,lineWidth:v.lineWidth||1.2,endArrow:g},name:"path-shape"}),y=0,x=8,b,_=c.x+y;if((e==null?void 0:e.label)&&(b=t.addShape("text",{attrs:{text:e.label,x:_,y:a.y-x-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),e==null?void 0:e.dataType){var M=b?b.getBBox():{height:0};t.addShape("text",{attrs:{text:e.dataType,x:_,y:a.y-x-M.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(e==null?void 0:e.subLabel)&&t.addShape("text",{attrs:{text:e.subLabel,x:_,y:a.y+x+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),m},update:void 0},"single-edge"),Ar.registerEdge("flow-line",{draw:function(r,e){r===void 0&&(r={});var t=r.startPoint,i=r.endPoint,n=r.style,a=n===void 0?{}:n,o=e.addShape("path",{attrs:{stroke:a.stroke,endArrow:a.endArrow,path:[["M",t.x,t.y],["L",t.x,(t.y+i.y)/2],["L",i.x,(t.y+i.y)/2],["L",i.x,i.y]]}});return o}})},cHt=function(r){Ar.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,t){e===void 0&&(e={});var i=this.getShapeStyle(e),n=e.labelCfg,a=n===void 0?{}:n,o=t.addShape("rect",{attrs:Zl(Zl({},i),{x:0,y:0})}),s={fill:"#e6fffb"},l="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return e.leftIcon&&(s=Zl(Zl({},s),e.leftIcon.style),l=e.leftIcon.img),t.addShape("rect",{attrs:Zl({x:1,y:1,width:38,height:i.height-2},s)}),t.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:l},name:"image-shape"}),r.enableEdit&&(t.addShape("marker",{attrs:{x:i.width/3,y:i.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Ar.Marker.expand},name:"add-item"}),t.addShape("marker",{attrs:{x:i.width*2/3,y:i.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Ar.Marker.collapse},name:"remove-item"})),e.label&&t.addShape("text",{attrs:Zl(Zl({},a.style),{text:e.label,x:i.width/2,y:i.height/1.5})}),o}},"rect")};var Ch={style:{fill:"#000",fontSize:12}},mL={stroke:"#91d5ff",endArrow:{path:Ar.Arrow.vee(10,10)}},yL=[[.5,0],[.5,1]],Gs={hover:{stroke:"#1890ff",lineWidth:2}},xL=[120,40];var d_=function(){return d_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},d_.apply(this,arguments)},Yar={show:!1,size:[150,100],type:"keyShape"},v_=function(r,e,t){var i,n;return t&&t.current&&(i=t.current.offsetWidth,n=t.current.offsetHeight||500),!r&&!i||!e&&!n?(_h.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||i||500,e||n||500]},p_=function(r,e){if(!(!e||e.destroyed)){if(r&&r.show){var t=Object.assign(Yar,r),i=new Ar.Minimap(d_({},t));e.addPlugin(i)}return null}},War=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=Math.random()*16|0,t=r=="x"?e:e&3|8;return t.toString(16)})},g_=function(r){return r.current||(r.current="IndentedTreeGraph-".concat(War())),r.current},bL=function(r,e){var t=bl(e);r.data(t),r.render()},m_=function(r,e){var t=e.handleEdgeClick,i=e.handleEdgeHover,n=e.handleEdgeUnHover,a=e.handleNodeClick,o=e.handleNodeHover,s=e.handleNodeUnHover,l=e.handleCanvasClick;r.on("edge:mouseenter",function(u){var f=u.item;r.setItemState(f,"hover",!0),i==null||i(f,r)}),r.on("edge:mouseleave",function(u){var f=u.item;r.setItemState(f,"hover",!1),n==null||n(f,r)}),r.on("edge:click",function(u){var f=u.item;t==null||t(f,r)}),r.on("edge:touchstart",function(u){var f=u.item;t==null||t(f,r)}),r.on("node:mouseenter",function(u){var f=u.item;r.setItemState(f,"hover",!0),o==null||o(f,r)}),r.on("node:mouseleave",function(u){var f=u.item;r.setItemState(f,"hover",!1),s==null||s(f,r)}),r.on("node:click",function(u){var f=u.item;a==null||a(f,r)}),r.on("canvas:click",function(){l==null||l(r)}),r.on("canvas:touchstart",function(){l==null||l(r)})},y_=function(r,e){return d_(d_(d_({},e),r),{layout:d_(d_({},e==null?void 0:e.layout),r==null?void 0:r.layout)})};var hHt={fill:"#91d5ff",stroke:"#40a9ff",radius:2},dHt={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},vHt={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},Var={nodeType:"rect",edgeType:"flow-line",collapseExpand:!1,nodeSize:[120,40],nodeLabelCfg:Ch,edgeLabelCfg:Ch,layout:vHt,enableEdit:!1,nodeStyle:hHt,edgeStyle:dHt,nodeStateStyles:Gs,edgeStateStyles:Gs,autoFit:!0},wL={},qar=function(r){var e=y_(r,Var),t=e.data,i=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"rect":s,u=e.edgeType,f=u===void 0?"flow-line":u,c=e.collapseExpand,h=c===void 0?!1:c,d=e.nodeSize,v=d===void 0?[120,40]:d,p=e.nodeLabelCfg,g=p===void 0?Ch:p,m=e.edgeLabelCfg,y=m===void 0?Ch:m,x=e.layout,b=x===void 0?vHt:x,_=e.enableEdit,M=_===void 0?!1:_,A=e.minimapCfg,I=e.nodeStyle,k=I===void 0?hHt:I,E=e.edgeStyle,O=E===void 0?dHt:E,P=e.nodeStateStyles,N=P===void 0?Gs:P,R=e.edgeStateStyles,z=R===void 0?Gs:R,B=e.autoFit,Y=B===void 0?!0:B,q=e.graphRef,j=e.onReady,Z=e.loading,tt=e.loadingTemplate,lt=e.errorTemplate,J=Mt.useRef(null),nt=Mt.useRef(null),ut=g_(nt);return Sh(wL[ut],e,J),$e(function(){var ft=v_(a,o,J);l==="icon-node"&&cHt({enableEdit:M});var pt=wL[ut];return pt||(pt=new Ar.TreeGraph({container:J.current,width:ft[0],height:ft[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:l,size:v,style:k,labelCfg:g},defaultEdge:{type:f,style:O,labelCfg:y},nodeStateStyles:N,edgeStateStyles:z,layout:b,fitView:Y}),wL[ut]=pt),q&&(q.current=pt),p_(A,pt),bL(pt,t),j&&j(pt),h&&pt.addBehaviors({type:"collapse-expand"},"default"),m_(pt,r),function(){wL[ut]&&(wL[ut].destroy(),delete wL[ut])}},[]),Mt.createElement(Va,{errorTemplate:lt},Z&&Mt.createElement(Da,{loadingTemplate:tt}),Mt.createElement("div",{className:i,style:n,ref:J}))},Dft=qar;var jm={hover:{stroke:"#1890ff",lineWidth:2}},_L=[120,40],pHt={stroke:"#40a9ff"},Fft=[[0,.5],[1,.5]],mp=6,gHt={fill:"#fff",fontSize:12},xV=2,SL={fill:"#000",fontSize:12},mHt={show:!1,size:[150,100],type:"keyShape"};var x_=function(){return x_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},x_.apply(this,arguments)},bV=function(r,e,t){var i,n;return t&&t.current&&(i=t.current.offsetWidth,n=t.current.offsetHeight||500),!r&&!i||!e&&!n?(_h.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[r||i||500,e||n||500]},yHt=function(r,e){if(e){var t=function(i){var n=i.item;i.target.get("name")==="collapse-icon"&&(r.updateItem(n,{collapsed:!n.getModel().collapsed}),r.layout())};r.on("node:click",function(i){t(i)}),r.on("node:touchstart",function(i){t(i)})}},wV=function(r,e,t){return r===void 0&&(r=0),e===void 0&&(e="vee"),t===void 0&&(t="#ccc"),{endArrow:{path:Ar.Arrow[e](10,10,r),fill:t,d:r}}},MB=function(r){if(typeof r=="string"||typeof r=="number")return{text:r};var e=r.content,t=r.style;return{text:e,style:t}},Ym=function(r,e,t){return typeof r=="function"?r(e,t):r||{}},Har=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var e=Math.random()*16|0,t=r=="x"?e:e&3|8;return t.toString(16)})},_V=function(r){return r.current||(r.current="IndentedTreeGraph-".concat(Har())),r.current},SV=function(r,e){var t=bl(e);r.data(t),r.render()},xHt=function(r,e){if(r===void 0&&(r={}),!(!e||e.destroyed)){if(r.show){var t=Object.assign(mHt,r),i=new Ar.Minimap(x_({},t));e.addPlugin(i)}return null}},Nft=function(r,e){r===void 0&&(r="right");var t=e[0],i=e[1],n=0,a=0;switch(r){case"top":n=t/2,a=0;break;case"right":n=t,a=i/2;break;case"bottom":n=t/2,a=i;break;case"left":n=0,a=i/2;break}return{x:n,y:a}},CV=function(r,e){return x_(x_(x_({},e),r),{layout:x_(x_({},e==null?void 0:e.layout),r==null?void 0:r.layout)})};var Fa=function(){return Fa=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Fa.apply(this,arguments)},MV=function(){Ar.registerNode("card",{draw:function(r,e){var t;r===void 0&&(r={});var i=r.title,n=r.body,a=r.footer,o=r.collapseExpand,s=r.children,l=r.markerPosition,u=r.size||[100,30],f=0;typeof u=="number"&&(u=[u,u]);var c=Fa({radius:2,fill:"#fff"},r.style),h=c.stroke||r.color||"#5B8FF9",d=c.radius,v=e.addShape("rect",{attrs:Fa({x:0,y:0,width:u[0],height:u[1],stroke:h},c),name:"main-box",draggable:!0}),p;if(i){var g=MB(i),m=g.text,y=g.style,x=y===void 0?r.titleStyle:y;p=e.addShape("text",{attrs:Fa(Fa({textBaseline:"top",x:mp,y:xV,text:m},gHt),Ym(x,e)),name:"title"})}var b=(p?p.getBBox():{height:u[1]/2}).height,_=e.addShape("rect",{attrs:{x:0,y:0,width:u[0],height:b+2*xV,fill:h,radius:[d,d,0,0]},name:"title-rect",draggable:!0});p==null||p.toFront();var M;o&&s&&(M=e.addShape("marker",{attrs:Fa(Fa(Fa({},Nft(l,u)),{r:6,cursor:"pointer",symbol:r.collapsed?Ar.Marker.expand:Ar.Marker.collapse,stroke:h,lineWidth:1,fill:"#fff"}),Ym(r.markerStyle,e,Fa(Fa({},r),{name:"collapse-icon"}))),name:"collapse-icon"}));var A=_.getBBox().height;f+=A;var I;if(n){var k=MB(n),m=k.text,E=k.style,O=E===void 0?r.bodyStyle:E;I=e.addShape("text",{attrs:Fa(Fa({textBaseline:"top",x:mp,y:f+mp,text:m},SL),Ym(O,e)),name:"body"}),f+=I.getBBox().height}var P;if(a){I&&(f+=mp);var N=MB(a),R=N.text,z=N.style,B=z===void 0?r.footerStyle:z;P=e.addShape("text",{attrs:Fa(Fa({textBaseline:"top",x:mp,y:f+mp,text:R},SL),Ym(B,e)),name:"footer-label"});var Y=P.getBBox(),q=Y.width,j=Y.height,Z=0;if(typeof r.footer=="object"&&((t=r.footer)===null||t===void 0?void 0:t.value)){var tt=MB({content:r.footer.value,style:r.footer.valueStyle}),lt=tt.text,J=tt.style,nt=J===void 0?r.footerValueStyle||r.footerStyle:J,ut=e.addShape("text",{attrs:Fa(Fa({textBaseline:"top",x:q+mp*2,y:f+mp,text:lt},SL),Ym(nt,e)),name:"footer-value"}),ft=ut.getBBox().height;Z=ft}f+=Math.max(j,Z)}if(I){var pt=I.getBBox(),q=u[0]>pt.width+16?u[0]:pt.width+16;v.attr({width:q,height:f+16}),_==null||_.attr("width",q),M==null||M.attr(Fa({},Nft(l,[q,f+b+2*xV])))}return v},update:void 0},"single-node")},bHt=function(){Ar.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(r,e){r===void 0&&(r={});var t=this.getShapeStyle(r),i=r.labelCfg,n=i===void 0?{}:i,a=r.labelStyle,o=r.label,s=r.markerStyle,l=r.showMarker,u=r.title,f=r.titleStyle,c=e.addShape("rect",{attrs:Fa(Fa({},t),{x:0,y:0})}),h=c.getBBox().height,d;if(r.leftIcon){var v=r.leftIcon,p=v.x,g=p===void 0?8:p,m=v.y,y=v.width,x=y===void 0?24:y,b=v.height,_=b===void 0?24:b,M=v.style;M&&e.addShape("rect",{attrs:Fa({x:1,y:1,width:38,height:t.height-2},M)}),d=e.addShape("image",{attrs:{x:g,y:m||h/2-_/2,width:x,height:_,img:r.leftIcon.img},name:"image-shape"})}if(l&&(e.addShape("marker",{attrs:Fa({x:t.width/3,y:t.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:Ar.Marker.expand},Ym(s,e,Fa(Fa({},r),{name:"add-item"}))),name:"add-item"}),e.addShape("marker",{attrs:Fa({x:t.width*2/3,y:t.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:Ar.Marker.collapse},Ym(s,e,Fa(Fa({},r),{name:"remove-item"}))),name:"remove-item"})),o){var A=a?Ym(a,e,r):n.style,m=u?t.height/2-(A.fontSize*1||12)-mp/2:t.height/2;e.addShape("text",{attrs:Fa({text:o,x:t.width/2,y:m,textAlign:d?"start":"center",textBaseline:u?"top":"middle"},A)})}if(u){var I=f?Ym(f,e,r):n.style;e.addShape("text",{attrs:Fa({text:u,x:t.width/2,y:t.height/2+mp/2,textAlign:d?"start":"center",textBaseline:"top"},I)})}return c}},"rect")};gL();MV();var wHt={stroke:"#40a9ff"},_Ht={type:"dagre",rankdir:"TB",nodesepFunc:function(){return 0},ranksepFunc:function(){return 0},controlPoints:!0},Uar={nodeType:"modelRect",edgeType:"polyline",behaviors:["zoom-canvas","drag-canvas"],nodeSize:xL,nodeLabelCfg:Ch,edgeLabelCfg:Ch,nodeAnchorPoints:yL,layout:_Ht,nodeStyle:wHt,edgeStyle:mL,nodeStateStyles:Gs,edgeStateStyles:Gs,autoFit:!0},CL={},Xar=function(r){var e=y_(r,Uar),t=e.data,i=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"modelRect":s,u=e.edgeType,f=u===void 0?"polyline":u,c=e.behaviors,h=c===void 0?["zoom-canvas","drag-canvas"]:c,d=e.nodeSize,v=d===void 0?xL:d,p=e.nodeLabelCfg,g=p===void 0?Ch:p,m=e.edgeLabelCfg,y=m===void 0?Ch:m,x=e.nodeAnchorPoints,b=x===void 0?yL:x,_=e.layout,M=_===void 0?_Ht:_,A=e.minimapCfg,I=e.nodeStyle,k=I===void 0?wHt:I,E=e.edgeStyle,O=E===void 0?mL:E,P=e.nodeStateStyles,N=P===void 0?Gs:P,R=e.edgeStateStyles,z=R===void 0?Gs:R,B=e.autoFit,Y=B===void 0?!0:B,q=e.graphRef,j=e.onReady,Z=e.loading,tt=e.loadingTemplate,lt=e.errorTemplate,J=Mt.useRef(null),nt=Mt.useRef(null),ut=g_(nt);return Sh(CL[ut],e,J),$e(function(){var ft=v_(a,o,J),pt=CL[ut];return pt||(pt=new Ar.Graph({container:J.current,width:ft[0],height:ft[1],modes:{default:h},defaultNode:{type:l,size:v,style:k,anchorPoints:b,labelCfg:g},defaultEdge:{type:f,style:O,labelCfg:y},nodeStateStyles:N,edgeStateStyles:z,layout:M,fitView:Y}),CL[ut]=pt),q&&(q.current=pt),p_(A,pt),bL(pt,t),j&&j(pt),m_(pt,r),function(){CL[ut]&&(CL[ut].destroy(),delete CL[ut])}},[]),Mt.createElement(Va,{errorTemplate:lt},Z&&Mt.createElement(Da,{loadingTemplate:tt}),Mt.createElement("div",{className:i,style:n,ref:J}))},Bft=Xar;gL();var SHt=[150,30],CHt={stroke:"#72CC4A",fill:"#f00"},MHt={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},AV={style:{fill:"#000000A6",fontSize:10}},Zar={nodeType:"round-rect",edgeType:"fund-polyline",behaviors:["zoom-canvas","drag-canvas"],nodeSize:SHt,nodeLabelCfg:AV,edgeLabelCfg:AV,nodeAnchorPoints:yL,layout:MHt,nodeStyle:CHt,edgeStyle:mL,nodeStateStyles:Gs,edgeStateStyles:Gs,colorMap:{},autoFit:!0},ML={},Kar=function(r){var e=y_(r,Zar),t=e.data,i=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"round-rect":s,u=e.edgeType,f=u===void 0?"fund-polyline":u,c=e.behaviors,h=c===void 0?["zoom-canvas","drag-canvas"]:c,d=e.nodeSize,v=d===void 0?SHt:d,p=e.nodeLabelCfg,g=p===void 0?AV:p,m=e.edgeLabelCfg,y=m===void 0?AV:m,x=e.nodeAnchorPoints,b=x===void 0?yL:x,_=e.layout,M=_===void 0?MHt:_,A=e.minimapCfg,I=e.nodeStyle,k=I===void 0?CHt:I,E=e.edgeStyle,O=E===void 0?mL:E,P=e.nodeStateStyles,N=P===void 0?Gs:P,R=e.edgeStateStyles,z=R===void 0?Gs:R,B=e.colorMap,Y=B===void 0?{}:B,q=e.autoFit,j=q===void 0?!0:q,Z=e.graphRef,tt=e.onReady,lt=e.loading,J=e.loadingTemplate,nt=e.errorTemplate,ut=Mt.useRef(null),ft=Mt.useRef(null),pt=g_(ft);return Sh(ML[pt],e,ut),$e(function(){var _t=v_(a,o,ut),Et=ML[pt];Et||(Et=new Ar.Graph({container:ut.current,width:_t[0],height:_t[1],modes:{default:h},defaultNode:{type:l,size:v,style:k,anchorPoints:b,labelCfg:g},defaultEdge:{type:f,style:O,colorMap:Y,labelCfg:y},nodeStateStyles:N,edgeStateStyles:z,layout:M,fitView:j}),ML[pt]=Et),Z&&(Z.current=Et),p_(A,Et);var Ot=bl(t);Et.data(Ot),Et.render(),tt&&tt(Et);var oe=Et.getEdges();return oe.forEach(function(se){var _e=se.getKeyShape(),le=_e.attr("stroke"),ar=se.getTarget();ar.update({style:{stroke:le}})}),m_(Et,r),function(){ML[pt]&&(ML[pt].destroy(),delete ML[pt])}},[]),Mt.createElement(Va,{errorTemplate:nt},lt&&Mt.createElement(Da,{loadingTemplate:J}),Mt.createElement("div",{className:i,style:n,ref:ut}))},Rft=Kar;gL();var AHt={stroke:"#40a9ff"},EHt=[[0,.5],[1,.5]],THt={stroke:"#ccc",endArrow:{path:Ar.Arrow.vee(10,10),fill:"#ccc"}},IHt={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(){return 100}},Qar={nodeType:"card-node",edgeType:"cubic-horizontal",behaviors:["zoom-canvas","drag-canvas"],nodeSize:xL,nodeLabelCfg:Ch,nodeAnchorPoints:EHt,layout:IHt,nodeStyle:AHt,edgeStyle:THt,nodeStateStyles:Gs,edgeStateStyles:Gs,collapseExpand:!0,autoFit:!0},AL={},$ar=function(r){var e=y_(r,Qar),t=e.data,i=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"card-node":s,u=e.edgeType,f=u===void 0?"cubic-horizontal":u,c=e.behaviors,h=c===void 0?["zoom-canvas","drag-canvas"]:c,d=e.nodeSize,v=d===void 0?xL:d,p=e.nodeLabelCfg,g=p===void 0?Ch:p,m=e.nodeAnchorPoints,y=m===void 0?EHt:m,x=e.layout,b=x===void 0?IHt:x,_=e.minimapCfg,M=e.nodeStyle,A=M===void 0?AHt:M,I=e.edgeStyle,k=I===void 0?THt:I,E=e.nodeStateStyles,O=E===void 0?Gs:E,P=e.edgeStateStyles,N=P===void 0?Gs:P,R=e.collapseExpand,z=R===void 0?!0:R,B=e.autoFit,Y=B===void 0?!0:B,q=e.handleNodeClick,j=e.graphRef,Z=e.onReady,tt=e.loading,lt=e.loadingTemplate,J=e.errorTemplate,nt=Mt.useRef(null),ut=g_(nt),ft=Mt.useRef(null);return Sh(AL[ut],e,ft),$e(function(){var pt=v_(a,o,ft),_t=AL[ut];if(_t||(_t=new Ar.TreeGraph({container:ft.current,width:pt[0],height:pt[1],modes:{default:h},defaultNode:{type:l,size:v,style:A,anchorPoints:y,labelCfg:g},defaultEdge:{type:f,style:k},nodeStateStyles:O,edgeStateStyles:N,layout:b,fitView:Y}),AL[ut]=_t),j&&(j.current=_t),p_(_,_t),bL(_t,t),Z&&Z(_t),z){var Et=function(Ot){var oe=Ot.item;Ot.target.get("name")==="collapse-icon"?(_t.updateItem(oe,{collapsed:!oe.getModel().collapsed}),_t.layout()):q&&q(oe,_t)};_t.on("node:click",function(Ot){Et(Ot)}),_t.on("node:touchstart",function(Ot){Et(Ot)})}return m_(_t,r),function(){AL[ut]&&(AL[ut].destroy(),delete AL[ut])}},[]),Mt.createElement(Va,{errorTemplate:J},tt&&Mt.createElement(Da,{loadingTemplate:lt}),Mt.createElement("div",{className:i,style:n,ref:ft}))},Gft=$ar;var EL=function(){return EL=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},EL.apply(this,arguments)},TL={};MV();var Jar={type:"compactBox",direction:"LR",getId:function(r){return r.id},getHeight:function(){return 60},getWidth:function(){return 16},getVGap:function(){return 16},getHGap:function(){return 100}},tor={nodeType:"card",edgeType:"cubic-horizontal",behaviors:["zoom-canvas","drag-canvas"],nodeAnchorPoints:Fft,nodeSize:_L,layout:Jar,animate:!0,markerPosition:"right",nodeStateStyles:jm,edgeStateStyles:jm,collapseExpand:!0,showArrow:!0,arrowType:"vee",autoFit:!0,style:{height:"inherit"}},eor=function(r){var e=CV(r,tor),t=e.data,i=e.className,n=e.style,a=e.width,o=e.height,s=e.nodeType,l=s===void 0?"card":s,u=e.edgeType,f=u===void 0?"cubic-horizontal":u,c=e.behaviors,h=c===void 0?["zoom-canvas","drag-canvas"]:c,d=e.nodeAnchorPoints,v=d===void 0?Fft:d,p=e.nodeSize,g=p===void 0?_L:p,m=e.layout,y=e.animate,x=y===void 0?!0:y,b=e.nodeStyle,_=e.edgeStyle,M=e.edgeCfg,A=e.markerStyle,I=e.markerPosition,k=I===void 0?"right":I,E=e.nodeStateStyles,O=E===void 0?jm:E,P=e.edgeStateStyles,N=P===void 0?jm:P,R=e.collapseExpand,z=R===void 0?!0:R,B=e.titleStyle,Y=e.bodyStyle,q=e.footerStyle,j=e.footerValueStyle,Z=e.showArrow,tt=Z===void 0?!0:Z,lt=e.arrowType,J=lt===void 0?"vee":lt,nt=e.autoFit,ut=nt===void 0?!0:nt,ft=e.onReady,pt=e.loading,_t=e.loadingTemplate,Et=e.errorTemplate,Ot=Mt.useRef(null),oe=Mt.useRef(null),se=_V(oe);return Sh(TL[se],e,Ot),$e(function(){var _e=bV(a,o,Ot),le=TL[se];return le||(le=new Ar.TreeGraph({container:Ot.current,width:_e[0],height:_e[1],animate:x,modes:{default:h},defaultNode:{type:l,size:g,anchorPoints:v,titleStyle:B,bodyStyle:Y,footerStyle:q,footerValueStyle:j,markerStyle:A,collapseExpand:z,markerPosition:k},defaultEdge:{type:f},nodeStateStyles:O,edgeStateStyles:N,layout:m,fitView:ut}),TL[se]=le),le.node(function(ar){return typeof b=="function"?{style:b(ar,le)}:{style:EL(EL({},pHt),b)}}),le.edge(function(ar){return M?typeof M=="function"?M(ar,le):M:typeof _=="function"?{style:_(ar,le)}:{style:EL(EL({stroke:"#ccc"},tt&&wV(0,J)),_)}}),z&&yHt(le,z),SV(le,t),ft&&ft(le),function(){TL[se]&&(TL[se].destroy(),delete TL[se])}},[]),Mt.createElement(Va,{errorTemplate:Et},pt&&Mt.createElement(Da,{loadingTemplate:_t}),Mt.createElement("div",{className:i,style:n,ref:Ot}))},zft=eor;var b_=function(){return b_=Object.assign||function(r){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},b_.apply(this,arguments)},ror={fill:"#91d5ff",stroke:"#40a9ff",radius:2},LHt={type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},ior={animate:!0,nodeType:"rect",edgeType:"polyline",nodeSize:_L,behaviors:["drag-canvas","zoom-canvas"],nodeLabelCfg:{style:SL},layout:LHt,showMarker:!1,showArrow:!0,arrowType:"triangle",nodeStateStyles:jm,edgeStateStyles:jm,autoFit:!0,style:{height:"inherit"}},IL={},nor=function(r){var e=CV(r,ior),t=e.data,i=e.className,n=e.style,a=e.width,o=e.height,s=e.animate,l=s===void 0?!0:s,u=e.nodeType,f=u===void 0?"rect":u,c=e.edgeType,h=c===void 0?"polyline":c,d=e.nodeSize,v=d===void 0?_L:d,p=e.behaviors,g=p===void 0?["drag-canvas","zoom-canvas"]:p,m=e.nodeLabelCfg,y=e.nodeCfg,x=e.layout,b=x===void 0?LHt:x,_=e.showMarker,M=_===void 0?!1:_,A=e.showArrow,I=A===void 0?!0:A,k=e.arrowType,E=k===void 0?"triangle":k,O=e.minimapCfg,P=e.edgeCfg,N=e.markerStyle,R=e.nodeStateStyles,z=R===void 0?jm:R,B=e.edgeStateStyles,Y=B===void 0?jm:B,q=e.autoFit,j=q===void 0?!0:q,Z=e.onReady,tt=e.loading,lt=e.loadingTemplate,J=e.errorTemplate,nt=Mt.useRef(null),ut=Mt.useRef(null),ft=_V(ut);Sh(IL[ft],e,nt);var pt=(Array.isArray(v)?v[1]:v)/2;return $e(function(){var _t=bV(a,o,nt);f==="icon-node"&&bHt();var Et=IL[ft];return Et||(Et=new Ar.TreeGraph({container:nt.current,width:_t[0],height:_t[1],linkCenter:!0,animate:l,modes:{default:g},defaultNode:{type:f,size:v,labelCfg:m,markerStyle:N,showMarker:M},defaultEdge:{type:h},nodeStateStyles:z,edgeStateStyles:Y,layout:b,fitView:j}),IL[ft]=Et),Et.node(function(Ot){return typeof y=="function"?y(Ot,Et):{style:b_(b_({},ror),y==null?void 0:y.style)}}),Et.edge(function(Ot){return typeof P=="function"?P(Ot,Et):b_(b_({},P),{style:b_(b_({stroke:"#91d5ff"},I&&wV(pt,E,"#91d5ff")),P==null?void 0:P.style)})}),xHt(O,Et),SV(Et,t),Z&&Z(Et),function(){IL[ft]&&(IL[ft].destroy(),delete IL[ft])}},[]),Mt.createElement(Va,{errorTemplate:J},tt&&Mt.createElement(Da,{loadingTemplate:lt}),Mt.createElement("div",{className:i,style:n,ref:nt}))},jft=nor;var aor=r=>encodeURIComponent(r),Px=r=>`(${encodeURIComponent(r)})`,oor=r=>`"${encodeURIComponent(r)}"`,OHt=r=>`("${encodeURIComponent(r)}")`,kHt=class extends Yi{search(e,t,i){let n=this.context.event.data,{shape:a,data:o}=n,s;a==="word-cloud"?s=o.text:s=e?o[e.field]:"",i&&(s=i(s)),this.openScheme(`obsidian://search?vault=${encodeURIComponent(e.vault)}&query=${t}${s}`)}openNote(e){let t=this.context.event.data,{shape:i,data:n}=t,a;i==="word-cloud"?a=n.datum[e.pathField]:a=n[e.pathField],this.openScheme(`obsidian://vault/${encodeURIComponent(e.vault)}/${a}`)}openScheme(e){let t=window.document.body.createEl("a",{href:e});t.click(),t.remove()}tag(e){this.search(e,"tag%3A",aor)}file(e){this.search(e,"file%3A",OHt)}fileopen(e){this.openNote(e)}path(e){this.search(e,"path%3A",OHt)}content(e){this.search(e,"content%3A",Px)}task(e){this.search(e,"task%3A",Px)}matchCase(e){this.search(e,"match-case%3A",Px)}ignoreCase(e){this.search(e,"ignore-case%3A",Px)}line(e){this.search(e,"line%3A",Px)}block(e){this.search(e,"block%3A",Px)}taskTodo(e){this.search(e,"task-todo%3A",Px)}taskDone(e){this.search(e,"task-done%3A",Px)}section(e){this.search(e,"section%3A",Px)}default(e){this.search(e,"",oor)}};Jr("obsidian-search",kHt);da("obsidian-search",{start:[{trigger:"element:click",action:"obsidian-search:default"}]});var PHt=r=>{var e,t,i,n;return r.colors10=(t=r.colors10)!=null?t:(e=r.stylesheet)==null?void 0:e.paletteQualitative10,r.colors20=(n=r.colors20)!=null?n:(i=r.stylesheet)==null?void 0:i.paletteQualitative20,r};gE("theme1",PHt({background:"transparent",subColor:"rgba(0,0,0,0.05)",semanticRed:"#F4664A",semanticGreen:"#30BF78",padding:"auto",fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,columnWidthRatio:.5,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:.7692307692307692,sequenceColors:["#ffd8c2","#ffb188","#ff894e","#ff7231","#ff6322","#ff5211","#f94000","#e73000","#d51e00","#c30000"],shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],components:{axis:{common:{title:{autoRotate:!0,position:"center",spacing:12,style:{fill:"#595959",fontSize:12,lineHeight:12,textBaseline:"middle",fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`},iconStyle:{fill:"#D9D9D9"}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:8,style:{fill:"#8C8C8C",fontSize:12,lineHeight:12,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`}},line:{style:{lineWidth:1,stroke:"#BFBFBF"}},grid:{line:{type:"line",style:{stroke:"#D9D9D9",lineWidth:1,lineDash:null}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:1,stroke:"#BFBFBF"},alignTick:!0,length:4},subTickLine:null,animate:!0},top:{position:"top",grid:null,title:null,verticalLimitLength:.5},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:.5},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:.3333333333333333},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:.3333333333333333},circle:{title:null,grid:{line:{type:"line",style:{stroke:"#D9D9D9",lineWidth:1,lineDash:null}},alignTick:!0,animate:!0}},radius:{title:null,grid:{line:{type:"circle",style:{stroke:"#D9D9D9",lineWidth:1,lineDash:null}},alignTick:!0,animate:!0}}},legend:{common:{title:null,marker:{symbol:"circle",spacing:8,style:{r:4,fill:"#5B8FF9"}},itemName:{spacing:5,style:{fill:"#595959",fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,fontSize:12,lineHeight:12,fontWeight:"normal",textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:12,inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1}},text:{style:{fill:"#8C8C8C",fontSize:12}}},animate:!1,maxItemWidth:200,itemSpacing:24,itemMarginBottom:12,padding:[8,8,8,8]},right:{layout:"vertical",padding:[0,8,0,8]},left:{layout:"vertical",padding:[0,8,0,8]},top:{layout:"horizontal",padding:[8,0,8,0]},bottom:{layout:"horizontal",padding:[8,0,8,0]},continuous:{title:null,background:null,track:{},rail:{type:"color",size:12,defaultLength:100,style:{fill:"#D9D9D9",stroke:null,lineWidth:0}},label:{align:"rail",spacing:4,formatter:null,style:{fill:"#8C8C8C",fontSize:12,lineHeight:12,textBaseline:"middle",fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`}},handler:{size:10,style:{fill:"#F0F0F0",stroke:"#BFBFBF"}},slidable:!0,padding:[8,8,8,8]}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:"#BFBFBF",lineWidth:1}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:{"g2-tooltip":{position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:"rgb(255, 255, 255)",opacity:.95,boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"#595959",fontSize:"12px",fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,lineHeight:"12px",padding:"0 12px 0 12px"},"g2-tooltip-title":{marginBottom:"12px",marginTop:"12px"},"g2-tooltip-list":{margin:0,listStyleType:"none",padding:0},"g2-tooltip-list-item":{listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},"g2-tooltip-marker":{width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},"g2-tooltip-value":{display:"inline-block",float:"right",marginLeft:"30px"}}},annotation:{arc:{style:{stroke:"#D9D9D9",lineWidth:1},animate:!0},line:{style:{stroke:"#BFBFBF",lineDash:null,lineWidth:1},text:{position:"start",autoRotate:!0,style:{fill:"#595959",stroke:null,lineWidth:0,fontSize:12,textAlign:"start",fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,textBaseline:"bottom"}},animate:!0},text:{style:{fill:"#595959",stroke:null,lineWidth:0,fontSize:12,textBaseline:"middle",textAlign:"start",fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`},animate:!0},region:{top:!1,style:{lineWidth:0,stroke:null,fill:"#000",fillOpacity:.06},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:"#5B8FF9",lineWidth:2}},line:{style:{stroke:"#BFBFBF",lineWidth:1},length:16},text:{style:{textAlign:"start",fill:"#595959",stroke:null,lineWidth:0,fontSize:12,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:"#000",fillOpacity:.06},text:{textAlign:"center",textBaseline:"bottom",fill:"#595959",stroke:null,lineWidth:0,fontSize:12,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:"#416180",opacity:.05},foregroundStyle:{fill:"#5B8FF9",opacity:.15},handlerStyle:{width:10,height:24,fill:"#F7F7F7",opacity:1,stroke:"#BFBFBF",lineWidth:1,radius:2,highLightFill:"#FFF"},textStyle:{fill:"#000",opacity:.45,fontSize:12,lineHeight:12,fontWeight:"normal",stroke:null,lineWidth:0}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)"}},hover:{style:{thumbColor:"rgba(0,0,0,0.2)"}}}},labels:{offset:12,style:{fill:"#595959",fontSize:12,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,stroke:null,lineWidth:0},fillColorDark:"#2c3542",fillColorLight:"#ffffff",autoRotate:!0},innerLabels:{style:{fill:"#FFFFFF",fontSize:12,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,stroke:null,lineWidth:0},autoRotate:!0},overflowLabels:{style:{fill:"#595959",fontSize:12,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,stroke:"#FFFFFF",lineWidth:1}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:1}},autoRotate:!0},geometries:{interval:{rect:{default:{style:{fill:"#5B8FF9",fillOpacity:.95}},active:{style:{stroke:"#000",lineWidth:1}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{}},"hollow-rect":{default:{style:{fill:"#FFFFFF",stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:3,strokeOpacity:1}}},line:{default:{style:{fill:"#FFFFFF",stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:3,strokeOpacity:1}}},tick:{default:{style:{fill:"#FFFFFF",stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:3,strokeOpacity:1}}},funnel:{default:{style:{fill:"#5B8FF9",fillOpacity:.95}},active:{style:{stroke:"#000",lineWidth:1}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},pyramid:{default:{style:{fill:"#5B8FF9",fillOpacity:.95}},active:{style:{stroke:"#000",lineWidth:1}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}}},line:{line:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},dot:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:null,lineJoin:"round",lineDash:[1,1]}},active:{style:{lineWidth:3,lineCap:null,lineDash:[1,1]}},inactive:{style:{strokeOpacity:.3,lineCap:null,lineDash:[1,1]}},selected:{style:{lineWidth:3,lineCap:null,lineDash:[1,1]}}},dash:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:null,lineJoin:"round",lineDash:[5.5,1]}},active:{style:{lineWidth:3,lineCap:null,lineDash:[5.5,1]}},inactive:{style:{strokeOpacity:.3,lineCap:null,lineDash:[5.5,1]}},selected:{style:{lineWidth:3,lineCap:null,lineDash:[5.5,1]}}},smooth:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},hv:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},vh:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},hvh:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},vhv:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}}},polygon:{polygon:{default:{style:{fill:"#5B8FF9",fillOpacity:.95}},active:{style:{stroke:"#000",lineWidth:1}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}}},point:{circle:{default:{style:{fill:"#5B8FF9",r:4,stroke:"#FFFFFF",lineWidth:1,fillOpacity:.95}},active:{style:{stroke:"#000"}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},square:{default:{style:{fill:"#5B8FF9",r:4,stroke:"#FFFFFF",lineWidth:1,fillOpacity:.95}},active:{style:{stroke:"#000"}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},bowtie:{default:{style:{fill:"#5B8FF9",r:4,stroke:"#FFFFFF",lineWidth:1,fillOpacity:.95}},active:{style:{stroke:"#000"}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},diamond:{default:{style:{fill:"#5B8FF9",r:4,stroke:"#FFFFFF",lineWidth:1,fillOpacity:.95}},active:{style:{stroke:"#000"}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},hexagon:{default:{style:{fill:"#5B8FF9",r:4,stroke:"#FFFFFF",lineWidth:1,fillOpacity:.95}},active:{style:{stroke:"#000"}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},triangle:{default:{style:{fill:"#5B8FF9",r:4,stroke:"#FFFFFF",lineWidth:1,fillOpacity:.95}},active:{style:{stroke:"#000"}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},"triangle-down":{default:{style:{fill:"#5B8FF9",r:4,stroke:"#FFFFFF",lineWidth:1,fillOpacity:.95}},active:{style:{stroke:"#000"}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:2}}},"hollow-circle":{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},"hollow-square":{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},"hollow-bowtie":{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},"hollow-diamond":{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},"hollow-hexagon":{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},"hollow-triangle":{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},"hollow-triangle-down":{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},cross:{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},tick:{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},plus:{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},hyphen:{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}},line:{default:{style:{fill:"#FFFFFF",lineWidth:1,stroke:"#5B8FF9",strokeOpacity:.95,r:4}},active:{style:{stroke:"#000",strokeOpacity:1}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:2,stroke:"#000",strokeOpacity:1}}}},area:{area:{default:{style:{fill:"#5B8FF9",fillOpacity:.25,stroke:null}},active:{style:{fillOpacity:.5}},inactive:{style:{fillOpacity:.3}},selected:{style:{fillOpacity:.5}}},smooth:{default:{style:{fill:"#5B8FF9",fillOpacity:.25,stroke:null}},active:{style:{fillOpacity:.5}},inactive:{style:{fillOpacity:.3}},selected:{style:{fillOpacity:.5}}},line:{default:{style:{fill:null,stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{fill:null,lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{fill:null,lineWidth:3}}},"smooth-line":{default:{style:{fill:null,stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{fill:null,lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{fill:null,lineWidth:3}}}},schema:{candle:{default:{style:{fill:"#FFFFFF",stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:3,strokeOpacity:1}}},box:{default:{style:{fill:"#FFFFFF",stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{strokeOpacity:.3}},selected:{style:{stroke:"#000",lineWidth:3,strokeOpacity:1}}}},edge:{line:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},vhv:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},smooth:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},arc:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}}},violin:{violin:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},smooth:{default:{style:{stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"}},active:{style:{lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{lineWidth:3}}},hollow:{default:{style:{fill:null,stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{fill:null,lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{fill:null,lineWidth:3}}},"hollow-smooth":{default:{style:{fill:null,stroke:"#5B8FF9",lineWidth:2,strokeOpacity:1}},active:{style:{fill:null,lineWidth:3}},inactive:{style:{strokeOpacity:.3}},selected:{style:{fill:null,lineWidth:3}}}}},styleSheet:{brandColor:"#FF4500",paletteQualitative10:["#FF4500","#1AAF8B","#406C85","#F6BD16","#B40F0F","#2FB8FC","#4435FF","#FF5CA2","#BBE800","#FE8A26"],paletteQualitative20:["#FF4500","#1AAF8B","#406C85","#F6BD16","#B40F0F","#2FB8FC","#4435FF","#FF5CA2","#BBE800","#FE8A26","#946DFF","#6C3E00","#6193FF","#FF988E","#36BCCB","#004988","#FFCF9D","#CCDC8A","#8D00A1","#1CC25E"]}}));gE("theme2",PHt({colors10:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF"],colors20:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF","#FFC328","#A0DC2C","#946DFF","#626681","#EB4185","#CD8150","#36BCCB","#327039","#803488","#83BC99"]}));var EV=({type:r,config:e,showExportBtn:t=!1})=>{let i=MF[r]||AB[r],n=Co(),{onReady:a}=e!=null?e:{};return Mt.createElement(Dr,null,t&&Mt.createElement("div",{className:"chartsview-export-button","aria-label":"Export to PNG",onClick:()=>{var o;(o=n.current)==null||o.downloadImage(`${r}.png`)}},Mt.createElement("svg",{className:"code-glyph",viewBox:"0 0 1024 1024",width:"16",height:"16"},Mt.createElement("path",{fill:"currentColor",stroke:"currentColor",d:"M896 166.4H128c-25.6 0-42.666667 17.066667-42.666667 42.666667v597.333333c0 25.6 17.066667 42.666667 42.666667 42.666667h768c25.6 0 42.666667-17.066667 42.666667-42.666667v-597.333333c0-25.6-21.333333-42.666667-42.666667-42.666667z m-42.666667 85.333333v418.133334l-136.533333-136.533334c-21.333333-12.8-51.2-12.8-64 4.266667L554.666667 635.733333l-183.466667-179.2c-17.066667-17.066667-46.933333-17.066667-59.733333 0L170.666667 597.333333V251.733333h682.666666z m-243.2 443.733334l76.8-76.8 136.533334 140.8h-145.066667l-68.266667-64zM170.666667 716.8l170.666666-170.666667 217.6 217.6H170.666667v-46.933333z"}),Mt.createElement("path",{fill:"currentColor",stroke:"currentColor",d:"M716.8 396.8m-64 0a64 64 0 1 0 128 0 64 64 0 1 0-128 0Z"}))),Mt.createElement(i,Tct(Pf({},e),{onReady:o=>{a==null||a(o),n.current=o}})))};var LV=et(require("obsidian"));var FHt=et(DHt()),TV=et(require("obsidian")),NHt=Object.getPrototypeOf(async function(){}).constructor;function LL(r,e){r.somethingSelected?r.replaceSelection(e):r.setLine(r.getCursor().line,e)}function BHt(r){let e={};return TV.Vault.recurseChildren(r.vault.getRoot(),t=>{t instanceof TV.TFolder&&(e[t.path]=t.path)}),e}function IV(r){return FHt.default.parse(r,{header:!0,skipEmptyLines:!0,comments:!1,dynamicTyping:!0}).data}function sor(){let r=/A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC/.source,e=/\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5/.source,t=/[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u4E00-\u9FD5]{1}/.source;return new RegExp([`(?:[0-9]+(?:(?:,|\\.)[0-9]+)*|[\\-${r}])+`,e,t].join("|"),"g")}function RHt(r,e){let t={},i=r.match(sor());i&&i.forEach(o=>{o=o.toLowerCase(),t[o]=t[o]?t[o]+1:1});let n=[],a=new RegExp(e.split(`
`).map(o=>["^",o.trim(),"$"].join("")).join("|"),"i");for(let o in t)a.test(o)||n.push({word:o,count:t[o]});return n}var lor=/^\s*function\s*.*\(.*\)\s*\{[\w\W]*\}\s*/i;async function GHt(r,e,t){var f,c,h,d,v;let i=(0,LV.parseYaml)(r),{type:n,data:a}=i;if((MF[n]||AB[n])===void 0)throw new Error(`Unsupported chart type ${n}.`);let s=OV(i.options||{}),l=n==="MultiView"||n==="Mix"?await uor(i,a,s,e,t):Pf({data:await jHt(a,e,t,s)},zHt(s,e)),u=((f=l.theme)==null?void 0:f.background)===void 0&&((h=(c=l.theme)==null?void 0:c.styleSheet)==null?void 0:h.backgroundColor)===void 0;return l.theme=(d=l.theme)!=null?d:HS(e.settings.theme),u&&(l.theme.background=e.settings.backgroundColor),l.appendPadding=(v=l.appendPadding)!=null?v:[e.settings.paddingTop,e.settings.paddingRight,e.settings.paddingBottom,e.settings.paddingLeft],{type:n,showExportBtn:e.settings.showExportBtn,config:l}}function OV(r){for(let e in r){let t=r[e];t&&(typeof t=="string"&&lor.test(t)?r[e]=(0,eval)(`(${t})`):Array.isArray(t)?r[e]=t.map(OV):typeof t=="object"&&(r[e]=OV(t)))}return r}function zHt(r,e){var o,s,l;let{enableSearchInteraction:t,interactions:i}=r;if(t!==!0&&typeof t!="object")return r;let n=i!=null?i:[];if(!Array.isArray(n))return r;let a={type:"obsidian-search",cfg:{start:[{trigger:"element:click",action:"obsidian-search:default",arg:{field:"text",pathField:"path",vault:e.app.vault.getName()}}]}};return typeof t=="object"&&(a.cfg.start[0].action=`obsidian-search:${(o=t.operator)!=null?o:"default"}`,a.cfg.start[0].arg.field=(s=t.field)!=null?s:"text",a.cfg.start[0].arg.pathField=(l=t.pathField)!=null?l:"path"),n.push(a),delete r.enableSearchInteraction,r.interactions=n,r}async function uor(r,e,t,i,n){let a=new Map,o=[];for(let s in r){let l=s.split(".");if(l.length!==2||l[0]!=="options"&&l[0]!=="data")continue;let u=l[1],f=a.get(u)||{};f[l[0]]=r[s],a.set(u,f)}for(let s of a.values())o.push(Pf({data:await jHt(s.data,i,n,t)||e},zHt(OV(s.options||{}),i)));return Pf({views:o},t)}async function jHt(r,e,t,i){if(typeof r=="string")if(r.startsWith("wordcount:")){let n=r.replace("wordcount:","");return dor(n.length>0?n:e.app.vault.getAbstractFileByPath(t).basename,e,i)}else return r.startsWith("dataviewjs:")?hor(r.replace("dataviewjs:",""),e,t):vor(r,e);else return r}var cor=function(r,e){return{pagePaths:function(t){return r.pagePaths(t,e)},page:function(t){return r.page(t,e)},pages:function(t){return r.pages(t,e)},current:function(){return r.page(e,e)},array:function(t){return r.array(t)},isArray:function(t){return r.isArray(t)},fileLink:function(t,i,n){return r.fileLink(t,i,n)},date:function(t){return r.date(t)},query(t,i){return r.query(t,e,i)},io:r.io,func:r.func}};async function hor(r,e,t){var n;let i=(n=e.app.plugins.plugins.dataview)==null?void 0:n.api;if(i){let a=new NHt("dv",r),o=cor(i,t);return await a(o)}else throw new Error("Obsidian Dataview is required.")}async function dor(r,e,t){let i=r.split(","),n=[];for(let s of e.app.vault.getMarkdownFiles())if(s.basename==r||i.contains(s.basename)||YHt(s.parent,i)){let l=await e.app.vault.cachedRead(s);n.push(l)}if(n.length==0)throw new Error("No words found.");let a=RHt(n.join(`
`),e.settings.wordCountFilter),{minWordCount:o}=t;return typeof o=="number"?(delete t.minWordCount,a.filter(s=>s.count>=o)):a}function YHt(r,e){let t=e.contains(`${r.name}/`);return t||r.parent==null?t:YHt(r.parent,e)}async function vor(r,e){let t=r.split(","),i=[];for(let n of t.values()){let a=e.settings.dataPath==="/"?"":`${e.settings.dataPath}/`,o=e.app.vault.getAbstractFileByPath(`${a}${n.trim()}`);o instanceof LV.TFile?i.push(IV(await e.app.vault.read(o))):i.push({})}return i.length==0?{}:i.length==1?i[0]:i}var yp=et(require("obsidian"));var WHt={theme:"default",dataPath:"",backgroundColor:"transparent",paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,showExportBtn:!1,wordCountFilter:`[A-z]{1,2}
[0-9]+
(?=[MDCLXVI])M*(C[MD]|D?C*)(X[CL]|L?X*)(I[XV]|V?I*)
and
are
but
did
for
get
got
had
has
her
him
his
its
not
our
she
the
was
you
been
from
have
into
mine
ours
that
them
they
this
went
were
with
these
those`},Vft=class extends yp.PluginSettingTab{constructor(e,t){super(e,t);this.plugin=t}display(){let{containerEl:e}=this;if(e.empty(),e.createEl("h2",{text:"Charts View Settings"}),new yp.Setting(e).setName("Theme").setDesc("Choose default color scheme.").addDropdown(t=>t.addOption("default","default").addOption("dark","dark").addOption("theme1","Theme #1").addOption("theme2","Theme #2").setValue(this.plugin.settings.theme).onChange(async i=>{this.plugin.settings.theme=i,await this.plugin.saveSettings()})),new yp.Setting(e).setName("Background Color").setDesc("Change the background color of chart. e.g., #FFFFFF").addText(t=>t.setPlaceholder("transparent").setValue(this.plugin.settings.backgroundColor).onChange(async i=>{this.plugin.settings.backgroundColor=i,await this.plugin.saveSettings()})),new yp.Setting(e).setName("Chart Padding").setDesc("Change the padding of chart. (Top, Right, Bottom, Left)").addText(t=>{t.inputEl.size=5,t.setPlaceholder("30").setValue(String(this.plugin.settings.paddingTop)).onChange(async i=>{this.plugin.settings.paddingTop=Number(i),await this.plugin.saveSettings()})}).addText(t=>{t.inputEl.size=5,t.setPlaceholder("30").setValue(String(this.plugin.settings.paddingRight)).onChange(async i=>{this.plugin.settings.paddingRight=Number(i),await this.plugin.saveSettings()})}).addText(t=>{t.inputEl.size=5,t.setPlaceholder("30").setValue(String(this.plugin.settings.paddingBottom)).onChange(async i=>{this.plugin.settings.paddingBottom=Number(i),await this.plugin.saveSettings()})}).addText(t=>{t.inputEl.size=5,t.setPlaceholder("30").setValue(String(this.plugin.settings.paddingLeft)).onChange(async i=>{this.plugin.settings.paddingLeft=Number(i),await this.plugin.saveSettings()})}),new yp.Setting(e).setName("Data Folder").setDesc("Choose default folder for loading chart datas.").addDropdown(t=>t.addOptions(BHt(this.app)).setValue(this.plugin.settings.dataPath).onChange(async i=>{this.plugin.settings.dataPath=i,await this.plugin.saveSettings()})),new yp.Setting(e).setName("Show Export Button").addToggle(t=>t.setValue(this.plugin.settings.showExportBtn).onChange(async i=>{this.plugin.settings.showExportBtn=i,await this.plugin.saveSettings()})),new yp.Setting(e).setName("Word Filter").setDesc("For word count, any words in the list will be ignored.").addTextArea(t=>{t.inputEl.rows=6,t.setValue(this.plugin.settings.wordCountFilter).onChange(async i=>{this.plugin.settings.wordCountFilter=i,await this.plugin.saveSettings()})}),yp.Platform.isDesktopApp){let t=e.createDiv({cls:"chartsview-donation"});t.createEl("p",{text:"Make a donation to support Charts View plugin development."});let n=t.createEl("a",{href:"https://paypal.me/caronchenhz",cls:"paypal"}).createEl("img");n.src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMTI0cHgiIGhlaWdodD0iMzNweCIgdmlld0JveD0iMCAwIDEyNCAzMyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTI0IDMzIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGZpbGw9IiMyNTNCODAiIGQ9Ik00Ni4yMTEsNi43NDloLTYuODM5Yy0wLjQ2OCwwLTAuODY2LDAuMzQtMC45MzksMC44MDJsLTIuNzY2LDE3LjUzN2MtMC4wNTUsMC4zNDYsMC4yMTMsMC42NTgsMC41NjQsMC42NTgNCgloMy4yNjVjMC40NjgsMCwwLjg2Ni0wLjM0LDAuOTM5LTAuODAzbDAuNzQ2LTQuNzNjMC4wNzItMC40NjMsMC40NzEtMC44MDMsMC45MzgtMC44MDNoMi4xNjVjNC41MDUsMCw3LjEwNS0yLjE4LDcuNzg0LTYuNQ0KCWMwLjMwNi0xLjg5LDAuMDEzLTMuMzc1LTAuODcyLTQuNDE1QzUwLjIyNCw3LjM1Myw0OC41LDYuNzQ5LDQ2LjIxMSw2Ljc0OXogTTQ3LDEzLjE1NGMtMC4zNzQsMi40NTQtMi4yNDksMi40NTQtNC4wNjIsMi40NTQNCgloLTEuMDMybDAuNzI0LTQuNTgzYzAuMDQzLTAuMjc3LDAuMjgzLTAuNDgxLDAuNTYzLTAuNDgxaDAuNDczYzEuMjM1LDAsMi40LDAsMy4wMDIsMC43MDRDNDcuMDI3LDExLjY2OCw0Ny4xMzcsMTIuMjkyLDQ3LDEzLjE1NHoiDQoJLz4NCjxwYXRoIGZpbGw9IiMyNTNCODAiIGQ9Ik02Ni42NTQsMTMuMDc1aC0zLjI3NWMtMC4yNzksMC0wLjUyLDAuMjA0LTAuNTYzLDAuNDgxbC0wLjE0NSwwLjkxNmwtMC4yMjktMC4zMzINCgljLTAuNzA5LTEuMDI5LTIuMjktMS4zNzMtMy44NjgtMS4zNzNjLTMuNjE5LDAtNi43MSwyLjc0MS03LjMxMiw2LjU4NmMtMC4zMTMsMS45MTgsMC4xMzIsMy43NTIsMS4yMiw1LjAzMQ0KCWMwLjk5OCwxLjE3NiwyLjQyNiwxLjY2Niw0LjEyNSwxLjY2NmMyLjkxNiwwLDQuNTMzLTEuODc1LDQuNTMzLTEuODc1bC0wLjE0NiwwLjkxYy0wLjA1NSwwLjM0OCwwLjIxMywwLjY2LDAuNTYyLDAuNjZoMi45NQ0KCWMwLjQ2OSwwLDAuODY1LTAuMzQsMC45MzktMC44MDNsMS43Ny0xMS4yMDlDNjcuMjcxLDEzLjM4OCw2Ny4wMDQsMTMuMDc1LDY2LjY1NCwxMy4wNzV6IE02Mi4wODksMTkuNDQ5DQoJYy0wLjMxNiwxLjg3MS0xLjgwMSwzLjEyNy0zLjY5NSwzLjEyN2MtMC45NTEsMC0xLjcxMS0wLjMwNS0yLjE5OS0wLjg4M2MtMC40ODQtMC41NzQtMC42NjgtMS4zOTEtMC41MTQtMi4zMDENCgljMC4yOTUtMS44NTUsMS44MDUtMy4xNTIsMy42Ny0zLjE1MmMwLjkzLDAsMS42ODYsMC4zMDksMi4xODQsMC44OTJDNjIuMDM0LDE3LjcyMSw2Mi4yMzIsMTguNTQzLDYyLjA4OSwxOS40NDl6Ii8+DQo8cGF0aCBmaWxsPSIjMjUzQjgwIiBkPSJNODQuMDk2LDEzLjA3NWgtMy4yOTFjLTAuMzE0LDAtMC42MDksMC4xNTYtMC43ODcsMC40MTdsLTQuNTM5LDYuNjg2bC0xLjkyNC02LjQyNQ0KCWMtMC4xMjEtMC40MDItMC40OTItMC42NzgtMC45MTItMC42NzhoLTMuMjM0Yy0wLjM5MywwLTAuNjY2LDAuMzg0LTAuNTQxLDAuNzU0bDMuNjI1LDEwLjYzOGwtMy40MDgsNC44MTENCgljLTAuMjY4LDAuMzc5LDAuMDAyLDAuOSwwLjQ2NSwwLjloMy4yODdjMC4zMTIsMCwwLjYwNC0wLjE1MiwwLjc4MS0wLjQwOEw4NC41NjQsMTMuOTdDODQuODI2LDEzLjU5Miw4NC41NTcsMTMuMDc1LDg0LjA5NiwxMy4wNzV6DQoJIi8+DQo8cGF0aCBmaWxsPSIjMTc5QkQ3IiBkPSJNOTQuOTkyLDYuNzQ5aC02Ljg0Yy0wLjQ2NywwLTAuODY1LDAuMzQtMC45MzgsMC44MDJsLTIuNzY2LDE3LjUzN2MtMC4wNTUsMC4zNDYsMC4yMTMsMC42NTgsMC41NjIsMC42NTgNCgloMy41MWMwLjMyNiwwLDAuNjA1LTAuMjM4LDAuNjU2LTAuNTYybDAuNzg1LTQuOTcxYzAuMDcyLTAuNDYzLDAuNDcxLTAuODAzLDAuOTM4LTAuODAzaDIuMTY0YzQuNTA2LDAsNy4xMDUtMi4xOCw3Ljc4NS02LjUNCgljMC4zMDctMS44OSwwLjAxMi0zLjM3NS0wLjg3My00LjQxNUM5OS4wMDQsNy4zNTMsOTcuMjgxLDYuNzQ5LDk0Ljk5Miw2Ljc0OXogTTk1Ljc4MSwxMy4xNTRjLTAuMzczLDIuNDU0LTIuMjQ4LDIuNDU0LTQuMDYyLDIuNDU0DQoJaC0xLjAzMWwwLjcyNS00LjU4M2MwLjA0My0wLjI3NywwLjI4MS0wLjQ4MSwwLjU2Mi0wLjQ4MWgwLjQ3M2MxLjIzNCwwLDIuNCwwLDMuMDAyLDAuNzA0DQoJQzk1LjgwOSwxMS42NjgsOTUuOTE4LDEyLjI5Miw5NS43ODEsMTMuMTU0eiIvPg0KPHBhdGggZmlsbD0iIzE3OUJENyIgZD0iTTExNS40MzQsMTMuMDc1aC0zLjI3M2MtMC4yODEsMC0wLjUyLDAuMjA0LTAuNTYyLDAuNDgxbC0wLjE0NSwwLjkxNmwtMC4yMy0wLjMzMg0KCWMtMC43MDktMS4wMjktMi4yODktMS4zNzMtMy44NjctMS4zNzNjLTMuNjE5LDAtNi43MDksMi43NDEtNy4zMTEsNi41ODZjLTAuMzEyLDEuOTE4LDAuMTMxLDMuNzUyLDEuMjE5LDUuMDMxDQoJYzEsMS4xNzYsMi40MjYsMS42NjYsNC4xMjUsMS42NjZjMi45MTYsMCw0LjUzMy0xLjg3NSw0LjUzMy0xLjg3NWwtMC4xNDYsMC45MWMtMC4wNTUsMC4zNDgsMC4yMTMsMC42NiwwLjU2NCwwLjY2aDIuOTQ5DQoJYzAuNDY3LDAsMC44NjUtMC4zNCwwLjkzOC0wLjgwM2wxLjc3MS0xMS4yMDlDMTE2LjA1MywxMy4zODgsMTE1Ljc4NSwxMy4wNzUsMTE1LjQzNCwxMy4wNzV6IE0xMTAuODY5LDE5LjQ0OQ0KCWMtMC4zMTQsMS44NzEtMS44MDEsMy4xMjctMy42OTUsMy4xMjdjLTAuOTQ5LDAtMS43MTEtMC4zMDUtMi4xOTktMC44ODNjLTAuNDg0LTAuNTc0LTAuNjY2LTEuMzkxLTAuNTE0LTIuMzAxDQoJYzAuMjk3LTEuODU1LDEuODA1LTMuMTUyLDMuNjctMy4xNTJjMC45MywwLDEuNjg2LDAuMzA5LDIuMTg0LDAuODkyQzExMC44MTYsMTcuNzIxLDExMS4wMTQsMTguNTQzLDExMC44NjksMTkuNDQ5eiIvPg0KPHBhdGggZmlsbD0iIzE3OUJENyIgZD0iTTExOS4yOTUsNy4yM2wtMi44MDcsMTcuODU4Yy0wLjA1NSwwLjM0NiwwLjIxMywwLjY1OCwwLjU2MiwwLjY1OGgyLjgyMmMwLjQ2OSwwLDAuODY3LTAuMzQsMC45MzktMC44MDMNCglsMi43NjgtMTcuNTM2YzAuMDU1LTAuMzQ2LTAuMjEzLTAuNjU5LTAuNTYyLTAuNjU5aC0zLjE2QzExOS41NzgsNi43NDksMTE5LjMzOCw2Ljk1MywxMTkuMjk1LDcuMjN6Ii8+DQo8cGF0aCBmaWxsPSIjMjUzQjgwIiBkPSJNNy4yNjYsMjkuMTU0bDAuNTIzLTMuMzIybC0xLjE2NS0wLjAyN0gxLjA2MUw0LjkyNywxLjI5MkM0LjkzOSwxLjIxOCw0Ljk3OCwxLjE0OSw1LjAzNSwxLjENCgljMC4wNTctMC4wNDksMC4xMy0wLjA3NiwwLjIwNi0wLjA3Nmg5LjM4YzMuMTE0LDAsNS4yNjMsMC42NDgsNi4zODUsMS45MjdjMC41MjYsMC42LDAuODYxLDEuMjI3LDEuMDIzLDEuOTE3DQoJYzAuMTcsMC43MjQsMC4xNzMsMS41ODksMC4wMDcsMi42NDRsLTAuMDEyLDAuMDc3djAuNjc2bDAuNTI2LDAuMjk4YzAuNDQzLDAuMjM1LDAuNzk1LDAuNTA0LDEuMDY1LDAuODEyDQoJYzAuNDUsMC41MTMsMC43NDEsMS4xNjUsMC44NjQsMS45MzhjMC4xMjcsMC43OTUsMC4wODUsMS43NDEtMC4xMjMsMi44MTJjLTAuMjQsMS4yMzItMC42MjgsMi4zMDUtMS4xNTIsMy4xODMNCgljLTAuNDgyLDAuODA5LTEuMDk2LDEuNDgtMS44MjUsMmMtMC42OTYsMC40OTQtMS41MjMsMC44NjktMi40NTgsMS4xMDljLTAuOTA2LDAuMjM2LTEuOTM5LDAuMzU1LTMuMDcyLDAuMzU1aC0wLjczDQoJYy0wLjUyMiwwLTEuMDI5LDAuMTg4LTEuNDI3LDAuNTI1Yy0wLjM5OSwwLjM0NC0wLjY2MywwLjgxNC0wLjc0NCwxLjMyOGwtMC4wNTUsMC4yOTlsLTAuOTI0LDUuODU1bC0wLjA0MiwwLjIxNQ0KCWMtMC4wMTEsMC4wNjgtMC4wMywwLjEwMi0wLjA1OCwwLjEyNWMtMC4wMjUsMC4wMjEtMC4wNjEsMC4wMzUtMC4wOTYsMC4wMzVINy4yNjZ6Ii8+DQo8cGF0aCBmaWxsPSIjMTc5QkQ3IiBkPSJNMjMuMDQ4LDcuNjY3TDIzLjA0OCw3LjY2N0wyMy4wNDgsNy42NjdjLTAuMDI4LDAuMTc5LTAuMDYsMC4zNjItMC4wOTYsMC41NQ0KCWMtMS4yMzcsNi4zNTEtNS40NjksOC41NDUtMTAuODc0LDguNTQ1SDkuMzI2Yy0wLjY2MSwwLTEuMjE4LDAuNDgtMS4zMjEsMS4xMzJsMCwwbDAsMEw2LjU5NiwyNi44M2wtMC4zOTksMi41MzMNCgljLTAuMDY3LDAuNDI4LDAuMjYzLDAuODE0LDAuNjk1LDAuODE0aDQuODgxYzAuNTc4LDAsMS4wNjktMC40MiwxLjE2LTAuOTlsMC4wNDgtMC4yNDhsMC45MTktNS44MzJsMC4wNTktMC4zMg0KCWMwLjA5LTAuNTcyLDAuNTgyLTAuOTkyLDEuMTYtMC45OTJoMC43M2M0LjcyOSwwLDguNDMxLTEuOTIsOS41MTMtNy40NzZjMC40NTItMi4zMjEsMC4yMTgtNC4yNTktMC45NzgtNS42MjINCglDMjQuMDIyLDguMjg2LDIzLjU3Myw3Ljk0NSwyMy4wNDgsNy42Njd6Ii8+DQo8cGF0aCBmaWxsPSIjMjIyRDY1IiBkPSJNMjEuNzU0LDcuMTUxYy0wLjE4OS0wLjA1NS0wLjM4NC0wLjEwNS0wLjU4NC0wLjE1Yy0wLjIwMS0wLjA0NC0wLjQwNy0wLjA4My0wLjYxOS0wLjExNw0KCWMtMC43NDItMC4xMi0xLjU1NS0wLjE3Ny0yLjQyNi0wLjE3N2gtNy4zNTJjLTAuMTgxLDAtMC4zNTMsMC4wNDEtMC41MDcsMC4xMTVDOS45MjcsNi45ODUsOS42NzUsNy4zMDYsOS42MTQsNy42OTlMOC4wNSwxNy42MDUNCglsLTAuMDQ1LDAuMjg5YzAuMTAzLTAuNjUyLDAuNjYtMS4xMzIsMS4zMjEtMS4xMzJoMi43NTJjNS40MDUsMCw5LjYzNy0yLjE5NSwxMC44NzQtOC41NDVjMC4wMzctMC4xODgsMC4wNjgtMC4zNzEsMC4wOTYtMC41NQ0KCWMtMC4zMTMtMC4xNjYtMC42NTItMC4zMDgtMS4wMTctMC40MjlDMjEuOTQxLDcuMjA4LDIxLjg0OCw3LjE3OSwyMS43NTQsNy4xNTF6Ii8+DQo8cGF0aCBmaWxsPSIjMjUzQjgwIiBkPSJNOS42MTQsNy42OTljMC4wNjEtMC4zOTMsMC4zMTMtMC43MTQsMC42NTItMC44NzZjMC4xNTUtMC4wNzQsMC4zMjYtMC4xMTUsMC41MDctMC4xMTVoNy4zNTINCgljMC44NzEsMCwxLjY4NCwwLjA1NywyLjQyNiwwLjE3N2MwLjIxMiwwLjAzNCwwLjQxOCwwLjA3MywwLjYxOSwwLjExN2MwLjIsMC4wNDUsMC4zOTUsMC4wOTUsMC41ODQsMC4xNQ0KCWMwLjA5NCwwLjAyOCwwLjE4NywwLjA1NywwLjI3OCwwLjA4NmMwLjM2NSwwLjEyMSwwLjcwNCwwLjI2NCwxLjAxNywwLjQyOWMwLjM2OC0yLjM0Ny0wLjAwMy0zLjk0NS0xLjI3Mi01LjM5Mg0KCUMyMC4zNzgsMC42ODIsMTcuODUzLDAsMTQuNjIyLDBoLTkuMzhjLTAuNjYsMC0xLjIyMywwLjQ4LTEuMzI1LDEuMTMzTDAuMDEsMjUuODk4Yy0wLjA3NywwLjQ5LDAuMzAxLDAuOTMyLDAuNzk1LDAuOTMyaDUuNzkxDQoJbDEuNDU0LTkuMjI1TDkuNjE0LDcuNjk5eiIvPg0KPC9zdmc+DQo=",n.alt="PayPal"}}};var qHt=et(require("obsidian"));var Kl;(function(c){c.Bar="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBCYXIKCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgZGF0YSAgICAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCmRhdGE6CiAgLSBhY3Rpb246ICJCcm93c2UgdGhlIHdlYnNpdGUiCiAgICBwdjogNTAwMDAKICAtIGFjdGlvbjogIkFkZCB0byBjYXJ0IgogICAgcHY6IDM1MDAwCiAgLSBhY3Rpb246ICJHZW5lcmF0ZSBvcmRlcnMiCiAgICBwdjogMjUwMDAKICAtIGFjdGlvbjogIlBheSBvcmRlciIKICAgIHB2OiAxNTAwMAogIC0gYWN0aW9uOiAiU2VhbCB0aGUgZGVhbCIKICAgIHB2OiA4NTAwCgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IG9wdGlvbnMgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpvcHRpb25zOgogIHhGaWVsZDogInB2IgogIHlGaWVsZDogImFjdGlvbiIKICBjb252ZXJzaW9uVGFnOiB7fQpgYGA=",c.Pie="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBQaWUKCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgZGF0YSAgICAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCmRhdGE6CiAgLSB0eXBlOiAiV2FnZSBpbmNvbWUgcGVyIGNhcGl0YSAowqUpIgogICAgdmFsdWU6IDE3OTE3CiAgLSB0eXBlOiAiT3BlcmF0aW5nIG5ldCBpbmNvbWUgcGVyIGNhcGl0YSAowqUpIgogICAgdmFsdWU6IDUzMDcKICAtIHR5cGU6ICJQcm9wZXJ0eSBQZXIgQ2FwaXRhIE5ldCBJbmNvbWUgKMKlKSIKICAgIHZhbHVlOiAyNzkxCiAgLSB0eXBlOiAiVHJhbnNmZXIgb2YgbmV0IGluY29tZSBwZXIgY2FwaXRhICjCpSkiCiAgICB2YWx1ZTogNjE3MwoKIy0tLS0tLS0tLS0tLS0tLS0tIwojLSBjaGFydCBvcHRpb25zIC0jCiMtLS0tLS0tLS0tLS0tLS0tLSMKb3B0aW9uczoKICBhbmdsZUZpZWxkOiAidmFsdWUiCiAgY29sb3JGaWVsZDogInR5cGUiCiAgcmFkaXVzOiAwLjUKICBsYWJlbDoKICAgIHR5cGU6ICJzcGlkZXIiCiAgICBjb250ZW50OiAie3BlcmNlbnRhZ2V9XG57bmFtZX0iCiAgbGVnZW5kOgogICAgbGF5b3V0OiAiaG9yaXpvbnRhbCIKICAgIHBvc2l0aW9uOiAiYm90dG9tIgpgYGA=",c.WordCloud="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBXb3JkQ2xvdWQKCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgZGF0YSAgICAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCmRhdGE6CiAgLSB4OiAiQ2hpbmEiCiAgICB2YWx1ZTogMjM4MzIyMDAwMAogICAgY2F0ZWdvcnk6ICJhc2lhIgogIC0geDogIkluZG9uZXNpYSIKICAgIHZhbHVlOiAyNjM1MTAwMDAKICAgIGNhdGVnb3J5OiAiYXNpYSIKICAtIHg6ICJQYWtpc3RhbiIKICAgIHZhbHVlOiAzOTY0NTkwMDAKICAgIGNhdGVnb3J5OiAiYXNpYSIKICAtIHg6ICJSdXNzaWEiCiAgICB2YWx1ZTogNTQ2ODA0MzcyCiAgICBjYXRlZ29yeTogImV1cm9wZSIKICAtIHg6ICJKYXBhbiIKICAgIHZhbHVlOiAxMjY3OTAwMDAKICAgIGNhdGVnb3J5OiAiYXNpYSIKICAtIHg6ICJWaWV0bmFtIgogICAgdmFsdWU6IDkyNzAwMDAwCiAgICBjYXRlZ29yeTogImFzaWEiCiAgLSB4OiAiR2VybWFueSIKICAgIHZhbHVlOiA4MjgwMDAwMAogICAgY2F0ZWdvcnk6ICJldXJvcGUiCiAgLSB4OiAiSXJhbiIKICAgIHZhbHVlOiA4MDEzNTQwMAogICAgY2F0ZWdvcnk6ICJhc2lhIgogIC0geDogIlRoYWlsYW5kIgogICAgdmFsdWU6IDY4Mjk4MDAwCiAgICBjYXRlZ29yeTogImFzaWEiCiAgLSB4OiAiRnJhbmNlIgogICAgdmFsdWU6IDY3MDEzMDAwCiAgICBjYXRlZ29yeTogImV1cm9wZSIKICAtIHg6ICJJdGFseSIKICAgIHZhbHVlOiA2MDU5OTkzNgogICAgY2F0ZWdvcnk6ICJldXJvcGUiCiAgLSB4OiAiU291dGggS29yZWEiCiAgICB2YWx1ZTogNTE0NDYyMDEKICAgIGNhdGVnb3J5OiAiYXNpYSIKICAtIHg6ICJLZW55YSIKICAgIHZhbHVlOiA0ODQ2NzAwMAogICAgY2F0ZWdvcnk6ICJhZnJpY2EiCiAgLSB4OiAiU3BhaW4iCiAgICB2YWx1ZTogNDY4MTIwMDAKICAgIGNhdGVnb3J5OiAiZXVyb3BlIgogIC0geDogIlN1ZGFuIgogICAgdmFsdWU6IDQyMTc2MDAwCiAgICBjYXRlZ29yeTogImFmcmljYSIKICAtIHg6ICJJcmFxIgogICAgdmFsdWU6IDQ3ODgzNTQzCiAgICBjYXRlZ29yeTogImFzaWEiCiAgLSB4OiAiTmVwYWwiCiAgICB2YWx1ZTogMjg4MjU3MDkKICAgIGNhdGVnb3J5OiAiYXNpYSIKICAtIHg6ICJOb3J0aCBLb3JlYSIKICAgIHZhbHVlOiAyNDIxMzUxMAogICAgY2F0ZWdvcnk6ICJhc2lhIgogIC0geDogIkNoaWxlIgogICAgdmFsdWU6IDI4MTkxOTAwCiAgICBjYXRlZ29yeTogImFtZXJpY2EiCgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IG9wdGlvbnMgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpvcHRpb25zOgogIHdvcmRGaWVsZDogIngiCiAgd2VpZ2h0RmllbGQ6ICJ2YWx1ZSIKICBjb2xvcjogIiMxMjJjNmEiCiAgd29yZFN0eWxlOgogICAgZm9udEZhbWlseTogIlZlcmRhbmEiCiAgICBmb250U2l6ZTogWzI0LCA4MF0KICBpbnRlcmFjdGlvbnM6CiAgICB0eXBlOiAiZWxlbWVudC1hY3RpdmUiCiAgc3R5bGU6CiAgICBiYWNrZ3JvdW5kQ29sb3I6ICJ3aGl0ZSIKICBzdGF0ZToKICAgIGFjdGl2ZToKICAgICAgc3R5bGU6CiAgICAgICAgbGluZVdpZHRoOiAzCmBgYA==",c.WordCount="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBXb3JkQ2xvdWQKCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgZGF0YSAgICAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCmRhdGE6ICJ3b3JkY291bnQ6bm90ZS1uYW1lLWhlcmUtd2l0aG91dC1mb2xkLXBhdGgiCgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IG9wdGlvbnMgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpvcHRpb25zOgogIHdvcmRGaWVsZDogIndvcmQiCiAgd2VpZ2h0RmllbGQ6ICJjb3VudCIKICBjb2xvckZpZWxkOiAiY291bnQiCiAgd29yZFN0eWxlOgogICAgcm90YXRpb246IDMwCmBgYA==",c.Treemap="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBUcmVlbWFwCgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IGRhdGEgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpkYXRhOgogIG5hbWU6ICdyb290JwogIGNoaWxkcmVuOgogICAgLSBuYW1lOiAnRm9sZGVyIDEnCiAgICAgIHZhbHVlOiA1NjAKICAgIC0gbmFtZTogJ0ZvbGRlciAyJwogICAgICB2YWx1ZTogNTAwCiAgICAtIG5hbWU6ICdGb2xkZXIgMycKICAgICAgdmFsdWU6IDE1MAogICAgLSBuYW1lOiAnRm9sZGVyIDQnCiAgICAgIHZhbHVlOiAxNDAKICAgIC0gbmFtZTogJ0ZvbGRlciA1JwogICAgICB2YWx1ZTogMTE1CiAgICAtIG5hbWU6ICdGb2xkZXIgNicKICAgICAgdmFsdWU6IDk1CiAgICAtIG5hbWU6ICdGb2xkZXIgNycKICAgICAgdmFsdWU6IDkwCiAgICAtIG5hbWU6ICdGb2xkZXIgOCcKICAgICAgdmFsdWU6IDc1CiAgICAtIG5hbWU6ICdGb2xkZXIgOScKICAgICAgdmFsdWU6IDk4CiAgICAtIG5hbWU6ICdGb2xkZXIgMTAnCiAgICAgIHZhbHVlOiA2MAogICAgLSBuYW1lOiAnRm9sZGVyIDExJwogICAgICB2YWx1ZTogNDUKICAgIC0gbmFtZTogJ0ZvbGRlciAxMicKICAgICAgdmFsdWU6IDQwCiAgICAtIG5hbWU6ICdGb2xkZXIgMTMnCiAgICAgIHZhbHVlOiA0MAogICAgLSBuYW1lOiAnRm9sZGVyIDE0JwogICAgICB2YWx1ZTogMzUKICAgIC0gbmFtZTogJ0ZvbGRlciAxNScKICAgICAgdmFsdWU6IDQwCiAgICAtIG5hbWU6ICdGb2xkZXIgMTYnCiAgICAgIHZhbHVlOiA0MAogICAgLSBuYW1lOiAnRm9sZGVyIDE3JwogICAgICB2YWx1ZTogNDAKICAgIC0gbmFtZTogJ0ZvbGRlciAxOCcKICAgICAgdmFsdWU6IDMwCiAgICAtIG5hbWU6ICdGb2xkZXIgMTknCiAgICAgIHZhbHVlOiAyOAogICAgLSBuYW1lOiAnRm9sZGVyIDIwJwogICAgICB2YWx1ZTogMTYKCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgb3B0aW9ucyAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCm9wdGlvbnM6CiAgY29sb3JGaWVsZDogIm5hbWUiCmBgYAo=",c.DualAxes="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBEdWFsQXhlcwoKIy0tLS0tLS0tLS0tLS0tLS0tIwojLSBjaGFydCBkYXRhICAgIC0jCiMtLS0tLS0tLS0tLS0tLS0tLSMKZGF0YToKICAtCiAgICAtIHRpbWU6ICIyMDE5LTAzIgogICAgICB2YWx1ZTogMzUwCiAgICAgIGNvdW50OiA4MDAKICAgIC0gdGltZTogIjIwMTktMDQiCiAgICAgIHZhbHVlOiA5MDAKICAgICAgY291bnQ6IDYwMAogICAgLSB0aW1lOiAiMjAxOS0wNSIKICAgICAgdmFsdWU6IDMwMAogICAgICBjb3VudDogNDAwCiAgICAtIHRpbWU6ICIyMDE5LTA2IgogICAgICB2YWx1ZTogNDUwCiAgICAgIGNvdW50OiAzODAKICAgIC0gdGltZTogIjIwMTktMDciCiAgICAgIHZhbHVlOiA0NzAKICAgICAgY291bnQ6IDIyCiAgLQogICAgLSB0aW1lOiAiMjAxOS0wMyIKICAgICAgdmFsdWU6IDM1MAogICAgICBjb3VudDogODAwCiAgICAtIHRpbWU6ICIyMDE5LTA0IgogICAgICB2YWx1ZTogOTAwCiAgICAgIGNvdW50OiA2MDAKICAgIC0gdGltZTogIjIwMTktMDUiCiAgICAgIHZhbHVlOiAzMDAKICAgICAgY291bnQ6IDQwMAogICAgLSB0aW1lOiAiMjAxOS0wNiIKICAgICAgdmFsdWU6IDQ1MAogICAgICBjb3VudDogMzgwCiAgICAtIHRpbWU6ICIyMDE5LTA3IgogICAgICB2YWx1ZTogNDcwCiAgICAgIGNvdW50OiAyMgoKIy0tLS0tLS0tLS0tLS0tLS0tIwojLSBjaGFydCBvcHRpb25zIC0jCiMtLS0tLS0tLS0tLS0tLS0tLSMKb3B0aW9uczoKICB4RmllbGQ6ICd0aW1lJwogIHlGaWVsZDogWyd2YWx1ZScsICdjb3VudCddCiAgeUF4aXM6CiAgICB2YWx1ZToKICAgICAgbWluOiAwCiAgICAgIGxhYmVsOgogICAgICAgIGZvcm1hdHRlcjoKICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdHRlcih2YWwpIHsKICAgICAgICAgICAgcmV0dXJuICcnLmNvbmNhdCh2YWwsICfkuKonKTsKICAgICAgICAgIH0KICBnZW9tZXRyeU9wdGlvbnM6CiAgICAtIGdlb21ldHJ5OiAnY29sdW1uJwogICAgLSBnZW9tZXRyeTogJ2xpbmUnCiAgICAgIGxpbmVTdHlsZToKICAgICAgICBsaW5lV2lkdGg6IDIKYGBg",c.Mix="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBNaXgKCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgZGF0YSAgICAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCmRhdGEuYXJlYToKICAtIHRpbWU6IDEyNDY0MDY0MDAwMDAKICAgIHRlbXBlcmF0dXJlOiBbMTQuMywgMjcuN10KICAtIHRpbWU6IDEyNDY0OTI4MDAwMDAKICAgIHRlbXBlcmF0dXJlOiBbMTQuNSwgMjcuOF0KICAtIHRpbWU6IDEyNDY1NzkyMDAwMDAKICAgIHRlbXBlcmF0dXJlOiBbMTUuNSwgMjkuNl0KICAtIHRpbWU6IDEyNDY2NjU2MDAwMDAKICAgIHRlbXBlcmF0dXJlOiBbMTYuNywgMzAuN10KICAtIHRpbWU6IDEyNDY3NTIwMDAwMDAKICAgIHRlbXBlcmF0dXJlOiBbMTYuNSwgMjUuMF0KICAtIHRpbWU6IDEyNDY4Mzg0MDAwMDAKICAgIHRlbXBlcmF0dXJlOiBbMTcuOCwgMjUuN10KCmRhdGEubGluZToKICAtIHRpbWU6IDEyNDY0MDY0MDAwMDAKICAgIHRlbXBlcmF0dXJlOiAyMS41CiAgLSB0aW1lOiAxMjQ2NDkyODAwMDAwCiAgICB0ZW1wZXJhdHVyZTogMjIuMQogIC0gdGltZTogMTI0NjU3OTIwMDAwMAogICAgdGVtcGVyYXR1cmU6IDIzCiAgLSB0aW1lOiAxMjQ2NjY1NjAwMDAwCiAgICB0ZW1wZXJhdHVyZTogMjMuOAogIC0gdGltZTogMTI0Njc1MjAwMDAwMAogICAgdGVtcGVyYXR1cmU6IDIxLjQKICAtIHRpbWU6IDEyNDY4Mzg0MDAwMDAKICAgIHRlbXBlcmF0dXJlOiAyMS4zCgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IG9wdGlvbnMgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpvcHRpb25zOgogIGFwcGVuZFBhZGRpbmc6IDgKICBzeW5jVmlld1BhZGRpbmc6IHRydWUKICB0b29sdGlwOgogICAgc2hhcmVkOiB0cnVlCiAgICBzaG93TWFya2VyczogZmFsc2UKICAgIHNob3dDcm9zc2hhaXJzOiB0cnVlCiAgICBvZmZzZXRZOiAtNTAKCm9wdGlvbnMuYXJlYToKICBheGVzOiB7fQogIG1ldGE6CiAgICB0aW1lOgogICAgICB0eXBlOiAndGltZScKICAgICAgbWFzazogJ01NLUREJwogICAgICBuaWNlOiB0cnVlCiAgICAgIHRpY2tJbnRlcnZhbDogMTcyODAwMDAwCiAgICAgIHJhbmdlOiBbMCwgMV0KICAgIHRlbXBlcmF0dXJlOgogICAgICBuaWNlOiB0cnVlCiAgICAgIHN5bmM6IHRydWUKICAgICAgYWxpYXM6ICfmuKnluqbojIPlm7QnCiAgZ2VvbWV0cmllczoKICAgIC0gdHlwZTogJ2FyZWEnCiAgICAgIHhGaWVsZDogJ3RpbWUnCiAgICAgIHlGaWVsZDogJ3RlbXBlcmF0dXJlJwogICAgICBtYXBwaW5nOiB7fQoKb3B0aW9ucy5saW5lOgogIGF4ZXM6IGZhbHNlCiAgbWV0YToKICAgIHRpbWU6CiAgICAgIHR5cGU6ICd0aW1lJwogICAgICBtYXNrOiAnTU0tREQnCiAgICAgIG5pY2U6IHRydWUKICAgICAgdGlja0ludGVydmFsOiAxNzI4MDAwMDAKICAgICAgcmFuZ2U6IFswLCAxXQogICAgdGVtcGVyYXR1cmU6CiAgICAgIHN5bmM6ICd0ZW1wZXJhdHVyZScKICAgICAgYWxpYXM6ICfmuKnluqYnCiAgZ2VvbWV0cmllczoKICAgIC0gdHlwZTogJ2xpbmUnCiAgICAgIHhGaWVsZDogJ3RpbWUnCiAgICAgIHlGaWVsZDogJ3RlbXBlcmF0dXJlJwogICAgICBtYXBwaW5nOiB7fQogICAgLSB0eXBlOiAncG9pbnQnCiAgICAgIHhGaWVsZDogJ3RpbWUnCiAgICAgIHlGaWVsZDogJ3RlbXBlcmF0dXJlJwogICAgICBtYXBwaW5nOgogICAgICAgIHNoYXBlOiAnY2lyY2xlJwogICAgICAgIHN0eWxlOgogICAgICAgICAgZmlsbE9wYWNpdHk6IDEKYGBg",c.OrganizationTreeGraph="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBPcmdhbml6YXRpb25UcmVlR3JhcGgKCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgZGF0YSAgICAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCmRhdGE6CiAgaWQ6ICJyb290IgogIGxhYmVsOiAiUm9vdCIKICBjaGlsZHJlbjoKICAgIC0gaWQ6ICJjMSIKICAgICAgbGFiZWw6ICJDMSIKICAgICAgY2hpbGRyZW46CiAgICAgICAgLSBpZDogImMxLTEiCiAgICAgICAgICBsYWJlbDogIkMxLTEiCiAgICAgICAgICBjaGlsZHJlbjoKICAgICAgICAgICAgLSBpZDogImMxLTEtMSIKICAgICAgICAgICAgICBsYWJlbDogIkMxLTEtMSIKICAgICAgICAgICAgLSBpZDogImMxLTEtMiIKICAgICAgICAgICAgICBsYWJlbDogIkMxLTEtMiIKICAgICAgICAtIGlkOiAiYzEtMiIKICAgICAgICAgIGxhYmVsOiAiQzEtMiIKICAgICAgICAgIGNoaWxkcmVuOgogICAgICAgICAgICAtIGlkOiAiYzEtMi0xIgogICAgICAgICAgICAgIGxhYmVsOiAiQzEtMi0xIgogICAgICAgICAgICAtIGlkOiAiYzEtMi0yIgogICAgICAgICAgICAgIGxhYmVsOiAiQzEtMi0yIgogICAgLSBpZDogImMyIgogICAgICBsYWJlbDogIkMyIgogICAgICBjaGlsZHJlbjoKICAgICAgICAtIGlkOiAiYzItMSIKICAgICAgICAgIGxhYmVsOiAiQzItMSIKICAgICAgICAgIGNoaWxkcmVuOgogICAgICAgICAgICAtIGlkOiAiYzItMS0xIgogICAgICAgICAgICAgIGxhYmVsOiAiQzItMS0xIgoKIy0tLS0tLS0tLS0tLS0tLS0tIwojLSBjaGFydCBvcHRpb25zIC0jCiMtLS0tLS0tLS0tLS0tLS0tLSMKb3B0aW9uczoge30KYGBg",c.Radar="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBSYWRhcgoKIy0tLS0tLS0tLS0tLS0tLS0tIwojLSBjaGFydCBkYXRhICAgIC0jCiMtLS0tLS0tLS0tLS0tLS0tLSMKZGF0YToKICAtIGl0ZW06ICJEZXNpZ24iCiAgICB1c2VyOiAiYSIKICAgIHNjb3JlOiA3MAogIC0gaXRlbTogIkRlc2lnbiIKICAgIHVzZXI6ICJiIgogICAgc2NvcmU6IDMwCiAgLSBpdGVtOiAiTWFya2V0aW5nIgogICAgdXNlcjogImEiCiAgICBzY29yZTogNTAKICAtIGl0ZW06ICJNYXJrZXRpbmciCiAgICB1c2VyOiAiYiIKICAgIHNjb3JlOiA2MAogIC0gaXRlbTogIlRlY2hub2xvZ3kiCiAgICB1c2VyOiAiYSIKICAgIHNjb3JlOiA1MAogIC0gaXRlbTogIlRlY2hub2xvZ3kiCiAgICB1c2VyOiAiYiIKICAgIHNjb3JlOiA0MAogIC0gaXRlbTogIlN1cHBvcnQiCiAgICB1c2VyOiAiYSIKICAgIHNjb3JlOiAzMAogIC0gaXRlbTogIlN1cHBvcnQiCiAgICB1c2VyOiAiYiIKICAgIHNjb3JlOiA0MAogIC0gaXRlbTogIlNhbGVzIgogICAgdXNlcjogImEiCiAgICBzY29yZTogNjAKICAtIGl0ZW06ICJTYWxlcyIKICAgIHVzZXI6ICJiIgogICAgc2NvcmU6IDQwCgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IG9wdGlvbnMgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpvcHRpb25zOgogIHhGaWVsZDogIml0ZW0iCiAgeUZpZWxkOiAic2NvcmUiCiAgc2VyaWVzRmllbGQ6ICJ1c2VyIgogIG1ldGE6CiAgICBzY29yZToKICAgICAgYWxpYXM6ICJTY29yZSIKICAgICAgbWluOiAwCiAgICAgIG5pY2U6IHRydWUKICB4QXhpczoKICAgIGxpbmU6IG51bGwKICAgIHRpY2tMaW5lOiBudWxsCiAgeUF4aXM6CiAgICBsYWJlbDogZmFsc2UKICAgIGdyaWQ6CiAgICAgIGFsdGVybmF0ZUNvbG9yOiAicmdiYSgwLCAwLCAwLCAwLjA0KSIKICBwb2ludDoge30KICBhcmVhOiB7fQpgYGA=",c.TinyLine="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBUaW55TGluZQoKIy0tLS0tLS0tLS0tLS0tLS0tIwojLSBjaGFydCBkYXRhICAgIC0jCiMtLS0tLS0tLS0tLS0tLS0tLSMKZGF0YTogWzI2NCwgNDE3LCA0MzgsIDg4NywgMzA5LCAzOTcsIDU1MCwgNTc1LCA1NjMsIDQzMCwgNTI1LCA1OTIsIDQ5MiwgNDY3LCA1MTMsIDU0NiwgOTgzLCAzNDAsIDUzOSwgMjQzLCAyMjYsIDE5Ml0KCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgb3B0aW9ucyAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCm9wdGlvbnM6CiAgaGVpZ2h0OiA2MAogIGF1dG9GaXQ6IGZhbHNlCiAgc21vb3RoOiB0cnVlCiAgdG9vbHRpcDogZmFsc2UKICBhbm5vdGF0aW9uczoKICAgIC0gdHlwZTogImxpbmUiCiAgICAgIHN0YXJ0OiBbIm1pbiIsICJtZWFuIl0KICAgICAgZW5kOiBbIm1heCIsICJtZWFuIl0KICAgICAgc3R5bGU6CiAgICAgICAgc3Ryb2tlOiAicmdiYSgwLCAwLCAwLCAwLjQ1KSIKICAgICAgdGV4dDoKICAgICAgICBjb250ZW50OiAiQXZlcmFnZSIKICAgICAgICBvZmZzZXRZOiAtMgogICAgICAgIHN0eWxlOgogICAgICAgICAgdGV4dEFsaWduOiAibGVmdCIKICAgICAgICAgIGZvbnRTaXplOiAxMAogICAgICAgICAgZmlsbDogInJnYmEoNDQsIDUzLCA2NiwgMC40NSkiCiAgICAgICAgICB0ZXh0QmFzZWxpbmU6ICJib3R0b20iCiAgICAtIHR5cGU6ICJsaW5lIgogICAgICBzdGFydDogWyJtaW4iLCA4MDBdCiAgICAgIGVuZDogWyJtYXgiLCA4MDBdCiAgICAgIHN0eWxlOgogICAgICAgIHN0cm9rZTogInJnYmEoMjAwLCAwLCAwLCAwLjU1KSIKICAgICAgdGV4dDoKICAgICAgICBjb250ZW50OiAiVGFyZ2V0IgogICAgICAgIG9mZnNldFk6IC0yCiAgICAgICAgc3R5bGU6CiAgICAgICAgICB0ZXh0QWxpZ246ICJsZWZ0IgogICAgICAgICAgZm9udFNpemU6IDEwCiAgICAgICAgICBmaWxsOiAicmdiYSg0NCwgNTMsIDY2LCAwLjQ1KSIKICAgICAgICAgIHRleHRCYXNlbGluZTogImJvdHRvbSIKYGBg",c.Scatter="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBTY2F0dGVyCgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IGRhdGEgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpkYXRhOgogIC0gbGFiZWw6ICIxOTUxIgogICAgdmFsdWU6IDM4CiAgLSBsYWJlbDogIjE5NTIiCiAgICB2YWx1ZTogNTIKICAtIGxhYmVsOiAiMTk1NiIKICAgIHZhbHVlOiA2MQogIC0gbGFiZWw6ICIxOTU3IgogICAgdmFsdWU6IDE0NQogIC0gbGFiZWw6ICIxOTU4IgogICAgdmFsdWU6IDQ4CgojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IG9wdGlvbnMgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwpvcHRpb25zOgogIHhGaWVsZDogbGFiZWwKICB5RmllbGQ6IHZhbHVlCiAgY29sb3JGaWVsZDogbGFiZWwKICBzaGFwZTogY2lyY2xlCmBgYA==",c["Dataviewjs Example (Column)"]="YGBgY2hhcnRzdmlldwojLS0tLS0tLS0tLS0tLS0tLS0jCiMtIGNoYXJ0IHR5cGUgICAgLSMKIy0tLS0tLS0tLS0tLS0tLS0tIwp0eXBlOiBDb2x1bW4KCiMtLS0tLS0tLS0tLS0tLS0tLSMKIy0gY2hhcnQgZGF0YSAgICAtIwojLS0tLS0tLS0tLS0tLS0tLS0jCmRhdGE6IHwKICBkYXRhdmlld2pzOgogIHJldHVybiBkdi5wYWdlcygpCiAgICAgICAgICAgLmdyb3VwQnkocCA9PiBwLmZpbGUuZm9sZGVyKQogICAgICAgICAgIC5tYXAocCA9PiAoe2ZvbGRlcjogcC5rZXkgfHwgIlJPT1QiLCBjb3VudDogcC5yb3dzLmxlbmd0aH0pKQogICAgICAgICAgIC5hcnJheSgpOwoKIy0tLS0tLS0tLS0tLS0tLS0tIwojLSBjaGFydCBvcHRpb25zIC0jCiMtLS0tLS0tLS0tLS0tLS0tLSMKb3B0aW9uczoKICB4RmllbGQ6ICJmb2xkZXIiCiAgeUZpZWxkOiAiY291bnQiCiAgcGFkZGluZzogYXV0bwogIGxhYmVsOgogICAgcG9zaXRpb246ICJtaWRkbGUiCiAgICBzdHlsZToKICAgICAgb3BhY2l0eTogMC42CiAgICAgIGZvbnRTaXplOiAxMgogIGNvbHVtblN0eWxlOgogICAgZmlsbE9wYWNpdHk6IDAuNQogICAgbGluZVdpZHRoOiAxCiAgICBzdHJva2VPcGFjaXR5OiAwLjcKICAgIHNoYWRvd0NvbG9yOiAiZ3JleSIKICAgIHNoYWRvd0JsdXI6IDEwCiAgICBzaGFkb3dPZmZzZXRYOiA1CiAgICBzaGFkb3dPZmZzZXRZOiA1CiAgeEF4aXM6CiAgICBsYWJlbDoKICAgICAgYXV0b0hpZGU6IGZhbHNlCiAgICAgIGF1dG9Sb3RhdGU6IHRydWUKICBtZXRhOgogICAgY291bnQ6CiAgICAgIGFsaWFzOiAiQ291bnQiCmBgYA=="})(Kl||(Kl={}));var VHt={[Kl.Bar]:"https://user-images.githubusercontent.com/150803/123117024-fa43b180-d473-11eb-84eb-8e1806ce5dec.png",[Kl.Pie]:"https://user-images.githubusercontent.com/150803/119069882-87c95700-ba19-11eb-8cef-02d1e021d1a2.png",[Kl.WordCloud]:"https://user-images.githubusercontent.com/150803/119069991-bba47c80-ba19-11eb-873f-847563daea39.png",[Kl.WordCount]:"https://user-images.githubusercontent.com/150803/136478725-be28a56b-0075-4f0a-a719-f61b30e83b6a.png",[Kl.Treemap]:"https://user-images.githubusercontent.com/150803/119070047-decf2c00-ba19-11eb-9d59-21c051da593c.png",[Kl.DualAxes]:"https://user-images.githubusercontent.com/150803/119969638-618b5480-bfe1-11eb-8a36-0a5d60408b00.png",[Kl.Mix]:"https://user-images.githubusercontent.com/150803/120421841-a1638a80-c399-11eb-9464-d773931fdd6f.png",[Kl.OrganizationTreeGraph]:"https://user-images.githubusercontent.com/150803/123117254-2b23e680-d474-11eb-845f-0d663a458fa7.png",[Kl.Radar]:"https://user-images.githubusercontent.com/150803/123117394-4a227880-d474-11eb-8a11-23f3cd482251.png",[Kl.TinyLine]:"https://user-images.githubusercontent.com/150803/123117476-5a3a5800-d474-11eb-9db8-4b3785bb010c.png",[Kl.Scatter]:"https://user-images.githubusercontent.com/150803/237452588-8ce11128-b911-4fa4-b9e0-3f5e07543d67.png",[Kl["Dataviewjs Example (Column)"]]:"https://user-images.githubusercontent.com/150803/140684190-fa6a08ea-3394-44fe-ae92-265810f6b9a9.png"};var HHt=et(require("buffer")),qft=class extends qHt.FuzzySuggestModal{constructor(e,t){super(e);this.editor=t}getItems(){return Object.entries(Kl)}getItemText(e){return e[0]}renderSuggestion(e,t){let i=createDiv({cls:"chartsview-thumbnail"}),n=Kl[e.item[0]],a=createEl("img",{attr:{src:VHt[n]}});i.appendChild(a),t.appendChild(i),t.addClass("chartsview-thumbnail-container"),super.renderSuggestion(e,t)}onChooseItem(e){LL(this.editor,HHt.Buffer.from(e[1],"base64").toString("utf8"))}};var Xd=et(require("obsidian"));var OL={labelsFieldKey:"xField",valuesFieldKey:"yField",seriesFieldKey:"seriesField",labels:{field:"label",value:["1951","1952","1956","1957","1958"]},values:[{field:"value",value:["38","52","61","145","48"]}],series:{field:"serie"}},Hft=80,Uft=14,por="Area",gor={"1":"1","2":"2","3":"3","4":"4","5":"5","6":"6"},mor={Area:"Area",Bar:"Bar",Box:"Box",Chord:"Chord",Column:"Column",Funnel:"Funnel",Heatmap:"Heatmap",Histogram:"Histogram",Line:"Line",Pie:"Pie",Radar:"Radar",RadialBar:"RadialBar",Rose:"Rose",Sankey:"Sankey",Stock:"Stock",Violin:"Violin",Waterfall:"Waterfall",WordCloud:"WordCloud",Scatter:"Scatter"},kL={Bar:{labelsFieldKey:"yField",valuesFieldKey:"xField",seriesFieldKey:"seriesField"},Chord:{labelsFieldKey:"sourceField",valuesFieldKey:"weightField",seriesFieldKey:"targetField"},Sankey:{labelsFieldKey:"sourceField",valuesFieldKey:"weightField",seriesFieldKey:"targetField"},Heatmap:{labelsFieldKey:"xField",valuesFieldKey:"colorField",seriesFieldKey:""},Histogram:{labelsFieldKey:"xField",valuesFieldKey:"binField",seriesFieldKey:""},WordCloud:{labelsFieldKey:"wordField",valuesFieldKey:"weightField",seriesFieldKey:""},Pie:{labelsFieldKey:"colorField",valuesFieldKey:"angleField",seriesFieldKey:""}},Xft=class extends Xd.Modal{constructor(e,t,i){super(e);this.editor=t;this.settings=i}onOpen(){var e,t,i;this.modalEl.style.width="860px",this.titleEl.createEl("h2",{text:"Chart Wizard"}),this.chartSetting={type:por,config:{}},this.dataLabels=((e=kL[this.chartSetting.type])!=null?e:OL).labels,this.dataValues=((t=kL[this.chartSetting.type])!=null?t:OL).values,this.dataSeries=((i=kL[this.chartSetting.type])!=null?i:OL).series,this.valueNumber=1,this.displayContent(),this.addConfirmButton()}displayContent(){this.contentEl.empty(),this.createSetting(),this.chartEl=this.contentEl.createDiv(),this.renderChart()}createSetting(){new Xd.Setting(this.contentEl).setName("Chart Type").addDropdown(e=>e.addOptions(mor).setValue(this.chartSetting.type).onChange(t=>{this.chartSetting.type=t,this.renderChart()})),new Xd.Setting(this.contentEl).setName("Value Number").addDropdown(e=>e.addOptions(gor).setValue(`${this.valueNumber}`).onChange(t=>{this.valueNumber=+t,this.displayContent()}));for(let e=0;e<this.valueNumber;e++)new Xd.Setting(this.contentEl).setName(e===0?"Values":"").addText(t=>{var i,n;t.inputEl.size=Uft,t.setPlaceholder("Input field name").setValue((n=(i=this.dataValues[e])==null?void 0:i.field)!=null?n:void 0).onChange(a=>{this.dataValues[e]===void 0&&(this.dataValues[e]={}),this.dataValues[e].field=a,this.renderChart()})}).addText(t=>{var i,n;t.inputEl.size=Hft,t.setPlaceholder("value1, value2, value3, ...").setValue(((i=this.dataValues[e])==null?void 0:i.value)&&((n=this.dataValues[e])==null?void 0:n.value.join(","))).onChange(a=>{this.dataValues[e]===void 0&&(this.dataValues[e]={}),this.dataValues[e].value=a.length===0?void 0:a.split(","),this.renderChart()})});new Xd.Setting(this.contentEl).setName("Labels").addText(e=>{e.inputEl.size=Uft,e.setPlaceholder("Input field name").setValue(this.dataLabels.field).onChange(t=>{this.dataLabels.field=t,this.renderChart()})}).addText(e=>{e.inputEl.size=Hft,e.setPlaceholder("value1, value2, value3, ...").setValue(this.dataLabels.value&&this.dataLabels.value.join(",")).onChange(t=>{this.dataLabels.value=t.length===0?void 0:t.split(","),this.renderChart()})}),new Xd.Setting(this.contentEl).setName("Series").addText(e=>{e.inputEl.size=Uft,e.setPlaceholder("Input field name").setValue(this.dataSeries.field).onChange(t=>{this.dataSeries.field=t,this.renderChart()})}).addText(e=>{e.inputEl.size=Hft,e.setPlaceholder("value1, value2, value3, ...").setValue(this.dataSeries.value&&this.dataSeries.value.join(",")).onChange(t=>{this.dataSeries.value=t.length===0?void 0:t.split(","),this.renderChart()})})}renderChart(){var e,t,i,n,a,o,s;this.dataSeries.field=(e=this.dataSeries.field)!=null?e:"serie",this.dataLabels.field=(t=this.dataLabels.field)!=null?t:"label",this.dataValues[0].field=(i=this.dataValues[0].field)!=null?i:"value",this.chartSetting.config={},this.isNotEmpty(this.dataSeries.value)&&(this.chartSetting.config[((n=kL[this.chartSetting.type])!=null?n:OL).seriesFieldKey]=this.dataSeries.field),this.isNotEmpty(this.dataLabels.value)&&(this.chartSetting.config[((a=kL[this.chartSetting.type])!=null?a:OL).labelsFieldKey]=this.dataLabels.field),this.isNotEmpty(this.dataValues)&&(this.chartSetting.config[((o=kL[this.chartSetting.type])!=null?o:OL).valuesFieldKey]=this.valueNumber===1?this.dataValues[0].field:this.dataValues.map(l=>l.field)),this.chartSetting.config.data=((s=this.dataLabels.value)!=null?s:[]).map((l,u)=>{var h,d;let f={};f[this.dataLabels.field]=l;for(let v=0;v<this.valueNumber;v++){let p=((h=this.dataValues[v].value)!=null?h:[])[u];p!==void 0&&(f[this.dataValues[v].field]=isNaN(Number(p))?p:Number(p))}let c=((d=this.dataSeries.value)!=null?d:[])[u];return c!==void 0&&(f[this.dataSeries.field]=c),f});try{this.chartEl.empty(),OO(Mt.createElement(EV,Pf({},this.chartSetting)),this.chartEl)}catch(l){OO(Mt.createElement("div",{style:{color:"var(--text-title-h1)"}},l.toString()),this.chartEl)}}addConfirmButton(){new Xd.Setting(this.modalEl).addButton(e=>e.setClass("mod-cta").setButtonText("Insert Yaml!").onClick(t=>{LL(this.editor,this.genYaml()),this.close()}))}genYaml(){let e=this.chartSetting.type,t={data:this.chartSetting.config.data},i={options:Pf({},this.chartSetting.config)};return delete i.options.data,`\`\`\`chartsview
#-----------------#
#- chart type    -#
#-----------------#
type: ${e}

#-----------------#
#- chart data    -#
#-----------------#
${(0,Xd.stringifyYaml)(t)}
#-----------------#
#- chart options -#
#-----------------#
${(0,Xd.stringifyYaml)(i)}\`\`\`
`}isNotEmpty(e){return e!==void 0&&e.length>0}onClose(){$B(this.chartEl),this.contentEl.empty()}};var UHt="csv",yor="csv",Zft=class extends kV.Plugin{async ChartsViewProcessor(e,t,i){Mt.unmountComponentAtNode(t);try{let n=await GHt(e,this,i.sourcePath);Mt.render(Mt.createElement(EV,Pf({},n)),t)}catch(n){Mt.render(Mt.createElement("div",{style:{color:"var(--text-title-h1)"}},n.toString()),t)}}async onload(){try{await this.loadSettings(),this.addSettingTab(new Vft(this.app,this)),this.registerMarkdownCodeBlockProcessor("chartsview",this.ChartsViewProcessor.bind(this)),this.addCommand({id:"insert-chartsview-template",name:"Insert Template",editorCallback:e=>{new qft(this.app,e).open()}}),this.addCommand({id:"chartsview-wizard",name:"Wizard",editorCallback:async e=>{new Xft(this.app,e,this.settings).open()}}),kV.Platform.isDesktopApp&&this.addCommand({id:"import-chartsview-data-csv",name:"Import data from external CSV file",editorCallback:async e=>{let i=await(await kct({accept:".csv",strict:!0})).text(),n=IV(i);LL(e,Nht.dump(n,{quotingType:'"',noRefs:!0}).replace(/\n/g,`
`+" ".repeat(e.getCursor().ch)))}})}catch(e){console.log(`Load error. ${e}`)}try{this.registerExtensions([UHt],yor)}catch(e){console.log(`Existing file extension ${UHt}`)}console.log("Loaded Charts View plugin")}onunload(){console.log("Unloading Charts View plugin")}async loadSettings(){this.settings=Object.assign(WHt,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}};
/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */

/* nosourcemap */